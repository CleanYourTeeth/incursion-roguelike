#line "main.irc" 1

#line "..\inc/Api.h" 33
system (-5) e == 1;
system 3 ETerm == 2;
system 7 EPlayer == 3;
system (-2) EActor == 4;
system (-1) ETarget == 5;
system (-2) EVictim == 6;
system (-4) EItem == 7;
system (-4) EItem2 == 8;
system 4 EMap == 9;
system 1 theGame == 10;
#line "..\inc/Api.h" 48
system string 2::Name(int32 fl=0);
system string 2::Describe(hObj:7);
#line "..\inc/Api.h" 55
system rID 4::dID;
system int32 4::Depth;

system int32 4::InBounds(int32 x,int32 y);
system int32 4::GlyphAt(int32 x, int32 y);
system int32 4::FlagsAt(int32 x, int32 y);
system int32 4::SolidAt(int32 x, int32 y);
system int32 4::TreeAt(int32 x, int32 y);
system int32 4::FallAt(int32 x, int32 y);
system int32 4::OpaqueAt(int32 x, int32 y);
system int32 4::LightAt(int32 x, int32 y);
system int32 4::BrightAt(int32 x, int32 y);
system rID 4::RegionAt(int32 x, int32 y);
system rID 4::TerrainAt(int32 x, int32 y);
system int32 4::SizeX();
system int32 4::SizeY();

system hObj 4::FirstAt(int32 x, int32 y);
system hObj 4::NextAt(int32 x, int32 y);
system int32 4::MultiAt(int32 x, int32 y);

system hObj 4::FCreatureAt(int32 x, int32 y);
system hObj 4::NCreatureAt(int32 x, int32 y);
system int32 4::MCreatureAt(int32 x, int32 y);

system hObj 4::FItemAt(int32 x, int32 y);
system hObj 4::NItemAt(int32 x, int32 y);
system int32 4::MItemAt(int32 x, int32 y);

system hObj 4::FFeatureAt(int32 x, int32 y);
system hObj 4::NFeatureAt(int32 x, int32 y);
system int32 4::MFeatureAt(int32 x, int32 y);

system hObj 4::FDoorAt(int32 x, int32 y);
system hObj 4::NDoorAt(int32 x, int32 y);
system int32 4::MDoorAt(int32 x, int32 y);

system hObj 4::FTrapAt(int32 x, int32 y);
system hObj 4::NTrapAt(int32 x, int32 y);
system int32 4::MTrapAt(int32 x, int32 y);

system hObj 4::FChestAt(int32 x, int32 y);
system hObj 4::NChestAt(int32 x, int32 y);
system int32 4::MChestAt(int32 x, int32 y);



system hObj 4::FirstThing();
system hObj 4::NextThing();

system void 4::WriteAt(Rect r,int32 x, int32 y, rID terID, rID regID, int32 Pri, int32 Force);
system void 4::WriteBox(Rect r, rID regID);
system void 4::WriteRoom(Rect r, rID regID);
system void 4::WriteCircle(Rect r, rID regID);
system void 4::WriteWalls(Rect r, rID regID);
system void 4::WriteLifeCave(Rect r, rID regID);
system void 4::WriteCastle(Rect r, rID regID);
system void 4::WriteRCavern(Rect r, rID regID);
system void 4::WriteOctagon(Rect r, rID regID);
system void 4::WriteDestroyed(Rect r, rID regID);
system void 4::WriteMaze(Rect r, rID regID);
system void 4::WriteCross(Rect r, rID regID);
system void 4::WriteMap(Rect r, rID mID);
system void 4::WriteBlobs(Rect r, rID regID, rID bID);
system void 4::Generate(rID dunID, int32 Depth, hObj:4 above, int32 Luck);
system void 4::DrawPanel(int32 x, int32 y);
system void 4::PopulatePanel(Rect r);
system int32 4::Tunnel(int32 sx, int32 sy, int32 dx, int32 dy, int32 TFlags,
int32 StartDir, int32 TType);
system void 4::MakeDoor(int32 x, int32 y, rID fID);
system int32 4::FindOpenAreas(Rect Area, int32 Flags=0);
system void 4::SetGlyphAt(int32 x, int32 y, int32 g);
system void 4::SetRegion(Rect r, rID regID);
system int32 4::GetOpenXY();

system int32 4::LineOfSight(int32 sx, int32 sy, int32 tx, int32 ty, hObj:(-2) c);
system void 4::Update(int32 x,int32 y);
system void 4::VUpdate(int32 x, int32 y);
system void 4::MarkAsSeen(int32 pn, int32 x, int32 y, int32 dist);

system void 4::NewField(int32 FType, int32 x, int32 y, int32 rad,
int32 img, int32 dur, rID eID, hObj:(-2) Creator);
system int32 4::FieldAt(int32 x,int32 y, int32 FType=-1);
system void 4::RemoveEffField(rID eID);
system void 4::RemoveFieldFrom(hObj h);
system void 4::RemoveEffFieldFrom(rID eID, hObj h);
system int32 4::DispelField(int32 x, int32 y, int32 FType, rID eID, int32 clev);

system void 4::SetQueue(int32 Queue);
system void 4::UnsetQueue(int32 Queue);
system void 4::PrintQueue(int32 Queue);
system int32 4::QueueNum();

system int32 4::GetTerraDC(int32 x,int32 y);
system hObj 4::GetTerraCreator(int32 x,int32 y);
system int32 4::GetTerraDType(int32 x, int32 y);
system int32 4::GetTerraDmg(int32 x,int32 y);
system void 4::RemoveTerra(int32 key);
system void 4::RemoveTerraXY(int32 x, int32 y,rID xID=0);
system void 4::WriteTerra(int32 x, int32 t,rID tID);
system void 4::MakeNoiseXY(int32 x, int32 y, int32 radius);

system void 4::GenEncounter(int32 fl, int32 CR, int32 Depth, int32 mon, int32 AType, rID xID,
int32 ex=-1, int32 ey=-1, hObj:(-2) creator=0);
system hObj 4::GetEncounterCreature(int32 i);

system int32 4::LineOfFire(int32 x, int32 y, int32 x2, int32 y2, hObj:(-2) cr);
#line "..\inc/Api.h" 169
system int32 (-1)::isType(int32 ty);
system int32 (-1)::isCreature();
system int32 (-1)::isDead();
system int32 (-1)::isPlayer();
system int32 (-1)::isMonster();
system int32 (-1)::isWeapon();
system int32 (-1)::isArmor();
system int32 (-1)::isFeature();
system int32 (-1)::isCharacter();
system int32 (-1)::Material();
system int32 (-1)::isMetallic();
system int32 (-1)::isWooden();
system int32 (-1)::isOrganic();
system int32 (-1)::isCorporeal();
#line "..\inc/Api.h" 189
system hObj (-1)::m;
system hObj (-1)::Next;
system int32 (-1)::x;
system int32 (-1)::y;
system int32 (-1)::Image;
system int32 (-1)::Timeout;
system int32 (-1)::Flags;
system string (-1)::Named;

system void (-1)::Initialize(int32 inplay = false);
system void (-1)::SetImage();
system void (-1)::IPrint(String msg,...);
system void (-1)::IDPrint(String msg1, String msg2,...);
system String (-1)::His();
system String (-1)::his();
system String (-1)::Him();
system String (-1)::him();
system String (-1)::He();
system String (-1)::he();
system int32 (-1)::isPlural();
system int32 (-1)::isShadowShape();
system void (-1)::MoveDepth(int32 NewDepth);
system void (-1)::PlaceNear(int32 x, int32 y);
system void (-1)::PlaceAt(hObj:4,int32 x,int32 y);
system void (-1)::PlaceOpen(hObj:4);
system void (-1)::Remove(int32);
system int32 (-1)::DirTo(hObj:(-1));
system int32 (-1)::DirToXY(int32 x,int32 y);
system int32 (-1)::DistFrom(hObj:(-1));
system int32 (-1)::DistFromPlayer();
system int32 (-1)::isIllusion();
system int32 (-1)::isRealTo(hObj:(-2));
system int32 (-1)::onPlane();

system int32 (-1)::inField(int32 FType = -1);
system void (-1)::GainPermStati(int32 n,hObj:(-1) h, int32 Cause, int32 Val=-1,int32 Mag=-1,rID eID=0, int32 clev=0);
system void (-1)::GainTempStati(int32 n,hObj:(-1) h, int32 Duration, int32 Cause, int32 Val=-1,int32 Mag=-1,rID eID=0, int32 clev=0);
system void (-1)::CopyStati(hObj:(-1) h, int32 n);
system void (-1)::RemoveStati(int32 n, int32 Cause=-1, int32 val=-1, int32 Mag=-1, hObj:(-1) h = 0);
system void (-1)::RemoveEffStati(rID xID);
system void (-1)::RemoveStatiFrom(hObj:(-1));
system void (-1)::RemoveStatiSource(int32 src);
system int32 (-1)::HighSourceCLev(int32 src);
system int32 (-1)::HasStatiFromSource(int32 src);
system int32 (-1)::HasStati(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::HasEffStati(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::HasEffField(rID eID);

system int32 (-1)::GetStatiVal(int32 n, hObj:(-1) t=0);
system int32 (-1)::GetStatiMag(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::GetStatiCause(int32 n, int32 val=-1, hObj:(-1) t=0);
system hObj (-1)::GetStatiObj(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::GetStatiDur(int32 n, int32 val=-1, hObj:(-1) t=0);
system rID (-1)::GetStatiEID(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::GetStatiCLev(int32 n,int32 val=-1, hObj:(-1) t=0);

system void (-1)::SetStatiVal(int32 n, hObj:(-1) t,int32 val);
system void (-1)::SetStatiMag(int32 n, int32 val, hObj:(-1) t,int32 Mag);
system void (-1)::SetStatiCause(int32 n, int32 val, hObj:(-1) t,int32 Cause);
system void (-1)::SetStatiObj(int32 n, int32 val, hObj:(-1) t);
system void (-1)::SetStatiDur(int32 n, int32 val, hObj:(-1) t, int32 Dur);
system void (-1)::SetStatiEID(int32 n, int32 val, hObj:(-1) t,rID eID);
system void (-1)::IncStatiMag(int32 n, int32 Cause,int32 Val, hObj:(-1) t, int32 Inc);


system int32 (-1)::GetEffStatiVal(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiMag(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiCause(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system hObj (-1)::GetEffStatiObj(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiDur(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiCLev(int32 n,rID xID, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::SetEffStatiVal(int32 n, rID xID,int32 val, hObj:(-1) t=0);
system void (-1)::SetEffStatiMag(int32 n, rID xID,int32 Mag, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::SetEffStatiCause(int32 n, rID xID,int32 Cause, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::SetEffStatiObj(int32 n, rID xID, hObj:(-1) t, int32 Val=-1);
system void (-1)::SetEffStatiDur(int32 n, rID xID, int32 Dur, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::IncEffStatiMag(int32 n,rID xID, int32 Cause,hObj:(-1) t,int32 Inc, int32 Val=-1);

system int32 (-1)::SumStatiMag(int32 n, int32 val=-1, hObj:(-1) t = 0);
system int32 (-1)::HighStatiMag(int32 n, int32 val=-1, hObj:(-1) t = 0);
system int32 (-1)::SumStatiVal(int32 n, hObj:(-1) t = 0);
system int32 (-1)::XORStatiVal(int32 n, hObj:(-1) t = 0);

system int32 (-1)::CountStati(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::CountEffStati(int32 n, rID xID,int32 Val=-1);
#line "..\inc/Api.h" 295
system rID (-2)::mID;
system rID (-2)::tmID;
system int32 (-2)::PartyID;
system int32 (-2)::cHP;
system int32 (-2)::mHP;
system int32 (-2)::Subdual;
system int32 (-2)::cFP;
system int32 (-2)::mMana;
system int32 (-2)::uMana;
system int32 (-2)::hMana;
system int32 (-2)::cMana();
system int32 (-2)::tMana();
system int32 (-2)::nhMana();
system void (-2)::LoseMana(int32 amt, int32 hold=false);
system void (-2)::GainMana(int32 amt);
system int32 (-2)::AoO;
system int32 (-2)::FFCount;
system int32 (-2)::StateFlags;

system int32 (-2)::AttackMode();
system int32 (-2)::GetAttr(int32 att);
system int32 (-2)::KnownAttr(int32 att);
system void (-2)::Exercise(int32 att, int32 amt, int32 col, int32 cap);
system void (-2)::Abuse(int32 att, int32 amt);
system int32 (-2)::isBlind();

system void (-2)::ChooseAction();
system void (-2)::ExtendedAction();
system int32 (-2)::ChallengeRating();
system void (-2)::GainXP(int32);
system void (-2)::KillXP(hObj:(-2));
system int32 (-2)::XPDrained();
system void (-2)::RestoreXP(int32 xp);
system void (-2)::DevourMonster(hObj:6);
system int32 (-2)::Percieves(hObj:(-1));
system int32 (-2)::isBeside(hObj:(-1));
system int32 (-2)::isSmallRace();
system int32 (-2)::ItemPrereq(rID xID, int32 ReqLevel, int32 TrickDC);
system int32 (-2)::yn(string msg,int32 defc=true);
system int32 (-2)::canTalk();
system int32 (-2)::ArmorType();
system int32 (-2)::Encumbrance();
system int32 (-2)::HasAttk(int32 att);
system int32 (-2)::HasMFlag(int32 mf);
system int32 (-2)::HasFeat(int32 ft);
system int32 (-2)::HasAbility(int32 ft);
system int32 (-2)::IHasFeat(int32 ft);
system int32 (-2)::IHasAbility(int32 ft);
system int32 (-2)::AbilityLevel(int32 n);
system int32 (-2)::SkillLevel(int32 n);
system int32 (-2)::ISkillLevel(int32 n);
system int32 (-2)::SkillCheck(int32 sk, int32 DC, int32 show, int32 retry=0);
system int32 (-2)::WepSkill(rID wID);
system void (-2)::CalcValues();
system void (-2)::CalcHP();
system int32 (-2)::Mod(int32 a);
system int32 (-2)::Mod2(int32 a);
system int32 (-2)::KMod(int32 a);
system int32 (-2)::KMod2(int32 a);
system int32 (-2)::SkillAttr(int32 sk);
system int32 (-2)::SavingThrow(int32 st, int32 SaveDC, int32 subtypes=0);
system void (-2)::TrainAs(rID cID);
system int32 (-2)::HungerState();
system hObj (-2)::ConsumeRope(int32 feet);
system int32 (-2)::LoseFatigue(int32 amt, int32 avoid = false);
system void (-2)::Shapeshift(rID mID, int32 merge = false, hObj:(-4) PolySource = 0);
system int32 (-2)::ResistLevel(int32 DType);
system int32 (-2)::SpellRating(rID eID,int32 mm=0,int32 percieved=false);
system int32 (-2)::CasterLev();
system rID (-2)::getGod();
system int32 (-2)::GetAgeCatagory();
system void (-2)::DropAll();
system hObj (-2)::InSlot(int32 sl);
system hObj (-2)::FirstInv();
system hObj (-2)::NextInv();
system int32 (-2)::HasSkill(int32 sk);
system int32 (-2)::HasInnateSpell(rID spID);
system hObj (-2)::FindBestItemOrCreate(rID iID);
system void (-2)::GainItem(hObj:(-4) it,int32 st=false);
system void (-2)::IdentByTrial(hObj:(-4) it);
system void (-2)::GainInherantBonus(int32 attr, int32 mag, int32 msg=true);
system void (-2)::Reveal(int32 intentional = false);
system void (-2)::ProvokeAoO();
system void (-2)::ManeuverCheck(hObj:(-5));
system int32 (-2)::isHostileTo(hObj:(-2));
system int32 (-2)::isHostileToPartyOf(hObj:(-2));
system int32 (-2)::isFriendlyTo(hObj:(-2));
system int32 (-2)::isThreatened();
system hObj (-2)::getLeader();
system hObj (-2)::getLeaderOrFirst();
system int32 (-2)::isLedBy(hObj:(-2));
system int32 (-2)::worstTrouble();
system void (-2)::Transgress(rID gID, int32 mag, int32 doWrath, string reason);
system void (-2)::IdentifyMon();
system void (-2)::IdentifyTemp(rID tID);
system int32 (-2)::isMType(int32 mt);
system int32 (-2)::isAerial();
system int32 (-2)::isFlatFooted();
system int32 (-2)::ChoicePrompt(string msg, string choices, int32 df=0, int32 col1=6, int32 col2=14);
system void (-2)::AddTemplate(rID tID);
system int32 (-2)::CanAddTemplate(rID tID);
system void (-2)::Awaken();
system int32 (-2)::getSocialMod(hObj:(-2) cr, int32 inc_str);
system void (-2)::MakeNoise(int32 radius);
system void (-2)::Multiply(int32 count,int32 split, int32 msg=true);
system void (-2)::StatiMessage(int32 n, int32 val=0, int32 ending=0);
system hObj (-2)::RandInv();
system hObj (-2)::RandGoodInv(int32 minval);

system int32 (-2)::SightRange;
system int32 (-2)::LightRange;
system int32 (-2)::ShadowRange;
system int32 (-2)::InfraRange;
system int32 (-2)::TremorRange;
system int32 (-2)::BlindRange;
system int32 (-2)::TelepRange;
system int32 (-2)::PercepRange;

system int32 (-2)::rateMeleeWeapon();
system int32 (-2)::rateRangedWeapon();
system hObj (-2)::getPrimaryMelee();
system hObj (-2)::getPrimaryRanged();

system void (-2)::HaltAction(string why, int32 force_halt);
#line "..\inc/Api.h" 430
system int32 (-3)::kcMana();
system int32 (-3)::ktMana();

system int32 (-3)::Proficiencies;
system rID (-3)::GodID;

system int32 (-3)::Swap(int32 sl);
system void (-3)::AddAbilities(rID xID,int32 lv);
system void (-3)::GainFeat(int32 ft);
system void (-3)::GainAbility(int32 ab, int32 pa, rID sourceID,int32 statiSource);
system void (-3)::GainBonusSkills(rID cID, int32 sp);
system void (-3)::FeatPrereq(int32 ft);
system int32 (-3)::NextLevXP();
system int32 (-3)::XPPenalty();
system void (-3)::LoseXP(int32 amt);
system int32 (-3)::TotalXP();
system int32 (-3)::IAttr(int32 a);
system int32 (-3)::LevelAs(rID cID);
system int32 (-3)::TotalLevel();
system int32 (-3)::SpellKnown(int32 spNum);
system int32 (-3)::getSpellFlags(rID spID);
system void (-3)::setSpellFlags(rID spID, int32 fl);
system int32 (-3)::GetSkillRanks(int32 sk);
system int32 (-3)::GetBAB(int32 mode);
system void (-3)::SetInvSlot(int32 sl, hObj:(-4) it);




system void (-3)::UseFeat(int32 ft);
system void (-3)::UseSkill(int32 sk);
system void (-3)::UseAbility(int32 ab,int32 pa);

system void (-3)::GodMessage(rID gID, int32 msg,...);
system int32 (-3)::calcFavor(rID gID);
system void (-3)::gainFavor(rID gID, int32 amt, int32 advance=false, int32 stack=true);
system void (-3)::lowerAnger(rID gID, int32 amt);
system void (-3)::AlignedAct(int32 type, int32 mag, string reason);

system int32 (-3)::getGodFlags(rID gID);
system int32 (-3)::getGodLevel(rID gID);
system int32 (-3)::getGodAnger(rID gID);
system void (-3)::setGodFlags(rID gID, int32 fl);
system void (-3)::resetGodFlags(rID gID, int32 fl);
system void (-3)::Forsake();
system int32 (-3)::isWorthyOf(rID gID, int32 penanceOK);
system int32 (-3)::getAnger(rID gID);
system void (-3)::SwapAttributes(int32 n);
system int32 (-3)::TotalExploreFavor();

system int32 6::MakeCompanion(hObj:7 p,int32 CompType);
system void 6::Pacify(hObj:(-2));
system void 6::TurnHostileTo(hObj:(-2));
system void 6::TurnNeutralTo(hObj:(-2));

system rID 7::RaceID;

system void 7::GainSpell(rID sID, int32 fl);

system int32 7::FirstAutoBuff();
system int32 7::NextAutoBuff();
system int32 7::SpendHours(int32 minHours, int32 maxHours);
system int32 7::formulaSeed;
system int32 7::FixSummonCR(int32 enCR, int32 CompType=2);
system int32 7::getMaxDepth(rID dID);
#line "..\inc/Api.h" 506
system string 7::BonusBreakdown(int32 a, int32 maxlen);
system int32 7::Seen(int32 x, int32 y);
system int32 7::Opt(int32 option);
#line "..\inc/Api.h" 514
system void 6::AddAct(int32 act, int32 pri, hObj:(-1) tar = 0, int32 subval = 0);
#line "..\inc/Api.h" 524
system rID (-4)::iID;
system rID (-4)::ieID;
system int32 (-4)::IFlags;
system int32 (-4)::Age;

system hObj (-4)::Owner();
system int32 (-4)::Size(hObj:(-2) wielder=0);
system hObj (-4)::GetParent();
system int32 (-4)::isActivatable();
system void (-4)::ChangeIID(rID xID);
system int32 (-4)::allowedSlot(int32 sl, hObj:(-2));
system int32 (-4)::activeSlot(int32 sl);
system int32 (-4)::GetCharges();
system void (-4)::SetCharges(int32 ch);
system void (-4)::MakeKnown(int32 k);
system void (-4)::SetKnown(int32 k);
system int32 (-4)::isEdible(hObj:(-2));
system int32 (-4)::isMagic();
system void (-4)::MakeMagical(rID eID, int32 plus=0);
system int32 (-4)::Weight();
system int32 (-4)::HasIFlag(int32 fl);
system int32 (-4)::useStrength();
system int32 (-4)::HasSpell(int32 sp);
system int32 (-4)::HasQuality(int32 q);
system int32 (-4)::KnownQuality(int32 q);
system int32 (-4)::QualityOK(int32 q,int32 lv=200);
system void (-4)::AddQuality(int32 q, int32 param=0);
system void (-4)::RemoveQuality(int32 q);
system void (-4)::PurgeAllQualities();
system int32 (-4)::ItemLevel();
system int32 (-4)::isGroup(int32 gr);
system rID (-4)::GetCorpseType();
system int32 (-4)::GetLightRange();
system int32 (-4)::GetQuantity();
system void (-4)::SetQuantity(int32 q);
system hObj (-4)::TakeOne();
system hObj (-4)::TryStack(hObj:(-4));
system int32 (-4)::isBlessed();
system int32 (-4)::isCursed();
system int32 (-4)::isMaster();
system int32 (-4)::isKnown(int32 kn);
system void (-4)::ReApply();
system int32 (-4)::GetPlus();
system int32 (-4)::GetInherantPlus();
system void (-4)::SetInherantPlus(int32 newPlus);
system int32 (-4)::ArmVal(int32 ty);
system int32 (-4)::ArmorPenalty(int32 for_skill);
system int32 (-4)::Hardness(int32 DType);
system int32 (-4)::MaxHP();
system void (-4)::MendHP(int32 hp);
system int32 (-4)::GetHP();
system void (-4)::VisibleID(hObj:(-2));

system int32 (-4)::isBaneOf(int32 MT);
system void (-4)::SetBane(int32 b);
system int32 (-4)::GetBane();

system hObj 30::getItem(int32 n);

system int32 11::DoorFlags;
system int32 12::TrapFlags;
system rID 12::tID;
system int32 12::TriggerTrap(hObj:(-5), int32 found_before=false);
system int32 12::TrapLevel();
system rID 13::fID;

system int32 10::EnterDir(int32 dir);
#line "..\inc/Api.h" 601
system void 3::StopWatch(int32 milli);
system void 3::SetMode(int32 mode);
system int32 3::GetMode();
system int32 3::OffsetX();
system int32 3::OffsetY();
system void 3::SetWin(int32 win);
system int32 3::GetCharRaw();
system void 3::PutChar(int32 x,int32 y, int32 g);
system void 3::PutGlyph(int32 x,int32 y, int32 g);
system int32 3::GetGlyph(int32 x,int32 y);
system void 3::GotoXY(int32 x, int32 y);
system void 3::Clear();
system void 3::SetColor(int32 col);
system void 3::Write(string msg);
system void 3::WriteXY(int32 x,int32 y, string msg);
system void 3::CursorOn();
system void 3::CursorOff();
system hObj 3::ChooseTarget(String prompt,int32 rType = 0);
system int32 3::EffectPrompt(hObj:(-5),int32 qv,int32 islook, String str);
system hObj 3::AcquisitionPrompt(int32 Reason, int32 minlev, int32 maxlev, int32 MType);
system string 3::StringPrompt(int32 col, string msg);
system rID 3::ChooseResource(string prompt, int32 RType, rID eID);
system void 3::LOption(string txt, int32 val, string des=0);
system void 3::LOptionClear();
system int32 3::LMenu(int32 fl, string title, int32 MWin=14,string help=0);
system int32 3::LMultiSelect(int32 fl, string title, int32 MWin=14,string help=0);
system int32 3::FirstSelected();
system int32 3::NextSelected();
system void 3::HelpTopic(string topic);
system void 3::RefreshMap();
system void 3::TermUpdate();
system void 3::Box(string msg);
system void 3::InventoryManager(int32 first, hObj:30 theChest=0);
#line "..\inc/Api.h" 646
system rID 1::GetEffectID(int32 pur, int32 minlev, int32 maxlev, int32 Source=0);
system rID 1::GetMonID(int32 pur, int32 minlev, int32 maxlev, int32 Depth, int32 MType=-1);
system rID 1::GetItemID(int32 pur, int32 minlev, int32 maxlev, int32 IType=-1);
system rID 1::GetMapID(int32 Purpose, int32 depth, int32 MType=-1);
system rID 1::GetTempID(int32 Types,rID mID, int32 MaxCR);

system hObj 1::GetPlayer(int32 n);
system void 1::EnterLimbo(hObj h, int32 x, int32 y, rID mID, int32 Depth,
int32 OldDepth, int32 Arrival, String msg);

system int32 1::SpellNum(rID spID);
system rID 1::SpellID(int32 spNum);
system int32 1::LastSpell();

system int32 1::GetTurn();
#line "..\inc/Api.h" 666
system void (-5)::SetParam(int32 i,hObj:(-1) t);

system int32 (-5)::Event;
system int32 (-5)::EXVal;
system int32 (-5)::EYVal;
system int32 (-5)::ESpellNum;
system int32 (-5)::EParam;
system int32 (-5)::EDir;
system int32 (-5)::vRoll;
system int32 (-5)::AType;
system int32 (-5)::DType;
system int32 (-5)::vHit;
system int32 (-5)::vDef;
system int32 (-5)::vThreat;
system int32 (-5)::vCrit;
system int32 (-5)::vPenetrateBonus;
system int32 (-5)::vRange;
system int32 (-5)::vRadius;
system int32 (-5)::vDuration;
system int32 (-5)::vCasterLev;
system int32 (-5)::vAlchemy;
system int32 (-5)::vChainCount;
system int32 (-5)::vChainMax;
system int32 (-5)::efNum;
system int32 (-5)::saveDC;
system int32 (-5)::vDmg;
system int32 (-5)::bDmg;
system int32 (-5)::aDmg;
system int32 (-5)::xDmg;
system int32 (-5)::vMult;
system int32 (-5)::sp;
system rID (-5)::eID;
system int32 (-5)::isHit;
system int32 (-5)::isCrit;
system int32 (-5)::isFumble;
system int32 (-5)::isBypass;
system int32 (-5)::Died;
system int32 (-5)::ADied;
system int32 (-5)::Blocked;
system int32 (-5)::Saved;
system int32 (-5)::Immune;
system int32 (-5)::Resist;
system int32 (-5)::wasFriendly;
system int32 (-5)::actUnseen;
system int32 (-5)::vicUnseen;
system int32 (-5)::Whirlwind;
system int32 (-5)::Graze;
system int32 (-5)::Stun;
system int32 (-5)::actIncor;
system int32 (-5)::vicIncor;
system int32 (-5)::Ranged;
system int32 (-5)::vicHeld;
system int32 (-5)::isDir;
system int32 (-5)::isLoc;
system int32 (-5)::isActivation;
system int32 (-5)::isSomething;
system int32 (-5)::isWield;
system int32 (-5)::isRemove;
system int32 (-5)::isPeriodic;
system int32 (-5)::isAoO;
system int32 (-5)::isCleave;
system int32 (-5)::isSurprise;
system int32 (-5)::isFlatFoot;
system int32 (-5)::isFlanking;
system int32 (-5)::isGhostTouch;
system int32 (-5)::actIllusion;
system int32 (-5)::vicIllusion;
system int32 (-5)::effIllusion;
system int32 (-5)::illType;
system int32 (-5)::isSeeking;
system int32 (-5)::isFirstBlastXY;
system int32 (-5)::isRepeatSpell;
system int32 (-5)::isEBlessed;
system int32 (-5)::isECursed;
system int32 (-5)::isConf;
system int32 (-5)::isHallu;
system int32 (-5)::isItem;
system int32 (-5)::isTrap;
system int32 (-5)::isActOfGod;
system int32 (-5)::isOffhand;
system int32 (-5)::isEvaded;
system int32 (-5)::isSneakAttack;
system int32 (-5)::isWildMiss;
system int32 (-5)::ignoreHardness;
system int32 (-5)::halfHardness;
system int32 (-5)::Silence;
system int32 (-5)::Terse;
system int32 (-5)::MM;

system int32 (-5)::vDepth;
system int32 (-5)::vLevel;
system int32 (-5)::vAlign;

system string (-5)::GraveText;
system string (-5)::strDmg;
system string (-5)::strXDmg;
system string (-5)::strHit;
system string (-5)::strDef;
system string (-5)::strOpp1;
system string (-5)::strOpp2;
system string (-5)::strBlastDmg;

system string (-5)::nPrefix;
system string (-5)::nCursed;
system string (-5)::nPrequal;
system string (-5)::nPostqual;
system string (-5)::nNamed;
system string (-5)::nBase;
system string (-5)::nAppend;
system string (-5)::nOf;
system string (-5)::nAdjective;
system string (-5)::nFlavor;
system string (-5)::nInscrip;
system string (-5)::nMech;
system string (-5)::nArticle;
system string (-5)::nPlus;
#line "..\inc/Api.h" 790
system int32 (-5)::eval;
system int32 (-5)::dval;
system int32 (-5)::aval;
system int32 (-5)::tval;
system int32 (-5)::qval;
system int32 (-5)::sval;
system int32 (-5)::lval;
system int32 (-5)::cval;
system int32 (-5)::xval;
system int32 (-5)::yval;
system rID (-5)::rval;
#line "..\inc/Api.h" 806
system Rect (-5)::cPanel;
system Rect (-5)::cMap;
system Rect (-5)::cRoom;

system int32 (-5)::vVal;
system int32 (-5)::vMag;
system hObj (-5)::vObj;
#line "..\inc/Api.h" 818
system int32 68::GetConst(int32 cn);

system int32 62::Image;
system int32 62::CR;
system int32 62::Depth;
system int32 62::Hit;
system int32 62::Def;
system int32 62::Arm;
system int32 62::Mov;
system int32 62::Spd;
system int32 62::MSize;

system int32 63::Image;
system int32 63::RIType;

system int32 64::Image;

system int32 65::Schools;
system int32 65::HasSource(int32 src);
system int32 65::Purpose;
system int32 65::Level;
system int32 65::HasFlag(int32 tf);

system int32 76::Image;
#line "..\inc/Api.h" 846
system int32 76::TerrainHasFlag(int32 tf);

system rID 75::Floor;
system rID 75::Walls;

system rID 72::BaseRace;

system rID 79::TType;
#line "..\inc/Api.h" 860
system String Capitalize(String s, int32 all=false);
system String Replace(String str, String find, String rep);

system String 99::Capitalize(int32 all=false);
system String 99::Replace(String find, String rep);
system void 99::Empty();
system int32 99::strchr(int32 ch);
system int32 99::GetLength();
system int32 99::GetTrueLength();
system String Left(String s, int32 sz);
system String 99::Left(int32 sz);
system String Right(String s, int32 sz);
system String 99::Right(int32 sz);
system String Mid(String s, int32 start, int32 end);
system String 99::Mid(int32 start, int32 end);
system String Trim(String s);
system String 99::Trim();
system String Upto(String s, String chlist);
system String 99::Upto(String chlist);
system String Upper(String s);
system String 99::Upper();
system String Lower(String s);
system String 99::Lower();
system String Decolorize(String s);
system String 99::Decolorize();

system String Format(String fmt,...);
system String XPrint(String str,...);
system String Pluralize(String str, rID iID=0);

system String NAME(rID xID);
system String DESC(rID xID);
system String SkillName(int32 sk);
system String DescribeSkill(int32 sk);

system void PrintRect(Rect r);
system int32 WithinRect(Rect r, int32 x, int32 y);
#line "..\inc/Api.h" 902
system int32 dist(int32, int32, int32, int32);
system int32 random(int32 mx);
system hObj GetHandle(hObj:(-1) h);
system int32 isValidHandle(hObj h);

system void DPrint(hObj:(-5), string msg1, string msg2,...);
system void VPrint(hObj:(-5), string msg1, string msg2,...);
system void TPrint(hObj:(-5), string msg1, string msg2, string msg3,...);
system void APrint(hObj:(-5), string msg,...);
system void SinglePrintXY(hObj:(-5), string msg,...);
system int32 ResourceLevel(rID xID);

system void Error(string msg1,...);
system void Fatal(string msg1,...);

system int32 DirX(int32);
system int32 DirY(int32);

system int32 ResourceHasFlag(rID xID, int32 flagno);
system int32 PoisonDC(rID pID);

system void SetSilence();
system void UnsetSilence();

system void SetETarget(hObj:(-5) e, hObj:(-1) t);
system void SetEVictim(hObj:(-5) e, hObj:(-2) v);
system void SetEActor (hObj:(-5) e, hObj:(-2) a);
system void SetEItem (hObj:(-5) e, hObj:(-4) it);
system void SetEItem2 (hObj:(-5) e, hObj:(-4) it);

system int32 nCandidates();
system int32 GetCandidate(int32 n);
system void AddCandidate(int32 h);
system int32 RandCandidate();
system void ClearCandidates();

system int32 Throw(int32 Ev, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowXY(int32 Ev, int32 x, int32 y, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowVal(int32 Ev,int32 n, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowDir(int32 Ev,int32 dr, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowEff(int32 Ev,rID eID, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowEffDir(int32 Ev,rID eID,int32 dr, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowEffXY(int32 Ev,rID eID,int32 x,int32 y, hObj:2=0,
hObj:2=0, hObj:2=0,hObj:2=0);

system int32 ThrowLoc(int32 Ev,int32 x,int32 y, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowDmg(int32 Ev,int32 dt,int32 amt, string s,
hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowTerraDmg(int32 Ev,int32 dt,int32 amt, string s,
hObj:2=0, rID terID);

system int32 ThrowDmgEff(int32 Ev,int32 dt,int32 amt, string s, rID eID,
hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ReThrow(int32 ev, hObj:(-5));
system int32 RedirectEff(hObj:(-5),rID eID,int32 Ev=52);

system hObj CreateItem(rID iID);
system hObj CreateMonster(rID mID);
system hObj CreateFeature(rID fID);
system hObj CreateDoor(rID fID);
system hObj CreatePortal(rID fID);
system hObj CreateTrap(rID fID, rID tID);
system hObj GenDungeonItem(int32 fl, rID xID, int32 Depth, int32 Luck);
system hObj GenChestItem(int32 fl, rID xID, int32 Depth, int32 Luck);
system hObj InitShopkeeper(rID mID, int32 gold);
system void SystemBreak();
system int32 enFreaky();

system int32 effectGivesStati(rID eID);

system int32 MMFeatLevels(int32 MM);

system int32 LevelAdjust(int32 val, int32 level, int32 spec = 1);

system int32 LastSkillCheckResult();

system void SetPVal(hObj:(-5) e, int32 b, int32 n=0, int32 s=0);
#line "main.irc" 12
Monster "(Resource Zero)" : 0
{
Flags: 24, 23;
}

Effect "unimplemented" : 25
{
Level: 10;
}

Module "Incursion Core Module";
File "Incursion.Mod";
Slot 0;
#line "races.irh" 2
Monster "Beginner's Kit" : 0
{
Gear:
2d2+1 $"potion" of $"see invisibility;potion",
3d2+1 $"potion" of $"remove curse;potion",
2d2+1 $"potion" of $"cure disease",
2d2+1 $"potion" of $"antitoxin",
1d2+1 $"potion" of $"restore strength",
1d2+1 $"potion" of $"restore constitution",
1d2+1 $"potion" of $"restoration",
1d2+1 $"potion" of $"detect stairs",
$"wand" of $"identify;wand",
3d2+4 $"food ration";
Flags: 24, 23;
}

Monster "Ressurection Gear" : 0
{
Gear:
1d4+1 $"potion" of $"healing",
$"medium backpack",
3d6 $"food ration",
3d4 $"torch",
$"dagger",
$"white robe",
if (EActor->LevelAs($"mage"))
$"spellbook [Adventurers' Arts]",
if (EActor->LevelAs($"mage"))
$"spellbook [Fundamentals of Magick]",
if (EActor->LevelAs($"mage"))
$"spellbook [Tome of Magic]",
$"holy symbol";
Flags: 24, 23;
}
#line "races.irh" 43
Monster "Universal Gear" : 0
{
Gear:
if (EActor->HasFeat((((49 + 1) + 32) + 0)))
250d1 $"gold piece",
if (EActor->isSmallRace() && (

EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 28)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 27))))
$"buckler;wooden" else
if (
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 28)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 27)))
$"kite shield",


if (EActor->GetEffStatiVal(189,$"ranger") == 't' &&
!EActor->isSmallRace())
33% $"short sword" of random 3 to 4 else
if (EActor->GetEffStatiVal(189,$"ranger") == 't')
50% $"main gauche" of random 3 to 4 else
if (EActor->GetEffStatiVal(189,$"ranger") == 't')
$"stiletto" of random 3 to 4 else

if (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)) &&
!EActor->isSmallRace())
33% $"short sword" else
if (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)))
50% $"main gauche" else
if (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)))
$"stiletto",
#line "races.irh" 78
if (!(EActor->Proficiencies & 0x20000000))
$"gold piece" else
if (EActor->LevelAs($"druid"))
50% $"bark armor" else
if (EActor->LevelAs($"druid"))
$"cord armor" else
if (EActor->isMType(62) && EActor->LevelAs($"paladin"))
$"chainmail" with [68, 76] else
if ((EActor->GetAttr(1) + ((int32)EActor-> HasFeat((((49 + 1) + 32) + 44)))*3 + ((int32)EActor-> HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)))*5 > EActor->GetAttr(0) + 4 + ((int32)EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))*4) && EActor->LevelAs($"paladin"))
#line "races.irh" 87
$"leather armor" +3 else
if ((EActor->GetAttr(1) + ((int32)EActor-> HasFeat((((49 + 1) + 32) + 44)))*3 + ((int32)EActor-> HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)))*5 > EActor->GetAttr(0) + 4 + ((int32)EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))*4))
#line "races.irh" 89
50% $"leather armor" else
if ((EActor->GetAttr(1) + ((int32)EActor-> HasFeat((((49 + 1) + 32) + 44)))*3 + ((int32)EActor-> HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)))*5 > EActor->GetAttr(0) + 4 + ((int32)EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))*4))
#line "races.irh" 91
$"studded leather" else
if (EActor->LevelAs($"barbarian") && !(EActor->isMType(63)
|| EActor->isMType(62) || EActor->isMType(66)))
$"hide armor" else
if (EActor->LevelAs($"paladin"))
$"field plate armor" else
if (EActor->Proficiencies & 0x80000000)
25% $"plate mail" else
if (EActor->Proficiencies & 0x80000000)
33% $"splint mail" else
if (EActor->Proficiencies & 0x80000000)
50% $"banded mail" else
if (EActor->Proficiencies & 0x80000000)
$"lamellar armor" else
if (EActor->Proficiencies & 0x40000000)
50% $"coat of plates" else
if (EActor->Proficiencies & 0x40000000)
$"breastplate" else
if (EActor->Proficiencies & 0x20000000)
50% $"studded leather" else
if (EActor->Proficiencies & 0x20000000)
$"leather armor";
On Event 150 {
hObj hSymbol;
if (EActor->GodID == ((rID)0))
return 0;
hSymbol = CreateItem($"holy symbol");
hSymbol->ieID = (rID) (EActor->GodID)->GetConst(130);
hSymbol->MakeKnown(0xFF);
EActor->GainItem(hSymbol,true);
return 0;
};
Flags: 24, 23;
}
#line "races.irh" 131
Monster "human;temp" : 61, 87
{
Image: white '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 100%; Speed: 100%;
Attk:1 for 1d2 13;
Flags: 36, 37, 1, 24, 23,
110;
Desc: "Human Player Race";
}

Race "Human;race"
{
Desc: "<15>Str:<1>-- <15>Dex:<1>-- <15>Con:<1>-- <15>Int:<1>-- <15>Wis:<1>-- <15>Cha:<1>-- <15>Luc:<1>--
      \n<2>\n__Humans are the most adaptable and numerous race found 
      on Therya, the standard by which the other races -- demihuman 
      and darkling alike -- are measured. They are also the youngest 
      of the major races, and arguably the most ruthless. Humanity
      conquers wilderness, builds cities, develops economies and drives
      back the primevil chaos by their very nature. It is mankind that
      founded the Great Empire, even if a hobbit now carries the title
      of Empress.
        Human abilities reflect the race's diverse and adaptable nature.
      They recieve bonus Feats to reflect their prowess, take advantage of
      special skills at character creation to reflect their diversity and
      despite starting with no attribute modifiers, they have the potential
      to develop their attributes beyond the maximums of any other race.
      
      \n\n<10>HUMAN RACIAL SKILLS<2>\n
      __Humans have no devoted areas of specialization the way most of
      the other races do. They may choose any two skills to treat as
      racial skills. 
      
      \n\n<10>HUMAN RACIAL TRAITS<2>
      \n__*_<7>Racial Weapons<2> -- Humans are diverse and have no special
      or favored racial weapons.
      \n__*_<7>Inherant Potential<2> -- While elves are on average more
      graceful than humans, dwarves hardier and orcs stronger, there
      exist legendary heros from within the human race that exceed the
      capacity of all the other races. In game terms, humans can gain
      increased benefit from inherant adjustments to their ability
      scores. While the other races can gain a maximum inherant bonus
      to any one ability score of +5, humans can gain inherant bonuses
      to a single ability totalling +8.
      \n__*_<7>Versatility<2> -- Humans are the quickest learners, and
      the most adaptable to new situations, of any race living on Therya.
      They gain bonus feats at 1st, 5th, 10th, 15th and 20th level -- these
      being chosen from the full list of feats in the game. Humans also gain
      an additional 2 skill points at every level they advance. Finally,
      humans consider every class to be a favored class, and can thus
      multiclass freely without fear of an experience penalty.
      \n__*_<7>Starting Equipment<2> -- Humans start with food rations, a
      medium backpack and torches.";
#line "races.irh" 195
Str 0, Dex 0, Con 0, Int 0, Wis 0, Cha 0, Luc 0;
Monster: $"human;temp";
Skills: -1, -1;
Grants:
Feat[6] at 1st level,
Feat[6] at 5th level,
Feat[6] at 10th level,
Feat[6] at 15th level,
Feat[6] at 20th level,
Ability[43,+3] at 1st level,
Ability[102] at 1st level;
Gear:
$"medium backpack",
4d2 $"food ration", 3d2 $"torch";
1: "Jaoin/Sammal/Kierny/Kethad/Rathmere/Michealis/Morgon/
      Matthais/Achrim/Orchal/David/Keos/Quinn/Abrash/Jabesh/Uchie/
      Denoin/Pavrash/Vorkai";
2: "Emi/Una/Eonin/Amadiel/Abigail/Cathe/Maryam/Immona/
      Samisa/Velanore/Leanna/Triel/Joan/Janina/Cattie/Shalamar/
      Sangraela/Mera/Minuet/Chemise/Madrigal/Tabitha";
3: "Surchst/Ringal/Yauth/Wernast/Onhalm/Gedilask/Faravis/
      Sintal/Ferholm/Oswin/Jinlar/Gessek/Tauth/Hishram/Ullast/Imrask/
      Achabald/Senovise";
On Event 153 {
EActor->GainBonusSkills(e.eID,2);
};
Lists:
* 19
5 $"celestial" $"warhorse"
$"celestial" $"horse"
7 $"griffon"
$"pegasus"
$"young" $"gold dragon"
$"unicorn"
9 $"lammasu"
$"dragonne"

$"juvenile" $"gold dragon";
Constants:
* 113 120;

}
#line "races.irh" 245
Monster "kobold;temp" : 18, 87
{
Image: green '@'; Size: 3; Mana: 10; Arm: 2;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk:7 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11;

Stati[124,9,2];
Stati[124,16,4];
Stati[124,35,2];
Stati[124,41,2];
Stati[39,42,6];

Flags: 36, 37, 1, 24, 23,
8, 110;
Immune: 0x00000010;
Desc: "Kobold Player Race";
}

Race "Kobold;race"
{
Str -4, Dex +4, Con 0, Int +2, Wis 0, Cha -2, Luc 0;
Monster: $"kobold;temp";
Favored: $"rogue", $"mage";
Skills: 7, 14, 18, 35, 39, 16,
14;
Grants:
Ability[31,+3] at 3rd level,
Ability[85,31,+1] at every level starting at 1st,
Ability[124,+3] at 1st level,
Feat[(((49 + 1) + 32) + 9)] at 1st level,
Feat[(((49 + 1) + 32) + 35)] at 1st level,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48)] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)] at 1st level;
Desc: "<15>Str:<1>-4 <15>Dex:<1>+4 <15>Con:<1>-- <15>Int:<1>+2 <15>Wis:<1>-- <15>Cha:<1>-2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Rogue, Mage\n
      \n__In ancient gnomish legends, a 'kobold' is a demon of the mines;
      a creature who poisons wells, snuffs out lantern flames, kidnaps
      children and pricks captured maidens with a thousand pins. In this
      particular case, the legend is completely true. Kobolds are the
      darkling counterpoint to gnomes, the corrupted form of that race.
      For countless millenia the two races have waged an underground war
      unseen by human eyes -- for as sociable as the gnomes are, they do
      not discuss this particular topic, and the kobolds themselves shy
      away from human sight and daylight alike.
      \n__Revelling in sabotage, trickery and guerilla warfare, kobolds
      are far more dangerous then most major powers give them credit for
      -- and that's exactly how they prefer it remain. Physically, they
      are small, dog-like creatures, but possess scales instead of fur.
      They are weak but very nimble, and have sharp claws and gleaming
      red eyes. Their overall racial alignment tendancies are toward chaos
      and evil.
      \n__Kobold adventurers are most often those that have grown tired of
      the sheer pettyness and malicious immaturity of their own society.
      Whether good or evil, they have higher ambitions then collapsing
      mines, stealing tools and curdling milk for the simple spite of
      such acts.
      \n\n
      <10>KOBOLD RACIAL SKILLS<2>\n
      __Kobolds rely heavily on their skills, using cunning, ingenuity and
      treachery to fell their enemies. They recieve Climb, Find Weakness,
      Hide, Mining, Poison Use and Handle Device as racial skills.
      \n\n
      <10>KOBOLD RACIAL TRAITS<2>\n
      __*_<7>-4 Strength, -2 Charisma<2> -- Kobolds are simply weak and
      cowardly creatures; they inherantly possess neither force of body
      nor force of personality, and are well-known for fleeing from any
      encounter they cannot overcome through trickery.\n
      __*_<7>+4 Dexterity<2> -- Kobolds are agile for their size, with a
      cautious gate and the ability to strike with surprising speed and
      accuracy in a fight.\n
      __*_<7>+2 Intelligence<2> -- Kobolds are crafty and cunning, well
      given to planning and mental challenges.\n
      __*_<7>Small<2> -- Kobolds are considered to be Small creatures,
      which gives them certain mechanical advantages and weaknesses. They
      cannot wield Large weapons and must used two hands to wield a Medium
      weapon, they have a 10% penalty to hit points and their carrying
      capacity is 3/4ths that of a Medium-size creature. However, they
      recieve a +2 size bonus to DC and to all attack rolls, and their
      smaller stature lets them navigate tunnels that a human could
      never fit into.\n
      __*_<7>Racial Weapons<2> -- Most kobolds gain some experience
      with weapons that highlight trickery and cunning. The whip is
      favored for its ability to disarm opponents that rely on weapons
      and the bolas are used to incapacitate foes so that they can
      be dispatched later. Kobolds proficient with the Flexible or
      Simple weapon groups are automatically proficient with the whip,
      and those who are proficient with Thrown weapons are automatically
      proficient with bolas.\n
      __*_<7>Infravision<2> -- Like the majority of the races who dwell
      underground, kobolds possess infravision to a range of 60 feet (6
      squares).\n
      __*_<7>Trapcraft<2> -- Kobolds know and understand traps, snares
      and mechanical dangers better than members of any other race -- and
      they have no aversion to using this knowledge maliciously. They gain
      a +4 racial bonus to the Handle Device skill, and this bonus counts
      as if it were actual skill ranks for determining the level of any
      traps that they set.\n
      __*_<7>Flawless Dodge<2> -- Kobold wardancing is a sight to behold, as
      the tiny creatures skitter, jump and even climb along their enemies'
      bodies in order to evade blows. The effect is not unlike a panicked
      cat -- but cats are not nearly as agile as a terrified kobold. In
      game terms, a kobold character can activate this special ability
      once per day to automatically evade up to three plus their primary
      Dexterity modifier attacks that would have otherwise hit them. If
      they deactivate it before all the attacks are expended, they may
      activate it again later to evade the remaining number of attacks.\n
      __*_<7>Poison Immunity<2> -- Repeated experimentation and exposure,
      combined with their natural reptilian physiology, has made kobolds
      immune to the effects of all non-magical toxins.\n
      __*_<7>Evasion<2> -- Kobolds are agile creatures with good instincts
      and peerless reflexes. They recieve three levels of the Evasion
      ability when they reach 3rd character level. What this means is that
      they gain Evasion (as a rogue or monk), and if they have rogue or
      monk levels, they will gain Improved Evasion three levels sooner
      then they normally would; for example, a kobold monk gains Improved
      Evasion at 6th level.\n
      __*_<7>Devious Feats<2> -- Kobolds recieve the Close-Quarters
      Fighting, Dirty Fighting and Weapon Finesse feats for free at 1st
      level. Despite their weak bodies, kobolds can be dangerous opponents
      if they are allowed to plan and choose the battle.\n
      __*_<7>Swarm<2> -- Like goblins, kobolds excel at overwhelming stronger
      foes by sheer force of numbers alone. For each non-hostile Small
      creature they have within one square of them, they recieve a +1 swarm
      bonus to all attack and damage rolls, and a +1 bonus to Defense.\n
      __*_<7>Natural Weapons<2> -- Kobolds have needle-sharp teeth and claws.
      They may claw for 1d4 points of damage twice, and bite for 1d6 points
      of damage. Because of their natural attacks, kobolds are never considered
      unarmed for the purposes of provoking attacks of opportunity.\n
      __*_<7>Verminfriend<2> -- Kobolds have a strong natural affinity for
      insects and insectile creatures. Vermin of animal intelligence and no
      outside motive will generally not be hostile to kobolds, and kobolds
      can train and befriend them just as other races do domestic animals. 
      This ability functions identically to the Animal Empathy skill, but 
      affects vermin instead of animals and uses the kobold's character 
      level in place of the skill rating.\n
      __Insects are also the only non-kobold creatures known to elicit feelings
      of compassion and friendship from the typical kobold.
      \n__*_<7>Starting Equipment<2> -- Kobolds start with a small
      backpack, cured meat, potions of dimension door, a whip, bolas, a random 
      defensive item and some poison; some may also have a pickaxe.\n\n
      <10>KOBOLD SUBRACES <5>(Unimplemented)<2>\n
      __Alone among the major races of Theyra, the kobolds have no specific
      ethnic divisions or racial strands. The uniformity of their race, even
      across the vast geographical divides of continents, is a matter of
      much speculation to gnome sages.";
1: "Izi/Vucha/Tizzit/Zik/Zzas/Olik/Szissrit/Viska/Kissi/Wixel/
      Zichna/Ezzan/Kitz/Quizzit/Zazel/Igniz/Zigrat/Gizgaz/Rozrim/Zorbin/
      Aztan/Uzi/Ognin";
2: "Izi/Vucha/Tizzit/Zik/Zzas/Olik/Szissrit/Viska/Kissi/Wixel/
      Zichna/Ezzan/Kitz/Quizzit/Zazel/Igniz/Zigrat/Gizgaz/Rozrim/Zorbin/
      Aztan/Uzi/Ognin";
Gear:
$"small backpack",
8d2 $"strip of cured meat", 3d3 $"potion" of $"dimension door",
50% $"pickaxe",
$"whip",
$"bolas",
25% $"robes" +2 of $"Vest of Health" else
33% $"cloak" of $"displacement" else
50% $"bracers" +2 of $"defense" else
$"cloak" of $"shadow shifting",
75% $"horn" +1 of $"the Kobolds;horn",
$"small glass vial" of random 1 to 3,
$"small glass vial" of random 2 to 4;
On Event 153 {
if (EActor->Proficiencies & (0x00000001|0x00004000))
if (EActor->WepSkill($"whip") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"whip", 0);
if (EActor->Proficiencies & (0x00000100))
if (EActor->WepSkill($"bolas") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"bolas", 0);
return 0;
};
Lists:
* 19
5 $"celestial" $"cave cricket"
$"celestial" $"giant soldier ant"
7 $"celestial" $"giant dragonfly"
$"celestial" $"monsterous centipede"
$"celestial" $"giant blue beetle"
$"celestial" $"giant praying mantis"
$"celestial" $"grick"
9 $"celestial" $"giant slug"
$"celestial" $"giant crustacean"
$"celestial" $"giant wasp";
Constants:
* 113 100;
}
#line "races.irh" 445
Monster "gnome;temp" : 64, 87
{
Image: pink '@'; Size: 3; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk: 1 for 1d2 13;

Stati[39,71,2];
Stati[124,19,+4];
Flags: 36, 37, 1, 24, 23,
110;
Desc: "Gnome Player Race";
}

Race "Gnome;race"
{
Str -1, Dex 0, Con 0, Int +2, Wis -2, Cha +1, Luc 0;
Monster: $"gnome;temp"; Favored: $"mage", $"bard";
Skills: 1, 9, 16, 35, 47;
Grants:
Stati[123,12,+2] at 1st level,
Stati[177,18] at 1st level,
Stati[177,14] at 1st level,
Stati[177,25] at 1st level,
Ability[87,+2] at 1st level,
Ability[126,+3] at 1st level,
Ability[85,79,+1] at every level starting at 1st,
Ability[34,18] at every 2nd level starting at 1st,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8)] at 1st level,
Ability[44,$"Ventriloquism"] at 1st,
Ability[44,$"Mirror Image"] at 3rd,
Ability[44,$"Displacement"] at 7th;
Desc: "<15>Str:<1>-1 <15>Dex:<1>-- <15>Con:<1>-- <15>Int:<1>+2 <15>Wis:<1>-2 <15>Cha:<1>+1 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Mage, Bard
      \n
      \n__Jovial, optimistic and deeply passionate, gnomes have adapted extremely
      well to the modern world of Therya. Like halflings, they blend seamlessly
      into human societies, and unlike the more xenophobic (and thus receeding)
      elven and dwarven peoples, gnomes have achieved great success as a race,
      and their population in continually growing. Their services as craftsmen,
      engineers, entertainers and scholars are always being sought out by human
      settlements and communities, and their reputation for honesty and solid
      craftsmanship often makes them seem more trustworthy then the opportunistic
      halflings.\n
      __Gnomes are social beings, as extroverted, liberal and expressive as their
      cousins, the dwarves, are stoic and reserved. Their easygoing candor makes
      them a welcome addition to most social circles, and their penchant for
      pranks and practical jokes is generally benevolent in cast. Gnomes do not
      have the strong ties of clan and honor that bind dwarves (though they are
      fiercely loyal to the much-revered king of their race), and treat friendship
      as the highest bond one can possess.\n
      __Gnomes have an inherant love of process, of the hows and whys of any kind
      of system -- mechanical, social or even cosmological. Gnomish religion
      depicts the universe as a massive blueprint, sacred not only for its beauty
      but for the focused intent of its design and the complex interdependancy of
      all its subsystems. While ancient gnomish society was theorically a monarchy,
      in practice it has historically been more of a republic, a vast bureaucracy
      which intertwines the complex castes and clans of gnome society. Just as
      halflings seem inherantly drawn to the merchant houses of Therya, so are
      gnomes involved with government and civic management, finding work as various
      sorts of civil servants more frequently then in any other niche. (This has
      led to a friendly, but still competitive, rivalry between the two demihuman
      races in the business world.) The typical
      gnome adventurer does what she does not for money, power, glory, moral altruism
      or even excitement, but in order to reveal the process of the world, to 
      understand how diverse and seemingly unrelated factors come together to
      form a coherant and ordered tapestry.
      \n\n
      <10>GNOME RACIAL SKILLS<2>\n
      __Gnomes are especially adept at mechanics, chemistry and engineering. As
      such, they recieve Alchemy, Craft, Handle Device, Mining and Use Magic
      Device as racial skills. While not every gnome can craft illusions, those
      that take up magecraft benefit from an innate aptitude for it, having a
      +4 racial bonus to Illusioncraft.
      \n\n
      <10>GNOME RACIAL TRAITS<2>\n
      __*_<7>+2 Intelligence<2> -- Gnomes are clever and innovative creatures,
      taking naturally to the study of mechanics, maths, magecraft and other
      abstract fields of study. They enjoy puzzles, wordcraft and intellectual 
      pursuits.\n
      __*_<7>-2 Wisdom<2> -- Conversely, gnomes can often be foolhardy,
      oblivious, blinded by idealism or generally unworldly. They are at heart
      frivolous and whimsical creatures, and sometimes have trouble staying
      focused on the situation at hand or applying basic common sense to
      something that can be addressed (and overcomplicated) by more systematic
      methodologies.\n
      __*_<7>Small<2> -- Gnomes are considered to be Small creatures,
      which gives them certain mechanical advantages and weaknesses. They
      cannot wield Large weapons and must used two hands to wield a Medium
      weapon, they have a 10% penalty to hit points and their carrying
      capacity is 3/4ths that of a Medium-size creature. However, they
      recieve a +1 size bonus to DC and to all attack rolls, and their
      smaller stature lets them navigate tunnels that a human could
      never fit into.\n
      __*_<7>Racial Weapons<2> -- The same mechanical aptitude that makes
      gnomes adept at devices and crafts makes them indirectly well-suited
      to the use of crossbows. While gnomes are not specifically accurate 
      with such weapons, their agile hands and knowledge of gears and
      tension allows them to reload crossbow with alacrity. They begin with
      the Rapid Reload feat at first level, and gnome warriors and rangers
      are automatically proficient with the cranquin.\n
      __In addition, gnomes who are proficient with the Long Blades weapon group
      are also considered proficient with the use of the mercurial broadsword,
      which is an exotic weapon for any other race.\n
      __*_<7>Illusioncraft<2> -- Gnomes have a strong inborn magical gift: the
      power of illusion. Gnome characters gain certain spell-like abilities as
      they advance in level to represent this. At 1st level, they may use 
      <9>ventrilloquism<2> at will. At 3rd level, they gain <9>mirror image<2>;
      at 7th, <9>displacement<2>.\n
      __This ability also grants gnomes a +2 bonus to saving throws versus
      illusions, and a +4 racial bonus to the Illusioncraft skill.\n
      __*_<7>Arcane Trickery<2> -- Gnomes lack the everyday willpower and
      determination of Elves or Dwarves, but their crafty minds are well
      suited to lateral thinking, especially on a mystical level. Three
      times per day, they may discern a way to slip a spell past a foe's
      defenses, finding a metaphysical chink in their armor and increasing
      the save DC of the spell in question by +8.\n    
      __*_<7>Burrow Kinship<2> -- Gnomes have a certain kinship with burrowing
      mammals: rabbits, foxes, badgers and so forth. The can communicate with
      these creatures empathically, and are often able to befriend them or
      recieve aid from them. Essentially, this is a limited form of the Animal
      Empathy skill, and uses the gnome's character level in lieu of a skill
      rating.\n
      __*_<7>Stonework Sense<2> -- Though not the equal of the dwarves, gnomes
      still have an exceptional aptitude for mining and stonecraft. They can
      sense the same things dwarves can, but their sense functions identically
      to that of a dwarf of twice their level.\n
      __In addition, gnomes are familiar with all manner of gems, and recieve
      a +5 racial bonus to all checks made to identify gemstones, which they 
      covet highly.\n
      __*_<7>Kobold Slayer<2> -- Gnomes have fought the kobolds for many
      centuries, and their perpetual cheer is dampened by the fact that just
      about every gnome has lost someone to a kobold ambush or prank at one
      time or another. Gnomes have studied kobolds in great detail, and
      recieve the favored enemy bonuses against them in melee.\n
      __*_<7>Freedom of Movement<2> -- Gnomes are inherantly immune to all
      magical effects that paralyze them, entangle them, petrify them, or
      otherwise slow or limit their movement. This is said to be a special
      sign of favor from the goddess Essiah.\n
      __*_<7>Scent<2> -- Like orcs, gnomes have a highly developed sense of
      smell, and can track enemies by smell and locate them when they are
      within 20 feet (2 squares).
      __*_<7>Starting Equipment<2> -- Gnomes start with a gnomish backpack,
      a brass lantern, food rations, two random wands, a crossbow (a cranquin
      for warriors and rangers, otherwise an arbalest) and bolts if they are
      proficient with such, and a pickaxe. Gnomes proficient with long blades 
      and with a Strength of 15 or higher also begin with a mercurial 
      broadsword.\n\n
      
      <10>GNOME SUBRACES <5>(Unimplemented)<2>\n
      __Rock gnomes' inherant magic is tied more to stone then to
      illusion; they speak with it as if it were a living force in
      and of itself. They tend to live in isolated mountain settlements,
      have developed a shamantic religion around the worship of their
      Lords of the Earth and are responsible for building the strange
      stone circles that focus mana, scattered across isolated locales
      across Theyra's surface.\n
      __Forest gnomes are sylvan creatures, possession an affinity
      toward things faerie without having fallen into Queen Maeve's
      thrall. They have an inherant kinship and empathy with forest
      creatures.\n
      __Deep gnomes have been altered somewhat by having lived so
      long in the depths of the Underdark. They have no affinity for
      illusions, and they were not around to recieve Essiah's
      blessing, but they have highly diverse innate spell-like
      abilities, and like many Underdark creatures are also highly
      resistant to magic.\n
      __Craft gnomes are the newest gnome subrace, driven by a desire
      to advance their technological understanding as a race an a
      great affinity for devices of all kinds. These gnomes are more
      common in human cities then in the more sheltered gnome communities,
      where they are regarded as potentially dangerous.\n
      __Spirit gnomes are physically the smallest of the gnome subraces,
      and also the rarest. They are well known as scholars, keepers of
      secrets, detectives and antiquarians; perhaps the greatest of their
      secrets is the origin of their subrace itself. They have an affinity
      for psionics and stealth, sharp senses and a lifespan far above that
      of normal gnomes.";
1: "Brundner/Bofi/Ferris/Boddynock/Dimble/Fonkin/Gerbo/
      Jebeddo/Namfoodle/Roondar/Seebo/Zook";
2: "Bimpnottin/Caramip/Duvamil/Ellywick/Ellyjobell/Loopmottin/
      Mardnab/Roywin/Shamil/Waywocket";
3: "Baren/Daergal/Folkor/Garrick/Nackle/Murnig/Ningel/Raulnor/
      Scheppen/Turen/Aleslosh/Ashhearth/Badger/Cloak/Doublelock/Filchbatter/
      Fnipper/Oneshoe/Sparklegem/Stumbleduck";
Gear:
$"gnomish backpack",
$"wand" of random 1 to 4,
$"wand" of random 3 to 6,
3d2 $"food ration", if ((EActor->Proficiencies & 0x00000008) && EActor->GetAttr(0) >= 15)
$"mercurial broadsword",
if (EActor->LevelAs($"warrior") || EActor->LevelAs($"ranger"))
$"cranquin"
else if (EActor->WepSkill($"arbalest") != 0)
$"arbalest",
1d1 $"brass lantern", $"pickaxe";
On Event 153 {
if (EActor->LevelAs($"warrior") || EActor->LevelAs($"ranger"))
EActor->GainPermStati(30,NULL,3,1,
0, $"cranquin", 0);
if (EActor->Proficiencies & 0x00000008)
if (EActor->WepSkill($"mercurial broadsword") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"mercurial broadsword", 0);
return 0;
};
Lists:
* 19
5 $"celestial" $"riding dog"
$"celestial" $"mastiff"
7 $"clockwork" $"riding dog"
$"clockwork" $"mastiff"
$"celestial" $"giant badger"
$"celestial" $"hatori"
$"celestial" $"pygmy war rhino"
$"young" $"brass dragon"
$"young" $"copper dragon"
$"young" $"mercury dragon"
9 $"juvenile" $"brass dragon"
$"juvenile" $"copper dragon"
$"young" $"mercury dragon"
$"celestial" $"aurumvorax";
Constants:
* 113 95;
}
#line "races.irh" 677
Monster "dwarf;temp" : 63, 87
{
Image: red '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[124,9,2];
Stati[124,35,2];
Stati[124,41,2];
Stati[39,117,1];
Stati[39,42,6];

Flags: 36, 37, 1, 24, 23,
110;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 12);
Desc: "Dwarf Player Race";
Stati[123,8,+2];
Stati[123,1,+2];
}


Race "Dwarf;race"
{
Str 0, Dex 0, Con +2, Int 0, Wis 0, Cha -2, Luc 0;
Monster: $"dwarf;temp"; Favored: $"warrior", $"priest";
Skills: 35, 9;
Grants:
Ability[29] at every level,
Ability[34,22] at every 2nd level starting at 1st level,
Ability[38] at 1st level,
Ability[87,+2] at 1st level,
Ability[136] at 7th level,
Stati[123,1,+1] at every 6th level starting at 6th level,
Stati[123,9,+2] at 1st level,
Stati[123,20,+4] at every level;
On Event 169 {
if (EItem->QualityOK(67))
EItem->AddQuality(67);
} ;
Desc: "<15>Str:<1>-- <15>Dex:<1>-- <15>Con:<1>+2 <15>Int:<1>-- <15>Wis:<1>-- <15>Cha:<1>-2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Warrior, Priest
      \n
      \n__Stubborn, driven, stoic and devoted -- these are the traits
      the dwarven people are most known for. A warrior race, dwarves
      have fought for millenia against the giants, orcs, aberrations
      and other monsterous threats that plague civilization. Ironically,
      this very devotion has ultimately put them at odds with the very
      world they strove to protect -- dwarves are a highly conservative
      people, with a great regard for the status quo and the honor of
      the clans, and as such they do not tend to interact well with the
      modern, metropolitan human cities that dot Therya's surface. The
      dwarves respond to a world they no longer understand with 
      xenophobia, retreating to their mountain fortresses and Underdark
      enclaves; some clans' kings go so far as to restrict any contact
      with outsiders. As a result, dwarves are very rarely seen among
      the throngs of major cities, and their cultural development has
      all but stagnated as a result.\n
      __Dwarven society is highly traditional (some would say hidebound),
      patriarchal (misogynistic), honor-conscious (warlike) and ritualistic
      (obsessive-compulsive). The sheer unbending willfulness that gave
      them the strength to fight on when other races had fled in less
      civilized times may now turn them into a barrier that humanity --
      or a less forgiving race -- will eventually have to break due to
      the sheer difficulty of negotiation. While the signs are subtler,
      times are turning against the dwarves every bit as much as they
      are against the elves, and the future of their people looks grim
      indeed.\n
      \n 
      <10>DWARVEN RACIAL SKILLS<2>\n
      __Each dwarf begins her adult life as an apprentice to a miner,
      master craftsman, or warrior. As a result, dwarves have an even
      tighter set of racial skills then most races, and almost all
      dwarves have some proficiency in one or more of their racial
      skills. These skills are Craft and Mining.
      \n\n
      <10>DWARVEN RACIAL TRAITS<2>\n
      __*_<7>Stonework Sense<2> -- Dwarves' racial affinity for mining
      lends them an intuitive sense for stone and stonework. Dwarves can
      easily spot pit traps, secret doors, concealed rockfalls and similar
      constructions in a dungeon. In an underground setting, they can
      sense secrets doors just as elves do.\n
      __In game terms, what this means in that dwarves recieve a +2 bonus to
      saving throws versus traps when in a dungeon setting, as well as a +2
      racial bonus to the Search, Craft and Mining skills. More interestingly,
      they always 'see' the type of stone 10 feet (1 square) in past the walls
      of the dungeon, allowing them to spot good areas to dig for ores, gems
      and other treasure.\n
      __*_<7>Magic Resistance<2> -- Dwarves have an inborn tolerance for
      magic, recieving a +2 racial bonus to saving throws versus spells at
      first level, increasing by +1 every 6th level.\n 
      __*_<7>Giant-Killer<2> -- When fighting humanoid creatures larger then 
      themselves, dwarves gain a +4 bonus to their defence class,
      representing certain racial fighting techniques specifically taught
      to each dwarf during their apprenticeship period. The threat range of
      all their attacks (armed, unarmed or ranged) also increased by one
      against giant-size enemies.\n
      __*_<7>Earth Affinity<2> -- Dwarves possess a deep spiritual tie with
      the base element of earth, and this is reflected in their magic. When a
      dwarf casts a spell or uses a magical device with the [Earth] descriptor,
      she gains a +2 bonus to the dweomer's save DC, a +1 bonus to her effective
      caster level and spends only half (round up) the normal mana cost. When a 
      dwarf makes a social skill check against a creature with the Earth Creature 
      subtype, she gains a +2 social modifier to her roll.\n
      __*_<7>Dwarven Focus<2> -- When a dwarf deticates himself to a given task,
      there is no standing between him and its completion. For this reason,
      dwarves gain bonuses in combat based on their level against a single
      unique creature they are sworn to kill -- often the central enemy of a
      given quest or task. When a dwarf wants to use this ability, he must
      choose a single creature within his line of sight that is a worthy foe
      (possessed of a Challenge Rating equal to his character level). Then,
      the following effects apply:\n
      __<7>*<2>_The dwarf recieves a +2 circumstance bonus to hit and damage the
      creature in question, but suffers a -2 circumstance penalty to hit and damage
      against all enemies that are not directly allied with his focus.\n
      __<7>*<2>_The dwarf recieves a +4 morale bonus to Will saves of all
      kinds -- quite literally nothing will turn him away from his appointed
      goal.\n
      __<7>*<2>_The dwarf recieves three temporary fatigue points that remain
      with him until his enemy is slain. If losing these causes him to faint
      from exhaustion when the deed is done, then so be it.\n
      __<7>*<2>_The dwarf cannot voulantarily leave the level he is currently
      on, so long as the creature remains on it. If he invoulantarily leaves
      the level (such as by means of a pit trap), he suffers a penalty of 200 
      experience points per character level and the focus is broken.\n
      __<7>*<2>_The dwarf cannot choose to rest until his nemesis is slain.\n
      __<7>*<2>_When the dwarf finally kills his focus enemy, he recieves bonus
      experience equal to 50 times the enemy's Challenge Rating. He cannot then
      choose another focus enemy until he has rested.\n
      __<7>*<2>_If the enemy dies from some cause other then the dwarf's attacks,
      the dwarf similarly suffers a 200 experience point per character level
      penalty, and the focus is of course finished.\n
      __*_<7>Infravision<2> -- Dwarves are naturally able to see clearly in
      perfect darkness, having infravision to a range of 60 feet (6 squares).\n
      __*_<7>Weaponcraft<2> -- While magical arms and armor are usually
      crafted by spellcasters arcane or divine, dwarves without any other
      magical skill have been known to craft such items, simply as a result
      of the deep spiritual tie that exists between a dwarven weaponsmith
      and his craft.  In game terms, dwarves recieve the Craft Magical Arms
      and Armor feat for free at 7th level, and may use their base attack
      bonus in lieu of a caster level when forging such items.\n
      __*_<7>Armor Use<2> -- For dwarves, wearing encumbering armor is a
      way of life. All dwarves have the Armor Proficiency (Heavy) feat for
      free. Dwarves who gain one or more levels as a paladin, warrior or 
      priest gain the Armor Optimization feat for free and suffer
      only one-third of the normal Skill Check and Movement Rate penalties
      when wearing armor. They are not particularly agile, but dwarves are
      hardly helpless when covered in metal.\n
      __*_<7>Racial Weapons<2> -- Dwarves who are proficient with the Axes
      weapon group are automatically considered to be proficient with the
      dwarven waraxe -- normally an exotic weapon. Furthermore, dwarves
      treat the battleaxe and warhammer as Simple weapons.\n
      __*_<7>Orc Slayer<2> -- Dwarves have been at war with the orcs and 
      goblins since the Dawn Times, conflicting over their racial territories 
      beneath the earth. This racial 'tradition' has resulted in a body of lore 
      and special training for fighting these races that grants dwarves increased
      chances to hit and increased damage (as per a Ranger's Chosen Enemies)
      against orcs and goblins.
      \n__*_<7>Fatigue Regeneration<2> -- Dwarves are so hardy that they
      can actually recover fatigue without sleeping. A dwarf that
      goes 100 turns without being involved in combat recovers one point
      of fatigue and then recovers an additional point of fatigue every 50
      turns thereafter. 
      \n__*_<7>Starting Equipment<2> -- Dwarves start with a medium
      backpack, food rations and a pickaxe. Dwarven warriors and barbarians
      start with a dwarven waraxe, while other dwarves proficient with
      impact weapons start with a warhammer. All starting weapons and armor 
      are assumed to be dwarven-forged: heavy, hard and protective.  
      \n\n
      <10>DWARF SUBRACES <5>(Unimplemented)<2>\n
      __Shield dwarves are the most common of the dwarven subraces, and are
      described by the traits given above. (Unlike most other races, dwarves
      don't tend to breed outside their ethnicity, meaning that almost all
      dwarves belong to one specific subrace.)\n
      __Forge dwarves have a special affinity for fire and metalcraft, and
      tend to dwell in iron citadels close to active magma flows. They are
      the most rigid and driven of all the dwarven subraces, laboring under
      a secret shame their subrace supposedly bears from the primordial
      history of the dwarves. (The Azer are an offshoot of forge dwarves,
      taking the nature of their race to an even greater extreme.)\n
      __Mountain dwarves consider themselves to be nobility among dwarves,
      and are (marginally) more outgoing then the other subraces. They are
      most famous for the beautiful and functional mountain citadels that
      they carve from solid stone. They have a strong aptitude for leadership
      and inspiration.\n
      __Jungle dwarves are almost unseen in the Kinlands, hailing from far-off
      Angla Maua. They are primitive and tribal, though every bit as honorable
      and ritualistic as any other dwarves, and are renouned for their skill
      in wilderness survival and woodcraft, having a strong prediliction toward
      the ranger class.\n
      __Gray dwarves are a degenerate and evil dwarven subrace, with a very
      limited intelligence and no concept of honor or nobility. They tend to
      dwell deep in the Underdark and possess potent innate magics. Gray dwarves
      are psychologically weak and craven, and it is said that they compose
      the portion of the dwarven race that did not have the strength of
      spirit to resist diabolical corruption in the primevil birth of the
      dwarven race.";
1: "Barendd/Brottor/Eberk/Einkil/Oskar/Rurik/Taklinn/Traubon/Ulfgar/
      Veit/Balderk/Dankil/Gorunn/Holderhek/Loderr/Lutgehr/Ungart/Orgil/Maenlin/
      Shaldar/Holdgen/Urthak/Gromlin/Makki";
2: "Artin/Audhild/Dagnal/Diesa/Gunnloda/Hlin/Ilde/Liftrasa/Sannl/
      Torgga/Rumnahiem/Esgelt/Sansi/Terra/Relnan/Raelin/Wousgol/Visi/Massi/
      Holdgen/Shamlir/Monwei/Unwe/Vaslin/Vaegwal";
3: "Battleclan/Forgehammer/Stonedriver/Stonebrother/Ironcleft/
      Axekeeper/Ashrager/Mountainfury/Skyforge/Windbreaker/Brightaxe/Steelblade/
      Trueshield/Oakenstrike/Bloodaxe/Ironhammer/Deepriver/Understone";
Gear:
$"medium backpack",
4d2 $"food ration", if (EActor->LevelAs($"warrior") || EActor->LevelAs($"barbarian"))
$"dwarven waraxe" else
if (EActor->Proficiencies & 0x00000080)
$"warhammer",
$"pickaxe";
On Event 153 {
EActor->Proficiencies |= 0x80000000;
if ((EActor->LevelAs($"paladin") || EActor->LevelAs($"priest") ||
EActor->LevelAs($"warrior")) && !EActor->HasFeat(((49 + 1) + 15)))
EActor->GainFeat(((49 + 1) + 15));

if (EActor->Proficiencies & 0x00000010)
if (EActor->WepSkill($"dwarven waraxe") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"dwarven waraxe", 0);
if (EActor->Proficiencies & 0x00000001) {
if (EActor->WepSkill($"warhammer") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"warhammer", 0);
if (EActor->WepSkill($"battleaxe") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"battleaxe", 0);
}
return 0;
},
150 {
if (EActor->GodID == ((rID)0) && !EActor->isMType(105))
if (EActor->yn("Do you wish to worship Ekliazeh?"))
{
EActor->GodID = $"Ekliazeh";
EActor->setGodFlags($"Ekliazeh",0x0001);
}
return 0;
};
#line "races.irh" 922
Lists:
* 19
5 $"celestial" $"warpony"
$"celestial" $"pony"
7 $"celestial" $"elephant"
$"celestial" $"giant tortoise"
$"celestial" $"rust monster"
$"celestial" $"grick"
$"celestial" $"owlbear"
9 $"celestial" $"dire" $"elephant"
$"celestial" $"arsinoitherium";
Constants:
* 113 135;
}
#line "races.irh" 943
Monster "elf;temp" : 62, 87
{
Image: bright cyan '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 100%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[39,53,2];
Stati[39,73,2];

Flags: 36, 37, 1, 24, 23,
110;
Immune: 0x00008000;
Desc: "Elf Player Race";
Stati[123,5,+2];
Stati[123,6,+2];
Stati[104,1,2];
Stati[104,2,2];
}

Race "Elf;race"
{
Str -1, Dex +2, Con -1, Int +1, Wis +2, Cha +2, Luc 0;
Monster: $"elf;temp"; Favored: $"mage", $"ranger";
Desc: "<15>Str:<1>-1 <15>Dex:<1>+2 <15>Con:<1>-1 <15>Int:<1>+1 <15>Wis:<1>+2 <15>Cha:<1>+2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Mage, Ranger
      \n
      \n__The most secretive of the common races, elves are only very
      rarely seen in human settlements, and their lack of common presence
      lends to the race a mystique of nearly mythical proportions.
      Creatures of pure magic, some have called them, able to hear the
      heartbeat of the world. Many fairy tales feature of elven sorceror,
      sage or faerie lover, a being whose immortal grandeur and passions
      are matched only by his wisdom and goodness. Humanity is fascinated
      by the elves, their splendour and paegentry, but rarely sees what
      transpires in their shrouded courts. That's probably for the better,
      actually.
      \n__Born of the breeding between faeries -- a race known for fine
      music, immortal passions and terrible cruelty -- and humanity, the
      elves are ever creatures of two worlds: one foot mired in mundane
      matters while the other drifts off into the callow abstractions
      of the Realm of Faerie, the domain of Queen Maeve. Wicked and selfish,
      Maeve holds the elven race in thrall to her as a result of ancient
      geasa and pacts, and the high elven lords maneuver within this bondage
      to do what they can to avoid harming the world and, hopefully, one
      day earn their race's freedom.
      \n__Poets speak of elves as if they dwelled figuratively in a world
      of dreams, as well as literally -- and there is some truth in this.
      Elves are given to proud idealism and legendary romances, and often
      have a tremendous amount of trouble relating to the mundanities of
      the real world. Like sleepwalkers, they move through the world with
      only a vague understanding of its causes and details, seeking to
      complete drives even they do not fully understand. It is said that
      the motives of elves are known only to the elves, but this isn't
      really true; even the elves themselves often have no understanding
      of the overall design behind their goals and actions.
      \n__Perhaps humanity is wise to be fearful, as well as fascinated,
      by these strange and etherial beings. 
      \n\n 
      <10>ELVEN RACIAL SKILLS<2>\n
      __The elves are a civilized peoples with great regard for culture
      and learning. Their innate grace also gives them certain aptitudes
      that humans do not possess. Their racial skills are Knowledge (Magic), 
      Listen, Move Silently and Perform.
      \n\n
      <10>ELVEN RACIAL TRAITS<2>\n
      __*_<7>+2 Dexterity<2> -- Elves are inherantly graceful in their
      motions, both as a result of superior physical motor control and
      through living in a culture that teaches elegance in movement as
      an essential part of social station. Elves excel at archery,
      fencing, dancing and stealth as a result.\n
      __*_<7>+2 Charisma<2> -- There is a certain indescribable element
      of faerie glamour to the elven peoples that makes them alluring
      to humanity, and to all the less magical races. It is not only
      beauty or refinement, though elves possess both of these in spades,
      but also a sense of fundamental, primevil mystery that surronds
      these creatures and makes them so very compelling to the mortal
      beings who interact with them.\n
      __*_<7>+2 Wisdom, +1 Intelligence<2> -- An elf who reaches adulthood
      is over a century in age, having accumulated the full experiences
      of a human lifetime in his youth. Many of the greatest elven heros
      have lived a full millenia before accomplishing their grandest
      deeds. Their wisdom truly is immortal, having seen the rise and
      fall of entire human kingdoms, and they have a human lifetime in
      which to pursue their early education.\n
      __*_<7>-1 Strength, -1 Constitution<2> -- Elves are frail of build, 
      not being nearly as rugged, powerful or resilient as the heavier 
      races like the humans, dwarves or lizardmen.\n
      __*_<7>Racial Weapons<2> -- All elves are familiar with the use
      of the long bow, short bow, long sword and rapier.\n
  	  __*_<7>Magical Nature<2> -- As inherantly magical creatures with a
	    far greater attunement to the tapestry of life then humans, elves
	    recieve an extra 5 mana points at the start of the game, and an
	    extra point for every character level they achieve above 1st.\n
      __*_<7>Manifestation<2> -- By drawing her ancient magical essence
      to the surface of her being, an elf can manifest a tiny fragment
      of her race's true faerie grandeur in the corporeal world, becoming
      a beautiful and terrifying thing to behold. The elf's Charisma score
      gains an enhancement bonus of +4, her presence is so overwhelming
      that she gains a +2 awe bonus to Defense versus foes that are not
      blind or mindless, and she radiates light and warmth with an effect
      identical to the <9>faerie fire<2> spell. Most importantly, however,
      a manifest elf exists in all three worlds (corporeal, etherial and
      astral) at once, and thus can strike (and be struck by) incorporeal
      creatures with full effect.\n
      __Manifestation only lasts for a short time (1d4 rounds, plus one
      round per full three character levels), and it is also extremely
      tiring, costing the elf a full 5 Fatigue Points to use.\n
      __*_<7>Wrought Iron<2> -- Wrought Iron is an anathema to elves and
      their fae nature. Any wrought iron weapon that strikes an elf deals
      and additional 2d6 points of damage (which bypasses armor). Orcs
      are known to craft and carry wrought iron weapons. \n
      __*_<7>Reverie<2> -- Elves do not sleep as humans do; part of their
      pact with Maeve bars them forever from the realm of dreams. Instead,
      elves enter a meditative state they call reverie, allowing their
      bodies and minds to rest and recover in a small fraction of the time
      it takes humans to sleep -- a typical period of reverie lasts only
      an hour or two.\n
      __In game terms, elf characters have a drastically reduced chance of
      random encounters when resting, and furthermore when they do suffer
      an encounter their foes do not get the same degree of surprise over
      them -- an elf in reverie is vaguely aware of the world around him,
      and can come to his senses nearly instantly.\n
      __*_<7>Sharp Senses<2> -- Elves have exceptionally acute senses, and
      recieve a +2 insight bonus to all sensory-based skills (Search, Spot,
      and Listen) at 1st level, as well as a +20 foot range to the effective
      radius of their light for the purposes of detailed vision. \n
      __Additionally, elves automatically make a Search check whenever they
	  step within 10 feet of a secret door that has not already been searched
	  for once before their last period of rest.\n
      __*_<7>Lowlight Vision<2> -- An extension of their sharpened senses,
      elves are able to see 20 feet (2 squares) further in total than a
      human could in torchlight or similar conditions. \n
      __*_<7>Temprature Tolerance<2> -- Elves are less affected by extremes
      of heat and cold then other humanoids, and enter play with two points
      each of Fire and Cold Resistance.\n
      __*_<7>Tied to Life<2> -- Elves are attuned to nature and to the
      cycles of life on a metaphysical level, and view these things as
      sacred and taboo in ways few others can understand -- even evil elves
      understand this bond. As a result of this tie, the same force that
      makes sylvan creatures instinctually trust elves renders them
      completely incapable of ever invoking the magics of Necromancy.
      They cannot learn any Necromancy spells, become specialists in the
      school of Necromancy, use necromatic magical items, command the undead 
      or in any other way benefit from death magic.\n
      __The one exception is that they can learn Necromancy/Abjuration spells
      such as <9>protection from undead<2>, which shield against necromantic
      powers rather than evoking them.\n
      __In lieu of necromanctic practices, evil elven mages tend to
      become Enchanters of terrifying power and beauty, dominating all
      around them with charms and charisma and weaving terribly subtle
      plans whose completion may take centuries.\n
      __*_<7>Starting Equipment<2> -- Elves start with a medium
      backpack, elven waybread, a bow, a long sword or rapier, and torches. 
      They begin play with a magical ring -- elves excel at the crafting of
      rings -- as well as equal chance of either a cloak or boots of 
      elvenkind. Starting armor and weapons are assumed to be of Elven make 
      and are thus ligher, faster and less restrictive than normal.\n
      __Elves also start out worshipping Maeve unless their choice of class
      allows them to pick a god. If it does, then choosing a god other than
      Maeve causes Maeve to be angered at the start of the game.\n\n
      <10>ELF SUBRACES <5>(Unimplemented)<2>\n
      __Gray elves are reclusive and frail, physically weak but possessed of
      incredible mystical and intellectual potency. Not a true ethnicity,
      they are instead a metamorphosed form of normal elves, having survived
      for over a millenia and attained true immortality through spiritual
      kinship to the realm of Faerie. Gray elves are terribly wise creatures,
      but also filled with grief, for their race's bondage to Maeve strikes
      them more deeply then any other elves.\n
      __Wood elves are the least civilized of the elven peoples, possessed
      of great strength, wild cunning and an affinity for sylvan creatures
      of all kinds. They tend to be xenophobic and conservative, scorning
      the ways of humanity and blaming mankind for the travails of their
      race.\n
      __Twilight elves are born with more of Faerie in their veins then most,
      literally slipping in and out of the etherial plane as a natural facet
      of their existance, but vulnerable to the light of the sun and given
      over to periods of irrational behaviour.";
Skills: 25, 36, 32, 37;
Grants:
Ability[55] at 1st level,
#line "races.irh" 1128
Ability[90] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"long sword"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"rapier"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"long bow"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"short bow"] at 1st level,
Ability[68] at 1st level,
Ability[54,+5] at 1st level,
Ability[54,+1] at every level starting at 2nd;
On Event 169 {
if (EItem->QualityOK(68))
EItem->AddQuality(68);
},
150 {
EActor->setGodFlags($"Maeve",0x0001);
if (EActor->GodID == ((rID)0))
EActor->GodID = $"Maeve";
else {
SetSilence();
EActor->Transgress($"Maeve",10,false,"turning away from Maeve");
EActor->setGodFlags($"Maeve",0x0040);
UnsetSilence();
}
return 0;
};
1: "Aramil/Aust/Enialis/Heian/Ivellios/Laucian/
      Quarion/Sethwin/Selasia/Faridhir/Semirathis/Agorna/Disead/
      Cassius/Lachin/Tesserath/Amakiir/Holimion/Meliamne/Nailo/
      Siannodel/Ilphukiir/Naofindel/Dios/Celebrand";
2: "Eoslin/Gosalin/Sephira/Selasia/Anastrianna/
      Antinua/Drusilia/Felosial/Ielenia/Lia/Qillathe/Silaqui/
      Valanthe/Xanaphia/Amastacia/Galanodel/Liadon/Xiloscient/
      Iosefel/Samariel";
3: "Starflower/Gemflower/Moonwhisper/Diamonddew/
      Silverfrond/Moonchild/Oakenheel/Nightbreeze/Moonbrook/
      Gemblossom/Goldpetal";
Gear:
$"medium backpack",
$"ring" of random 4 to 6,
50% $"cloak" +1 of $"elvenkind;cloak"
else $"boots" +1 of $"elvenkind;boots",
6d2 $"piece of elven waybread", if (EActor->LevelAs($"warrior") || EActor->LevelAs($"barbarian") ||
EActor->LevelAs($"paladin") || EActor->LevelAs($"priest"))
$"long bow" else
if (!EActor->LevelAs($"ranger"))
$"short bow",
if (EActor->LevelAs($"bard") || EActor->LevelAs($"mage") ||
EActor->LevelAs($"rogue") || EActor->LevelAs($"priest"))
$"long sword",
3d2 $"torch";
Lists:
* 19
5 $"celestial" $"horse"
$"celestial" $"warhorse"
7 $"celestial" $"pegasus"
$"unicorn"
$"hippogriff"

$"young" $"silver dragon"
9 $"juvenile" $"silver dragon"


;
Constants:
* 113 80;

}
#line "races.irh" 1217
Monster "drow;temp" : 66, 87
{
Image: blue '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 100%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[39,42,12];
Stati[124,36,2];
Stati[118,18,50];
Stati[39,73,1];

Flags: 36, 37, 1, 24,
8, 23, 110;
Feats: ((49 + 1) + 7);
Desc: "Drow Player Race";
}

Race "Drow;race"
{
Str -1, Dex +2, Con 0, Int +2, Wis 0, Cha +2, Luc -2;
Monster: $"drow;temp"; Favored: $"rogue", $"mage";
Skills: 36, 6, 39, 3;
Grants:

Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"hand crossbow"] at 1st level,
Feat[((49 + 1) + 7)] at 1st level,
#line "races.irh" 1253
Ability[44,$"faerie fire"] at 1st level,
Ability[44,$"globe of Shadow"] at 2nd level,
Ability[44,$"levitation"] at 3rd level,
Stati[109,18,4] at every level starting at 2nd;
On Event 169 {
if (EItem->isType(45))
EItem->GainPermStati(2,NULL,7,0,5,$"elfshot");
if (EItem->QualityOK(70))
EItem->AddQuality(70);
} ;
On Event 150 {
hObj h;
h = CreateItem($"small glass vial");
if (h) {
h->RemoveStati(2);
h->GainPermStati(2,NULL,7,0,4d2,$"elfshot");
EActor->GainItem(h,true);
}
};
On Event (153+500) {
if (EActor->TotalLevel() <= 1)
EActor->GainPermStati(221,EActor,3,0,0,$"Spider;domain");
} ;
#line "races.irh" 1282
Desc: "<15>Str:<1>-1 <15>Dex:<1>+2 <15>Con:<1>-- <15>Int:<1>+2 <15>Wis:<1>-- <15>Cha:<1>+2 <15>Luc:<1>-2
      \n<15>Favored Classes:<2> Rogue, Mage
      \n
      \n__No race, save perhaps the kobolds, is more widely despised then
      the drow. Trecherous, decietful, chaotic, power-hungry and supremely
      skillful, the drow are an offshoot of elves who sought freedom from
      Maeve through pacts with tanari and other profane powers. Living deep
      beneath the earth in the depths of the Underdark, the only mention of
      drow that most surface folk hear is when their skilled and murderous
      raiding parties attack humanity or the surface elves, whom they
      consider to be wretched slaves. Drow have no part in the surface culture
      of Therya, at least not in the Kinlands, and the rare individuals who
      leave the Underdark to explore the Kinlands are rogues and outcasts,
      most often having gotten the short end of some political maneuvering
      in their home city and thus fleeing for their lives. Drow typically
      work as freelance assassins, given their character and aptitude for
      stealth, but strive to find any position that will make them more
      powerful or give them political leverage.
      \n__Because of the paranoid and ruthless society they were raised in,
      most drow are pathologically mistrustful, unable to develop true
      bonds of caring or friendship due to the hardship their homeland has
      inflicted on them. This is doubly true of the males, who are heavily
      abused in the matriarchal (and misandranous) society of the dark
      elves. Women are stronger (and more capriciously violent), and rule 
      their homeland through the priesthood, each city being devoted to a 
      member of the Multitude. The most common drow power is their evil, 
      cruel and nameless Spider Queen, who teaches all drow to betray 
      everything they care for in the slightest, lest is be used as a 
      weakness against them by their enemies.\n
      \n 
      <10>DROW RACIAL SKILLS<2>\n
      __The drow racial skills are Appraise, Bluff, Move Silently and 
      Poison Use. All drow are trained in these skills from childhood,
      and failing to master them to at least some extent makes a drow
      easily manipulated by her fellows, and thus dead.\n
      __Drow recieve a +2 racial bonus to Move Silently.\n\n

      <10>DROW RACIAL TRAITS<2>\n
      __*_<7>-1 Strength, +2 Dexterity, +2 Charisma<2> -- Drow share the
      frail frames, unearthly gracefulness and alluring beauty of their
      elven ancestors, and augment it with a heightened force of personality,
      constant agility training and the allure of true evil.\n
      __As an extention of their natural agility, all drow are ambidexterous
      and recieve the Ambidexterity feat at 1st level. Because of this, drow
      warriors traditionally favor fighting with two weapons.\n
      __*_<7>+2 Intelligence<2> -- Drow think on their feet -- one has to,
      in order to remain alive in their society. This intellectual might is
      not equalled in spiritual wisdom, however; for all that their people
      are ruled by clerics, their spiritual consciousness remains effectively
      nonexistant.\n
      __*_<7>-2 Luck<2> -- Aside from incuring bad karma and making enemies
      with the same gleeful abandon of a pig in a slopheap, drow tend to
      overcomplicate their intrigues, burn their bridges and have nobody
      they can turn to when the stakes are down.\n
      __*_<7>Racial Weapons<2> -- All drow are proficient with the
      hand crossbow. The hand crossbow is a weak but accurate weapon that 
      is used by the drow to poison victims from a distance: all drow 
      missiles start the game coated with Elfshot, a poison that causes 
      sleep in its victims.\n
      __*_<7>Infravision<2> -- Drow have the sharpest infravision of any
      beings living on Therya, being able to see with absolute clarity
      out to a range of 120 feet (12 squares) when in absolute darkness.\n
      __*_<7>Innate Magic<2> -- Living amidst the magical radiations of the
      Underdark, the same power that produced the aberrations, and having
      make pacts with countless demons, drow have developed some inherant
      magical abilities. All drow may cast the spell <9>faerie fire<2> at
      will. They gain <9>globe of shadow<2> at 2rd level, and upon reaching
      3rd level they can also use <9>levitation<2> at will.\n
      __*_<7>Magic Resistance<2> -- For similar reasons, drow have developed
      an inherant magic resistance similar to that of their outer-planar
      patrons. Far more powerful then the dwarven ability, drow do not
      resist so much as simply negate magical effects cast at them. They
      have a natural 50~ magic resistance associated with their drow
      physiology and gain a +2~ inherant bonus with every character
      level.\n
      __*_<7>Sharp Senses<2> -- Drow have senses as acute as any other elf's,
      and recieve identical bonuses to conventional elves in this area.
      \n__*_<7>Starting Equipment<2> -- Drow start with a medium 
      backpack, spider bread and a hand crossbow with bolts. All starting 
      metal items are forged from adamant and are thus
      extraordinarily strong and protective. All starting missile weapons
      are coated with elfshot, and all drow start with a spare vial of it.
      \n\n
      <10>DROW SUBRACES <5>(Unimplemented)<2>\n
      __The drow are themselves a subrace of elves that has developed
      distinctly enough to be treated as wholly seperate, and thus they have
      no further subraces within themselves. In practice, however, the drow
      females have certain additional abilities men do not, and thus are
      treated mechanically as if they were a subrace.\n
      __Drow females are stronger then men, having normal human Strength,
      and also possess several inherant magical talents that males do not --
      reading thoughts, scrying and dispelling magic. They also add priest
      to their list of favored classes. (Later, the default Favored Classes
      of drow will be Rogue and Wizard, plus Priest for the women.)";
1: "Adinirahc/Amalica/Belgos/Antatlab/Calimar/Dipree/Duagloth/
      Elkantar/Filraen/Gelroos/Gomph/Houndaer/Ilmryn/Ilphrin/Istolil/
      Jaraxle/Kelnozz/Krenaste/Krondorl/Lyme/Masok/Mourn/Nalfein/Nilonim/
      Nym/Pharaun/Ryltar/Omareth/Olgoloth/Quevven/Ryld/Sabrar/Nadal/Tarlyn/
      Tathlyn/Tebryn/Tsabrak/Urlryn/Valas/Vorn/Vuzlyn/Wode/Yazston/Zakfienal";
2: "Akordia/Alystin/Aunrae/Baltana/Briza/Burryna/Chalithra/
      Charinida/Chessintra/Dhaunae/Dilynrae/Drisinil/Eclavdra/Elvraema/
      Faeryl/Filfaere/Ginafae/Haelra/Halisstra/Imrae/Inidil/Irae/Iymril/
      Jhaelryna/Laele/Larynda/Minolin/Molvayas/Nathrae/Nedylene/Olorae/
      Phaere/Quave/Qilue/Sabrae/Shi'nayne/Ssapriina/Talabrina/Talice/
      Umrae/Viconia/Vierna/Wuyondra/Xullrae/Xune/Zesstra";
3: "Abaeir/Abbylan/Argith/Blundyth/Cormrael/Dhuunyl/Elpragh/
      Gellaer/Ghaun/Glannath/Hune/Hyluan/Illistyn/Jhalavar/Khalazza/Luen/
      Olonrae/Philiom/Quavein/Ssambra/Tilntarn/Uloavae/Vrinn/Wyndyl/Xiltyn/
      Zolond/Zaphresz";
Gear:
$"medium backpack",
$"hand crossbow",
6d2 $"piece of spider bread"; Lists:
* 19
5 $"celestial" $"riding lizard"
$"celestial" $"war lizard"
7 $"celestial" $"psionic riding lizard"
$"celestial" $"giant spider"
$"celestial" $"night hunter"
$"celestial" $"pike spider"
9 $"juvenile" $"purple dragon"
$"celestial" $"wyvern";
Constants:
* 113 90;
}
#line "races.irh" 1414
Monster "halfling;temp" : 65, 87
{
Image: yellow '@'; Size: 3; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[124,18,2];
Stati[124,46,2];

Flags: 36, 37, 1, 24, 23,
110;
Desc: "Halfling Player Race";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34);
Stati[123,5,+2];
}

Race "Halfling;race"
{
Str -2, Dex +2, Con 0, Int 0, Wis 0, Cha +2, Luc +4;
Monster: $"halfling;temp"; Favored Class: $"rogue", $"bard";
Skills: 18, 46, 7, 11,
3, 21;
Grants:

Stati[123,11,+4] at 1st level,
Stati[109,15,+2] at 1st level,
Ability[88] at every 3rd level starting at 1st,
Ability[125] at 1st level,
Ability[101] at 1st level;
On Event 150 {
EActor->Proficiencies |= 0x00000100;
};
Desc: "<15>Str:<1>-2 <15>Dex:<1>+2 <15>Con:<1>-- <15>Int:<1>-- <15>Wis:<1>-- <15>Cha:<1>+2 <15>Luc:<1>+4
      \n<15>Favored Classes:<2> Rogue, Bard\n 
      \n__Halflings are cute, clever, endearing, friendly, sociable and in 
      control of approximately a third of the Kinlands' wealth. Opportunistic 
      and ambitious, the hin have carved out a niche for themselves as the 
      dominant demihuman race in the civilized lands. While nigh-immortal 
      elves shy away from the bustle of human cities and surly dwarves bemoan 
      the loss of the old ways in their carved stone halls, the halflings 
      gleefully embrace everything the human world has to offer, becoming an 
      omnipresent factor in human cities across the globe.\n 
      __Between their crafty insight and unearthly luck, just about the only 
      thing holding the race back from outshining humanity in every endeavour 
      is their lack of ambition - halflings are stereotyped as lazy, and while 
      some make remarkable achievements, their racial culture does tend to 
      place more emphasis on creature comforts then on deeper kinds of 
      achievement. If the hin (as halflings call themselves) have a sin, it
      would be complacency; a willing lack of foresight and a desire to avoid
      any kind of discomfort, excitement or radical action plague the race.
      Halfling adventurers tend to be the glaring exception to this rule,
      having already parted ways with the norms of their race through their
      choice of career. Despite this, halflings have a strength of spirit
      that other races lack, and while they're hardly innovators they will
      stand by the things they consider important with a quiet resolve that
      cannot be shaken. As a race, they're survivors.\n
      __Despite their success, many halfling communities tend to be very
      conservative, albiet in a very different way from the dwarves. The
      little folk tend to see themselves as the most supremely civilized
      people in the world, a born aristocracy, and their tendancy toward
      gossip makes them highly paranoid about potential scandals. They
      enjoy living a high standard of life and being socially acceptable
      to their peers, and they thus dislike anything which might bring
      their family's social standing into question or disrupt their
      intentionally pedestrian lifestyle -- like adventurers. Many halfling
      heroes have thus ended up deeply estranged from their families,
      who live in shame of them -- and god forbid the outcast should be
      something as barbaric as a <10>warrior<2>!\n
      \n 
      <10>HALFLING RACIAL SKILLS<2>\n
      __Racial skills are one of the strongest advantages halflings have,
      being quick learners, socially dexterous and naturally agile as
      well. The full list of halfling racial skills is Appraise, Climb, 
      Diplomacy, Hide, Intuition and Tumble.\n
      __Halflings also recieve certain inherant racial bonus to skills.
      They have a +2 racial bonus to Hide, Tumble and Climb; their Hide
      racial bonus stacks with the +2 size bonus they recieve to the
      Hide skill due to being Small creatures.
      \n\n
      <10>HALFLING RACIAL TRAITS<2>\n
      __*_<7>+2 Dexterity<2> -- Halflings are naturally agile, sure-footed
      and nimble. Rather then the surreal grace of the elves, they embody
      a cautious, competant precision; what would be born of careful practice
      and agility in other races comes with offhand ease to the little folk.\n
      __Another facet of halflings' natural agility is represented by them
      being easily able to slip out of the holds and grapples of larger
      opponents, recieving the Slipaway Feat for free at 1st level.\n
      __*_<7>-2 Strength<2> -- For their size, halflings are as strong as
      humans, but with their body mass it is simply impossible for the hin
      to exert the same kind of force a human does.\n
      __*_<7>+2 Charisma<2> -- Halflings are charming and sociable, and their
      small size tends to put humans at ease around them, making the larger
      folk feel safe and in control. People tell things to halflings that they
      would never imagine telling to anyone else; the hin just inspire that
      kind of trust in the people around them.\n
      __*_<7>Racial Weapons<2> -- Halflings as a race are incredibly
      skilled with the sling and other thrown weapons. They gain free
      proficiency with slings and all other thrown weapons. They gain 
      a +2 bonus to hit when using any weapon from the Thrown group,
      and have an uncanny ability to land lethal strikes when throwing
      rocks or using a sling, subtracting their Luck modifier from the
      threat range of thrown rocks or sling attacks.\n
      __*_<7>Unearthly Luck<2> -- The halfling race as a whole benefits from
      an inexplicable good fortune that draws no small degree of resentment
      from humans and other races. A halfling sometimes escapes dangers or
      accidents that could kill a human without a scratch on him. Halflings
      gain a +4 racial adjustment to their Luck score, and they add their
      Luck modifier (if positive) as a luck bonus to all of their saving
      throws.\n
      __*_<7>Psychosomatic Might<2> -- Halflings are not a race known for
      great physical strength, but when the proper motivation is placed before
      them, they are capable of bearing loads that often surprise larger folk.
      In game terms, halflings treat all food items as having a third of their
      actual weight for the purpose of calculating encumbrance.\n
      __*_<7>Strong Soul<2> -- Halflings may seek to avoid discomfort whenever
      possible, but the truth is that they also survive through ordeals that
      would break the spirit of your typical human. They love life with a
      passion, and refuse to let go of that spark in the face of things
      which threaten their spirit, debilitate their mind or weaken their
      body.\n
      __In game terms, halflings have a kind of innate hardness rating against
      ability score damage. This value begins at 1 and increases by +1 every
      third level thereafter (2 at 4th, 3 at 7th, etc.) This value is subtracted
      from any damage the halfling might suffer to one of his abilities, and if
      it exceeds the damage, no harm is done. They also recieve a +2 bonus to
      save versus fear, and a +4 bonus versus death effects.\n
      __*_<7>Small<2> -- The hin are considered to be Small creatures,
      which gives them certain mechanical advantages and weaknesses. They
      cannot wield Large weapons and must used two hands to wield a Medium
      weapon, they have a 10% penalty to hit points and their carrying
      capacity is 3/4ths that of a Medium-size creature. However, they
      recieve a +1 size bonus to DC and to all attack rolls, and their
      smaller stature lets them navigate tunnels that a human could
      never fit into.
      \n__*_<7>Starting Equipment<2> -- Halflings start with a small
      backpack, many tasty cottonberry loaves, a sling and some torches.
      They also begin play with a moderate supply of Hearthstones of
      Onanda -- one-use magical items that allow a guaranteed safe rest
      even in a location where encounters are possible.
      \n\n
      <10>HALFLING SUBRACES <5>(Unimplemented)<2>\n
      __Lightfoot halflings are quick and fast, possessed of superior reflexes
      and nearly able to match pace with a human despite their smaller size.
      They have an intuitive direction sense, and tend to be more nomadic then
      most hin, possessing a string streak of wanderlust.\n
      __The Tallfellows are the largest of the halfling subraces, and also the
      strongest, nearly matching gnomes in size and build. They are a rural
      people, disliking the bustle and diversity of cities and favoring a
      simpler life on their farms. They have natural green thumbs, and an
      affinity for plants of all kinds.\n
      __Treedancer halflings are adept scouts and climbers hailing from Angla
      Maua, where they welcome visitors and turn a tidy trade in spices, rare
      minerals and other exports from the jungle continent. Their settlements
      are vast treehouse-cities mounted in the branches of great redwoods and
      linked together with an intricate webwork of rope bridges. They are the
      most societally advanced and civilized faction in Angla Maua.\n
      __Ghostwise halflings are rare, born with the ability to learn secrets
      from the wind itself. Often leaving existing halfling settlements for a
      life as a hermit or wayfarer, they study to master the strange abilities 
      of the mind -- psionics -- that they have an affinity for. They tend to
      be noble of heart and generous in spirit.\n
      __Stoutheart halflings are the strongest-willed of their race, with a
      great devotion to the ideals of family and community. They despise
      corruption in all of its forms, and become adventurers more frequently
      then other halflings in the interest of rooting out and resolving 
      something that has shaken their sensibilities. They are famed for
      their resourcefulness and clever planning.";
1: "Alton/Beau/Cade/Eldon/Garret/Lyle/Milo/Osborn/Roscoe/Wellby/
      Randy/Mitchel/Fairday/Hennit/Fenwell/Bartholemew/Tristan/Geory/Gabe/
      Tanis/Brandy/Regis/Sheldon/Milton/Sanderson";
2: "Amaryllis/Charmaine/Cora/Euphemia/Jillian/Lavinia/Merla/
      Portia/Seraphina/Verna/Agatha/Cecily/Gaimoina/Melody/Corianne/Jadis/
      Morwen/Mabeline/Adele/Amile/Whitney";
3: "Brushgather/Bushbother/Goodbarrel/Greenbottle/Highhill/
      Undervalley/Hilltopple/Leafgallow/Tealeaf/Thorngage/Tosscobble/
      Underbough/Overcrest/Winterson/Snowglide/Greenfield/Stronghearth/
      Brandybuck/Deepvalley/Goodspirit/Redwine/Stonegulley/Treetop/Suthers/
      Bluecrest";
Gear:
$"small backpack",
10d2 $"cottonberry loaf", 75% 4d2 $"food ration",
75% 1d4 $"apple",
75% 1d4 $"melon",
75% 1d8 $"strip of cured meat",
3d6 $"stone" of $"hearthstone of onanda",
50% 4d6 $"rock" else
$"sling",
3d2 $"torch";
Lists:
* 19
5 $"celestial" $"pony"
$"celestial" $"warpony"
7 $"celestial" $"rust monster"
$"celestial" $"wolf"
$"celestial" $"mastiff"
$"celestial" $"cheetah"
$"hippogriff"
$"young" $"brass dragon"
$"young" $"bronze dragon"
9 $"juvenile" $"brass dragon"
$"juvenile" $"bronze dragon"
$"celestial" $"aurumvorax";
Constants:
* 113 115;
}
#line "races.irh" 1627
Monster "lizardman;temp" : 51, 67, 87
{
Image: green '@'; Size: 4; Mana: 12;
CR: 1; HD: 1; Hit: 0; Def: 10; Mov: 100%; Spd: 100%; Arm: 5;
Str 10, Dex 10, Con 10, Int 10, Wis 10, Cha 10;
Attk: 6 for 1d4+1 11,
6 for 1d4+1 11,
7 for 1d4 12;

Stati[124,8,4];
Stati[39,78,1];

Flags: 1, 36, 24, 30, 23,
110;
Resists: 0x00000001;
Desc: "Lizardman Player Race";
Stati[123,13,+2];
Stati[123,10,+4];
}


Race "Lizardfolk;race"
{
Str +2, Dex 0, Con +2, Int -2, Wis 0, Cha 0, Luc -2;
Monster: $"lizardman;temp"; Favored Class: $"druid", $"warrior";
Skills: 5, 8, 45,
48, 21, 25, 22 ;
Grants:



Ability[1] at 1st level,
Stati[134,51,18] at 1st level,
Ability[85,51,+1] at every level starting at 1st;
Desc: "<15>Str:<1>+2 <15>Dex:<1>-- <15>Con:<1>+2 <15>Int:<1>-2 
      <15>Wis:<1>-- <15>Cha:<1>-- <15>Luc:<1>-2
      \n<15>Favored Classes:<2> Druid, Warrior\n\n 
      
      __The lizardfolk are a dispassionate, patient and focused race with
      a mindset highly distant from the more humanlike races. Concerned
      first and foremost with survival -- first their own, then that of other
      species whose presence supports the existance of life overall -- the
      lizardfolk can seem ruthless or callous to mammalian races. Appearing
      as large, humanoid lizards with opposable thumbs and other biological
      adaptations to sentience, lizardfolk are strong and hardy warriors,
      and as such their favor is often sought by kings, warlords and other
      human rulers. The lizardfolk dislike this -- if they seem ruthless to
      humans, then accordingly the selfishness and wasteful conflict of human 
      politics seems incredibly degenerate and unnatural to the lizardfolk.\n
      __Though they are an intelligent race, lizardfolk generally scorn most
      of the concerns typically associated with civilization. Individual
      lizardmen have little desire for status, personal power, knowledge or
      other typical human motivations. Their goals are survival, breeding
      and the preservation of life (with no particular significance given to
      *intelligent* life, mind). They have a unique spiritual tradition that
      involves meditation and lucid dreaming, and their spiritual leaders are
      far more likely to be shamans or druids then clerics. Indeed, their
      druidic tradition is older then the human one, and lizardfolk druids
      don't seem to feel the need to answer to the human druidic hierarchy.
      Whatever accord was reached between the two groups was formed centuries
      ago, and its exact nature is highly secret.\n
      __Lizardfolk have no strong psychological or hormonal differences between
      their genders, nor do they show signs of aging until shortly before they
      die. They do have a strong seasonal rhythm built into their physiology,
      however, driving them to fight, mate, migrate or slumber. They almost
      always act on their instincts (there is no formal written language among
      the lizardfolk, let alone an educational system) but seem to have an
      almost mystical intuition -- often, lizardfolk all over the world will
      react in unison to a commonly shared threat, devastating opposition
      with their coordination without even understanding why they (as individuals)
      are doing what they are doing.\n
      \n 
      <10>LIZARDFOLK RACIAL SKILLS<2>\n
      __The lizardfolk racial skills are not based on culture or training, but
      on the inherant aptitudes, instincts and physiology of their race. They
      recieve Balance, Concentration, Intuition, Jump,
      Knowledge (Magic), Swim and Wilderness Lore as racial skills.
      \n\n         
      <10>LIZARDFOLK RACIAL TRAITS<2>\n
      __*_<7>+2 Strength, +2 Constitution<2> -- The lizardfolk are terribly strong
      by human standards, and are not only resistant to injury but also to
      disease, poison, age effects and many other kinds of maladies.\n
      __*_<7>-2 Intelligence, -2 Luck<2> -- Conversely, the lizardfolk do not
      understand conventional civilization or scholarship, have difficulty
      articulating non-trivial ideas to mammalian races and are slow to think
      and act, missing oppurtunities other races would easily catch.\n
      __*_<7>Natural Weapons<2> -- Lizardfolk have the benefit of natural
      weapons -- their natural attack sequence is to claw for 1d4+1 points of
      slashing damage, claw for 1d4+1 points of slashing damage and bite for
      1d4 points of piercing damage. They also have a natural armor rating of 
      5 against slashing, piercing and blunt damage.\n
      __*_<7>Reptilian Empathy<2> -- Lizardfolk are not entirely individual
      creatures, having a strong, shared instinctive racial empathy with each
      other. Lizardfolk can always percieve the presence of other lizardfolk
      within 180 feet, even with a solid barrier seperating them. Lizardfolk
      are almost never hostile to each other. They also share a kind of
      primitive empathy with all other reptiles, being able to simulate the
      Animal Empathy skill at a level equal to their character level when
      dealing with such creatures.\n
      __*_<7>Ancestral Memory<2> -- Lizardfolk can enter a trance-like
      state in order to use their racial memory to augment their skills,
      albiet at the cost of fatiguing themselves. At the cost of 2 fatigue
      points, they can attain the maximum possible number of ranks for a
      character of their level in any single skill - or a +4 insight bonus,
      whichever raises their total skill rating in that skill higher -- for
      a very short period of time.\n
      __*_<7>Fire Resistance<2> -- As reptiles, lizardfolk are inherantly
      much less affected by heat, and their specific physiology enhances this
      effect even further. They enter play with fire resistance 5, and it
      increases by one point every odd level after 1st.\n
      __*_<7>Water Affinity<2> -- Lizardfolk possess a deep spiritual tie with
      the base element of water, and this is reflected in their magic. When a
      lizardman casts a spell or uses a magical device with the [Water] descriptor,
      he gains a +2 bonus to the dweomer's save DC, a +1 bonus to his effective
      caster level and spends only half (round up) the normal mana cost. When a 
      lizardman makes a social skill check against a creature with the Water 
      Creature subtype,
      he gains a +2 social modifier to his roll.\n
      __*_<7>Slow Metabolism<2> -- Lizardfolk grow hungry much more slowly
      then other races -- hard activity hungers them as much as anyone, but
      when they rest they use little food in comparison to mammals. By
      contrast, they require a much greater mass of food intake then mammals
      do to become Satiated. Hunger is a long-term problem for lizardfolk,
      rather then a short-term need.\n
      __*_<7>Focused Mind<2> -- Lizardfolk have an extremely linear thought
      process and instinctive responses that guide them well, giving them a
      +2 racial bonus to resist confusion effects and a +4 racial bonus to
      Concentration skill checks.\n
      __*_<7>Oily Secretion<2> -- The skin of the lizardfolk exudes a thin
      layer of a slick, oily substance when pressed, in much the same way
      humans sweat when dehydrated or when exerting themselves. This natural
      form of defense gives lizardfolk a +4 racial bonus to avoid being
      grabbed and to the grapple check to break out of a grapple.
      \n__*_<7>Starting Equipment<2> -- Lizardfolk start with a medium
      backpack, some torches, some cured meat and several vials of holy
      water -- lizardfolk frequently worship the oceans and rivers in
      the abstract, so their society gives them easy access to holy waters.
      Lizardfolk proficient with thrown weapons start with a boomerang as
      well.\n\n
      <10>LIZARDFOLK SUBRACES <5>(Unimplemented)<2>\n
      __The Tauri Adhami are the pureblooded nobility of the lizardfolk, reciving
      an increase in Charisma and certain mystical gifts of regency to accompany
      their noble blood.\n
      __Amahzd Tethra lizardfolk are the oldest pure bloodline of their people,
      with increased access to the lizardfolk racial memory and superior wisdom.
      They benefit from a limited ability to see the future and insight similar
      in effect to a bard's lore, but are even slower to act then normal lizardfolk
      and suffer biological swings based on the season and the weather.\n
      __The Dehezad Reigh ('the Chosen') is a mystical sisterhood of mutant lizardfolk
      born as albinos. Naturally blind, they 'see without sight' and have access to
      great mystical powers, but are also subject to limiting taboos and the strict
      authority of their sect.\n
      __The Dragonkin are a line of lizardfolk who have interbred with the dragons
      over the centuries, gaining certain of the advantages that race possesses
      but also becoming cursed with a ravenous hunger that makes them greatly feared
      and viewed as degenerate among their own race.\n
      __Their troubles pale when compared to the Nietzol Ashadrach, however. Born
      wrong, these lizardfolk lack the inherant racial empathy that most members of
      their race possess, these wretched folk are viewed as soulless and outcast
      from the lizardfolk community. They have a greater ability to adapt to human
      society as a result, and are often mistakenly called 'half-lizardfolk' by
      humans who do not understand their condition.";
Gear:
if ((EActor->Proficiencies & 0x00000100) &&
(EActor->LevelAs($"monk") == 0))
$"boomerang",
$"medium backpack",
3d2 $"torch",
16d2 $"strip of cured meat", 3d4 blessed $"flask" of $"water";
1: "Tephraon/Raotil/Legroth/Gosaad/Savis/Gusack/Tabrim/Umlathi/
      Fersas/Feshrish/Yupharin/Asogath/Saglisha/Gorfang/Keskel/Hiiman/Tabasci/
      Xixrat/Gomlon/Gamoran/Molworg";
2: "Tephraon/Raotil/Legroth/Gosaad/Savis/Gusack/Tabrim/Umlathi/
      Fersas/Feshrish/Yupharin/Asogath/Saglisha/Gorfang/Keskel/Hiiman/Tabasci/
      Xixrat/Gomlon/Gamoran/Molworg";
3: "of the Sun/of the River/of the Fire/of the Blood/of the Sand/
      of the Ashes/of the Eggs/of the Seasons/of the Flesh/of the Sword/of Life/
      of Death/of the Swamp/of Stone/of Unity/of Survival/of Fertility";
#line "races.irh" 1809
Lists:
* 19
5 $"celestial" $"riding lizard"
$"celestial" $"war lizard"
7 $"young" $"plant ur-dragon"
$"young" $"shadow ur-dragon"
$"young" $"brilliant ur-dragon"
$"young" $"shattering ur-dragon"
$"young" $"water ur-dragon"
9 $"behir"
$"tendriculous"
$"froghemoth";
Constants:
* 113 90;
On Event 153 {
if (EActor->Proficiencies & 0x00000100)
if (EActor->WepSkill($"boomerang") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"boomerang", 0);
return 0;
};

}
#line "races.irh" 1839
Monster "orc;temp" : 22, 87
{
Image: brown '@'; Size: 4; Mana: 5;
CR: 0; HD: 1; Hit: 0; Def: 10; Hit: 1; Mov: 100%; Spd: 100%;
Str 10, Dex 10, Con 10, Int 10, Wis 10, Cha 10;
Attk: 1 for 1d3 13;

Stati[39,42,6];
Stati[39,71,3];

Flags: 36, 1, 8, 24,
23, 110;
Desc: "Orc Player Race";
}

Race "Orc;race"
{
Str +4, Dex 0, Con 0, Int -2, Wis +2, Cha -2, Luc 0;
Monster: $"orc;temp"; Favored Class: $"barbarian", $"priest";
Skills: 4, 20;
Grants:


Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"shotput"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)] at 1st level,
Ability[132] at 1st level,
Ability[22] at 1st level;
On Event 169 {
if (EItem->QualityOK(69))
EItem->AddQuality(69);
};
On Event 150 {
hObj h;
EActor->Proficiencies |= 0x00000080 | 0x00000008 |
0x00000400 | 0x00000200;
if (EActor->GodID == ((rID)0))
if (EActor->yn("Do you wish to worship Khasrach?"))
{
EActor->GodID = $"Khasrach";
EActor->setGodFlags($"Khasrach",0x0001);
}
};
Desc: "<15>Str:<1>+4 <15>Dex:<1>-- <15>Con:<1>-- <15>Int:<1>-2 
      <15>Wis:<1>+2 <15>Cha:<1>-2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Barbarian, Priest\n
      
      \n__Brutal, crass and stupid, orcs are commonly seen as a plague
      upon the land by the more civilized races. Huge, muscular humanoids
      with faces crossing the features of men and swine, the orcs reinforce
      this connection with their savagery and their willing contentment to
      accept the lowest common denominator in all things. Orc society tends
      to be militaristic, patriarchal and driven by selfishness first and
      firemost.
      \n__Orcs are very, very rapid breeders, giving birth to litters and
      breeding frequently and casually -- along with their recent focus on
      the development of black-powder weapons, this may be the only factor
      that has allowed them to survive against dwarven prowess and human
      sociological development. On the other hand, this count be exactly
      what humanity wants -- for ages untold, it has been a human warlord
      or necromancer who gathers and leads armies of orcs, usually as a
      distraction or tactical edge that ends in their near-extermination.
      Recently, however, this has changed. Orcs were instrumental in the
      slave revolts in Mohandi, and their forces were responsible for the
      liberation of slaves from all the goodly races and central in forming
      the anarchistic 'government' that now rules there. Further, while
      only a very small percentage of the orcish race leaves the great
      fortresses and communes that house their armies and breeding pits,
      that's still a staggering number by human demographic standards, and
      now orc merchants, craftsmen and soldiers are a ubiquitous part of
      nearly every human city.        
      \n__Taken out of the oppressive squalor of their own natural society
      yet allowed to live according to their racial nature, the orc peoples
      prosper. Many orcs become great soldiers and war-heros, while others
      rise to positions of power in theives' guilds or merchant houses.
      Mostly, though, they form a silent underclass that members of all the
      'goodly' races are quite content to exploit for cheap labour and fence
      into ghettos and slums. Some scorn the stereotype, striving to be as
      intellectually developed as humans and elves, but most find more of
      corruption then virtue in the very qualities that humanity chastizes
      them for lacking. It is from this quarter, these 'city orcs' that most
      orcish adventurers rise. Sometimes these orcs return to the great orcish 
      cities, working in resistance cells to overthrow the human or baatezu 
      overseers.
      \n__A rising movement is the desire to reconstruct the true tribal customs
      of the primevil orcs, understanding how their people lived before they
      were actively bred and honed by human and daemonaic powers as cannon
      fodder. More and more now legendary orcs are rising to positions of
      great power over their people. Split in a three-way racial schism between
      the city orcs, (neo-)tribal orcs and the traditional orcs hordes, the fate
      of the entire species may very well rest in the hands of its few, brave
      heroes.\n      
      \n 
      <10>ORC RACIAL SKILLS<2>\n
      __As a race the orcs are not a skilled people; in game terms their Intelligence
      limits their skill points, and in cultural terms little emphasis is put upon
      most orcs to develop a trade. The only racial skills orcs possess are Athletics
      and Intimidate.
      \n\n
      <10>ORCS RACIAL TRAITS<2>\n
      __*_<7>+4 Strength<2> -- The strength of orcs of legendary; they are the
      strongest creatures the average human or elf will ever meet. Orc strength,
      unlike that of lizardmen or wood elves, is clearly visible -- orcs tend to
      be bulky in build, with clearly visible muscles.\n
      __*_<7>-2 Intelligence<2> -- While orcs are not the comical retards that
      human narrative often makes them out to be -- they are quite capable of
      cunning plans and foresight -- their language is limited, their culture
      scorns education and they have a very limited grasp of analytical
      reasoning.\n
      __*_<7>+2 Wisdom<2> -- Orcs tend to be determined survivors with a
      canny cunning, have a developed awareness of the world around them,
      tend to have led harsh lives that lead to stronger-held personal
      convictions and ideals and are more in tune with the primal, visceral
      element of nature that their shamans and clerics revere then the more
      civilized races.\n
      __*_<7>-2 Charisma<2> -- Orcs tend to be viewed (visually and culturally)
      as vile by members of most more refined races (and honestly, everyone is
      more refined then orcs are). Their love of crassness, and their neglect of
      hygene combine with prejudice to ensure that orcs have to make an active
      effort not to get a negative response in most social situations. Their
      anatomy, while not as groteque as it is commonly made out to be, is also
      less appealing to the typical human aesthetic then, say, an elf's.\n
      __*_<7>Militarism<2> -- The orcs are a warlike race, and every orc
      recieves some degree of training in war, often from a very young
      age. All orcs, regardless of class, are proficient with the impact
      weapons group, the blades group, the spears group and the polearms
      group. In addition, the sporting competitions and training of youth
      grant orcs a familiarity with the orcish shotput.\n
      __*_<7>Toughness<2> -- Orcs are not a hardy people; their typical
      lifespan is thirty to forty years, disease takes a heavy toll on
      their numbers and their abject living conditions limit the strength
      of their constitutions.  What they are, however, it tough, and
      absolutely unwilling to give in on the field of battle. As a result,
      all orcs recieve the Toughness feat for free at 1st level.\n
      __*_<7>Devouring<2> -- Orcs are much reviled for eating the bodies
      of their slain foes, but few are aware that this practice has a
      mystical component as well as a cultural one -- once, millenia
      ago, orcs would eat the bodies of elderly members of their tribes
      as a sign of respect, supernaturally allowing some small part of
      their ancestor's wisdom to live on within them. Now, it is an act
      mostly practiced only for the more worldly desire of claiming a
      fallen enemy's strength for oneself.\n
      __In game terms, an orc that eats the corpse of a creature that
      has an innate elemental resistance to a given damage type may
      develop or increase that resistance himself, provided that the
      creature's resistance level is greater then the orc's current
      inherant rating in that type of resistance.\n
      __Furthermore, certain rare monsters that are the allegorical
      representation of a given ability score can convey an inherant
      bonus to that ability when their corpses are devoured. Giants
      are so tied to Strength, elves to Dexterity, trolls to Constitution, 
      mind flayers to Intelligence, nagas to Wisdom, faeries to Charisma 
      and mythic hybrids to Luck. Dragons can convey increased mana when 
      their bodies are eaten, being creatures of pure magic.\n 
      __Finally, any living creature whose corpse is eaten provides a 
      moderate boost in experience points, provided that its Challenge 
      Rating compares well with the devourer's character level.\n 
      __*_<7>Scent<2> -- Orcs have a highly acute sense of smell, and are
      able to track their enemies by scent. They recieve the Scent ability
      with a range of 30 feet.\n
      __*_<7>Infravision<2> -- Dwelling underground and upon the surface
      with equal ease, orcs have Infravision to a range of 60 feet.\n
      __*_<7>Spell Fury<2> -- Orcs are not particulairly adept at magecraft
      overall, but the sheer primal anger they bring to magical workings
      lends them a certain power as mages. In game terms, orcs double their
      Wisdom modifier on arcane spells that inflict direct physical damage.\n
      __*_<7>Light Aversion<2> -- Just as orc eyes are adapted to darkness,
      however, they suffer in light. More then just biology, orcs suffer an
      instinctual psychological aversion to daylight; it weakens their
      morale, limits vision and brings a sense of claustrophobic panic upon 
      then. Orcs suffer a -4 penalty to hit and to their defense class in
      brightly lit terrain squares (such as the area of effect of a priest's
      <9>call light<2> spell).       
      \n__*_<7>Starting Equipment<2> -- Orcs start with a medium backpack, 
      a longspear or ranseur, some cured meat and a knife.\n\n
      <10>ORC SUBRACES <5>(Unimplemented)<2>\n
      __Cave orcs are the most fecund, and most common, of the orc subraces.
      Adapted to Underdark life, the cave orcs have superior infravision, a
      racial aptitude for climbing and the ability to scale even sheer surfaces
      easily, along with an understanding of swarm tactics and an aptitude for
      underground survival, but they are even more craven then the majority of 
      the orcish race, and more intellectually stunted.\n
      __Hill orcs are the subrace that most surface orcs bear the primary blood
      of, being the result of centuries of breeding and Darwinian selection.
      Pureblood hill orcs have a stronger tie to nature through a tiny aspect 
      of racial memory; they have a limited empathy with predatory beasts and
      an aptitude for wilderness survival.\n
      __Blood orcs are bound by a blood oath to their race, and are the newest
      orc subrace. Fierce and unconquered, blood orcs draw strength both 
      mystical and psychological from their declared jihad against the peoples
      who have dominated their race throughout the years. They tend to be more
      violent, zealous, ambitious and driven then most orcs.\n
      __Black orcs were bred and engineered by Azakram the Black millenia ago
      in his campaign for conquest of the Kinlands during the Mage Wars. They
      have a heightened affinity for blood magic, a limited empathy with the
      undead and a small degree of innate mystical power, but are not as strong 
      as their compatriots and suffer from an suceptability towards enchantment 
      spells. In the modern age, the most frequently serve as shamans and other
      spiritual authorities in an orc tribe.";
#line "races.irh" 2052
1: "Dench/Feng/Gell/Henk/Holg/Imsh/Kesh/Ront/Shump/Thokk/
                 Vang/Lothgar/Grognard/Shagga/Mogg/Shobri/Rathak/Volgar/
                 Shong/Krang/Ragnar/Hurk/Ulgen/Varag/Maasdi/Garta/Zol";
2: "Baggi/Engong/Myev/Neega/Ovak/Ownka/Shautha/Vola/Volen/
                  Jokli/Rutha/Wargi/Wesk/Dultha/Jongi/Ruulam/Tautha/Vooga/
                  Ilnush/Sawmi/Lenk/Lisva/Suubi/Rangka/Gaashi/Vuulga";
3: "the Slayer/the Elfslayer/the Bloodspiller/the Skullcleaver/
      the Griefmaker/the Deathbringer/the Harbringer/the Destroyer/the Savage/
      the Unconquered/the Anathema/the Blooded/the Unbound/the Wise/the Breaker/
      the Defiler/the Desecrator/the Berzerker/the Warlord/the Avenger";
Gear:
$"medium backpack",
8d2 $"strip of cured meat", $"knife",
50% $"longspear"
else $"ranseur";
#line "races.irh" 2070
Lists:
* 19
5 $"celestial" $"warhorse"
$"celestial" $"horse"
7 $"celestial" $"griffon"
$"celestial" $"dire" $"wolf"
$"celestial" $"cave lion"
$"winter wolf"
$"blazing terror"
9 $"celestial" $"dire" $"cave lion"
;
Constants:
* 113 100;

}
#line "classes.irh" 1
Class "Barbarian"
{
Desc: "
      <15>HitDie:_<1>d12_<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_<9>F<1>rw_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>75~<1>\n
      <2>\n\tHe may be born out of the harsh winters of Njordland, or from the
      expansionist peoples of Arasaki. He could be a gladiator-lord from
      the fallen Empire of Mohandi, or a tribesman from the dense and
      humid jungles of Angla Maua. Regardless, the Barbarian is a fierce
      berzerker-warrior, well-trained in brutal combat and wilderness
      survival, but not as accustomed to the subtle intrigues and unseen
      dangers of the civilized world. Uncivilized inherantly makes the 
      barbarian neither stupid nor evil, thoughh of course many members
      of this breed may be both. At his (or her) noblest, the barbarian
      is the champion of a simpler time, when might did not make right,
      but simply defended it, and the most major problems could be solved
      with a sword and a battlecry.
      \n\tThe Barbarian's physical toughness is unmatched by any other
      class in the game, though the Warrior exceeds her in skill. In
      straight-up melee combat, the Barbarian excels. 

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the barbarian are Athletics, Climb, Craft,
      Heal, Intimidate, Intuition, Jump, Knowledge (Nature),
      Listen, Spot, Swimming and Wilderness Lore. 

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the barbarian.\n
      __*_<7>Proficiencies<2> -- The barbarian is proficient with simple
      weapons, impact weapons, long blades, polearms, spears, axes and flails,
      and with light and medium armors.\n
      __*_<7>Berserk Rage<2> -- Barbarians are well-known for going berserk
      in combat, augmenting their strength and terrifying their foes. Upon
      entering a berserk rage, a barbarian gains a +4 bonus to Strength and 
      Constitution, a +20% bonus to Speed and a +2 bonus to Will saves. The 
      rage lasts for a base duration of 10 rounds, plus three rounds per 
      barbarian level -- provided that the barbarian remains in combat. If a 
      barbarian is out of combat long enough to become flat-footed, their rage 
      ceases.\n 
      __This battle rage requires a certain purity of mind, and thus multiclass
      barbarians with fewer than 3 barbarian levels halve the modifiers (+2
      Strength, +2 Constitution, +1 to Will saves). Upon reaching 8th level, 
      the barbarian is immune to all confusion effects while raging; at 13th, 
      the barbarian cannot be stunned while raging. At 9th level, the raging 
      barbarian's bonuses increase to +6/+6/+30~/+3, and at 16th level they reach 
      their maximum potential of +8/+8/+40~/+4.\n
      __Barbarians from naturally Small races apply only half the normal bonus 
      to Strength when they Rage, and apply the other half to their Dexterity.
      Their rages resemble the fighting of a panicked cat, and tend to throw
      enemies off balance -- every time they make a successful attack while
      raging, they make a Charisma check against a DC of 11 + their opponent's
      Wisdom modifier; success causes the opponent to suffer a -1 penalty to
      attack, damage, defense class and most other rolls for the next 1d4+1
      rounds. Further enraged attacks increase both the magnitude and duration
      of this penalty culmulatively; multi-class barbarians can inflict a
      maximum penalty equal to their barbarian levels, while straight barbarians
      can inflict an unlimited penalty.\n
      __Entering a rage costs a barbarian four fatigue points if they are in 
      heavy armor, three in medium armor, two in light armor and one if they
      are unarmored. The fatigue cost of raging while armored decreases by one
      at 4th level, and an unarmored barbarian of 4th level or above may make 
      a Con check against DC 20 to avoid fatigue loss when raging; failing this 
      check costs one fatigue point. A raging barbarian is never considered to 
      be fatigued or exhausted, though they suffer the effects of those traits 
      as soon as the rage ends, if applicable.\n
      __A raging character may not cast spells, don or remove armor or clothing,
      pick locks or search through a container (such as his backpack) for items.\n
      __*_<7>Tough as Hell<2> -- A barbarian recieves double the normal
      number of bonus hit points from a high Constitution score for all of
      his barbarian levels.\n 
      __When struck for physical damage, an unarmored,
      single-classed barbarian can subtract his Constitution modifier from the
      damage suffered (to a minimum of one point). A multiclass barbarian subtracts
      a proportion of his Constitution modifier from damage equal to his
      number of barbarian levels proportionate to his total
      level -- for example, a barbarian 2/warrior 1 would subtract
      66% of his Con modifier from damage. This proportion
      is always rounded down, so even one non-barbarian level
      reduces the amount subtracted by at least one.\n
      __If the barbarian wears armor, every 'degree' (light, medium,
      heavy) of armor worn counts as three non-barbarian levels
      added to his total for the purposes of reducing this bonus.\n
      __Finally, starting at 7th level the barbarian
      has a natural armor rating similar to a monster's. This value is
      identical against slashing, piercing and blunt damage, is not
      penetrated by weapons of any plus and increases by +1 for every odd
      barbarian level.\n
      __*_<7>Increased Move<2> -- A barbarian, like a monk, naturally moves
      faster than other characters. Barbarians gain a culmulative bonus of 
      +10~ to their movement rate for every even barbarian level.\n
      __*_<7>Hardy Lifestyle<2> -- Barbarians lead perhaps the harshest and
      most physically demanding existance of any of the adventuring classes,
      surviving brutal raids and inhospitable terrain that would break weaker
      men and women. This constant forcing of their bodies to the limit ends
      up tempering them into beings of incredible physical prowess.\n
      __In game terms, barbarians recieve a +1 inherant bonus to either Strength
      or Constitution at every even level, chosen randomly, up to the maximum
      possible inherant bonus for their race (+5 for most characters, or +8 
      for humans). Barbarians of a Small race naturally improve their Dexterity
      in this manner as well.\n
      __Characters who start play as barbarians have assumed to have lived
      this lifestyle all their life, and therefore have a +1d2 inherant bonus
      to Strength and Constitution (and Dexterity, for Small barbarians) from
      the very start of their career. (This is balanced by the fact that
      barbarians have the weakest starting equipment of an class.)\n
      __*_<7>Uncanny Dodge<2> -- Like the rogue, the barbarian is possessed
      of preternatural agility and instincts that allow her to avoid harm.
      Starting at 2nd level and beyond, the barbarian is never caught flat-
      footed -- no matter how many rounds have passed since her last combat
      exchange, she is always alert. At 4th level, her uncanny instincts allow
      her to wake alert if she has an encounter while resting, avoiding being
      flat-footed, vulnerable to Coup de Grace attacks and being able to act
      immediately as the encounter begins. At 5th level and above, she suffers no
      ill effects from having enemies on either side and is effectively
      immune to flanking. Starting at 6th level and above, the barbarian
      recieves gradually increasing bonuses to all saving throws against
      traps -- her instincts tell her exactly when to dodge or pull back.\n
      __Levels of this ability from the barbarian and rogue classes stack.\n
      __*_<7>Spellbreaker<2> -- Barbarians recieve experience points for
      the destruction of magical items other then weapons or armor. When
      they destroy such an item, they recieve experience equal to that
      gained from killing a creature with a CR two below the item's level.
      Multiclass barbarians recieve a fraction of the experience proporational
      to their barbarian levels -- a barbarian 2/warrior 3 would recieve 2/5ths
      of the normal experience for breaking an item. Use the Break verb on
      the [Y]use menu to break items in your inventory.\n
      __Characters with arcane spellcasting ability recieve no experience for
      destroying magical items.\n
      __*_<7>Mighty Stroke<2> -- Starting at 3rd level performing a Great Blow
      costs a barbarian only one fatigue point. When they achieve 6th level,
      they can perform this maneuver without expending any fatigue at all.\n
      __*_<7>Small Barbarians<2> -- In addition to the changes to the Berserk
      Rage ability listed above, barbarians from Small races also recieve the 
      Defensive Roll ability (from the rogue's higher-level special ability 
      list) upon attaining four combined levels of warrior, ranger, paladin, 
      monk or barbarian.\n
      __*_<7>Starting Benefits<2> -- Barbarians start with a racially-determined 
      heavy weapon, a loincloth and potentially hide armor. Their starting
      equipment is the weakest of any class, which balances the powerful
      inherant bonus a character who enters play as a barbarian gains.\n\n
      <10>THE BARBARIAN<15>\n
      __Level__Def__Fort_Refl_Will_Move_Special Abilities<1>\n
      ____1____+0____+2___+0___+0___--__Rage (+4/+20~/+2)   \n
      ____2____+1____+3___+0___+0__+10~_Never Flat-Footed \n
      ____3____+1____+3___+1___+1__+10~_Mighty Stroke I   \n
      ____4____+2____+4___+1___+1__+20~_Rage (Less Fat.),\n
      __________________________________Wake Alert_______\n
      ____5____+2____+4___+1___+1__+20~_Immune to Flanking\n
      ____6____+3____+5___+2___+2__+30~_Mighty Stroke II, \n
      __________________________________Trap Sense +1     \n
      ____7____+3____+5___+2___+2__+30~_Natural Armor +1, \n
      ____8____+4____+6___+2___+2__+40~_Rage (vs. Confus.)\n
      ____9____+4____+6___+3___+3__+40~_Trap Sense +2,    \n
      __________________________________Natural Armor +2  \n
      ____10___+5____+7___+3___+3__+50~_Rage(+6/+30~/+3)   \n
      ____11___+5____+7___+3___+3__+50~_Natural Armor +3  \n
      ____12___+6____+8___+4___+4__+60~_Trap Sense +3\n";

HitDice: 12; Mana: 4; Def: 1/2;
Attk: 1 100,
2 100,
0 75,
3 75;
Skills[6]: 7, 9, 17, 20, 21,
22, 32, 44, 45, 48, 4,
27;
Proficiencies: 0x00000008, 0x00000001, 0x00000080, 0x00000200, 0x00000400,
0x00020000, 0x00000010;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Feat[((49 + 1) + 12)] at 1st level,
Ability[8] at every level starting at 1st,
Ability[129] at 3rd level,
Ability[129] at 6th level,
Ability[41,+2] at every 2nd level starting at 2nd,
Ability[100] at every level starting at 2nd,
Ability[93] at every level starting at 1st,
Ability[127] at every level starting at 1st,
Stati[113,17,+1] at every 2nd level starting at 7th;
Gear:
if (EActor->isMType(83))
$"large club"
else if (EActor->isMType(65))
50% $"long sword"
else if (EActor->isMType(65))
$"heavy mace"
else if (EActor->isMType(62))
$"long sword"
else if (EActor->isMType(64))
$"tiger claws"
else if (EActor->isMType(66))
$"scimitar"
else if (EActor->isMType(63) || 1d3 == 1)
$"greataxe"
else
20% $"halberd"
else
$"greatsword",
$"loincloth",
5d10 $"gold piece";
Flags: 6, 15;

On Event 153 {
int32 a, b, att;
if (EActor->isMType(67))
EActor->Proficiencies |= 0x00000080;
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"barbarian",4);

if (EActor->TotalLevel() == 1 &&
EActor->LevelAs($"barbarian") == 1)
{
EActor->GainInherantBonus(0,1d2,false);
EActor->GainInherantBonus(2,1d2,false);
#line "classes.irh" 222
return 0;
}

if (EActor->LevelAs($"barbarian") % 2)
return 0;

a = 1d3 - 1;
for (b=0;b!=3;b++)
{
att = (a+b) % 3;


if (att == 1)
#line "classes.irh" 238
continue;


if (EActor->SumStatiMag(113,att) >=
(5 + EActor->AbilityLevel(43)))
continue;

EActor->GainInherantBonus(att,1,true);
return 0;
}

EActor->IPrint("A perfect physical specimen!");
return 0;
};
}


Class "Bard"
{
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d10__<15>Skills:<1>_8_<15>Saves:<1>_f<9>RW<1>_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Trown <9>75~<1>\n
      <2>\n\tThis is not some merry minstrel or casual playwright, but a
      dynamic figure whose powerful charisma and diverse skills inspire
      and fortify those around him. The bard is a magnetic personality;
      admirers want to be near him, while enemies fear him. He's very
      world-learned and cosmopolitan, being familiar with many different
      legends and customs and having travelled to all manner of exotic
      lands. He dabbles in magic, scholarship, intrigue and skullduggery 
      and even in the combat arts, not trusting any one field alone to 
      protect him in the world. Like the Rogue, he relies first and 
      foremost on his wits and charisma to get him out of trouble. Many
      Bards eventually join one of the bardic colleges that dot the world,
      ancient institutues of hallowed mystery, revered heritage and grand
      political power.
      \n\tThe Bard is a jack-of-all-trades class, with a lot of diverse
      abilities. He has a wide selection of skills, including stealth,
      a dabbling of arcane magic and competant fighting skill with a wide
      variety of weapons and armor. He also has entirely unique abilities,
      such as the power to hearten and augment his allies supernaturally
      with music, and a diverse body of knowledge that gives him a good
      chance to automatically identify items and monsters.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the bard are Alchemy, Appraise, Balance, Bluff,
      Climb, Concentration, Crafts, Decipher Script, Diplomacy, Escape Artist,
      Jump, Knowledge (all), Listen, Perform, Spellcraft, 
      Swim, Tumble and Use Magic Device. 

      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the bard.
	    \n__*_<7>Proficiencies<2> -- The bard is proficient with simple weapons,
	    light weapons, short blades, daggers, archery and light armor.\n
      \n__*_<7>Spells<2> -- Though not nearly as skilled as wizards 
      or druids, bards do dabble in magic. They cast spells from memory,
      having no need for spellbooks or paraphenelia. Their spell list
      lacks the raw power of the primary casters, but it is very diverse, 
      including enchantments, illusions, minor evocations and even
      low-grade healing spells. Bards recieve one sorcerous spell level at
      every even class level, and start with a single, bonus 1st-level spell
      slot at 1st level. Bardic spells are not negatively impacted by light
      armor or shields. 
      \n__*_<7>Bardic Music<2> -- Bards excel at performance, whether it be
      singing or using a musical instrument. In fact, bardic adventurers
      can create works so moving as to have a tangibly supernatural effect
      upon their audience. This ability is a valued secret passed down by
      the bardic colleges, and is the source of much mystique and legend.
      \n__Bards can produce the following musical effects as they advance
      in level. All bardic music effects are based on a Perform skill check;
      creatures unwilling to be affected may counter with a Will-based saving
      throw. Bardic music does not affect mindless or deaf creatures, for
      obvious reasons, and has a range equal to the bard's Perform skill rating
      plus two. Each use of bardic music costs 1 Fatigue Point, unless otherwise 
      noted. Maintaining a bardic music effect requires singing, which prevents 
      spellcasting (barring the use of Vocalize Spell) and imposes a -2 
      circumstance penalty to attack and defense. You automatically stop singing 
      whenever you change map screens as well.
      \n__<10>Inspire Courage (1st):<2> The bard is able to inspire great valor in 
      her allies and friends. When this bardsong is sung, all allies are freed
      from the effects of the <7>Afraid<2> status, and gain a morale bonus
      to attack and damage rolls equal to the bard's Charisma modifier; for
      multiclass bards, this modifier is capped at their total bard levels.\n
      \n__<10>Fascination (3rd):<2> The bard causes a single creature to become 
      enraptured with his music, unable to move or attack for as long as she
      sings. Attacking the creature of otherwise inflicting damage will break 
      the spell. A Will save against DC (10 + 1/2 bardic music levels + Charisma
      modifier) negates this effect.\n
      __A bard with 10 levels of bardic music is skillful enough to fascinate
      entire groups of creatures -- when she uses this song, every hostile
      creature who can see and hear her is affected.\n
      \n__<10>Countersong (5nd):<2> This ability allows a bard to counter sound-based
      mystical effects that might harm her or her allies, such as a banshee's
      wail or the <9>shout<2> spell. 
      \n__<10>Inspire Competance (7th):<2> The bard's music can inspire allies to great
      feats of heroism, granting them a competance bonus equal in magnitude to the bard's
      Charisma bonus (capped at bard level for multiclass characters) to attack rolls
      and saving throws. The effect also grants +15% attack speed per level of Charisma
      modifier, and twice the modifier to Defense Class.\n
      \n__<10>Hymn of the Phoenix Arisen (9th):<2> The bard sings a
      primal, life-affirming ballad that establishes a kind of psychosomatic bond
      among herself and all allies who hear the song. Any healing effect on any
      member of the party thereafter affects all members of the party equally,
      whether from potion, spell or other source. Additionally, all listeners
      -- including the bard -- are treated as having a Fire Resistance equal to
      the bard's Perform skill rating and gaining six temporary Fatigue for the
      duration of the song.\n
      \n__<10>Spellbreaker Chant (11th):<2> A bard with this
      level of ability is able to sing a baritone chant with intensely difficult
      phonetics that duplicate and confuse the verbal components used by spellcasters,
      hypnotically leading them to mispronounce syllables. Anyone attempting to cast a 
      spell who can hear the chant must make a Concentration check opposed to an
      immediate Perform check by the bard. If the bard's check is higher, the spell
      is disrupted. Additionally, the spellcaster must then make a Will saving throw
      (DC 10 + 1/2 Bardic Music level + Charisma modifier) of become confused for 2d4
      rounds. 
      \n__<10>Dirge (13th, <4>Uniplmemented<10>):<2> The deep harmonics of the bard's music evoke a supernatual
      dread and despair in all who hear it, causing them to become <7>Afraid<2> and 
      flee for the length of the song.
      \n__<10>Inspire Greatness (15th, <4>Uniplmemented<10>):<2> The bard's music augments the power, endurance
      and general heroic ability of her party, adding a morale bonus based on her roll 
      to all of their attack and damage rolls, saving throws, skill checks and other
      rolls. She also grants them extra temporary Hit Dice (d10s) and the accompanying
      temporary hit points. Finally, her party is made immune to fatigue and fear
      effects for the duration of the song.
      \n__<10>Ensnare the Heart (18th, <4>Uniplmemented<10>):<2> The bard is able to produce a strain of music so
      pure and beautiful that it will echo throughout the heartstrings of another for
      eternity, binding them to the bard's service willingly and gladly. Only one being
      may be so enthralled at a time, and that being's CR may not exceed the bard's level
      plus her Charisma bonus. No loyalty checks are made for this creature, and it does
      not count toward either the bard's party HD or summoned/charmed HD.\n
      __*_<7>Legend Lore<2> -- Bards are familiar with a wide variety of legends, and have
      a reasonable chance of identifying any item or monster on sight. A bard makes a 
      one-time lore check when first picking up any unidentified item; success allows
      the bard to fully identify the item. The check is not a skill check, but an opposed
      roll of the character's bard levels versus the item's own level. Bards have a similar
      chance to identify monsters completely upon first inflicting damage upon a given
      monster.\n
      __*_<7>Storycraft<2> -- Artifacts are more then magical items; they are
      legends. Quite literally, an artifact gains its
      enchantment not from a mage's workings, but from
      the shifting of the tapestry of fate and the
      recognition and blessing of the gods after a
      legendary deed is performed with it. Even normal
      magical items gain power when the raw stuff of
      stories is woven around them.\n
      __Bards tell stories, craft reputation and carve
      the very fabric of legend with their words.
      Needless to say, this gives them no small degree
      of power over magical items and artifacts.\n
      __In game terms, every bard level taken after the
      first gives a
      character the ability to increase the magical
      plus of any single magical item by one. This can
      only be done if doing so would not increase the
      item's Item Level to a greater total then the
      bard's [Bard Level + Charisma modifier]. The
      increase is permanent and irreversable, and is
      not refunded if the item is destroyed.\n
      __[ In the full-release version of Incursion,
      this will only be possible in a tavern, where
      the bard can tell stories to an appreuciative
      audience. In this version, it can be done
      anywhere, at any time. In the full release,
      bards will also gain the following ability
      related to magical items:\n
        If a bard performs a legendary deed -- killing
      a quest nemesis or a creature whose Challenge
      Rating is six or more above his own -- using a
      magical item, that item has a chance (5% per
      bard level) of becoming an artifact and gaining
      extra powers. ]\n
      __*_<7>Bonus Feats<2> -- Reflecting the diverse tricks they pick up on their travels,
      bards gain a bonus feat slot at 4th, 8th, 12th, 16th and 20th levels. These feats may be
      chosen from any feat in the game that does not have another feat as a prerequisite.
      \n__*_<7>Starting Equipment<2> -- Bards start with a musical
      instrument, a short bow and light melee weapon (if they don't
      already have better from a different source), noble attire and 
      a significant supply of gold -- the largest allotment of any
      class.\n
      __Bards, as the most social class, also start out with a humanoid
      companion willing to quest with them to explore the dungeon and
      discover new treasures under a kind of apprenticeship.
      \n\n<10>THE BARD<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+2__Inspire Courage   \n
      ____2____+1____+0___+3___+3__+1 CL, Storycraft \n
      ____3____+1____+1___+3___+3__Fascination       \n
      ____4____+1____+1___+4___+4__+1 CL, bonus feat \n
      ____5____+2____+1___+4___+4__Countersong       \n
      ____6____+2____+2___+5___+5__+1 caster level   \n
      ____7____+2____+2___+5___+5__Inspire Competance\n
      ____8____+3____+2___+6___+6__+1 CL, bonus feat \n
      ____9____+3____+3___+6___+6__Mass Fascination  \n
      ____10___+3____+3___+7___+7__+1 caster level   \n
      ____11___+4____+3___+7___+7__Inspire Heroism   \n
      ____12___+4____+4___+8___+8__+1 CL, bonus feat \n";

HitDice: 6; Mana: 10; Def: 1/3;
Attk: 1 50,
2 75,
0 75,
3 75;
Skills[8]: 1, 6, 8, 9, 10,
11, 12, 13, 17, 18, 22,
23,24,25,26,27,28,29,30,31, 32, 36, 37, 38,
3, 45, 47;
Proficiencies: 0x00000001, 0x00001000, 0x00010000, 0x00000004, 0x00000020;
Flags: 7, 8;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Stati[229,1,1] at 1st level,
Ability[6] at every level starting at 1st,

Ability[82,+1] at every 2nd level starting at 2nd,
Stati[230,0x0010,+1] at every level starting at 1st,
Ability[50,+1] at every level starting at 1st,
Ability[131,+1] at every level starting at 2nd,
Feat[6] at every 4th level starting at 4th;
Gear:
if (EActor->rateMeleeWeapon() == 2)
$"gold piece" else
10% $"dagger" else
13% $"short sword" else
25% $"long sword" else
33% $"scimitar" else
50% $"light mace" else
$"rapier",
if (EActor->rateRangedWeapon())
$"gold piece"
else
$"short bow",
$"noble attire",
50d100 $"gold piece",
25% $"horn" else
33% $"flute" else
50% $"lute" else $"mandolin";
On Event 122
{
hObj hComp;
rID monID, tempID, raceID;
raceID = EActor->RaceID;
if (raceID->BaseRace != ((rID)0))
raceID = raceID->BaseRace;
switch (raceID)
{
case $"human;race": monID = $"human"; break;
case $"elf;race": monID = $"elf"; break;
case $"dwarf;race": monID = $"dwarf"; break;
case $"gnome;race": monID = $"gnome"; break;
case $"halfling;race": monID = $"halfling"; break;
case $"lizardfolk;race": monID = $"lizardman"; break;
case $"kobold;race": monID = $"kobold"; break;
case $"orc;race": monID = $"cave orc"; break;
case $"drow;race": monID = $"drow"; break;
}
switch(1d10)
{
case 1: tempID = $"druid;template"; break;
case 2: tempID = $"barbarian;template"; break;
case 3: tempID = $"mage;template"; break;
case 4: tempID = $"monk;template"; break;
case 5: tempID = $"knight"; break;
case 6: tempID = $"paladin;template"; break;
case 7: tempID = $"priest;template"; break;
case 8: tempID = $"ranger;template"; break;
case 9: tempID = $"rogue;template"; break;
case 10: tempID = $"warrior;template"; break;
}
hComp = CreateMonster(monID);
hComp->AddTemplate(tempID);
SetSilence();
hComp->IdentifyTemp(tempID);
UnsetSilence();
#line "classes.irh" 514
EActor->GainTempStati(45, NULL, 2,7,1,+10);
hComp->GainPermStati(203,NULL,7,0,0);
hComp->MakeCompanion(EActor,1);
hComp->PlaceAt(EActor->m,EActor->x,EActor->y+1);
hComp->Initialize();
return 0;
};
Lists:
* 21
1 $"call companions" $"call light" $"cause fear" $"charm person" $"chant" $"cure light wounds"
$"convulsion" $"dancing lights" $"detect secret doors" $"erase" $"grease"
$"feather fall" $"expeditious retreat" $"friends" $"hypnotism" $"mending"
$"magic weapon" $"phantasmal force" $"protection from evil" $"read magic"
$"sleep" $"monster summoning I" $"unseen servant" $"ventriloquism" $"true strike"
$"chromatic orb" $"knock" $"mount" $"detect stairs" $"phase door"
2 $"cause blindness" $"blur" $"bull's strength" $"cat's grace" $"cure moderate wounds"
$"globe of shadow" $"slow poison" $"ESP" $"enthrall" $"glitterdust" $"hold person"
$"hypnotic pattern" $"invisibility" $"levitation" $"detect objects" $"detect monsters"
$"improved phantasmal force" $"pyrotechnics" $"scare" $"see invisibility"
$"shatter" $"sound burst" $"suggestion" $"monster summoning ii" $"summon swarm"
$"hideous laughter" $"iron mind" $"protection from arrows" $"web" $"revealed lore"
$"gust of wind" $"rope trick" $"shield" $"false life"
3 $"bestow curse" $"blink" $"charm monster" $"clairvoyance" $"confusion"
$"cure serious wounds" $"dispel magic" $"displacement" $"emotion" $"fear"
$"gaseous form" $"greater magic weapon" $"haste" $"group invisibility"
$"keen edge" $"magic circle vs. evil" $"spectral force" $"phantom steed"
$"remove curse" $"cure disease" $"sculpt sound" $"slow" $"monster summoning iii"
$"wind wall" $"nondetection" $"fly"
4 $"cure critical wounds" $"dimension door" $"dominate person"
$"hallucinatory terrain" $"hold monster" $"improved invisibility"
$"rainbow pattern" $"color burst" $"neutralize poison" $"shout"
$"monster summoning IV" $"dismissal" $"endure the elements" $"wandwierd"
$"solid fog" $"detect magic" $"premonition" $"track monster" $"ice storm"
$"phantasmal killer" $"evard's black tentacles"
5 $"part water" $"dream" $"mind fog" $"nightmare;spell" $"monster summoning v"
$"wizard sight" $"hold monster" $"polymorph self" $"force shapechange"
$"magic resistance" $"insect plague" $"animal growth" $"wall of thorns";
}

Class "Druid"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d12_<15>Skills:<1>_6_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>75~<1>, Thrown <9>50~<1>\n
      <2>\n\tRevered and mysterious nature priests, the Druids are an
      invisible faction on Therya. They are rarely seen, and those that are
      most often are neither imposing nor terrible, but their agenda -- the
      pursuit of political balance and stability -- weaves its tentacles
      into every level of society none the less. They have been accused of
      worshipping the status quo as a religious ideal, and its quite true
      that their militant neutrality holds a complete disregard for most
      civilized ideas of morality.  In truth, they see man as just another
      beast -- one who can be nurtured when his presence supports the
      balance of elements in an area, and trimmed back when he exceeds his
      natural niche. Druids collect knowledge, the better to manipulate
      people with, and have a strict and secret hierarchy of their own that
      has endured for millenia.                 
      \n__A beginning Druid character is not recognized as a true Druid in
      the social sense; rather, she is an Initiate, a journeyman in
      training to become a true Druid. Regardless, the character's powers
      include mighty elemental magics, shapechanging and a natural affinity
      for nature that grants her the companionship of animals and allows
      her to sway many types of natural monsters to her side.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the druid are Animal Empathy, Appraise, 
      Concentration, Craft, Heal, Knowledge (Nature), 
      Knowledge (Oceans), Knowledge (Theyra), Ride, Spellcraft, Swim 
      and Wilderness Lore.\n
      __Druids recieve Bluff and Diplomacy as class skills at 9th level,
      when they take on the full formal title of Druid and begin moving
      within the worldwide hierarchy of the Druidic Enclaves.

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the druid.\n
	  \n__*_<7>Proficiencies<2> -- The druid is proficient with simple weapons,
	  quarterstaves, sickles, scimitars, scythes, short bows and light armor.\n
      __*_<7>Spells<2> -- Druids cast primal spells from the special druid
      spell list, which includes magics relating to plants, animals, natural
      forces and elemental power. They have a full spellcasting progression,
      just like mages and clerics.\n
      __Like priests, druids can cast spells
      while wearing armor. However, druids suffer an 80~ spell failure rate
      while wearing metallic armor and when holding metallic items in their 
      hands. Leather, hide, ironwood and darkwood are all favored materials 
      for the druid, and do not invoke this penalty.\n
      __*_<7>Nature Sense<2> -- At 2nd level, a druid gains a flawless
      mystical knowledge of plants and natural animals, and can identify
      such with perfect accuracy. Specifically, the druid may automatically
      identify the different magical herbs and mushrooms that grow in
      dungeons and can be used as components or enhancers for spells and
      poisons, or as magical treasures in their own right.\n
      __*_<7>Animal Companions<2> -- Druids can tame animals using their
      Animal Empathy class skill, and if successful add those companions
      to their adventuring party. A druid character recieves a free 'buffer'
      of (approximately) two hit dice per druid level for animal companions; 
      these hit dice worth of animals do not count toward the total hit dice 
      of the party for purposes of party loyalty checks or gaining new party 
      members.\n
      __Levels of this ability from the druid and ranger classes stack.\n
      __*_<7>Woodland Stride<2> -- Starting at 3rd level, a druid's movement
      rate is never modified negatively by the terrain she is standing on (as
      with brambles, hedges, rubble or webbing).\n
      __*_<7>Pass Without Trace<2> -- At 3th level, the druid may use the
      <9>pass without trace<2> spell at will as a spell-like ability. This
      spell (which is not currently implemented) will make it effectively
      impossible for encounters to chase after a character on the wilderness
      screen.\n
      __*_<7>Vitality of Life<2> -- At 4th level and above, druids recieve a
      +2 bonus to saving throws versus necromantic damage and effects.\n
      __*_<7>Sylvan Affinity<2> -- Also starting at 4th level, true faeries
      and faerie creatures (not mere elves) will never attack the druid
      unless she attacks them first, as a result of ancient pacts between
      Maeve and the druidic circles dating back millenia.\n 
      __*_<7>Wild Shape<2> -- Upon reaching 5th level, the druid gains the
      ability to shapechange into any natural animal of CR 3 or lower. This
      is largely identical to a mage's polymorph spell, but the druid
      is able to pick the animal form she wishes to take, and may terminate
      the effect at will. Using wild shape costs a druid one fatigue point.
      Unlike a polymorphed creature, a wildshaped druid retains the
      benefits of equipped magic items in 'unavailable' slots (e.g., a ring
      of the inferno will continue to provide fire resistance even if your
      new form has no fingers).\n
      __In the full release game, higher level druids will be able to change
      into dire animals, legendary animals, mythic beasts and even elementals
      as they advance in level.\n
      __*_<7>Venom Immunity<2> -- Druids of 7th level and above are completely
      immune to poisons and toxins; their body is able to instantly metabolize
      such noxious foriegn agents.
      \n__*_<7>Starting Benefits<2> -- 
      Druids begin the game with either a quarterstaff, scimitar, sickle,
      shortspear or scythe, a short bow (if they don't already have better),
      a random magical ring, robes and extra potions of healing and dimension
      door. All wooden items are instead from darkwood and are thus twice as
      durable. All iron items are instead made from ironwood. 
      \n\n<10>THE DRUID<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__Animal Companions \n
      ____2____+0____+3___+0___+3__Nature Sense      \n
      ____3____+1____+3___+1___+3__Woodland Stride,  \n
      _____________________________Pass without Trace\n
      ____4____+1____+4___+1___+4__Sylvan Affinity,  \n
      _____________________________Vitality of Life  \n
      ____5____+1____+4___+1___+4__Wild Shape        \n
      ____6____+2____+5___+2___+5__                  \n
      ____7____+2____+5___+2___+5__Venom Immunity    \n
      ____8____+2____+6___+2___+6__\n
      ____9____+3____+6___+3___+6__Bluff, Diplomacy\n
      ____10___+3____+7___+3___+7__\n
      ____11___+4____+7___+3___+7__\n
      ____12___+4____+8___+4___+8__\n";


HitDice: 8; Mana: 12; Def: 1/3;
Attk: 1 100, 2 75,
0 75,
3 50;
Skills[6]:
2,
3,
8,
9,
17,
23,
27,
28,
40,
43,
45,
48;
Proficiencies: 0x00000001, 0x00000400, 0x00000040, 0x20000000;
Grants:
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"scimitar"] at 1st,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"scythe"] at 1st,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"short bow"] at 1st,
Ability[82] at every level starting at 1st,
Stati[230,0x0020,+1] at every level starting at 1st,
Ability[2] at every level starting at 1st,
Ability[57] at 2nd level,
Ability[110] at 3nd level,
Ability[44,$"pass without trace"] at 3rd level,
Ability[90] at 4th level,
Stati[123,3,+2] at 4th level,
Ability[109] at every level starting at 1st,
Stati[177,5] at 7th level,
Stati[32,6] at 9th level,
Stati[32,11] at 9th level;
Gear:
if (EActor->rateMeleeWeapon() >= 2)
$"gold piece" else
20% $"scythe" else
25% $"quarterstaff" else
33% $"scimitar" else
50% $"sickle" else
$"shortspear",
if (!EActor->rateRangedWeapon())
$"short bow",
$"robes",
$"ring" of random 2 to 3,
2d10 $"gold piece",
2d3 $"potion" of $"healing",
2d3 $"potion" of $"dimension door";
On Event 150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
return 0;
},
153 {
if (EActor->LevelAs($"druid") == 1) {
EActor->GainSpell($"summon nature's ally i",0x0001|0x0020);
EActor->GainSpell($"cure light wounds",0x0001|0x0020);
}
};
Flags: 8, 6;
Lists:
* 21
(53 + 1000),
* 33
$"Essiah" $"Hesani" $"Kysul" $"Mara" $"Maeve"
$"Sabine" $"Xel" $"Zurvash";
}
#line "classes.irh" 761
Class "Mage"
{
Desc: "
      <15>HitDie:_<1>d4__<15>Mana:<1>_d20_<15>Skills:<1>_4_<15>Saves:<1>_fr<9>W<1>_<15>Defense:_<1>1/5\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n\tPowerful, mysterious and feared, the mage is a student of the
      arcane arts and a seeker of occult mysteries. Most mages adventure
      to gain access to ancient, powerful magics and to hone their spellcasting
      prowess. The lifestyle of a mage is tiring, combining academic focus
      with a draining of vital forces to power eldritch magics; as such,
      mages tend to be weaker than other adventurers, but they are second
      to none in the sheer bredth of their magical knowledge.
        \n\tThere are many, many mages on Theyra. Most are mere prestidigitators,
      having learned a few parlor tricks to enliven their lives. The most
      serious often find their way to the High College of Wizardry in Erisia
      and study high ritual magic full-time, initiating into one of the
      seven gemstone orders (Ruby, Opal, Topaz, Emerald, Diamond, Sapphire
      or Amethyst) that govern the formalized study of magic in the Kinlands.
      Others scribe ancient secrets from librams purchased or stolen, keeping
      a fierce independance in their studies. Regardless, the mage is a figure
      of awe and fear to his fellow man, and even millenia past the memory of
      the Mage Wars still taints the image of the wizard.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the mage are Alchemy, Appraise, Concentration, Craft, 
      Diplomacy, Knowledge (all), Metamagic and Spellcraft.

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the mage.\n
      __*_<7>Proficiencies<2> -- The mage is proficient only with daggers
      and staves. Few mages rely upon material weapons with any regularity.\n
      __*_<7>Spells<2> -- Mages recieve one spellcasting level for
      every mage class level they possess. Mage spells must be studied
      and cast from spellbooks, and are all but impossible to cast while
      wearing armor. However, the mage spell list is the most flexible
      and diverse list in Incursion. They have access to all arcane spells, 
      though they must study them from a spellbook in order to learn them.\n
      __*_<7>Magical Diversity<2> -- The arcane knowledge of mages is truly
      peerless, unequalled among all the other classes. Mages gain two 
      bonus spell slots of every spell level they can cast, the level after 
      they gain access to that level of spells. Thus, mages gain two
      bonus 1st-level slots at 2nd level, two bonus 3rd-level spell slots
      at 6th level, and so forth.\n
      __*_<7>Arcane Will<2> -- The spellcasting power of elder mages exceeds
      that of any other class. The arcane will ability represents this superior
      power by increasing the DC of saving throws against all mage spells cast
      by the character in question. Mages recieve a +1 arcane will at 8th, +2
      at 11th, +3 at 13th, +4 at 17th and +5 at 19th.\n
      __*_<7>Skill Benefits<2> -- Representing their supreme mastery of the
      magical arts, mages recieve a +1 competance bonus to Decipher Script,
      Metamagic, Spellcraft and Use Magic every level starting at 10th level.\n 
      __*_<7>School Specialist<2> -- All mages choose one of nine
      schools of magic (Abjuration, Arcana, Divination, Enchantment, Evocation,
      Illusion, Necromancy, Thaumaturgy or Weavecraft) in which to focus their
      study; mages may not specialize in Theurgy or Naturalism. This choice 
      modifies their spell success rates for spells of every school, with the
      highest modifier going to the mage's school of choice. Specialization
      also determines what the third spellbook the mage enters play with is,
      which has a strong influence on spell selection in the early game.\n
      __*_<7>Bonus Feats<2> -- All mages recieve the Scribe Scroll feat for
      free at 1st level. In addition, mages recieve a bonus feat chosen from 
      either the Metamagic or Item Creation feat lists at every 5th level -- 
      5th, 10th, 15th, 20th and so forth.
      \n__*_<7>Starting Benefits<2> -- Mages start with a quarterstaff 
      and daggers, potions of mana, a stone +2 of channeling, a collection
      of scrolls and the spellbooks [Adventurer's Arts] and [Fundamentals
      of Magick], along with two specific to their chosen specialty
      school. 
      \n\n<10>THE MAGE<15>________________________________<15>Spells Known\n
      _Level__Def__Fort_Refl_Will_Specials__1_2_3_4_5_6_7_8_9<1>\n
      ___1____+0____+0___+0___+2__Scribe S._1_-_-_-_-_-_-_-_-\n
      ___2____+0____+0___+0___+3____________2_-_-_-_-_-_-_-_-\n
      ___3____+0____+1___+1___+3____________2_1_-_-_-_-_-_-_-\n
      ___4____+0____+1___+1___+4____________3_2_-_-_-_-_-_-_-\n
      ___5____+1____+1___+1___+4__Bonus Ft._3_2_1_-_-_-_-_-_-\n
      ___6____+1____+2___+2___+5____________4_3_2_-_-_-_-_-_-\n
      ___7____+1____+2___+2___+5____________5_4_3_1_-_-_-_-_-\n
      ___8____+1____+2___+2___+6__A.Will +1_6_5_3_2_-_-_-_-_-\n
      ___9____+1____+3___+3___+6____________6_6_3_3_1_-_-_-_-\n
      ___10___+2____+3___+3___+7__Bonus Ft._7_6_4_3_2_-_-_-_-\n
      ___11___+2____+3___+3___+7__A.Will +2_7_7_5_4_3_-_-_-_-\n
      ___12___+2____+4___+4___+8____________7_7_5_4_4_1_-_-_-\n_";
HitDice: 4; Mana: 20; Def: 1/5;
Attk: 1 50,
2 50,
0 50,
3 50;
Skills[4]: 8, 10, 23,24,25,26,27,28,29,30,31,
1, 43, 34, 21,
19, 3, 9, 47;
Proficiencies: 0x00001000, 0x00000040;
Grants:
Ability[82] at every level starting at 1st,
Stati[230,0x0004,+1] at 1st level,
Stati[230,0x0004,+1] at 3rd level,
Stati[230,0x0004,+1] at 5th level,
Stati[230,0x0004,+1] at 7th level,
Stati[230,0x0004,+1] at 9th level,
Stati[230,0x0004,+1] at 12th level,
Stati[230,0x0004,+1] at 14th level,
Stati[230,0x0004,+1] at 16th level,
Stati[230,0x0004,+1] at 18th level,
Ability[84] at every level starting at 1st,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24)] at 1st level,
Feat[5] at every 5th level starting at 5th,
Stati[124,34,+1] at every level starting at 10th,
Stati[124,47,+1] at every level starting at 10th,
Stati[124,10,+1] at every level starting at 10th,
Stati[124,43,+1] at every level starting at 10th,
#line "classes.irh" 875
Ability[115,+1] at 8th level,
Ability[115,+2] at 11th level,
Ability[115,+3] at 13th level,
Ability[115,+4] at 17th level,
Ability[115,+5] at 19th level,
Stati[229,1,2] at 2nd level,
Stati[229,2,2] at 4th level,
Stati[229,3,2] at 6th level,
Stati[229,4,2] at 8th level,
Stati[229,5,2] at 10th level,
Stati[229,6,2] at 13th level,
Stati[229,7,2] at 15th level,
Stati[229,8,2] at 17th level,
Stati[229,9,2] at 19th level;
Gear:
1d4+1 $"dagger",
if (EActor->rateMeleeWeapon() < 2)
$"quarterstaff",
30d10 $"gold piece",
$"robes",
4d2 $"potion" of $"mana",
$"stone" +2 of $"channeling",
$"spellbook [Adventurers' Arts]",
$"spellbook [Fundamentals of Magick]",
random 22,
random 22,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5;
Flags: 8;
#line "classes.irh" 920
On Event 150 {
hObj sbook, sbook2, sbook3;
sbook3 = ((hObj)0);
switch (EActor->GetStatiVal(37)) {
case 0: sbook = CreateItem($"spellbook [Mystic Aegis]");
sbook2= CreateItem($"spellbook [Libram of Silver Magic]");
sbook3= CreateItem($"spellbook [Secrets of Abjuration]");
break;
case 8: sbook = CreateItem($"spellbook [Place and Time]");
sbook2= CreateItem($"spellbook [Conjurations and Summonings]");
break;
case 1: sbook = CreateItem($"spellbook [Tome of Magic]");
sbook2= CreateItem($"spellbook [Tricks and Traps]");
break;
case 2: sbook = CreateItem($"spellbook [Practical Divinings]");
sbook2= CreateItem($"spellbook [Libram of Silver Magic]");
break;
case 5: sbook = CreateItem($"spellbook [Magician's Manual]");
sbook2= CreateItem($"spellbook [Tricks and Traps]");
break;
case 3: sbook = CreateItem($"spellbook [Book of Glamour]");
sbook2= CreateItem($"spellbook [Venom and Curses]");
break;
case 4: sbook = CreateItem($"spellbook [Energy Magicks]");
sbook2= CreateItem($"spellbook [Elemental Covenant]");
break;
case 6: sbook = CreateItem($"spellbook [Mastery over Death]");
sbook2= CreateItem($"spellbook [Ars Mortis]");
break;
case 7: sbook = CreateItem($"spellbook [Mortal Coil]");
sbook2= CreateItem($"spellbook [Ars Bellicus]");
break;
default:
Error("Strange specialty school in $'Mage'::EV_BIRTH!");
}
if (sbook) EActor->GainItem(sbook,true);
if (sbook2) EActor->GainItem(sbook2,true);
if (sbook3) EActor->GainItem(sbook3,true);
},
153 {
rID listID;
#line "classes.irh" 973
if (EActor->LevelAs($"mage") == 1)
switch (EActor->GetStatiVal(37)) {
case 0: EActor->GainSpell($"shield",0x0001|0x0004);
EActor->GainSpell($"mage armor",0x0001|0x0004);
break;
case 1:
#line "classes.irh" 985
EActor->GainSpell($"magic missile",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 2: EActor->GainSpell($"read magic",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 3: EActor->GainSpell($"charm person",0x0001|0x0004);
EActor->GainSpell($"shield",0x0001|0x0004);
break;
case 4: EActor->GainSpell($"magic missile",0x0001|0x0004);
EActor->GainSpell($"shield",0x0001|0x0004);
break;
case 5: EActor->GainSpell($"phantasmal force",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 6: EActor->GainSpell($"minor drain",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 7: EActor->GainSpell($"false life",0x0001|0x0004);
EActor->GainSpell($"convulsion",0x0001|0x0004);
EActor->Proficiencies |= 0x00010000;
break;
case 8: EActor->GainSpell($"monster summoning i",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
}
#line "classes.irh" 1039
switch(EActor->GetStatiVal(37))
{
case 0: listID = $"Abjurer";
if (EActor->LevelAs($"mage") % 3 == 1) {
if (EActor->LevelAs($"mage") == 1)
EActor->GainPermStati(113,NULL,
4,52,1,$"mage",0);
else
EActor->IncEffStatiMag(113,
$"mage",7,NULL,+1);
}
break;
case 1: listID = $"Arcanist";
break;
case 2: listID = $"Diviner";
EActor->GainBonusSkills($"mage",3);
if (EActor->LevelAs($"mage") % 4 == 0) {
if (EActor->LevelAs($"mage") == 4)
EActor->GainPermStati(108,NULL,
4,3,1,$"mage",0);
else
EActor->IncEffStatiMag(108,$"mage",
4,NULL,+1);
}
break;
case 3: listID = $"Enchanter";
if (EActor->LevelAs($"mage") == 1)
{
EActor->GainPermStati(32,NULL,
4,11,0,$"mage",0);
EActor->GainAbility(7,
1,$"mage",4);
}
break;
case 4: listID = $"Evoker";
if (EActor->LevelAs($"mage") % 2 == 0) {
if (EActor->LevelAs($"mage") == 2)
EActor->GainPermStati(113,NULL,
4,38,1,$"mage",0);
else
EActor->IncEffStatiMag(113,
$"mage",7,NULL,+1);
}
break;
case 5: listID = $"Illusionist";
if (EActor->LevelAs($"mage") == 1)
{
EActor->GainPermStati(32,NULL,
4,6,0,$"mage",0);
EActor->GainPermStati(32,NULL,
4,36,0,$"mage",0);
EActor->GainPermStati(32,NULL,
4,38,0,$"mage",0);
EActor->GainPermStati(32,NULL,
4,12,0,$"mage",0);
}
if (EActor->LevelAs($"mage") == 2)
EActor->GainPermStati(124,NULL,
4, 19,1,$"mage",0);
else if (EActor->LevelAs($"mage") % 2 == 0)
EActor->IncEffStatiMag(124,$"mage",
4,((hObj)0),+1);
break;
case 6: listID = $"Necromancer";
if (EActor->LevelAs($"mage") == 1)
{
EActor->GainPermStati(45,NULL,
4,4,1,$"mage",0);
EActor->GainPermStati(123,NULL,
4,11,2,$"mage",0);
EActor->GainPermStati(32,NULL,
4,39,0,$"mage",0);
}
else
EActor->IncEffStatiMag(45,$"mage",
4,NULL,+1);
break;
case 7: listID = $"Thaumaturge";
EActor->Proficiencies |= 0x00010000;
break;
case 8: listID = $"Weaver";
if (EActor->LevelAs($"mage") == 1)
EActor->GainPermStati(79,NULL,
4,(52+500),0,$"mage",0);
break;
}
if (EActor->LevelAs($"mage") == 1)
EActor->GainPermStati(230,NULL,4,0x0004,1,listID);
else
EActor->SetEffStatiMag(230,listID,EActor->LevelAs($"mage"));
return 0;
},
((52+500)+10000) {
if (e.eID == $"phase door" || e.eID == $"dimension door" ||
e.eID == $"teleport" || e.eID == $"shadow shifting" ||
e.eID == $"teleportation")
e.MM |= 0x00000020;
return 0;
};
Lists:
* 21
(50 + 1000)
2 $"call light" $"vigor"
3 $"death knell"
5 $"animate dead"
6 $"death ward"
$"ethereal jaunt"
$"create corporeal undead"
7 $"create spectral undead"
8 $"etherealness";
}

Class "Abjurer"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000001)
1 $"sanctuary" $"detect evil"
2 $"shield other" $"glyph of warding"
3 $"remove curse" $"negative plane protection"
4 $"death ward" $"free action;spell" $"spell immunity"
5 $"magic resistance" $"dispel evil"
6 $"antilife shell" $"glyph of warding, greater";
}

Class "Arcanist"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000002);
}

Class "Diviner"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000004)
2 $"detect monsters";
}

Class "Enchanter"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000008)
2 $"enthrall";
}

Class "Evoker"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000010);
}

Class "Illusionist"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000020);
}

Class "Necromancer"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000040)
1 $"death knell"
3 $"animate dead"
4 $"necrosynthesis"
5 $"create corporeal undead"
5 $"create spectral undead";
}

Class "Thaumaturge"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000080);
}

Class "Weaver"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000100)
4 $"ethereal jaunt"
6 $"etherealness";
}

Class "Monk"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_<9>FRW<1>_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      \n<2>__An asectic mystic, the monk disciplines his mind, body and spirit to
      perform incredible feats. Monks uphold the traditions of mysticism and martial
      arts in the Kinlands, and their practices and rituals date back nearly two
      millenia. Once, at least in mythology, all monks were united in perfect worship 
      of Immotian, but that unity has long since been lost, and now every monastary
      teaches a different ideology and tradition of worship. A monk owes absolute
      loyalty to his monastary and his patron father, at least in theory.
      \n__In addition to their legendary prowess with martial arts, monks practice
      calligraphy, meditative trances, lucid dreaming and scholarship. Monastaries
      boast private libraries that often rival the largest government institutions
      of major cities, and these private collections often boast mystical works that
      have long since been lost to the public eye. Despite their spiritual focus,
      there is a great deal of worldly politics at the higher levels of the average
      monastary. Some are xenophobic, others militant, but no elder monk is unaware
      of the degree of real power their mystic secrets and martial skill gives them
      in the world.\n\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the monk are Alchemy, Appraise, Athletics, Balance, 
      Climb, Decipher Script, Diplomacy, Escape Artist, Find Weakness, Healing, 
      Hide, Jump, Knowledge (Mythology, Nature, Planes, Theyra and Theology), 
      Listen, Move Silently, Poison Use, Spot and Tumble.

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the monk.\n
      __*_<7>Proficiencies<2> -- Monks are proficient with staves, thrown
      weapons and their own special catagory of martial weapons. They have no
      proficiency with any type of armor or shields.\n
      __*_<7>Unarmed Attack<2> -- Monks do not provoke an attack of opportunity
      when they attack an armed foe unarmed. In addition, they inflict additional
      damage with their bare-hand attacks, as shown on the class table below.
      Monks that have a natural attack sequence (i.e., lizardfolk and kobolds)
      can choose to punch and kick as human monks do, or to use their natural
      attack sequence and gain a +1 inherant bonus to hit and damage using their
      natural attacks every even monk level. This choice is made on the tactical
      options panel.\n
      __*_<7>Stun Attack<2> -- A monk's attacks have a chance of stunning their
      opponent. Whenever a monk scores a critical hit or performs a Great Blow,
      or on 1 in 3 randomly chosen normal attacks, an enemy who is hit must make
      a Fortitude saving throw against a DC of 10 + 1/2 the monk's level + the
      monk's Wisdom modifier, or be stunned for 1d4+1 rounds.\n
      __*_<7>Flurry of Blows<2> -- At the cost of one fatigue point, a monk can
      perform a Flurry of Blows, increasing her unarmed speed, and speed when using
      martial weapons, by 100~ for (10 + Wisdom modifier) rounds. The monk suffers a
      -2 penalty to her attacks while flurrying; this decreases to -1 at 5th level
      and to nothing at 9th.\n
      __*_<7>Increased Move<2> -- Monks inherantly move faster than other creatures.
      A monk recieves a +20~ bonus to her movement rate at every odd level starting
      at 3rd.\n
      __*_<7>Evasion<2> -- Starting at 1st level, when a monk successfully
      makes a Reflex saving throw against an area-effect attack that allows
      a Reflex save for half damage (such as a dragon's fiery breath or a 
      mage's <9>lightning bolt<2>), he takes no damage at all. At 9th level
      and above, the monk takes only half damage on a failed Saving Throw.\n
      __Levels of this ability from the monk and rogue classes stack.\n
      __*_<7>Zen Defense<2> -- At 1st level, the monk recieves the Zen Defense feat
      for free. This allows her to add her Wisdom modifier, if positive, to her
      defense class.\n
      __*_<7>Deflect Arrows<2> -- At 2nd level, the monk recieves the Deflect Arrows
      feat for free, even if she does not meet the normal prerequisites.\n
      __*_<7>Still Mind<2> -- At 3rd level, the monk gains a +2 bonus to saving throws
      versus enchantment effects, representing her superior mental discipline.\n
      __*_<7>Slow Fall<2> -- Starting at 4th level, the monk gains the ability to
      avoid or reduce falling damage. She takes 5 points off of all falling damage
      at 4th level, and an additional 5 points every even level thereafter.\n
      __*_<7>Master Trip, Disarm<2> -- The monk recieves the Master Trip
      and Master Disarm feats for free at 5th level.\n
      __*_<7>Purity of Body<2> -- Upon reaching 6th level, the monk learns to purify
      her body completely, and is forever after completely immune to diseases.\n
      __*_<7>Leap of the Clouds<2> -- Upon reaching 7th level, the monk attains a
      mystical prowess at jumping, gaining a +10 competance bonus to all Jump skill
      rolls.\n
      __*_<7>Wholeness of Body<2> -- Also beginning at 7th level, the monk is able
      to heal injuries to her body through meditative exercizes. At the cost of four
      fatigue points, the monk may heal three times her full character level in hit
      points simply by focusing her mind.\n
      __*_<7>Diamond Body<2> -- Starting at 10th level, the monk has perfected her
      body to the extent that she is completely immune to poisons of all kinds.\n
      __*_<7>Abundant Step<2> -- At 11th level, the monk gains the ability to use
      <9>dimension door<2> at will as a spell-like ability.\n
      __*_<7>Transcendant Sight<2> -- at 12th level, the monk gains the inherant
      ability to see invisible creatures.\n
      __*_<7>Small Monks<2> -- Starting at 3rd level, monks of races who are
      naturally Small size (kobolds, gnomes and halflings) learn to use the size of
      other races against them, and recieve the Redirect Attack feat for free. Monks
      that are Medium-sized or larger do not gain this benefit.\n
      __Small monks also never suffer a penalty to damage when fighting unarmed
      as a result of a low Strength score.\n      
      __Finally, Small races recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.
      __*_<7>Starting Benefits<2> -- Monks start with a sizable stock of potions of 
      dimension door, robes, a martial arts melee weapon (quarterstaff, fighting
      stick or 2 nunchaku) and a chakram. Evil monks also begin with a randomly
      chosen vial of poison.
      \n\n<10>THE MONK<15>\n
      _Level__Def__Fort_Refl_Will_Damage_Special Abilities<1>\n
      ___1____+0____+2___+2___+2___1d6___Evasion, Zen Defense\n
      ___2____+1____+3___+3___+3___1d8___Deflect Arrows      \n
      ___3____+1____+3___+3___+3___1d10__Still Mind, Redirect\n
      ___4____+2____+4___+4___+4___1d10__Slow Fall, Ki St. +1\n
      ___5____+2____+4___+4___+4___1d12__Master Trip,        \n
      ___________________________________Master Disarm       \n
      ___6____+3____+5___+5___+5___1d12__Purity of Body      \n
      ___7____+3____+5___+5___+5___4d4___Leap of the Clouds, \n
      ___________________________________Wholeness of Body   \n
      ___8____+4____+6___+6___+6___4d4___Ki Strike +2        \n
      ___9____+4____+6___+6___+6___3d6___Improved Evasion    \n
      ___10___+5____+7___+7___+7___3d6___Diamond Body        \n
      ___11___+5____+7___+7___+7___1d20__Abundant Step       \n
      ___12___+6____+8___+8___+8___1d20__Transcendant Sight  \n";
#line "classes.irh" 1370
HitDice: 8; Mana: 4; Def: 1/2;
Attk: 1 100,
2 75,
3 75,
0 75;
Skills[6]: 1, 4, 5, 7, 10, 11,
13, 14, 17, 18, 22, 26,
23, 30, 27, 29,
32, 36, 39, 3, 44, 46;
Proficiencies: 0x00000040, 0x00002000, 0x00000100;
Grants:
Ability[99] at every level starting at 1st,
Ability[114] at every 4th level starting at 1st,
Ability[41,+2] at every level starting at 1st,
Ability[89] at every level starting at 1st,
Ability[31] at every level starting at 1st,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42)] at 1st level,
Feat[(((49 + 1) + 32) + 30)] at 2nd level,
Stati[123,6,+2] at 3rd level,
Stati[113,26,+4] at every 2nd level starting at 3rd,
Ability[77] at every 2nd level starting at 4th,
Feat[((((((49 + 1) + 32) + 50) + 38) + 30) + 25)] at 5th level,
Feat[((((((49 + 1) + 32) + 50) + 38) + 30) + 22)] at 5th level,
Stati[177,27] at 6th level,
Ability[108] at 7th level,
Stati[124,22,+10] at 7th level,
Stati[177,60] at 10th level,
Ability[44,$"dimension door"] at 11th level,
Stati[101] at 12th level;
Flags: 6, 7, 8, 1, 16;
Gear:
if (!EActor->isSmallRace())
33% $"quarterstaff" else
50% 2d1 $"nunchaku" else
2d1 $"fighting stick",
$"chakram",
$"robes",
if (EActor->isMType(103) && !EActor->isMType(104))
1d3 $"small glass vial" of random 2 to 4,
4d4 $"potion" of $"dimension door";
On Event 153 {
if (EActor->LevelAs($"monk") == 3)
if (EActor->isSmallRace())
EActor->GainFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 10));
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"monk",4);
return 0;
},
150 {
String str;
switch (1d20)
{
case 1: str = "Scarlet"; break;
case 2: str = "Ebon"; break;
case 3: str = "Righteous"; break;
case 4: str = "Jade"; break;
case 5: str = "Iron"; break;
case 6: str = "Excelent"; break;
case 7: str = "Graceful"; break;
case 8: str = "Unfolding"; break;
case 9: str = "Revealed"; break;
case 10: str = "Ivory"; break;
case 11: str = "Harmonious"; break;
case 12: str = "Furious"; break;
case 13: str = "Transcendant"; break;
case 14: str = "Resplendant"; break;
case 15: str = "River"; break;
case 16: str = "Flawless"; break;
case 17: str = "Immaculate"; break;
case 18: str = "August"; break;
case 19: str = "Fivefold"; break;
case 20: str = "Eightfold"; break;
}
str += "_";
switch(1d20)
{
case 1: str += "Lotus"; break;
case 2: str += "Crysanthemum"; break;
case 3: str += "Sword"; break;
case 4: str += "Sutra"; break;
case 5: str += "Rain"; break;
case 6: str += "Dragon"; break;
case 7: str += "Tiger"; break;
case 8: str += "Phoenix"; break;
case 9: str += "Tempest"; break;
case 10: str += "Devil"; break;
case 11: str += "Crane"; break;
case 12: str += "Monkey"; break;
case 13: str += "Shadow"; break;
case 14: str += "Ghost"; break;
case 15: str += "Mask"; break;
case 16: str += "Serpent"; break;
case 17: str += "Sage"; break;
case 18: str += "Lion"; break;
case 19: str += "Fox"; break;
case 20: str += EActor->StateFlags & 0x0004 ?
"Princess" : "Prince";
}
EActor->Named = str;
};
Lists:
* 33
$"Aiswin" $"Essiah" $"Hesani" $"Immotian" $"Mara"
$"The Multitude" $"Xavias";
}



Class "Paladin"
{
Desc: "
      <15>HitDie:_<1>d10_<15>Mana:<1>_d8__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>100~<1>, Thrown <9>75~<1>\n
      <2>\n\tLike Priests, Paladins are holy warriors, and they share the most
      kinship with that class, but they are not the masterful theurgists that 
      their contemporaries are. Though deeply religious, they draw their power
      primarily from the metaphysical force of good itself. Seeming to be the
      very embodiement of virtue, the Paladin lives by a rigourous code but
      shines brighter than the sun itself, an example to all those around them.
      Paladins are exceedingly rare in contrast to the other classes, each 
      being a personally selected champion of virtue.
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the paladin are Appraise, Athletics, Concentration, 
      Craft, Diplomacy, Healing, Knowledge (Planes, Theology, Theyra and Undead), 
      Ride and Seneschal.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the paladin.
      \n__*_<7>Proficiencies<2> -- Paladins are proficient with simple weapons,
      long blades, polearms, lances and flails, as well as with all categories of
      armor.
      \n__*_<7>Lay on Hands<2> -- At will, a paladin can lay his hands upon himself
      or another living creature, causing them to heal hit points of damage equal
      to 2d6 plus his level multiplied by his primary Charisma modifier plus two 
      (minimum 1). This healing costs two fatigue points, but no mana.
      \n__*_<7>Divine Grace<2> -- The paladin benefits from an extraordinary, sacred
      protection from harm. His primary Charisma modifier (if any) is added as a
      grace bonus to all of his saving throws. This ability is gained at 2nd level.
      \n__*_<7>Divine Health<2> -- A paladin is immune to all diseases, except for
      those gained from eating the corpses of fallen foes (which isn't very paladin-like
      anyway. Starting at 3rd level, the paladin gains the spell <9>Cure Disease<2> as 
      an innate spell-like ability.
      \n__*_<7>Detect Evil<2> -- Paladins can cast the spell <9>Detect
      Evil<2> as an innate ability, allowing them to locate all evil
      creatures within 250 feet (25 squares).
      \n__*_<7>Smite Evil<2> -- Whenever a paladin performs a Great Blow maneuver
      against an evil creature, he adds his Charisma bonus (if any) to the attack
      roll, and if he hits he also adds his paladin level to the damage that he
      inflicts.
      \n__*_<7>Aura of Valor<2> -- Starting at second level, a paladin is immune to
      fear, and grants any allies within 3 squares of him a +1 bonus to save versus
      fear effects for every even paladin level he possesses. This ability is innate
      and always active.
      \n__*_<7>Turn Undead<2> -- Starting at third level, a paladin may turn undead
      just as a priest of two levels lower does.
      \n__*_<7>Divine Magic<2> -- Starting at 4th level, the paladin is able to cast
      a limited number of divine spells. He recieves one divine casting level for
      every even paladin level thereafter.
      \n__*_<7>Sacred Mount<2> -- Starting at 5th level, the paladin can summon a
      specially-bonded mount from the Upper Planes to serve him in the corporeal
      world. This creature usually has the celestial template, as well as a +10
      sacred bonus to it defense class. Paladins start out with a celestial
      warhorse (or something similar as suits their race) for a sacred mount. If
      the mount is slain in combat, it vanishes rather than truly dying, and can
      be summoned back by the paladin after resting.\n
      __At 7th, 9th and 11th level, the paladin recieves the ability to summon
      superior, mythic creatures as mounts. The creature the paladin recieves is
      fixed based on his race, but rumors speak of holy knights riding upon even
      young dragons as their steeds...
      \n__*_<7>Small Paladins<2> -- It's unusual for members of the Small races
      to become paladins -- the class's focus on head-on confrontation and
      resolute fortitude isn't the best match for their usual methodology. To
      offset this weakness, the gods grant a special boon to members of the
      Small races who show the courage and resilience to become paladins, granting
      them a +1 sacred bonus to melee damage and inherant armor at 2nd, 4th, 6th, 
      9th, 12th and 16th levels.
      __Small races also recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.
      \n__*_<7>Starting Benefits<2> -- Paladins start with a +1 sword (a small long 
      sword for small races, otherwise a long sword), a light lance, a kite shield
      (or buckler for small races), potions of healing, vials of holy water, a holy 
      symbol, noble attire and a suitable mount. Their best melee weapon gains the 
      Holy quality.
      \n\n<10>THE PALADIN<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__Lay on Hands,\n
      _____________________________Smite Evil, Immune\n
      _____________________________to Diseases\n
      ____2____+0____+3___+0___+3__Aura of Valor,\n
      _____________________________Divine Grace\n
      ____3____+0____+3___+1___+3__Turn Undead,\n
      _____________________________Cure Disease\n
      ____4____+1____+4___+1___+4__+1 caster level\n
      ____5____+1____+4___+1___+4__Sacred Mount I\n
      ____6____+1____+5___+2___+5__+1 caster level\n
      ____7____+1____+5___+2___+5__Sacred Mount II\n
      ____8____+2____+6___+2___+6__+1 caster level\n
      ____9____+2____+6___+3___+6__Sacred Mount III\n
      ____10___+2____+7___+3___+7__+1 caster level\n
      ____11___+2____+7___+3___+7__Sacred Mount IV\n
      ____12___+3____+8___+4___+8__+1 caster level\n\n";
HitDice: 10; Mana: 8; Def: 1/4;
Attk: 1 75,
2 100,
3 75,
0 75;
Skills[4]: 4, 9, 11, 3,
17, 30, 29, 31,
23, 40, 8, 42;
Proficiencies: 0x00000001, 0x00000008, 0x00000200, 0x00000800, 0x00020000,
0x00000400;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Feat[((49 + 1) + 12)] at 1st level,
Feat[((49 + 1) + 13)] at 1st level,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 29)] at 1st level,
Ability[44,$"detect evil"] at 1st level,
Ability[49] at 1st level,
Ability[5] at every level starting at 2nd,
Ability[25] at 2nd level,
Ability[97,76] at every level starting at 3rd,
Ability[79,103] at every level,
Stati[177, 27] at 1st level,
Stati[177, 28] at 2nd level,
Ability[70] at every level starting at 1st,
Ability[82] at every 2nd level starting at 4th,
Stati[230,0x0008,+1] at every level starting at 3th,
Ability[44,$"Cure Disease"] at 3rd level;
Gear:
if (EActor->rateMeleeWeapon() >= 3)
$"gold piece" else
if (EActor->isMType(63))
$"warhammer" +1 else
if (EActor->isSmallRace())
$"small long sword" +1 else
$"long sword" +1,
$"light lance",
if (EActor->isSmallRace())
$"buckler;wooden" else
$"kite shield",
$"noble attire",
2d10 $"gold piece",
2d2 $"Potion" of $"Healing",
3d6 blessed $"flask" of $"Water";
Flags: 1, 6, 8, 3, 2,
9;
On Event 150 {
hObj h; int32 given;
EActor->GainAbility(44,(int32)($"mount"),$"mount",4);
given = false;
if (EActor->rateMeleeWeapon() >= 3) {
h = EActor->getPrimaryMelee();
if (h->QualityOK(1) && (h->iID != $"light lance")
&& (h->iID != $"knife"))
{
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
h->SetInherantPlus(max(1,h->GetInherantPlus()));
}
}
if (EActor->isMType(62) && !given) {
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(24) && !given) {
h->SetInherantPlus(max(1,h->GetInherantPlus()));
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
}
}
else if (EActor->isMType(63) && !given) {
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isGroup(0x00000010|0x00000080) && !given && (h->iID != $"pickaxe")) {
h->SetInherantPlus(max(1,h->GetInherantPlus()));
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
}
}
if (!given)
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isGroup(0x00000008) && !given) {
h->SetInherantPlus(max(1,h->GetInherantPlus()));
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
}
return 0;
},
153 {
if (EActor->isSmallRace())
{
if (EActor->LevelAs($"paladin") == 2)
{
EActor->GainPermStati(107,NULL,
4,22,+1,$"paladin",0);
EActor->GainPermStati(107,NULL,
4,24,+1,$"paladin",0);
EActor->GainPermStati(107,NULL,
4,17,+1,$"paladin",0);
}
else if (EActor->LevelAs($"paladin") == 4 ||
EActor->LevelAs($"paladin") == 6 ||
EActor->LevelAs($"paladin") == 9 ||
EActor->LevelAs($"paladin") == 12 ||
EActor->LevelAs($"paladin") == 16)
{
EActor->IncStatiMag(107,4,22,NULL,+1);
EActor->IncStatiMag(107,4,24,NULL,+1);
EActor->IncStatiMag(107,4,17,NULL,+1);
}
}
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"paladin",4);
};
Lists:
* 21
1 $"bless" $"call light" $"magic weapon" $"create water"
$"cure light wounds" $"detect undead" $"divine favor"
$"divine sacrifice" $"protection from evil" $"shield of faith"
$"slow poison"
2 $"aid" $"bull's strength" $"consecrate" $"draw upon holy might"
$"heal mount" $"free action;spell" $"resist fire"
$"resist cold" $"resist acid" $"shield other" $"spiritual hammer"
$"cure moderate wounds" $"chant" $"zeal"
3 $"dispel magic" $"dispel evil" $"create food and water"
$"magic circle vs. evil" $"magic circle vs. undead" $"prayer"
$"negative plane protection" $"cure serious wounds"
4 $"cure critical wounds" $"death ward" $"holy sword"
$"neutralize poison" $"holy smite" $"dimensional anchor"
$"invocation" $"magic resistance" $"disrupting weapon"
5 $"righteous might" $"banishment" $"raise dead" $"true seeing"
$"commune" $"undeath to death"
6 $"blade barrier" $"heal;spell" $"heroes' feast" $"word of recall",
* 33
$"Ekliazeh" $"Erich" $"Immotian" $"Kysul" $"Mara" $"Semirath" $"Xavias";

}

0 Effect "Aura of Valor" : 2
{ aval: 9; lval: 3; cval: 15;
xval: 123; yval: 11; pval: +4;
tval: 109; rval: 0x00000002|0x00000004;
Purpose: 0x00010;
Flags: 4, 54;
On Event
175
"You feel a sacred courage come over you.",
84
{
if (GetHandle(EActor) != GetHandle(EVictim))
EVictim->IPrint("The unearthly valor passes.");
return 0;
},
205 "AValor";
}

Class "Priest"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n__The servants of the gods are as many and varied as the gods
      themselves, each deticated heart and soul to the ethos of his
      patron. Yet the adventuring priest is not a casual minister or
      greedy cleric, but a holy warrior and sacred theurgist rolled into
      one package. Working closely with the (far rarer) paladins, priests
      do the will of their diety by pushing forth civilization and 
      carrying the Word into the deepest night to bright light from
      darkness. Adventuring priests often consider themselves to be the
      special foes of undead, whom they hunt relentlessly; less benevolant
      priests extend this attitude to witches as well.
      \n__The priest casts divine spells, which focus on empowerment,
      healing, divination, protection and the support of the group more
      than on direct power. He gains access to domains that allow
      him extra themed spells and special powers in line with his god's
      portfolio -- a harvest-priest is quite different from a battle-
      priest. Priests are also competant warriors -- not as skilled as 
      the militant classes, but above the likes of mages, bards or rogues.
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the priest are Appraise, Concentration, Craft, 
      Diplomacy, Healing, Metamagic, Seneschal, Spellcraft, and Theology.
      Priest characters may also recieve certain bonus class skills, if their
      god offers them one or more Domains that grant such.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the priest.\n
      __*_<7>Proficiencies<2> -- Priests are proficient with simple weapons,
      impact weapons, flails and light or medium armor. Each priest is also 
      proficient with the one specific weapon that is a chosen weapon of his 
      diety.\n
      __*_<7>Spellcasting<2> -- Priests cast divine spells from the priest
      spell list, which focuses on healing, divination, protection and the
      augmentation of combat ability. They recieve one spellcasting level
      for every class level, and learn spells simply by praying -- priests
      have no need for spellbooks. A priest
      must have his holy symbol equipped in the amulet slot or in a hand
      slot in order to cast spells, however.\n
      __*_<7>Domains<2> -- Every god has a portfolio, a sphere of influence
      over which he has authority. This protectorate is described in game
      terms by two Domains that the diety grants to his priests. Each
      Domain gives a priest a special granted power, as well as nine spells,
      one of each spell level. As soon as the priest reaches the class level
      to be able to cast a certain level of spell, she may spend spell
      slots to learn the two spells of the appropriate level from her god's
      Domains. Priests gain one extra spell slot per known spell level and
      this extra spell slot is typically used to learn a domain spell.\n
      __*_<7>Turn Undead<2> -- By channeling positive energy and holy
      eminations, a priest can rattle, terrify, wound or even annihilate
      undead creatures.  Turning undead costs the priest three fatigue
      points, and may have a variety of baneful effects on all nearby
      undead, based on the level of the priest in contrast with the power
      of the undead he is trying to affect.\n
      __Evil priests rebuke or command undead, not turn them, but all player
      character priests in this release of Incursion are assumed to be good
      or neutral aligned -- even if they worship and evil god. Priest and
      paladin levels stack together for the purposes of turning undead.\n
      __*_<7>Starting Benefits<2> -- 
      Priests start with a mace, their diety's chosen weapon, potions of 
      healing and vials of holy water. All priest starting weapons are 
      blessed.
      
      \n\n<10>THE PRIEST<15>__________________<15>Spells Known\n
      _Level_Def_Fort_Refl_Will__1___2___3___4___5___6___7<1>\n
      ___1___+0___+2___+0___+2__1+3__-___-___-___-___-___-\n
      ___2___+0___+3___+0___+3__2+3__-___-___-___-___-___-\n
      ___3___+0___+3___+1___+3__2+3_1+3__-___-___-___-___-\n
      ___4___+1___+4___+1___+4__3+3_2+3___-__-___-___-___-\n
      ___5___+1___+4___+1___+4__3+3_2+3_1+3__-___-___-___-\n
      ___6___+1___+5___+2___+5__4+3_3+3_2+3__-___-___-___-\n
      ___7___+1___+5___+2___+5__5+3_4+3_3+3_1+3__-___-___-\n
      ___8___+2___+6___+2___+6__6+3_5+3_3+3_2+3__-___-___-\n
      ___9___+2___+6___+3___+6__6+3_6+3_3+3_3+3_1+3__-___-\n
      ___10__+2___+7___+3___+7__7+3_6+3_4+3_3+3_2+3__-___-\n
      ___11__+2___+7___+3___+7__7+3_7+3_5+3_4+3_3+3__-___-\n
      ___12__+3___+8___+4___+8__7+3_7+3_5+3_4+3_4+3_1+3__-\n
      __(Note that priests do recieve 8th and 9th level
      spells at the same rate mages do, along with three
      bonus 8th and three bonus 9th level spells -- there
      just isn't room to show this on the chart.)\n";

HitDice: 8; Mana: 12; Def: 1/4;
Attk: 1 75,
2 75,
3 75,
0 75;
Skills[4]: 8, 9, 17, 21, 30,
31, 34, 42, 43;
Proficiencies: 0x00000001, 0x00000080, 0x00020000, 0x20000000, 0x40000000;
Grants:
Ability[82] at every level starting at 1st,
Stati[230,0x0008,+1] at every level starting at 1st,
Ability[23] at every level starting at 1st;
Flags: 1, 6, 8;
Gear:
if (EActor->isSmallRace())
$"light mace" else
$"heavy mace",
3d8 blessed $"flask" of $"water",
4d2 $"potion" of $"healing",
10d10 $"gold piece",
$"clerical vestment";
On Event (150+500) {
hObj h; rID wID;
wID = (rID) (EActor->GodID)->GetConst(135);
if (wID != ((rID)0)) {
h = CreateItem(wID);
h->MakeKnown(0xFF);
EActor->GainItem(h,true);
}
return 0;
},
150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(58) || h->isType(24) ||
h->isType(21) || h->isType(51))
h->IFlags |= 0x0001;
return 0;
},
153 {
int32 turntype; rID wID;
#line "classes.irh" 1866
if (EActor->LevelAs($"priest") == 1) {
EActor->GainSpell($"bless",0x0001|0x0008);
EActor->GainSpell($"cure light wounds",0x0001|0x0008);
wID = (rID) (EActor->GodID)->GetConst(135);
if (wID != ((rID)0)) {
if (EActor->WepSkill(wID) < 1)
EActor->GainPermStati(30,NULL,4,1,0,wID);
}

}

turntype = 0;
if (!EActor->GodID)
Error("Priest has no god!");

if (ResourceHasFlag(EActor->GodID,11) || EActor->isMType(62))
turntype = 1;
else if (ResourceHasFlag(EActor->GodID,12))
turntype = 2;
else if (ResourceHasFlag(EActor->GodID,1) || ResourceHasFlag(EActor->GodID,6))
turntype = 1;
else if (ResourceHasFlag(EActor->GodID,4) || ResourceHasFlag(EActor->GodID,7))
turntype = 2;
else if (EActor->isMType(106))
turntype = 1;
else if (EActor->isMType(103))
turntype = 2;
else if (EActor->HasEffStati(33,$"priest"))
turntype = 1;
else if (EActor->HasEffStati(35,$"priest"))
turntype = 2;
else if (EActor->ChoicePrompt("Do you want to turn or command undead?", "tc", 't') == 't')
turntype = 1;
else
turntype = 2;

if (turntype == 1)
{
if (EActor->HasEffStati(33,$"priest"))
EActor->SetStatiMag(33,76,NULL,
EActor->GetStatiMag(33,76,NULL) + 1);
else
EActor->GainPermStati(33,NULL,4,76,1,$"priest");
}
else if (turntype == 2)
{
if (EActor->HasEffStati(35,$"priest"))
EActor->SetStatiMag(35,76,NULL,
EActor->GetStatiMag(35,76,NULL) + 1);
else
EActor->GainPermStati(35,NULL,4,76,1,$"priest");
}
else
Error("Illegal turntype in priest::EV_ADVANCE!");

return 0;
};
Lists:
* 21
(52 + 1000)
5 $"air walk";
}




Class "Ranger"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d8__<15>Skills:<1>_8_<15>Saves:<1>_<9>FR<1>w_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>75~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>\n\tThe hunter, the archer, the woodsman, the explorer, the tracker,
      the forester -- all these have the seeds of a Ranger in them, but a
      Ranger exceed them all. The superlative masters of the woodlands, the
      Ranger combines stealth, nature skill and martial prowess into a deadly,
      effective package. Heroic Rangers often act as the hand of the law outside of
      the cities, protecting innocent villages from the depridations of vile
      humanoids, while others stalk and hunt men in one form or another, or
      simply remove themselves from society utterly to commune with nature.
      \n\tThe Ranger is a formidable fighter. Rangers have a variety of 
      wilderness-oriented skills, including the valued stealth skills, and 
      diverse special abilities to aid their role: tracking, bonuses against 
      studied enemies, weapon skill, traceless passage, bonus combat feats 
      oriented toward archery and two weapon-fighting and a dabbling of 
      nature-oriented magics at the higher levels.
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the ranger are Animal Empathy, Climb, Craft,
      Find Weakness, Healing, Hide, Intuition, Jump, Knowledge (Nature),
      Knowledge (Oceans), Knowledge (Theyra), Listen, Move Silently, 
      Ride, Search, Spot, Swimming and Wilderness Lore.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the ranger.\n
      __*_<7>Proficiencies<2> -- Rangers are proficient with all simple
      weapons, long blades, short blades, axes, archery, thrown weapons, 
      staves and spears, and with light armor and shields.\n
      __*_<7>Animal Companions<2> -- Rangers can tame animals using their
      Animal Empathy class skill, and if successful add those companions
      to their adventuring party. A ranger character recieves a free 'buffer'
      of (approximately) two hit dice per ranger level for animal companions; 
      these hit dice worth of animals do not count toward the total hit dice 
      of the party for purposes of party loyalty checks or gaining new party 
      members.\n
      __Levels of this ability from the druid and ranger classes stack.\n
      __*_<7>Tracking<2> -- The ranger's tracking ability is a combination
      of mundane tracking skill, keenly honed intuition and a mystical kind
      of insight. Once a ranger of 2nd level or higher somehow notices a 
      creature (via normal sight, scent, infravision, or whatnot), she 
      begins tracking it.
      Thereafter it will always appear on the map even if it is not in the
      ranger's direct field of vision. The monster's location will be known
      as long as it is within 100 feet (10 squares) of the ranger and no
      more than 10 turns have passed. These limits increase by 20 feet (2
      squares) and 2 turns with each additional ranger level. Since this
      is a partially mystical ability, it will even allow the ranger to
      keep track of a creature that has teleported or shifted into another
      plane and it will allow the ranger to track creatures with her eyes
      closed. Since the creature must be noticed initially before tracking can
      take place, a well-honed Spot skill is important. Tracked enemies can
      be targeted with spells or arrows (etc.) even if they are out of the
      range of normal sight.\n
      __*_<7>Lore of Arms<2> -- Like warriors, rangers are extremely well
      versed in the ins and outs of weapons. Every <10>even<2> level as a
      ranger counts as a warrior level would for advancing this ability
      (which is described under the warrior class), and ranger and warrior
      levels in Lore of Arms stack.\n
      __*_<7>Favored Enemies<2> -- The ranger is at heart a hunter, and she
      makes a practice of knowing her enemies. By studying different types of
      creatures estensively, the ranger gains bonuses in combat against those
      she specializes in stalking. These bonus begin at +1 to hit and damage
      and increase by +1 for every 4 full ranger levels.\n
      __A ranger begins with one favored enemy, and gains another at every fifth
      ranger level.\n 
      __*_<7>Woodland Stride<2> -- Starting at 3rd level, a ranger's movement
      rate is never modified negatively by the terrain she is standing on (as
      with brambles, hedges, rubble or webbing).\n
      __*_<7>Combat Style<2> -- Starting at 1st level, rangers must choose one
      of the three ranger combat styles: archery, skirmish or two-weapon. Based
      on their choice, they recieve pre-set bonus feats at 1st, 3rd, 7th, 11th
      and 15th level. If they already have a feat inherantly, they recieve the
      next one in the progression; if the progression is complete and the ranger
      gains a bonus feat, they will gain one of the following instad: Woodsman,
      Endurance, Alertness, Toughness. Rangers do not need to meet the prerequisites 
      for feats gained from their combat style, but the feats only function if 
      the ranger is wearing light or no armor.\n
      __<10>Archery<2> -- This combat style gives the ranger the Rapid Shot feat
      at 1st, the Point-Blank Shot feat at 3rd, Defensive Shot at 7th, Zen 
      Archery at 11th and Aimed Shot at 15th.\n
      __<10>Two-Weapon<2> -- This combat style gives the ranger the Two-Weapon
      Style feat at 1st, the Ambidexterity feat at 3rd, Defensive Synergy at 7th, 
      Two-Weapon Tempest at 11th and Twin Weapon Style at 15th.\n
      __<10>Skirmish<2> -- This combat style gives the ranger the Sneaky feat at
      1st, the Backstab feat at 3rd, the Expert Tactician feat at 7th, the Mobility
      feat at 11th and the Deft Opportunist feat at 15th.\n
      __*_<7>Spellcasting<2> -- Rangers dabble with magic, being able to cast a
      few nature-oriented spells from a subset of the druid spell list. They gain
      one spellcasting chart level at 4th level, and an additional spell level
      for every even ranger class level thereafter.\n
      __*_<7>Fasting<2> -- Being well accustomed to the harsh ways of the
      wilderness, rangers are able to survive for extended periods on much less
      food than other creatures; they get hungry at 1/3rd the rate of other
      characters. Multi-classed rangers recieve this advantage in proportion
      to the amount of their total levels that are ranger levels.\n
      __*_<7>Size Advantage<2> -- Much like Small warriors, Small rangers
      train to fight larger creatures by exploiting their vulnerabilities,
      and thus gain reduced threat ranges just as warriors do. For rangers,
      this training is delayed by two levels, so they recieve a -1 threat
      range at 3rd level, -2 at 5th and so forth.\n
      __Warrior and ranger levels in this ability stack.\n
      __Small races also recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.\n
      __*_<7>Starting Benefits<2> -- Rangers start with a mighty long bow +2
      (or a short bow for small races, or a quick-loading arbalest +1 for
      dwarves and gnomes), a miscellaneous magic item designed for stealth
      or mobility, a racially-determined melee weapon and peasant garb. Any 
      starting ranger missile gains a +1 bonus. 
      \n\n<10>THE RANGER<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+0__Bonus Feat, Fast.,\n
      _____________________________1st Fav. Enemy    \n
      ____2____+0____+3___+0___+0__Tracking, LoreArms\n
      ____3____+1____+3___+1___+1__Woodland Stride,  \n
      _____________________________Bonus Feat        \n
      ____4____+1____+4___+1___+1__+1 caster level   \n
      ____5____+1____+4___+1___+1__2nd Favored Enemy \n
      ____6____+2____+5___+2___+2__+2 caster level   \n
      ____7____+2____+5___+2___+2__Bonus Feat        \n
      ____8____+2____+6___+2___+2__+3 caster level   \n
      ____9____+3____+6___+3___+3____________________\n
      ____10___+3____+7___+3___+3__3rd Favored Enemy,\n
      _____________________________+4 caster level   \n
      ____11___+3____+7___+3___+3__Bonus Feat________\n
      ____12___+4____+8___+4___+4__+5 caster level   \n";
Gear:
if (EActor->rateMeleeWeapon() >= 2)
$"gold piece"
else if (EActor->isMType(65) || EActor->isMType(18) ||
EActor->isMType(64))
$"halfspear"
else if (EActor->isMType(62) || EActor->isMType(61) )
$"long sword"
else if (EActor->isMType(63))
$"battleaxe"
else if (EActor->isMType(66))
$"scimitar"
else if (EActor->isMType(83))
$"large club"
else if (EActor->isMType(22))
$"longspear"
else
$"long sword",

if (EActor->GetEffStatiVal(189,$"ranger") == 's')
33% $"stone" +2 of $"shadowstone"
else if (EActor->GetEffStatiVal(189,$"ranger") == 's')
50% $"lenses" of $"the night"
else if (EActor->GetEffStatiVal(189,$"ranger") == 's')
$"boots" +1 of $"striding and springing",

if (EActor->rateRangedWeapon() >= 2)
$"gold piece" else
if (EActor->isMType(63) || EActor->isMType(64) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8)))
$"arbalest" else
if (EActor->isSmallRace())
$"short bow"
else
$"long bow",

if (EActor->isMType(67))
$"blowpipe",

$"peasant garb";
HitDice: 8; Mana: 8; Def: 1/3;
Attk: 1 75,
2 100,
3 100,
0 100;
Skills[8]: 44, 2, 7, 9, 14,
17, 18, 21, 22, 32, 36,
40, 41, 45, 48, 27,
28, 23;
Proficiencies: 0x00000001, 0x00000008, 0x00000010, 0x00000020, 0x00000100,
0x00000040, 0x00001000, 0x00000400, 0x00000004, 0x20000000, 0x10000000;
Grants:
Ability[94,+10] at 2nd level,
Ability[128,+1] at every 2nd level starting at 2nd,
Ability[94,+2] at every level starting at 3rd,
Ability[34,125] at every level starting at 1st,
Ability[34,126] at every level starting at 5th,
Ability[34,127] at every level starting at 10th,
Ability[34,128] at every level starting at 15th,
Ability[34,129] at every level starting at 20th,
Ability[110] at 3rd level,
Ability[2] at every level starting at 1st,
Ability[82] at every 2nd level starting at 4th,
Stati[230,0x0010,+1] at every level starting at 3rd;
Flags: 6, 7;
On Event 150 {
hObj h;
if (EActor->GetEffStatiVal(189,$"ranger") == 'a')
{
h = EActor->getPrimaryRanged();
if (h->QualityOK(45)) {
h->AddQuality(45);
h->SetInherantPlus(max(1,
h->GetInherantPlus()));
}
else {
if (h->QualityOK(43) && EActor->GetAttr(0) >= 15)
h->AddQuality(43);
h->SetInherantPlus(max(2,
h->GetInherantPlus()));
}
for (h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->iID == $"sheaf arrow" ||
h->iID == $"flight arrow" ||
h->iID == $"crossbow bolt" ||
h->iID == $"hand crossbow dart")
h->SetInherantPlus(max(1,
h->GetInherantPlus()));
}
return 0;
},
153 {
int32 style; int32 ft;
if (EActor->isMType(67))
EActor->Proficiencies |= 0x00000080;
if (EActor->isSmallRace())
if (EActor->LevelAs($"ranger") >= 3)
EActor->GainAbility(134,+1,$"ranger",4);
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"ranger",4);

if (EActor->LevelAs($"ranger") == 1) {
style = EActor->ChoicePrompt("Combat style: archery, skirmish or two-weapon?", "ast");
EActor->GainPermStati(189,NULL,7,style,0,$"ranger");
}
if (EActor->LevelAs($"ranger") == 1 ||
EActor->LevelAs($"ranger") == 3 ||
EActor->LevelAs($"ranger") == 7 ||
EActor->LevelAs($"ranger") == 11 ||
EActor->LevelAs($"ranger") == 15)
{

style = EActor->GetEffStatiVal(189,$"ranger");

if (style == 'a')
{
if (!(EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9)) || EActor->HasStati(199,((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9))))
ft = ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9);
else if (!(EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17)) || EActor->HasStati(199,(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17))))
ft = (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17);
else if (!(EActor->HasFeat((((49 + 1) + 32) + 25)) || EActor->HasStati(199,(((49 + 1) + 32) + 25))))
ft = (((49 + 1) + 32) + 25);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41);
else if (!(EActor->HasFeat(((49 + 1) + 4)) || EActor->HasStati(199,((49 + 1) + 4))))
ft = ((49 + 1) + 4);
else
ft = 6;
}
else if (style == 't')
{
if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12);
else if (!(EActor->HasFeat(((49 + 1) + 7)) || EActor->HasStati(199,((49 + 1) + 7))))
ft = ((49 + 1) + 7);
else if (!(EActor->HasFeat((((49 + 1) + 32) + 27)) || EActor->HasStati(199,(((49 + 1) + 32) + 27))))
ft = (((49 + 1) + 32) + 27);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 13)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 13))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 13);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11);
else
ft = 6;
}
else if (style == 's')
{
if (!(EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35)) || EActor->HasStati(199,((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35))))
ft = ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35);
else if (!(EActor->HasFeat(((49 + 1) + 20)) || EActor->HasStati(199,((49 + 1) + 20))))
ft = ((49 + 1) + 20);
else if (!(EActor->HasFeat(((((49 + 1) + 32) + 50) + 14)) || EActor->HasStati(199,((((49 + 1) + 32) + 50) + 14))))
ft = ((((49 + 1) + 32) + 50) + 14);
else if (!(EActor->HasFeat(((((((49 + 1) + 32) + 50) + 38) + 30) + 27)) || EActor->HasStati(199,((((((49 + 1) + 32) + 50) + 38) + 30) + 27))))
ft = ((((((49 + 1) + 32) + 50) + 38) + 30) + 27);
else if (!(EActor->HasFeat((((49 + 1) + 32) + 32)) || EActor->HasStati(199,(((49 + 1) + 32) + 32))))
ft = (((49 + 1) + 32) + 32);
else
ft = 6;
}
if (ft == 6)
{
if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 40)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 40))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 40);
else if (!(EActor->HasFeat(((((49 + 1) + 32) + 50) + 8)) || EActor->HasStati(199,((((49 + 1) + 32) + 50) + 8))))
ft = ((((49 + 1) + 32) + 50) + 8);
else if (!(EActor->HasFeat(((49 + 1) + 5)) || EActor->HasStati(199,((49 + 1) + 5))))
ft = ((49 + 1) + 5);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
else
return 0;
}
EActor->GainPermStati(199,NULL,4,
ft,0,$"Ranger Feat");
}
return 0;
};
#line "classes.irh" 2251
Lists:
* 21
1 $"alarm" $"arrow mind" $"call companions" $"camouflage" $"cure light wounds"
$"detect animals and plants" $"entangle" $"invisibility to animals"
$"hawkeye" $"jump;spell" $"longstrider" $"magic missile" $"magic fang"
$"mending" $"obscurement" $"pass without trace" $"reduce" $"resist fire"
$"resist cold" $"sleep" $"slow poison" $"summon nature's ally i"
$"true strike" $"warp wood" $"mount" $"wind wall"
2 $"barkskin" $"bear's endurance" $"blur" $"cat's grace"
$"cure moderate wounds" $"flame blade" $"hold beast"
$"might of the oaks" $"persistance of the waves"
$"protection from cold" $"protection from fire" $"rainstorm"
$"resist water" $"summon swarm" $"summon nature's ally ii"
$"web" $"wind wall" $"endure the elements" $"nondetection"
3 $"control plant" $"neutralize poison"
$"plant growth" $"cure disease" $"create food and water"
$"summon nature's ally iii" $"earthmaw" $"dominate animal"
$"rope trick" $"resist the elements" $"haste" $"blink"
$"phantom steed" $"false life" $"cure serious wounds"
4 $"cure critical wounds" $"free action;spell" $"polymorph self"
$"ice storm" $"tree stride" $"explosive runes"
$"clairvoyance" $"detect monsters" $"fire charm"
$"protection from elements" $"solid fog" $"premonition"
$"stoneskin" $"divine agility" $"air walk" $"death ward"
$"dire regression" $"spike growth" $"solid fog"
5 $"animal growth" $"insect plague" $"commune with nature"
$"turnclaw" $"force shapechange" $"wizard sight";
}

Effect "Ranger Feat" : 46
{
On Event 155 {
if (EActor->InSlot(9) != ((hObj)0))
if (EActor->InSlot(9)->isGroup(0x40000000) ||
EActor->InSlot(9)->isGroup(0x80000000))
return false;
return true;
};
}

Class "Rogue"
{
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d6__<15>Skills:<1>_12_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n\tShe might be a cutpurse, a wayfarer, an assassin, a scoundrel or 
      simply an everywoman who slipped into the adventuring life and chose
      to rely on quick wits, light fingers, clever plans and stealth instead
      of might or magic. Regardless, she's a rogue, and the world is like an
      oyster to her. Members of this class are not powerful, and can be
      difficult to play effectively, but their grab-bag abilities and wide
      range of skills make them highly proficient in areas where other
      characters would be helpless.
      \n\tRogues have only a d6 for Hit Dice and mediocre combat skills
      (though they can be quite proficient as archers or using thrown
      weapons) but they recieve the most skill points, and the widest
      selection of class skills, of any class in the game. This means
      that if they can survive the dungeon, they have a lot of unusual
      options open to them for advancing, and for gaining valuable magic
      items. Rogues inflict extra damage when attacking from surprise,
      have excellent defense values and gain a number of special abilities
      describing their danger sense, good instincts and ability to avoid
      harmful surprises.

      \n\n<10>CLASS SKILLS<2>\n
      __More than any other character type, the rogue depends upon her
      skills. The class skills of the rogue are Alchemy, Appraise, Athletics,
      Balance, Bluff, Climb, Craft, Decipher Script, Disguise, Diplomacy, Disable Device,
      Escape Artist, Find Weakness, Healing, Hide, Ride, Intimidate, Intuition,
      Jump, Knowledge (all), Listen, Lockpicking, Move Silently, Perform, Pick Pocket,
      Poison Use, Searching, Spot, Tumble and Use Magic
      Device.\n
      __Like all classes that recieve 8 or more base skill points per level,
      the Rogue doubles his Intelligence bonus for determining skill points
      gained every level.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the rogue.\n
      __*_<7>Proficiencies<2> -- The rogue is proficient with all simple
      weapons, daggers, short blades, thrown weapons, flexible weapons, 
      archery and light armor.\n
      __*_<7>Sneak Attack<2> -- A rogue has the ability to inflict extra
      dice of damage when they can attack an opponent in such a manner as
      to slip past their defenses. The rogue gains 1d6 points of bonus
      damage on sneak attacks at 1st level, and another 1d6 for every odd
      rogue level she possesses; for example, a fifth level rogue gains
      +3d6 points of damage on a successful sneak attack. Certain weapons
      are expecially useful for sneak attacks and allow the rogue to roll
      eight-sided dice instead, while an unskilled unarmed sneak attack 
      is only rolled on four-sided dice. Creatures which are immune to
      critical hits are also immune to the bonus damage of a rogue's sneak 
      attack. The damage from a sneak attack is not multiplied if that
      attack also turns out to be a critical hit. A rogue can peform a
      sneak attack in the following situations:\n
      __<10>Surprise:<2> If the rogue can take her target completely by
      surprise -- that is, the target is unaware of the rogue's presence,
      usually due to her using Hide and Move Silently -- then she can
      perform a sneak attack.\n
      __<10>Flat-Footed:<2> If a rogue can catch her enemy flat-footed
      (i.e., strike the first blow against a given enemy that has been
      out of combat for several rounds before it can respond and attempt
      to strike her), she gets her sneak attack damage.\n
      __<10>Flanking:<2> If a rogue has an ally in the square directly opposite
      her, and an enemy trapped between the two of them, the enemy must turn
      her back partially on the rogue, and she can thus gain her sneak
      attack damage.\n
      __<10>Exposure:<2> If an enemy is unable to focus her defenses as a
      result of being stunned, paralyzed, charging, off-balance after
      performing a Great Blow or is currently engaging in grappling combat
      with someone other then the rogue, then the rogue can gain her sneak
      attack damage on all attacks against that creature.\n
      __Sneak attacks require freedom of movement, and a rogue cannot 
      perform them while she is grappled or ensnared.\n
      __*_<7>Evasion<2> -- Starting at 2nd level, when a rogue successfully
      makes a Reflex saving throw against an area-effect attack that allows
      a Reflex save for half damage (such as a dragon's fiery breath or a 
      mage's <9>lightning bolt<2>), he takes no damage at all. At 10th level
      and above, the rogue takes only half damage on a failed Saving Throw.\n
      __Levels of this ability from the monk and rogue classes stack.\n
      __*_<7>Uncanny Dodge<2> -- Like the barbarian, the rogue is possessed
      of preternatural agility and instincts that allow her to avoid harm.
      Starting at 3rd level and beyond, the rogue is never caught flat-
      footed -- no matter how many rounds have passed since her last combat
      exchange, she is always alert. At 5th level, her uncanny instincts allow
      her to wake alert if she has an encounter while resting, avoiding being
      flat-footed, vulnerable to Coup de Grace attacks and being able to act
      immediately as the encounter begins. At 6th level and above, she suffers no
      ill effects from having enemies on either side and is effectively
      immune to flanking. Starting at 9th level and above, the rogue recieves
      gradually increasing bonuses to all saving throws against traps -- her
      instincts tell her exactly when to dodge or pull back.\n
      __Levels of this ability from the barbarian and rogue classes stack.\n
      __*_<7>Stealth<2> -- While rangers and, in truth, members of any class
      can gain skill with stealth, rogues excel at it beyond all others. 
      They recieve a +1 class bonus to Hide in Shadows and Move Silently at
      8th level and this bonus increases by 1 for every even level thereafter.\n
      __*_<7>Special Abilities<2> -- Starting at 6th level, and then every third
      level thereafter (at 6th, 9th, 12th, 15th and 18th), a rogue can choose 
      one of the following special abilities:\n
      __<10>Trick Magic:<2> A Rogue possessed of this ability can use her
      Bluff and Use Magic skills in conjunct to 'trick' a magic item normally
      reserved for a specific race, class or alignment into accepting her as a
      legitimite wielder. The strength of this ability is based on the sum of
      her Use Magic and Bluff skill ratings, with a total of 30 or higher
      allowing her to use nearly any item she might find.\n
      __<10>Skill Mastery:<2> This rogue has achieved such a transcendant mastery
      of her skills that she is always guaranteed some minimum degree of success.
      The lowest she can ever roll on any skill roll for a rogue class skill (i.e.,
      the 1d20 roll, not the entire skill check) is 7 + her intelligence modifier (maximum 15).
      If the roll would normally come out lower, it is adjusted up to this level.
      Thus a rogue with Intelligence 18, Move Silently +13 and this ability would 
      always score at least 24 on a Move Silently check.\n
      __<10>No Mind:<2> In studying this ability, a rogue learns a number of
      meditative exercises and philosophies that she can apply to attain a state
      of transcendant nothingness. Thereafter, she is invisible to telepathy as
      an innate, permanent and non-magical ability.\n
      __<10>Crippling Strike:<2> Whenever a rogue possessed of this ability
      successfully executes a sneak attack against a creature with blood, the
      attack inflicts a bleeding wound, causing the victim to lose a number of
      hit points each turn from blood loss equal to the total of the rogue's
      sneak attack dice. The bleeding lasts for 1d6+1 turns; further sneak
      attacks on a creature already bleeding as a result of this ability do
      not increase the bleeding damage; instead, they extend its duration
      for 1d6 rounds per strike.\n
      __<10>Slippery Mind:<2> A rogue with this ability has naturally trained
      mental defenses against enchantment effects. At the end of the turn after
      she succumbed to some form of enchantment, she may make a second saving
      throw with a +4 retry bonus to the save DC. Success allows her to shrug
      off the enchantment effect.\n
      __<10>Soft Steps:<2> By training in a very specific and difficult manner,
      a rogue can learn to walk across a surface without causing any vibration
      inside that surface's volume. This causes her to be effectively invisible
      to tremorsense, and is a constant, permanent and non-magical ability.\n
      __<10>Unearthly Reflexes:<2> A rogue who chooses this special ability
      has training her reaction time to a nearly inhuman degree, and recieves
      a +6 bonus to her Reflex saves.\n
      __<10>Peerless Accuracy:<2> When a rogue learns this ability, she
      becomes a master of thrown weapons -- she never misses. Well, almost
      never. She gains a permanent and inherant +5 bonus to hit when using
      thrown weapons. This does <10>not<2> apply to archery.\n
      __<10>Defensive Roll:<2> If you have this ability, you are able to 
      move with the impact from blows, lessening their effect even if they do 
      hit you. This ability does not function in heavy armor. When you are 
      struck by a creature that needs a 15 or greater to hit you, you only 
      suffer a certain fraction of the damage, starting at 5/6th. The number 
      of sixths of the total damage can be further reduced in the following 
      circumstances, to a minimum of 1/6th:\n
      __* You are Small and your foe is Medium-sized or larger (-1/6th).\n
      __* Your foe can only hit you on a natural 20 (-1/6th).\n
      __* You are unarmored (-2/6ths) or in light armor (-1/6th).\n
      __This ability does not function if you have spells active which
      simulate the effect of heavy armor (such as Spirit Armor) and
      Mage Armor is treated as medium armor for this purpose.\n
      __<10>Bonus Feat:<2> In lieu of choosing a rogue special ability, a rogue 
      can elect to gain a bonus feat chosen from a list of all feats in the 
      game that do not have other feats as prerequisites.\n
      __*_<7>Thief in the Night<2> -- Characters of most classes gain experience
      by moving through the dungeon killing monsters, but rogues have the option
      to avoid the killing entirely. If a single-classed rogue enters a region 
      and handles every single magical item within that region, and then leaves 
      without the monsters or NPCs who dwell there being even slightly aware of 
      her presence, she will recieve experience for every enemy in the room just 
      as if she had killed them normally. In this context, handling an item means 
      holding it in one's hands -- the rogue can then decide if she want to keep 
      it or leave it where she finds it to remain unburdened.\n
      __This has to be executed flawlessly to function. If even one monster is
      aware of the rogue's presence -- as a result of seeing her, notcing her
      with an ability like blindsight, tremorsense, telepathy or scent or
      hearing noise she made (by casting a noisy spell or kicking open a door,
      for example), then she does not gain any experience upon leaving the
      region. If one enemy becomes aware of her and she kills that enemy,
      however, she gains the experience for any remaining oblivious foes. If
      foes in the room carry valuable magic items, those must be removed from
      them (perhaps using the Pick Pockets skill) for this experience to be
      gained.\n
      __Rogues do not gain XP for monsters twice; if they meet these conditions
      and gain XP upon leaving the region, later killing the monsters gives
      them nothing. They also gain nothing for entering and leaving regions
      that have no treasure, regardless of how stealthy they are. Multi-class
      characters with rogue levels gain this stealth XP an a proportionate 
      percent equal to their rogue levels -- a Rogue 2/Warrior 6 gains 25~ of
      the total experience value of creatures via this method, and can claim
      the remaining 70~ by going back to kill them.\n
      __*_<7>Starting Benefits<2> -- Rogues start with a short sword, a weapon
      from the daggers group, a few potions of healing, some tanglefoot bags, 
      a cloak of nondetection (which prevents monsters from smelling them while 
      they hide, for example) and a fair amount of gold. They always have a 
      ranged weapon -- a short bow unless their race gives them something else.
      Rogues also begin play with a second, random magical item suitable to the
      skills of a sneak. Finally, evil rogues also begin play with two vials of
      poison.
      \n\n<10>THE ROGUE<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__Sneak Attack +1d6 \n
      ____2____+1____+0___+3___+0__Evasion           \n
      ____3____+1____+1___+3___+1__Never Flat-Footed,\n
      _____________________________Sneak Attack +2d6 \n
      ____4____+2____+1___+4___+1____________________\n
      ____5____+2____+1___+4___+1__Sneak Attack +3d6,\n
      _____________________________Wake Alert_______ \n
      ____6____+3____+2___+5___+2__Imm. to Flanking, \n
      _____________________________Special Ability   \n
      ____7____+3____+2___+5___+2__Sneak Attack +4d6 \n
      ____8____+4____+2___+6___+2__Stealth +1________\n
      ____9____+4____+3___+6___+3__Sneak Attack +5d6,\n
      _____________________________Special Ability___\n
      ____10___+5____+3___+7___+3__St. +2, Evasion II\n
      ____11___+5____+3___+7___+3__Sneak Attack _6d6 \n
      ____12___+6____+4___+8___+4__Stealth +3,_______\n
      _____________________________Special Ability\n";
Gear:
if ((EActor->isMType(63) || EActor->isMType(64) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8))) &&
(EActor->rateRangedWeapon() == 0))
$"cranquin" else
if (EActor->rateRangedWeapon() == 0)
$"short bow",
$"short sword",
33% $"dagger" else
50% $"stiletto" else
$"main gauche",
$"cloak" of $"nondetection;item",
25% $"stone" +2 of $"shadowstone" else
33% $"gauntlets" +2 of $"nimble fingers" else
50% $"bracers" of $"legerdemain" else
3d10 $"potion" of $"invisibility",
2d6 $"potion" of $"healing",
3d4 $"bag" of $"tanglefoot bag",
2d6 $"potion" of $"dimension door",
300d10 $"gold piece",
if (EActor->isMType(51))
$"blowpipe",
if (EActor->isMType(103))
$"small glass vial" of random 3 to 9,
if (EActor->isMType(103))
$"small glass vial" of random 3 to 9,
$"peasant garb";
HitDice: 6; Mana: 6; Def: 1/2;
Attk: 1 75,
2 75,
3 75,
0 75;
Skills[12]: 1, 44, 4,
5, 6, 7, 9, 10, 12,
11, 16, 13, 14,
17, 18, 40, 20, 21,
22, 23,24,25,26,27,28,29,30,31, 32, 33, 36,
37, 38, 39, 41,
3, 46, 47;
Proficiencies: 0x00000001, 0x00001000, 0x00000004, 0x00000100,
0x00004000, 0x00000020, 0x20000000;
Grants:
Feat[((49 + 1) + 11)] at 1st level,

Stati[123,9,+1] at every 3rd level starting at 3rd,
Stati[124,18,+1] at every 2nd level starting at 8th,
Stati[124,36,+1] at every 2nd level starting at 8th,
Ability[80] at every 2nd level starting at 1st,
Ability[31] at every 2nd level starting at 2nd,
Ability[100] at every level starting at 3rd,
Ability[135] at every level starting at 1st,
Feat[2] at every 3rd level starting at 10th;
Flags: 7;
On Event 153 {
int32 choice;
if (EActor->LevelAs($"rogue") == 6 || EActor->LevelAs($"rogue") == 9 ||
EActor->LevelAs($"rogue") == 12 || EActor->LevelAs($"rogue") == 15 ||
EActor->LevelAs($"rogue") == 18)
{
if (!EActor->HasAbility(130))
ETerm->LOption("Trick Magic",1,
"A Rogue possessed of this ability can use her
                Bluff and Use Magic skills in conjunct to 'trick' a magic item normally
                reserved for a specific race, class or alignment into accepting her as a
                legitimite wielder. The strength of this ability is based on the sum of
                her Use Magic and Bluff skill ratings, with a total of 30 or higher
                allowing her to use nearly any item she might find.");
if (!EActor->HasAbility(75))
ETerm->LOption("Skill Mastery",2,
"This rogue has achieved such a transcendant mastery
                of her skills that she is always guaranteed some minimum degree of success.
                The lowest she can ever roll on any skill roll for a rogue class skill (i.e.,
                the 1d20 roll, not the entire skill check) is 7 + her intelligence modifier
                (maximum 15). If the roll would normally come out lower, it is adjusted up 
                to this level. Thus a rogue with Intelligence 18, Move Silently +13 and this 
                ability would always score at least 24 on a Move Silently check.");
if (!EActor->HasEffStati(211,$"rogue",0x0080))
ETerm->LOption("No Mind",3,
"In studying this ability, a rogue learns a number of
                meditative exercises and philosophies that she can apply to attain a state
                of transcendant nothingness. Thereafter, she is invisible to telepathy as
                an innate, permanent and non-magical ability.");
if (!EActor->HasEffStati(79,$"Crippling Strike"))
ETerm->LOption("Crippling Strike",4,
"Whenever a rogue possessed of this ability
                successfully executes a sneak attack against a creature with blood, the
                attack inflicts a bleeding wound, causing the victim to lose a number of
                hit points each turn from blood loss equal to the total of the rogue's
                sneak attack dice. The bleeding lasts for 1d6+1 turns; further sneak
                attacks on a creature already bleeding as a result of this ability do
                not increase the bleeding damage; instead, they extend its duration
                for 1d6 rounds per strike.");
if (!EActor->HasAbility(76))
ETerm->LOption("Slippery Mind",5,
"A rogue with this ability has naturally trained
                mental defenses against enchantment effects. At the end of the turn after
                she succumbed to some form of enchantment, she may make a second saving
                throw with a +4 retry bonus to the save DC. Success allows her to shrug
                off the enchantment effect.");
if (!EActor->HasEffStati(211,$"rogue",0x0020))
ETerm->LOption("Soft Steps",6,
"By training in a very specific and difficult manner,
                a rogue can learn to walk across a surface without causing any vibration
                inside that surface's volume. This causes her to be effectively invisible
                to tremorsense, and is a constant, permanent and non-magical ability.");
if (!EActor->HasEffStati(109,$"rogue",29))
ETerm->LOption("Unearthly Reflexes",7,
"A rogue who chooses this special ability
                has training her reaction time to a nearly inhuman degree, and recieves
                a +6 bonus to her Reflex saves.");
if (!EActor->HasEffStati(79,$"Peerless Accuracy"))
ETerm->LOption("Peerless Accuracy",8,
"When a rogue learns this ability, she
                becomes a master of thrown weapons -- she never misses. Well, almost
                never. She gains a permanent and inherant +5 bonus to hit when using
                thrown weapons. This does <10>not<2> apply to archery.");
if (!EActor->HasAbility(137))
ETerm->LOption("Defensive Roll", 9,
"If you have this ability, you are able to move with the impact from 
                blows, lessening their effect even if they do hit you. This ability
                does not function in heavy armor. When you are struck by a creature
                that needs a 15 or greater to hit you, you only suffer a certain
                fraction of the damage, starting at 5/6th. The number of sixths of
                the total damage can be further reduced in the following circumstances,
                to a minimum of 1/6th:\n
                __* You are Small and your foe is Medium-sized or larger (-2/6th).\n
                __* Your foe can only hit you on a natural 20 (-1/6th).\n
                __* You are unarmored (-2/6ths) or in light armor (-1/6th).\n
                __This ability does not function if you have spells active which
                simulate the effect of heavy armor (such as Spirit Armor) and
                Mage Armor is treated as medium armor for this purpose.");
ETerm->LOption("Bonus Feat", 10,
"In lieu of choosing a rogue special ability, a rogue can elect to gain
                a bonus feat chosen from a list of all feats in the game that do not
                have other feats as prerequisites.");

choice = ETerm->LMenu(0x0008|0x0001|0x0100,
"Choose a Rogue special ability:", 14);
switch (choice)
{
case 1:
EActor->GainAbility(130,1,$"rogue",4);
break;
case 2:
EActor->GainAbility(75,1,$"rogue",4);
break;
case 3:
EActor->GainPermStati(211,NULL,4,
0x0080,0,$"No Mind");
break;
case 4:
EActor->GainPermStati(79,NULL,4,
(20+1000),0,$"Crippling Strike");
break;
case 5:
EActor->GainAbility(76,1,$"rogue",4);
break;
case 6:
EActor->GainPermStati(211,NULL,4,
0x0020,0,$"Soft Steps");
break;
case 7:
EActor->GainPermStati(109,NULL,4,
29,+6,$"Unearthly Reflexes");
break;
case 8:
EActor->GainPermStati(79,NULL,4,
19,0,$"Peerless Accuracy");
break;
case 9:
EActor->GainAbility(137,1,$"rogue",4);
break;
case 10:
#line "classes.irh" 2682
EActor->GainFeat(9,0);
break;
}
}
return 0;
};
}

Effect "No Mind" : 46
{ Flags: 82; }

Effect "Crippling Strike" : 46
{ Flags: 82;
On Event ((20+1000)+10000) {
if (e.isSneakAttack && !EVictim->isDead() && EVictim->isMType(77))
{
if (EVictim->HasEffStati(12,$"Crippling Strike"))
{
EVictim->SetEffStatiMag(12,$"Crippling Strike",
max(EVictim->GetEffStatiMag(12,$"Crippling Strike"),
EActor->AbilityLevel(80)));
EVictim->SetEffStatiDur(12,$"Crippling Strike",
EVictim->GetEffStatiDur(12,$"Crippling Strike") + 1d6);
}
else
EVictim->GainTempStati(12,NULL,1d6+1,6,
0, EActor->AbilityLevel(80), $"Crippling Strike");
}
return 0;
};
}

Effect "Soft Steps" : 46
{ Flags: 82; }

Effect "Unearthly Reflexes" : 46
{ Flags: 82; }

Effect "Peerless Accuracy" : 46
{ Flags: 82;
On Event (19+10000) {
if (e.AType == 41)
if (GetHandle(EItem2) != ((hObj)0) && EItem2->isGroup(0x00000100))
{
e.strHit += " +5 peerless";
e.vHit += 5;
}
};
}




Class "Warrior"
{
Desc: "
      <15>HitDie:_<1>d10_<15>Mana:<1>_d6__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>\n\tThe architypical man-at-arms, the warrior can be a soldier,
      mercenary or warlord; the peasant hero, noble fencer or questing
      knight. Regardless, his (or her) skills are unmatched -- unlike
      the paladin, barbarian or monk, the Warrior has no supernatural
      powers to back up his basic human prowess, so he has to focus
      on being the best there is with what he has. Warriors are both
      generalists -- being skilled in many weapons and diverse combat
      tactics -- and specialists, gaining the powerful ability to
      study specific weapons and better their skill with them as they
      advance in levels.
      __\n\tWarriors are ubiquitous. The militant arts are highly regarded
      on Therya, and as long as he shows a respect for life and law a
      Warrior can expect to earn a position of high regard in most social
      circles. Even in this more civilized age, most kings and barons are
      members of this class, ruling in equal measure from political
      canniness and force of arms. The peasantry respects a lord who is
      willing to take up arms to defend them rather then letting others
      die in his name, and even among the most cosmopolitan of noble
      families, warcraft is still a respected art.\n
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the warrior are Appraise, Athletics, Bluff, Climb, Craft, 
      Diplomacy, Find Weakness, Healing, Intimidate, Intuition, Ride, 
      Seneschal and Spot.
       
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Warriors are proficient with all weapon
      groups save for Exotic weapons, for which proficiency must be bought
      seperately in each. They are proficient with light, medium and heavy
      armors, and with shields. This gives them the widest range of weapon
      and armor proficiencies in the game.\n
      __*_<7>Weapon Skill<2> -- Warriors can develop exceptional degrees of
      skill with specific weapons, becoming eligable for special feats that
      represent such as they rise in level. They must still buy these feats
      normally, of course. At 1st level, all warriors recieve a free 
      Weapon Focus in a weapon of their choice. \n
      __Starting at 3rd level, the warrior is eligable to buy the Weapon
      Specialization feat in any weapon which he is focused in. At 7th level,
      he may choose to buy the Weapon Mastery feat in any weapon he is
      specialized it. The next level of skill is High Mastery, which may be
      bought at 11th level, then Grand Mastery at 15th.\n
      __*_<7>Bonus Feats<2> -- While the barbarian may be tougher and the
      rogue more agile, the warrior is bar none the most skilled and adept
      fighter in the game. To represent this, every even level the warrior 
      gains a bonus feat from the rather extensive warrior list, which 
      includes most of the combat-centered feats in the game.\n
      __*_<7>Lore of Arms<2> -- Warriors have a peerless understanding of
      weapons, and are able to identify the magical properties of weapons
      just by using them in combat. When a warrior wields an unidentified
      magical weapon and fights with it, the game will automatically identify
      it for him after 3 + ([9 - Warrior Level] x 2) successful hits with it
      in combat. Hits that kill their target count as three hits for this
      purpose.\n
      __*_<7>Size Advantage<2> -- Most living creatures, humanoid or otherwise,
      are set up to defend themselves from attacks by other creatures of human
      size or larger, because those creatures constitute the greatest threat to
      them on the food chain. Halfling, gnome and kobold warriors learn to take
      advantage of these blind spots, utilizing their smaller size to strike at
      vital regions their opponents usually aren't as skilled at defending. From
      an anatomical standpoint, after all, humans are much better set up to block
      blows from their height or from above then they are to deflect strikes
      coming in low.\n
      __In game terms, Small warriors gain increased threat ranges in melee
      combat against anything larger than them. Their threat range increases by
      -1 at 1st level, -2 at 3rd, -3 at 9th and -4 at 17th. These modifiers are
      applied after accounting for any increased threat ranges due to Improved
      Critical, keen weapons and similar abilities. This ability is a function of
      both anatomy and special training, so it doesn't apply to humans or other
      characters who become Small-sized as a result of magic, or to Small
      warriors who become human-sized (or giant-sized, or even tinier than they
      usually are) as a result of magic.\n
      __Small races also recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.\n
      __*_<7>Starting Benefits<2> -- Warriors start with a +1 version of the
      weapon they are focused in with an elemental brand or similar-powered
      enchantment, a kite shield or buckler, a fair supply of gold, a dagger,
      peasant garb and 1d4+1 vials of Oil of Transformation.
      \n\n<10>THE WARRIOR<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__Weapon Focus      \n
      ____2____+0____+3___+0___+3__Bonus Feat        \n
      ____3____+0____+3___+1___+3__Weapon Specializ. \n
      ____4____+1____+4___+1___+4__Bonus Feat        \n
      ____5____+1____+4___+1___+4__                  \n
      ____6____+1____+5___+2___+5__Bonus Feat        \n
      ____7____+1____+5___+2___+5__Weapon Mastery    \n
      ____8____+2____+6___+2___+6__Bonus Feat        \n
      ____9____+2____+6___+3___+6__Name Rank         \n
      ____10___+2____+7___+3___+7__Bonus Feat        \n
      ____11___+2____+7___+3___+7__High Mastery      \n
      ____12___+3____+8___+4___+8__Bonus Feat        \n";
HitDice: 10; Mana: 6; Def: 1/4;
Attk: 1 100,
2 100,
3 100,
0 100;
Skills[4]: 4, 6, 7, 9,
14, 17, 20, 21,
40, 44, 42;
Proficiencies: 0x00000001, 0x00000010, 0x00000020, 0x00000040, 0x00000080,
0x00000100, 0x00000200, 0x00000400, 0x00000800, 0x00001000, 0x00004000,
0x00020000, 0x00000004, 0x00000008, 0x00010000;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Feat[((49 + 1) + 12)] at 1st level,
Feat[((49 + 1) + 13)] at 1st level,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 29)] at 1st level,
Ability[106] at 4th level,
Ability[106] at 7th level,
Ability[106] at 10th level,
Ability[106] at 13th level,
Ability[128] at every level starting at 1st,
Feat[4] at every 2nd level starting at 2nd;
Gear:
50d10 $"gold piece",
1d4+1 $"potion" of $"oil of transformation",
if (EActor->isSmallRace() || (1d3 == 1))
$"buckler;wooden" else
$"kite shield",
$"dagger",
$"peasant garb";
On Event 150 {
hObj h; rID iID;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(21)) {
switch(random(3)) {
case 0: h->AddQuality(1); break;
case 1: case 2: h->MakeMagical(((rID)0),h->GetPlus()+1);
}
} else if (h->isType(51))
h->MakeMagical(((rID)0),h->GetPlus()+1);
}
h = EActor->getPrimaryMelee();
if (h && EActor->rateMeleeWeapon() > 1) {
if (h->GetInherantPlus() < 1)
h->MakeMagical(((rID)0),+1);
if ((EActor->HasFeat((((49 + 1) + 32) + 7)) ||
EActor->HasFeat(((((49 + 1) + 32) + 50) + 31)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 46))) &&
h->QualityOK(18))
h->AddQuality(18);
else switch(EActor->formulaSeed % 7) {
case 0: h->AddQuality(7); break;
case 1: h->AddQuality(8); break;
case 2: h->AddQuality(9); break;
case 3: h->AddQuality(10); break;
case 4:
if (h->QualityOK(13))
h->AddQuality(13);
else
h->MakeMagical(((rID)0),+2);
break;
case 5: h->AddQuality(77); break;
case 6:
if (h->GetInherantPlus() < 1)
h->MakeMagical(((rID)0),+2);
}
}
h = EActor->getPrimaryRanged();
if (h && EActor->rateRangedWeapon() > 1) {
h->MakeMagical(((rID)0),+1);
if ((EActor->HasFeat((((49 + 1) + 32) + 7)) ||
EActor->HasFeat(((((49 + 1) + 32) + 50) + 31)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 46))) &&
h->QualityOK(18))
h->AddQuality(18);
else switch(random(7)) {
case 0: h->AddQuality(7); break;
case 1: h->AddQuality(8); break;
case 2: h->AddQuality(9); break;
case 3: h->AddQuality(10); break;
case 4:
if (h->QualityOK(27))
h->AddQuality(27);
else
h->MakeMagical(((rID)0),+2);
break;
case 5: h->AddQuality(77); break;
case 6: case 6: h->MakeMagical(((rID)0),+2);
}
}
return 0;
},
153 {
if (EActor->isSmallRace())
EActor->GainAbility(134,+1,$"warrior",4);
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"warrior",4);
return 0;
},
(153+1000) {
#line "classes.irh" 2941
if (EActor->LevelAs($"warrior") == 1)
EActor->GainFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),0);
return 0;
};
Flags: 6, 8;
}
#line "prestige.irh" 687
Class "Alienist"
{
On Event 155 {
int32 failed; int32 i, c;
failed = false;

if (EActor->ISkillLevel(29) < 10) {
failed = true; EActor->IPrint("You need Knowledge (Planes) 10+.");
}

c = 0;
for(i=0;i!=2048;i++)
if (EActor->SpellKnown(i) & (0x0004|0x0008|0x0000|0x0010|0x0020))
if (theGame->SpellID(i)->Schools & 0x00000100)
c += theGame->SpellID(i)->Level;

if (c < 7) {
failed = true;
EActor->IPrint("You must have 7 levels of known Weavecraft spells.");
}

if (!EActor->IHasFeat(((49 + 1) + 19))) {
failed = true;
EActor->IPrint("You must have the Augment Summoning feat.");
}

if (EActor->GodID != $"Kysul" && EActor->GodID != ((rID)0)) {
failed = true;
EActor->IPrint("You must worship Kysul, or no one at all.");
}


if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d4__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n__There exist beings beyond the capacity of the minds of humans (and
           demihumans) to comprehend. Dwelling beyond the Outer Planes that
           define the human concept of the afterlife, these creatures are
           ancient, inscrutable, tremendously powerful and unbelievably alien.
           The most well known -- but certainly not the only -- representative
           of these beings on Theyra is Kysul, who serves as a guardian of any
           contact between the Prime Material and the Outer Rim, and is served
           by a handful of scattered mystery cults across the Kinlands.\n
           __The Alienist is a spellcaster who has devoted herself wholly to
           the intensely esoteric practice of summoning and dealing with these
           beings. Most would call her a madwoman, a crazed and irresponsible
           cultist that endangers the safety of all of Theyra. For some Alienists
           this accusation is true, while others are more responsible -- but no
           less feared or hated. The most common motive among alienists is
           knowledge -- knowledge of concepts and ideas that cannot exist in a
           stable manner in our reality and thus must be experienced firsthand
           in order to be understood, since human languages lack the terms to
           express them. This search for ultimate knowledge drives many alienists
           to enlightenment, damnation or both.\n
           __Alienists are not, by their nature, stable beings. They are driven
           by inhuman desire and exposed to unknowable secrets and eldritch
           beings, and as a result their minds are often deeply fractured and
           the majority of them are no longer able to relate to their original
           race in any normal way.\n
           __Many lizardfolk are alienists. Their people worshipped the Outer
           Lords long before humanity or the modern gods existed, and while the
           modern lizardfolk treat druidism as the closest thing they have to a
           state religion, alienism forms a distinct minority in their society,
           and they are the only peoples on all of Theyra (other than aberrations)
           who respect the practice of alienism. Mind flayers also sometimes become 
           alienists, though their society is fierce in the persecution of these
           forsaken scholars -- worship of Outer Lords threatens their fiercely
           regimented social structure, and they long ago turned their backs on
           their father, Kysul.

          \n\n<10>CLASS REQUIREMENTS<2>\n
          __The alienist is a prestige class. It counts as a favored class
          for all characters. In order to become an alienist, you must have:\n
          __*_<7>Skills Levels<2> -- Knowledge (Planes) +10.\n
          __*_<7>Known Spells<2> -- Seven total spell levels of Weavecraft spells.\n
          __*_<7>Feats<2> -- Augment Summoning.\n
          __*_<7>Religion<2> -- You must worship Kysul, or no diety at all. None 
          of Theyra's other gods tolerate alienists.
                
          \n\n<10>CLASS SKILLS<2>\n
          __The class skills of the alienist are 
          Bluff, Concentration, Decipher Script, Hide in Shadows, Intimidate, 
          Knowledge (Magic), Knowledge (Mythology), Knowledge (Oceans), 
          Knowledge (Planes), Metamagic, Move Silently, Spellcraft and
          Use Magic.
          
          \n\n<10>CLASS FEATURES<2>\n
          __*_<7>Proficiencies<2> -- Alienists gain no additional weapon or armor
          proficiencies.\n
          __*_<7>Spellcasting<2> -- At every level except 1st and 4th, alienists
          gain a new caster level. They continue to advance in arcane spell access
          if they had any before entering this class, otherwise advancing in the
          divine, druidic or other class spell list that allowed them to meet the
          caster prerequisite given above.\n
          __If the alienist has Domains, she continues to advance those as well,
          provided she is advancing as a divine caster.\n
          __*_<7>Incomprehensible Wisdom<2> -- Alienists gain the Improved Wisdom
          feat for free at 1st level. If they already have it, they can select any
          other feat to fill the free slot.\n
          __*_<7>Uneasy Mind<2> -- Alienists grow increasingly distant from humanity
          as they continue to advance in this class, and suffer a penalty equal to
          their alienist level to Diplomacy and Appraise; they also become very
          focused on distant mysteries and given to long periods of introspection,
          and being thus out of touch with the world apply this same penalty to Spot,
          Listen and Searching.\n
          __*_<7>Outer Pathways<2> -- The primary ability of the alienist class is
          the power to summon pseudonatural creatures from the far-distant realm in
          which Kysul and his kin dwell. Starting at second alienist level, any 1st-level
          <9>monster summoning<2>, <9>holy summoning<2> or <9>summon nature's ally<2>
          spell the alienist casts summons a pseudonatural version of whatever
          creature it would normally summon. At 3rd level, the 2nd-level spells are
          so altered, and so on until 10th level, when even 9th-level summoning spells
          call forth pseudonatural creatures.\n
          __In addition to the normal mana cost of the summoning spell, the pseudonatural
          summoning of an alienist drains [Summoned Creature's CR x 2] mana, and this
          mana does not regenerate.\n
          __*_<7>Surreal Presence<2> -- The sense that there is something faintly
          off, something <10>wrong<2> about the alienist crystalizes to a razor-sharp
          clarity at 3rd level, and she gains the benefit (or curse) of a constantly
          active <9>spook<2> spell as an innate supernatural ability.\n
          __*_<7>Mad Certainty<2> -- At 4th level, the alienist's fanatical devotion
          gives her a kind of ability to ignore physical harm and pursue her
          obsession with an utterly inhuman resilience even in the face of crippling
          wounds. She gains Toughness as a bonus feat and a +10 bonus to the 
          Concentration skill.\n
          __*_<7>Visitation<2> -- At 5th level, the alienist may use <9>contact other
          plane<2> at will as an innate spell-like ability.\n
          __*_<7>Inhuman Allies<2> -- At 6th level, the alienist gains the ability to
          invoke ancient pacts between the harbringers of the Outer Rim and their
          Outer Ones' more modern spawn. Aberrations are neutral to her unless she
          breaks the pact by taking some hostile action against them.\n
          __*_<7>Feverish Obsession<2> -- Upon reaching 7th level, the alienist becomes
          so driven and devoted that she develops an inhuman kind of vigor, working
          beyond the established limits of the human body. She thus regenerates fatigue
          points just as dwarves do.\n 
          __*_<7>Psychic Mortification<2> -- At 8th level, the alienist's mind has become
          so scorched by outer horrors that mortal traumas no longer have the ability
          to damage it -- her Intelligence, Wisdom and Charisma are sustained at 5
          points each.\n
           __*_<7>Sanity-Blasting Spellcasting<2> -- At 9th level, the alienist's
           methods of spellcasting are so otherworldly and alien that any creature
           of CR 7 or lower who sees her cast a spell takes 1d2 points of Wisdom
           damage.\n
           __*_<7>Distant Apotheosis<2> -- At 10th level, the alienist becomes a
           fundamentally alien creature herself, developing trememdously increased
           physical resistance. She gains immunity to critical hits, no longer needs
           to breathe or eat and does not age.\n\n 

           <10>SPELL LIST<2>\n
           <15>__1st level -- <1> grease, obscurement, spiritwrack, true strike.\n
           <15>__2nd level -- <1> hypnotic pattern, revealed lore, stinking cloud, 
           touch of idiocy.\n
           <15>__3rd level -- <1> animate shadows, explosive runes, lorecall.\n
           <15>__4th level -- <1> confusion, evard's black tentacles, phantasmal 
           killer, premonition.\n
           <15>__5th level -- <1> banishment, distance distortion, dream, nightmare,
           open the third eye.
      
           \n\n<10>THE ALIENIST<15>\n
           __Level__Def__Fort_Refl_Will_CL_Special Abilities<1>\n
           ____1____+0____+2___+2___+0__-- In. Wisdom, Uneasy Mind\n
           ____2____+0____+3___+3___+0__+1 Outer Pathways\n
           ____3____+0____+3___+3___+1__+2 Surreal Presence\n
           ____4____+1____+4___+4___+1__-- Mad Certainty\n
           ____5____+1____+4___+4___+1__+3 Visitation\n
           ____6____+1____+5___+5___+2__+4 Inhuman Allies\n
           ____7____+1____+5___+5___+2__+5 Feverish Obsession\n
           ____8____+2____+6___+6___+2__+6 Psychic Mortification\n
           ____9____+2____+6___+6___+3__+7 Sanity-Blasting Sp.\n
           ____10___+2____+7___+7___+3__+8 Distant Apotheosis\n
           \n";
HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[4]: 6, 8, 10, 18, 20,
25, 26, 28, 29,
34, 36, 43, 47;
Grants:
Stati[124,11,-1] at every level starting at 1st,
Stati[124,3,-1] at every level starting at 1st,
Stati[124,44,-1] at every level starting at 1st,
Stati[124,32,-1] at every level starting at 1st,
Stati[124,41,-1] at every level starting at 1st,
Stati[230,(0x0008|0x0010),+1] at every level starting at 1st,
Ability[82,+1] at 2nd level,
Ability[82,+1] at 3rd level,
Ability[82,+1] at every level starting at 5th,
Feat[(((((49 + 1) + 32) + 50) + 38) + 17)] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)] at 4th level,
Stati[124,8,+10] at 4th level,
Ability[44, $"contact other plane"] at 5th level,
Stati[214,58] at 6th level,
Ability[117,+1] at 7th level,
Stati[125,3,+5] at 8th level,
Stati[125,4,+5] at 8th level,
Stati[125,5,+5] at 8th level,
Stati[79,(37+1000)] at 9th level;
Flags: 11, 6, 8, 10;
Lists:
* 21
1 $"grease" $"obscurement" $"spiritwrack" $"true strike"
2 $"hypnotic pattern" $"revealed lore" $"stinking cloud"
$"touch of idiocy"
3 $"animate shadows" $"explosive runes" $"lorecall"
4 $"confusion" $"evard's black tentacles" $"phantasmal killer"
$"premonition"
5 $"banishment" $"distance distortion" $"dream" $"nightmare;spell"
$"open the third eye";
On Event 153 {


if (EActor->HasEffStati(230,$"Mage")) {


if (EActor->HasEffStati(230,$"Abjurer"))
EActor->IncEffStatiMag(230,$"Abjurer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Arcanist"))
EActor->IncEffStatiMag(230,$"Arcanist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Diviner"))
EActor->IncEffStatiMag(230,$"Diviner",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Enchanter"))
EActor->IncEffStatiMag(230,$"Enchanter",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Evoker"))
EActor->IncEffStatiMag(230,$"Evoker",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Illusionist"))
EActor->IncEffStatiMag(230,$"Illusionist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Necromancer"))
EActor->IncEffStatiMag(230,$"Necromancer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Thaumaturge"))
EActor->IncEffStatiMag(230,$"Thaumaturge",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Weaver"))
EActor->IncEffStatiMag(230,$"Weaver",4,NULL,+1);


if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 18)
EActor->SetEffStatiMag(230,$"Mage",9);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 16)
EActor->SetEffStatiMag(230,$"Mage",8);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 14)
EActor->SetEffStatiMag(230,$"Mage",7);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 12)
EActor->SetEffStatiMag(230,$"Mage",6);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 9)
EActor->SetEffStatiMag(230,$"Mage",5);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 7)
EActor->SetEffStatiMag(230,$"Mage",4);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 5)
EActor->SetEffStatiMag(230,$"Mage",3);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 3)
EActor->SetEffStatiMag(230,$"Mage",2);
}
else if (EActor->HasEffStati(230,$"Priest")) {
EActor->IncEffStatiMag(230,$"Priest",4,NULL,+1);
EActor->GainAbility(23,+1,$"Priest",4);
}
else if (EActor->HasEffStati(230,$"Bard"))
EActor->IncEffStatiMag(230,$"Bard",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Druid"))
EActor->IncEffStatiMag(230,$"Druid",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Ranger"))
EActor->IncEffStatiMag(230,$"Ranger",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Paladin"))
EActor->IncEffStatiMag(230,$"Paladin",4,NULL,+1);
return 0;
};
}

Effect "Surreal Presence" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "prestige.irh" 962
Flags: 34, 53, 54;
rval: 0x00000004|0x00000002; aval: 9; lval: 3; cval: 8;
xval: 114; yval: 51; pval: -2;
On Event
43
"You feel disquieted." /
"The <EActor> seems unsettled.",
44
"You feel less disturbed now." /
"The <EActor> seems more composed now.";
}

Class "Assassin"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(12) < 10) {
failed = true; EActor->IPrint("You need Disguise +10.");
}
if (EActor->ISkillLevel(39) < 10) {
failed = true; EActor->IPrint("You need Poison Use +10.");
}
if (EActor->ISkillLevel(18) < 7) {
failed = true; EActor->IPrint("You need Hide +7.");
}
if (EActor->ISkillLevel(36) < 7) {
failed = true; EActor->IPrint("You need Move Silently +7.");
}
if (EActor->isMType(106)) {
failed = true; EActor->IPrint("Assassins cannot be of Good alignment.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d8__<15>Mana:<1>_d8__<15>Skills:<1>_8_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Thrown <9>100~<1>\n
      <2>\n__The Guild of Assassins has an old and arcane history on Theyra, having existed
      in some recognizable form for over two millenia, and having pursued an ageless
      vendetta with the Thieves. More than simply murderers, Assassins are mystical slayers
      devoted to a secret order and famed to be able to reach even the most protected
      targets in even the most remote locations. There is an aristocracy to the Assassin,
      a sense of entitlement and elitism. Assassins tend to believe their order fulfills an
      important philosophical purpose, maintaining political and social balance by
      ensuring that decadant kings and degenerate nobles are not able to place themselves
      beyond retribution as a function of their station. Of course, in practice, the
      Assassins are killers for profit, and there is very little that qualifies as 
      redeeming qualities within their guild.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Assassin is a prestige class. It counts as a favored class
      for all characters. In order to become an Assassin, you must have:\n
      __*_<7>Skills Levels<2> -- Disguise +10, Poison Use +10, Hide in
      Shadows +7, Move Silently +7.\n
      __*_<7>Alignment<2> -- Assassins cannot be of Good alignment.\n
            
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Assassin are Appraise,
      Balance, Bluff, Climb, Disguise, Escape Artist, Find Weakness,
      Gather Information, Handle Device, Hide in Shadows, Intimidate, 
      Intuition, Jump, Listen, Lockpicking, Move Silently, Poison Use,
      Spot, Swim and Tumble. 
      
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Assassins gain proficiency with crossbows
      and light weapons.\n      
      __*_<7>Sneak Attack<2> -- Assassins can make use of Sneak Attacks in
      the same manner a Rogue does; they gain +1d6 Sneak Attack damage
      every odd level. Levels of this ability from Assassin, Rogue and any
      other class stack.\n
      __*_<7>Death Attack<2> -- An assassin who has had time to study her
      target (in game terms, being out of combat long enough to be considered
      Exploring rather than Fighting) and attacks that target by complete 
      surprise in a situation where the target cannot percieve the Assassin, 
      is considered to have made a death attack and has a chance to slay that 
      target outright. A death attack can only be made against a target within
      30 feet; greater distance negates the needed precision.\n
      __The victim of a death attack must make a Fortitude saving throw
      against a DC of 10 + the Assassin's class level + the Assassin's
      Intelligence modifier; failure means they are slain instantly. If
      they succeed at this saving throw, they are still subject to damage
      from the attack, which may kill them anyway.\n
      __*_<7>Spells<2> -- Assassins practice magic and are capable of
      casting Arcane spells from a tiny subset of the mage list. They have
      their own spellbooks, though in a pinch they can use normal arcane
      spellbooks for spellcasting as well.\n
      __*_<7>Skill Mastery<2> -- Assassins gain a +1 competance bonus to
      Disguise and Poison Use for every Assassin class level.\n
      __*_<7>Uncanny Dodge<2> -- Assassins gain this ability at the same
      rate that Rogues do, and a character's Rogue and Assassin levels
      stack to determine her effective Rogue level for the purposes of
      Uncanny Dodge.

      \n\n<10>SPELL LIST<2>\n
      <15>__1st level -- <1>change self, convulsion, expeditious retreat,
      magic weapon, obscurement, passwall, read magic, shield, sleep,
      spider climb, true strike, ventriloquism.\n
      <15>__2nd level -- <1>bladethirst, choke, ESP, globe of shadow, 
      hypnotic pattern, infravision, invisibility, levitation, 
      pass without trace, rope trick, web.\n
      <15>__3rd level -- <1>animate shadows, blink, clairvoyance, deeper 
      darkness, deep slumber, displacement, gaseous form, greater magic
      weapon, illusory stance, nondetection.\n
      <15>__4th level -- <1>enervation, free action, improved invisibility,
      phantasmal killer, poison, premonition, track monster.\n
      <15>__5th level -- <1>cloudkill, dream, lower resistance, misdirection,
      power word: stop, telekinesis, wizard sight.\n
      <15>__6th level -- <1>disintegrate, power word: stun.
      
      \n\n<10>THE ASSASSIN<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__Sneak Attack +1d6 \n
      ____2____+1____+0___+3___+0__+1 caster level   \n
      ____3____+1____+1___+3___+1__Sneak Attack +2d6 \n
      ____4____+2____+1___+4___+1__+1 caster level   \n
      ____5____+2____+1___+4___+1__Sneak Attack +3d6 \n
      ____6____+3____+2___+5___+2__+1 caster level   \n
      ____7____+3____+2___+5___+2__Sneak Attack +4d6 \n
      ____8____+4____+2___+6___+2__+1 caster level   \n
      ____9____+4____+3___+6___+3__Sneak attack +5d6 \n
      ____10___+5____+3___+7___+3__+1 caster level";
HitDice: 8; Mana: 8; Def: 1/2;
Attk: 1 50,
2 75,
3 100,
0 100;
Skills[8]: 5, 6, 7, 12, 13,
14, 16, 18, 20,
21, 22, 32, 33, 36,
39, 3, 44, 45, 46;
Grants:
Ability[82,+1] at every 2nd level starting at 2nd,
Ability[80,+1] at every 2nd level starting at 1st,
Ability[100,+1] at every level starting at 1st,
#line "prestige.irh" 1100
Stati[124,12,+1] at every level starting at 1st,
Stati[124,39,+1] at every level starting at 1st,
Stati[230,0x0004,+1] at every level starting at 1st;
On Event 153 {
hObj hBook;
if (EActor->LevelAs($"Assassin") == 1) {
EActor->GainPermStati(79,NULL,4,
(20+500),0,$"Death Attack");
EActor->GainPermStati(79,NULL,4,
(19+500),0,$"Death Attack");
EActor->IPrint("Aiswin blesses you with a book of murder lore!");
hBook = CreateItem($"spellbook [Lore of Murder I]");
EActor->GainItem(hBook);
}
return 0;
};
Flags: 7, 10, 11;
Lists:
* 21
1 $"change self" $"convulsion" $"expeditious retreat" $"magic weapon"
$"obscurement" $"passwall" $"read magic" $"shield" $"sleep" $"spider climb"
$"true strike" $"ventriloquism"
2 $"choke" $"ESP" $"globe of shadow" $"hypnotic pattern"
$"infravision" $"invisibility" $"pass without trace" $"levitation"
$"bladethirst" $"rope trick" $"web"
3 $"deeper darkness" $"nondetection" $"displacement"
$"animate shadows" $"illusory stance" $"blink" $"clairvoyance"
$"deep slumber" $"gaseous form" $"greater magic weapon"
4 $"improved invisibility" $"free action;spell" $"phantasmal killer"
$"enervation" $"premonition" $"track monster"
5 $"dream" $"lower resistance" $"misdirection" $"power word: stop"
$"cloudkill" $"telekinesis" $"wizard sight"
6 $"disintegrate" $"power word: stun";

}

Effect "Death Attack" : 46
{
Flags: 82; int32 okForDA;
On Event ((19+500)+10000)
{
okForDA = false;
if (EActor->isFlatFooted() && EVictim->isFlatFooted())
if (!EVictim->Percieves(EActor))
if (EActor->Percieves(EVictim))
okForDA = true;
return 0;
},
((20+500)+10000)
{
int32 svDC;
if (!EVictim->isCreature())
return 0;
if (EVictim->isDead())
return 0;
if (EActor->DistFrom(EVictim) > 3)
return 0;
if (e.isSurprise && okForDA)
{
svDC = 10 + EActor->LevelAs($"Assassin");
svDC += EActor->Mod(3);
if (EVictim->SavingThrow(0,svDC,0x00000010))
{
EActor->IPrint("The <hObj> resists your death attack!", EVictim);
return 0;
}
TPrint(e,"You assassinate the <EVictim>!",
"The <EActor> assassinates you!",
"The <EActor> assassinates the <EVictim>!");
ThrowDmg(42,e.DType,0,"an Assassin's death attack",
EActor, EVictim, EItem, EItem2);
return EVictim->isDead() ? 1 : 0;
}
return 0;
},
163 {
e.nAppend = Format(" (DC %d)",
10 + EActor->LevelAs($"Assassin") +
EActor->Mod(3));
return 0;
};
}

Class "Blackguard"
{
On Event 155 {
int32 failed;
failed = false;

if (!EActor->isMType(103))
{
EActor->IPrint("You must be Evil.");
failed = true;
}

if (EActor->GodID == $"Erich" || EActor->GodID == $"Immotian" ||
EActor->GodID == $"Khasrach" || EActor->GodID == $"Xel")
{
EActor->IPrint("You may not worship Erich, Immotian, Khasrach 
            or Xel.");
failed = true;
}
if (EActor->ISkillLevel(20) < 12) {
failed = true;
EActor->IPrint("You need to have Intimidate +12.");
}
if (EActor->ISkillLevel(24) < 10) {
failed = true;
EActor->IPrint("You need to have Knowledge (The Infernal) +10.");
}
if (EActor->GetBAB(2) < 6 && EActor->GetBAB(0) < 6 &&
EActor->GetBAB(1) < 6 && EActor->GetBAB(3) < 6) {
failed = true;
EActor->IPrint("You need to have a BAB of at least +6 in one category.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d10_<15>Mana:<1>_d6__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>rw_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>__It's uncommon in the extreme for free-willed, intelligent living beings to
      willingly and knowingly devote themselves to the ideal of evil. Oh, certainly,
      Theyra is well stocked with murderers, tyrants and all manner of despicable
      corruption -- but at the end of the day, the vast majority of Evil characters
      commit their amoralities for false ideology or personal profit, and then turn
      around and rationalize their acts as best as they can within their own value
      systems. The blackguard, however, is the exception to this rule.\n
      __A blackguard is fully cognisant of the objective quality of good and evil,
      and in that context has willfully and knowingly embraced evil, determined to
      live up to the image of everything unholy and profane. This deviant psychology
      includes a willful drive to cultivate and nurture sociopathy and to engage in
      all manner of wicked acts simply because their are so. The blackguard may be 
      superficially motivated by powerlust, bigotry, guilt or any other common drive,
      but in the end if is a kind of spiritual perversity, a love of evil, that drives
      them to do the things that they do. They know what they are, and they enjoy it.\n
      __No mainstream religion on Theyra tolerates blackguards. Despite his objective
      alignment, Erich will expend truly significant military force to hunt down and
      destroy a blackguard -- or anyone suspected or accused of being one -- often
      killing hundreds of innocents in the process. Neither does the priesthood of Xel 
      tolerate them, fearing that their perversity and theatric nature would draw too
      much of the wrong kind of attention down on their ranks. A few blackguards
      worship Zurvash, but the majority serve either the Multitude or the archdevils
      and demon princes of the Lower Planes directly.
      
      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The blackguard is a prestige class. It counts as a favored class for
      all characters. In order to become a blackguard, you must have:\n
      __*_<7>Alignment<2> -- Obviously, any character who wishes to become a
      blackguard must be utterly Evil. Changing to a non-evil alignment causes
      all of the blackguard's supernatural class features to become inaccessable.\n
      __*_<7>Base Attack Bonus<2> -- An aspirant must have a BAB of at least +6
      in one category.\n
      __*_<7>Skills<2> -- A character must be a creature of blood, terror and
      brutality even before becoming a blackguard, possessed of an Intimidate
      score of +12 or higher. He must also be knowledgable in the ways of the
      Lower Planes in order to attract a patron, with a Knowledge (Infernal)
      rating of +10 or higher.\n
      __*_<7>Religion<2> -- Very few gods will tolerate a blackguard as a 
      follower. In addition to gods who do not tolerate Evil followers in
      general, Xel, Erich, Immotian and Khasrach will not accept blackguards
      among their worshippers.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the blackguard are Craft, Find Weakness,
      Intimidate, Knowledge (Infernal), Knowledge (Theology), Knowledge 
      (Planes), Poison Use and Ride. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The blackguard is proficient with blades,
      impact weapons, polearms and spears, and with all classes of armor.\n
      __*_<7>Spellcasting<2> -- Blackguards practice certain diabolical magic.
      They gain one caster level for every even blackguard level, and choose
      their spells from the special blackguard list. Blackguards cast spells
      just like priests do, being able to cast in any armor freely, but
      needing to have a holy symbol equipped (if they have a god).\n
      __*_<7>Unholy Grace<2> -- Just as a paladin does, a blackguard may add
      his Charisma bonus to all of his saving throws as a grace bonus.\n
      __*_<7>Sense Light<2> -- Starting at 1st level, a blackguard can use
      <9>detect good<2> as an innate spell-like ability at will.\n
      __*_<7>Smite Good<2> -- A blackguard can smite Good-aligned creatures.
      When she perform the Great Blow maneuver against a Good creature, a
      blackguard adds her Charisma bonus to the attack roll and gains a
      bonus to the damage roll equal to her blackguard class level.\n
      __*_<7>Command Undead<2> -- Starting at 3rd level, a blackguard can
      rebuke or command undead exactly as an evil priest of 1st level does.
      Every additional blackguard level increases this effective level by
      one.\n
      __*_<7>Aura of Despair<2> -- Starting at 4th level, a blackguard
      projects an aura of crushing despair around himself, not unlike that
      of a mummy. The aura reaches out to a radius of 20 feet around the
      blackguard; all who enter it and are not evil or immune to fear
      suffer a -2 morale penalty to all rolls.\n
      __*_<7>Sneak Attack<2> -- A blackguard gains a sneak attack just
      like a rogue's, starting at 5th level. Blackguard levels stack with
      rogue, assasin or any similar levels for determining the total level
      of this ability a blackguard possesses.\n
      __*_<7>Fiendish Servant<2> -- Starting at 5th level, a blackguard
      can summon an imp or quasit, as suits his alignment, who will serve
      him loyally. The creature remains until dismissed, and if slain can
      be summoned anew the next day.

      \n\n<10>SPELL LIST<2>\n
      <15>__1st level -- <1>bane, cause fear, convulsion, cure light wounds, 
      doom, inflict light wounds, magic weapon, malignance, mount, pain touch,
      protection from good, spiritwrack.\n
      <15>__2nd level -- <1>bladethirst, bull's strength, cure moderate
      wounds, death knell, deeper darkness, inflict moderate wounds, scare,
      shatter, summon swarm, visage of death.\n
      <15>__3rd level -- <1>adamant facade, animate shadows, blackmantle, 
      contagion, cure serious wounds, greater magic weapon, inflict serious 
      wounds, magic circle vs. good, phantom steed, sign of discord.\n
      <15>__4th level -- <1>animate dead, burning blood, cure critical wounds, 
      inflict critical wounds, lesser planar conjuration, thornwrack, wall of 
      fire.\n
      <15>__5th level -- <1>evard's black tentacles, infernal blood, nightmare, 
      slay living.\n
      <15>__6th level -- <1>create corporeal undead, harm, heal, planar 
      conjuration.\n
      
      \n\n<10>THE BLACKGUARD<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+0__Sense Light, Smite Good\n
      ____2____+1____+3___+0___+0__+1 caster level,\n
      _____________________________Unholy Grace\n
      ____3____+1____+3___+1___+1__Command Undead\n
      ____4____+2____+4___+1___+1__Aura of Despair,\n
      _____________________________+1 caster level \n
      ____5____+2____+4___+1___+1__Sneak Attack +1d6,\n
      _____________________________Fiendish Servant\n
      ____6____+3____+5___+2___+2__+1 caster level\n
      ____7____+3____+5___+2___+2__Sneak Attack +2d6\n
      ____8____+4____+6___+2___+2__+1 caster level\n
      ____9____+4____+6___+3___+3__Sneak Attack +3d6\n
      ____10___+5____+7___+3___+3__+1 caster level\n";
HitDice: 10; Mana: 6; Def: 1/4;
Attk: 1 100,
2 100,
3 100,
0 100;
Skills[4]: 9, 14, 20, 24,
30, 29, 39, 40;
Grants:
Ability[82,+1] at every 2nd level starting at 2nd,
Stati[230,0x0008,+1] at every level starting at 1st,
Ability[79,106,+1] at every level starting at 1st,
Ability[44,$"detect good"] at 1st level,
Ability[25,+1] at 2nd level,
Ability[80,+1] at every 2nd level starting at 5th,
Ability[18,76,+1] at every level starting at 3rd,
Ability[44,$"fiendish servant"] at 5th level;
On Event 153 {
if (EActor->LevelAs($"blackguard") == 4)
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
return 0;
};
Flags: 11, 10, 6;
Lists:
* 21
1 $"bane" $"cause fear" $"convulsion" $"cure light wounds"
$"doom" $"inflict light wounds" $"magic weapon" $"malignance"
$"mount" $"pain touch" $"protection from good" $"spiritwrack"
2 $"bladethirst" $"bull's strength" $"cure moderate wounds"
$"death knell" $"deeper darkness" $"inflict moderate wounds"
$"scare" $"shatter" $"summon swarm" $"visage of death"
3 $"adamant facade" $"animate shadows" $"blackmantle" $"contagion"
$"cure serious wounds" $"greater magic weapon"
$"inflict serious wounds" $"magic circle vs. good" $"phantom steed"
$"sign of discord"
4 $"animate dead" $"burning blood" $"cure critical wounds"
$"inflict critical wounds" $"lesser planar conjuration"
$"thornwrack" $"wall of fire"
5 $"evard's black tentacles" $"infernal blood" $"nightmare;spell"
$"slay living"
6 $"create corporeal undead" $"harm" $"heal;spell" $"planar conjuration";

}


Effect "Aura of Despair" : 3
{ 0x00000008; Base: 90; Cost: 1; Level: 1; Flags: 82;
Purpose: 0x00010 (0); Flags: 34, 53;
rval: 0x00000004|0x00000002; aval: 9; lval: 3; cval: 8;
xval: 114; yval: 51; pval: -2;
On Event
43
"You feel your heart grow leaden." /
"The <EActor> seems overcome with hopelessnes.",
44
"The unnatural despair passses." /
"The <EActor> seems brighter now.",
155 {
if (EVictim->isMType(103) ||
EVictim->ResistLevel(28) == -1)
return -1;
return 0;
};
}

Effect "Fiendish Servant" : 9
{ 0x00000100; rval: $"babau"; pval: 6; Purpose: 0x00100;
Flags: 48, 95, 55, 22, 25,
76, 66;
Desc: "Starting at 5th level, a blackguard
      can summon an imp or quasit, as suits his alignment, who will serve
      him loyally. The creature remains until dismissed, and if slain can
      be summoned anew the next day.";
On Event 214
"You call upon the Lower Planes for aid!",
74
"Your fiendish servant returns Below.",
(28+1000) {
hObj hImp;
hImp = EMap->GetEncounterCreature(0);
if (hImp != NULL)
hImp->GainPermStati(79,EItem,7,
((42+2000)+1000), 0, $"Fiendish Servant", e.vCasterLev);
return 0;
},
(52+500) {
if (EActor->HasEffStati(72,$"Fiendish Servant"))
{
EActor->IPrint("Your fiendish servant is still recovering after being killed.");
return 2;
}
return 0;
},
(((42+2000)+1000)+10000) {
hObj hBlackguard;
if (!EVictim->isDead())
return 0;
hBlackguard = EVictim->GetEffStatiObj(79,$"Fiendish Servant");
hBlackguard->GainTempStati(72,NULL,-1,7, 0, 0, $"Fiendish Servant");
return 0;
};
}


Class "Earthsinger"
{
On Event 155 {
int32 failed;
failed = false;

if (!EActor->isMType(63) )
#line "prestige.irh" 1448
{
EActor->IPrint("You must be of a race that has spiritual ties to
            elemental earth, such as a dwarf, rock gnome or deep gnome.");
failed = true;
}
if (!EActor->IHasAbility(6))
{
EActor->IPrint("You must have the Bardic Music ability.");
failed = true;
}
if (EActor->GetBAB(2) < 5)
{
EActor->IPrint("You must have a melee BAB of +5.");
failed = true;
}
if (EActor->ISkillLevel(9) < 15)
{
failed = true;
EActor->IPrint("You need the Craft skill at 15+.");
}
if (EActor->GodID != $"ekliazeh" && EActor->GodID != ((rID)0))
{
failed = true;
EActor->IPrint("You may not worship a god other than Ekliazeh.");
}
if (!EActor->IHasFeat(((((49 + 1) + 32) + 50) + 8))) {
failed = true;
EActor->IPrint("You must have the Endurance feat.");
}
if (!EActor->IHasFeat((((((49 + 1) + 32) + 50) + 38) + 2))) {
failed = true;
EActor->IPrint("You must have the Hardiness feat.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d10_<15>Mana:<1>_d8__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>75~<1>, Melee <9>100~<1>, Thrown <9>50~<1>\n
      <2>\n__Beyond even the priesthood of Ekliazeh, the dwarves as a race have
      always held a deep spiritual reverance for elemental earth. Their mythology
      is filled with animistic tales of heroes who spoke to the very stone, and
      were able to work miracles through communion with it. These rare dwarves
      occupy a niche vaguely similar to a saint -- their abilities are unquestionably
      sacred, yet they also set them outside of traditional society.\n
      __Very few dwarves have the potential to awaken the Earthsong within themselves.
      A potential Earthsinger must have some exposure to supernatural music, usually
      via bardic training, but the physical demands of the tradition mean that most
      aspirants are warrior-craftsmen with only a casual experimentation in the bardic
      arts. The stone demands champions who are as strong and enduring as it is, and
      also demands that they be master stoneworkers. For every thousand dwarves who
      aspires to learn the mystical Earthsong, only one or two manage to meet all of
      the requisites to become Earthsingers.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Earthsinger is a prestige class. It counts as a favored class for
      all characters. In order to become an Earthsinger, you must have:\n
      __*_<7>Race<2> -- All known Earthsingers are dwarves. An aspirant must be
      a dwarf, or a member of a race with similarly strong bonds to the earth,
      such as a rock gnome or pech.\n
      __*_<7>Base Attack Bonus<2> -- An aspirant must have a melee BAB of +5.\n
      __*_<7>Feats<2> -- Endurance, Hardiness.\n
      __*_<7>Skills<2> -- A successful aspirant must be a master stonecutter
      with a Crafts skill of 15+.\n
      __*_<7>Class Abilities<2> -- An aspirant must have the Bardic Music ability.\n
      __*_<7>Religion<2> -- An aspirant must either worship Ekliazeh (or another
      god who grants the Earth domain), or forsake gods entirely and devote himself
      utterly to the worship of elemental earth.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Earthsinger are Athletics, Balance, Climb, 
      Concentration, Craft, Heal, Knowledge (Planes), Listen, Mining,
      Perform, Search and Spot. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The Earthsinger gains no weapon or armor
      proficiencies.\n
      __*_<7>Stonebody<2> -- As an Earthsinger becomes closer and closer
      to the spiritual nature of elemental earth, her skin begins to take
      on a rocky texture and grows harder and harder. Every odd level of
      this class gives the Earthsinger a +1 natural armor bonus.\n 
      __*_<7>Earth Magic<2> -- By speaking to the stone itself using the
      Earthsong, the singer can learn from it, shape it, animate it and
      even take on its properties. In game terms, the character gains a
      number of spell-like abilities as she advances in this class, in
      the following order: <9>stone tell<2>, <9>soften stone<2>, <9>meld
      into stone<2>, <9>spike stones<9>, <9>earthmaw<2>, <9>wall of stone<2>,
      <9>transmute rock to mud<2>, <9>stoneskin<2>, <9>animate rock<2>,
      <9>conjure earth elemental<2>, <9>transmute flesh to stone<2> and
      <9>elemental aura<2> (the earth version only).\n
      __*_<7>Geomancy<2> -- Starting at 3rd level, a Earthsinger can tap
      into the primal energies of the earth in order to replenish her own
      magical energies. By spending two fatigue points, she can instantly
      regain 5d12 points of mana. At 7th level, the Earthsinger gains a
      greater facility with this ability, and it then costs her only one
      fatigue point.\n
      __*_<7>Grounded Stance<2> -- An Earthsinger is able to draw upon
      the power of the earth in order to enhance the force of her blows
      in melee or unarmed combat. Provided that her feet are touching
      the ground -- she is not levitating, ethereal or standing on 
      non-earthen terrain, and she is not wearing magical boots -- she
      may add her Earthsinger level to the damage of her melee or
      unarmed attacks.
      
      \n\n<10>THE EARTHSINGER<15>\n
      _Level_Def_Fort_Refl_Will_NA_GS__Special Abilities<1>\n
      ___1___+0___+2___+0___+2__+1 +1__Grounded Stance, Stone Tell\n
      ___2___+0___+3___+0___+3__+1 +2__Soften Stone, Meld i. Stone\n
      ___3___+0___+3___+1___+3__+2 +3__Geomancy I, Spike Stones\n
      ___4___+1___+4___+1___+4__+2 +4__Earthmaw, Wall of Stone\n
      ___5___+1___+4___+1___+4__+3 +5__Transmute Rock to Mud\n
      ___6___+1___+5___+2___+5__+3 +6__Stoneskin\n
      ___7___+1___+5___+2___+5__+4 +7__Geomancy II, Animate Rock\n
      ___8___+2___+6___+2___+6__+4 +8__Conjure Earth Elemental\n
      ___9___+2___+6___+3___+6__+5 +9__Transmute Flesh to Stone\n
      ___10__+2___+7___+3___+7__+5 +10_Elemental Aura (Earth)\n      
      \n";
HitDice: 10; Mana: 8; Def: 1/4;
Attk: 1 75,
2 100,
3 50,
0 50;
Skills[4]: 4, 5, 7, 8, 9,
17, 29, 32, 35, 37,
41, 44;
Grants:
Stati[118,17,+1] at every 2nd level starting at 1st,
Ability[44, $"Stone Tell"] at 1st level,
Ability[44, $"Soften Stone"] at 2nd level,
Ability[44, $"Meld into Stone"] at 2nd level,
Ability[44, $"Geomancy"] at 3rd level,
Ability[44, $"Spike Growth"] at 3rd level,
Ability[44, $"Earthmaw"] at 4th level,
Ability[44, $"Wall of Stone"] at 4th level,
Ability[44, $"Transmute Rock to Mud"] at 5th level,
Ability[44, $"Stoneskin"] at 6th level,
#line "prestige.irh" 1591
;
On Event 153 {
if (EActor->LevelAs($"Earthsinger") == 1)
ThrowEff(52,$"Grounded Stance",EActor,EActor);
return 0;
};
Flags: 11, 10, 8, 6;
}

Effect "Grounded Stance" : 3
{
xval: 79; yval: (20+500);
Flags: 54, 82, 33;
On Event (20+500) {
int32 mat;
if (EActor->isAerial())
return 0;
if (EActor->InSlot(10) != ((hObj)0))
return 0;
#line "prestige.irh" 1616
if (ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y), 16) ||
EMap->FallAt(EActor->x,EActor->y))
return 0;

e.strDmg += Format(" %+d GS", EActor->LevelAs($"Earthsinger"));
e.bDmg += EActor->LevelAs($"Earthsinger");
return 0;
};
}

Effect "Geomancy" : 26
{ 0x00000080; Level: 3; xval: 0x02; pval: 5d12+12;
Purpose: 0x00080 (2); Level: 3;
Desc: "By using geomancy, you can draw magical power from the
      earth, using it to restore 5d12 points of mana. This is
      draining, costing you 2 points of fatigue. At 7th level, it
      becomes easier to perform, costing only 1 fatigue.";
On Event (52+500) {
if (!EActor->LoseFatigue(EActor->LevelAs($"Earthsinger")
>= 7 ? 1 : 2, true))
return 2;
return 0;
},
206
"You draw mystical power from the stone around you!";
}

Class "Loremaster"
{
On Event 155 {
int32 failed; int32 i, c;
failed = false;

c = 0;
for (i=23;i<=31;i++)
if (EActor->ISkillLevel(i) >= 10)
c++;

if (c < 4) {
failed = true;
EActor->IPrint("You must have 4 Knowledge skills at 10+;
                        you only have <Num>.", c);
}

c = 0;
for(i=0;i!=2048;i++)
if (EActor->SpellKnown(i) & (0x0001))
if (theGame->SpellID(i)->Schools & 0x00000004)
c += theGame->SpellID(i)->Level;

if (c < 10) {
failed = true;
EActor->IPrint("You must have 10 levels of known Divination spells;
                        you only know <Num>.",c);
}

if (!EActor->IHasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24))) {
failed = true;
EActor->IPrint("You must have the Scribe Scroll feat.");
}

if (EActor->isMType(106) || EActor->isMType(103))
if (EActor->isMType(104) || EActor->isMType(105))
{
failed = true;
EActor->IPrint("You must have a neutral alignment component.");
}

if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d4__<15>Mana:<1>_d12__<15>Skills:<1>_6_<15>Saves:<1>_fr<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n__While many mages are academics to some extent, the Loremasters are an order
      that places the seeking of knowledge above all other goals. These wise wizards are
      widely sought after by universities as teachers, and by royal courts and military
      camps as advisers and viziers. Despite this demand, however, Loremasters tend to
      be isolationistic, living cloistered lives in distant towers or establishing sacred
      monastaries in the desert in which to preserve vast stores of ancient books.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Loremaster is a prestige class. It counts as a favored class for
      all characters. In order to become a Loremaster, you must have:\n
      __*_<7>Skills Levels<2> -- 4 Knowledge skills at +10.\n
      __*_<7>Feats<2> -- Scribe Scroll.\n
      __*_<7>Spells<2> -- 10 levels of known Divination spells (i.e., 2 3rd-level
      spells and 2 2nd-level spells).\n
      __*_<7>Alignment<2> -- You must have a neutral component in your alignment.   

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Loremaster are Alchemy, Appraise, Craft, Concentration, Decipher
      Script, Heal, Illusioncraft, Intuition, Knowledge (all), Metamagic, Seneschal,
      Spellcraft and Use Magic.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The Loremaster gains no weapon or armor
      proficiencies.\n
      __*_<7>Spellcasting<2> -- The Loremaster gains one spellcasting level for every
      Loremaster level after the 1st. Additionally, she continues to gain access to new
      spells from her original spellcasting class as if every Loremaster level was a
      level in that class. If she has more than one spellcasting class, she gains new
      spell access for mage as a priority if she has that, then bard, then druid, then
      priest, then ranger, then paladin.\n
      __*_<7>Legend Lore<2> -- Loremasters gain -- or continue to advance in -- the 
      Legend Lore ability, gaining one level of such for every Loremaster level.\n
      __*_<7>Ancient Books<2> -- At 2nd, 4th and 8th levels, the constant knowledge-seeking
      and research of a Loremaster pays off and they 'discover' a new spellbook hidden away 
      somewhere near them.\n
      __*_<7>Knowledge<2> -- Loremasters gain three bonus skill points that can be devoted
      only to Knowledge skills with every class level.\n 
      __*_<7>Forewarning<2> -- Loremasters are able to sense and predict attacks before
      they occur, and gain a +1 insight bonus to DC every even Loremaster level.\n 
      __*_<7>Studious Development<2> -- Loremasters gain a +1 competance bonus to their
      Intelligence at every odd Loremaster level.\n 
      __*_<7>Secrets<2> -- As Loremasters advance in level, they gain certain exceptional
      abilities as a result of the ancient mysticism they study:\n
      __At 1st level, Loremasters gain the inherant ability to see invisible.\n
      __At 3th level, Loremasters gain the Fatesense ability, allowing them to instantly
      discern whether a given item is cursed or blessed.\n
      __At 5th level, Loremasters gain an exceptional insight into magical books, and
      gain an extra +1d2 attribute points from any tome they read.\n
      __At 6th level, Loremasters gain the ability to use Glyph of Warding as an innate
      spell-like ability.\n
      __At 7th level, Loremasters gain constant <9>true seeing<2>.\n
      __At 9th level, Loremasters gain the Skill Mastery ability also possessed by some
      rogues (and described under that class).
      __At 10th level, Loremasters gain the ability to use Greater Glyph of Warding as an
      innate spell-like ability.
      
      \n\n<10>THE LOREMASTER<15>\n
      __Level__Def__Fort_Refl_Will_Bonus_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__+1 In_Lore, See Invisible \n
      ____2____+0____+0___+3___+0__+1 DC_Bonus Spellbook   \n
      ____3____+0____+1___+3___+1__+2 In_Fatesense\n
      ____4____+1____+1___+4___+1__+2 DC_Bonus Spellbook  \n
      ____5____+1____+1___+4___+1__+3 In_Bibliographic Insight\n
      ____6____+1____+2___+5___+2__+3 DC_Glyph of Warding\n
      ____7____+1____+2___+5___+2__+4 In_True Seeing\n
      ____8____+2____+2___+6___+2__+4 DC_Bonus Spellbook \n
      ____9____+2____+3___+6___+3__+5 In_Skill Mastery \n
      ____10___+2____+3___+7___+3__+5 DC_Greater Glyph of W.\n      
      \n";
HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[6]: 1, 9, 8, 10, 17,
19, 21, 23,24,25,26,27,28,29,30,31, 34, 42,
3, 43, 47;
Grants:
Ability[82,+1] at every level starting at 2nd,
Stati[109,3,+1] at every 2nd level starting at 1st,
Stati[108,27,+1] at every 2nd level starting at 2nd,
Ability[50,+1] at every level starting at 1st,
Stati[101] at 1st level,
Ability[33,+1] at 3rd level,
Ability[44,$"Glyph of Warding"] at 6th level,
Stati[148] at 7th level,
Ability[75,+1] at 9th level,
Ability[44,$"Glyph of Warding, Greater"] at 10th level;
On Event 153 {
hObj hBook, it; rID bID; int32 i; int32 found;
EActor->GainBonusSkills($"Loremaster Knowledge",3);
if ( EActor->LevelAs($"Loremaster") == 2 ||
EActor->LevelAs($"Loremaster") == 4 ||
EActor->LevelAs($"Loremaster") == 8 )
{
for (i=0;i!=20;i++)
{
bID = theGame->GetItemID(1,4,20,22);
found = false;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->iID == bID)
found = true;
if (!found)
break;
}
hBook = CreateItem(bID);
EActor->IPrint("You've discovered a tome of ancient lore!");
EActor->GainItem(hBook,false);
}


if (EActor->HasEffStati(230,$"Mage")) {


if (EActor->HasEffStati(230,$"Abjurer"))
EActor->IncEffStatiMag(230,$"Abjurer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Arcanist"))
EActor->IncEffStatiMag(230,$"Arcanist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Diviner"))
EActor->IncEffStatiMag(230,$"Diviner",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Enchanter"))
EActor->IncEffStatiMag(230,$"Enchanter",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Evoker"))
EActor->IncEffStatiMag(230,$"Evoker",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Illusionist"))
EActor->IncEffStatiMag(230,$"Illusionist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Necromancer"))
EActor->IncEffStatiMag(230,$"Necromancer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Thaumaturge"))
EActor->IncEffStatiMag(230,$"Thaumaturge",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Weaver"))
EActor->IncEffStatiMag(230,$"Weaver",4,NULL,+1);


if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 18)
EActor->SetEffStatiMag(230,$"Mage",9);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 16)
EActor->SetEffStatiMag(230,$"Mage",8);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 14)
EActor->SetEffStatiMag(230,$"Mage",7);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 12)
EActor->SetEffStatiMag(230,$"Mage",6);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 9)
EActor->SetEffStatiMag(230,$"Mage",5);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 7)
EActor->SetEffStatiMag(230,$"Mage",4);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 5)
EActor->SetEffStatiMag(230,$"Mage",3);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 3)
EActor->SetEffStatiMag(230,$"Mage",2);
}
else if (EActor->HasEffStati(230,$"Bard"))
EActor->IncEffStatiMag(230,$"Bard",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Druid"))
EActor->IncEffStatiMag(230,$"Druid",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Priest"))
EActor->IncEffStatiMag(230,$"Priest",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Ranger"))
EActor->IncEffStatiMag(230,$"Ranger",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Paladin"))
EActor->IncEffStatiMag(230,$"Paladin",4,NULL,+1);
return 0;
};
Flags: 8, 10, 11;
}



Class "Loremaster Knowledge"
{
Flags: 12;
Skills[0]: 23,24,25,26,27,28,29,30,31;
}

Class "Master Archer"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->GetBAB(12) < 5)
{
failed = true;
EActor->IPrint("You must have an archery BAB of +5.");
}
if (EActor->WepSkill($"long bow") < 2 &&
EActor->WepSkill($"short bow") < 2)
{
failed = true;
EActor->IPrint("You must have Weapon Focus in a bow.");
}
if (!EActor->IHasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17)))
{
failed = true;
EActor->IPrint("You must have the Point Blank Shot feat.");
}
if (!EActor->IHasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9)))
{
failed = true;
EActor->IPrint("You must have the Rapid Shot feat.");
}
if (!EActor->IHasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41)))
{
failed = true;
EActor->IPrint("You must have the Zen Archery feat.");
}
if (!EActor->ISkillLevel(8) < 7)
{
failed = true;
EActor->IPrint("You must have Concentration 7+.");
}
if (!(EActor->isMType(62) || EActor->IAttr(4) >= 17))
{
failed = true;
EActor->IPrint("You must have Wisdom 17+, or be elven.");
}

if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_f<9>RW<1>_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Thrown <9>50~<1>\n
      <2>\n\tThe Master Archer is a practicioner of a secretive but potent archery-based
      martial art, a philosophical ideal that seeks to meld meditation, archery and
      athleticism into a single, perfected whole. The practice is particulairly common
      among elves, but members of other races have on rare occasions been initiated into
      the Master Archer class as well.\n
      
      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Master Archer is a prestige class. It counts as a favored class for
      all characters. In order to become a Master Archer, you must have:\n
      __*_<7>Skills Levels<2> -- Concentration +10.\n
      __*_<7>Feats<2> -- Point Blank Shot, Rapid Shot, Zen Archery, Weapon
      Focus (long bow or short bow).\n
      __*_<7>Base Attack<2> -- Initiates must have a Base Attack Bonus of +5 in
      the archery category.\n
      __*_<7>Special<2> -- Initiates must show exceptional aptitude for the art
      in the form of a Wisdom score of 17+; this requirement is waived for elves,
      who have an easier time finding a teacher.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Master Archer are Athletics, Balance, Climb, 
      Concentration, Craft, Find Weakness, Hide, Listen, Move Silently, Spot
      and Wilderness Lore.
      
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The Master Archer gains no weapon or armor
      proficiencies.\n
      __*_<7>Arrowstorm<2> -- The primary ability of the Master Archer is to fire
      arrows at a truly staggering rate as a result of their transcendent focus and
      discipline. Every Master Archer level taken adds a +5%% bonus to attack speed
      in archery.\n
      __*_<7>Blindsight<2> -- Starting at 6th level, the Master Archer gains the
      Blindsight ability as a result of her transcendant focus and meditation; this
      ability has a range of 30 feet at 6th, plus 10 feet for every Master Archer
      level thereafter.\n
      __*_<7>Ranged Sneak Attack<2> -- The Master Archer is able to strike unprepared
      foes with lethal shots for extra damage. This functions exactly like a Rogue's
      Sneak Attack ability, but can only be performed with a long bow or short bow.\n
      __*_<7>Feats<2> -- The Master Archer gains the Defensive Shot feat at 2nd level
      and the Precise Shot feat at 8th; if she already has either of these feats, she
      can choose any other feat upon attaining these levels instead.\n
      __*_<7>Opportune Shot<2> -- Starting at 4th level, whenever a creature hostile 
      to the Master Archer is struck as an attack of opportunity by someone other than
      the archer within 60 feet of the archer, and the archer has a clear line of fire
      to that creature, she may take an immediate, single shot against the creature
      that suffered an attack of opportunity.\n
      __*_<7>Banked Shot<2> -- Upon reaching 10th level, the master archer is able to
      rebound a shot off a solid surface like a wall one or more times to strike a
      target outside her line of sight. There must be a clear path to the target
      traversing fewer squares than the outside limit of her bow's range, and the
      shot is made at a -4 penalty, not including any range modifier. The archer
      must have some ability to percieve her target without a clear line of sight,
      such as the blindsight ability above.
      
      \n\n<10>THE MASTER ARCHER<15>\n
      __Level__Def__Fort_Refl_Will_AStorm_Special Abilities<1>\n
      ____1____+0____+0___+2___+2___+5~___Ranged Sneak +1d6\n
      ____2____+1____+0___+3___+3___+10~__Defensive Shot\n
      ____3____+1____+1___+3___+3___+15~__Ranged Sneak +2d6\n
      ____4____+2____+1___+4___+4___+20~__Opportune Shot\n
      ____5____+2____+1___+4___+4___+25~__Ranged Sneak +3d6\n
      ____6____+3____+2___+5___+5___+30~__Blindsight\n
      ____7____+3____+2___+5___+5___+35~__Ranged Sneak +4d6\n
      ____8____+4____+2___+6___+6___+40~__Precise Shot\n
      ____9____+4____+3___+6___+6___+45~__Ranged Sneak +5d6\n
      ____10___+5____+3___+7___+7___+50~__Banked Shot\n
      \n";
HitDice: 6; Mana: 4; Def: 1/2;
Attk: 1 50,
2 75,
3 50,
0 100;
Skills[6]: 4, 5, 7, 9, 8,
14, 18, 32, 36, 44,
48;
Grants:
Stati[113,7,+1] at every level starting at 1st,
Feat[(((49 + 1) + 32) + 25)] at 2nd level,
Ability[13,+3] at 6th level,
Ability[13,+1] at every level starting at 7th,
Feat[(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 25)] at 8th level;

On Event 153 {
if (EActor->LevelAs($"Master Archer") == 1)
ThrowEff(52,$"Ranged Sneak Attack",EActor,EActor);
if (EActor->LevelAs($"Master Archer") == 4)
ThrowEff(52,$"Opportune Shot",EActor,EActor);
};

Flags: 7, 8, 10, 11;
}

Effect "Ranged Sneak Attack" : 3
{
On Event ((19+500)+10000) {
EActor->RemoveEffStati($"Ranged Sneak Attack;2");
if (e.AType != 65)
return 0;
EActor->GainTempStati(39,NULL,1,7,
80,(EActor->LevelAs($"Master Archer")+1)/2,$"Ranged Sneak Attack;2");
return 0;
},
((19+1000)+10000) {
EActor->RemoveEffStati($"Ranged Sneak Attack;2");
return 0;
},
163 {
e.nAppend = XPrint(" +<Num>d6",
(EActor->LevelAs($"Master Archer")+1)/2);
return 0;
};
xval: 79; yval: (19+500);
Flags: 54, 33, 82;
}
and 3
{ xval: 79; yval: (19+500); }

Effect "Ranged Sneak Attack;2" : 3
{ }

Effect "Opportune Shot" : 3
{
aval: 9; lval: 6; rval: 0x00000004;
Flags: 54, 82, 33;
xval: 79; yval: ((19+2000)+1000);
On Event (((19+2000)+1000)+10000) {
hObj hArcher; int32 to;
hArcher = EVictim->GetEffStatiObj(79, $"Opportune Shot");
if (hArcher == ((hObj)0))
return 0;
if (hArcher->InSlot(2) == ((hObj)0))
return 0;
if (!hArcher->InSlot(2)->isType(24))
return 0;
if (e.isAoO && EVictim->isHostileTo(hArcher))
{
to = hArcher->Timeout;
Throw(48,hArcher,EVictim);
hArcher->Timeout = to;
}
return 0;
};
}

Class "Sentinel"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(32) < 10) {
failed = true; EActor->IPrint("You need Listen level 10.");
}
if (EActor->ISkillLevel(44) < 10) {
failed = true; EActor->IPrint("You need Spot level 10.");
}
if (EActor->ISkillLevel(41) < 10) {
failed = true; EActor->IPrint("You need Search level 10.");
}
if (!EActor->IHasFeat(((49 + 1) + 5))) {
failed = true; EActor->IPrint("You need the Alertness feat.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d4__<15>Skills:<1>_8_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <12>Experimental:<2> The Sentinel is not a Core Incursion class.\n
      <2>\n\tSentinels are characters who have learned how important it is
      to notice dangers before they notice you. Rogues and rangers often
      end up as sentinels.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Sentinel is a prestige class. It counts as a favored class for
      all characters. In order to become a
      sentinel, you must have:\n
      __*_<7>Skills Levels<2> -- Listen 10, Search 10, Spot 10.\n
      __*_<7>Feats<2> -- Alertness.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the sentinel are Appraise, 
      Concentration, Handle Device, Hide, Listen, Move Silently, 
      Lockpicking, Pick Pockets, Search, and Spot.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The sentinel gains no weapon or armor
      proficiencies.\n
      __*_<6>1st Level: <7>Superior Senses<2> -- The sentinel gains a
      +2 insight bonus to all Spot, Search and Listen skills. The sentinel
      also gains a +2 save bonus against illusions.\n
      __*_<6>2nd Level: <7>Sharp Senses<2> -- The sentinel gains an
      addition +1 bonus to all Spot, Search and Listen skills. The sentinel
      automatically makes a Search check whenever she steps within 10 feet
      of a secret door that has not already been searched for. \n
      __*_<6>3rd Level: <7>Detect Unnatural<2> -- The sentinel gains the
      innate ability to cast <9>detect good<2> and <9>detect evil<2>.\n
      __*_<6>3rd Level: <7>Acute Senses<2> -- The sentinel gains the
      Acute Senses feat, increasing her Sight, Shadow,
      Infravision and Scent Ranges by 50~.\n
      __*_<6>4th Level: <7>Blindsight<2> -- Using senses not available to
      normal adventurers, the sentinel can function in total darkness using
      a form of sonar that allows them to locate objects and creatures
      within 120 feet (12 squares). Blindsight is reduced by metallic
      helmets and large objects held in the hands.\n
      __*_<6>4th Level: <7>Uncanny Dodge<2> -- The sentinel is never caught
      flat-footed.\n
      \n\n<10>THE SENTINEL<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+0__Superior Senses\n
      ____2____+0____+3___+0___+0__Sharp Senses\n
      ____3____+0____+3___+1___+1__Detect Unnat, Acute Senses\n
      ____4____+1____+4___+1___+1__Blindsight, Uncanny Dodge\n
      ...";
HitDice: 6; Mana: 4; Def: 1/4;
Attk: 1 75,
2 75,
3 75,
0 75;
Skills[8]: 8, 16, 18, 32,
36, 33, 38, 41, 3,
44;
Grants:
Stati[124,44,+2] at 1st level,
Stati[124,32,+2] at 1st level,
Stati[124,41,+2] at 1st level,
Stati[123,12,+2] at 1st level,
Ability[73,+1] at 2nd level,
Ability[44,$"detect good"] at 3rd,
Ability[44,$"detect evil"] at 3rd,
Feat[((49 + 1) + 2)] at 3rd level,
Ability[13,+12] at 4th level,
Ability[100,+1] at every level starting at 4th;
Flags: 7, 10, 11;
}

Class "Shadowdancer"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(36) < 8) {
failed = true; EActor->IPrint("You need Move Silently +8.");
}
if (EActor->ISkillLevel(18) < 12) {
failed = true; EActor->IPrint("You need Hide +12.");
}
if (EActor->ISkillLevel(37) < 10) {
failed = true; EActor->IPrint("You need Perform +10.");
}
if (EActor->ISkillLevel(4) < 7) {
failed = true; EActor->IPrint("You need Athletics +7.");
}
if (!EActor->IHasFeat((((49 + 1) + 32) + 14))) {
failed = true; EActor->IPrint("You need the Combat Reflexes feat.");
}
if (!EActor->IHasFeat((((49 + 1) + 32) + 44))) {
failed = true; EActor->IPrint("You need the Dodge feat.");
}
if (!EActor->IHasFeat(((((((49 + 1) + 32) + 50) + 38) + 30) + 27))) {
failed = true; EActor->IPrint("You need the Mobility feat.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d4__<15>Skills:<1>_8_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n__Shadowdancers are stealthy characters whose affinity for shadows goes
      beyond merely finding them useful concealment -- instead, these characters
      form a mystical bond with shadow, learning to use shadows for protection,
      travel and even allies. Shadowdancers are a diverse society, travelling
      across Theyra in tropes and staging elaborate, sinister dances for adoring
      audiences -- their order harbors many secrets but is not, ultimately, a
      malignant force in the world.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The shadowdancer is a prestige class. It counts as a favored class
      for all characters. In order to become a
      shadowdancer, you must have:\n
      __*_<7>Skills Levels<2> -- Move Silently +8, Hide +12, Perform +10,
      Athletics +7.\n
      __*_<7>Feats<2> -- Combat Reflexes, Dodge, Mobility.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the shadowdancer are 
      Balance, Bluff, Decphier Script, Escape Artist, Hide, Jump, Listen, 
      Move Silently, Perform, Search, Spot, Pick Pockets, and Tumble. 
       
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The shadowdancer is proficient with all
      simple weapons, daggers, blades, thrown weapons, flexible weapons,
      archery and light armor.\n
      __*_<7>Evasion<2> -- A shadowdancer that makes a Reflex
      save to avoid an area-effect attack takes no damage. Levels of this
      ability from shadowdancer and other classes stack toward gaining
      Improved Evasion.\n
      __*_<7>Uncanny Dodge<2> -- A shadowdancer has a preternatural ability 
      to avoid harm. Levels of this ability gained from shadowdancer and
      other classes stack.\n
      __*_<7>Hide in Plain Sight<2> -- A shadowdancer is able to use this
      ability to slip away into shadows, hiding even when directly observed
      by other characters, at 3rd level.\n
      __*_<7>Infravision<2> -- A shadowdancer gains the ability to see in 
      the dark for 20 feet (2 squares) or has her darkvision range extended 
      by 20 feet (2 squares) culmulatively at 2nd, 5th and 9th levels.\n
      __*_<7>Shadow Illusion<2> -- A shadowdancer gains the innate ability to 
      use <9>animate shadows<2> at 2nd level, <9>mirror image<2> at 7th level
      and <9>shadow monsters<2> at 10th level.\n
      __*_<7>Shadow Companion<2> -- Starting at 4th level, a shadowdancer
      gains the ability to summon shadows from the Demiplane of Shadows.
      Unlike most shadows, these creatures are not ravenous predators of
      life, but instead loyal and dependable allies. The shadows gain the
      elder template when the shadowdancer reaches level 6 and the ancient
      template when the shadowdancer reaches level 9.\n
      __*_<7>Shadow Step<2> -- A shadowdancer gains the innate ability 
      to cast <9>shadow step<2> at will, starting at 4th level. This
      ability allows her to teleport herself short distances so long
      as she is in a shadowy area; the distance travelled depends upon
      her level as a shadowdancer.\n
      __*_<7>Defensive Roll<2> -- If you have this ability, you are able to 
      move with the impact from blows, lessening their effect even if they do 
      hit you. This ability does not function in heavy armor. When you are 
      struck by a creature that needs a 15 or greater to hit you, you only 
      suffer a certain fraction of the damage, starting at 5/6th. The number 
      of sixths of the total damage can be further reduced in the following 
      circumstances, to a minimum of 1/6th:\n
      __* You are Small and your foe is Medium-sized or larger (-1/6th).\n
      __* Your foe can only hit you on a natural 20 (-1/6th).\n
      __* You are unarmored (-2/6ths) or in light armor (-1/6th).\n
      __This ability does not function if you have spells active which
      simulate the effect of heavy armor (such as Spirit Armor) and
      Mage Armor is treated as medium armor for this purpose.\n
      __*_<7>Improved Uncanny Dodge<2> -- A shadowdancer
      can no longer be flanked except by a rogue four levels higher.
      
      \n\n<10>THE SHADOWDANCER<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__Evasion, Uncanny Dodge\n
      ____2____+1____+0___+3___+0__Infravision (20 ft),\n
      _____________________________Shadow Illusion I\n
      ____3____+1____+1___+3___+1__Hide In Plain Sight\n 
      _____________________________Sneak Attack +1d6\n
      ____4____+2____+1___+4___+1__Shadow Step, Shadow Com.\n
      ____5____+2____+1___+4___+1__Defensive Roll,\n
      _____________________________Infravision (40 ft)\n
      ____6____+3____+2___+5___+2__Elder Companions,\n
      _____________________________Sneak Attack +2d6\n
      ____7____+3____+2___+5___+2__Shadow Illusion II\n
      ____8____+4____+2___+6___+2__Ancient Companions\n
      ____9____+4____+3___+6___+3__Sneak Attack +3d6,\n
      _____________________________Infravision (60 ft)\n
      ____10___+5____+3___+7___+3__Shadow Illusion III\n";
HitDice: 8; Mana: 4; Def: 1/2;
Attk: 1 75,
2 75,
3 75,
0 75;
Proficiencies: 0x00000001, 0x00001000, 0x00000004, 0x00000100,
0x00004000, 0x00000020, 0x20000000;
Skills[8]: 5, 6, 10, 13, 18,
22, 32, 36, 37, 41, 44,
38, 46;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Ability[31,+1] at every level starting at 1st,
Ability[100,+1] at every level starting at 1st,
Ability[42,+2] at 2nd level,
Ability[44,$"animate shadows"] at 2nd,
Ability[142] at 3rd level,
Ability[44,$"Shadow Companion"] at 4th,
Ability[44,$"shadow step"] at 4th,
Ability[137,+1] at 5th,
Ability[42,+2] at 5th level,
Ability[80,+1] at every 3rd level starting at 3rd,
Ability[44,$"mirror image"] at 7th level,
Ability[42,+2] at 9th level,
Ability[44,$"shadow monsters"] at 10th level;
Flags: 7, 10, 11;
}

Effect "Shadow Companion" : 9
{ 0x00000040; 0x00000020; Base: 75; Cost: 7; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"shadow"; pval: 5;
Desc: "A shadowdancer is able to summon shadows to act as her
      companions; if she has 6 levels as a shadowdancer, the shadows
      gain the elder template; with 9 levels, the shadowdancer
      summons ancient shadows.";
Flags: 79, 95;
On Event (28+1000) {
rID tID; hObj cr; int32 i;
if (!EActor->isCharacter())
return 0;
if (EActor->LevelAs($"shadowdancer") >= 9)
tID = $"ancient";
else if (EActor->LevelAs($"shadowdancer") >= 6)
tID = $"elder";
else
return 0;
for (i=0;cr = EMap->GetEncounterCreature(i);i++)
cr->AddTemplate(tID);
};
}

Effect "Shadow Step" : 6
{ 0x00000100; Base: 90; Cost: 6; Level: 3; pval: 1d12+-102;
Purpose: 0x00008; xval: 2; Flags: 82;
Desc: "This ability allows you to meld into a shadow, stepping out
      of any other shadow within 1d12 + (shadowdancer level x 2) squares
      away. In cannot be used in areas of bright light. Favor with Aiswin
      can replace shadowdancer levels in strengthening this ability.";
On Event 28
"You dissolve into the shadows." /
"The <EVictim> dissolves into the shadows.",
(52+500) {
if (EMap->BrightAt(EActor->x,EActor->y))
{
EActor->IPrint("There are no suitable shadows to step into here!");
return 2;
}
return 0;
},
170 {
if (EActor->isCharacter())
e.vCasterLev = max(EActor->getGodLevel($"Aiswin"),
EActor->LevelAs($"shadowdancer"));
else
e.vCasterLev = 4;
return 0;
};
}

Class "Tattoo Mystic"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->GetBAB(1) < 3) {
failed = true;
EActor->IPrint("You must have a brawl BAB of 3+.");
}
if (EActor->ISkillLevel(26) < 8) {
failed = true; EActor->IPrint("You need Knowledge (Mythology) +8.");
}
if (EActor->ISkillLevel(1) < 8) {
failed = true; EActor->IPrint("You need Alchemy +8.");
}
if (EActor->ISkillLevel(27) < 8) {
failed = true; EActor->IPrint("You need Knowledge (Nature) +8.");
}
if (!EActor->IHasAbility(99)) {
failed = true; EActor->IPrint("You need the class feature Unarmed Strike.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d8_<15>Mana:<1>_d4__<15>Skills:<1>_4_<15>Saves:<1>_<9>FRW_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>__Some monks, rather than continuing to develop along the more conventional
      route, choose to take up the path of the tattoo mystic -- an ancient tradition
      involving the creation of magical tattoos to augment a martial artist's strength
      and prowess. These supernatural artisans are anything but pragmatic, however,
      viewing their craft as both a great form of art and an ability to express the
      inner, totemic natures of their beings. Steepled in myth and metaphor, the way
      of the tattoo mystic involves fasting, dream interpretation, the careful study
      of animals and an advanced understanding of alchemy, used in the preparation of
      the supernatural inks used for tattooing.

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The tattoo mystic is a prestige class. It counts as a favored
      class for all characters. In order to become a tattoo mystic, 
      a character must have must have:\n
      __*_<7>Skills Levels<2> -- The understanding of the complex metaphors,
      animal allegories and legends the tradition is steepled in requires
      Knowledge (Mythology) +8 and Knowledge (Nature) +8. To prepre the
      tattoo inks, a character must also have Alchemy +8.\n
      __*_<7>Base Attack Bonus<2> -- A character must have a brawling BAB of
      +3 before they can enter the tattoo mystic class.\n
      __*_<7>Abilities<2> -- A potential tattoo mystic must possess the
      Unarmed Strike class feature.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the tattoo mystic are Appraise, Athletics, Balance, Climb, 
      Diplomacy, Escape Artist, Find Weakness, Healing, Hide, Jump, Knowledge, 
      Listen, Move Silently, Poison Use, Spot and Tumble.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Tattoo mystics recieve no additional weapon
      or armor proficiencies.\n
      __*_<7>Monk Abilities<2> -- A tattoo mystic continues to advance his 
      existing Unarmed Attack, Increased Move and Stun Attack abilities just as
      if he were taking monk levels, so a monk 5/tattoo mystic 3 has the base
      base damage, stun attack save DC and so forth that a monk 8 would.\n
      __The tattoo mystic does not gain any further benefits of monk levels,
      such as better Flurry of Blows, abilities like Abundant Step, Leap of
      the Clouds or Diamond Body, bonus feats and so forth.\n
      __*_<7>Tattoos<2> -- The primary benefit of becoming a tattoo mystic, of
      course, is the inscription of magical tattoos on the character's body. A
      tattoo mystic gains a new tattoo every even level, and many of the effects
      of these tattoos scale with her tattoo mystic level. Some of the tattoos
      available to the mystic include the Tiger, Sun, Mantis, Demon, Crane,
      Dragon, Scorpion, Dragonfly, Mountain, Bamboo, Monkey, Butterfly, Spider,
      Eye and Tree.
      
      \n\n<10>THE TATTOO MYSTIC<15>\n
      _Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ___1____+0____+2___+2___+2__\n
      ___2____+1____+3___+3___+3__New Tattoo\n
      ___3____+1____+3___+3___+3__\n
      ___4____+2____+4___+4___+4__New Tattoo\n
      ___5____+2____+4___+4___+4__\n
      ___6____+3____+5___+5___+5__New Tattoo\n
      ___7____+3____+5___+5___+5__\n
      ___8____+4____+6___+6___+6__New Tattoo\n
      ___9____+4____+6___+6___+6__\n
      ___10___+5____+7___+7___+7__New Tattoo\n\n
      
      <10>AVAILABLE TATTOOS<15>\n\n<list tattoos>";
HitDice: 8; Mana: 4; Def: 1/2;
Attk: 1 100,
2 75,
3 75,
0 75;
Skills[4]: 4, 5, 7, 11,
13, 14, 17, 18, 22, 26,
23, 30, 27, 29,
32, 36, 39, 3, 44, 46;
Grants:
Ability[99] at every level starting at 1st,
Ability[41,+2] at every level starting at 1st,
Ability[89] at every level starting at 1st,
Ability[138] at every 2nd level starting at 2nd;
Flags: 6, 7, 8, 10, 11;
}

Class "Twilight Huntsman"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(40) < 8) {
failed = true; EActor->IPrint("You need Ride level 8.");
}
if (EActor->ISkillLevel(4) < 8) {
failed = true; EActor->IPrint("You need Athletics level 8.");
}
if (EActor->ISkillLevel(18) < 5) {
failed = true; EActor->IPrint("You need Hide level 5.");
}
if (EActor->ISkillLevel(2) < 5) {
failed = true; EActor->IPrint("You need Animal Empathy level 5.");
}
if (EActor->ISkillLevel(36) < 5) {
failed = true; EActor->IPrint("You need Move Silently level 5.");
}
if (EActor->GodID != $"maeve") {
failed = true; EActor->IPrint("You must worship Maeve.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d6__<15>Skills:<1>_6_<15>Saves:<1>_<9>FR<1>w_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>50~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>\n\tMaeve honors the most skilled huntsmen of the faerie and mortal
      relms by making them members of her Twilight Hunt, also called the Wild
      Hunt. Twilight huntsmen promote her chaotic plans.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Twilight huntsman is a prestige class. It counts as a favored class
      for all characters. In order to become a twilight huntsman, you must have:\n
      __*_<7>Skills Levels<2> -- Move Silently 5, Animal Empathy 5, 
        Hide 5, Atheltics 8, Ride 8.\n
      __*_<7>Religion<2> -- You must worship Maeve.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the twilight huntsman are Animal Empathy, 
      Appraise, Climb, Concentration, Healing, Hide, Jump,
      Knowledge, Listen, Move Silently, Ride, Search, Spot,
      Swim, and Wilderness Lore. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The twilight huntsman gains no weapon or armor
      proficiencies.\n
      __*_<7>Low-Light Vision<2> -- At 1st level, the twilight huntsman gains
      40 feet (4 squares) of low-light vision.\n
      __*_<7>Fast Mount<2> -- A twilight huntsman can 
      spur her mount to speeds beyond the norm for its kind. Each twilight 
      huntsman level adds a 5~ class bonus to her mounted speed.\n
      __*_<7>Fast Move<2> -- The twilight huntsman can move  quite rapidly on her 
      own, gaining a 5~ class bonus to her movement rate for every twilight
      huntsman level.\n
      __*_<7>Tracking<2> -- Starting at 2nd level, Twilight huntsmen gain the
      ability to track their enemies just as rangers do; levels of ranger
      and twilight huntsman stack for this purpose.\n
      __*_<7>Spells<2> -- Like assassins, twilight huntsmen dabble in magic,
      learning some of Maeve's tricks of enchantment, illusion and chaos-
      magic to aid them in their mission. A twilight huntsman gains one caster
      level for every even class level, and they draw spells from their own
      spell list. Twilight huntsmen cast as priests do, being able to cast in
      armor and not depending on spellbooks, but needing a holy symbol and
      the favor of their diety.\n
      __*_<7>Smite Law<2> -- At 3rd level, the twilight huntsman gains
      the ability to smite lawful creatures, exactly as a paladin smites
      evil creatures; she gains +2 damage on such smite attacks at 3rd
      level, and an additional +2 for every twilight huntsman level thereafter.\n
      __*_<7>Relentless<2> -- Once a twilight huntsman has begun the hunt for
      an enemy of Maeve, there is no force short of utter annihiliation that
      will turn her away from her task. This intense focus is represented in
      game terms by the Dwarven Focus ability, gained at 4th level.\n
      __*_<7>Noble Aegis<2> -- At 4th level, the twilight huntsman's role
      as an appointed soveriegn of Maeve is recognized in the form of a
      noble aegis that protects her from base treachery in the form of a
      +4 bonus to defense versus surprise attacks and a reduction of two
      points per level after 4th of a rogue's Sneak Attack damage against
      her. Levels of this ability from being a twilight huntsman and a
      priest with the Nobility Domain stack.\n
      __*_<7>Scent<2> -- At 5th level, the twilight huntsman can detect creatures
      by Scent within 30 feet (3 squares) (or has her current scent range 
      extended by 30 feet).\n
      __*_<7>Freedom of Movement<2> -- At 6th level, the twilight huntsman
      becomes completely immune to paralysis, petrification, slowing,
      entangling, and other effects that constraint movement.\n
      __*_<7>Twilight Walking<2> -- At 7th level, the twilight huntsman gains
      the ability to move in and out of the ethereal plane at will, exactly
      as a phase spider does.\n
      __*_<7>Spook<2> -- At 8th level, the twilight huntsman learns to heighten
      her already unsettling faerie otherworldliness to a pinprick sharpness,
      causing intense disquiet in others around her; in game terms, she can
      evoke <9>spook<2> as a spell-like ability at will.\n
      __*_<7>Feed Upon Pain<2> -- At 9th level, the twilight huntsman learns
      to draw strength from those she stalks and wounds, healing one HP of
      damage for every 10 points she inflicts in combat.\n
      __*_<7>One Body, One Soul<2> -- At 10th level, the twilight huntsman
      gains the One Body, One Soul feat, even if she doesn't meet the normal
      requirements for that feat.

      \n\n<10>SPELL LIST<2>\n
      <15>__1st level -- <1>bane, change self, charm person, color spray, doom, 
      enthrall, faerie fire, inflict light wounds, longstrider, malignance, 
      phantasmal force, slow poison, true strike.\n
      <15>__2nd level -- <1>animate rope, bladethirst, globe of shadow, heal 
      mount, hypnotic pattern, improved phantasmal force, inflict moderate
      wounds, phantom steed, scare, see invisibility, silence.\n
      <15>__3rd level -- <1>adamant facade, animate shadows, bestow curse, 
      blackmantle, confusion, fly, hold person, illusory stance, inflict 
      serious wounds, insightful stroke, lorecall, spectral force, track monster, 
      vampiric touch.\n
      <15>__4th level -- <1>crushing despair, dimensional anchor, enervation, 
      hallucinatory terrain, improved spectral force, inflict critical wounds, 
      mooncloak, music of the spheres, phantasmal killer, thornwrack.\n
      <15>__5th level -- <1>advanced illusion, color burst, divine agility, 
      dream, hold monster, insect plague, lower resistance, nightmare, 
      symbol of pain, symbol of sleep.\n
      <15>__6th level -- <1>animate objects, harm, immortal grandeur.
      
      \n\n<10>THE TWILIGHT HUNTSMAN<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+2___+0__Vision, Fast Move & Mount\n
      ____2____+0____+3___+3___+0__+1 CL, Tracking\n
      ____3____+0____+3___+3___+1__Smite Law, Relentless\n
      ____4____+1____+4___+4___+1__+1 CL, Noble Aegis\n
      ____5____+1____+4___+4___+1__Scent\n
      ____6____+1____+5___+5___+2__+1 CL, Freedom of Movement\n
      ____7____+2____+5___+5___+2__Twilight Walking\n
      ____8____+2____+6___+6___+2__+1 CL, <9>spook<1>\n
      ____9____+2____+6___+6___+3__Feed Upon Pain\n 
      ____10___+3____+7___+7___+3__+1 CL, One Body, One Soul\n";
HitDice: 6; Mana: 6; Def: 1/4;
Attk: 1 50,
2 100,
3 100,
0 100;
Skills[6]: 2, 7, 8, 17, 18,
22, 23, 36, 40, 41, 3,
44, 45, 48;
Grants:
Ability[53,+4] at 1st level,
Ability[41,+1] at every level starting at 1st,
Ability[118,+1] at every level starting at 1st,
Ability[82] at every 2nd level starting at 2nd,
Ability[94,+10] at every level starting at 2nd,
Ability[79,106,+2] at every level starting at 3rd,
Ability[29,+1] at 3rd level,
Ability[58,+1] at every level starting at 4th,
Ability[71,+3] at 5th level,
Stati[177,18] at 6th level,
Stati[177,14] at 6th level,
Stati[177,25] at 6th level,
Stati[177,19] at 6th level,
Ability[61,+1] at 7th level,
Ability[44,$"spook"] at 8th level,
Ability[35,+1] at 9th level,
Feat[(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 5)] at 10th level;
Flags: 7, 6, 10, 11;
Lists:
* 21
1 $"bane" $"change self" $"charm person" $"color spray" $"doom"
$"enthrall" $"faerie fire" $"inflict light wounds" $"longstrider"
$"malignance" $"phantasmal force" $"slow poison" $"true strike"
2 $"animate rope" $"bladethirst" $"globe of shadow" $"heal mount"
$"hypnotic pattern" $"improved phantasmal force" $"inflict moderate wounds"
$"phantom steed" $"scare" $"see invisibility" $"silence"
3 $"adamant facade" $"animate shadows" $"blackmantle" $"confusion"
$"fly" $"hold person" $"illusory stance" $"inflict serious wounds"
$"insightful stroke" $"lorecall" $"spectral force" $"track monster"
$"vampiric touch"
4 $"crushing despair" $"dimensional anchor" $"enervation"
$"hallucinatory terrain" $"improved spectral force"
$"inflict critical wounds" $"mooncloak" $"music of the spheres"
$"phantasmal killer" $"thornwrack"
5 $"advanced illusion" $"color burst" $"divine agility" $"dream"
$"hold monster" $"insect plague" $"lower resistance" $"nightmare;spell"
$"symbol of pain" $"symbol of sleep"
6 $"animate objects" $"harm" $"immortal grandeur";

}

Class "Underdark Warrior"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(36) < 10) {
failed = true;
EActor->IPrint("You need to have Move Silently 10+.");
}
if (EActor->ISkillLevel(18) < 10) {
failed = true;
EActor->IPrint("You need to have Hide in Shadows 10+.");
}
if (EActor->ISkillLevel(7) < 10) {
failed = true;
EActor->IPrint("You need to have Climb 10+.");
}
if (!EActor->IHasFeat(((49 + 1) + 25))) {
failed = true;
EActor->IPrint("You need the Blind Fighting feat.");
}
if (!EActor->IHasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4))) {
failed = true;
EActor->IPrint("You need the Toughness feat.");
}
if (EActor->IAttr(4) < 17) {
failed = true;
EActor->IPrint("You need a base Wisdom score of 17+.");
}

if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d10_<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_<9>FR<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>__The Underdark is a ruthlessly Darwinian enviornment where only the strong survive.
      Even among the drow, illithids and deep gnomes, there are few who venture outside their
      large cities in order to explore the tunnels -- magical, predatory beasts unheard of on
      the surface lurk in the twisting tunnels, and most intelligent humanoids travel outside
      their communities only in the company of large military units. Valued by their people as
      spies, scouts and escorts in matters of skullduggery where large military support is too
      conspicious, there is a unique prestige associated with those rugged men and women who
      are able to survive alone in the harshest enviornment on Theyra.\n
      __Underdark warriors hone their instincts, learning to fight based upon lightning
      intuitive reaction rather than rational thought. They sharpen their senses beyond what
      other members of their races would believe possible without magic, learning to detect 
      foes by the vibrations their movement produces in the stone in utter, lightness 
      darkness.

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Underdark Warrior is a prestige class. It counts as a favored
      class for all characters. In order to become an underdark warrior, 
      you must have:\n
      __*_<7>Race<2> -- You must be of a race native to the Underdark -- drow,
      deep gnomes, cave orcs and kobolds all qualify among the player races,
      but goblins and illithids are known to become underdark warrior on occasion
      as well.\n
      __*_<7>Skills Levels<2> -- Move Silently +10, Hide in Shadows +10, Climb +10.\n
      __*_<7>Feats<2> -- Blind-Fighting, Toughness.\n
      __*_<7>Attributes<2> -- Good instincts are an absolute prerequisite of this
      class -- an underdark warrior must have a Wisdom score of 17
      before external magical augmentations are taken into account.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the underdark warrior are Athletics, Balance, Bluff,
      Climb, Escape Artist, Find Weakness, Hide in Shadows, Jump, Listen, Move 
      Silently, Spot, Swim, Tumble and Wilderness Lore.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Underdark warriors do not gain and additional
      weapon or armor proficiencies.\n
      __*_<7>Tremorsense<2> -- The underdark warrior learns to feel vibrations
      in stone in exactly the same manner that some monsters do, developing the
      Tremorsense ability with a range in squares equal to twice her class 
      level.\n 
      __*_<7>Supremely Skilled<2> -- The survivalist nature of the underdark trains
      certain physical skills as no less lethal enviornment possibly could. The
      underdark warrior adds her class level to her Climb, Hide and Move Silently
      skill ratings.\n
      __*_<7>Fasting<2> -- Like rangers, underdark warriors sometimes need to
      survive with very little food and thus condition their bodies to cope well
      with times of privation. Levels of this ability from ranger and underdark
      warrior stack.\n
      __*_<7>Bonus Feats<2> -- An underdark warrior gains Close Quarters Fighter
      as a bonus feat at level 2, Improved Initiative as a bonus feat at level 3
      and Zen Defense as a bonus feat at level 5.\n
      __*_<7>Uncanny Dodge<2> -- The underdark warrior gains the Uncanny Dodge 
      ability at 2nd level; levels of this ability gained from the barbarian or
      rogue classes stack with those gained from underdark warrior.\n
      __*_<7>Stonework Sense<2> -- Starting at 4th level, underdark warriors
      develop a sense for stonework identical to the ability possessed by dwarves
      and gnomes. If they already have this ability, its depth increases by one
      square.\n
      __*_<7>Defensive Roll<2> -- At 5th level, the underdark warrior recieves
      the Defensive Roll ability, which functions identically to the rogue special
      ability of the same name.

      \n\n<10>THE UNDERDARK WARRIOR<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+2___+0__Tremorsense, Sup. Skilled\n
      _____________________________Close Quart. Fighter, Fast.\n
      ____2____+1____+3___+3___+0__Uncanny Dodge\n
      ____3____+1____+3___+3___+1__Improved Initiative\n
      ____4____+2____+4___+4___+1__Stonework Sense\n
      ____5____+2____+4___+4___+1__Zen Defense, Defensive Roll\n_";
HitDice: 10; Mana: 4; Def: 1/2;
Attk: 1 100,
2 100,
3 100,
0 100;
Skills[6]: 4, 5, 6, 7, 13,
14, 18, 22, 32, 36, 44,
45, 46, 48;
Grants:
Ability[95,+2] at every level starting at 1st,
Ability[133,+1] at every level starting at 1st,
Stati[124,7,+1] at every level starting at 1st,
Stati[124,36,+1] at every level starting at 1st,
Stati[124,18,+1] at every level starting at 1st,
Feat[(((49 + 1) + 32) + 9)] at 1st,
Feat[(((((49 + 1) + 32) + 50) + 38) + 27)] at 3rd,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42)] at 5th,
Ability[100,+1] at every level starting at 2nd,
Ability[87,+1] at 4th,
Ability[137,+1] at 5th;
Flags: 6, 10, 11;
Constants:
* 112 5;
}
#line "sp_books.irh" 7
Item "blank spellbook" : 22
{
Image: red 254;
Mat:5; Level: 0;
Weight: 40; Flags: 1;
}

Item "spellbook [Fundamentals of Magick]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"Magic Missile", $"Monster Summoning I",
$"Wizard Lock", $"Levitation", $"Identify", $"Dispel Magic",
$"Phase Door", $"Read Magic", $"Copy";
On Event 205 "FundMagick";
}

Item "spellbook [Adventurers' Arts]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"Magic Missile", $"Expeditious Retreat", $"Alarm",
$"Mage Armor", $"Resist Fire", $"Detect Monsters", $"Mount",
$"Phase Door", $"Infravision", $"Resist Water", $"Jump;spell",
$"spider climb", $"Passwall", $"Knock", $"mending", $"shield",
$"see invisibility", $"floating disc", $"minor light";
On Event 205 "AdventArts";
}

Item "spellbook [Mystic Aegis]" : 22
{
Image: bright blue 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"erase", $"feather fall", $"Endure Fire", $"Endure Cold", $"Endure Lightning",
$"Protection from Evil", $"Mage Armor", $"Shield", $"Gaze Reflection",
$"Protection from Arrows", $"Protection from Undead", $"Spiritwrack",
$"Iron Mind", $"Resist Fire", $"Resist Acid";
On Event 205 "MystAegis";
}

Item "spellbook [Tome of Magic]" : 22
{
Image: bright blue 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"dancing lights", $"Grease", $"Knock",
$"Wall of Fog", $"Wizard Lock", $"Glitterdust", $"Web", $"Passwall",
$"Wind Wall", $"Mending", $"animate rope", $"nystrom's magical aura";
On Event 205 "TomeMagic";
}

Item "spellbook [Practical Divinings]" : 22
{
Image: bright blue 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"detect monsters", $"detect stairs", $"know alignment",
$"true strike", $"see invisibility", $"arrow mind", $"detect undead",
$"detect objects", $"detect secret doors", $"anyspell", $"daggerspell";
On Event 205 "PracDiv";
}

Item "spellbook [Book of Glamour]" : 22
{
Image: bright green 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"cause fear", $"charm person", $"friends", $"sleep",
$"magic weapon", $"convulsion", $"hypnotism", $"suggestion",
$"enthrall", $"dire charm", $"invisibility", $"spook",
$"nystrom's magical aura", $"eagle's splendour";
On Event 205 "BookGlamour";
}

Item "spellbook [Energy Magicks]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"force bolt", $"magic missile", $"shield", $"shocking grasp",
$"burning hands", $"endure fire", $"resist lightning", $"scorcher";
On Event 205 "EnergyMag";
}

Item "spellbook [Magician's Manual]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"Phantasmal Force", $"Color Spray", $"Chromatic Orb",
$"change self", $"dancing lights", $"invisibility",
$"Spook", $"Reduce", $"Invisibility", $"Hypnotic Pattern",
$"globe of shadow", $"phase door", $"ventriloquism",
$"mirror image", $"pyrotechnics", $"animate rope";
On Event 205 "MagManual";
}

Item "spellbook [Ars Mortis]" : 22
{
Image: grey 254;
Mat:5; Level: 0;
Weight: 40;
#line "sp_books.irh" 115
Spells: $"chill touch", $"halt undead", $"rigor mortis", $"detect undead",
$"protection from undead", $"bladethirst", $"ghoul touch", $"visage of death",
$"animate dead", $"magic circle vs. undead", $"scare", $"minor drain",
$"spectral hand";
On Event 205 "ArsMortis";
}

Item "spellbook [Mortal Coil]" : 22
{
Image: red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"enlarge", $"reduce", $"expeditious retreat", $"slow",
$"bull's strength", $"cat's grace", $"bear's endurance",
$"false life", $"convulsion", $"jump;spell", $"magic weapon",
$"bladethirst";
On Event 205 "MortalCoil";
}

Item "spellbook [Place and Time]" : 22
{
Image: purple 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"alarm", $"phase door", $"rope trick", $"spiritwrack", $"monster summoning II",
$"blink", $"dimension door", $"haste", $"slow", $"displacement",
$"distance distortion", $"passwall", $"call companions", $"transposition",
$"rope trick", $"mana theft", $"apportation";
On Event 205 "PlaceTime";
}

Item "spellbook [Venom and Curses]" : 22
{
Image: red 254;
Mat:5; Level: 0;
Weight: 40; Level: 4;
Spells: $"contagion", $"slow", $"choke", $"hideous laughter",
$"dire charm", $"polymorph other", $"summon swarm",
$"sleep", $"phantasmal killer", $"stinking cloud",
$"confusion", $"minor malison", $"scare",
$"baleful polymorph", $"mana theft";
On Event 205 "Venom&Curses";
}

Item "spellbook [Ars Bellicus]" : 22
{
Image: pink 254;
Mat:5; Level: 0;
Weight: 40; Level: 5;
Spells: $"expeditious retreat", $"wall of fog", $"shield",
$"bull's strength", $"cat's grace", $"spirit armor", $"keen edge",
$"lightning bolt", $"blackmantle", $"haste", $"decastave",
$"protection from arrows", $"phantom steed", $"magic weapon",
$"greater magic weapon";
On Event 205 "ArsBell";
}

Item "spellbook [Elemental Covenant]" : 22
{
Image: bright green 254;
Mat:5; Level: 0;
Weight: 40; Level: 5;
Spells: $"burning hands", $"shocking grasp", $"endure cold",
$"resist lightning", $"resist fire", $"protection from fire",
$"protection from cold", $"scorcher", $"gust of wind",
$"fireball", $"lightning bolt", $"ice storm", $"fire shield",
$"wall of fire", $"wall of ice", $"gaseous form", $"tremor",
$"transmute rock to mud", $"stoneskin";
On Event 205 "ElemCov";
}

Item "spellbook [Libram of Silver Magic]" : 22
{
Image: white 254;
Mat:5; Level: 0;
Weight: 40; Level: 4;
Spells: $"protection from evil", $"protection from undead",
$"magic circle vs. evil", $"wandwierd", $"dismissal", $"blur",
$"dimension door", $"clairvoyance", $"magic mapping",
$"levitation", $"hold person", $"ESP", $"mooncloak",
$"minor globe of invulnerability", $"premonition",
$"magic circle vs. undead", $"deep slumber", $"abjure";
On Event 205 "SilverMag";
}

Item "spellbook [Secrets of Abjuration]" : 22
{
Image: yellow 254; Weight: 40;
Mat: 5; Level: 5;
Desc: "This unusual spellbook has utility only to Abjurers -- no
      other mage can make use of the spells contained within. It holds
      a small collection of (normally) divine castings that Abjurers
      are able to make use of as if it were arcane magic.";
Spells: $"sanctuary", $"detect evil", $"shield other",
$"glyph of warding", $"remove curse", $"negative plane protection",
$"death ward", $"free action;spell", $"spell immunity", $"magic resistance",
$"dispel evil", $"antilife shell", $"glyph of warding, greater";
}



Item "spellbook [Conjurations and Summonings]" : 22
{
Image: brown 254;
Mat:5; Level: 0;
Weight: 40; Level: 2;
Spells: $"Monster Summoning I", $"Monster Summoning II",
$"Monster Summoning III", $"Monster Summoning IV",
$"monster Summoning V", $"Monster Summoning VI", $"conjure vortex",
$"Magic Circle vs. Evil", $"Dismissal", $"Explosive Runes",
$"Force Shapechange", $"phantasmal force", $"spectral force",
$"vitriolic sphere", $"track monster", $"evard's black tentacles",
$"lesser planar conjuration", $"abjure";
On Event 205 "ConSumm";
}

Item "spellbook [Artificer's Handbook]" : 22
{
Image: yellow 254;
Mat:5;
Weight: 40; Level: 3;
Spells: $"Alisdair's Fundamental Breakdown", $"Minor Creation",
$"Major Creation", $"Wall of Stone", $"Keen Edge", $"Lorecall",
$"Spirit Armor", $"Skull Trap", $"Apportation", $"force missiles",
$"shield", $"mending", $"fabricate", $"magic weapon",
$"greater magic weapon";
On Event 205 "Artificer's" / "AH";
}

Item "spellbook [Tricks and Traps]" : 22
{
Image: brown 254;
Mat:5; Weight: 40; Level: 4;
Spells: $"chromatic orb", $"shocking grasp", $"feather fall",
$"charm person", $"friends", $"charm monster", $"displacement",
$"vampiric touch", $"polymorph self", $"explosive runes",
$"minor globe of invulnerability", $"track monster", $"fly",
$"force shapechange", $"charm monster", $"improved invisibility",
$"enervation", $"shout", $"mirror image", $"wall of doors",
$"pyrotechnics", $"sign of discord", $"adamant facade",
$"aura of abjuration", $"steal magic";
On Event 205 "Trick&Trap";
}

Item "spellbook [Magnus Ollam]" : 22
{
Image: pink 254;
Mat:5; Level: 1;
Weight: 40; Level: 4;
Spells: $"endure sound", $"resist sound", $"protection from sound",
$"shatter", $"shout", $"emotion", $"heroism", $"hideous laughter",
$"hypnotism", $"thunderlance", $"deep slumber", $"lorecall",
$"insightful stroke", $"immortal grandeur";
On Event 205 "MagOll"; }

Item "spellbook [Lore of Murder I]" : 22
{
Image: grey 254;
Mat:5;
Weight: 40; Level: 3;
Spells: $"change self", $"convulsion", $"expeditious retreat", $"magic weapon",
$"obscurement", $"passwall", $"read magic", $"shield", $"sleep",
$"spider climb", $"true strike", $"ventriloquism", $"choke", $"ESP",
$"globe of shadow", $"hypnotic pattern", $"infravision", $"invisibility",
$"pass without trace", $"levitation", $"bladethirst", $"rope trick",
$"web";
On Event 205 "Murder2";
}

Item "spellbook [Lore of Murder II]" : 22
{
Image: grey 254;
Mat:5;
Weight: 40; Level: 7;
Spells: $"deeper darkness", $"nondetection", $"displacement",
$"animate shadows", $"illusory stance", $"blink", $"clairvoyance",
$"deep slumber", $"gaseous form", $"greater magic weapon",
$"improved invisibility", $"free action;spell", $"phantasmal killer",
$"enervation", $"premonition", $"track monster", $"dream",
$"lower resistance", $"misdirection", $"power word: stop",
$"cloudkill", $"telekinesis", $"wizard sight", $"disintegrate",
$"power word: stun";
On Event 205 "Murder2"; }


Item "spellbook [Twin Axis Defense Sutra]" : 22
{
Image: white 254; Level: 3;
Mat: 5; Weight: 40;
Spells: $"protection from good", $"protection from evil",
$"protection from law", $"protection from chaos",
$"magic circle vs. good", $"magic circle vs. evil",
$"magic circle vs. law", $"magic circle vs. chaos",
$"know alignment";
On Event 205 "TwinAxis";
}

Item "spellbook [Book of Shadows]" : 22
{
Image: white 254; Level: 2;
Mat: 5; Weight: 40;
Spells: $"charm person", $"globe of shadow", $"resist cold",
$"change self", $"friends", $"magic weapon", $"minor drain",
$"sleep", $"phantasmal force", $"wall of fog", $"blur",
$"ESP", $"False Life", $"hypnotism", $"bladethirst",
$"make whole", $"ray of enfeeblement", $"touch of idiocy",
$"gaseous form", $"nondetection", $"ethereal blade";
On Event 205 "BookShadows";

}

Item "spellbook [Heart of Flame]" : 22
{
Image: red 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"burning hands", $"endure fire", $"minor light",
$"flame blade", $"flaming sphere", $"resist fire",
$"scorcher", $"fireball", $"flame arrow", $"pyrotechnics",
$"mystic lantern", $"burning blood", $"fire shield",
$"fire lotus", $"protection from fire", $"wall of fire",
$"fire charm";
On Event 205 "HeartFlame";
}

Item "spellbook [Shadowcraft]" : 22
{
Image: black 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"shadow monsters", $"demi-shadow monsters", $"shades",
$"shadow magic", $"demi-shadow magic", $"summon shadows",
$"globe of shadow", $"deeper darkness", $"spook",
$"eldritch bolt", $"phantom steed", $"disintegrate",
$"demi-shadow monsters", $"demi-shadow magic";
On Event 205 "Shadow";
}

Item "spellbook [Lordship over Air]" : 22
{
Image: white 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"feather fall", $"jump;spell", $"obscurement",
$"wall of fog", $"ventriloquism", $"blur",
$"choke", $"stinking cloud", $"cloudkill",
$"glitterdust", $"levitation", $"fly",
$"gaseous form", $"wind wall", $"gust of wind",
$"lightning bolt", $"electric loop", $"thunderlance",
$"solid fog", $"shocking grasp", $"floating disc";
On Event 205 "LordAir";
}

Item "spellbook [Water Authority]" : 22
{
Image: blue 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"obscurement", $"wall of fog", $"stinking cloud",
$"cloudkill", $"chill touch", $"endure cold",
$"resist cold", $"protection from cold", $"grease",
$"endure acid", $"resist acid", $"protection from acid",
$"acid arrow", $"icelance", $"ice storm", $"wall of ice",
$"solid fog", $"cone of cold", $"transmute rock to mud",
$"water walking", $"watery double";
On Event 205 "WaterAuth";
}

Item "spellbook [Earthsong]" : 22
{
Image: brown 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"magic weapon", $"bull's strength", $"bear's endurance",
$"passwall", $"shatter", $"explosive runes", $"bladethirst",
$"greater magic weapon", $"stoneskin", $"wall of stone",
$"transmute rock to mud";
On Event 205 "EarthSong";
}

Item "spellbook [Celestial Lion Sutra]" : 22
{
Image: yellow 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"bull's strength", $"cat's grace", $"bear's endurance",
$"protection from evil", $"dispel magic", $"shout",
$"scorcher", $"lightning bolt", $"tremor", $"flame blade",
$"crushing despair", $"keen edge", $"force bolt", $"ethereal blade",
$"banishment", $"shield", $"lightning bolt", $"fire lotus",
$"spirit armor", $"enlarge", $"hold person",
$"open the third eye", $"lower resistance", $"adamant facade",
$"aura of abjuration", $"undeath to death";
On Event 205 "CelLion";
}

Item "spellbook [Crystal Mind]" : 22
{
Image: bright cyan 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"copy", $"detect secret doors", $"detect magic",
$"read magic", $"iron mind", $"Telekinesis", $"apportation",
$"ESP", $"Mord's Lucubration", $"dominate person",
$"Revealed Lore", $"Wizard Sight", $"warning",
$"insightful stroke", $"anyspell", $"true seeing";
On Event 205 "CrysMind";
}

Item "spellbook [Elemental Endurance]" : 22
{
Image: bright red 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"endure the elements", $"resist the elements",
$"protection from elements", $"energy buffer",
$"protection from lightning", $"resist water",
$"resist sound";
On Event 205 "ElemEndur";
}

Item "spellbook [Words of Power]" : 22
{
Image: white 254; Level: 7;
Mat: 5; Weight: 40;
Spells: $"Read Magic", $"Detect Magic", $"Revealed Lore",
$"anyspell",
$"Power Word: Stop", $"Power Word: Stun",
$"lesser symbol", ;

On Event 205 "WordsPow" / "WoP";
}

Item "spellbook [Grey Ashes Manuscript]" : 22
{
Image: grey 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"crushing despair", $"shatter", $"cause fear", $"minor drain",
$"major drain", $"waves of weariness", $"lesser symbol",
$"eldritch bolt", $"rigor mortis", $"cloudkill",
$"choke", $"visage of death", $"vitriolic sphere", $"nightmare;spell",
$"ghoul touch", $"bull's strength", $"spirit net", $"nemesis spell",
$"evard's black tentacles", $"disintegrate", $"Steal Magic";
On Event 205 "GreyAsh";
}

Item "spellbook [Tome of Storms]" : 22
{
Image: yellow 254; Level: 5;
Mat: 5; Weight: 40;
Spells: $"Lightning Bolt", $"Gust of Wind", $"Protection from Lightning",
$"Fly", $"Ice Storm", $"Force Missiles", $"Chain Lightning",
$"Cone of Cold", $"Shatter", $"electric loop",
$"thunderlance", $"chill shield";
On Event 205 "TStorms";
}


Item "spellbook [Smoke and Mirrors]" : 22
{
Image: cyan 254; Level: 5;
Mat: 5; Weight: 40; Flags: 1;
Spells: $"Phantasmal Force", $"Improved Phantasmal Force",
$"Spectral Force", $"Improved Spectral Force",
$"Advanced Illusion", $"Persistant Illusion",
$"Color Burst", $"Illusory Stance", $"Misdirection",
$"Phantasmagoria", $"Hallucinatory Terrain",
$"Mirage Arcana", $"mana theft", $"etherealness";
}

Item "spellbook [Evelyn's Tactical Codex]" : 22
{
Image: bright red 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"Lightning Bolt", $"Deeper Darkness", $"Phantom Steed",
$"Tevlar's Transformation", $"lower resistance",
$"Hold Monster", $"fear", $"group invisibility",
$"animate dead", $"dimensional anchor", $"teleport",
$"hold monster", $"fireball", $"premonition",
$"insightful stroke", $"aura of abjuration",
$"true seeing", $"shift level", $"ethereal jaunt";
On Event 205 "ETCodex";
}

Item "spellbook [Planar Bindings]" : 22
{
Image: bright blue 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"Lesser Planar Conjuration",
$"Conjure Earth Elemental", $"Lower Resistance",
$"Spiritwrack",
$"Protection from Evil",
$"Create Spectral Undead",
$"Fiendform";
#line "sp_books.irh" 506
}

Item "spellbook [Mastery over Death]" : 22
{ Image: black 254;
Mat:5; Weight: 20; Level: 5;
Spells: $"protection from undead", $"blackmantle", $"revenance",
$"animate dead", $"burning blood", $"summon shadows",
$"skeletal spikes", $"skull trap", $"create corporeal undead",
$"create spectral undead", $"necrosynthesis";
On Event 205 "MasDeath";
}

Item "spellbook [Gift of Death]" : 22
{
Image: black 254;
Mat:5; Weight: 20; Level: 5;
Spells: $"thornwrack", $"disintegrate", $"aura of death", $"contagion",
$"convulsion", $"phantasmal killer", $"spirit net";
On Event 205 "GiftDeath";
}

Item "spellbook [Crimson Rites]" : 22
{
Image: bright shadow 254;
Mat:5; Level: 5;
Flags: 1;
Weight: 20;
Spells:
$"chill blood",
$"sanguine touch",
$"detect blood",
$"Bladethirst",
$"caustic vitae",
$"burning blood",
$"infernal blood";
Desc: "This rare spellbook is strongly associated with the Black Orcs
    and their arcane blood rituals.";
}
#line "weapons.irh" 6
Item "dire flail" : 58
{ Image: bright blue 251; Group: 0x00020000 | 0x00000002;
Mat: 11; Size: 5; Weight: 200; Cost: 15 1;
Parry: 4; SDmg: 1d8; LDmg: 1d6; Acc: +4; Crit: x3; Threat: 1; Spd: 100%;
Flags: 28, 35, 20, 21, 33,
29, 39, 36; }

Item "heavy flail" : 58
{ Image: blue 251; Group: 0x00020000; Parry: 5;
Mat: 11; Size: 5; Weight: 200; Cost: 12 1;
SDmg: 1d12; LDmg: 1d8; Acc: +4; Crit: x3; Threat: 3; Spd: 70%;
Flags: 28, 39; }

Item "light flail" : 58
{ Image: blue 251; Group: 0x00004000|0x00010000; Parry: 5;
Mat: 11; Size: 4; Weight: 50; Cost: 7 1;
SDmg: 1d9; LDmg: 1d7; Acc: +4; Crit: x2; Threat: 2; Spd: 90%;
Flags: 28, 39; }
#line "weapons.irh" 29
Item "handaxe" : 58
{ Image: red 251; Group: 0x00000010 | 0x00000100 | 0x00010000; Range: 1;
Mat: 11; Size: 3; Weight: 40; Cost: 8 1;
SDmg: 1d6; LDmg: 1d6; Acc: -1; Crit: x2; Threat: 1; Spd: 120%;
Flags: 22, 26; Parry: 1;
Desc: "This short axe can be used as a melee weapon, but its
      primary purpose is throwing."; }

Item "greataxe" : 58
{ Image: red 251; Group: 0x00000010; Parry: 2;
Mat: 11; Size: 5; Weight: 200; Cost: 13 1;
SDmg: 2d8; LDmg: 2d10; Acc: +1; Crit: x3; Threat: 2; Spd: 80%;
Flags: 22, 26, 37, 36; }

Item "orc double axe" : 58
{ Image: bright red 251; Group: 0x00000010 | 0x00000002;
Mat: 11; Size: 5; Weight: 250; Cost: 16 1;
Parry: 3; SDmg: 1d10; LDmg: 1d12; Acc: +1; Crit: x3; Threat: 2; Spd: 80%;
Flags: 22, 26, 29, 33,
5, 44; }

Item "battleaxe" : 58
{ Image: red 251; Group: 0x00000010;
Mat: 11; Size: 4; Weight: 70; Cost: 9 1;
SDmg: 1d10; LDmg: 1d12; Acc: +1; Crit: x3; Threat: 2; Spd: 70%; Parry: 2;
Flags: 22, 26; }

Item "dwarven waraxe" : 58
{ Image: bright red 251; Group: 0x00000010 | 0x00000002;
Mat: 11; Size: 4; Weight: 150; Cost: 12 1;
Parry: 2; SDmg: 2d6; LDmg: 3d6; Acc: +2; Crit: x3; Threat: 2; Spd: 90%;
Flags: 22, 26, 44; }
#line "weapons.irh" 66
Item "halfspear" : 58
{ Image: brown 251; Group: 0x00000400 | 0x00010000; Range: 2;
Mat: 11; Size: 4; Weight: 30; Cost: 8 1;
SDmg: 1d6; LDmg: 1d6; Acc: +0; Crit: x3; Threat: 1; Spd: 100%;
Flags: 25, 27, 42, 12; Parry: 3;
Desc: "The smaller cousin of the shortspear, halfspears are
      3-4 feet long and are frequently used by halfling hunters
      and the goblinoid peoples."; }

Item "shortspear" : 58
{ Image: brown 251; Group: 0x00000400; Range: 2;
Mat: 11; Size: 5; Weight: 50; Cost: 9 1;
SDmg: 1d8; LDmg: 1d8; Acc: +0; Crit: x3; Threat: 1; Spd: 100%;
Flags: 25, 27, 42, 12; Parry: 4;
Desc: "The shortspear has a wooden haft about five feet long,
      with a sharp steel blade mounted at the end."; }

Item "trident" : 58
{ Image: brown 251; Group: 0x00000400; Range: 1; Parry: +4;
Mat: 11; Size: 5; Weight: 60; Cost: 9 1;
SDmg: 1d8; LDmg: 1d8; Acc: +0; Crit: x2; Threat: 1; Spd: 110%;
Flags: 27, 25;
Desc: "The trident is a three-pronged spear which is often
      favored by seafaring races and cultures."; }

Item "longspear" : 58
{ Image: bright brown 251; Group: 0x00000400 | 0x00000200; Range: 1;
Mat: 11; Size: 5; Weight: 90; Cost: 12 1;
SDmg: 1d8; LDmg: 1d8; Acc: +0; Crit: x3; Threat: 1; Spd: 100%;
Flags: 25, 27, 42, 20, 12; Parry: 1;
Desc: "Essentially a polearm, the longspear is over ten feet in
      length and cannot be used to strike at enemies who have closed
      with the wielder."; }

Item "light lance" : 58
{ Image: brown 251; Group: 0x00000800;
Mat: 8; Size: 4; Weight: 50; Cost: 10 1;
SDmg: 1d6; LDmg: 1d10; Acc: +0; Crit: x3; Threat: 1; Spd: 70%;
Flags: 25, 27, 41; Parry: 0;
Desc: "The light lance can be used effectively by a horseman
      or footman, though it is obviously intended to be a rider's
      weapon."; }

Item "heavy lance" : 58
{ Image: brown 251; Group: 0x00000800;
Mat: 8; Size: 5; Weight: 100; Cost: 12 1;
SDmg: 1d8; LDmg: 1d12; Acc: +0; Crit: x3; Threat: 1; Spd: 70%;
Flags: 25, 27, 41, 48; Parry: 0;
Desc: "The classical weapon of the knight, the heavy lance's
      construction makes it awkward to use when not mounted."; }

Item "great lance" : 58
{ Image: bright brown 251; Group: 0x00000800 | 0x00000002;
Parry: 0;
Mat: 18; Size: 5; Weight: 500; Cost: 90 1;
SDmg: 1d10; LDmg: 1d20; Acc: +0; Crit: x3; Threat: 1; Spd: 70%;
Flags: 20, 25, 41, 36, 37, 48;
Desc: "The great lance is a monsterous weapon usually associated with
      demonic hordes and mythic tales of knights riding dragons. The
      typical great lance is as long as a pike but non-trivially thicker:
      it is the fullblade of the lance world.  In order to survive the
      strain of repeated charges (and to help it bear up under its own
      non-trivial weight and torque), the great lance is traditionally cast
      from adamant.  Only the strongest can hope to use such a powerful
      weapon."; }
#line "weapons.irh" 146
Item "halberd" : 58
{ Image: brown 251; Group: 0x00000200 | 0x00000010;
Mat: 11; Size: 5; Weight: 150; Cost: 12 1;
SDmg: 1d10; LDmg: 1d12; Acc: +1; Crit: x3; Threat: 1; Spd: 70%;
Parry: 4;
Flags: 25, 26, 27, 25, 18,
37, 42;
Desc: "The shortest and heaviest common polearm, a halberd 
      is a very effective weapon for a lone fighter, and many 
      specialized styles of combat have developed around it. The 
      halberd has a heavy axe-pike head capable of delivering
      blows with great force."; }

Item "ranseur" : 58
{ Image: bright brown 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 13 1;
SDmg: 2d4; LDmg: 2d4; Acc: +1; Crit: x3; Threat: 1; Spd: 80%;
Parry: 1;
Flags: 27, 19, 20, 42,
25;
Desc: "The ranseur is a long, sharp spear-like polearm, with
      side blades on the head useful for disarming opponents."; }

Item "lucern hammer" : 58
{ Image: bright brown 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 15 1;
SDmg: 2d4; LDmg: 1d6; Acc: -1; Crit: x3; Threat: 1; Spd: 70%;
Parry: 1;
Flags: 27, 28, 25,
42, 20, 22;
Desc: "This 15' polearm has a claw-shaped hammer head designed
      to puncture plate mail."; }

Item "two-bladed halberd" : 58
{ Image: bright purple 251;
Group: 0x00000200 | 0x00000002;
Parry: 4; Mat: 11;
Size: 5; Weight: 300; Cost: 20 1;
SDmg: 1d10; LDmg: 1d10; Acc: +2; Crit: x3; Threat: 1; Spd: 70%;
Flags: 25, 26, 27, 18, 29,
38, 36, 42;
Desc: "This uncommon variant on the popular halberd is known as a
    lajatang among some monkish orders. It is essentially a heavy pole
    with axe-pikes at both ends.";
}

Item "glaive" : 58
{ Image: green 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 13 1;
SDmg: 1d8; LDmg: 1d8; Acc: +1; Crit: x3; Threat: 1; Spd: 75%; Parry: 1;
Flags: 25, 26, 27, 20, 42;
Desc: "A long-range weapon with a simple spear-blade head,
      the glaive can be used either to slash or impale. It is
      one of the most common polearms."; }

Item "guisarme" : 58
{ Image: green 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 13 1;
SDmg: 2d4; LDmg: 1d6; Acc: 0; Crit: x3; Threat: 1; Spd: 90%; Parry: 1;
Flags: 26, 20, 36, 18,
42, 33;
Desc: "A polearm with a hooked blade-head, the guisarme
      can be used to slash or trip opponents."; }

Item "voulge" : 58
{ Image: green 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 120; Cost: 13 1;
Parry: 1;
SDmg: 2d6; LDmg: 2d6; Acc: -1; Crit: x3; Threat: 1; Spd: 70%;
Flags: 26, 22, 42;
Desc: "It's an axe on a stick! The voulge is essentially a longaxe,
      and is useful for hacking through plate armors."; }


Item "saw-toothed glaive" : 58
{ Image: bright purple 251; Group: 0x00000200 | 0x00000002;
Mat: 11; Size: 5; Weight: 150; Cost: 70 1;
SDmg: 2d8; LDmg: 2d8; Acc: +1; Crit: x3; Threat: 1; Spd: 80%;
Flags: 26, 27, 20, 25, 42,
1;
Desc: "These glaives are the signature weapons of the barbazu devils,
      with saw-like teeth created to inflict exceptional pain as well as
      ravage an opponent's flesh."; }
#line "weapons.irh" 235
Item "club" : 58
{ Image: cyan 251; Group: 0x00000080 | 0x00000001;
Mat: 8; Size: 4; Weight: 30; Cost: 7 1;
SDmg: 1d6; LDmg: 1d4; Acc: +2; Crit: x2; Threat: 1; Spd: 90%;
Parry: 1;
Flags: 28, 39, 24; }

Item "large club" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 8; Size: 5; Weight: 150; Cost: 8 1;
SDmg: 1d10; LDmg: 1d6; Acc: +4; Crit: x2; Threat: 1; Spd: 70%;
Parry: 2;
Flags: 28, 37, 24, 39; }

Item "huge club" : 58
{ Image: bright cyan 251; Group: 0x00000080;
Mat: 8; Size: 6; Weight: 500; Cost: 14 1;
SDmg: 2d8; LDmg: 2d6; Acc: +4; Crit: x2; Threat: 1; Spd: 60%;
Parry: 3;
Flags: 28, 37, 36, 24,
1, 39, 20, 21; }

Item "quarterstaff" : 58
{ Image: bright cyan '|'; Group: 0x00000001 | 0x00000040 | 0x00002000 | 0x00010000;
Mat:8; Size: 5; Weight: 7; Cost: 13 1;
Parry: 8;
SDmg:1d8; LDmg:1d6; Acc: +4; Crit: x2; Threat: 1; Spd: 100%;
Flags: 18, 28, 33, 43;
Desc: "A long stout staff used as a weapon and wielded with one hand in
    the middle and the other between the middle and the end.";
}

Item "force construct staff" : 58
{
Image: bright cyan '|';
Mat:30;
SDmg:1d10; LDmg:1d8;
Cost: 0;
Crit: x3; Threat: 4; Spd: 125%;
Weight: 0; Group: 0x00000040 | 0x00000001 | 0x00002000;
Size: 4; Parry: +8; Acc: +5;
Flags: 18, 28, 33, 1,
43;
Desc: "The decastave is a shimmering, translucent construct in the 
      form of a 10' long pole. It can be wielded like a quarterstaff,
      and often strikes foes with the devastating power of thunder itself.
      Its weightlessness allows it to strike quite rapidly.";
On Event (16+500), (31+500) {
EActor->IPrint("You dispel the conjured staff.");
EItem->Remove(true);
return 1;
},
32 {
if (EActor->isType((-4)) &&
GetHandle(EActor->m) != ((hObj)0))
{
EActor->IDPrint("","The conjured staff vanishes.");
EActor->Remove(true);
return 1;
}
return 0;
},
(54+500) {
EItem->Remove(true);
return 1;
},
(14+500) {
EActor->IPrint("You can't put a force construct in a container.");
return 2;
},
(13+500) {
if (e.EParam != 1 && e.EParam != 2) {
EActor->IPrint("You need to hold the decastave in your hands, else it will disperse.");
return 2;
}
return 0;
},
163 {
e.nCursed = "";
e.nAppend += XPrint(" (<Num> turn<hText>)",
EActor->GetStatiDur(67), EActor->GetStatiDur(67) == 1 ? "" : "s");
return 0;
};
}

Item "maul" : 58
{ Image: bright cyan 251; Group: 0x00000080;
Mat:11; Size: 5; Weight: 700; Cost: 18 1; Parry: 3;
SDmg:2d8; LDmg:2d8; Acc: +2; Crit: x4; Threat: 2; Spd: 70%;
Desc: "A maul is heavy (often wooden-headed) hammer used
    especially for driving wedges. It can be thought of as a sledgehammer
    with one wedge-shaped end and is often used to split wood.";
Flags: 34, 28, 39, 41, 42,
38;
}

Item "great maul" : 58
{ Image: bright cyan 251; Group: 0x00000080;
Mat:11; Size: 6; Weight: 700; Cost: 18 1; Parry: 3;
SDmg:2d12; LDmg:2d12; Acc: +2; Crit: x4; Threat: 2; Spd: 70%;
Desc: "A maul is heavy (often wooden-headed) hammer used
      especially for driving wedges. It can be thought of as a sledgehammer
      with one wedge-shaped end and is often used to split wood. Great
      mauls are used by giants or by creatures able to magically grow
      larger.";
Flags: 34, 28, 39, 41, 42,
38, 37, 36;
}

Item "light mace" : 58
{ Image: cyan 251; Group 0x00000001 | 0x00000080 | 0x00010000;
Mat: 11; Size: 3; Weight: 60; Cost: 5 1; Parry: 4;
SDmg: 1d6; LDmg: 1d6; Acc: +2; Crit: x2; Threat: 1; Spd: 110%;
Flags: 28, 39;
Desc: "Maces are traditionally considered to be the weapons of
      the clergy on Therya, but many warriors also use them. The
      light mace is most commonly used by mounted warriors, and by
      those who lack the strength to use the heavier variant."; }

Item "heavy mace" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 11; Size: 4; Weight: 120; Cost: 12 1; Parry: 3;
SDmg: 1d10; LDmg: 1d8; Acc: +2; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 37, 39;
Desc: "The heavy mace is the symbol of militant clergy on Therya.
      It requires great strength to use, and the lead-filled head
      strikes its victims with tremendous impact."; }

Item "morningstar" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 11; Size: 4; Weight: 120; Cost: 12 1; Parry: 3;
SDmg: 1d8; LDmg: 1d8; Acc: +3; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 37, 27, 39;
Desc: "Satirically called the 'holy water sprinkler', the
      morningstar is essentially a heavy mace with spikes added
      to its head, thus inflicting both blunt trauma and piercing
      wounds."; }

Item "huge morningstar" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 11; Size: 6; Weight: 120; Cost: 12 1; Parry: 3;
SDmg: 3d8; LDmg: 3d8; Acc: +1; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 37, 27, 39;
Desc: "Satirically called the 'holy water sprinkler', the
      morningstar is essentially a heavy mace with spikes added
      to its head, thus inflicting both blunt trauma and piercing
      wounds. This morningstar is humongous -- larger than a human
      could ever wield -- and is obviously sized for a giant or
      similar creature."; }

Item "warhammer" : 58
{ Image: red 251; Group: 0x00000080;
Mat: 11; Size: 4; Weight: 120; Cost:
14 1; Parry: 3;
SDmg: 1d8; LDmg: 1d8; Acc: 0; Crit: x3; Threat: 1; Spd: 80%;
Flags: 28, 37, 39, 22;
Desc: "The warhammer is a blunt weapon designed specifically to
      punch through plate armors. Its blows carry terrible force
      with them."; }
#line "weapons.irh" 400
Item "short sword" : 58
{ Image: gray '('; Group: 0x00000004 | 0x00010000;
Mat:11; Size: 3; Weight: 30;
Cost: 9 1; Parry: 4;
SDmg:1d6; LDmg:1d6+1; Acc: +1; Crit: x2; Threat: 2; Spd: 140%;
Flags: 17, 26, 27;
}

Item "scimitar" : 58
{ Image: gray '('; Group: 0x00000008 | 0x00010000; Parry: 5;
Mat: 11; Size: 4; Weight:40; Cost: 10 1;
SDmg: 1d8; LDmg: 1d8; Acc: +2; Crit: x2; Threat: 3; Spd: 115%;
Flags: 26, 27; }

Item "falchion" : 58
{ Image: cyan '('; Group: 0x00000004; Parry: +3;
Mat: 11; Size: 5; Weight: 160; Cost: 11 1;
SDmg: 2d4; LDmg: 2d6; Acc: +1; Crit: x2; Threat: 3; Spd: 120%;
Flags: 26; }

Item "broadsword" : 58
{ Image: green '('; Group: 0x00000008; Parry: 2;
Mat: 11; Size: 4; Weight: 70; Cost: 11 1;
SDmg: 2d4; LDmg: 2d5; Acc: 0; Crit: x2; Threat 2; Spd: 110%;
Flags: 26, 37;
Desc: "Smaller than a bastard sword, but heavier than a long sword,
      the broadsword is something of a tactical midpoint between the
      two weapons. The name derives from the fact that its blade is
      wider than either of the two swords or originated from. The
      broadsword is the heaviest weapon a human can wield in one hand
      without special training."; }


Item "flame blade;weapon" : 58
{
Image: bright red '('; Group: 0x00000008 | 0x00010000; Parry: 0;
Mat: 30; Size: 4; Weight:10;
Flags: 26, 27, 43, 1;
SDmg: 3d8; LDmg: 3d8; Acc: +2; Crit: x2; Threat: 2; Spd: 115%;
Desc: "A flame blade is a brilliantly-hot blade composed of
      solidified flame wielded by a skilled druid.";
On Event (16+500), (31+500) {
EActor->IPrint("You dispel the conjured flame-sword.");
EItem->Remove(true);
return 1;
},
32 {
if (EActor->isType((-4)) &&
GetHandle(EActor->m) != ((hObj)0))
{
EActor->IDPrint("","The conjured flame-sword vanishes.");
EActor->Remove(true);
return 1;
}
return 0;
},
(54+500) {
EItem->Remove(true);
return 1;
},
(41+500) {
if (GetHandle(EItem) != ((hObj)0))
if (EItem->iID == $"flame blade;weapon")
e.DType = 1;
},
(14+500) {
EActor->IPrint("You can't put a flame blade in a container.");
return 2;
},
(13+500) {
if (e.EParam != 1 && e.EParam != 2) {
EActor->IPrint("You need to hold the flame blade in your hands, else it will disperse.");
return 2;
}
return 0;
},
163 {
e.nCursed = "";
e.nAppend += XPrint(" (<Num> turn<hText>)",
EActor->GetStatiDur(67), EActor->GetStatiDur(67) == 1 ? "" : "s");
return 0;
};
}


Item "long sword" : 58
{ Image: gray '('; Group: 0x00000008 | 0x00010000;
Mat:11; Size: 4; Weight: 40;
Cost: 10 1; Parry: 3;
SDmg:1d8; LDmg:1d8+1; Acc: +2; Crit: x2; Threat: 2; Spd: 115%;
Flags: 26;
Desc: "A long sword consists of a blade, a cross-guard, a handle  and a
  pommel.  The blade comes in two basic styles, a straight cutting blade and
  a tapered thrusting blade, though both styles can cut and thrust.  The
  cross-guard is generally straight, but it can be curved and it's ends may
  be rounded, spiked or ornate.  A long sword handle has enough space for two
  handed use; it can be waisted and has an oval cross- section.  The pommel
  is a counter weight to the blade and comes in many shapes and sizes.
  Because of this, it can be a formidable weapon in it's own right, when used
  to strike hammer-like blows.";
}

Item "small long sword" : 58
{ Image: gray '('; Group: 0x00000008 | 0x00010000;
Mat:11; Size: 3; Weight: 20;
Cost: 10 1; Parry: 3;
SDmg:1d6; LDmg:1d6+1; Acc: +2; Crit: x2; Threat: 2; Spd: 115%;
Flags: 26;
Desc: "A long sword consists of a blade, a cross-guard, a handle  and a
  pommel.  The blade comes in two basic styles, a straight cutting blade and
  a tapered thrusting blade, though both styles can cut and thrust.  The
  cross-guard is generally straight, but it can be curved and it's ends may
  be rounded, spiked or ornate.  A long sword handle has enough space for two
  handed use; it can be waisted and has an oval cross- section.  The pommel
  is a counter weight to the blade and comes in many shapes and sizes.
  Because of this, it can be a formidable weapon in it's own right, when used
  to strike hammer-like blows.\n
  __This long sword has been made specifically for members of Small races
  to wield -- it is about the size of a short sword, but is balanced to be
  a slashing, rather than a thrusting, weapon.";
}

Item "two-bladed sword" : 58
{ Image: bright gray '('; Group: 0x00000008 | 0x00000002; Parry: 4;
Mat: 11; Size: 5; Weight: 300; Cost: 20 1;
SDmg: 1d8; LDmg: 1d8; Acc: +1; Crit: x2; Threat: 2; Spd: 120%;
Flags: 26, 27, 29; }

Item "bastard sword" : 58
{ Image: gray '('; Group: 0x00000008;
Mat:11; Size: 4; Weight: 100;
Cost: 13 1; Parry: 3;
SDmg:1d10; LDmg:1d12; Acc: +2; Crit: x2; Threat: 2; Spd: 100%;
Flags: 32, 26;
}

Item "greatsword" : 58
{ Image: gray '('; Group: 0x00000008; Parry: +2;
Mat: 11; Size: 5; Weight: 150; Cost: 17 1;
SDmg: 3d4; LDmg: 3d6; Acc: +0; Crit: x2; Threat: 2; Spd: 80%;
Flags: 26, 37, 36;
Desc: "Greatswords were only used by infantrymen and were used against
    pole-arms and axes. To protect the hands from opposing weapons, it
    features a large guard with side rings plus integral parrying hooks
    that allow the blade to be shortened for close range slashing and
    stabbing attacks. The handle is covered with leather
    and is extra long to afford a full two-handed grip.";
}
#line "weapons.irh" 563
Item "fullblade" : 58
{ Image: bright gray '('; Group: 0x00000008 | 0x00000002; Parry: 2;
Mat: 11; Size: 5; Weight: 250; Cost: 20 1;
SDmg: 3d6; LDmg: 3d8; Acc: 0; Crit: x2; Threat: 2; Spd: 75%;
Flags: 26, 36, 37;
Desc: "Originally forged by ogres and hill giants, fullblades are
      a foot and a half longer than even greatswords, and are simply
      too large and heavy to be used by human-sized creatures without
      special training. They have little military or civil application,
      and are rarely seen outside of the adventuring community, where
      heroes continually search for weapons with greater and greater
      killing power to use against primordial horrors."; }

Item "rapier" : 58
{ Image: gray '('; Group: 0x00000004 | 0x00010000;
Mat:11; Size: 4; Weight: 15;
Cost: 10 1; Parry: 6;
SDmg:1d12; LDmg:1d10; Acc: -1; Crit: x2; Threat: 3; Spd: 150%;
Flags: 27, 19, 17, 43;
Desc: "The weapon of choice for nobles, duelests and swashbucklers,
      the rapier is a newer sword with a thin, strong blade that focuses
      on piercing thrusts rather than slashing swings."; }

Item "elven thinblade" : 58
{ Image: bright grey '('; Group: 0x00000004 | 0x00000002 | 0x00010000;
Mat: 17; Size: 4; Weight: 5;
Cost: 18 1; Parry: 6;
SDmg: 1d12; LDmg: 1d10; Acc: -1; Crit: x2; Threat: 3; Spd: 160%;
Flags: 27, 19, 22, 44,
43;

Desc: "The natural evolution of the rapier given the existance of
      extremely strong and light metals like mithril, the elven thinblade
      is a long, needle-like sword that weighs almost nothing, can pass
      through the links of crude chain armor and swings with terrible
      speed. These weapons are uncommon outside the elven
      courts, as they don't tend to stand up well to wear and tear, are
      tremendously expensive and fare poorly against the natural armors
      of creatures that adventurers usually fight."; }

Item "mercurial broadsword" : 58
{ Image: bright gray '('; Group: 0x00000008|0x00000002; Parry: +3;
Mat: 11; Size: 4; Weight: 120; Cost: 13 1;
SDmg: 3d4; LDmg: 3d6; Acc: +2; Crit: x3; Threat: 2; Spd: 80%;
Flags: 26, 28, 39, 36, 38,
33;
Desc: "This weapon was originally developed by gnomes to counter the edge
      that human weapons like the greatsword grant to Medium-sized
      creatures. It is similar in shape to a broadsword,
      but contains a hollow channel within the blade through which
      mercury can flow from a globe mounted in the handle. The
      momentum of the mercury gives it extra force of impact, which
      allows it to approximate the damage of a greatsword, but its
      strange balance makes it an exotic weapon and requires that it
      be wielded two-handed, regardless of the wielder's size.";
}
#line "weapons.irh" 624
Item "dagger" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00000001 | 0x00000100 | 0x00010000;
Mat: 11; Size: 2; Weight: 10;
Cost: 2 1; Parry: 4; Range: 3;
SDmg: 1d4; LDmg: 1d3; Acc: 0; Crit: x2; Threat: 2; Spd: 135%;
Flags: 27, 26, 17, 7;
Desc: "One of the most common weapons in existance. The dagger's
      foot-long blade can be used to slash or pierce, and its easy
      concealability makes it popular with rogues and diplomats."; }

Item "stiletto" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00000100 | 0x00010000;
Mat: 11; Size: 2; Weight: 30;
Cost: 1 1; Parry: 3;
SDmg: 1d6; LDmg: 1d3; Acc: 0; Crit: x3; Threat: 1; Spd: 170%;
Flags: 27, 17, 22, 43;
Desc: "This exceedingly thin blade is most famous for its ability
      to cut through chain armors."; }

Item "main gauche" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00010000;
Mat: 11; Size: 2; Weight: 15;
Cost: 4 1; Parry: 5;
SDmg: 1d4; LDmg: 1d3; Acc: 0; Crit: x2; Threat: 2; Spd: 130%;
Flags: 27, 26, 17, 19;
Desc: "This dagger is designed as an off-hand weapon for a fencer.
      Its special guard and grip make it excelent for parrying and
      disarming."; }

Item "knife" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00000001 | 0x00010000 | 0x00000100;
Mat: 11; Size: 2; Weight: 5; Cost: 1 1; Parry: 0;
SDmg: 1d3; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 2; Spd: 140%;
Flags: 26, 17;
Desc: "A utilitarian weapon, the common war knife is useful for
      many purposes outside of combat."; }

Item "punching dagger" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00010000 | 0x00000002;
Mat: 11; Size: 2; Weight: 12;
Cost: 3 1; Parry: 2;
SDmg: 1d6; LDmg: 1d4; Acc: -1; Crit: x3; Threat: 3; Spd: 140%;
Flags: 27, 17;
Desc: "This dagger is gripped with a closed fist around its H-shaped
      handle and thrust forward. Like the kukri, it originates in far-
      Northern lands, and has only recently become commonly used in the
      Kinlands areas."; }

Item "kukri" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00010000 | 0x00000002;
Mat: 11; Size: 2; Weight: 30; Cost: 3 1; Parry: 3;
SDmg: 1d3; LDmg: 1d2; Acc: +2; Crit: x2; Threat: 3; Spd: 160%;
Flags: 26, 17;
Desc: "This weapon hails from exotic Northern lands, and features
      a blade that slants upward into a large, flat cutting surface.
      It is often used by assasins."; }
#line "weapons.irh" 686
Item "spiked chain" : 58
{ Image: bright blue '{'; Group: 0x00000002|0x00004000;
Mat:11; Size: 4; Weight:30; Cost: 20 1;
Parry: 7; SDmg:2d4; LDmg:2d6; Acc: +3; Crit: x2; Threat: 1; Spd: 100%;
Flags: 20, 18, 26, 23,
35, 34, 21, 33;
Desc: "A length of chain studded with large, wicked blades, 
      the spiked chain is exceedingly lethal -- both to its
      victims and to anyone who has not mastered its use fully.";
}

Item "scourge" : 58
{ Image: blue '{'; Group: 0x00004000 | 0x00000002;
Mat: 7; Size: 4; Weight: 40; Cost: 7 1;
Parry: 5;
SDmg: 1d6; LDmg: 1d6; Acc: +3; Crit: x2; Threat: 1; Spd: 85%;
Flags: 23, 19, 18,
26, 17;
Desc: "The scourge, or cat o' nine tails, in a multi-headed whip
      with hooks or blades mounted along each tail's length. While it
      is commonly viewed as a torturer's weapon, it can also be useful
      on a battlefield. Many demons, such as the dread balors, favor
      this weapon."; }

Item "whip" : 58
{ Image: bright blue '{'; Group: 0x00004000 | 0x00000002;
Mat:7; Size: 3; Weight: 20; Cost: 6 1;
Parry: 5; SDmg:1d4; LDmg:1d1; Acc: +1; Crit: x2; Threat: 1; Spd: 130%;
Flags: 20, 24, 39, 26,
18, 19, 17;
Desc: "This weapon is noted primarily for its ability to cause
      intense pain, and is thus primarily a tool of intimidation...
      but adventurers also find good use from the many tricks that
      can be performed with it."; }

Item "scythe" : 58
{ Image: purple 251; Group: 0x00000008 | 0x00000002;
Mat: 11; Size: 5; Weight: 120; Cost: 8 1;
Parry: 4;
SDmg: 2d6; LDmg: 1d8; Acc: -2; Crit: x4; Threat: 3; Spd: 80%;
Flags: 26, 34, 42, 18,
41;
Desc: "Originally an agricultural implement, the scythe can also be
      a terrifying instrument of war. It is difficult to use effectively,
      but devastating in skilled hands. Druids, and those who kill in
      their service, often favor this weapon."; }

Item "great scythe" : 58
{ Image: bright purple 251; Group: 0x00000008 | 0x00000002;
Mat: 11; Size: 6; Weight: 240; Cost: 36; Parry: 5;
SDmg: 2d8; LDmg: 2d8; Acc: 0; Crit: x4; Threat: 2; Spd: 70%;
Flags: 1, 27, 26, 34, 42,
18, 20, 21, 41;
Desc: "Originally an agricultural implement, the scythe can also be
      a terrifying instrument of war. It is difficult to use effectively,
      but devastating in skilled hands. This particular scythe is 
      unnaturally large."; }

Item "sickle" : 58
{ Image: purple 251; Group: 0x00000001 | 0x00010000;
Mat: 11; Size: 3; Weight: 30; Cost: 5 1;
Parry: 3;
SDmg: 1d6; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 1; Spd: 110%;
Flags: 26, 42;
Desc: "Peasants forced to defend themselves often wield sickles,
      because the tool's importance to farming meant that most such
      families owned one. The weapon also has secret symbolic import
      to the druidic hierarchy."; }

Item "bolas" : 58
{ Image: purple 251; Group: 0x00000002 | 0x00000100;
Mat: 11; Size: 3; Weight: 50; Cost: 8 1;
Range: 3; SDmg: 1d6; LDmg: 1d4; Acc: +1; Crit: x2; Threat: 2; Spd: 70%;
Parry: 0;
Flags: 23, 26, 28, 13,
41, 46;
Desc: "Bolas are sets of three weighted balls tied together with a
      thin, strong, sharp steel wire. Thrown proficiently, they can
      ensnare an opponent in their coils, effectively taking him out
      of the fight."; }

Item "shotput" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00000002;
Mat: 11; Size: 3; Weight: 60; Cost: 11 1;
Range: 2; Parry: 0;
SDmg: 1d10; LDmg: 1d8; Acc: 0; Crit: x3; Threat: 2; Spd: 70%;
Flags: 28, 41, 39, 36, 37,
7;
Desc: "Nothing more then a steel globe the size of a cantelope,
      the shotput is nonetheless a terrifying weapon; in the
      hands of a proficient user, a solid throw can crush flesh and
      bone alike into a fine paste -- its weight puts a terrible
      force behind its impact. Because of the great strength needed
      to throw it effectively, its also gained something of a mystique
      as a legendary hero's weapon in orcish subcultures."; }

Item "fighting stick" : 58
{ Image: purple '|'; Group: 0x00002000;
Mat: 8; Size: 3; Weight: 5; Cost: 8 1;
Parry: +7; SDmg: 1d6; LDmg: 1d4; Acc: +1; Crit: x2; Threat 1; Spd: 130%;
Flags: 19, 39, 28; Desc: "Traditionally dual-wielded in pairs of two, the fighting
      sticks are signature weapons of the monk tradition. They are
      short and thin -- about a foot and a half long each -- and
      seem deceptively harmless to those not trained in their use."; }

Item "nunchaku" : 58
{ Image: purple 251; Group: 0x00002000;
Mat: 8; Size: 3; Weight: 20; Cost: 10 1;
Parry: +5; SDmg: 1d6; LDmg: 1d4; Acc: +1; Crit: x2; Threat: 2; Spd: 160%;
Flags: 28, 19;
Desc: "Two short wooden sticks connected by a chain or rope, the
      nunchaku are a weapon favored by some monkish orders, and almost
      nobody else."; }

Item "chakram" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00002000;
Mat: 11; Size: 3; Weight: 30; Cost: 13 1;
Range: 3; Parry: 1;
SDmg: 1d8; LDmg: 1d6; Acc: 0; Crit: x3; Threat: 2; Spd: 115%;
Flags: 26, 40, 34, 46;
Desc: "The chakram is a hollow circular disc with a bladed edge,
      often with a stylized grip bar running through the center. It
      is used by certain monk groups, tribes in Ahavdi Dih and many
      assasins' guilds."; }

Item "boomerang" : 58
{ Image: brown 251; Group: 0x00000100 | 0x00000002;
Mat: 8; Size: 3; Weight: 15; Cost: 2 1;
Range: 6; Parry: 0;
SDmg: 1d6; LDmg: 1d4; Acc: +2; Crit: x2; Threat: 2; Spd: 100%;
Flags: 28, 40, 46;
Desc: "The boomerang is a curved wooden throwing instrument
      designed for blunt impact; the lizardfolk are known to
      favor their use."; }

Item "sap" : 58
{ Image: brown 251; Group: 0x00000002 | 0x00000001 | 0x00010000;
Mat: 8; Size: 2; Weight: 20; Cost: 6 1;
Parry: 2;
SDmg: 1d4; LDmg: 1d2; Acc: -2; Crit: x2; Threat: 1; Spd: 60%;
Flags: 28;
Desc: "A tiny weighted bag or shaped piece of wood, the sap is
      intended for attacking from surprise, and has the potential
      to render a humanoid target unconscious in a single shot.
      (The victim must make a Fortitude save to resist being knocked
      out is attacked by surprise or while flat-footed.)";
On Event (20+1000) {
int32 SaveDC;
if (EVictim->HasMFlag(1) && EVictim->isMType(91))
if (EActor->WepSkill($"sap") >= 1)
if ((e.isFlanking || e.isFlatFoot || e.isSurprise) && !e.Died)
{
SaveDC = 15 + EActor->GetBAB(2) + EActor->Mod(0);
if (EVictim->SavingThrow(0,SaveDC,0x00000008))
return 0;
VPrint(e,"The world reels...",
"The <EVictim> collapses unconscious!");

EVictim->GainTempStati(7, NULL,4d8,7,5);
}
return 0;
};
}

Item "hunga-munga" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00002000;
Mat: 11; Size: 4; Weight: 60; Cost: 10 1;
Range: 2; Parry: 2;
SDmg: 1d10; LDmg: 1d8; Acc: +2; Crit: x2; Threat: 2; Spd: 95%;
Flags: 26, 27, 36;
Desc: "This triple-pronged throwing knife resembles a giant
      shuriken, with parallel blades around a balanced center.
      It originated in Angla Maua as a hunting weapon, but it has
      since found popularity with several monkish orders in the
      Kinlands."; }

Item "siangham" : 58
{ Image: purple 251; Group: 0x00002000 | 0x00010000;
Mat: 11; Size: 3; Weight: 10; Cost: 6 1;
Parry: +3;
SDmg: 1d6; LDmg: 1d4; Acc: +2; Crit: x2; Threat: 1; Spd: 120%;
Flags: 27, 19; }

Item "shuriken" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00002000;
Mat: 11; Size: 2; Weight: 1; Cost: 4 1;
Range: 4; Parry: 0;
SDmg: 1d2; LDmg: 1d1; Acc: -1; Crit: x3; Threat: 3; Spd: 175%;
Flags: 27, 43, 17, 34,
8, 46;
Desc: "Shuriken, or throwing stars, are tiny, symmetical bladed
      stars or discs that can be thrown extremely rapidly. Because
      they are so light, they have little force of impact and do not
      carry through the power of the thrower's strength; however, they
      are an ideal method for delivering poison, due to their speed.
      Shuriken thus have a cultural association with assasins and
      assasination."; }

Item "tiger claws" : 58
{ Image: purple 251; Group: 0x00000001 | 0x00002000 | 0x00010000;
Mat: 11; Size: 2; Weight: 4; Cost: 6 1;
Parry: 1;
SDmg: 1d6; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 2; Spd: 120%;
Flags: 26, 17, 13;
Desc: "Similar in make to contemporary brass knuckles, but
      with inch-long curved blades sprouting from each 'knuckle',
      these weapons are favored by theieves and assasins because
      their small size makes it easy to get them into places
      where weapons aren't supposed to be."; }

Item "rock" : 58
{ Image: brown '*'; Group: 0x00000001 | 0x00000100; Range: 1;
Mat: 28; Size: 2; Weight: 1; Cost: 0; Parry: 1;
SDmg: 1d6; LDmg: 1d2; Acc: -1; Crit: x2; Threat: 2; Spd: 90%;
Flags: 28, 8;
Desc: "A chunk of unworked rock.";
}
#line "weapons.irh" 911
Item "long bow" : 24
{
Image: green ')';
Mat: 8;
SDmg: 1d8;
LDmg: 1d4;
Range: 10; Speed: 150%;
Crit: x3; Threat: 3;
Weight: 30; Group: 0x00000020;
Fires: $"sheaf arrow", $"flight arrow";
Size: 5;
Flags: 33, 43, 27, 42,
46, 27;
Desc: "The long bow is favored by elven warriors for its simplicity,
      power and easy creation. It is also the staple of many of the less
      funded units of the Great Empire's armies.";
#line "weapons.irh" 929
}

Item "short bow" : 24
{
Image: green ')';
Mat: 8;
SDmg: 1d6;
LDmg: 1d3;
Range: 7; Speed: 165%;
Crit: x3; Threat: 3;
Weight: 20; Group: 0x00000020;
Fires: $"sheaf arrow", $"flight arrow";
Size: 4;
Flags: 33, 43, 46, 27;
Desc: "The short bow is lighter and slightly faster then the long bow,
      but not nearly as powerful. However, its primary advantage is that
      it is maneuverable enough to use effectively while mounted. It is
      thus also known as the cavalry bow or horseman's bow.";
}


Item "sheaf arrow" : 45
{
Image: green 24; Group: 0x00000020;
Mat: 8; Size: 3; Weight: 0; Cost: 5 4;
SDmg: 0d0+1; LDmg: 0d0+1; Acc: -1; Range: -2;
Flags: 8, 27;
Desc: "These arrows have sharp, barbed heads. Their range and
      accuracy is not as good as that of flight arrows, but they
      increase damage inflicted by +1.";
}

Item "flight arrow" : 45
{
Image: green 24; Group: 0x00000020;
Mat: 8; Size: 3; Weight: 0; Cost: 3 4;
SDmg: 0d0; LDmg: 0d0; Acc: 0; Range: 0;
Flags: 8, 27;
Desc: "These arrows are longer, thinner and more aerodynamic. 
      Their range and accuracy is greater than that of a sheaf
      arrow.";
}

Item "arbalest" : 24
{
Image: green ')'; Group: 0x00000001 | 0x00000020; Range: 12;
Mat: 8; Size: 4; Weight: 20; Cost: 35;
SDmg: 1d10; LDmg: 1d4; Acc: +4; Crit: x5; Threat: 3; Spd: 135%;
Flags: 33, 30, 22, 43,
46, 27;
Fires: $"crossbow bolt";
Desc: "The arbalest, or light crossbow, is the favoured weapon of city
      militia everywhere -- it's accurate, easy to use and among the most
      lethal weapons known. Skilled adventurers, however, often favour the
      more conventional bows, because the slow reload time that crossbows
      have can be a great weakness in a dungeon setting. Dwarves and gnomes
      tend to favour these weapons, while elves cleave to more traditional
      archery and look on crossbows with distaste.";
}

Item "cranquin" : 24
{
Image: bright green ')'; Group: 0x00000002; Range: 14;
Mat: 8; Size: 4; Weight: 40; Cost: 35;
SDmg: 1d12; LDmg: 1d8; Acc: +5; Crit: x5; Threat: 3; Spd: 135%;
Flags: 33, 30, 22, 43,
46, 27, 39;
Fires: $"crossbow bolt";
Desc: "The cranquin, or heavy crossbow, is a crank-operated miniature
      ballista favored by dwarven and orcish militaries. It is rather
      difficult for a single person to reload, and is a large and awkward
      weapon in general, which explains why it is considered an exotic
      weapon. Skilled adventurers often favour the more conventional bows, 
      because the slow reload time that crossbows have can be a great weakness 
      in a dungeon setting. Dwarves and gnomes tend to favour these weapons, 
      while elves cleave to more traditional archery and look on crossbows 
      with distaste.";
}

Item "hand crossbow" : 24
{
Image: bright purple ')'; Group: 0x00000002; Range: 8;
Mat: 17; Size: 2; Weight: 10; Cost: 1000;
SDmg: 1d6; LDmg: 1d3; Acc: +5; Crit: x3; Threat: 3; Spd: 135%;
Flags: 44, 30, 22, 43,
42, 46, 27, 17;
Fires: $"hand crossbow dart";
Desc: "This weapon was created by the drow, and is only superficially
      similar to the human crossbows. It is an intricate mechanism that
      projects a tiny metal dart at high speeds; as an assasin's weapon,
      it lacks the power of normal crossbows, but its bolts are often
      coated with drow sleep poison. Because it has many precision parts
      that must stand up under stress, it must be made from mithril,
      making it a terribly expensive weapon.";
}

Item "hand crossbow dart" : 45
{
Image: bright purple 24; Group: 0x00000001;
Mat: 11; Size: 2; Weight: 0; Cost: 1 3;
SDmg: 0d0; LDmg: 0d0; Acc: 0; Range: 0;
Flags: 8, 44, 27, 1;
Desc: "This bolt is thin, sharp and not longer then three inches. It
      is often coated with some type of poison.";
}


Item "crossbow bolt" : 45
{
Image: green 24; Group: 0x00000001;
Mat: 11; Size: 2; Weight: 0; Cost: 1 3;
SDmg: 0d0; LDmg: 0d0; Acc: 0; Range: 0;
Flags: 8, 27;
Desc: "A simple, pointed metal shaft. It can be fired from either a
      arbalest (light crossbow) or cranquin (heavy crossbow).";
}

Item "javelin" : 58
{ Image: green 251; Group: 0x00000100|0x00000400; Range: 3;
Mat: 11; Size: 5; Weight: 5; Cost: 1 1;
SDmg: 1d6; LDmg: 1d6; Acc: -1; Crit: x2; Threat: 2; Spd: 90%;
Flags: 27, 42, 46, 7;
Desc: "The javelin is a light spear designed purely for throwing.
      It cannot be used effectively as a melee weapon."; }

Item "blowpipe" : 24
{
Image: green ')';
Mat: 8;
SDmg: 0d0+3;
LDmg: 0d0+3;
Range: 5; Speed: 200%; Acc: +2;
Crit: x2; Threat: 2;
Weight: 10; Group: 0x00000020;
Fires: $"dart";
Size: 3;
Flags: 43, 27, 42, 46;
Desc: "The blowpipe provides a method of rapidly delivering darts at a
      longer range. It is favored in Angla Maua, especially in conjunction
      with poisoned darts, but is often rejected in favor of the bow or
      arbalest in the rest of Therya.";
}

Item "dart" : 45
{ Image: green 24; Group: 0x00000001 | 0x00000100; Range: 2;
Mat: 11; Size: 2; Weight: 0; Cost: 0;
SDmg: 1d3; LDmg: 1d4; Acc: 0; Crit: x2; Threat: 2; Spd: 150%;
Flags: 27, 46, 8;
Desc: "The dart is a simple missile weapon. It may be thrown or
    launched with a blowpipe.";
}

Item "boulder" : 58
{ Image: brown '*'; Group: 0x00000001 | 0x00000100; Range: 2;
Mat: 28; Size: 5; Weight: 4000;
Cost: 0; Parry: 1;
SDmg: 2d10; LDmg: 2d8; Acc: 0; Crit: x3; Threat: 2; Spd: 70%;
Flags: 28, 41, 39, 36, 37, 1;
Desc: "A huge stone boulder.";
}

Item "sling" : 24
{
Image: green ')';
Mat: 8;
SDmg: 1d6;
LDmg: 1d2;
Range: 5;
Crit: x3; Threat: 1;
Weight: 2; Group: 0x00000100, 0x00000001;
Fires: $"sling stone";
Size: 3;
Flags: 39, 24, 46;
Desc: "Slings are often associated with peasants and halflings,
      but despite their mundanity they can be deadly weapons in the
      hands of a crack shooter.";
}

Item "sling stone" : 45
{
Image: green '*'; Group: 0x00000100;
Mat: 28; Size: 1; Weight: 0; Cost: 5 4;
Flags: 8;
Desc: "This tiny rock has a surprising weight for its size, and
      has been carefully smoothed down to fly straight.";
}
#line "weapons.irh" 1121
Item "padded armor" : 21
{
Image: white 228; Cost: 5;
Mat: 6; Weight: 100;
Arm: Slash 2, Pierce 1, Blunt 3;
Coverage: 8; Penalty: -1;
Group: 0x20000000; Flags: 13;
}

Item "cord armor" : 21
{
Image: blue 228; Cost: 7;
Mat: 7; Weight: 120;
Arm: Slash 3, Pierce 1, Blunt 2;
Coverage: 6; Penalty: -2;
Group: 0x20000000; Flags: 13;
}

Item "bonemail armor" : 21
{
Image: white 228; Cost: 9;
Mat: 9; Weight: 150;
Arm: Slash 3, Pierce 2, Blunt 1;
Coverage: 8; Penalty: -1;
Group: 0x20000000; Flags: 13;
}

Item "leather armor" : 21
{
Image: brown 228; Cost: 10;
Mat: 7; Weight: 150;
Arm: Slash 3, Pierce 1, Blunt 3;
Coverage: 8; Penalty: -2;
Group: 0x20000000; Flags: 13;
}

Item "bark armor" : 21
{
Image: green 228; Cost: 5;
Mat: 8; Weight: 150;
Arm: Slash 3, Pierce 3, Blunt 3;
Coverage: 9; Penalty: -4;
Group: 0x20000000; Flags: 13;
}

Item "studded leather" : 21
{
Image: brown 228; Cost: 25;
Mat: 7; Weight: 200;
Arm: Slash 3, Pierce 4, Blunt 4;
Coverage: 8; Penalty: -4;
Group: 0x20000000; Flags: 13;
}

Item "coat of plates" : 21
{
Image: cyan 228; Cost: 35;
Mat: 11; Weight: 250;
Arm: Slash 5, Pierce 2, Blunt 2;
Coverage: 7; Penalty: -1;
Group: 0x20000000;
}

Item "chainmail shirt" : 21
{
Image: cyan 228; Cost: 100;
Mat: 11; Weight: 250;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 5; Penalty: -5;
Group: 0x20000000;
}

Item "hide armor" : 21
{
Image: blue 228; Cost: 15;
Mat: 7; Weight: 250;
Arm: Slash 4, Pierce 5, Blunt 5;
Coverage: 8; Penalty: -5;
Group: 0x40000000; Flags: 13;
}

Item "ring mail" : 21
{
Image: red 228; Cost: 40;
Mat: 11; Weight: 250;
Arm: Slash 4, Pierce 4, Blunt 2;
Coverage: 9; Penalty: -3;
Group: 0x40000000; Flags: 13;
}

Item "scale mail" : 21
{
Image: red 228; Cost: 50;
Mat: 11; Weight: 300;
Arm: Slash 4, Pierce 5, Blunt 4;
Coverage: 10; Penalty: -4;
Group: 0x40000000; Flags: 13;
}

Item "brigandine" : 21
{
Image: red 228; Cost: 60;
Mat: 11; Weight: 300;
Arm: Slash 5, Pierce 5, Blunt 3;
Coverage: 10; Penalty: -6;
Group: 0x40000000; Flags: 13;
}

Item "chainmail" : 21
{
Image: cyan 228; Cost: 150;
Mat: 11; Weight: 400;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 10; Penalty: -7;
Group: 0x40000000; Flags: 13;
}

Item "chainmail hauberk" : 21
{
Image: cyan 228; Cost: 125;
Mat: 11; Weight: 400;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 7; Penalty: -3;
Group: 0x40000000;
}


Item "breastplate" : 21
{
Image: purple 228; Cost: 200;
Mat: 11; Weight: 300;
Arm: Slash 12, Pierce 8, Blunt 6;
Coverage: 5; Penalty: -6;
Group: 0x40000000;
}

Item "augmented mail" : 21
{
Image: red 228; Cost: 250;
Mat: 11; Weight: 500;
Arm: Slash 9, Pierce 6, Blunt 5;
Coverage: 10; Penalty: -6;
Group: 0x40000000; Flags: 13;
}



Item "splint mail" : 21
{
Image: red 228; Cost: 200;
Mat: 11; Weight: 450;
Arm: Slash 6, Pierce 7, Blunt 9;
Coverage: 10; Penalty: -7;
Group: 0x80000000; Flags: 13;
}

Item "banded mail" : 21
{
Image: red 228; Cost: 200;
Mat: 11; Weight: 350;
Arm: Slash 11, Pierce 7, Blunt 9;
Coverage: 10; Penalty: -8;
Group: 0x80000000; Flags: 13;
}

Item "plate mail" : 21
{
Image: purple 228; Cost: 600;
Level: 3;
Mat: 11; Weight: 450;
Arm: Slash 12, Pierce 8, Blunt 8;
Coverage: 10; Penalty: -7;
Group: 0x80000000; Flags: 13;
}

Item "field plate armor" : 21
{
Level: 4;
Image: bright purple 228; Cost: 1500;
Mat: 11; Weight: 500;
Arm: Slash 13, Pierce 9, Blunt 8;
Coverage: 10; Penalty: -9;
Group: 0x80000000; Flags: 13;
}

Item "full plate armor" : 21
{
Level: 5;
Image: bright purple 228; Cost: 5000;
Mat: 11; Weight: 600;
Arm: Slash 15, Pierce 13, Blunt 8;
Coverage: 10; Penalty: -8;
Group: 0x80000000; Flags: 13;
}

Item "lamellar armor" : 21
{
Image: brown ']';
Mat: 11; Weight: 250;
Arm: Slash 5, Pierce 6, Blunt 7;
Coverage: 10; Penalty: -6;
Group: 0x80000000; Flags: 13;
}

Item "hard steel cap" : 41
{
Image: yellow 155;
Mat: 11; Weight: 30;
Coverage: 2; Penalty: -2;
Group: 0x40000000;
}

Item "cured leather boots" : 23
{
Image: white 224;
Mat: 7; Weight: 10;
Coverage: 1; Group: 0x20000000;
Flags: 13;
}
#line "weapons.irh" 1355
Item "giant shield" : 51
{
Image: pink ']'; Group: 0x10000000 | 0x00000002;
Mat: 11; Weight: 1000; Size: 6;
Flags: 1;
Desc: "This huge shield is essentially a tower shield for giantkin. 
      Human-sized creatures cannot hope to wield it effectively.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "tower shield" : 51
{
Image: red ']'; Mat: 11; Weight: 400; Size: 5;
Group: 0x10000000;
Desc: "This large shield is essentially portable hard cover for
      human-sized creatures. It is large enough to fully obscure a
      human-sized being and completely negate many attacks, but its size
      can be quite a burden.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "kite shield" : 51
{
Image: cyan ']';
Mat: 11; Weight: 150; Size: 4;
Group: 0x10000000;
Desc: "The kite shield is what most people envision when
      they think of a medieval knight's shield: a large square
      that slopes to a point at the bottom, about three feet
      long and a foot and a half wide. 
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "small shield" : 51
{
Image: white ']';
Mat: 11; Weight: 50; Size: 3;
Group: 0x10000000;
Desc: "The common small shield is larger than a buckler but
           smaller than a kite shield. 
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "buckler;leather" : 51
{
Image: brown ']';
Mat: 7; Weight: 5; Size: 2;
Group: 0x10000000|0x00000001;
Desc: "The buckler is the smallest possible shield, and is
      usually worn strapped to one arm. It's only about a foot
      in diameter, and is made of wood or cured leather.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "buckler;wooden" : 51
{
Image: green ']';
Mat: 8; Weight: 5; Size: 2;
Group: 0x10000000|0x00000001;
Desc: "The buckler is the smallest possible shield, and is
      usually worn strapped to one arm. It's only about a foot
      in diameter, and is made of wood or cured leather.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}
#line "m_items.irh" 42
35 Effect "Manual of Gainful Exercise" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 50
EActor->GainInherantBonus(0,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This ancient tome contains descriptions of mystical
		  exercises capable of bestowing upon the reader supernatural
			strength.";
}

35 Effect "Treatise of Efficious Celerity" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 69
EActor->GainInherantBonus(1,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This tome documents arcane rites and rituals that may
		  be used to supernaturally augment a character's natural
			reflexes and agility.";
}

35 Effect "Libram of Bodily Health" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 88
EActor->GainInherantBonus(2,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This libram describes an esoteric process by which a
		  person can acquire supernatural, inherant toughness and
			health.";
}

35 Effect "Clear Thought" : 46
{ Flags: 44;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 107
EActor->GainInherantBonus(3,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "The mental transfigurations described in this manual
		  allow the reader to augment his intellect, sometimes to a
			superhuman degree.";
}

35 Effect "Treatise of Revealed Enlightenment" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 126
EActor->GainInherantBonus(4,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This book of haikus and metaphors is said to alter the
		  reader's outlook on the world, improving their perrception,
			willpower and understanding of spiritual matters.";
}

35 Effect "Leadership and Influence" : 46
{ Flags: 44;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 145
EActor->GainInherantBonus(5,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "Penned by a long-forgotten general, this book describes
		  supernatural rites to permanently augment the reader's force
			of personality and magnetic presence.";
}

35 Effect "Manual of Fortuitous Methodology" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 164
EActor->GainInherantBonus(6,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This manual describes the art of geomancy -- moving in
		  line with the unseen currents of the universe in order to
			attain good fortune and serendipity. Reading it will permanantly
			better a character's luck.";
}
#line "m_items.irh" 178
33
Effect "Giant Strength" : 2
{ xval: 106; yval: 0; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This augments a wearer's strength, granting him a 
           magic bonus to his Strength score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 186
7
Effect "Ogre Power" : 2
{ xval: 114; yval: 0; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This augments a wearer's strength, granting him a 
           morale bonus to his Strength score, but also a 
           commensurate morale penalty to his Intelligence
           score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 196
and 2
{ xval: 114; yval: 3;
On Event (28+500) {
if (e.efNum == 1)
e.vDmg = -(EItem->GetPlus());
return 0;
};
}
10
Effect "Might" : 2
{ xval: 106; yval: 0; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This augments a wearer's strength, granting him a 
           magic bonus to his Strength score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 213
7
Effect "Gloves of Dexterity" : 2
{ xval: 106; yval: 1; pval: -93;
Flags: 44, 20; 0x00000080; Level: -92;
Desc: "This bestows preternatural grace and agility
      when worn, improving the wearer's Dexterity through a magic
      bonus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 );
#line "m_items.irh" 222
Constants:
* 101 $"gloves";
}
10
Effect "Graceful Motion" : 2
{ xval: 106; yval: 1; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This bestows preternatural grace and agility
      when worn, improving the wearer's Dexterity through a magic
      bonus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 234
13
Effect "the Dancer" : 2
{ xval: 106; yval: 1; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This bestows preternatural grace and agility
      when worn, improving the wearer's Dexterity through a magic
      bonus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 244
10
Effect "Health" : 2
{ xval: 106; yval: 2; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This grants its bearer a supernatural resilience,
      improving her Constitution with a magic bonus equal in magnitude
      to its own plus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 253
33
Effect "Tenacity" : 2
{ xval: 106; yval: 2; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This grants its bearer a supernatural resilience,
      improving her Constitution with a magic bonus equal in magnitude
      to its own plus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 263
14 Effect "Periapt of Wisdom" : 2
{ xval: 106; yval: 4; pval: -93;
Flags: 44, 20; 0x00000200; Level: -92;
Desc: "This item mystically augments a wearer's willpower,
      perception and spiritual consciousness, granting her a magic
      bonus to her Wisdom score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 271
27 Effect "Heartstone" : 2
{ xval: 106; yval: 4; pval: -93;
Flags: 44, 20; 0x00000200; Level: -92;
Desc: "This item mystically augments a wearer's willpower,
      perception and spiritual consciousness, granting her a magic
      bonus to her Wisdom score.";
Lists:
* 25 ( (1000 * 150) / 200 ) ( (4000 * 150) / 200 ) ( (8000 * 150) / 200 ) ( (16000 * 150) / 200 ) ( (32000 * 150) / 200 ) ( (64000 * 150) / 200 ); }
#line "m_items.irh" 279
37 Effect "Mystic Insight" : 2
{ xval: 106; yval: 4; pval: -93;
Flags: 44; 0x00000200; Level: -92;
Desc: "This item mystically augments a wearer's willpower,
      perception and spiritual consciousness, granting her a magic
      bonus to her Wisdom score.";
Lists:
* 25 ( (1000 * 120) / 200 ) ( (4000 * 120) / 200 ) ( (8000 * 120) / 200 ) ( (16000 * 120) / 200 ) ( (32000 * 120) / 200 ) ( (64000 * 120) / 200 ); }
#line "m_items.irh" 288
34 Effect "Intellect" : 2
{ xval: 106; yval: 3; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item increases a wearer's intellect and mental
      prowess, granting her a magic bonus to Intelligence equal to
      its enchantment level.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 296
27 Effect "Mindstone" : 2
{ xval: 106; yval: 3; pval: -93;
Flags: 44, 20; 0x00000008; Level: -92;
Desc: "This item increases a wearer's intellect and mental
      prowess, granting her a magic bonus to Intelligence equal to
      its enchantment level.";
Lists:
* 25 ( (1000 * 150) / 200 ) ( (4000 * 150) / 200 ) ( (8000 * 150) / 200 ) ( (16000 * 150) / 200 ) ( (32000 * 150) / 200 ) ( (64000 * 150) / 200 ); }
#line "m_items.irh" 304
37 Effect "the Scholar" : 2
{ xval: 106; yval: 3; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item increases a wearer's intellect and mental
      prowess, granting her a magic bonus to Intelligence equal to
      its enchantment level.";
Lists:
* 25 ( (1000 * 120) / 200 ) ( (4000 * 120) / 200 ) ( (8000 * 120) / 200 ) ( (16000 * 120) / 200 ) ( (32000 * 120) / 200 ) ( (64000 * 120) / 200 ); }
#line "m_items.irh" 313
29 Effect "Charisma" : 2
{ xval: 106; yval: 5; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item evokes a supernatural aura of awe, composure
      and affiability around its wearer, effectively giving him a
      magic bonus to his Charisma score.";
Lists:
* 25 ( (1000 * 80) / 200 ) ( (4000 * 80) / 200 ) ( (8000 * 80) / 200 ) ( (16000 * 80) / 200 ) ( (32000 * 80) / 200 ) ( (64000 * 80) / 200 ); }
#line "m_items.irh" 321
8 Effect "Majesty" : 2
{ xval: 106; yval: 5; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item evokes a supernatural aura of awe, composure
      and affiability around its wearer, effectively giving him a
      magic bonus to his Charisma score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 329
37 Effect "the Courtesan" : 2
{ xval: 106; yval: 5; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item evokes a supernatural aura of awe, composure
      and affiability around its wearer, effectively giving him a
      magic bonus to his Charisma score.";
Lists:
* 25 ( (1000 * 120) / 200 ) ( (4000 * 120) / 200 ) ( (8000 * 120) / 200 ) ( (16000 * 120) / 200 ) ( (32000 * 120) / 200 ) ( (64000 * 120) / 200 ); }
#line "m_items.irh" 339
27 Effect "Luckstone" : 2
{ xval: 106; yval: 6; pval: -93;
Flags: 44, 20; 0x00000100; Level: -92;
Desc: "When carried, this item bestows
      good luck upon its wielder in the form of a magic bonus to
      his Luck score.";
Lists:
* 25 ( (1000 * 150) / 200 ) ( (4000 * 150) / 200 ) ( (8000 * 150) / 200 ) ( (16000 * 150) / 200 ) ( (32000 * 150) / 200 ) ( (64000 * 150) / 200 ); }
#line "m_items.irh" 347
13 Effect "Good Fortune" : 2
{ xval: 106; yval: 6; pval: -93;
Flags: 44; 0x00000100; Level: -92;
Desc: "When carried or worn, this item bestows
      good luck upon its wielder in the form of a magic bonus to
      his Luck score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 355
9 Effect "Providence" : 2
{ xval: 106; yval: 6; pval: -93;
Flags: 44; 0x00000100; Level: -92;
Desc: "When carried or worn, this item bestows
      good luck upon its wielder in the form of a magic bonus to
      his Luck score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 364
9 Effect "the Druid;boots" : 2
{ 0x00000100; xval: 39; yval: 110;
Level: 3;
Desc: "These boots allow the wearer to walk through webbing, trees,
    brimstone and other troublesome terrain without ill effect. In
    addition, they make you inoffensive to sylvan creatures";
Lists:
* 25 6000; }
and 2 { xval: 214; yval: 81; }
#line "m_items.irh" 379
35 Effect "Libram of Hidden Secrets" : 46
{ Flags: 20;
Purpose: 0x00010; Level: 5;
On Event 28 {
if (!EActor->HasStati(101)) {
EActor->GainPermStati(101,EActor,5,1,1,
$"Libram of Hidden Secrets",5);
EActor->IPrint("You now understand how to see the unseen!");
} else if (!EActor->HasAbility(57)) {
EActor->GainAbility(57,1,$"Libram of Hidden Secrets",1);
EActor->IPrint("Your eyes pierce the fog of the natural world!");
} else {
EActor->IPrint("You feel your potential expand!");
EActor->GainFeat(0,0);
}
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This tome documents arcane rites and rituals that may
          be used to supernaturally augment a character's natural
          vision or talents: after reading it the unseen will become canny,
          the shrouded will be made plain, and the technique of the master
          will become commonplace. Subsequent readings will reveal
          additional truths.";
}
#line "m_items.irh" 439
9 Effect "the Winterlands" : 2
{ 0x00000001;
xval: 104; yval: 2; pval: -91; Flags: 44;
Level: -92;
Desc: "This renders you (and your mount) immune to slipping on
    ice, and gives you three levels of cold resistance per magical plus
    they are enchanted with."; }

14 Effect "Ice" : 2
{ 0x00000001; 0x00000100;
xval: 104; yval: 2; pval: -91; Flags: 44;
Level: -92;
Desc: "Only thirteen of these ancient amulets are known to exist.
      Wearing one increases the caster level of all the bearer's cold-
      based spells by its magical plus, and also grants three levels
      of cold resistance per magical plus."; }
and 2
{ xval: 152; yval: 0x00000800; pval: -93; }

10 Effect "the Inferno" : 2
{ 0x00000001; xval: 104; yval: 1; pval: -90;
Flags: 44; Level: -92;
Desc: "This bestows upon its wearer 4 points of fire
      resistance for every magical plus it is imbued with and allows you
      (and your mount) to travel safely over fiery terrain."; }

13 Effect "Fire Resistance" : 2
{ 0x00000001; xval: 104; yval: 1; pval: -91;
Flags: 44; Level: -92;
Desc: "This ring makes its wearer supernaturally resistant to heat
      and fire, granting her a fire resistance of 3 points per magical
      plus, and allowing her (and her mount) to cross over fiery terrain
      safely."; }

33 Effect "Surtur" : 2
{ 0x00000001; 0x00000008; xval: 104; yval: 1; pval: -91;
Flags: 44, 49, 76; Level: -91;
Desc: "This magical belt renders its wearer resistant to flame,
      granting three levels of fire resistance per magical plus. Further,
      it allows the wearer to mentally dominate all fire creatures within
      80 feet whose CR is lower than twice its magical plus when it is 
      activated, up to three times per day."; }
and 3
{ xval: 137; yval: 4;
aval: 11; cval: 4; lval: 8;
On Event 155 {
if (e.efNum == 1) {
if (EVictim->isMType(95))
if (EVictim->ChallengeRating() <= EItem->GetPlus() * 2)
return 0;
return 1;
}
return 0;
};
}

14 Effect "Bile" : 2
{ 0x00000001; xval: 104; yval: 3; pval: -90;
Flags: 44; Level: -92;
Desc: "This bestows an acid and disease resistance of 4 per level of
      enchantment it possesses on its wearer."; }
and 2
{ xval: 104; yval: 27; pval: -90; }

13 Effect "Acid Warding" : 2
{ 0x00000001; xval: 104; yval: 3; pval: -90;
Flags: 44, 56; Level: -92;
Desc: "This ring protects its wearer from acid damage, granting four
      levels of acid resistance per magical plus. However, the ring carries
      a potent weakness compared to similar items: if the wearer ever deals
      acid damage herself, it will shatter. This is a good-aligned item,
      forged on the principle that acid is a horrific form of attack that
      causes exceptional pain and mutilates its victims."; }
and 2
{ xval: 79; yval: (41+500);
On Event ((41+500)+10000) {
hObj hRing;
if (GetHandle(EActor) == GetHandle(EVictim))
return 0;
if (e.DType == 3) {
hRing = EActor->GetEffStatiObj(104, $"Acid Warding");
if (hRing == ((hObj)0))
return 0;
EActor->IDPrint("Your <hObj2> shatters!",
"The <hObj>'s <hObj2> shatters!", EActor, hRing);
hRing->Remove(true);


hRing = EActor->GetEffStatiObj(104, $"Acid Warding");
if (hRing == ((hObj)0))
return 0;
EActor->IDPrint("Your <hObj2> shatters!",
"The <hObj>'s <hObj2> shatters!", EActor, hRing);
hRing->Remove(true);
}
return 0;
};
}

13 Effect "Brass and Glass" : 2
{ (0x00000010 | 0x00000001); xval: 104; yval: 4; pval: -91;
qval: 0x0001 | 0x0004; }
and 1
{ xval: 4; pval: (-92)d8; aval: 1;
sval: 1; Flags: 11, 49, 44, 76;
On Event 200 "ball lightning"; Purpose: 0x00001;
Level: -92; cval: 14;
Desc: "This item has a dual effect, granting you lightning resistance
      equal to thrice its magical plus, and allowing you to project blasts
      of ball lightning (which inflict 2d8 per plus) when it is activated."; }

33 Effect "the Stormlord" : 2
{ 0x00000001; xval: 104; yval: 4; pval: -91;
Flags: 44; Level: -91; }
and 2
{ xval: 104; yval: 10; pval: -91;
Desc: "This magical belt gives the wearer authority over storms, granting
      her three levels magical resistance to thunder and lightning (i.e., 
      electrical and sonic damage) for every magical plus."; }

14 Effect "Periapt of Proof against Poisons" : 2
{ 0x00000001; xval: 123; yval: 8; pval: -92; }
and 2
{ xval: 104; yval: 5; pval: -90;
Flags: 44, 20; Level: -92;
Desc: "This item protects its wearer from toxins, granting a +2
      magic bonus to saving throws versus poison and 4 points of
      toxic damage resistance per magical plus it possesses."; }

8 Effect "Clear Sound" : 2
{ 0x00000001; xval: 104; yval: 10; pval: -90;
Flags: 44; Level: -92;
Desc: "This item grants the wearer resistance to sonic damage 
            and confusion effects equal to its magical bonus multipled by
            four."; }
and 2
{ 0x00000001; xval: 123; yval: 13; pval: -90; }

38 Effect "Musical Defense" : 2
{ 0x00000001; xval: 104; yval: 10; pval: -91;
Flags: 44; Level: -92;
Desc: "This magical instrument grants its bearer protection from
      sound-based attacks -- three levels of sonic resistance per
      magical plus it possesses. In the hands of a character with
      three or more bard levels, it also adds its magical plus to 
      all saving throws against spells."; }
and 2
{ xval: 123; yval: 16; pval: -93;
On Event 28 {
if (e.efNum == 1 && !e.isRemove) {
if (EActor->ItemPrereq((rID)($"bard"),3,15))
return 0;
return 1;
}
return 0;
};
Constants:
* 101 $"mandolin";
}
#line "m_items.irh" 608
Effect "quality::light fortification" : 2
{ xval: 129; pval: 25; }

Effect "quality::medium fortification" : 2
{ xval: 129; pval: 50; }

Effect "quality::heavy fortification" : 2
{ xval: 129; pval: 75; }

Effect "quality::auspicious" : 2
{ xval: 120; yval: 52; pval: -93; }

Effect "quality::rapid healing" : 2
{ 0x00000080; xval: 39; yval: 66; pval: -93; }

Effect "quality::fire resistance" : 2
{ xval: 104; yval: 1; pval: -91; }
Effect "quality::acid resistance" : 2
{ xval: 104; yval: 3; pval: -91; }
Effect "quality::cold resistance" : 2
{ xval: 104; yval: 2; pval: -91; }
Effect "quality::lightning resistance" : 2
{ xval: 104; yval: 4; pval: -91; }
Effect "quality::sonic resistance" : 2
{ xval: 104; yval: 10; pval: -91; }
Effect "quality::poison resistance" : 2
{ xval: 104; yval: 5; pval: -91; }
and 2
{ xval: 123; yval: 8; pval: -93; }

Effect "quality::animated" : 46 { }

Effect "quality::arrow-deflecting" : 2
{ xval: 41; yval: (((49 + 1) + 32) + 30); }

Effect "quality::bashing" : 46 { }

Effect "quality::blinding" : 2
{ xval: 79; yval: (19+2000);
On Event ((19+2000)+10000) {
if (EActor->Percieves(EVictim) & 0x0001)
{
e.vDef += 2;
e.strDef += " +2 glint";
if (!random(20))
{
VPrint(e,"Your armor flares!", "The <EVictim>'s armor flares!");
if (EActor->ResistLevel(24) == -1)
DPrint(e,"You are unaffected.", "The <EActor> is unaffected.");
else if (EActor->SavingThrow(0,10 + EVictim->GetEffStatiObj(79,
$"quality::blinding")->ItemLevel()/2 + EVictim->Mod(5),0x00000001))
DPrint(e,"You resist the effect.","The <EActor> resists the effect.");
else {
EActor->GainTempStati(3,NULL,1d4,7);
DPrint(e,"You are blinded by the glare!","The <EActor> is blinded by the glare!");
}
}
}
return 0;
};
}

Effect "quality::etherealness" : 3
{ xval: 102; yval: 3;
Flags: 48, 66, 54, 76; }

Effect "quality::feather-light" : 46 { }

Effect "quality::ghost-touch" : 46 { }

Effect "quality::graceful" : 46 { }

Effect "quality::invulnerability" : 2
{ xval: 39; yval: 105; pval: 1; }

Effect "quality::great invulnerability" : 2
{ xval: 39; yval: 105; pval: 4; }

Effect "quality::magic resistance" : 2
{ xval: 106; yval: 18; pval: -88; }

Effect "quality::shadow" : 2
{ xval: 124; yval: 18; pval: -92; }

Effect "quality::silent moves" : 2
{ xval: 124; yval: 36; pval: -92; }

Effect "quality::slick" : 2
{ xval: 124; yval: 13; pval: -92; }

Effect "quality::might" : 2
{ xval: 106; yval: 0; pval: -93; }
Effect "quality::agility" : 2
{ xval: 106; yval: 1; pval: -93; }
Effect "quality::endurance" : 2
{ xval: 106; yval: 2; pval: -93; }

Effect "quality::radiant" : 46
{ aval: 9; lval: 6; cval: 14;
rval: 0x00000002|0x00000080; }

Effect "quality::fearsome" : 46 { }
Effect "quality::shifting" : 46 { }
Effect "quality::bane-blind" : 46 { }
Effect "quality::spiked" : 46 { }

Effect "quality::resistant" : 2
{ 0x00000008; xval: 106; yval: 52; pval: -93; }

Effect "quality::command" : 2
{ xval: 106; yval: 5; pval: -93; 0x00000008; }

Effect "quality::sacred" : 2
{ xval: 33; yval: 76; pval: -93;
On Event 28 {
e.vDmg = max(e.vDmg,EActor->HighStatiMag(
33,76) + EItem->GetPlus());
};
}

Effect "quality::graven" : 46 { }

Effect "quality::life-keeping" : 2
{ xval: 125; yval: 51; pval: -93; }
and 2
{ xval: 104; yval: 6; pval: -91; }
#line "m_items.irh" 740
2 Spell "Identify;scroll" : 46
{ 0x00000004; Level: 1; qval: 0x0008;
Flags: 40, 41, 45;
Desc: "This scroll identifies the basic magical nature of one chosen
      item when fired."; Purpose: 0x00000;
On Event
52 {
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
hObj it;
if (GetHandle(EItem) != ((hObj)0) && EItem->isBlessed())
if (1d100 < EActor->Mod(6)*3)
{
EActor->IPrint("The magic of this scroll is especially deep!
                You are overcome with revelations!");
for (it=EActor->FirstInv();it;it=EActor->NextInv())
it->MakeKnown(0xFF);
return 1;
}
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
}

2 Spell "*Identify*;scroll" : 46
{ 0x00000004; Level: 3;
Desc: "This scroll identifies the basic magical nature of every item
      in the reader's possession when it is used."; Purpose: 0x00000;
On Event
28 {
hObj it;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
it->MakeKnown(0xFF);
return 1;
};
}

2 Effect "Enchant Armor" : 46
{
Level: 3;
Desc: "This scroll, when read, will increase the plus of the
      suit of armor you currently wear by 1 (to a maximum of +5),
      provided that the armor's item level (before enchantment) is 
      lower than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->GetInherantPlus() >= 5 ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->SetInherantPlus(Ar->GetInherantPlus()+1);
return 1;
};
}

2 Effect "Enchant Armor (featherlight)" : 46
{
Level: 3;
Desc: "This scroll, when read, will bestow the featherlight
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(76) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->AddQuality(76);
return 1;
};
}

2 Effect "Enchant Armor (graceful)" : 46
{
Level: 3;
Desc: "This scroll, when read, will bestow the featherlight
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(17) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->AddQuality(17);
return 1;
};
}

2 Effect "Enchant Armor (life-keeping)" : 46
{
Level: 5;
Desc: "This scroll, when read, will bestow the featherlight
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(39) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->AddQuality(39);
return 1;
};
}


2 Effect "Enchant Armor (fortification)" : 46
{
Level: 4;
Desc: "This scroll, when read, will bestow a level of the
      fortification (no fortification becomes light, light
      becomes medium and medium becomes heavy) 
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(3) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
if (Ar->HasQuality(2))
{ Ar->RemoveQuality(2);
Ar->AddQuality(3);
return 1; }
else if (Ar->HasQuality(1))
{ Ar->RemoveQuality(1);
Ar->AddQuality(2);
return 1; }
else
Ar->AddQuality(1);
return 1;
};
}

2 Effect "Enchant Armor (resistance)" : 46
{
Level: 4;
Desc: "This scroll, when read, will bestow one of the 
      elemental resistance qualities (that your armor doesn't
      already have) on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if ((Ar->HasQuality(4) && Ar->HasQuality(5) &&
Ar->HasQuality(6) && Ar->HasQuality(7) &&
Ar->HasQuality(8) && Ar->HasQuality(9)) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
do {
switch(1d6) {
case 1:
if (!Ar->HasQuality(4))
{ Ar->AddQuality(4);
return 1; }
break;
case 2:
if (!Ar->HasQuality(5))
{ Ar->AddQuality(5);
return 1; }
break;
case 3:
if (!Ar->HasQuality(8))
{ Ar->AddQuality(8);
return 1; }
break;
case 4:
if (!Ar->HasQuality(7))
{ Ar->AddQuality(7);
return 1; }
break;
case 5:
if (!Ar->HasQuality(6))
{ Ar->AddQuality(6);
return 1; }
break;
case 6:
if (!Ar->HasQuality(9))
{ Ar->AddQuality(9);
return 1; }
break;
}
}
while (1);
};
}
#line "m_items.irh" 1098
1 Effect "Fury" : 3
{ 0x00000008; xval: 66; yval: +4; Level: 1;
Flags: 67, 25, 86; Purpose: 0x00010;
Desc: "This potion drives you into a mad fury, allowing you to
      rage as a barbarian does (+4 Str, +4 Con, +2 Will saves)."; }

1 Effect "Valor;potion" : 3
{ 0x00000008; xval: 177; yval: 28; Level: 1;
Flags: 68, 25, 86; Purpose: 0x00200 (25); }
and 26
{ xval: 0x10; yval: 10;
Desc: "This potion removes fear, and renders you immune to fear
      for a long period after drinking it."; }

1 Effect "Neutralize Poison;potion" : 3
{ xval: 104; yval: 5; pval: 7;
Flags: 86; Level: 1;
Purpose: 0x00200 (14); }
and 26
{ xval: 0x10; yval: 2; }
and 3
{ xval: 123; yval: 8; pval: +5;
Desc: "This potion neutralizes poisons active in your system,
      gives you a +5 bonus to save against further exposures and
      grants you resistance to toxic damage (level 7) for a brief
      period after drinking it."; }


1 Effect "Wakefulness" : 3
{ 0x00000008; xval: 177; yval: 16; Level: 1;
Desc: "This potion renders you immune to sleep effects for a
      limited period after you drink it."; }

1 Effect "Healing" : 26
{ 0x00000080; Cost: 3; xval: 0x01; pval: 2d8+8;
Purpose: 0x00080 (1); Level: 1;
Flags: 45;
Desc: "When drunk, this potion heals 2d8+8 points of
      damage suffered."; }

1 Effect "Extra-Healing" : 26
{ 0x00000080; Cost: 7; xval: 0x01; pval: 3d8+12;
Purpose: 0x00080 (1); Level: 4;
Desc: "When drunk, this potion heals 3d8+12 points of
      damage suffered."; }

1 Effect "True-Healing" : 26
{ 0x00000080; Cost: 7; xval: 0x01; pval: 4d8+20;
Purpose: 0x00080 (1); Level: 7;
Desc: "When drunk, this potion heals 4d8+20 points of
      damage suffered."; }

1 Effect "Mana" : 26
{ 0x00000080; Level: 1; xval: 0x02; pval: 3d8+8;
Purpose: 0x00080 (2);
Flags: 45; Level: 1;
Desc: "This potion restores 3d8+8 points of mana when 
      drunk."; }

1 Effect "*Mana*" : 26
{ 0x00000080; Level: 3; xval: 0x02; pval: 5d12+12;
Purpose: 0x00080 (2); Level: 3;
Desc: "This potion restores 5d12+12 points of mana when 
      drunk."; }

1 Effect "*MANA*" : 26
{ 0x00000080; Level: 5; xval: 0x02; pval: 8d20+20;
Purpose: 0x00080 (2);
Level: 7;
Desc: "This potion restores 8d20+20 points of mana when 
      drunk."; }


1 Effect "Dimunition" : 46
{ 0x00000080; Level: 1; Flags: 67, 18;
On Event 28 {
return RedirectEff(e,$"reduce");
};
Desc: "When drunk, this potion causes you to shrink, lowering
      your size by one size catagory.";
}

1 Effect "Growth" : 46
{ 0x00000080; Level: 1; Flags: 67, 86;
On Event 28 {
return RedirectEff(e,$"enlarge");
};
Desc: "When drunk, this potion causes you to grow, increasing
      your size by one size catagory.";
}
#line "m_items.irh" 1210
1 Effect "Remove Curse;potion" : 46
{ 0x00000001; Level: 2; qval: 0x0008 | 0x0004;
Flags: 78, 45, 40;
Purpose: 0x00000;
Desc: "Drinking this potion lifts a curse from a single chosen
      item or individual.\n
      __Curses include the effects of a cursed item that cannot be removed
      or the effects of spells like <9>bestow curse<1> or <9>mark of justice<1>.
      A -6 luck penalty to an attribute is a <9>bestow curse<1> effect.
      Other attribute damage, poisoning, diseases and experience drain do not count
      as curses -- though some curse effects do reduce attributes.";
On Event 28 {
if (ETarget->isCreature())
{
#line "m_items.irh" 1231
ETarget->RemoveStatiSource(12);
VPrint(e,"Your body glows with a soft blue light.",
"The <EVictim>'s body glows with a soft blue light.");
return 1;
}
if (ETarget->isType((-4))) {
ETarget->MakeKnown(0x02);
if (!(ETarget->IFlags & 0x0002))
{
DPrint(e,"Your <ETarget> glows with a soft blue light.",NULL);
return 1;
}
#line "m_items.irh" 1248
ETarget->IFlags &= ~0x0002;
DPrint(e,"Your <ETarget> glows with a soft blue light.",NULL);

}
else
APrint(e,"The <ETarget> glows with a soft blue light.");
return 0;
},
157 {
if (ETarget->isCreature())
return 1;
if (ETarget->isType((-4)))
if (!(ETarget->isCursed() && ETarget->isKnown(0x02)))
return 2;
return 0;
};
}

1 Effect "Giant Strength;potion" : 3
{ 0x00000080; xval: 106; yval: 0; pval: 2d4+2;
Level: 1; Flags: 86;
Desc: "This potion gives you a magic bonus to your Strength
      of 2d4+2 points for a brief period."; }

1 Effect "Disorientation" : 3
{ 0x00000080; Cost: 4; xval: 6; pval: 6d6;
Flags: 67, 2; Level: 0;
Desc: "This cursed potion causes you to become confused for
      a short period of time when drunk."; }


1 Effect "Blindness" : 3
{ 0x00000080; xval: 3; pval: 6d6;
Flags: 67, 2; Level: 0;
Desc: "This cursed potion strikes you blind for a brief
      period of time when drunk."; }

1 Effect "Beast Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 35; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby beast when it is drunk."; }

1 Effect "Undead Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 76; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby grave-born abomination when it is drunk."; }

1 Effect "Elemental Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 38; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby elemental when it is drunk."; }

1 Effect "Outsider Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 48; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby outsider when it is drunk."; }

1 Effect "Fire Breath" : 1
{ 0x00000010; Level: 2; aval: 2; qval: 0x0001 | 0x0004; Level: 3;
xval: 1; lval: 4; sval: 1 partial; pval: 3d8+3;
Purpose: 0x00001; cval: 4; Flags: 67;
Desc: "Drinking this potion allows you to breathe out a gout
      of fire inflicting 3d8+3 points of fire damage in a direction
      you specify."; }

1 Effect "Vitality" : 26
{ 0x00000080; Cost: 7; xval: 0x20; pval: 3d4+1;
Purpose: 0x00080 (13); Level: 2;
Flags: 45;
Desc: "Drinking this potion removes fatigue and exhaustion,
      restoring 3d4+1 lost fatigue points."; }

1 Effect "Weakness;potion" : 4
{ 0x00000080; xval: 50; pval: 1d6+1; Flags: 67, 2;
Desc: "This cursed potion inflicts 1d6+1 points of damage to
      your Strength if you drink it."; }

1 Effect "Unhealth" : 4
{ 0x00000080; xval: 52; pval: 1d6+1; Flags: 67, 2;
Desc: "This cursed potion inflicts 1d6+1 points of damage to
      your Constitution if you drink it."; }

1 Effect "Philter of Stammering and Stuttering" : 4
{ 0x00000080; xval: 55; pval: 1d6+1;
Flags: 67, 2, 20;
Desc: "This cursed potion inflicts 1d6+1 points of damage to
      your Charisma if you drink it."; }

1 Effect "Poison" : 46
{ Flags: 2, 67; Level: 0;
On Event 28 {
rID pID;
pID = theGame->GetEffectID(11,0,8,0);
if ((int32)pID)
EActor->GainPermStati(2,NULL,7,0,0,pID);
EActor->IdentByTrial(EItem);
};
Desc: "This potion poisons its imbiber with a random sort of
      poison when drunk. It cannot be used to poison a weapon like
      a normal poison, however.";
}

1 Effect "Restore Strength" : 26
{ xval: 0x80; yval: 0; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Strength when it is drunk."; }
1 Effect "Restore Dexterity" : 26
{ xval: 0x80; yval: 1; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Dexterity when it is drunk."; }
1 Effect "Restore Constitution" : 26
{ xval: 0x80; yval: 2; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Constitution when it is drunk."; }
1 Effect "Restore Intelligence" : 26
{ xval: 0x80; yval: 3; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Intelligence when it is drunk."; }
1 Effect "Restore Wisdom" : 26
{ xval: 0x80; yval: 4; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Wisdom when it is drunk."; }
1 Effect "Restore Charisma" : 26
{ xval: 0x80; yval: 5; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Charisma when it is drunk."; }
1 Effect "Restore Luck" : 26
{ xval: 0x80; yval: 6; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Luck when it is drunk."; }

1 Effect "Light;potion" : 3
{
xval: 79; yval: (41+500); Level: 3;
Desc: "A potion of light in a congealed cocktail of positive
      energy, held in reserve by the body for a brief period of
      time to deflect experience-draining negative energy attacks.
      Once drunk, the imbiber is immune to such attacks for 3d6
      turns.";
Flags: 67;
On Event ((41+500)+10000) {
if (e.DType == 32) {
APrint(e,"A warm glow blocks the negative energy!");
return 1;
}
return 0;
},
205
"PotLight",
52 {
EActor->IPrint("You feel warm inside.");
return 0;
},
170 {
e.vDuration = 3d6;
return 0;
},
74
"The feeling of inner warmth fades.";
}

1 Effect "Faerie;potion" : 3
{
xval: 144; Level: 4;
Desc: "A potion of faerie, distilled from the blood of fae creatures,
      duplicates the inherant elven ability of manifestation, enhancing
      the imbiber's Charisma and allowing her to exist on all planes at
      once for 3d6 turns.";
Flags: 67;
On Event 205
"PotFaerie",
52 {
EActor->IPrint("You feel spectacular, ancient and whole.");
return 0;
},
170 {
e.vDuration = 3d6;
return 0;
},
74
"The feeling of grandeur fades.";
}
#line "m_items.irh" 1463
1 Effect "Oil of Transformation" : 46
{
Desc: "This oil, when applied to the surface of a weapon,
      permanently transforms that weapon into any other type
      of weapon, as a limited form of the <9>polymorph any
      object<7> spell. The weapon retains any magical qualities
      it had before being transformed, provided that they apply
      to its new form; any inapplicable abilities are lost.
      Thus, a +4 keen longsword could be changed into a +4
      keen scimitar or a +4 keen dagger, but only into a +4
      quarterstaff, since the keen quality only applies to
      slashing weapons. Unique or specific weapons cannot be
      transformed by this oil.\n
      __Use the Apply verb to transform a weapon with this oil.";
Level: 5;
Flags: 20, 40, 41, 67;
On Event 35 { EActor->IPrint("Boy, that tasted greasy!"); EItem->TakeOne()->Remove(true); return 1; }, 95 { if (!EItem->isKnown(0x04)) return 0; if (GetHandle(EActor) == GetHandle(ETarget)) DPrint(e, "You rub the oil into your skin.", "The <EActor> rubs the oil into <his:EActor> skin."); else DPrint(e, "You rub the oil on the <ETarget>.", "The <EActor> rubs the oil on <his:EActor> <ETarget>."); if (ETarget->isType(58)) ReThrow(52,e); else APrint(e,"Nothing happens."); EItem->TakeOne()->Remove(true); };
#line "m_items.irh" 1480
rID currID;
On Event 28 {
rID newID; int32 i;
if (!ETarget->isType(58))
{
EActor->IPrint("Only weapons can be transformed!");
return 2;
}
if (ETarget->ieID != ((rID)0))
{
EActor->IPrint("That weapon cannot be transformed!");
return 2;
}
currID = ETarget->iID;
newID = ETerm->ChooseResource(
"Select a New Form", 63, $"Oil of Transformation");
if (newID == -1)
return 1;
if (ETarget->isPlural())
EActor->IPrint("Your <hObj> change into <hText>!",
ETarget,Pluralize(NAME(newID)));
else
EActor->IPrint("Your <hObj> changes into a <Res>!",
ETarget,newID);
ETarget->ChangeIID(newID);
for (i=0;i!=64;i++)
if (ETarget->HasQuality(i))
{
ETarget->RemoveQuality(i);
if (ETarget->QualityOK(i))
ETarget->AddQuality(i);
}
return 1;
},
157 {
if (!ETarget->isType(58))
return 2;
if (ETarget->ieID != ((rID)0))
return 2;
return 0;
},
171 {
if (e.eID == currID)
return false;
if (ResourceHasFlag(e.eID,7) !=
ResourceHasFlag(currID,7))
return false;
if (ResourceHasFlag(e.eID,8) !=
ResourceHasFlag(currID,8))
return false;
if (ResourceHasFlag(e.eID,1))
return false;
if (e.eID->RIType != currID->RIType)
return false;
return true;
};
}

1 Effect "See Invisibility;potion" : 3
{ 0x00000004; Level: 1; xval: 101; Flags: 25, 67;
On Event 205 "See Invis" / "SI";
Desc: "Drinking this potion allows the imbiber to see invisible 
      creatures normally; it also renders visible creatures on
      the etherial plane, who normally cannot be seen by observers
      from the material plane.";
On Event
206
"Your vision expands into the otherworldly!",
74
"Your vison fades back to mundane levels.";
}
#line "m_items.irh" 1555
10 Effect "the Endless Wave" : 2
{ 0x00000080; 0x00000001; xval: 124; yval: 45; pval: -92;
Purpose: 0x00010; Flags: 44; Level: -72;
Desc: "When worn, this item grants you a magic bonus to your
      Swimming skill equal to twice its plus. In addition, it makes
      you inoffensive to water creatures and makes you immune to soaking
      damage."; }
and 2 { xval: 214; yval: 92; }
and 2 { xval: 177; yval: 74; }

37 Effect "Detection" : 2
{ 0x00000004|0x00000008; xval: 124; yval: 41; pval: -92;
Purpose: 0x00010; Flags: 44; Level: -92;
Desc: "When worn, this item grants you a magic bonus to your
      Search and Wilderness Lore skills equal to twice its plus. It also
      grants you the Sharp Senses ability, allowing you a chance to
      automatically detect secret doors as you walk by them."; }
and 2 { xval: 124; yval: 48; pval: -92; }
and 2 { xval: 39; yval: 73; pval: 1; }

37 Effect "the Eagle" : 2
{ 0x00000080; 0x00000001; xval: 124; yval: 44; pval: -92;
Purpose: 0x00010; Flags: 44; Level: -92;
Desc: "When worn, this item grants you a magic bonus to your
      Spot skill equal to twice its plus. It grants the Superior
      Senses feat, thus doubling you basic vision range.  In addition, it
      makes you inoffensive to birds."; }
and 2 { xval: 41; yval: ((49 + 1) + 2); }
and 2 { xval: 214; yval: 4; }

37 Effect "the Soul;eyes" : 2
{ 0x00000040|0x00000200; xval: 124; yval: 20; pval: -92;
Level: -92; Flags: 44;
Desc: "These lenses grant the bearer a terrifying window in the souls
    of others and the holes where the souls of the undead would be. This
    grants the wearer a skill bonus to Intimidate and Knowledge (Theology) skill checks
    equal to twice their plus. In addition, the wearer adds their magical
    plus as a bonus to saving throws versus fear."; }
and 2 { xval: 124; yval: 30; pval: -92; }
and 2 { xval: 123; yval: 11; pval: -93; }
and 2 { xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3); }
#line "m_items.irh" 1618
9 Effect "Stability;boots" : 2
{ 0x00000001|0x00000008; 0x00000080; xval: 177; yval: 20; Level: -92;
Flags: 44; }
and 2
{ xval: 124; yval: 5; pval: -92;
Desc: "When worn, these boots grant you a bonus to your Balance skill
    equal to twice their plus. In addition, they make you immune to
    Polymorph effects."; }

10 Effect "Contortion" : 2
{ 0x00000080; xval: 124; yval: 13;
pval: -92; Flags: 44;
Level: -92;
Desc: "These magical items allow you a great deal of extra flexibility
    when you attempt to bend your body. As a a result you gain a +2 bonus
    to Escape Artist and Tumble skill checks per magical plus they possess.
    In addition, you enjoy the benefits of the Featherfoot feat."; }
and 2 { xval: 124; yval: 46; pval: -92; }
and 2 { xval: 41; yval: ((((49 + 1) + 32) + 50) + 20); }

34 Effect "Magical Aptitude" : 2
{ 0x00000002; xval: 124; yval: 47; pval: -92;
Flags: 44; Level: -92;
Desc: "This magic item enhances your ability to cast spells and use
  magical items. It grants you a +2 bonus to Concentration and Use Magic
  skill checks per magical plus it possesses. In addition, it grants
  you the power to detect summoned monsters within 100 feet (10 squares)
  plus 20 feet (2 squares) per magical plus."; }
and 2 { xval: 124; yval: 8; pval: -92; }
and 2 { xval: 134; yval: 108; pval: -66; }

27 Effect "Shadowstone" : 46
{ 0x00000002|0x00000020; Flags: 67 | 44;
lval: 1; Level: -92;
aval: 9; rval: 0x00000200; cval: shadow;
Purpose: 0x00002; Flags: 80, 20;
Desc: "This item creates a field of supernatural shadow. Inside the
    field bright lights (e.g., from wall torches) do not prevent creatures
    from hiding. The field of shadow is not a field of darkness, and
    surroundings and features can still be seen, even via torchlight. In
    addition, the cloak grants a bonus to Hide skill checks equal to its
    magical plus.";
} and 2 { xval: 124; yval: 18; pval: -92; }
#line "m_items.irh" 1698
37 Effect "the Druid;eyes" : 2
{ 0x00000100; xval: 39; yval: 57;
Level: 3;
Desc: "These lenses allow the wearer to see through fog, trees, webbing
    and other visual impediments without trouble. In addition, they
    make you inoffensive to sylvan creatures."; }
and 2 { xval: 214; yval: 81; }

37 Effect "the Night" : 2
{ 0x00000080; xval: 39; yval: 42; pval: +6;
Level: 1;
Desc: "This grants you Infravision to a range of 60 feet, or
      improves the range of your existing Infravision by 60 feet."; }

37 Effect "Terror;eyes" : 2
{ 0x00000040; xval: 124; yval: 20; pval: +5;
Level: 1;
Desc: "These lenses give the wearer the illusionary effect of a
    terrifying visage. The visage is so terrifying that many beings will
    see the wearer as a being to be feared. This grants the wearer a +5
    bonus to Intimidation checks and conversely grants the wearer a +5
    bonus to saves against Fear effects."; }
and 2
{ 0x00000001; xval: 123; yval: 11; pval: +5; }

37 Effect "Stone;eyes" : 2
{ 0x00000001; xval: 225; yval: 2; Level: 1;
Desc: "These lenses appear to be opaque, but when worn they
    can be seen through normally.  They grant the wearer immunity to
    all incoming gaze attacks (i.e. - from basilisks, jackal lords,
    medusae, floating eyes, etc.) as well as all light-based damage."; }
and 2 { xval: 177; yval: 9; }

37 Effect "Precision;eyes" : 2
{ 0x00000080; xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 25); pval: -93;
Level: -91; Flags: 44;
Desc: "These lenses give the wearer a preternatural sharpness of
    vision and a steady hand. While worn they grant the benefits of the
    Precise Shot and Aimed Shot feat as well as increasing the lowlight
    vision (and typically thus perception range) of the wearer by 20 feet
    (2 squares). They are a great benison to archers."; }
and 2
{ 0x00000080; xval: 41; yval: ((49 + 1) + 4); pval: -93; }
and 2
{ xval: 39; yval: 53; pval: -92; }
#line "m_items.irh" 1836
3 Effect "Fire Bolts" : 1
{ 0x00000010; Cost: 3; xval: 1; pval: (-92)d6;
sval: 1; qval: 0x0001 | 0x0004 | 0x0002; aval: 1;
Flags: 44, 67; Purpose: 0x00001;
cval: 4; On Event 200 "fire bolt";
Level: -93;
Desc: "This wand produces a flaming bolt that strikes a
      single target for 2d6 fire damage per plus. A successful
      Reflex saving throw represents dodging the bolt, and
      completely negates the damage."; }
#line "m_items.irh" 1849
3 Effect "Ice;wand" : 1
{ 0x00000010; Cost: 5; xval: 2; pval: (-93)d8;
sval: 1 Partial; qval: 0x0001 | 0x0004 | 0x0002; aval: 2;
Purpose: 0x00001; Level: -71; sval: 1 partial;
cval: 11; On Event 200 "frigid blast";
Flags: 44, 67, 40;
Desc: "This wand projects a cone of blue light inside of which
      ice magically forms on every exposed surface and flesh cracks
      from the unearthly cold. This inflicts 1d8 points of damage 
      per plus due to frigid cold, and turns both water and plain
      floor into ice squares. If a target fails to save, they also
      become stuck as their body is encased in ice.";
On Event (28+1000) {
if (EVictim->isCreature() && !e.Resist)
{ EVictim->GainPermStati(11,NULL,6,e.saveDC,0,$"Ice;wand");
VPrint(e,"You are partially encased in ice!",
"The <EVictim> is partially encased in ice!"); }
return 0;
};
}
and 5
{ xval: 6; rval: $"ice floor"; }
and 5
{ xval: 7; rval: $"ice floor"; }
#line "m_items.irh" 1876
3 Effect "Scouring" : 1
{ 0x00000002; 0x00000010; Cost: 10; xval: 3; pval: (-93)d8;
sval: 1 Partial; qval: 0x0001 | 0x0004 | 0x0002; aval: 2;
Purpose: 0x00001; Level: -72;
cval: 2; On Event 200 "sulpherous fumes";
Flags: 44, 67;
Desc: "This wand projects a blast of sulpherous fumes that inflict
      1d8 acid damage and 1d8 toxic damage for every magical plus the
      wand has. Creatures that do not breathe suffer only the acid
      damage. A Reflex save halves the damage.";
On Event 28 {
if (e.efNum == 1 && !EVictim->isMType(78))
{ VPrint(e,"The poison doesn't affect you.",
"The poison doesn't affect the <EVictim>.");
return 1; }
return 0;
};
}
and 1
{ aval: 2; sval: 1 partial;
xval: 5; pval: (-93)d8; }
#line "m_items.irh" 1901
3 Effect "Ash" : 46
{ 0x00000002; Cost: 10; pval: (-93)d6; Purpose: 0x00001;
qval: 0x0001 | 0x0004 | 0x0002; aval: 2; cval: 0;
Level: -71; Flags: 44, 67;
Desc: "When activation, a cloud of thick, greasy ash pours
      out from the tip of this wand, moving in a line to consume
      everything in its path. Victims must make two Fortitude
      saves -- one, if they have eyes, to avoid being blinded
      for 3d6 turns. The second save applies only to creatures
      who breathe, and halves both of the wand's primary effects:
      1d6 damage per plus and a -4 general penalty for 3d6 rounds, 
      both due to violent, bloody choking after breathing in the 
      ash.";

On Event 28 {
e.Immune = true;
if (EVictim->onPlane() != EActor->onPlane())
return 1;
if (!EVictim->HasMFlag(6)) {
e.Immune = false;
if (!EVictim->SavingThrow(0,e.saveDC,0x00000001))
{
VPrint(e,"You are blinded!",
"The <EVictim> is blinded!");
#line "m_items.irh" 1929
EVictim->GainTempStati(3,NULL,3d6,6);
}
else
e.Resist = true;
}
if (EVictim->isMType(78))
{
e.Immune = false;
if (!EVictim->SavingThrow(0,e.saveDC,0x00000001))
{
VPrint(e,"You choke horrifically!",
"The <EVictim> chokes horrifically!");
EVictim->GainTempStati(117,NULL,3d6,6,
51,-4);
ThrowDmg(41, 0, e.vDmg, "a cloud of choking ash",
EActor, EVictim, EItem);
}
else
{
VPrint(e,"You choke!",
"The <EVictim> chokes!");
EVictim->GainTempStati(117,NULL,3d6 / 2,6,
51,-2);
ThrowDmg(41, 0, e.vDmg / 2, "a cloud of choking ash",
EActor, EVictim, EItem);
}
}
return 1;
},
155 {
return EVictim->isMType(78) ||
!EVictim->HasMFlag(6) ?
0 : -1;
};
}
#line "m_items.irh" 1967
3 Effect "Dehydration" : 1
{ 0x00000080; Cost: 5; pval: (-93)d8; Purpose: 0x00001;
qval: 0x0001 | 0x0004 | 0x0002; aval: 2; cval: 6;
tval: 75; Purpose: 0x00001; xval: 0;
Flags: 4, 44, 67;
sval: 0 partial; Level: -71;
On Event 200 "thin amber bolt",
28 {
VPrint(e,"You feel ravenously thirsty suddenly!",
"The <EActor>'s skin splits and peels!");
EVictim->LoseFatigue(e.vDmg/4,false);
return 0;
};
Desc: "This wand produces a thin amber bolt that flares out
      to strike a target, destroying a portion of the water in
      their body to inflict 1d8 points of damage per plus, and
      additionally sap the target of 1 fatigue for every 4 points
      of damage inflicted. A successful Fortitude saving throw
      halves the effect. Only living creatures are subject to
      dehydration -- undead, constructs and similar beings are
      immune.";
}
#line "m_items.irh" 1992
3 Effect "Shards" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001;
qval: 0x0001 | 0x0004 | 0x0002; aval: 2; cval: 15;
Flags: 44, 67; sval: 1 partial;
On Event 200 "spray of glass shards";
xval: 11; pval: (-92)d10;
Level: -64;
Desc: "When fired, this wand projects a stream of tiny glass
      shards in a line about 5 feet wide. The glass shreds anything
      organic it comes in contact with, inflicting 2d10 points of
      damage per magical plus of the wand. Additionally, targets
      with blood bleed for [plus] points of damage per turn after
      being struck by this wand, lasting for one turn per 4 points
      of damage the target actually took the initial spray. A Reflex 
      saving throw halves the initial damage (and thus the bleeding
      duration as well).";
On Event (28+1000)
{
if (e.aDmg && EVictim->isMType(77))
EVictim->GainTempStati(12,NULL,e.aDmg / 4,
6,0,EItem->GetPlus());
return 0;
};
}
#line "m_items.irh" 2024
3 Effect "the Void" : 1
{
0x00000040; 0x00000100; Cost: 5; Purpose: 0x00001; tval: 75;
qval: 0x0004 | 0x0002 | 0x0001; aval: 5; lval: 7; cval: 19;
Flags: 69, 44, 4; sval: 1 partial;
xval: 2; pval: (-93)d6; Level: -63;
On Event 200 "ball of dark energy";
Desc: "This wand produces a ball of unnatural, life-sapping vacuum
      drawn from the places where the Negative Energy Plane edges
      the Paraelemental Plane of Vacuum. This ball inflicts 1d6
      points of cold damage and 1d6 points of necromatic damage for
      every plus the wand has. Undead and constructs are immune;
      other targets caught in the area can make a Reflex saving 
      throw for half damage.";
On Event 28
"You feel a deathly chill!" /
"The <EVictim> withers!";
}
and 1
{ xval: 6; pval: (-93)d6; }
#line "m_items.irh" 2048
3 Effect "Life Stealing" : 1
{
0x00000040; Cost: 10; Purpose: 0x00001; tval: 75;
qval: 0x0004 | 0x0002 | 0x0001; aval: 5; lval: 7; cval: 19;
Flags: 69, 44, 4; sval: 1 partial;
xval: 73; pval: (-93)d6; Level: -64;
On Event 200 "ball of dark energy";
Desc: "When fired, this wand emits a blast of life-sapping
      shadow that drains the vitality of any living targets it
      hits even as it heals and strengthens the wielder. The
      blast inflicts 1d6 points of necromantic damage to
      everyone caught in its area, healing the caster for half
      of the total hit points it actually inflicts. Victims
      may make a Reflex saving throw for half damage.";
}
#line "m_items.irh" 2066
3 Effect "Sound Bursts" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001;
aval: 11; lval: 8; Level: -62;
Flags: 67, 44, 40,
34;
sval: 0 partial; xval: 10; pval: (-93)d6;
On Event 200
"cacophany",
28 {
if (EVictim->isCreature() && !e.Resist)
{
EVictim->GainTempStati(5,NULL,3d6,6);
EVictim->StatiMessage(5,0,false);
}
return 0;
};
Desc: "When fired, this wand releases a tremendous cacophany of
      sound and vibration all around the wielder (who is immune).
      The blast inflicts 1d6 points of damage per magical plus the
      wand has, allowing a Fortitude save for half damage. Those
      who fail the save are also stunned for 3d6 rounds. The
      destructive sonics also damage any unattended equipment, or
      items held by those who fail a saving throw.";
}
#line "m_items.irh" 2094
3 Effect "Acid;wand" : 1
{
0x00000002; Cost: 5; Purpose: 0x00001; Level: -62;
qval: 0x0001 | 0x0004 | 0x0002; aval: 1; cval: 10;
Flags: 67, 44, 40; sval: 3;
xval: 3; pval: (-93)d8;
On Event 200
"glob of acid",
74
"The acid has run its course." /
"The <EActor>'s flesh stops bubbling.",
(32+10000) {
hObj killer;
killer = EActor->GetEffStatiObj(79,$"Acid;wand");
if (killer)
ThrowDmg(41,1,1d6,"residual acid damage",killer,EActor);
else
ThrowDmg(41,1,1d6,"residual acid damage",EActor,EActor);
if (EActor->isDead())
DPrint(e,"The acid burns, killing you.",
"The acid burns the <EActor> to death.");
else
DPrint(e,"The acid burns you!",
"The acid burns the <EActor>!");
if (EActor->isDead() && killer != NULL)
killer->KillXP(EActor);
return 0;
},
(28+1000) {
if (!EVictim->isDead())
EVictim->GainTempStati(79,EActor,EItem->GetPlus(),
6,32,0,$"Acid;wand");
return 0;
};
Desc: "This wand fires a glob of concentrated acid with unerring accuracy,
      striking a single target for 1d8 points of acid damage for every magical
      plus it possesses. The acid can also damage the victim's equipment. If
      the victim survives the initial damage, she also suffers 1d6 points of
      damage every turn thereafter for a number of turns equal to the wand's
      magical plus as the acid continues to burn her.";
}
#line "m_items.irh" 2138
3 Effect "Thunderbolts" : 1
{
0x00000010; Cost: 5; Purpose: 0x00001; qval: 0x0001|0x0004|0x0002;
aval: 1; cval: 14; Flags: 44, 67;
sval: 1; xval: 4; pval: (-92)d6;
Level: -64;
Desc: "This wand fires a brilliant stroke of lightning about a
      meter long that arcs across space to strike a single target
      with a terrible thunderclap, inflicting 2d6 points of electrical
      damage and 1d6 points of sonic damage for every plus the wand
      possesses. A Reflex save indicates dodging the bolt utterly,
      but if a target is struck, the must attempt a second Fortitude
      save or be left stunned for 1d4+1 rounds."; }
and 1
{ xval: 10; pval: (-93)d6;
On Event
200
"thunderbolt",
(28+1000) {
if (!EVictim->SavingThrow(0,e.saveDC,0x00000001|0x00100000))
{
EVictim->GainTempStati(5,NULL,1d4+1,6);
EVictim->StatiMessage(5,0,false);
}
return 0;
};
}
#line "m_items.irh" 2168
3 Effect "Surtension" : 1
{
0x00000010; Cost: 5; Purpose: 0x00001; qval: 0x0004 | 0x0002 | 0x0001;
aval: 4; cval: 9; Level: -71;
Flags: 44, 67, 4;
sval: 0 partial; xval: 4; pval: (-93)d8;
On Event
200
"arc of electricity",
(28+1000) {
if (EVictim->isMType(75))
{
if (!e.Resist)
{
EVictim->GainTempStati(9,NULL,1,6);
VPrint(e,"Your muscles lock up!",
"The <EVictim> goes rigid!");
}
else
VPrint(e,"Your muscles stiffen!",
"The <EVictim> goes briefly rigid!");
}
APrint(e,"The smell of ozone fills the air!");
return 0;
},
(52+500) {
#line "m_items.irh" 2197
if (e.isDir)
if (!(EMap->FCreatureAt(EActor->x + DirX(e.EDir),
EActor->y + DirY(e.EDir)) || EMap->FCreatureAt(EActor->x +
DirX(e.EDir)*2, EActor->y + DirY(e.EDir)*2)))
return 1;
if (e.isLoc)
if (!EMap->FCreatureAt(e.EXVal,e.EYVal))
return 1;
return 0;
},
170 {
e.vRange = 2;
return 0;
};
Desc: "This wand produces a brilliant, crackling arc of electrical
      energy striking a target of the user's choice. The arc can only
      reach 20 feet (2 squares), but hits a target for 1d8 points of
      lightning damage per plus; a Fortitude save halves the damage.
      The current also locks up its victim's muscles, inflicting 1d2 +
      the wand's magical plus points of Dexterity damage (again, halved
      on a successful save) and paralyzing targets who fail the save
      for a single round. The paralysis and Dexterity damage affect
      only living targets.";
}
and 1
{ xval: 51; pval: 1d2 + -93; sval: 0 partial;
tval: 75; }
#line "m_items.irh" 2227
3 Effect "Cleansing Light" : 1
{
0x00000010; 0x00000400; Cost: 10; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 16; cval: 17; Level: -64;
Flags: 44, 67, 71;
sval: 0 partial; xval: 0; pval: (-102)d6;
On Event
200
"ray of moonlight",
155 {
if ( EVictim->isMType(48) ||
EVictim->isMType(58) ||
EVictim->isMType(76) )
return 0;
else
return -1;
},
#line "m_items.irh" 2256
170 {
if (GetHandle(EItem) != ((hObj)0))
e.vChainMax = EItem->GetPlus();
return 0;
};
Desc: "This translucent wand fires a swirling, incandescant beam of
      glittering moonlight that is harmless to most creatures. However,
      when is strikes an aberration, undead or outsider, that creature
      withers away for 2d6 points of damage per magical plus the wand
      possesses. This is not elemental damage and cannot be avoided by
      most standard resistances. After striking one viable target, the
      beam will curl around to encompass a number of other targets equal
      to the wand's magical plus.";
}
#line "m_items.irh" 2273
3 Effect "Soul Flaying" : 1
{
0x00000100; Cost: 10; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 3; cval: 29; lval: 20;
xval: 54; pval: (-93)d4; sval: 2 partial;
Flags: 44, 67, 71;
Level: -62;
On Event
200
"silver fire",
155 {
return EVictim->HasMFlag(33) ?
-1 : 0;
};
Desc: "This wand, crafted by the derro, fires a tiny globe
      that explodes into a huge blast of silvery flames. This
      unnatural flame does no harm to matter or flesh, but scours
      the psyches of self-aware beings on the astral plane,
      inflicting 1d4 points of Wisdom damage for every magical
      plus it possesses. A Will save halves the damage.";
}
#line "m_items.irh" 2297
3 Effect "Striking;wand" : 1
{
0x00000010; Cost: 3; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 1; cval: 15; Flags: 44, 67;
sval: 1 partial; xval: 13; pval: (-92)d10;
Level: -64;
On Event
200
"bolt of telekinetic force";
Desc: "This wand fires a telekinetic bolt which strikes a
      single target for 2d10 points of blunt damage per magical
      plus of the wand. A Reflex save halves the damage, but on
      failure the target will also be knocked back 1d4 + [magical
      plus] squares.";
}
and 1
{ xval: 61; pval: 1d4 + -93; sval: 1; }
#line "m_items.irh" 2320
3 Effect "the Hellstorm" : 1
{
0x00000010; Cost: 20; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 3; cval: 16; Flags: 44, 67, 55;
sval: 1 partial; xval: 1; pval: (-93)d10; lval: 40;
Level: -64;
On Event
200
"hellstorm",
155 {
return EActor->isMType(73) ?
0 : 1;
};
Desc: "This wand projects a globe that blossoms into a vast
      infernal conflaguration, inflicting 1d10 points of fire damage
      and 1d10 points of unavoidable damage resulting directly from
      infernal power for every plus it has. Devils are immune to the
      effects of a hellstorm.";
}
and 1
{ xval: 0; pval: (-93)d10; }
#line "m_items.irh" 2344
3 Effect "Unearthly Harmonies" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001; qval: 0;
aval: 11; lval: 3; cval: 14;
Flags: 44, 67, 22, 4;
sval: 2 partial; xval: 10; pval: (-93)d8;
Level: -64;
Desc: "This wand produces a sanity-rending blast of otherworldly
      music drawn from the Clockwork Nirvana of Mechanus -- the
      outer-planar home of absolute Law. This music inflicts 1d8
      points of sonic damage per plus the wand possesses, and
      hearing it also damages the sanity of thinking beings,
      inflicting 1d2 points of Intelligence damage. Chaotic
      creatures suffer double damage from both effects, but a
      successful Will saving throw halves the effects. The
      caster is immune to the sonic damage, but not to the
      Intelligence damage.";
On Event
200
"otherworldly music",
170 {
if (GetHandle(EVictim))
if (EVictim->isCreature())
if (EVictim->isMType(105))
e.vDmg *= 2;
return 0;
},
28 {
if (GetHandle(EActor) == GetHandle(EVictim))
if (e.efNum == 0)
return 1;
return 0;
};
}
and 1
{ xval: 53; pval: (-93)d2; }
#line "m_items.irh" 2385
3 Effect "cracked" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001; qval: 0;
Level: -72;
Flags: 44, 67, 19;
xval: 52; pval: (-93)d4;
Desc: "The attempt to manufacture magical wands involves
      channelling vast amounts of mystical energy into a very
      finite space -- and it isn't always successful. When
      wand creation fails, the result may be an instrument
      that contains a metaphysical fracture in its tapestry,
      causing a destructive flow of mana that can warp its
      wielder's body or mind if mistakenly fired. Sometimes
      careless gnomes leave such items abandoned in dungeons,
      not wanting to dispose of them safely; other times,
      kobold mages use them as traps, hoping to trick others
      into trying to fire them.\n
      __This cracked wand inflicts 1d4 points of Constitution
      damage to its user per magical plus it has.";
}
#line "m_items.irh" 2593
3 Effect "Negation" : 3
{ 0x00000080; Cost: 12; Level: -91; qval: 0x0004;
xval: 168; lval: -78; aval: 2; cval: 2;
Flags: 44, 89, 85;
Purpose: 0x00004; sval: 0;
Desc: "When the beam from this baleful wand strikes a
      creature, all the magic inherant to that creature is
      suppressed for a day unless they succeed in a Fortitude
      save. This includes innate spell-like abilities, special
      powers like a lantern archon's light ray or a vrock's
      screech, the breath weapons of dragons and other creatures,
      and most special damage forms, such as the life energy-sapping
      touch of many undead."; }

3 Effect "Dispelling" : 46
{ 0x00000001; Cost: 12; Level: -92; qval: 0x0002;
lval: -78; aval: 4; cval: 4;
Flags: 44; Purpose: 0x00004 | 0x20000;
Desc: "This wand produces a ray of shimmering crimson
      light that disperses any standing magical effect it
      strikes, duplicating the effect of a <9>dispel magic<7>
      spell with a caster level of 3 + thrice its magical
      plus.";
On Event 28 {
e.vCasterLev = 3 + EItem->GetPlus()*3;
return RedirectEff(e,$"dispel magic");
};
}

3 Effect "Curing;wand" : 26
{ 0x00000200; Cost: 0; Level: -91; qval: 0x0100|0x0004;
xval: 0x01; pval: (-92)d8; yval: 10;
Flags: 44;
Purpose: 0x00080 (1);
Desc: "This wand heals a nearby target of 2d8 hit points of 
      damage per magical plus.";
}


3 Effect "Polymorph" : 32
{ 0x00000080; Cost: 6; sval: 0; qval: 0x0001 | 0x0004 | 0x0002;
aval: 2; cval: 2; Level: -72;
Flags: 69, 89, 44;
Purpose: 0x00001 | 0x00004;
Desc: "This wand produces a beam that changes the shape of
      whatever it strikes into a different creature or object
      for a brief period. A Fortitude save negates."; }


3 Effect "Paralysis" : 3
{ 0x00000080; Cost: 8; xval: 9; Level: -64;
sval: 0; qval: 0x0001 | 0x0004; aval: 2;
cval: 7; Purpose: 0x00001;
Flags: 69, 44;
Desc: "This wand produces a beam which paralyzes
      and creature struck, provided that creature fails a
      Fortitude saving throw."; }

3 Effect "Terror" : 3
{ 0x00000008; Cost: 2; xval: 10; Level: -92;
Flags: 69, 44, 89;
sval: 2; qval: 0x0001 | 0x0004; aval: 2;
cval: 1; Purpose: 0x00004 (25);
Desc: "This wand produces a callow blue light ray
      which causes any creature it strikes to flee in
      terror, assuming that creature fails a Will saving
      throw."; }

3 Effect "Sleep;wand" : 3
{ 0x00000008; Cost: 7; xval: 7; Level: -91;
Flags: 69, 44;
sval: 2; qval: 0x0001 | 0x0004; aval: 2;
cval: 9; Purpose: 0x00001;
Desc: "This wand emits a ray of blue light that causes
      creatures it strikes to fall into a deep slumber. A
      Will saving throw negates this effect."; }

3 Effect "Lethargy" : 3
{ 0x00000080; Cost: 2; qval: 0x0001 | 0x0004 | 0x0002;
sval: 2; aval: 2; lval: 6;
cval: 2; Purpose: 0x00004 | 0x00040;
Flags: 69, 89, 44;
Level: -92;
On Event 28 {
return RedirectEff(e,$"slow");
};
Desc: "This wand induces intense lethargy in creatures struck
      by its beam, <9>slow<7>ing them as if by the spell of the
      same name on a failed Will save."; }

3 Effect "Fey Trapping;wand" : 3
{ 0x00000100; Cost: 6; xval: 133; Level: -92;
Flags: 44, 89;
sval: 2; qval: 0x0001 | 0x0004; aval: 2;
cval: 10; Purpose: 0x00004 (4);
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
Desc: "This wand produces a thin green beam that, when it strikes
      any creature, prevents them from teleporting or plane-shifting
      for an extended duration. Creatures already phased will be
      forced back to their natural plane. A Will save resists this
      effect."; }

3 Effect "Alacrity" : 3
{ 0x00000080; Cost: 5; qval: 0x0001 | 0x0004 | 0x0002;
sval: 2; aval: 2; lval: 6; Level: -71;
cval: 10; Purpose: 0x00010;
xval: 106; yval: 54; pval: 5d1+(-89);
Flags: 69, 86, 25;
On Event 84 {
EActor->LoseFatigue(2,false);
EActor->Abuse(2,3d10);
return 1;
},
(28+500) {
VPrint(e, "You feel yourself start to move faster!",
"The <EVictim> starts moving faster!");
if (EVictim->HasEffStati(-1,$"slow"))
{
EVictim->RemoveEffStati($"slow");
return 1;
}
return 0;
};
Desc: "This wand imbues creatures struck by its beam with a 
      preternatural speed, increasing their attack speed (in all
      categories) and movement rate by 25~ + 25~ per magical plus
      the wand possesses. When the effect wears off, the subject
      loses two points of Fatigue and is considered to have abused
      their Constitution.";
}
and 3
{ xval: 106; yval: 26; pval: 5d1+(-89); }

3 Effect "Dismissal;wand" : 46
{ 0x00000100; Cost: 2; qval: 0x0001 | 0x0004 | 0x0002;
sval: 2; aval: 2; lval: 6;
cval: 15; Purpose: 0x00004 | 0x00040;
Flags: 69, 88, 44;
Level: -72;
On Event 28 {
e.vCasterLev = 0;
return RedirectEff(e,$"dismissal",28);
};
Desc: "This wand has a similar effect to the <9>dismissal<7> spell,
      casting creatures struck by its beam [4d12 x 10] away from their
      current location if they fail a Will save.";
}

3 Effect "Dragon Summoning" : 9
{ 0x00000100; Cost: 25; xval: 37; pval: -62; level: -55;
Purpose: 0x00100; Flags: 67, 44;
On Event 28 {
if ((EItem->IFlags & 0x0002) || !EItem->isKnown(0x04)) {

EMap->GenEncounter(0x00000400|0x00000004|0x00000040|0x00040000,
e.vDmg,3,e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
}
return 0;
};
Desc: "This wand summons a dragon when fired. If the dragon's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the dragon may
      arrive uncontrolled and hostile.";
}


3 Effect "Animal Summoning" : 9
{ 0x00000100; Cost: 10; xval: 2; pval: -92; level: -92;
Purpose: 0x00100; Flags: 67, 44;
On Event 28 {
if ((EItem->IFlags & 0x0002) || !EItem->isKnown(0x04)) {

EMap->GenEncounter(0x00000400|0x00000004|0x00000040|0x00040000,
e.vDmg,3,e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
}
return 0;
};
Desc: "This wand summons an animal when fired. If the animal's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the animal may
      arrive uncontrolled and hostile.";
}

3 Effect "Goblinoid Summoning" : 9
{ 0x00000100; Cost: 6; xval: 84; pval: -92; level: -92;
Purpose: 0x00100; Flags: 67, 44;
On Event 28 {
if ((EItem->IFlags & 0x0002) || !EItem->isKnown(0x04)) {

EMap->GenEncounter(0x00000400|0x00000004|0x00000040|0x00040000,
e.vDmg,3,e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
}
return 0;
};
Desc: "This wand summons a goblinoid when fired. If the goblinoid's
      CR is too high in comparison to the user's level, or if the
      wand has not been properly identified when fired, the goblinoid may
      arrive uncontrolled and hostile.";
}

3 Effect "Beast Summoning" : 9
{ 0x00000100; Cost: 15; xval: 35; pval: -91; level: -91;
Purpose: 0x00100; Flags: 67, 44;
On Event 28 {
if ((EItem->IFlags & 0x0002) || !EItem->isKnown(0x04)) {

EMap->GenEncounter(0x00000400|0x00000004|0x00000040|0x00040000,
e.vDmg,3,e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
return 1;
}
return 0;
};
Desc: "This wand summons a beast when fired. If the beast's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the beast may
      arrive uncontrolled and hostile.";
}

3 Effect "Undead Summoning" : 9
{ 0x00000100; Cost: 20; xval: 76; pval: -91; Level: -91;
Purpose: 0x00100; Flags: 67, 44;
On Event 28 {
if ((EItem->IFlags & 0x0002) || !EItem->isKnown(0x04)) {

EMap->GenEncounter(0x00000400|0x00000004|0x00000040|0x00040000,
e.vDmg,3,e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
return 1;
}
return 0;
};
Desc: "This wand summons an undead when fired. If the undead's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the undead may
      arrive uncontrolled and hostile.";
}


3 Effect "Vermin Summoning" : 9
{ 0x00000100; Cost: 10; xval: 31; pval: -92; level: -92;
Purpose: 0x00100; Flags: 67, 44;
On Event 28 {
if ((EItem->IFlags & 0x0002) || !EItem->isKnown(0x04)) {

EMap->GenEncounter(0x00000400|0x00000004|0x00000040|0x00040000,
e.vDmg,3,e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
return 1;
}
return 0;
};
Desc: "This wand summons vermin when fired. If the vermin's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the vermin may
      arrive uncontrolled and hostile.";
}

3 Spell "Identify;wand" : 46
{ 0x00000004; Level: 1; qval: 0x0008; Cost: 8;
Flags: 40, 41;
Desc: "This wand identifies the basic magical nature of one chosen
      item when fired."; Purpose: 0x00000;
On Event
52 {
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
},
150 {
EItem->SetCharges(10+1d10);
return 0;
};
Lists:
* 25 4000;
}

3 Effect "Opening" : 46
{ 0x00000002; Level: 3; Cost: 5; qval: 0x0002; cval: 15;
aval: 2; lval: 8;
Desc: "This wand creates a beam when fired which opens any locked 
      or sealed object it strikes.";
On Event 75 {
hObj h; int32 fx, fy;
for (h=EMap->FItemAt(e.EXVal,e.EYVal);h;h=EMap->NItemAt(e.EXVal,e.EYVal))
if (h->isType(26) && h->HasStati(228))
{
h->RemoveStati(228);
APrint(e,"The <hObj> clicks.",h);
}
#line "m_items.irh" 2908
fx = e.EXVal + DirX(EActor->DirToXY(e.EXVal,e.EYVal));
fy = e.EYVal + DirY(EActor->DirToXY(e.EXVal,e.EYVal));
for (h=EMap->FFeatureAt(fx,fy);h;h=EMap->NFeatureAt(fx,fy))
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20)))) {
h->DoorFlags &= ~0x08;
h->DoorFlags |= 0x02;
h->SetImage();
e.isSomething = true;
DPrint(e,"The <hObj> opens.",NULL,h);
}
};
}
#line "m_items.irh" 3092
4 Effect "Size Alteration" : 2
{ xval: 169; Level: 5; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 255),1,10))
return 0;
return 1;
};
Lists:
* 18 $"enlarge" $"reduce"; }

4 Effect "Fellowship" : 2
{ xval: 169; Level: 5; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 255),2,10))
return 1;
if (!EActor->ItemPrereq((rID)(7000 + 106),2,10))
return 1;
return 0;
};
Lists:
* 18
$"calm emotions"
$"shield other"
$"call companions"
$"heroism";
Desc: "This ivory staff is a symbolic represetation of
      alliance and loyalty; many priesthoods create them
      to reward adventuring groups or other heroic bands who
      have done great service for the clergy. In the hands of
      a good-aligned 2nd-level spellcaster of any type, the 
      staff can produce the spells <9>calm emotions<7>, 
      <9>shield other<7>, <9>call companions<7> and
      <9>heroism<7>.";
}


4 Effect "Healing;staff" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0008 + 0x0020),1,10))
return 0;
return 1;
};
Lists:
* 18
$"cure critical wounds" $"restoration"
$"cure disease" $"neutralize poison";
}

4 Effect "the Spider" : 2
{
xval: 169; Level: 5; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 255),3,10))
return 1;
if (e.efNum >= 2 && !EActor->ItemPrereq((rID)(7000 + 66),0,20))
return 1;
return 0;
};
Lists:
* 18
$"spider climb" $"summon swarm"
$"serpent tongue" $"web";
Desc: "A solid adamant rod adorned with carvings of spiders,
      these staves are frequently created by drow sorcerors eager
      to earn the favor of their demonic Spider Queen.\n
      __In the hands of a spellcaster of 3rd level or higher,
      a staff of the spider allows access to the spells <9>spider
      climb<7>, <9>serpent tongue<7>, <9>web<7> and <9>summon
      swarm<7>; it also sustains its wielder's Dexterity. If its
      wielder meets the above requirement and is also a drow, it
      grants a +2 bonus to Poison Use and a +2 bonus to saving
      throws against poison, as well as making spiders inherantly
      friendly to the wielder.";
}
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 124; yval: 39; pval: +2; }
and 2
{ xval: 123; yval: 8; pval: +2; }
and 2
{ xval: 216; yval: (26+(2*256)); }

4 Effect "the Goblin Queen" : 2
{
xval: 169; Level: 6; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 255),3,10))
return 1;
if (!EActor->ItemPrereq((rID)(7000 + 84),0,20))
return 1;
return 0;
};
Lists:
* 18
$"dancing lights" $"improved phantasmal force"
$"summon swarm" $"spook" $"gust of wind"
$"shocking grasp" $"grease" $"visage of death"
$"caustic vitae" $"expeditious retreat" $"reduce"
$"shatter" $"pyrotechnics";
Desc: "Crafted by goblin witch doctors, these staves eminate
      malice and insanity. They are carved with hundreds of eerie, 
      leering inhuman faces, the gemstones set into each face's
      eyesockets glittering even in darkness. A staff of the goblin
      queen holds within it thirteen potent charms that can be used
      by any goblinoid spellcaster of 1st level or above: <9>dancing 
      lights<7>, <9>improved phantasmal force<7>, <9>summon swarm<7>, 
      <9>spook<7>, <9>gust of wind<7>, <9>shocking grasp<7>, <9>grease<7>, 
      <9>visage of death<7>, <9>caustic vitae<7>, <9>expeditious
      retreat<7>, <9>reduce<7>, <9>shatter<7> and <9>pyrotechnics<7>.
      Wielders of the staff also gain a +4 bonus to the Handle Device
      and Bluff skills.\n
      __This power (and diversity!) comes with a price. Wielders of
      the staff constantly hear a giddy, high-pitched laughter that
      gives them a -4 penalty to Spot, Listen and Concentration skills.
      Over time, their behaviour is said to become erratic as they
      become prone to paranoia, mischief, pyromania and generally
      psychotic behaviour.\n
      __Goblins would normally be friendly to the wielder of such an
      item, but in the Goblin Caves the authority of Murgash is
      greater still, and they remain resolute.";
}
and 2
{ xval: 124; yval: 16; pval: +4; }
and 2
{ xval: 124; yval: 6; pval: +4; }
and 2
{ xval: 124; yval: 44; pval: -4; }
and 2
{ xval: 124; yval: 32; pval: -4; }
and 2
{ xval: 124; yval: 8; pval: -4; }

4 Effect "Exorcism" : 2
{
xval: 169; Level: 6; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 0x0008 + 0x0004),3,10))
return 1;
if (!EActor->ItemPrereq((rID)(9000 + 106),0,20))
return 1;
return 0;
};
Lists:
* 18
$"aura of abjuration"
$"bless"
$"detect evil"
$"dispel evil"
$"dispel magic"
$"magic circle vs. evil"
$"remove curse"
$"spiritwrack";
Desc: "Frequently crafted by priests of the church of Immotian,
      these staves are solid and heavy, carved from ivory and clad
      with a ruby at the tip. They allow an accomplished (caster level
      3+) mage or priest of good alignment access to the spells <9>aura 
      of abjuration<7>, <9>bless<7>, <9>detect evil<7>, <9>dispel
      evil<7>, <9>dispel magic<7>, <9>remove curse<7> and
      <9>spiritwrack<7>. Worthy bearers also recieve a +2 sacred
      bonus to all their saving throws.";
}
and 2
{ xval: 107; yval: 52; pval: +2; }

4 Effect "Abjuration" : 2
{
xval: 169; Level: 10; pval: 3;
Desc: "This staff is specially attuned to the magical school 
      of Abjuration, and is carved with sacred words and protective
      glyphs. If the hands of any character with three or more
      arcane casting levels, it grants the a +2 magic bonus to saving
      throws when grasped, and allows access to the spells
      <9>banishment<7>, <9>dismissal<7>, <9>dispel magic<7>,
      <9>energy buffer<7>, <9>magic circle vs. evil<7> and
      <9>minor globe of invulnerability<7>.";
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0008 + 0x0004),3,20))
return 0;
return 1;
};
Lists:
* 18
$"magic circle vs. evil" $"dismissal"
$"dispel magic" $"banishment"
$"minor globe of invulnerability"
$"energy buffer";
}
and 2
{ xval: 106; yval: 52; pval: +2; }

4 Effect "Illusion" : 2
{
xval: 169; Level: 10; pval: 3;
Desc: "This staff is carved from a milky, nearly translucent
      marble, and has a swirling, colorful design painted on its
      surface. In the hands of any character with three or more
      levels as an arcane caster, or a gnome, it grants a +4 bonus to the
      Illusioncraft skill and access to the following spells:
      <9>chromatic orb<7>, <9>spectral force<7>, <9>mirror image<2>,
      <9>displacement<2>, <9>phantasmal killer<7> and
      <9>hypnotic pattern<7>.";
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0004),3,20) ||
EActor->ItemPrereq((rID)(7000 + 64),1,20))
return 0;
return 1;
};
Lists:
* 18
$"chromatic orb" $"spectral force"
$"mirror image" $"displacement"
$"phantasmal killer" $"hypnotic pattern";
}
and 2
{ xval: 124; yval: 19; pval: +4; }

4 Effect "Divination" : 2
{
xval: 169; Level: 10; pval: 3;
Desc: "This staff formed of gnarled oak and engraved with
      an eye motif. In the hands of any character with three or more
      levels as an arcane caster, it grants a +1 bonus to all
      Knowledge skills and access to the following spells:
      <9>detect monsters<7>, <9>Mord's lucubration<7>,
      <9>wizard sight<7>, <9>premonition<7>, <9>identify<7> and
      <9>true sight<7>.";
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0004 + 0x0000),3,20))
return 0;
return 1;
};
Lists:
* 18
$"detect monsters" $"mord's lucubration"
$"wizard sight" $"premonition" $"identify"
$"true seeing";
}
and 2
{ xval: 124; yval: 25; pval: +1; }
and 2
{ xval: 124; yval: 23; pval: +1; }
and 2
{ xval: 124; yval: 24; pval: +1; }
and 2
{ xval: 124; yval: 26; pval: +1; }
and 2
{ xval: 124; yval: 27; pval: +1; }
and 2
{ xval: 124; yval: 28; pval: +1; }
and 2
{ xval: 124; yval: 29; pval: +1; }
and 2
{ xval: 124; yval: 31; pval: +1; }
and 2
{ xval: 124; yval: 30; pval: +1; }

4 Effect "Earth and Stone" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
switch(e.efNum)
{
case 0:
if (EActor->ItemPrereq((rID)(11000 + 0x0004 +
0x0008 + 0x0020 + 0x0000),3,15))
#line "m_items.irh" 3380
return 0;
return 1;
case 1: case 2:
if ( EActor->ItemPrereq((rID)(7000 + 62),1,20) ||
EActor->ItemPrereq((rID)(7000 + 63),1,20) )
return 0;
return 1;
case 3:
if (EActor->ItemPrereq((rID)(7000 + 62),1,20))
return 0;
return 1;
case 4:
if (EActor->ItemPrereq((rID)(7000 + 63),1,20))
return 0;
return 1;
}
};
Lists:
* 18
$"Earthmaw" $"Wall of Stone"
$"Meld into Stone" $"Transmute Rock to Mud"
$"Rooting";
Desc: "Carved out of fine white marble with deep green streaks,
      and topped with a large emerald, mythlore claims that these
      staves are the work of high dwarven clerics working in conjunct
      with ancient grey elf wizards. This rare cooperation has produced
      items of great power and greater artistic value still, celebrating
      the beauty of the element of Earth in both the underground world
      of the dwarves and the life-giving fae glens of elvenkind. Carved
      into the base of the staff are the words <14>Long May Good Causes
      Foster Great Alliances<7> in elven and dwarven script.\n
      __In the hands of a character with three or more levels as a 
      spellcaster, they grant access to the following spells: 
      <9>earthmaw<7>, <9>wall of stone<7>, <9>meld into stone<7>,
      <9>transmute rock to mud<7> and <9>rooting<7>.\n
      __In the hands of an elf or dwarf, the staff also sustains
      Dexterity and Constitution. It grants an elf a +2
      magic bonus to Constitution and a dwarf a +2 bonus to
      Dexterity.";
}
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 125; yval: 2; }
and 2
{ xval: 106; yval: 2; pval: +2; }
and 2
{ xval: 106; yval: 1; pval: +2; }
#line "m_items.irh" 3433
4 Effect "Wind and Water" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 255),3,20))
return 0;
return 1;
};
Lists:
* 18
$"Gust of Wind" $"Gaseous Form"
$"Wall of Fog" $"Waterspout"
$"Air Walk" $"Solid Fog";
Desc: "This staff initially appear to be nothing more than
      a gnarled old cudgel, and in fact that it what most of
      them began their existance as -- the walking sticks of
      a powerful, wise and ancient water spirit that walks the
      lands of Theyra in the guise of an elderly, eccentric
      hermit, giving advice and magical tokens freely to those
      he finds worthy. Nowadays, sadly, they are more likely 
      to show up in the hands of mage guilds or black markets
      then in any pseudohistorical water spirit's hands. Still,
      many mages and priests view these items quite reverantly,
      and pay all due respects to their legendary creator,
      wherever he might be.\n
      __In the hands of a character with three or more levels
      as a spellcaster, this staff grants a +2 enhancement
      bonus to Luck, and also allows access to the spells
      <9>gust of wind<7>, <9>gaseous form<7>, <9>wall of fog<7>,
      <9>waterspout<7>, <9>air walk<7> and <9>solid fog<7>.";
}
and 2
{ xval: 117; yval: 6; pval: +2; }

4 Effect "the Fiery Citadel" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
#line "m_items.irh" 3477
if (e.isWield && e.efNum == 0)
if (!EActor->ItemPrereq((rID)(11000 + 255),3,20))
return 1;
return 0;
};
Lists:
* 18
$"Burning Hands" $"Produce Flame"
$"Wall of Fire" $"Flame Blade"
$"Flaming Sphere" $"Fire Shield";
Desc: "Forged from brass and set with shiny black
      gemstones of unidentifyable quality, this staff
      is said to give a spellcaster authority over the
      power of flame itself. When anyone grasps it,
      they recieve the benefit of the Endurance feat
      and a Cold Resistance of 5. If the bearer is also
      a spellcaster with three or more caster levels,
      she gains access to the spells of <9>burning
      hands<7>, <9>produce flame<7>, <9>wall of fire<7>,
      <9>flame blade<7>, <9>flaming sphere<7> and
      <9>fire shield<7>.";
}
and 2
{ xval: 41; yval: ((((49 + 1) + 32) + 50) + 8); }
and 2
{ xval: 104; yval: 2; pval: 5; }

4 Effect "Winter" : 2
{
xval: 169; yval: 8; pval: 3; Level: 7;
Flags: 55, 93;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 255),3,20))
return 0;
return 1;
};
Constants:
* 102 +2;
Lists:
* 18
$"Ice Storm" $"Chill Touch"
$"Wall of Ice" $"Cone of Cold"
$"Creeping Cold" $"Blight Plants";
* 12 38;
Desc: "Carved from a beautiful aquamarine crystal and
      adorned with a valuable gemstone of a piercing, clear
      blue hue at each end, the witch who created these
      staves was renowned for her vanity, cruelty and
      haughty disposition. A Staff of Winter acts as a 
      <14>+2 quarterstaff of weakening<7>, and also allows
      anyone with a caster level of three or higher who
      grasps it access to the spells <9>blight plants<7>,
      <9>chill touch<7>, <9>cone of cold<7>, <9>creeping 
      cold<7>, <9>ice storm<7>, and <9>wall of ice<7>.\n
      __The staff also grants such a worthy wielder a +2
      enhancement bonus to Charisma and a +4 enhancement
      bonus to Intimidate, but numbs her ability to 
      understand the feelings of others, granting a -6
      penalty to the Sense Motive skill.\n
      __These staves are Lawful Evil in temperment, and
      using them is an evil act.";
}

4 Effect "the Abyss" : 2
{ 0x00000080; 0x00000008; Level: 12; xval: 169;
Flags: 55, 76, 49, 25, 93;
On Event (28+500) {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0004 + 0x0008),5,20))
return 0;
return 1;
};
Lists:
* 18
$"bestow curse" $"burning blood" $"contagion"
$"deeper darkness" $"desecrate"
$"dire charm" $"enervation" $"unholy blight"
$"wall of fire" ;
Desc: "There is no academically credible mortal origin
      for these staves, despite several forged manuscripts 
      claiming to be an ancient wizard's account of inventing
      them. All extant accounts of the creation of these
      blasphemous items -- there are only perhaps a dozen
      in total -- refer to reverse engineering of prior
      principles based on research or observation of an older
      Staff of the Abyss. What is commonly said about these
      items among demonologists is that they are a genius
      triumph of human will over supernatural evil, giving 
      mortal men power over the Abyss itself. But considering
      their conspicious lack of history, holy men wise in the
      ways of demons say the opposite: that the first such
      staff was forged in the Abyss, by the Demon Lords, and 
      that its intent in the long run was not to give men
      power over demons -- but the exact opposite. Demons, 
      after all, understand the ways of men all too well.\n
      __A staff of the Abyss is an inert stick in the hands of
      any good character, or any character with less then five
      levels as an arcane or divine spellcaster -- druids lack
      the abstract ethos to grasp the staff's function. In the
      hands of a non-good caster, however, it grants access to
      the following spells: <9>bestow curse<7>, <9>burning blood<7>,
      <9>cacodaemon<7>, <9>contagion<7>, <9>death knell<7>, 
      <9>deeper darkness<7>, <9>desecrate<7>, <9>dire charm<7>,
      <9>enervation<7>, <9>ensnarement<7>, <9>unholy blight<7>
      and <9>wall of fire<7>.\n
      __Its spells, however, are not nearly its most potent
      ability. It strikes in combat as a <11>+2 vampiric quarterstaff
      of terror<7>, and three times per day its wielder can
      activate it, commanding it to change into a vrock -- an
      inhuman demon that will (seem to) serve him as a loyal
      follower for the duration of the effect if he succeeds
      in an opposed Charisma check with it. If he fails, however,
      the vrock is uncontrolled, and will likely attack the former
      staff-bearer. It is this dangerous ability that has destroyed
      dozens of mages, and even if the caster can dominate the
      demon's personality, another issue remains: if the vrock is
      slain in combat, the staff will consume the very life-essence
      of its bearer in order to re-create the creature, costing him
      7500 experience points permanently.\n
      __Despite these incredible risks, these staves continue to
      turn a brisk trade in the assasins markets and the dark
      circles of necromancers and diabolists."; }
and 46
{ On Event 28 {
hObj hVrock;
if (e.isActivation)
{
EMap->GenEncounter(0x00000080|0x00008000|0x00000004|0x00020000,10,10,
(int32)$"vrock", 0, ((rID)0), e.EXVal, e.EYVal, EActor);
hVrock = EMap->GetEncounterCreature(0);
hVrock->GainTempStati(167,EItem,e.vDuration,
2,0,0,$"the Abyss",e.vCasterLev);
hVrock->GainPermStati(79,EItem,7,
(42+2000),0,$"the Abyss",0);
EItem->Remove(false);
DPrint(e, "Your staff transforms into a terrible vulture-demon!",
"The <EActor>'s staff transforms into a terrible vulture-demon!");
EActor->IdentByTrial(EItem);
return 1;
}
return 0;
},
((42+2000)+10000)
{
hObj hCreator;
hCreator = EActor->GetEffStatiObj(
79,$"the Abyss");

hCreator->IPrint("Your Staff of the Abyss devours part of your
          soul to replace the destroyed vrock!");
if (hCreator->isCharacter())
hCreator->LoseXP(7500);
return 0;
};
Constants:
* 102 +2;
Lists:
* 12 32 31;
}
#line "m_items.irh" 3647
9 Effect "Striding and Springing" : 2
{ Flags: 44;
0x00000080; xval: 106; yval: 26; pval: -90; Level: -92; }
and 2
{ xval: 124; yval: 22; pval: -92;
Desc: "When worn, these boots grant a 20~ bonus to your
      movement rate and a +2 magic bonus to your Jump skill per magical
      plus they possess."; }

9 Effect "Evasive Footwork" : 2
{ 0x00000080; xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 27); Level: 3; }
and 2
{ xval: 41; yval: (((49 + 1) + 32) + 44);
Desc: "When worn, these boots grant you the benefit of the Dodge and
      Mobility feats."; }

9 Effect "the Spur" : 2
{ 0x00000008; xval: 79; yval: 19; pval: -93;
Flags: 44; Level: -92;
On Event (19+10000) {
hObj hBoots; int32 bonus;
if (e.AType == 2 && e.DType == 13) {

bonus = EActor->GetEffStatiVal(79,$"the Spur");
e.vHit += bonus;
e.vDmg += bonus*2;
hBoots = EActor->GetEffStatiObj(79,$"the Spur");
if (GetHandle(hBoots) != ((hObj)0) && hBoots->isKnown(0x08))
{
e.strHit += Format(" %+d spur",bonus);
e.strDmg += Format(" %+d spur",bonus*2);
}
}
return 0;
};
Desc: "When kicking while wearing these boots, you recieve a
      magic bonus to the attack roll equal to the boots' magic
      plus, and a magic bonus to the kick's damage equal to twice
      their plus. In addition, they provide a magical bonus to your
      Ride skill equal to two times their plus. Finally, you enjoy the
      benefit of the Overrun feat while mounted.";
}
and 2
{ xval: 124; yval: 40; pval: -92; }
and 2
{ xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 6); }

9 Effect "Elvenkind;boots" : 2
{ 0x00000020; xval: 124; yval: 36;
pval: -91; Flags: 44, 44;
Level: -92;
Desc: "These boots grant you a magic bonus to your Move
      Silently skill rating equal to thrice their magical plus."; }

9 Effect "Thunder" : 3
{ 0x00000002; Level: 3;
aval: 11; lval: 6; qval: 0x0002;
xval: 15; sval: 1; cval: 6;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (ETarget->HasMFlag(12))
return -1;
if (ETarget->HasMFlag(13))
return -1;
if (ETarget->HasAbility(36))
return -1;
if (ETarget->HasStati(127))
return -1;
return 0; },
52 {
if (!e.isWield && !e.isRemove) {
DPrint(e, "You stomp your feet, and the floor shakes violently!",
"The <EActor> stomps <his:EActor> feet, and the floor shakes violently!");
}
return 0;
},
28
"The <EVictim> falls down." /
"You fall down!" /
"The <EVictim> falls down.";
Flags: 48; Purpose: 0x00004;
Desc: "When these powerful magical boots are activated, they cause
      the floor to shake, making every bipedal creature within 60 feet
      of you that fails a Reflex saving throw fall down and become
      Prone."; }

9 Effect "Levitation;boots" : 2
{ 0x00000002; xval: 127; yval: 2; pval: 2;
Flags: 67; Level: 3; }
and 2
{ xval: 117; yval: 50; pval: -2; }
and 2
{ xval: 117; yval: 55; pval: -3; }
and 2
{ xval: 117; yval: 26; pval: -10;
Desc: "These boots cause you to levitate when worn, duplicating
      the effects of the <9>Levitation<7> spell."; }

9 Effect "Phasing" : 2
{ 0x00000100; Flags: 67;
xval: 39; yval: 61; pval: 2;
Level: 14;
Desc: "These boots grant you the ability to phase in and out
      of the ethereal plane, which can be accessed with the Use
      Special Ability ('u') command.";
On Event 84, 74 {
EActor->RemoveStati(102);
return 0;
};
}



9 Effect "Tripping and Stumbling" : 2
{ 0x00000080; Level: 6; Flags: 2;
xval: 106; yval: 26; pval: -10; }
and 2
{ xval: 79; yval: (19+1000); pval: 2;
On Event ((19+1000)+10000) {
if (random(10))
return 0;
if (EActor->isFlatFooted())
return 0;
if (EActor->HasStati(15))
return 0;
DPrint(e,"You trip and fall!",
"The <EActor> trips and falls!");
EActor->IdentByTrial(EActor->GetEffStatiObj(-1,$"Tripping and Stumbling"),0);
EActor->GainPermStati(15,NULL,7);
return 1;
};
Desc: "These cursed boots reduce your movement rate by -50~, and
      cause you to trip (and thus become Prone) at random times when
      trying to attack in combat.";
}
#line "m_items.irh" 3796
10 Effect "Archery" : 2
{ 0x00000008; xval: 109; yval: 12; pval: -93;
Level: -80; Flags: 44; }
and 2
{ 0x00000008; xval: 109; yval: 20; pval: -93;
Desc: "This item gives you a competance bonus to hit and damage
       equal to its plus when firing a bow, crossbow or sling
       (or any other launcher that fires a missile, e.g. a blowpipe)."; }

7 Effect "the Powerful Grip" : 2
{ 0x00000080; xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 28); Level: 3; }
and 2
{ xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Desc: "This item gives you supernaturally strong arms and wrists,
      granting you the benefits of the Monkey Grip and Power Attack
      feats."; }

10 Effect "the Dervish" : 2
{ 0x00000080; xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12); Level: 6; }
and 2
{ 0x00000080; xval: 41; yval: ((49 + 1) + 7); }
and 2
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11);
Desc: "These bracers gives you supernaturally skilled arms, granting you the
     benefits of the Two-Weapon Style, Ambidexterity and Twin Weapon Style
     feats."; }

10 Effect "Blinding Strikes" : 2
{ 0x00000080; Flags: 44;
xval: 117; yval: 54; pval: -72;
Level: -72; }
and 2
{ xval: 117; yval: 50; pval: -92;
Desc: "These powerful magical items give you a 5~ circumstance bonus to
      your attack speed, plus 10~ per plus they possess, as well as a +2
      circumstance bonus to all attack rolls you make per plus they
      possess."; }

10 Effect "Missile Deflection" : 2
{ 0x00000001; Flags: 67;
xval: 41; yval: (((49 + 1) + 32) + 30); Level: 1;
Desc: "These bracers bestow upon you the benefit of the Deflect
      Arrows feat, even if you do not meet the prerequisites for
      gaining that feat normally."; }

10 Effect "Neutralization" : 2
{ 0x00000001; Level: 10;
xval: 177; yval: 3;
Desc: "These legendary bracers grant you a total immunity to
      damage from acid when worn."; }

10 Effect "Grounding" : 2
{ 0x00000001; Level: 10;
xval: 177; yval: 4;
Desc: "These legendary bracers grant you a total immunity to
      damage from lightning or electricity when worn."; }

10 Effect "Defense" : 2
{ 0x00000001; Level: -92; Flags: 44;
xval: 106; yval: 27; pval: -93;
Desc: "These bracers improve your defense class and coverage with a magic
      bonus equal to the magical plus they possess."; } and 2
{ xval: 106; yval: 39; pval: -92; }

10 Effect "Killing Hands" : 2
{ 0x00000080; Level: -92; Flags: 44;
xval: 106; yval: 13; pval: -93; } and 2
{ 0x00000080;
xval: 106; yval: 21; pval: -93;
Desc: "These increase your hit rolls and the damage you inflict when
    making unarmed attacks by two points per plus. In addition, your
    unarmed strikes count as magical weapons with a plus equal to this
    item's plus. This is a magic bonus.";
} and 2
{ 0x00000080; xval: 39; yval: 48; pval: -93; }

10 Effect "Vulnerability" : 2
{ 0x00000008; xval: 106; yval: 27; pval: -92;
Flags: 2, 44; Level: -93;
Desc: "These cursed bracers reduce your defense class by two
      points per magical plus they possess."; }

Item "springblade" : 58
{ Image: gray '('; Group: 0x00000004;
Mat:11; Size: 3; Weight: 30;
Cost: 9 1; Parry: 4;
SDmg:1d6; LDmg:1d6+1; Acc: +1; Crit: x2; Threat: 3; Spd: 130%;
Flags: 17, 26, 27, 1;
On Event (20+500) {
if (EItem->HasEffStati(188,$"Springblade Bracers"))
{ e.isFlatFoot = true;
EActor->IPrint("Springblade effect!");
EItem->RemoveEffStati($"Springblade Bracers"); }
return 0;
};
}

10 Effect "Springblade Bracers" : 46
{ 0x00000002; 0x00000008; Level: 3;
Flags: 20, 48, 66, 33;
Desc: "These crafty mechanical bracers are favored by gnomes
      and assasins. Mounted carefully inside them are two spring-loaded
      telescoping mithril blades, that when fully extended are not
      unlike those of a short sword. Activating the bracers causes
      the blades to snap out; this takes no time, but does require
      a Handle Device check (DC 15). The blades can be retracted
      by using the Cancel Standing Power ('x') command. Rogues use
      these weapons because they often allow them to get in a
      second sneak attack after a fight has begun -- the first
      attack made with a springblade within a single round of their
      deployment automatically treats a foe as flat-footed.\n
      __This particular set of springblade bracers contains a pair
      of <11>+2 keen springblades<7>.";
On Event 28 {
hObj hBlade1, hBlade2; int32 count;
EActor->Timeout = 0;
if (EActor->HasStati(170))
{
EActor->IPrint("You're already loaded!");
return 1;
}

hBlade1 = EItem->GetEffStatiObj(189,
$"Springblade Bracers");
hBlade2 = EItem->GetEffStatiObj(190,
$"Springblade Bracers");

if (!(hBlade1 || hBlade2))
{
EActor->IPrint("Both the blades in these bracers have been
            destroyed. They're useless now.");
return 1;
}

count = 0;
if (hBlade1)
{
EActor->GainTempStati(170,hBlade1,-2,
7,2,0, $"Springblade Bracers");
hBlade1->RemoveStati(188);
hBlade1->GainTempStati(188,NULL,2,
7,0,0, $"Springblade Bracers");
count++;
}

if (hBlade2 && (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)) ||
!hBlade1))
{
EActor->GainTempStati(170,hBlade2,-2,
7,1,0, $"Springblade Bracers");
hBlade2->RemoveStati(188);
hBlade2->GainTempStati(188,NULL,2,
7,0,0, $"Springblade Bracers");
count++;
}

if (count == 2)
DPrint(e,"Gleaming blades snap out of your bracers!",
"Gleaming blades snap out of the <EActor>'s wrists!");
else
DPrint(e,"A gleaming blade snaps out of one of your bracers!",
"A gleaming blade snaps out of the <EActor>'s wrist!");
return 1;
},
31 {
EActor->RemoveEffStati($"Springblade Bracers");
return 0;
},
150 {
hObj nhBlade1, nhBlade2; int32 type;

nhBlade1 = CreateItem($"springblade");
nhBlade2 = CreateItem($"springblade");
type = 1d6;

switch (type)
{
case 1:
nhBlade1->SetInherantPlus(2);
nhBlade1->AddQuality(13);
nhBlade2->SetInherantPlus(1);
nhBlade2->AddQuality(13);
break;
case 2:
nhBlade1->SetInherantPlus(3);
nhBlade2->SetInherantPlus(3);
break;
case 3:
nhBlade1->SetInherantPlus(2);
nhBlade1->AddQuality(7);
nhBlade2->SetInherantPlus(2);
nhBlade2->AddQuality(9);
break;
case 4:
nhBlade1->SetInherantPlus(2);
nhBlade1->AddQuality(8);
nhBlade2->SetInherantPlus(1);
nhBlade2->AddQuality(53);
break;
case 5:
nhBlade1->SetInherantPlus(1);
nhBlade1->AddQuality(47);
nhBlade1->GainPermStati(2,NULL,7,
0,0, $"lich dust");
nhBlade2->SetInherantPlus(3);
break;
case 6:
nhBlade1->SetInherantPlus(1);
nhBlade1->AddQuality(37);
nhBlade2->SetInherantPlus(1);
nhBlade2->AddQuality(38);
break;
}
EActor->GainPermStati(189,nhBlade1,7, type, 0, $"Springblade Bracers");
EActor->GainPermStati(190,nhBlade2,7, type, 0, $"Springblade Bracers");
return 0;
},
163 {
switch(EActor->GetEffStatiVal(-1,$"Springblade Bracers"))
{
case 1: e.nAppend += " (+2 keen/+1 keen)"; break;
case 2: e.nAppend += " (+3/+3)"; break;
case 3: e.nAppend += " (+3 flame/+2 frost)"; break;
case 4: e.nAppend += " (+2 shock/+1 pain)"; break;
case 5: e.nAppend += " (+1 venom/+3)"; break;
case 6: e.nAppend += " (+1 weakening/+1 numbing)"; break;
default: e.nAppend += " (broken)"; break;
}
return 0;
};
}
#line "m_items.irh" 4036
7 Effect "Fumbling" : 2
{ 0x00000080; xval: 106; yval: 1; pval: -93;
Flags: 2, 44; Level: -93;
Desc: "These cursed gauntlets apply their magical plus as a 
      penalty to your Dexterity score."; }

7 Effect "Rust;gauntlet" : 2
{ 0x00000001; Level: 2; xval: 177; yval: 39; }
and 2
{ 0x00000001; Level: 2; xval: 177; yval: 57; }
and 2
{ xval: 177; yval: 74;
Desc: "This magical item grants you total immunity to rust
    attacks (such as those from a Rust Monster or rust trap), water
    splashes (such as those from a Water Elemental or deep water) and
    organic decay attacks (such as those from a Bornw Pudding or a decay
    trap)."; }
and 46
{ aval: 6;
xval: 39; pval: 8d6; Purpose: 0x00001;
cval: 5; Flags: 71, 49,
76;
#line "m_items.irh" 4060
On Event 155 {
hObj h;
if (h = ETarget->InSlot(2))
if (h->Material() == 11)
return 1;
if (h = ETarget->InSlot(9))
if (h->Material() == 11)
return 1;
if (h = ETarget->InSlot(15))
if (h->Material() == 11)
return 1;
if (h = ETarget->InSlot(17))
if (h->Material() == 11)
return 1;
return -1;
},
206
"Your gauntlets glow with a russet aura!" /
"The <EActor>'s gauntlets glow with a russet aura!";
}

7 Effect "Lightning;gauntlets" : 2
{ 0x00000010; xval: 79; yval: (20+1000);
Level: -92; Flags: 44;
On Event ((20+1000)+10000) {
hObj gl; gl = EActor->InSlot(15);
if (!((e.AType) > 0 && (e.AType) <= 29) || (!gl))
return 0;
EActor->IDPrint("Your gauntlets crackle!",
"The <hObj>'s gauntlets crackle!",EActor);
ThrowDmg(41,4,(gl->GetInherantPlus())d4,"lightning gauntlets",EActor,EVictim);
EActor->IdentByTrial(gl);
};
Desc: "When you make a natural attack (e.g., a punch, a kick, a claw
    attack) against a creature, these inflict 1d4 points of bonus
    electrical damage on the victim per magical plus they possess.";
}

7 Effect "Legerdemain" : 2
{ 0x00000080; xval: 41; yval: ((((49 + 1) + 32) + 50) + 17); Level: 2;
Desc: "This magical item grants its wearer the benefits of the Faster
    Then The Eye feat, allowing for rapid item shuffling and looting. In 
    addition, it allows its wearer to detect all chests within 300 feet 
    (30 squares)."; }
and 2 { xval: 153; yval: 26; pval: 30; }

7 Effect "Nimble Fingers" : 2
{ 0x00000002; xval: 124; yval: 38;
pval: -92; Flags: 44;
Level: -92;
Constants:
* 101 $"gloves";
Desc: "These fine black gloves improve your Handle Devices, Lockpicking 
      and Pick Pockets skill with a magic bonus equal to twice their plus."; }
and 2 { xval: 124; yval: 33; pval: -92; }
and 2 { xval: 124; yval: 16; pval: -92; }
#line "m_items.irh" 4121
13 Spell "Identify;ring" : 46
{ 0x00000004; Level: 1; qval: 0x0008; Purpose: 0x00000;
Flags: 40, 41, 45, 76,
48;
Desc: "This ring identifies the basic magical nature of one chosen
      item when activated; it can be used thus three times per day.";
On Event
13 {
EActor->IPrint("The ring self-identifies!");
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
Lists:
* 25 2500;
}

13 Spell "Greater Ring of Identify" : 46
{ 0x00000004; Level: 5; qval: 0x0008; Purpose: 0x00000;
Flags: 40, 41, 45, 77,
20, 48;
Desc: "This ring identifies the basic magical nature of one chosen
      item when activated; it can be used thus seven times per day.";
On Event
13 {
EActor->IPrint("The ring self-identifies!");
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
Lists:
* 25 8000;
}

13 Effect "Evasion" : 2
{ 0x00000080; xval: 39; yval: 31; pval: +4;
Level: 5;
Desc: "This ring grants you four levels of the Evasion ability (as
      the rogue and monk class feature), or improves any existing Evasion 
      ability you may have by four levels. Evasion allows you to dodge
      spell blasts if you are wearing light armor or no armor and you
      make a successful Reflex save. If you dodge a spell that allows a
      saving throw you take no damage. If the spell does not normally
      allow a saving throw, you take half damage."; }

13 Effect "Infravision;ring" : 2
{ 0x00000080; xval: 39; yval: 42; pval: +6;
Level: 1;
Desc: "This ring grants you Infravision to a range of 60 feet, or
      improves the range of your existing Infravision by 60 feet."; }
#line "m_items.irh" 4197
13 Effect "the Imp" : 9
{ 0x00000100; rval: $"quasit"; pval: 2; Level: 1; Purpose: 0x00100;
Flags: 48, 95, 55, 22, 25,
76;
Desc: "This elegant, sharp-edged ring serves as a planar prison
      for an imp, holding the creature within it until its wearer
      summons it by activating the ring. The service of the imp is
      truly eternal -- if it is slain, it reforms after a day's 
      rest inside the ring, and it heals fully when resting inside 
      the ring.";
On Event 214
"The imp isn't currently in the ring.",
74
"The imp returns to the ring.",
(28+1000) {
hObj hImp;
hImp = EMap->GetEncounterCreature(0);
if (hImp != NULL)
hImp->GainPermStati(79,EItem,7,
((42+2000)+1000), 0, $"the Imp", e.vCasterLev);
return 0;
},
(52+500) {
if (EItem->HasEffStati(72,$"the Imp"))
{
EActor->IPrint("The imp is still recovering after being killed.");
return 2;
}
return 0;
},
(((42+2000)+1000)+10000) {
hObj hRing;
if (!EVictim->isDead())
return 0;
hRing = EVictim->GetEffStatiObj(79,$"the Imp");
hRing->GainTempStati(72,NULL,-1,7, 0, 0, $"the Imp");
return 0;
};
}

13 Effect "Ring, Djinn Prison" : 9
{ 0x00000100; rval: $"djinni"; pval: 8; Level: 7; Purpose: 0x00100;
Flags: 48, 95, 25, 76, 20;
Desc: "This finely crafted Arabic ring serves as a planar prison
      for djinn, holding the creature within it until its wearer
      summons it by activating the ring. The service of the djinni is
      truly eternal -- if it is slain, it reforms after a day's 
      rest inside the ring, and it heals fully when resting inside 
      the ring.";
On Event 214
"The djinni isn't currently in the ring.",
74
"The djinni returns to the ring.",
(28+1000) {
hObj hImp;
hImp = EMap->GetEncounterCreature(0);
if (hImp != NULL)
hImp->GainPermStati(79,EItem,7,
((42+2000)+1000), 0, $"Ring, Djinn Prison", e.vCasterLev);
return 0;
},
(52+500) {
if (EItem->HasEffStati(72,$"Ring, Djinn Prison"))
{
EActor->IPrint("The djinni is still recovering after being killed.");
return 2;
}
return 0;
},
(((42+2000)+1000)+10000) {
hObj hRing;
if (!EVictim->isDead())
return 0;
hRing = EVictim->GetEffStatiObj(79,$"Ring, Djinn Prison");
hRing->GainTempStati(72,NULL,-1,7, 0, 0, $"Ring, Djinn Prison");
return 0;
};
}


13 Effect "Mind Shielding" : 2
{ 0x00000001; xval: 106; yval: 30; pval: -92;
Flags: 44; Level: -92;
Desc: "This ring shields you from unnatural mental influences, giving
      you a magic bonus to your Will saving throw equal in magnitude to
      twice times its plus. In addition, it sustains the wearer's
      Intelligence and Wisdom. Finally, the wearer cannot be sensed by
      telepathy."; } and 2
{ xval: 125; yval: 3; pval: -92; } and 2
{ xval: 125; yval: 4; pval: -92; } and 2
{ xval: 211; yval: 0x0080; }

13 Effect "Water Walking;ring" : 2
{ 0x00000020; xval: 130; pval: 1; Level: 4;
Desc: "This ring allows you to walk upon water as if it were a
      solid surface when worn, avoiding the effects of getting wet
      or drowning."; }

13 Effect "Climbing" : 2
{ 0x00000080; xval: 124; yval: 7; pval: -91;
Flags: 44; Level: -92;
Desc: "When worn, this ring grants you a magic bonus to your
      Climbing skill equal to three times its plus."; }

13 Effect "the Chameleon" : 2
{ 0x00000080; xval: 124; yval: 18; pval: -91;
Flags: 44; Level: -92;
Desc: "This ring causes your image to shift color to match the
      surrondings, giving you a magic bonus to your Hide skill equal
      to thrice its level of enchantment. In addition, it may be
      used to dominate any one nearby reptile three times per day."; }
and 2
{ 0x00000008; xval: 137; yval: 4; Level: -91;
tval: 51; aval: 11; qval: 0x0004;
Flags: 49, 4, 25, 69, 76;
sval: 2; }

13 Effect "Animal Kinship" : 2
{ 0x00000080; xval: 124; yval: 2; pval: -92;
Flags: 44; Level: -92;
Desc: "This ring bestows a supernatural kinship to animals,
      improving your Animal Empathy skill by twice its level of
      enchantment. At +3 or higher, it will allow you to use the
      skill even if you have no ranks in it. In addition, true
      animals will always be initially neutral to you."; }
and 2
{ xval: 214; yval: 2; }

13 Effect "Jumping" : 2
{ 0x00000080; xval: 124; yval: 22; pval: -91;
Flags: 44; Level: -92;
Desc: "When worn, this ring grants you a magic bonus to your
      Jumping skill equal to three times its plus."; }

13 Effect "Invisibility;ring" : 3
{ 0x00000020; xval: 100; yval: 1; pval: -90;
Flags: 25, 48, 76; Level: 7;
Desc: "This ring renders the wearer invisible for a brief period
      when it is activated, subject to the same limitations as the
      <9>invisibility<7> spell. It can be used in this manner three 
      times per day."; }
#line "m_items.irh" 4362
13 / 37 Effect "Penetrating Sight" : 2
{ 0x00000004; xval: 141; yval: 1; pval: -92;
Level: -67; Flags: 44;
Desc: "This item allows its wearer to see through solid matter,
      percieving all things within 20 feet per magical plus it
      possesses, even if they would normally be obstructed by a
      wall or other barrier."; }

13 / 27 Effect "Channeling" : 2
{ 0x00000100; xval: 106; yval: 37; pval: -90;
Flags: 44; Level: -91;
Desc: "This item augments a character's natural reserve of magical
      energy, increasing the size of her mana pool by 20 points per
      plus it possesses."; }

14 / 37 Effect "See Invisible" : 2
{ 0x00000004; xval: 101; Level: 1;
Desc: "Wearing this allows a character to see invisible creatures
      and objects clearly, as if they were not invisible."; }

13 Effect "Regeneration" : 2
{ 0x00000080; xval: 39; yval: 66; pval: -92;
Level: -67; Flags: 44;
Desc: "This item causes a character to constantly and rapidly heal
      any wounds they suffer, with the rate at which hit points are
      recovered being determined by the ring's magical plus."; }

13 Effect "the Ram" : 1
{ 0x00000010; Cost: 5; xval: 13; pval:(-93)d10; cval: 15;
aval: 1; qval:0x0001 | 0x0004; sval: 1 Partial; Flags: 48;
Purpose: 0x00001; Level: -92; Flags: 44, 76;
Desc: "This ring can project a blast of concussive force shaped vaguely
      like a ghostly ram's head when activated, inflicting 1d10 points of
      blunt damage per magical plus. The bolt may also knock its victim
      back, and if the victim fails a Reflex save for half damage, it is
      also stunned. This effect can be used three times per day."; }
and 1
{ xval: 61; pval: (-93)d2; sval: 1 partial; aval: 1; }
and 3
{ xval: 5; sval: 1; Flags: 24; aval: 1;
On Event 200 "ram-shaped force construct"; }

13 Effect "Polymorphing" : 32
{ 0x00000080; lval: 50; Flags: 1; Level: 3;
Flags: 3;
Desc: "When worn, this ring causes a wearer to randomly shapeshift 
      into a different type of creature at regular intervals."; }

13 Effect "Spell Disruption" : 2
{ 0x00000008; xval: 106; yval: 55; pval: -10; Flags: 2;
Level: 3;
Desc: "This accursed ring inhibits spellcasting, inflicting a
      -50~ penalty to all spell success chances."; }

13 Effect "Weakness;ring" : 2
{ 0x00000080; xval: 106; yval: 0; pval: -6; Flags: 2;
Level: 0;
Desc: "This cursed ring weakens its wearer, granting a -6 magic
      penalty to her Strength."; }

13 Effect "Ignorance" : 2
{ 0x00000008; xval: 106; yval: 3; pval: -6; Flags: 2;
Level: 0;
Desc: "This cursed ring stunts its wearer's intellect, granting
      a -6 magic penalty to her Intelligence."; }


13 Effect "Free Action;ring" : 2
{ 0x00000001; xval: 177; yval: 18; Level: 3;
Desc: "This item grants its wearer supernatural freedom of movement, rendering 
      her immune to paralysis, petrification, slowing, entangling and similar 
      impediments."; }
and 2 { xval: 177; yval: 14; }
and 2 { xval: 177; yval: 25; }
and 2 { xval: 177; yval: 19; }

13 Effect "Aggravate Monster" : 2
{ 0x00000008; xval: 215; yval: -1; Flags: 2; Level: 0;
Desc: "This cursed item causes all monsters to be hostile to the wearer
    by default.";
}

13 Effect "Elemental Command (Air)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The air ring was given to...\n
      __The Ring of Elemental Command (Air) carries several benefits.
      Air elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of air (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command air
      creatures as an Air priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also duplicates the
      effects of a Ring of Feather Falling.\n
      __The bearer of the ring of air does suffer a minor curse among all
      the benefits, however, suffering a -4 penalty to saving throws
      versus knockdown or knockback.\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental air: <9>wind column<7>, <9>gust of wind<7>,
      <9>wind wall<7>, <9>air walk<7>, <9>cloudkill<7> and <9>chain
      lightning<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(93))
return 0;

e.strHit += " -2 EC(Air)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,93);
EVictim->GainPermStati(35,EItem,1, 93,
max(10,clev+5), $"Elemental Command (Air)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"gaseous form" $"gust of wind" $"wind wall"
$"air walk" $"cloudkill"
2 $"chain lightning";
}
and 2
{ xval: 39; yval: 77; pval: 1; }
and 2
{ xval: 123; yval: 20; pval: -4; }

13 Effect "Elemental Command (Earth)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The earth ring was given to...\n
      __The Ring of Elemental Command (Earth) carries several benefits.
      Earth elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of earth (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command earth
      creatures as an Earth priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also sustains its
      wearer's Strength and Constitution.\n
      __The bearer of the ring of air does suffer a minor curse among all
      the benefits, however, suffering a -4 penalty to saving throws
      versus petrification.\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental earth: <9>soften stone<7>, <9>stone tell<7>,
      <9>stoneskin<7>, <9>meld into stone<7>, <9>wall of stone<7> and 
      <9>tremor<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(94))
return 0;

e.strHit += " -2 EC(Earth)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,94);
EVictim->GainPermStati(35,EItem,1, 94,
max(10,clev+5), $"Elemental Command (Earth)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"meld into stone" $"stoneskin" $"soften stone"
$"tremor" $"wall of stone" $"stone tell";
}
and 2
{ xval: 125; yval: 0; pval: 10; }
and 2
{ xval: 125; yval: 2; pval: 10; }
and 2
{ xval: 123; yval: 7; pval: -4; }

13 Effect "Elemental Command (Fire)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The fire ring was given to...\n
      __The Ring of Elemental Command (Fire) carries several benefits.
      Fire elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of fire (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command fire
      creatures as a Fire priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also grants its
      wearer a Fire Resistance of 10.\n
      __The bearer of the ring of fire does suffer a minor curse among all
      the benefits, however, suffering 150~ damage from all cold-based
      attacks (before resistance).\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental fire: <9>burning hands<7>, <9>flaming sphere<7>,
      <9>pyrotechnics<7>, <9>wall of fire<7>, <9>flame strike<7> and 
      <9>flame blade<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(95))
return 0;

e.strHit += " -2 EC(Fire)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,95);
EVictim->GainPermStati(35,EItem,1, 95,
max(10,clev+5), $"Elemental Command (Fire)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"burning hands" $"flaming sphere" $"pyrotechnics"
$"wall of fire" $"flame blade"
2 $"flame strike";
}
and 2
{ xval: 104; yval: 1; pval: 12; }
and 2
{ xval: 79; yval: (41+2000);
On Event ((41+2000)+10000) {
if (e.DType = 2)
e.vDmg = (e.vDmg * 3) / 2;
return 0;
};
}

13 Effect "Elemental Command (Water)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The water ring was given to...\n
      __The Ring of Elemental Command (Water) carries several benefits.
      Water elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of water (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command water
      creatures as a Water priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also grants its
      wearer the ability to breath water.\n
      __The bearer of the ring of water does suffer a minor curse among all
      the benefits, however -- suffering a -4 penalty to saving throws
      against poison.\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental fire: <9>water walking<7>, <9>part water<7>,
      <9>wall of ice<7>, <9>ice storm<7>, <9>create water<7> and 
      <9>waterspout<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(92))
return 0;

e.strHit += " -2 EC(Water)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,92);
EVictim->GainPermStati(35,EItem,1, 95,
max(10,clev+5), $"Elemental Command (Water)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"create water" $"water walking" $"waterspout"
$"wall of ice" $"ice storm" $"part water";
}
and 2
{ xval: 132; }
and 2
{ xval: 123; yval: 8; pval: -4; }
#line "m_items.irh" 4780
13 Effect "Item Preservation" : 2
{ 0x00000008; 0x00000100; Level: 2; Purpose: 0x00010;
xval: 79; yval: ((42+2000)+1000);
#line "m_items.irh" 4795
Desc: "These rings are highly valued by merchants, especially
      those who sell valuable magical items. Their enchantment is
      simple -- upon the death of the wearer, or if the wearer is
      rendered unconscious or paralyzed, they transport any items 
      the wearer carries into a specially prepared extradimensional 
      space. These items can later be retrieved by the merchant guild 
      or family the merchant works for using powerful magical rituals.
      Thus, they serve as powerful deterrants to those who would
      murder merchants and shop-keepers in order to loot the goods
      from their bodies.\n
      __Powerful NPC adventurers also sometimes wear these rings as
      deterrants against theft-by-murder, and to preserve their
      items for their (hopeful) ressurection. However, they aren't as
      useful to player characters, who typically don't belong to 
      the powerful guilds that have the means to recover the items
      sequestered by the ring's magic.";
}
#line "m_items.irh" 4934
14 Effect "Natural Armor" : 2
{ xval: 118; yval: 17; pval: -92;
Flags: 44; Level: -91;
Desc: "This amulet grants its wearer a natural armor rating of
      twice its magical plus against slashing, piercing and blunt
      damage."; }

14 Effect "Strangulation" : 2
{ 0x00000002; xval: 79; yval: 32; tval: 75;
Flags: 2, 67; Level: 0;
On Event (32+10000) {
ThrowDmg(41,0,1d8,"strangulation",EActor,EActor);
return 0;
};
On Event 83
"The amulet's cord tightens around your neck!" /
"The amulet's cord tightens around the <EVictim>'s neck!";
Desc: "This twisted amulet begins to strangle its wearer as soon
      as it is put on, inflicting 1d8 points of damage per turn until
      it is removed.";
}

14 Effect "Radiance" : 46
{ 0x00000010; Flags: 67 | 44;
lval: -76;
Level: -78;
aval: 9; rval: 0x00000080; cval: 14;
On Event 83
"The amulet emits a great radiance!" /
"The <EActor>'s amulet emits a great radiance!";
Desc: "This amulet emits a brilliant aura of golden light, illuminating
      an area 50 feet (5 squares) in radius around its wearer, plus 10 feet
      (1 square) per magical plus."; }

14 Effect "Life Protection" : 2
{ xval: 104; yval: 6; pval: -90; Flags: 44; }
and 2
{ xval: 123; yval: 5; pval: -92; Level: -92;
Desc: "This item shields its wearer from negative energy, granting
      four levels of necromantic damage resistance and a +2 bonus to save
      versus death effects per magical plus it is imbued with."; }

14 Effect "Amulet versus Undead" : 2
{ xval: 33; yval: 76; pval: -92;
On Event 28 {
e.vDmg = max(e.vDmg,EActor->HighStatiMag(
33,76) + EItem->GetPlus());
};
Desc: "This sacred amulet grants you the power to turn undead
      as a priest of a level equal to twice its plus, or adds its
      plus to your existing priest level for turning purposes --
      whichever grants a greater benefit.";
Level: -70; Flags: 20;
}

14 Effect "Periapt of Wound Closure" : 2
{ xval: 79; yval: (45+1000);
On Event ((45+1000)+10000) {
EActor->cHP = EActor->mHP + EActor->GetAttr(36);
return 0;
},
(((20+2000)+1000)+10000) {
EVictim->RemoveStati(12);
return 0;
};
Desc: "This powerful item stops bleeding, removes infections and
      speeds healing, such that all of your wounds heal fully over
      the course of a single night's rest.";
Level: 6; Flags: 20;
}
and 2
{ xval: 79; yval: ((20+1000)+2000); }

14 Effect "Medallion of ESP" : 2
{ 0x00000004; xval: 39; yval: 91; pval: 3d1+-91;
Level: -78; Flags: 20 | 44;
Desc: "This amulet grants its wearer telepathic awareness, gifting
      her with the ability to sense all creatures with minds within
      30 feet (3 squares), plus 30 feet per magic plus, of her."; }

14 Effect "Medallion of Mental Domination" : 3
{ xval: 137; yval: 4; sval: 2; qval: 0x0004;
Flags: 44, 48, 71,
20, 25, 34, 77;
Level: -68;
On Event 155 {
if (!EVictim->isCreature())
return -1;
if (!EVictim->isMType(75))
return -1;
if (EVictim->isPlayer())
return -1;
return 1;
},
83 {
if (EVictim->ChallengeRating() > EItem->GetPlus()*2)
{
e.Immune = true;
return 1;
}
return 0;
};
Desc: "This amulet allows its owner to psychically control creatures
      of challenge ratings equal to twice its bonus, provided they fail
      a Will saving throw.";
On Event 28
"You sieze control of the <EVictim>'s mind!" /
"The <EActor> siezes control of your mind!" / "",
74
"You shake off the effect of the domination." /
"The <EActor> shakes off the effect of the domination.";

}

14 Effect "Periapt of Health" : 2
{ xval: 177; yval: 27; Level: 5;
Desc: "This polished ivory periapt renders its wearer completely
      immune to diseases of all types."; Flags: 20; }
#line "m_items.irh" 5068
33 Effect "Dwarvenkind" : 2
{ xval: 124; yval: 35; pval: -92; }
and 2
{ 0x00000008; xval: 39; yval: 87; pval: -92; }
and 2
{ xval: 106; yval: 2; pval: -92;
Flags: 67 | 44; Level: -91;
Desc: "This sturdy item conveys or augments many of the inborn talents
    of the dwarven people to the wearer: a sense for stonework, skill with
    mining and a superior bodily constitution."; }

13 Effect "the Kobolds" : 2
{ 0x00000008; xval: 39; yval: 31; pval: -93; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 3; pval: -93; }
and 2
{ xval: 123; yval: 8; pval: -93;
Flags: 67 | 44; Level: -91;
Desc: "This twisty ring conveys or augments many of the inborn talents
    of the kobold race to the wearer: evasion, a bonus to save vs. poison 
    and a crafty, slippery nature."; }

13 Effect "the Gnomes" : 2
{ xval: 124; yval: 47; pval: -92; }
and 2
{ xval: 124; yval: 35; pval: -92; }
and 2
{ xval: 106; yval: 3; pval: -92; }
and 2
{ xval: 39; yval: 71; pval: -93;
Flags: 67 | 44; Level: -91;
Desc: "This tinkered item conveys or augments many of the inborn talents
    of the gnomish race to the wearer: an eager mind, a sensitive nose and
    a knack for mining and magical devices."; }

13 Effect "Elvenkind;ring" : 2
{ 0x00000008; xval: 39; yval: 73; pval: -92; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 4; pval: -93; }
and 2
{ xval: 177; yval: 16; pval: -93; }
and 2
{ xval: 39; yval: 68; Flags: 67 | 44; Level: -91;
Desc: "This graceful item conveys or augments many of the inborn talents
    of the elven people to the wearer: grace and foresight, probing eyes
    and an immunity to sleep magics." ; }

37 Effect "Drow Kinship" : 2
{ xval: 106; yval: 18; pval: -89; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 3; pval: -93; }
and 2
{ xval: 39; yval: 42; pval: -92;
Flags: 67 | 44; Level: -91;
Desc: "This graceful set of lenses conveys or augments many of the inborn talents
    of the drow people to the wearer: grace and cunning, a resistance to
    magic and unparalled infravision." ; }

29 Effect "the Hin" : 2
{ xval: 124; yval: 46; pval: -92; }
and 2
{ 0x00000008; xval: 39; yval: 88; pval: -93; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 6; pval: -93;
Flags: 67 | 44; Level: -91;
Desc: "This comfortable item conveys or augments many of the inborn
    talents of the halflings to the wearer: agility, luck and a resistance 
    to ability damage." ; }

33 Effect "the Lizardfolk" : 2
{ 0x00000008; xval: 39; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 0; pval: -93; }
and 2
{ xval: 106; yval: 2; pval: -93; }
and 2
{ xval: 104; yval: 1; pval: -89;
Flags: 67 | 44; Level: -91;
Desc: "This scaled belt conveys or augments many of the inborn talents
    of the lizardfolk to the wearer: a racial memory, resistance
    to fire and a bit of power and endurance."; }

8 Effect "Orcsblood" : 2
{ xval: 106; yval: 0; pval: -93; }
and 2
{ xval: 106; yval: 4; pval: -93; }
and 2
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 67 | 44; Level: -91;
Desc: "This ugly item conveys or augments many of the inborn talents
    of the orcish race to the wearer: superior strength, additional willpower
    and legendary Toughness."; }

33 Effect "Fortification" : 2
{ 0x00000080; xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 2); Level: 2; }
and 2
{ xval: 39; yval: 117; pval: +1; }
and 2
{ xval: 41; yval: ((((49 + 1) + 32) + 50) + 32);
Desc: "This potent belt augments your resistance to fatigue and
    poisons: while it is worn you enjoy the benefits of the Hardiness and
    Great Fortitude feats as well as a bit of fatigue regeneration."; }
#line "m_items.irh" 5201
29 Effect "Quietus" : 46
{ 0x00000002; Flags: 67 | 44;
lval: -93; Level: -78;
aval: 9; rval: 0x00001000;
Purpose: 0x00002; Flags: 3;
Desc: "This item creates a field of supernatural silence. Inside the
    field spellcasters cannot produce verbal components for spells, items
    cannot be activated, attacks and actions do not make noise, and Listen
    checks always fail. The field extends out 10 feet (1 square) per
    magical plus.";
}

29 Effect "Displacement;cloak" : 2
{ 0x00000020; xval: 145; yval: 2; pval: 50;
Flags: 67; Level: 5; On Event 83
"Your image shifts two feet away from your location." /
"The <EActor>'s image shifts two feet.",
84
"Your image shifts back to your true position." /
"The <EActor>'s image shifts two feet.";
Desc: "This cloak creates a clever illusion causing the wearer
		  to appear about two feet distant from where he actually is,
			giving attacks against him a 50~ miss chance.";
}

29 Effect "Resistance" : 2
{ 0x00000008; xval: 106; yval: 52; pval: -93;
Flags: 44; Level: -91;
Desc: "This cloak wards away harm, giving the wearer a resistance
            bonus to all his saving throws equal to its magical bonus."; }

29 Effect "Shadow Shifting" : 6
{ 0x00000100; pval: 2d12+12; Purpose: 0x00008;
xval: 2; Flags: 48, 77; Level: 4;

On Event 83
"You merge with the shadows, moving without walking." /
"The <EActor> vanishes in a puff of shadow.";
Desc: "This cloak allows the wearer to step into one shadow and out
	  of another when it is activated, teleporting around at will in
		darkened areas."; }

29 Effect "the Bat" : 2
{ 0x00000020; xval: 124; yval: 32; pval: -93; }
and 32
{ 0x00000080; rval: $"bat"; xval: 1; Flags: 49, 66; }
and 2
{ xval: 111; yval: 27; pval: -93; }
and 2
{ xval: 39; yval: 13; pval: -93; }
and 2
{ xval: 214; yval: 3;
Level: -91; Flags: 44;
Desc: "This powerful item conveys a number of abilities associated
            with bats: a +1 Listen skill bonus and +1 deflection bonus
            to defense per magical plus, as well as Blindsight out to 10
            feet (1 square) per magical plus. The wearer can polymorph into
            a bat and bats are neutral to the wearer."; }


29 Effect "Arachnida" : 5
{ 0x00000002; aval: 3; Flags: 48; lval: 2;
xval: 6; rval: $"webbing"; qval: 0x0002|0x0004|0x0001;
Purpose: 0x00040 | 0x00004 | 0x01000; }
and 2
{ xval: 123; yval: 8; pval: +4; }
and 2
{ xval: 40; yval: 26; pval: +10; }
and 2 { xval: 214; yval: 26; }
and 2 { xval: 177; yval: 14; }
and 2
{ xval: 124; yval: 7; pval: +10;
Level: 6;
Desc: "This spider-silk cloak has a number of functions. It conveys an
        empathic affinity for arachnids similar to a gnome's affinity for
        burrowing mammals, and conjures a mass of sticky webbing to entrap
        foes when activated. It also conveys a +4 bonus to saving throws
        versus poison, a +10 competance bonus to the Climb skill, and prevents
        the wearer from becoming stuck in webs and weblike effects."; }

29 Effect "Elvenkind;cloak" : 2
{ 0x00000020; xval: 124; yval: 18;
pval: -91; Flags: 44;
Flags: 44;
Level: -92;
Desc: "This cloak enhances the ability of a wearer to conceal
		  their presence, granting a bonus to his Hide skill equal to 
			thrice its magical plus."; }

29 Effect "Mantle of Magic Resistance" : 2
{ 0x00000100; xval: 106; yval: 18; pval: -87;
Level: -63;
Flags: 44, 20;
Desc: "This powerful garment imbues its wearer with a 
      Magic Resistance bonus equal to fifteen times is magical plus."; }

29 Effect "Frostbite" : 2
{ 0x00000008; xval: 79; yval: (41+2000);
Flags: 2; Level: 0;
On Event (41+2000) {
if (e.DType == 2)
e.vDmg = (e.vDmg * 150) / 100;
return 0;
};
Desc: "This accursed cloak increases the damage its wearer
		  suffers from cold by 50~.";
}

29 Effect "Fireburn" : 2
{ 0x00000008; xval: 79; yval: (41+2000);
Flags: 2; Level: 0;
On Event (41+2000) {
if (e.DType == 1)
e.vDmg = (e.vDmg * 125) / 100;
return 0;
};
Desc: "This accursed cloak increases the damage its wearer
		  suffers from fire by 25~.";
}

29 Effect "Mana Bleeding" : 2
{ 0x00000008; xval: 79; yval: 45;
Flags: 2; Level: 7;
On Event (45+10000) {
e.EParam |= 0x0004;
return 0;
};
Desc: "This twisted cloak weakens its bearer's link to the supernatural
		  tapestry of creation, causing her not to recover mana when resting the
			way that she normally would.";
}
#line "m_items.irh" 5338
8 Effect "Telepathy" : 2
{ 0x00000004; xval: 39; yval: 91; pval: -76;
Level: -72; Flags: 44;
Desc: "This helm conveys telepathic awareness when worn, causing the
        wearer to sense the presence of all minds within 60 feet of him.";
}

8 Effect "Teleportation" : 6
{ 0x00000100; pval: 2d12+12; xval: 1;
Flags: 48, 77; Level: 7;
Desc: "This helm can be activated to teleport the wearer randomly
        with a range of 2d12+12 squares, seven times per day."; }


8 Effect "Comprehending Languages and Reading Magic" : 2
{ 0x00000008; xval: 124; yval: 10; pval: 10; Level: 3;
Desc: "This helm grants the wearer a +10 competance bonus to his
		  Decipher Script skill rating."; }

8 Effect "Lesser Helm of Brilliance" : 46
{ 0x00000010; Flags: 48, 20; Level: 8;
On Event 163 {
if (EActor->isType((-4)))
if (EActor->isKnown(0x04))
{
e.nAppend = " (";

if (EActor->GetStatiMag(188,1) == 1)
e.nAppend += "1 topaz, ";
else if (EActor->GetStatiMag(188,1) > 1)
e.nAppend += Format("%d topazes, ",
EActor->GetStatiMag(188,1));

if (EActor->GetStatiMag(188,2) == 1)
e.nAppend += "1 ruby, ";
else if (EActor->GetStatiMag(188,2) > 1)
e.nAppend += Format("%d rubies, ",
EActor->GetStatiMag(188,2));

if (EActor->GetStatiMag(188,3) == 1)
e.nAppend += "1 fire opal, ";
else if (EActor->GetStatiMag(188,3) > 1)
e.nAppend += Format("%d fire opals, ",
EActor->GetStatiMag(188,3));

if (EActor->GetStatiMag(188,4) == 1)
e.nAppend += "1 diamond, ";
else if (EActor->GetStatiMag(188,4) > 1)
e.nAppend += Format("%d diamonds, ",
EActor->GetStatiMag(188,4));

if (e.nAppend.GetLength() <= 2)
e.nAppend += "no gems remaining)";
else
e.nAppend = Left(e.nAppend, e.nAppend.GetLength() - 2) + ")";
}
return 0;
},
52 {
int32 found; int32 choice; rID neID;
if (!EItem->HasStati(188))
{
EActor->IPrint("There are no gems left to throw.");
return 2;
}
if (!EActor->isPlayer())
return 2;
if (EItem->GetStatiMag(188,1))
{ found = true;
ETerm->LOption(XPrint("Throw topaz (<9>call light<7>)"),1); }
if (EItem->GetStatiMag(188,2))
{ found = true;
ETerm->LOption(XPrint("Throw ruby (<9>fireball<7>)"),2); }
if (EItem->GetStatiMag(188,3))
{ found = true;
ETerm->LOption(XPrint("Throw fire opal (<9>color burst<7>)"),3); }
if (EItem->GetStatiMag(188,4))
{ found = true;
ETerm->LOption(XPrint("Throw diamond (<9>searing light<7>)"),4); }
choice = ETerm->LMenu(0,"Helm of Brilliance");
switch (choice)
{
case -1:
return 2;
case 1:
neID = $"call light";
break;
case 2:
neID = $"fireball";
break;
case 3:
neID = $"color burst";
break;
case 4:
neID = $"searing light";
break;
}
e.eID = neID;
if (!ETerm->EffectPrompt(e,0x0002|0x0004,false,"Choose a target:"))
return 2;
RedirectEff(e,neID);
if (EItem->GetStatiMag(188,choice) == 1)
EItem->RemoveStati(188,choice);
else
EItem->SetStatiMag(188,choice,NULL,
EItem->GetStatiMag(188,choice) - 1 );
return 1;
},
150 {
ETarget->GainPermStati(188,NULL,7,1,40+random(10));
ETarget->GainPermStati(188,NULL,7,2,10+random(5));
ETarget->GainPermStati(188,NULL,7,3,10+random(5));
ETarget->GainPermStati(188,NULL,7,4,20+random(10));
return 0;
};
}


34 Effect "Circlet of Blasting" : 1
{ 0x00000010; qval: 0x0001|0x0004; Level: -91; cval: 14;
xval: 9; pval: 5d8; tval: 75;
Flags: 60, 4, 48, 49,
50, 20, 77; aval: 2; }
and 1
{ xval: 9; pval: 10d6; tval: 76;
aval: 2; }
and 1
{ xval: 9; pval: 5d6; tval: 36;
aval: 2;
Desc: "The circlet of blasting projects a destructive beam of
        radiance when activated that inflicts 10d6 damage to undead,
      5d6 damage to constructs and 5d8 damage to everything else."; }

34 Effect "Tactical Combat" : 2
{ 0x00000080; xval: 41; yval: ((((49 + 1) + 32) + 50) + 13); Level: 3;
Desc: "This headband grants you a superior insight into tactical
    combat. You enjoy the benefits of the Expertise, Tactical Withdrawl
    and Expert Tactician feats while it is worn.";
} and 2 { xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 1); }
and 2 { xval: 41; yval: ((((49 + 1) + 32) + 50) + 14); }


34 Effect "Crown of the Magi" : 2
{ 0x00000100; xval: 106; yval: 55; pval: -93;
Flags: 20, 44; Level: -92;
Desc: "This powerful crown increases the chance of spellcasting
        success by +5~ for every magical plus that it possesses."; }

34 Effect "Circlet of Spellbreaking" : 2
{ 0x00000001; xval: 123; yval: 16;
pval: -93; Flags: 20, 44;
Level: -92;
Desc: "This empowered headband grants a bonus to saving throws
            against all spells equal to its own magical bonus."; }

34 Effect "Cowl of Warding" : 2
{ 0x00000001; xval: 177; yval: 21; Level: -59;
Flags: 20 | 44; }
and 2
{ xval: 177; yval: 18; }
and 2
{ xval: 123; yval: 16; pval: -78; }
and 2
{ xval: 119; yval: 17; pval: -76; }
and 2
{ xval: 177; yval: 6;
Desc: "This powerful defensive garment conveys five distinct protective
      effects: immunity to mind magic, charms, paralysis, a +4 bonus
            to save versus spells, a +6 luck bonus to armor and immunity to
            life draining and necromantic damage."; }
#line "m_items.irh" 5513
5 Effect "the Python" : 2
{ 0x00000001; 0x00000080; Level: -91; Flags: 44;
xval: 123; yval: 8; pval: -93; }
and 2
{ xval: 106; yval: 2; pval: -93; }
and 46
{ Flags: 49, 76, 25; qval: 0x0002;
On Event 28 {
hObj hPython;
if (e.isActivation)
{
EMap->GenEncounter(0x00000080|0x00008000|0x00000004|0x00020000,10,10,
(int32)$"boa constrictor", 0, ((rID)0), e.EXVal, e.EYVal, EActor);
hPython = EMap->GetEncounterCreature(0);
switch (EItem->GetPlus())
{
case 1:
break;
case 2:
hPython->AddTemplate($"Companion;2");
break;
case 3:
hPython->AddTemplate($"Companion;4");
break;
case 4:
hPython->AddTemplate($"Companion;6");
break;
case 5:
hPython->AddTemplate($"Companion;8");
break;
}
hPython->GainTempStati(167,EItem,e.vDuration,
2,0,0,$"the Python",e.vCasterLev);
EItem->Remove(false);

if (!EItem->isKnown(0x04))
DPrint(e, "Your <EItem> transforms into a mighty python!",
"The <EActor>'s <EItem> transforms into a mighty python!");
else
DPrint(e, "Your rod transforms into a mighty python!",
"The <EActor>'s rod transforms into a mighty python!");
EActor->IdentByTrial(EItem);
return 1;
}
return 0;
};
}

5 Effect "Rod of Lordly Might" : 46
{
Level: 7; Flags: 56, 48, 20, 93;
On Event 28 {
int32 choice; hObj hDoor, hHorse;
if (EActor->isPlayer())
{
if (EItem->GetEffStatiMag(188,$"Rod of Lordly Might") < 3)
{
ETerm->LOption("Use paralyzing touch attack",1,
"This spell-like function of the rod grants the wielder a
                   touch attack -- by lightly touching a victim with the
                   tip of the rod, the bearer can cause them to be paralyzed.
                   A Fortitude save (DC 12 + twice the wielder's Charisma
                   modifier) negates the effect. Once active, this effect
                   lasts for three touches. The three spell-like functions
                   of the rod can be used three times a day in total, in
                   any combination.");
ETerm->LOption("Invoke fear in all who see the rod",2,
"This spell-like function of the rod causes all creatures
                   within 80 feet of the wielder who can see the rod to be
                   overwhelmed with fear as he holds it in the air defiantly.
                   A Will save (DC 12 + twice the wielder's Charisma modifier)
                   negates the effect. The three spell-like functions
                   of the rod can be used three times a day in total, in
                   any combination.");
ETerm->LOption("Use life transfer touch attack", 3,
"This spell-like function of the rod grants the bearer a
                   touch attack using the rod which drains 3d6 hit points
                   from the victim and transfers any successfully drained
                   (some creatures resist necromantic damage) to the bearer,
                   healing him up to his normal maximum. A Fortitude save 
                   (DC 12 + twice the wielder's Charisma modifier) negates 
                   the effect. Once active, this effect lasts for seven 
                   touches. The three spell-like functions of the rod can 
                   be used three times a day in total, in any combination.");
}
if (EItem->iID != $"rod")
ETerm->LOption("Change back into a plain rod", 4,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it back into its natural form as a
                 magical rod.");
if (EItem->iID != $"light mace")
ETerm->LOption(XPrint("Change into a <15>+2 light mace<7>"), 5,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"long sword")
ETerm->LOption(XPrint("Change into a <15>+1 flaming long sword<7>"),6,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"battleaxe")
ETerm->LOption(XPrint("Change into a <15>+4 battleaxe<7>"),7,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"shortspear")
ETerm->LOption(XPrint("Change into a <15>+3 shortspear<7>"), 8,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"longspear")
ETerm->LOption(XPrint("Change into a <15>+3 longspear<7>"), 9,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
ETerm->LOption("Change into a climbing pole", 10,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into a magical climbing pole
                 that grants a +10 circumstance bonus to climb checks when
                 wielded.");
ETerm->LOption("Use the rod to force a door", 11,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can cause it to extend in the form a a powerful
                 telescoping rod, using the leverage and force this provides to
                 force open a door.");
ETerm->LOption("Change into a light warhorse", 12,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can cause it to magically change into a fully
                 healthy warhorse ready to be ridden (or a warpony, for a Small
                 bearer).");
choice = ETerm->LMenu(0x0100|0x0002|0x0001,
"Rod of Lordly Might",14);
if (choice == -1)
{
EActor->Timeout = 0;
return 2;
}
}
else
{

EActor->Timeout = 0;
return 2;
}

if (choice == 1 || choice == 2 || choice == 3)
EItem->IncEffStatiMag(188,$"Rod of Lordly Might",7,NULL,1);

switch (choice)
{
case 1:
EActor->RemoveStati(149);
EActor->GainTempStati(149,EItem,30,2,
0,7,$"paralysis;RoLM",e.vCasterLev);
EActor->Timeout = 0;
break;
case 2:
e.eID = $"fear;RoLM";
ReThrow(52,e);
e.eID = $"Rod of Lordly Might";
break;
case 3:
EActor->RemoveStati(149);
EActor->GainTempStati(149,EItem,30,2,
0,7,$"life drain;RoLM",e.vCasterLev);
EActor->Timeout = 0;
break;
case 4:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"rod");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(1);
EActor->CalcValues();
break;
case 5:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"light mace");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(2);
EActor->CalcValues();
break;
case 6:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"long sword");
EItem->PurgeAllQualities();
EItem->AddQuality(7);
EItem->SetInherantPlus(2);
EActor->CalcValues();
break;
case 7:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"battleaxe");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(4);
EActor->CalcValues();
break;
case 8:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"shortspear");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(3);
EActor->CalcValues();
break;
case 9:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"longspear");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(3);
EActor->CalcValues();
break;
case 10:
EItem->ChangeIID($"climbing pole;RoLM");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(0);
EActor->GainPermStati(124,EItem,7,7,10,
$"climbing pole;RoLM",12);
EActor->CalcValues();
break;
case 11:
ETerm->EffectPrompt(e,0x0001,false,"Select a door:");
hDoor = EMap->FDoorAt(EActor->x+DirX(e.EDir),EActor->y+DirY(e.EDir));
if (hDoor == NULL)
{
EActor->IPrint("There's no door to force there.");
EActor->Timeout = 0;
return 2;
}
ThrowDmg(41,13,12d6,"a Rod of Lordly Might",
EActor, hDoor, EItem);
break;
case 12:
EMap->GenEncounter(0x00000080|0x00008000|0x00000004|0x00020000,10,10,
(int32)(EActor->isSmallRace() ? $"warpony" : $"warhorse"),
0, ((rID)0), e.EXVal, e.EYVal, EActor);
hHorse = EMap->GetEncounterCreature(0);
hHorse->GainTempStati(167,EItem,e.vDuration*10,
2,0,0,$"Rod of Lordly Might",e.vCasterLev);
EItem->Remove(false);
DPrint(e, "Your rod transforms into a noble steed!",
"The <EActor>'s rod transforms into a noble steed!");
EActor->IdentByTrial(EItem);
break;
}
return 1;
},
45 {
EItem->RemoveStati(188);
return 0;
},
150 {
EItem->ChangeIID($"rod");
return 1;
},
163 {
switch (EItem->iID)
{
case $"light mace":
e.nBase += " [+2 light mace]";
e.nPlus = "";
break;
case $"long sword":
e.nBase += " [+1 flaming long sword]";
e.nPlus = "";
break;
case $"battleaxe":
e.nBase += " [+4 battleaxe]";
e.nPlus = "";
break;
case $"longspear":
e.nBase += " [+3 longspear]";
e.nPlus = "";
break;
case $"shortspear":
e.nBase += " [+3 shortspear]";
e.nPlus = "";
break;
default:
e.nPlus = "";
break;
}
};
Constants:
* 102 +1,
* 101 $"light mace";
}

0 Effect "paralysis;RoLM" : 3
{ 0x00000080; aval: 6; sval: 0; Flags: 20, 18;
xval: 9; yval: 0;
On Event 170 {
e.saveDC = 12 + EActor->Mod(5) * 2;
};
}

Effect "life drain;RoLM" : 1
{ 0x00000040; aval: 6; sval: 0; Flags: 20, 18;
xval: 6; pval: 3d6;
On Event 28 {
EActor->cHP = min(EActor->mHP+EActor->GetAttr(36),EActor->cHP + e.vDmg);
return 0;
};
On Event 170 {
e.saveDC = 12 + EActor->Mod(5) * 2;
};
}

Effect "fear;RoLM" : 3
{ aval: 11; sval: 2; lval: 8; cval: 8;
xval: 10; yval: 0;
Flags: 20, 18, 70, 34;
On Event 155 {
if (EVictim->Percieves(EActor))
return 0;
return -1;
};
On Event 170 {
e.saveDC = 12 + EActor->Mod(5) * 2;
};
}

Item "climbing pole;RoLM" : 56
{ Image: cyan 234; Group: 0x00000040; Mat:11;
Size: 4; Weight: 5; Parry: 2; SDmg: 1d4; LDmg: 1d2;
Acc: -3; Crit: x2; Threat: 1; Spd: 70%;
Flags: 1, 28;
Desc: "This special telescoping pole is a form taken by the
      Rod of Lordly Might. It can seperate into sections connected
      by an impossibly strong rope, which can be stretched out to
      a length of up to 30 feet, then magically retracted back into
      the climbing pole as if by a powerful winch, allowing the
      bearer to pull himself up a significant distance by the
      retraction of the rope. In game terms, wielding this item
      gives the bearer a +10 circumstance bonus to Climb checks.";
On Event 13 {
EActor->GainPermStati(124,EItem,7,7,10,
$"climbing pole;RoLM",12);
},
31 {
EActor->RemoveEffStati($"climbing pole;RoLM");
};
}
#line "m_items.irh" 5857
31 Effect "Fog;horn effect" : 46
{ 0x00000002; lval: 12; Level: 1;
rval: 0x00000100; cval: 7; Purpose: 0x00002; aval: 7;
Flags: 26, 64, 67, 48, 58;
Desc: "When blown (activated), this horn creates a large field of fog
		  obscuring sight within a 120 foot radius."; }

31 Effect "Goodness" : 3
{ 0x00000001; aval: 11; lval: 6; tval: 103; sval: 2;
xval: 10; Flags: 48, 4, 67, 58;
Level: 3; On Event 52 {
EMap->NewField(0x00000020|0x00000004,EActor->x,EActor->y,
2,249+15*256,10,$"Magic Circle vs. Evil",EActor);
};
Desc: "When blown (activated), this horn creates a protective field
		  against evil creatures and influences (similar to Magic Circle
			vs. Evil) 60 feet in radius.";
}

31 Effect "Valhalla" : 46
{ 0x00000100; rval: $"barbarian"; pval: 8; Level: -78;
Flags: 48, 63, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons berzerk warriors 
		  to fight on the hornblower's behalf.";
On Event 28 {
int32 count, i;
count = 1d((EItem->GetPlus()-1)*2);
for (i=0;i!=count;i++)
{
EMap->GenEncounter(0x00020000|0x00000080|0x00000004|0x00000400,
0,0,(int32)$"human",0,$"barbarian;template",EActor->x,
EActor->y,EActor);
}
return 1;
};
}
#line "m_items.irh" 5897
31 Effect "the Kobolds;horn" : 9
{ 0x00000100; xval: 18; Level: -92;
pval: -92; Purpose: 0x00100;
Flags: 48, 25, 67, 58,
76, 44;
On Event 28 {
if (!EActor->ItemPrereq((rID)(7000 + 18),1,25)) {
EMap->GenEncounter(0x00000400|0x00000040, EItem->GetPlus()*2, 6,
e.xval,0,((rID)0),EActor->x,EActor->y,EActor);
return 1;
}
return 0;
};
Desc: "When blown by a kobold, this horn summons a group of
      her fellows to fight on her behalf with a CR equal to twice 
      its magical plus. In the hands of a member of any other
      race, however, the kobolds will be hostile.";
}

31 Effect "Madness" : 4
{ 0x00000008; Level: -92; sval: 2;
xval: 54; pval: (-93)d4;
aval: 11; cval: 13; lval: 6; }
and 3
{ xval: 5; aval: 11; lval: 6;
Desc: "This baleful horn is carved with ancient horrors from
      the earliest days of Theyra. When it is blown, its strange,
      uluating tone shatters the minds of all who listen to it,
      causing them to become Stunned and to suffer 1d4 points of
      Intelligence damage per magical plus the horn possesses. Its
      user is immune to the effect, provided that the item is
      identified and activated with a full understanding of what
      it is going to do."; }

31 Effect "Ordered Defense" : 9
{ 0x00000100; xval: 104; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons a Lawful creature of
        CR equal to twice its magical plus to fight on the user's behalf.";
}

31 Effect "the Frenzied Hunt" : 9
{ 0x00000100; xval: 105; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 79, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons Chaotic creatures of
        CR equal to twice its magical plus to fight on the user's behalf.";
}

31 Effect "the Sewers" : 9
{ 0x00000100; xval: 70; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 79, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons rodents with CR 
      equal to its magical plus to fight on the user's behalf.";
}

31 Effect "the Tritons" : 9
{ 0x00000100; xval: 80; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 79, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons Aquatic creatures of
        CR equal to twice its magical plus to fight on the user's behalf.";
}

31 Effect "Panic" : 3
{ 0x00000040; Level: 4; sval: 2;
xval: 10; aval: 3; lval: 9; cval: 3;
Purpose: 0x00040 | 0x00004; qval: 0;
Flags: 53 , 34, 58;
Desc: "Causes all other creatures within 90 feet of the user
      to become afraid, if they fail a Will saving throw.";
}

31 Effect "Blasting" : 1
{ 0x00000010; xval: 10; pval: (-93)d12; qval: 0x0010;
Level: -92;
aval: 2; cval: 15; lval: 8; Purpose: 0x00001;
Flags: 40, 48,
44, 67, 58, 77;
qval: 0x0001|0x0004;
On Event 200 "cone of deafening sound"; }
and 3
{ xval: 5; sval: 0; aval: 2;
Desc: "When blown (activated), this horn created a destructive
            blast of sound that inflicts 1d12 points of sonic damage per
            magical plus to everything it strikes, potentially stunning
            victims as well. The horn may be sounded 7 times a day."; }

31 Effect "Plenty" : 13
{ 0x00000100; rval: $"pile of fresh food"; pval: 8; Level: 4;
Flags: 48, 67, 58, 76;
xval: 0x04;
Desc: "When blown, at the cost of fatiguing its bearer, this horn
      creates a rich pile of fresh fruits and vegetables ready to 
      eat.";
On Event 52 {
EActor->LoseFatigue(4,false);
return 0;
},
83
"Fruits and produce appear at your feet!" /
"Fruits and produce appear at the <EActor>'s feet!";
Desc: "When blown (activated), this horn conjures a pile of
		  fresh food at the blower's feet.";
}
#line "m_items.irh" 6011
Item "pile of fresh food" : 37
{
Image: pink '%';
Mat: 3; Weight: 20;
Nutrition: 100; Flags: 1;
}

27 Effect "Hearthstone of Onanda" : 46
{
0x00000008; Level: 4; Flags: 20, 48;
Desc: "In legend, these blackened stones were taken
      from the hearth of Onanda, the halfling goddess
      safety, family and happy returns. If the stone is
      crumbled to ash and sprinkled around the area of
      a campsite (i.e., activated), it will bring peace
      and good rest to its user -- in game terms
      preventing any encounters and allowing the recovery
      of full hit points and mana.\n
        Beware, however, for their enchantment will be
      wasted if the bearer does not rest very shortly
      after they are activated.";
On Event 28 {
hObj hStone;
EActor->IPrint("You crumble a hearthstone and prepare
        to break camp, secure in Onanda's blessing.");
ThrowVal(45,0x0100|0x0001|0x0002,
EActor,EActor);
hStone = EItem->TakeOne();
hStone->Remove(true);
return 1;
};
Constants:
* 101 $"stone;light";
}
#line "m_items.irh" 6050
23 Effect "Luckblade" : 2
{ 0x00000008; Level: 8; Flags: 20, 50;
xval: 106; yval: 6; pval: -93; }
and 2
{ xval: 119; yval: 52; pval: -93; }
and 46
{ On Event 28 {
if (!e.isActivation)
return 0;
if (EItem->GetInherantPlus() <= 0)
{
EActor->IPrint("There are no wishes left.");
return 1;
}


EItem->SetInherantPlus(EItem->GetInherantPlus() - 1);
#line "m_items.irh" 6070
EActor->SetEffStatiMag(106,$"Luckblade",EItem->GetPlus());
EActor->SetEffStatiMag(119,$"Luckblade",EItem->GetPlus());
EActor->CalcValues();


EActor->IPrint("Wishes aren't implemented yet; sorry.");
return 1;
};
Constants:
* 101 $"short sword",
* 102 +3;
Lists:
* 12 13;
Desc: "The Luckblade is a powerful and rare treasure often favored
      by adventurers and followers of Semirath, who are the best known
      for creating these valuable relics. It is a <11>+3 keen short sword<7>,
      and it adds its magical plus as a magic bonus to the wearer's Luck
      score and as a luck bonus to the wearer's saving throws. Additionally,
      it can be activated to grant the wearer a wish, but doing so
      permanently depletes the sword of one of its magical plusses, and
      this lost enchantment cannot be restored in any manner.";
}

23 Effect "Holy Avenger" : 2
{ 0x00000001; Level: 5; Flags: 91, 93;
xval: 106; yval: 18; pval: 10;
On Event 52 {
if (e.isRemove)
return 0;
if ( EActor->ItemPrereq((rID)($"paladin"),4,30) &&
EActor->ItemPrereq((rID)(7000 + 104),1,30) &&
EActor->ItemPrereq((rID)(7000 + 106),1,30) )
{
EItem->SetInherantPlus(5);
EItem->PurgeAllQualities();
EItem->AddQuality(1);
EItem->AddQuality(19);
EItem->AddQuality(35);
EItem->AddQuality(70);
return 0;
}
else
{
EItem->SetInherantPlus(2);
EItem->PurgeAllQualities();
EItem->AddQuality(1);
EItem->AddQuality(70);
return 1;
}
},
((20+1000)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Holy Avenger"))
return 0;


if (EItem->GetInherantPlus() < 5)
return 0;


if (EVictim->isDead())
return 0;


e.vCasterLev = 12;
e.eID = $"dispel magic";
ReThrow(28,e);
e.vCasterLev = 0;
e.eID = ((rID)0);
return 0;
};
Constants:
* 101 $"long sword",
* 102 +2;
Lists:
* 12 70 1,
* 17 72 73 76;
Desc: "The architypical sacred sword, in the hands of a paladin of
      4th level or higher, a Holy Avenger is a <11>+5 holy smiting adamant 
      long sword<7> with bane properties against demons, devils and the 
      undead. Wielding it grants the paladin a 50% magic resistance,
      and on a successful hit it enacts a <9>dispel magic<7> effect
      with a caster level equivalent to the wielder's paladin levels.\n
      __In the hands of any other character, the Holy Avenger remains a
      <11>+2 holy adamant long sword<7>.";
}

Item "short sword;sunblade" : 58
{ Image: gray '('; Group: 0x00000004;
Mat:11; Size: 3; Weight: 30;
Cost: 9 1; Parry: 4;
SDmg:1d10; LDmg:1d12; Acc: +3; Crit: x3; Threat: 2; Spd: 140%;
Flags: 17, 26, 27, 1;
Constants:
* 103 $"short sword";
}

23 Effect "Sunblade" : 2
{ 0x00000010; Level: 8; Flags: 20, 49, 76;
xval: 104; yval: 6; pval: -92;
Desc: "Though this weapon materially appears to be a bastard
      sword, and is such to all physical examination, when picked
      up and wielded it has the balance, weight and handling of a
      short sword. It can thus be handled as if it were a short
      sword by anyone proficient with such.\n
      __Thus, the Sunblade is a <11>glowing holy keen ghost touch +2 short 
      sword<7> that inflicts damage (and has the accuracy modifier and 
      crit multiplier) of a bastard sword. Against creatures with ties
      to the Negative Material Plane, it inflicts double damage.
      Against creatures vulnerable to or penalized by light, it
      acts as a weapon of terror.\n
      __Wielding a Sunblade causes a character to be mildly resistant
      to cold and strongly resistant to life-draining.Finally, three 
      times a day, the wielder can activate the sunblade by spinning
      it vigorously in a wide arc above his head, producing a nearly
      blinding emination of golden light out to a range of 60 feet.
      This incurs all the normal penalties for light-average creatures.\n
      __<14>Terror:<7> On a critical hit, this weapon fills its target 
      with a mortal terror, causing the victim to flee for 3d6 rounds 
      if a Will save is failed.";
On Event ((20+500)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Sunblade"))
return 0;

if (EVictim->HasMFlag(8))
EItem->AddQuality(31);
#line "m_items.irh" 6207
if (EVictim->isMType(57))
{
e.xDmg += 5d6;
e.strXDmg += " +5d6 sunblade";
}
return 0;
},
((20+1000)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Sunblade"))
return 0;
EItem->RemoveQuality(31);
return 0;
};
Constants:
* 101 $"short sword;sunblade",
* 102 +2;
Lists:
* 12 52 13 1 77;
}
and 46
{ aval: 7; lval: 5; rval: 0x00000080; cval: yellow; }

Item "small hornblade" : 58
{ Image: purple 251; Group: 0x00000001;
Mat: 9; Size: 3; Weight: 30;
Parry: 2; Flags: 26, 1;
SDmg: 1d6; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 1; Spd: 110%;
Desc: "This hornblade is about the size of a knife.";
Constants:
* 103 $"sickle",
* 104 $"horn"; }
Item "medium hornblade" : 58
{ Image: purple 251; Group: 0x00000001;
Mat: 9; Size: 3; Weight: 30;
Parry: 2; Flags: 26, 1;
SDmg: 1d8; LDmg: 1d4; Acc: +1; Crit: x2; Threat: 1; Spd: 110%;
Desc: "This hornblade is about the size of a dagger.";
Constants:
* 103 $"sickle",
* 104 $"horn"; }
Item "large hornblade" : 58
{ Image: purple 251; Group: 0x00000001;
Mat: 9; Size: 4; Weight: 30;
Parry: 2; Flags: 26, 1;
SDmg: 1d8; LDmg: 1d6+1; Acc: +2; Crit: x2; Threat: 1; Spd: 110%;
Desc: "This hornblade is about the size of a scimitar.";
Constants:
* 103 $"sickle",
* 104 $"horn"; }

23 Effect "Hornblade" : 46
{ 0x00000008; Level: -78; Flags: 20, 93;
On Event 150 {
switch (1d3)
{
case 1:
EItem->ChangeIID($"small hornblade");
EItem->SetInherantPlus(1);
break;
case 2:
EItem->ChangeIID($"medium hornblade");
EItem->SetInherantPlus(2);
break;
case 3:
EItem->ChangeIID($"large hornblade");
EItem->SetInherantPlus(3);
break;
}
return 0;
},
((20+500)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Hornblade"))
return 0;

if (!EVictim->HasEffStati(187,$"Hornblade"))
{
e.isFlatFoot = true;
EVictim->GainPermStati(187,((hObj)0),7,0,0,$"Hornblade");
}
return 0;
};
Constants:
* 101 $"sickle",
* 102 2;
Lists:
* 12 51;
Desc: "A very cleverly disguised weapon, a hornblade appears to
      all examination to be a piece of an animal's horn carved in an
      intricate manner. Only a proficient user knows how to wield it
      as a sickle-like slashing weapon. Because it is so difficult
      to visually recognize as a weapon, the first attack made with
      it against any given foe is considered to be a sneak attack.
      Rogues favor hornblades for this reason, and druids favor them
      because they are treated as sickles with no metal parts.";
}

23 Effect "Dwarven Thrower" : 2
{
Level: 7; xval: 125; yval: 0;
Flags: 91, 93;
On Event 52 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(7000 + 63),1,25))
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(4);

EItem->AddQuality(27);
EItem->AddQuality(46);
EItem->AddQuality(35);
}
else
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(2);

EItem->AddQuality(35);
return 1;
}
return 0;
},
155 {
return EActor->isMType(63) ?
0 : -1;
};
Constants:
* 101 $"warhammer",
* 102 +2;
Lists:
* 12 27 35,
* 17 22 41;
Desc: "__Crafted by the dwarven elders of Thogorolain
      Citadel, these seven mighty hammers were created
      to aid the Dwarven people in their eternal
      struggle against their racial enemies.\n
      __A Dwarven Thrower is a <11>+4 throwing returning warhammer
      of impact<7>, and it possesses bane properties
      against orcs and giants, in the hands of a dwarf.
      Any other character who wields one finds that it
      acts merely as a <11>+2 warhammer<7>, with the
      above-mentioned banes.\n
      __When wielded by a dwarf, the hammer also sustains
      its wielder's Strength and allows him to use the
      Power Attack feat.";
}
and 2
{ xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20); }

23 Effect "Nine Lives Stealer" : 46
{ Level: 7; Flags: 91, 48, 66, 55,
93;
Desc: "This weapon's blade is made from a slick black iron alloy,
      difficult to identify clearly. It has the power to steal nine
      souls -- once nine souls are taken, the blade cannot steal 
      souls ever again. Thus, the wielder has the ability to turn on
      and off its soul-stealing power, using the Activate or Cancel
      commands.\n
      __If the weapon scores a critical hit while it is activated,
      its victim must make a Fortitude save (DC 20 + the bearer's
      Charisma modifier), or be struck dead instantly. (<9>Death 
      ward<7> and similar effects protect against this demise).
      When the sword slays a victim in this manner, the bearer
      gains the same benefits an orc would upon consuming the corpse
      of the victim. The sword can do this only nine times, and
      then its special power is expended.\n
      __Regardless of whether the blade has any lives left to
      steal, it remains a <11>+2 unholy keen long sword<7>.";
On Event ((20+500)+4000) {
e.saveDC = 20 + EActor->Mod(5);
if (e.isCrit)
if (EActor->HasEffStati(189,$"Nine Lives Stealer"))
if (EItem->GetEffStatiMag(188,$"Nine Lives Stealer") < 9)
if (EVictim->ResistLevel(6) != -1)
if (!EVictim->SavingThrow(0,e.saveDC,
0x00000010|0x00000004|0x00000001|0x00000002))
{
TPrint(e,"You snuff out the <EVictim>'s soul!",
"The <EActor>'s sword snuffs out your life!",
"The <EVictim>'s life is snuffed out instantly!");
ThrowDmg(42,6,0,"having <EVictim:his> soul snuffed out",
EActor,EVictim,EItem);
if (EVictim->isDead())
EActor->DevourMonster(EVictim);
EItem->IncEffStatiMag(188,$"Nine Lives Stealer",
7, NULL, +1);
return 1;
}
return 0;
},
28 {
if (e.isActivation)
{
if (EItem->GetEffStatiMag(188,$"Nine Lives Stealer") >= 9)
{
EActor->IPrint("That sword can no longer steal lives.");
EActor->Timeout = 0;
return 2;
}
if (EActor->HasEffStati(189,$"Nine Lives Stealer"))
{
EActor->IPrint("It's already activated.");
EActor->Timeout = 0;
return 2;
}
EActor->GainPermStati(189,EItem,2,0,0,
$"Nine Lives Stealer",e.vCasterLev);
DPrint(e, "Your <EItem> glows a malignant crimson.",
"The <EActor>'s <EItem> glows a malignant crimson.");
return 1;
}
return 0;
},
84
"Your Nine Lives Stealer stops glowing crimson." /
"The <EActor>'s sword stops glowing crimson.",
163
{
if (EActor->isKnown(0x04) && EActor->isKnown(0x08))
e.nAppend += Format(" (%d thefts left)",
9 - EActor->GetEffStatiMag(188,$"Nine Lives Stealer"));

return 0;
};
Constants:
* 101 $"long sword",
* 102 +2;
Lists:
* 12 2 13;
}

23 Effect "Bloodspear" : 2
{
Level: 10; Flags: 92, 93, 49;
xval: 123; yval: 16; pval: +4;
Desc: "This ancient, weathered spear was forged by primordial 
      orc shamans a half-dozen millenia ago, and its head was
      dipped in the hearts-blood of the greatest 'heroes'
      who sought the extermination of the orcish race. In
      the hands of a human, elf or similar such creature,
      it is a <11>+2 longspear<7>. In the hands of a kobold, goblin,
      lizardman, troll or other sometimes-ally to the orcs,
      it is a <11>+3 wounding longspear<7> with bane properties
      against humans, elves, dwarves, gnomes and halflings. It 
      is only in the hands of an orc (or a high-level Rogue with
      Trick Magic), however, that it's full powers are revealed.\n
      __Then, it is a <11>+4 keen wounding weakening longspear of 
      pain<7> with the aforementioned bane proerties, and it 
      possesses certain very potent special
      abilities as well. When it strikes a critical hit against
      a foe, it imbues its bearer with the ability to regenerate
      damage just like a <9>ring of regeneration<7> -- a number
      of hit points per turn equal to the foe's Challenge Rating.
      This effect lasts for 20 turns for every hit point of damage
      the critical hit inflicted, but every additional hit made
      while the wielder is already regenerating adds 5 turns per
      hit point inflicted. If a critical is inflicted while the
      wielder is already regenerating, the duration is augmented
      as normal and the rate of regeneration is increased if the
      foe has a higher CR.\n
      __When wielded by an orc, the Bloodspear also grants a +4
      bonus to saving throws versus spells.\n
      __Any wielder can activate the Bloodspear to cause it to
      transform from a longspear into a shortspear, or vice
      versa if already changed.";
Constants:
* 101 $"longspear",
* 102 2;
Lists:
* 17 61 62 63 65;
On Event (13+4000) {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(7000 + 22),1,25))
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(+4);
EItem->AddQuality(13);
EItem->AddQuality(28);
EItem->AddQuality(37);
EItem->AddQuality(35);
EItem->AddQuality(53);
}
else if (EActor->isMType(84) ||
EActor->isMType(54) ||
EActor->isMType(18))
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(+3);
EItem->AddQuality(28);
EItem->AddQuality(35);
}
else
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(+2);
}
return 0;
},
((20+1000)+4000) {
int32 amt, CR, Dur;
if (EActor->isMType(22))
{
CR = EVictim->ChallengeRating();
amt = e.aDmg;
Dur = EActor->GetEffStatiDur(126,$"Bloodspear");

if (e.isCrit) {
if (EActor->GetEffStatiMag(126,$"Bloodspear") < max(1,CR)*100)
{
if (EActor->HasEffStati(126,$"Bloodspear"))
{
EActor->SetEffStatiMag(126,$"Bloodspear",max(1,CR)*100);
EActor->SetEffStatiDur(126,$"Bloodspear",
min(Dur+amt*5,1000));
}
else {
EActor->GainTempStati(126,EItem,min(amt*5,1000),2,
0, max(1,CR)*100, $"Bloodspear", e.vCasterLev);
EActor->IPrint("<10>You feel your blood quicken...<7>");
}

return 0;
}
else
{
if (EActor->HasEffStati(126,$"Bloodspear"))
EActor->SetEffStatiDur(126,$"Bloodspear",min(Dur+amt,1000));
return 0;
}
}
#line "m_items.irh" 6546
if (!EActor->HasEffStati(126,$"Bloodspear"))
return 0;

EActor->SetEffStatiDur(126, $"Bloodspear",Dur+amt*5);
return 0;
}
return 0;
};
}
and 46
{ On Event 28 {
if (e.isActivation) {
if (EItem->iID == $"longspear")
EItem->ChangeIID($"shortspear");
else
EItem->ChangeIID($"longspear");

EActor->CalcValues();
DPrint(e,"The Bloodspear changes into a <Res>.",
"The <EActor>'s weapon changes into a <Res>.", EItem->iID);
return 1;
}
return 0; };
}

23 Effect "Sword of the Planes" : 46
{
Level: 7; Flags: 93, 20;
Desc: "This unusual weapon is forged from a special form of
      adamant mined on the plane of Concordant Opposition, the
      spiritual homeland of True Neutrality. It is among the
      most common of the unique weapons overall, favored by
      adventurers who mount extraplanar expeditions and by the
      humans and other brave souls who fight against the harsh
      rigor of the Outer Planes. Swords of the Planes are not
      forged in hatred or judgement -- their bane properties
      are born of pragmatism, and the desperate need of humanity
      to level the playing field against the terrible power and
      innate magic possessed by many outsiders.\n
      __Under normal circumstances, a sword of the planes is a 
      <11>+1 adamant brilliant energy long sword of binding<7> with 
      bane properties against outsiders and elementals. However, 
      its enhancement bonus can increase circumstantially if the 
      user is on a plane other then the Prime Material, or if 
      fighting an outsider.\n
      __On an elemental plane, or when fighting elementalkin,
      the sword has a +2 bonus. Against denizens of the ethereal
      or astral planes, or when the wielder is in such a locale
      herself, the bonus is +3. On the outer planes, or against
      demons, devils or celestials, the sword has a bonus of +4.";
On Event ((18+500)+4000) {
int32 oldBonus, newBonus;
oldBonus = EItem->GetInherantPlus();
newBonus = 1;
if (EVictim->isMType(72) ||
EVictim->isMType(73) ||
EVictim->isMType(34) )
newBonus = 4;
else if (EVictim->isMType(44))
newBonus = 2;
else if (EVictim->isMType(48))
newBonus = 3;
else
newBonus = 1;
#line "m_items.irh" 6613
if (EActor->HasStati(102))
newBonus = max(newBonus,3);

if (newBonus != oldBonus)
{
#line "m_items.irh" 6621
EItem->SetInherantPlus(newBonus);
EActor->CalcValues();
}
return 0;
},
((18+1000)+4000), (13+4000), (31+4000) {
int32 oldBonus2, newBonus2;
oldBonus2 = EItem->GetInherantPlus();
newBonus2 = 1;
if (EActor->HasStati(102))
newBonus2 = max(newBonus2,3);
if (oldBonus2 != newBonus2)
{
EItem->SetInherantPlus(newBonus2);
EActor->CalcValues();
}
return 0;
};
Constants:
* 102 +1,
* 101 $"long sword";
Lists:
* 12 70 20 41 35,
* 17 48 38;
}

23 Effect "flame tongue" : 2
{ Level: 7; xval: 41; yval: ((((49 + 1) + 32) + 50) + 8); }
and 2
{ xval: 125; yval: 2;
Flags: 50, 76 93, 91;
Desc: "Seven of these powerful blades are believed to exist.
      Revered as holy by the priesthood of Immotian, scholars
      believe they have an older, and more primal, origin than
      the clergy of purity. In fact, many obscure sources link
      them to the efreeti, and some sages claim that a flame
      tongue sword is forged when such a genie slays another
      living creature in the throes of inhuman rage and bathes
      the blade in their blood. The truth remains unknown --
      and the church of Immotian strives to keep it that way.\n
      __Regardless, a flame tongue is a <11>+2 flaming burst
      long sword<7> with a number of special qualities. It
      grants its bearer the Endurance feat and sustains their
      Constitution. When it strikes a corporeal undead, that
      creature's dry, withered flesh catches flame and continues
      to burn, causing it to suffer 3d6 fire damage the first
      turn after the hit, 2d6 the second turn and 1d6 on the
      third. (It is this property, as well as the fire-symbolism,
      that makes the swords so reverred by Immotian). But the
      most famous power the sword has is its <9>tongue of flame<7>
      ability, which can be called upon 3 times a day by activating
      the weapon.\n
      __If a flame tongue sword is ever immersed in water or any
      other flame retardant, the eternal fire that burns on its
      blade it put out, and the sword becomes temporarily inert.
      It can regain its magic after a day has passed by striking
      another creature or being activated.\n
      __<9>Tongue of Flame:<7>  When you activate this special 
      ability, the sheath of flames that normally surrounds the 
      sword's blade extends far past its tip and magically takes 
      on a tangible element like the lash of a whip. The tongue of
      flame lashes out from the sword to a maximum range of the 
      bearer's Charisma modifier times ten in feet (minimum 20) to 
      snare a chosen target.\n
      __The swordbearer must make a ranged touch attack
      to hit the intended target. If this is successful,
      the tongue of flame deals 4d8 damage to the
      victim and then, if the victim still lives and is
      a Large or smaller corporeal creature, it and the
      swordbearer make an opposed Strength test.\n
      __If the bearer prevails, his foe is yanked into
      the air, pulled across the map and lands directly
      at his feet (i.e., in melee range), and
      automatically suffers knockdown in the process.
      Unless he succeeds a Reflex save, he remains
      entangled in smoldering strands (i.e., Stuck) for
      another 1d4+1 rounds thereafter.";
On Event 28 {
int32 oefNum;
if (e.isActivation)
{
if (EItem->HasStati(70))
return 0;
if (!EItem->HasQuality(7))
{
DPrint(e,"Your sword is sheathed in flame!",
"The <EActor>'s sword is sheathed in flame!");
EItem->AddQuality(7);
EItem->AddQuality(11);
}

if (!ETerm->EffectPrompt(e,0x0004,false,"Select a target:"))
return 2;
RedirectEff(e,$"tongue of flame");

return 1;
}
return 0;
},
(41+2000) {
hObj hOwner;
if (e.DType == 74)
{
hOwner = EVictim->Owner();
if (GetHandle(hOwner))
hOwner->IDPrint("Your flame tongue is snuffed out!",
"The <hObj>'s flaming sword is extinguished!",
hOwner);
else
APrint(e,"The flaming sword is snuffed out.");
EVictim->GainTempStati(70,NULL,-2,7,0,0,((rID)0),0);
EVictim->RemoveQuality(7);
EVictim->RemoveQuality(11);
if (EVictim->Owner())
{
EVictim->Owner()->IPrint("You suddenly feel weak...");
EVictim->Owner()->LoseFatigue(1d4+3,false);
}
}
return 0;
},
((19+500)+4000) {
if (EItem->HasStati(70))
return 0;
if (!EItem->HasQuality(7))
{
DPrint(e,"Your sword is sheathed in flame!",
"The <EActor>'s sword is sheathed in flame!");
EItem->AddQuality(7);
EItem->AddQuality(11);
}
return 0;
},
(20+4000) {

return 0;
};
Constants:
* 101 $"long sword",
* 102 +2;
Lists:
* 12 7 11;
}
and 46 { }

0 Effect "tongue of flame" : 1
{ xval: 1; pval: 4d8;
aval: 4; cval: 12; qval: 0x0004;
On Event (28+1000) {
int32 dr;
if (EVictim->isDead())
return 0;
if (EVictim->GetAttr(25) >= 5)
return 0;
if (EActor->Mod(0) + 1d20 >= EVictim->Mod(0) + 1d20)
{
TPrint(e,"Your tongue of flame lashes around the <EVictim>
                      and pulls <him:EVictim> to your side.",
"The tongue of flame lashes around you and yanks
                      you through the air!",
"The tongue of flame lashes around the <EVictim>
                      and yanks <him:EVictim> through the air!");
dr = EActor->DirTo(EVictim);
EVictim->PlaceAt(EMap, EActor->x + DirX(dr),
EActor->y + DirY(dr));
EVictim->GainPermStati(15,NULL,6);
if (!EVictim->SavingThrow(1,e.saveDC,0x00000008|0x00000200))
EVictim->GainTempStati(11,NULL,1d4+1,6);
}
else
VPrint(e,"You hold your ground!",
"The <EVictim> holds <his:EVictim> ground!");
return 0;
},
170 {
e.vRange = 3 + max(0, EActor->Mod(5));
return 0;
};
}

15 Effect "Dragonshield" : 1
{ Level: -92; qval: 0x0004 | 0x0001;
Desc: "A Dragonshield is a kite shield carved with the
      image of a dragon's head, its mouth wide open as if
      to breathe. Three times per day, the shield can be
      activated to produce an elemental blast similar to a
      dragon's breath inflicting 2d10 points of damage per
      magical plus the item possesses (with a Reflex save
      for half damage). The type of damage depends upon
      the type of dragon the shield is modelled after --
      white, red, brown, green, black, blue or purple.\n
      __In addition to this special ability, a Dragonshield
      is a <11>+1 <7>(or higher)<11> light fortification 
      fearsome shield<7>. Bearing a Dragonshield makes all
      chromatic dragons hostile to the bearer -- rumors
      claim that their blood is an essential component in
      these shields' manufacture.";
Flags: 93, 20, 48, 11,
44, 76; sval: 1; aval: 2;
lval: -78;
xval: 1; pval: (-92)d10;
On Event 150 {
int32 dt;
switch(1d7)
{
case 1: dt = 1; break;
case 2: dt = 2; break;
case 3: dt = 4; break;
case 4: dt = 3; break;
case 5: dt = 6; break;
case 6: dt = 11; break;
case 7: dt = 5; break;
}
EItem->GainPermStati(189,NULL,7,dt,0,$"Dragonshield",0);
return 0;
},
163 {
String Col;
switch (EActor->GetEffStatiVal(189,$"Dragonshield"))
{
case 1: Col = "Red "; break;
case 2: Col = "White "; break;
case 4: Col = "Blue "; break;
case 3: Col = "Black "; break;
case 6: Col = "Purple "; break;
case 11: Col = "Yellow "; break;
case 5: Col = "Green "; break;
}
e.nBase = Col + e.nBase;
return 0;
},
170 {
if (GetHandle(EItem) == ((hObj)0))
return 0;
if (e.efNum != 0)
return 0;
e.xval = EItem->GetEffStatiVal(189,$"Dragonshield");
e.DType = e.xval;
switch (EItem->GetEffStatiVal(189,$"Dragonshield"))
{
case 1: e.cval = 4; break;
case 2: e.cval = 9; break;
case 4: e.cval = 14; break;
case 3: e.cval = 2; break;
case 6: e.cval = 8; break;
case 11: e.cval = 6; break;
case 5: e.cval = 2; break;
}
return 0;
},
200 "dragonbreath";
Constants:
* 101 $"kite shield",
* 102 +2;
Lists:
* 12 1 32;
}
and 2
{ xval: 215; yval: 37; aval: 0; lval: 0; }


23 Effect "Lightning;jav" : 1
{
Level: -92; sval: 1; aval: 2; cval: 14;
Flags: 11, 44;
xval: 4; pval: (-92)d6;
On Event ((48+500)+4000) {
hObj hJavelin;
hJavelin = EItem2->TakeOne();
hJavelin->Remove(true);
e.isItem = true;
return RedirectEff(e,$"Lightning;jav");
},
170 {
e.vRange = 6;
#line "m_items.irh" 6900
return 0;
};
Constants:
* 101 $"javelin";
Desc: "When thrown, a javelin of lightning transforms into a
      magical stroke of lightning that functions similarly to the
      <9>lightning bolt<7> spell, inflicting 2d6 lightning damage
      for every magical plus and allowing a Reflex save (DC 10 +
      1/2 the thrower's character level + the thrower's Dexterity
      modifier) for half damage.";
}

23 Effect "Sylvan Scimitar" : 2
{
xval: 41; yval: (((49 + 1) + 32) + 7); Level: 4;
Flags: 20, 93;
Desc: "Crafted by the wood elves, these swords serve both as
      useful utility items and as emblems of their trust. They are
      one of the more common specific magical items of Theyra, with
      perhaps as many as thirty in total still in existance from
      the earliest days when the wood elves' lands were much larger
      in scope.\n
      __A sylvan scimitar is a <11>+3 defending scimitar<7> with bane 
      properties against orcs and beasts; wielding it grants the user 
      the Cleave feat. When the user is on verdant terrain, the scimitar 
      gains an additional +2 circumstance bonus to hit and damage. Elves 
      tend to be friendly to a character that bears one of these weapons;
      in the hands of an elf or a druid, it also benefits from the
      <11>keen<7> quality.";
Constants:
* 101 $"scimitar",
* 102 +3;
Lists:
* 12 35 16,
* 17 22 35;
On Event ((19+500)+4000) {
int32 ax, ay;
ax = EActor->x;
ay = EActor->y;
if (EMap->TerrainAt(ax,ay)->TerrainHasFlag(24))
{
e.vHit += 2;
e.bDmg += 2;
e.strHit += " +2 ss";
e.strDmg += " +2 ss";
}
return 0;
},
13 {
if (EActor->ItemPrereq((rID)(7000 + 62),1,20) ||
EActor->ItemPrereq((rID)($"druid"),1,20) )
EItem->AddQuality(13);
else
EItem->RemoveQuality(13);
return 0;
},
31 {
EItem->RemoveQuality(13);
return 0;
};
}
and 2
{ xval: 214; yval: 62; }

23 Effect "Oathbow" : 2
{ Level: 5; xval: 39; yval: 29;
Flags: 20;
Desc: "For more then six hundred years now, the drow have
      sent raiding parties to the surface, moving in perfect
      stealth at night, to silently slaughter the children of
      the surface elves. They seldom stay long enough for true
      engagement, because they fear the solidarity of the
      surface elves' military and because they do not want to
      weaken their own military forces in the light of the
      continual, internecine political brinkmanship of their
      own society. So year after year, they sneak up to the
      surface to commit acts of terrorism upon the surface
      elves, then vanish before they can be caught.\n
      __These bows are one facet of the elven nation's response.
      Carved in a vindictive anger unusual for the surface elves,
      they are none the less beautiful items, made with a composite
      of ivory and darkwood and painted a chill white. In the hands
      of an elf, an Oathbow acts as a <11>+3 fey-trapping thundering 
      composite long bow of accuracy<7> with bane properties against the drow.
      It also grants a oath-swearing ability similar in effect to
      Dwarven Focus, allowing the user extra power and will when
      she swears to slay a specific enemy.\n
      __In the hands of anyone other than an elf, the bow remains a
      <11>+2 fey-trapping composite long bow<7> with bane properties
      against drow.";
On Event 13 {
if (EActor->ItemPrereq((rID)(7000 + 62),1,25))
{
EItem->SetInherantPlus(3);
EItem->AddQuality(10);
EItem->AddQuality(23);
}
else
{
EItem->SetInherantPlus(2);
EItem->RemoveQuality(10);
EItem->RemoveQuality(23);
}
return 0;
},
31 {
EItem->SetInherantPlus(2);
EItem->RemoveQuality(10);
EItem->RemoveQuality(23);
},
(19+4000) {
if (!EActor->ItemPrereq((rID)(7000 + 62),1,25))
return 0;
if (EVictim->isMType(66) ||
EActor->HasStati(81,-1,EVictim))
EActor->IPrint("<1>'Swift death to those who have wronged us!'<7>");
else if (!random(4))
EActor->IPrint("<1>'Swift defeat to my enemies!'<7>");
return 0;
},
28 {
if (e.isWield)
if (!EActor->ItemPrereq((rID)(7000 + 62),1,25))
return 1;
return 0;
};
Constants:
* 101 $"long bow",
* 102 +2;
Lists:
* 12 49 35,
* 17 66;
}

23 Effect "Kinslayer" : 2
{ Level: 9; Flags: 92, 55, 93;
xval: 39; yval: 80; pval: 2; }
and 2
{ xval: 124; yval: 6; pval +4; }
and 2
{ xval: 169; int32 kinflag;
On Event 13 {
if (EActor->isMType(66))
EItem->SetBane(66);
else if (EActor->isMType(62))
EItem->SetBane(62);
else if (EActor->isMType(64))
EItem->SetBane(64);
else if (EActor->isMType(10))
EItem->SetBane(10);
else if (EActor->isMType(58))
EItem->SetBane(58);
else if (EActor->isMType(63))
EItem->SetBane(63);
else if (EActor->isMType(51))
EItem->SetBane(51);
else if (EActor->isMType(61))
EItem->SetBane(61);
else if (EActor->isMType(18))
EItem->SetBane(18);
else if (EActor->isMType(22))
EItem->SetBane(22);
else if (EActor->isMType(65))
EItem->SetBane(65);
else if (EActor->isMType(72))
EItem->SetBane(72);
else if (EActor->isMType(73))
EItem->SetBane(73);
else if (EActor->isMType(44))
EItem->SetBane(44);
else if (EActor->isMType(34))
EItem->SetBane(34);
return 0;
},
((19+500)+4000) {
if (EVictim->isHostileTo(EActor) ||
EVictim->HasMFlag(44) ||
EVictim->HasStati(67) ||
EVictim->HasStati(74) )
kinflag = 0;
else
kinflag = 1;
return 0;
},
((19+1000)+4000) {
if (kinflag && (EVictim->isDead() ||
EVictim->isHostileTo(EActor)) )
EActor->KillXP(EVictim);
return 0;
},
31 {
#line "m_items.irh" 7094
EActor->RemoveEffStati($"invisibility");
EActor->RemoveEffStati($"true strike");
return 0;
};
Desc: "This jet-black halfspear has an obsidian spearhead
      and a halt carved with twisting runes akin to some of the
      more debased tribal peoples of Angla Maua; it radiates
      betrayal and treachery from its very being. Though its
      existance is most commonly blamed on kobolds or goblins,
      it is in truth the work of one bitter halfling warrior.\n
      __It is a <11>+4 thirsty warning keen halfspear<7>, and when it is
      wielded it automatically gains bane properties against
      the wielder's own race. It also grants 2d6 sneak attack
      damage (as a Rogue's) and a +4 bonus to the Bluff skill.
      Finally, it allows the wearer access to the spells
      <9>invisibility<7> and <9>true strike<7>.";
Constants:
* 101 $"halfspear",
* 102 4;
Lists:
* 12 55 13 17 35,
* 18 $"true strike" $"invisibility";
}

23 Effect "Quickblade" : 2
{ Level: 12; Flags: 92, 93;
xval: 124; yval: 22; pval: -92; }
and 2
{ xval: 106; yval: 26; pval: 10; }
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 33); }
and 2
{ xval: 124; yval: 46; pval: -92;
Constants:
* 102 3,
* 101 $"rapier";
Lists:
* 12 13 52 22
58 16 74;
Desc: "Crafted by fae, these rare blades convey truly
      exceptional speed and grace to their bearer, allowing
      him to move as if he were a flicker, a mote in his
      opponent's eye. The blade glistens almost as if wet,
      and seems to be made of some strange, mutable, nearly 
      liquid kind of silver.\n
      __A Quickblade is a <11>+3 keen glowing defending
      silver shifting sword of speed<7>. In addition to these 
      formidable properties, it grants its bearer a +50~ magic
      bonus to her movement rate, and a +2 bonus to the Jump
      and Tumble skills for every magical plus that it possesses. 
      Finally, it sustains the bearer's
      Dexterity and allows her the use of the Whirlwind Attack
      feat without needing to meet the normal prerequisites
      for possessing that feat.\n
      __A Quickblade regenerates one point of damage (inflicted
      to the sword, not its wielder) per turn."; }
#line "m_items.irh" 7345
Item "brazier" : 56
{
Image: red '&'; Flags: 1;
Mat: 13; Weight: 25;
Desc: "This is a large, three-legged brass brazier of the sort
      that might be used to burn incense in a temple. In fact, there's
      a ready supply of incense contained in special ridges within the
      brazier's interior already. It just needs to be lit.";
}

38 Effect "Brazier Commanding Fire Elementals" : 9
{ 0x00000100; Cost: 15; Level: -72;
Purpose: 0x00100; Flags: 44, 48,
20, 76, 25, 95;
Desc: "Once per day, this brazier can be lit to summon
      a fire elemental of power commensurate to its magical
      plus to serve the holder faithfully.";
On Event (28+500) {
switch (EItem->GetPlus())
{
case 1:
e->rval = $"tiny fire elemental";
break;
case 2:
e->rval = $"small fire elemental";
break;
case 3:
e->rval = $"medium fire elemental";
break;
case 4:
e->rval = $"large fire elemental";
break;
default:
e->rval = $"huge fire elemental";
break;
}
};
Constants:
* 101 $"brazier";
}

38 Effect "Hat of Disguise" : 3
{ 0x00000020; Base: 90; Cost: 5; Level: 1;
Desc: "This plain brown fedora is in fact a potent magical item
      usable by any character with Disguise as a class skill. When
      activated, it weaves an illusion over the user's body not unlike
      the mage spell <9>change self<7>, allowing the user to use the 
      Disguise skill with a +10 magic bonus. The hat also removes the 
      need to spend an hour preparing the disguise, and removes the need 
      for a disguise kit. However, the effect is an illusion, and is 
      automatically penetrated by anything which penetrates illusions, 
      including <9>true sight<1>.\n
      __It can be used three times per day.";
xval: 124; yval: 12; pval: +10;
Flags: 13, 48, 76, 20;
On Event (28+1000) {
EActor->GainPermStati(44,NULL,7,12);
ReThrow(130,e);
EActor->RemoveStati(44,7,12);
if (!EActor->HasStati(175))
EActor->RemoveEffStati($"Hat of Disguise");
return 0;
};
Constants:
* 101 $"hat";
}
#line "m_items.irh" 7416
Item "robes;magic" : 27
{
Image: purple '[';
Mat: 6; Weight: 0; hp: 20;
Flags: 13;
}
#line "m_items.irh" 7496
38 Effect "Robe of Blending" : 2
{ 0x00000002|0x00000020; Flags: 44, 20;
Level: -91;
xval: 124; yval: 18; pval: -92;
Lists:
* 18
1 $"change self"
2 $"blur"
3 $"invisibility"
4 $"gaseous form"
5 $"meld into stone";
Desc: "The robe of blending grants a +2 magic bonus to
      Hide in Shadows for every magical plus that it has.
      Furthermore, it grants its wearer the ability to use
      one spell as an innate spell-like ability for every
      plus it has, in the following order: <9>change self<1>,
      <9>blur<1>, <9>invisibility<1>, <9>gaseous form<1> and
      <9>meld into stone<1>.";
Constants:
* 101 $"robes;magic"; }
and 2
{ xval: 169; }

38 Effect "Robe of Eyes" : 2
{ 0x00000004|0x00000080; Level: 6; Flags: 56, 67, 20;
Desc: "This macabre item resembles a normal cloak until
      its properties are known, at which point hundreds of
      living eyes open all over the robe to enhance the wearer's
      perception. A Robe of Eyes grants a +5 magic bonus to all
      Search and Spot checks, grants the wearer 60 feet of
      Infravison and the ability to see invisible and ethereal
      creatures as well as letting her see in a full 360 degree
      arc, making her very difficult to surprise. In game terms,
      this grants her the benefit of the Improved Initiative 
      feat. Unfortunately, the wearer of a Robe of Eyes cannot
      avert their eyes to help them avoid gaze attacks.";
xval: 124; yval: 44; pval: 5; }
and 2
{ xval: 124; yval: 41; pval: 5; }
and 2
{ xval: 101; }
and 2
{ xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 27); }
and 2
{ xval: 79; yval: 49;
On Event (49+10000) {
if (e.AType == 80)
{
EActor->IPrint("You cannot avert your eyes while wearing a
            Robe of Eyes.");
return 2;
}
return 0;
},
52 {
if (e.isWield) {
DPrint(e, "As you don the robe, hundreds of living eyes
          open all across its surface!",
"As the <EActor> dons the robe, hundreds of living eyes
          open all across its surface!");
EActor->RemoveStati(226);
}
return 0;
};
Constants:
* 101 $"robes;magic";
}

38 Effect "Robe of Scintillating Colors" : 2
{ 0x00000008; 0x00000020; Level: 4;
xval: 145; yval: 2; pval: 20;
Flags: 34, 53, 48,
49, 66, 20, 86; }
and 2
{ xval: 124; yval: 18; pval: -50; }
and 3
{ rval: 0x00000004|0x00000002|0x00000080;
aval: 9; lval: 3; cval: 21; xval: 117;
yval: 51; pval: -4;
Desc: "When activated, this robe flows and ripples with hypnotic,
      distracting colors, giving anyone within 5 squares of the wearer
      a -4 circumstance penalty to all actions, and granting the wearer
      a 20% miss chance against all attacks. You can't hide while this
      effect is active.";
On Event
13
"A nimbus of hypnotic, distracting colors appears around you." /
"A nimbus of hypnotic, distracting colors appears around the <EActor>.",
43
"Wow, those shifting colors are so pretty!" /
"The <EActor> is fascinated.",
44
"At this distance, the colors no longer affect you." /
"The <EActor> seems clearer-headed now.";
Constants:
* 101 $"robes;magic";
}

38 Effect "Vest of Health" : 46
{
Level: -72; Cost: 30;
Flags: 44, 48, 20, 54;
Desc: "An astounding item, the Vest of Health has the ability
      to shield its wearer from all physical (slashing, piercing
      or bludgeoning) or elemental (fire, cold, acid, sound or
      lightning) damage -- up to a limit. The vest can absorb up
      to 30 points of damage for each magical plus it bears, but
      if this full limit is ever exceeded, the vest is destroyed
      irrevocably. Fortunately, it can be activated and deactivated
      nearly instantly. Provided it is not destroyed, the vest
      'recovers' five hit points of damage per day.";
xval: 79; yval: (41+2000);
On Event ((45+1000)+10000) {
hObj hVest2;

hVest2 = EActor->InSlot(8);
if (!hVest2)
return 0;
if (hVest2->ieID != $"Vest of Health")
return 0;

if (hVest2->HasEffStati(188,$"Vest of Health"))
hVest2->SetEffStatiMag(188,$"Vest of Health",
max(0,hVest2->GetEffStatiMag(188,$"Vest of Health") - 5));
return 0;
},
(15+500) {
if (EActor->HasEffStati(79,$"Vest of Health;active"))
{ EActor->IPrint("It's already active.");
return 2; }
return 0;
},
(15+1000) {
#line "m_items.irh" 7631
EActor->IPrint("Your vest glows softly.");
EActor->Timeout = 0;
return 0;
},
163 {
int32 hp;
hp = EActor->GetPlus() * 30;
if (EActor->HasEffStati(188,$"Vest of Health"))
hp -= EActor->GetEffStatiMag(188,$"Vest of Health");
if (EActor->isKnown(0x04) && EActor->isKnown(0x08)) {
e.nAppend = Format(" (%d/%d HP left)", hp, EActor->GetPlus()*30);
if (EActor->Owner() != ((hObj)0))
if (EActor->Owner()->InSlot(8) == GetHandle(EActor))
if (EActor->Owner()->HasEffStati(79,$"Vest of Health;active"))
e.nAppend += " [Active]";
}
return 0;
},
31, 54 {
EActor->RemoveEffStati($"Vest of Health");
EActor->RemoveEffStati($"Vest of Health;active");
return 0;
},
28 {
if (e.isActivation) {
EVictim->GainPermStati(79,EItem,2,
(41+2000),0,$"Vest of Health;active");
return 1;
}
return 0;
} ;
#line "m_items.irh" 7668
Constants:
* 101 $"robes;magic";
}
and 2
{ xval: 79; yval: (45+1000); }


Effect "Vest of Health;active" : 46
{
Flags: 54, 66;
Desc: "An astounding item, the Vest of Health has the ability
      to shield its wearer from all physical (slashing, piercing
      or bludgeoning) or elemental (fire, cold, acid, sound or
      lightning) damage -- up to a limit. The vest can absorb up
      to 30 points of damage for each magical plus it bears, but
      if this full limit is ever exceeded, the vest is destroyed
      irrevocably. Fortunately, it can be activated and deactivated
      nearly instantly. Provided it is not destroyed, the vest
      'recovers' five hit points of damage per day.";
On Event ((41+2000)+10000) {
int32 amtTaken, amtAllowed; hObj hVest;

if (e.DType != 13 && e.DType != 11 &&
e.DType != 12 && e.DType != 1 &&
e.DType != 2 && e.DType != 3 &&
e.DType != 4 && e.DType != 10)
return 0;

hVest = EVictim->InSlot(8);
if (!hVest)
return 0;
if (hVest->ieID != $"Vest of Health")
return 0;

amtAllowed = hVest->GetPlus() * 30;
if (!hVest->HasEffStati(188,$"Vest of Health"))
hVest->GainPermStati(188,NULL,7,0,0,
$"Vest of Health", hVest->ItemLevel());
amtTaken = hVest->GetEffStatiMag(188,$"Vest of Health");

if (amtTaken + e.vDmg > amtAllowed)
{
VPrint(e,"Your vest absorbs some of the damage and is destroyed!",
"The <EVictim>'s vest absorbs some of the damage and is destroyed!");
hVest->Remove(true);
e.vDmg -= (amtAllowed - amtTaken);
return 0;
}

VPrint(e,"Your vest absorbs the damage!",
"The <EVictim>'s vest absorbs the damage!");
hVest->SetEffStatiMag(188,$"Vest of Health",amtTaken + e.vDmg);
e.vDmg = 0;
return 1;
};
}

38 Effect "Vestment of Faith" : 2
{ Level: -92; Flags: 44, 56, 20;
xval: 107; yval: 27; pval: -93; }
and 2
{ xval: 106; yval: 4; pval: -93;
Desc: "The robes of great saints and religious heroes are often
      enchanted to become Vestments of Faith. These holy items only
      function for characters who have one or more levels in the
      priest class; for these characters they add their magical plus
      as a sacred bonus to Defense Class and as a magic bonus to
      Wisdom.";
Constants:
* 101 $"robes;magic";
On Event (28+500) {
if (EVictim->ItemPrereq((rID)($"priest"),1,20) == 0)
return 1;
return 0;
};

}



33 Effect "Uncanny Growth" : 2
{ xval: 106; yval: 25; pval: -93;
Purpose: 0x00010;
Flags: 44 | 67; 0x00000080; Level: -90;
Desc: "Causes a you to become larger, increasing your
      size catagory by one level per plus.";
}

14 Effect "Incredible Shrinking" : 2
{ Level 6;
xval: 106; yval: 25; pval: -1;
Flags: 67 | 2; 0x00000080; Level: 0;
Desc: "Causes a you to become smaller, decreasing your
      size catagory by one.";
}

14 Effect "Boldness" : 2
{ 0x00000001; Level: 1;
xval: 177; yval: 28;
Desc: "Makes you immune to fear.";
}

27 Effect "Courage" : 2
{ xval: 114; yval: 51; pval: -93;
Purpose: 0x00010;
Flags: 44; 0x00000200; Level: -91;
Desc: "Grants a morale bonus to your attacks
      and saves equal to its plus.";
}

33 Effect "Lesser Divine Aspect" : 2
{ xval: 106; yval: 5; pval: 4; Purpose: 0x00010;
Level: -49; Flags: 44;
Desc: "Causes you to take on some of the qualities of a
      celestial being: you gain an enhancement bonus of +4
      to your Charisma score; darkvision; a +2 bonus to saving
      throws against disease and poison; and acid, cold and 
      electricity resistance of 5."; }
and 3
{ xval: 104; yval: 2; pval: -89 ; }
and 3
{ xval: 104; yval: 4; pval: -89 ; }
and 3
{ xval: 104; yval: 3; pval: -89 ; }
and 2
{ 0x00000080; xval: 39; yval: 42; pval: -50; }
and 3
{ xval: 123; yval: 8; pval: -92; }
and 3
{ xval: 123; yval: 14; pval: -92; }

29 Effect "Nondetection;item" : 2
{ xval: 211;
yval: 0x0004|0x0080|0x0100;
Purpose: 0x00010; 0x00000001; Level: 3;
Desc: "This item makes its wearer difficult to detect by
    divination or other non-standard means. Scent, Telepathy and 
    Detection are all blocked. The creature can
    still be tracked or perceived visually. Note that this does *not* by
    itself hide or otherwise make the wearer invisible.";
}



14 Effect "Undead Warding" : 2
{ xval: 214; yval: 76;
Purpose: 0x00010; 0x00000001; Level: 3;
Desc: "This item makes the bearer innocuous to the lifeless eyes of 
    the undead. Undead will be initially neutral to the bearer, but will 
    still become angry if attacked.";
}

29 Effect "Vermin Friendship" : 2
{ xval: 214; yval: 31;
Purpose: 0x00010; 0x00000001; Level: 3;
Desc: "This item makes the bearer innocuous in the eyes of vermin. 
    Such creatures will be initially neutral to the bearer, but will 
    still become angry if attacked." ;
}

14 Effect "Planar Warding" : 2
{ xval: 214; yval: 48;
Purpose: 0x00010; 0x00000001; Level: 6;
Desc: "This item attunes the essense of the bearer to the Prime
    Material plane. Outsiders will view the bearer as, essentially, part of
    the terrain, and will rarely be hostile.  Outsiders will still become
    angry if attacked."; }


10 Effect "Devilbane" : 2
{ xval: 218; yval: 73; Level: 4; 0x00000001;
Flags: 19;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect devils. Unfortunately,
      bearing this item will also cause such creatures to view you with
      marked disdain. Kysul is quite fond of such devices -- the Multitude
      merely tolerate them for their own purposes."; }
and 2
{ xval: 215; yval: 73; }

13 Effect "Elemental Disjunction" : 2
{ xval: 218; yval: 38; Level: 5; 0x00000001;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect Elementals and their kind.
      Unfortunately, bearing this item will also cause such creatures to
      view you with marked disdain. Ekliazeh, Immotian, Kysul and Sabine 
      favor such devices, but any they can be useful in the hands of a
      devout priest of any faith.";
} and 2 { xval: 215; yval: 38; }

27 Effect "Theryan Inviolability" : 2
{ xval: 218; yval: 48; Level: 7; 0x00000001;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect Outsiders. 
      Unfortunately, bearing this item will also cause such creatures to
      view you with marked disdain. Ekliazeh, Immotian and Kysul all 
      favor such devices.";
} and 2 { xval: 215; yval: 48; }

10 Effect "Purity" : 2
{ xval: 218; yval: 58; Level: 6; 0x00000001;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect Aberrations. Unfortunately, bearing 
      this item will also cause such creatures to view you with marked 
      disdain.";
} and 2 { xval: 215; yval: 58; }
#line "wspells.irh" 141
50 Spell "Endure Fire" : 3
{ 0x00000001|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 143
xval: 104; yval: 1; pval: 3d1 + (-106);
Desc: "Grants the target fire resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Cold" : 3
{ 0x00000001|0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 149
xval: 104; yval: 2; pval: 3d1 + (-106);
Desc: "Grants the target cold resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Lightning" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 155
xval: 104; yval: 4; pval: 3d1 + (-106);
Desc: "Grants the target lightning resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Acid" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 161
xval: 104; yval: 3; pval: 3d1 + (-106);
Desc: "Grants the target acid resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Sound" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 167
xval: 104; yval: 10; pval: 3d1 + (-106);
Desc: "Grants the target sound resistance equal to 3 plus
      1 per 2 caster levels."; }
#line "wspells.irh" 178
50 Spell "Mage Armor" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0;
#line "wspells.irh" 180
Flags: 83, 29;
xval: 116; yval: 17; pval: 15d1 + (-107);
Desc: "This euphamistically-named spell created a ward around the
      mage's body which mystically dampens the lethality of attacks,
      manifesting through luck and coincidence (with no physical form)
      to protect her from harm. This effect is represented in game
      terms by granting the caster [4 + Luck modifier] levels armor in 
      each armor catagory, or [6 + Luck modifier] if the caster is an
      Abjurer. Mage Armor is not compatible with real armor, and counts
      as medium armor for the purpose of abilities like defensive roll
      and Zen Defense.";
On Event 205
"Mage Armor" / "MArm",
28
"You feel safe." /
"The <EVictim> seems more solid, somehow.",
84
"You feel threatened." /
"The <EVictim> seems vulnerable, somehow.",
170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->HasStati(37,0))
SetPVal(e,6 + EActor->Mod(6));
else
SetPVal(e,4 + EActor->Mod(6));
},
(52+500) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("You cannot combine <9>mage armor<7> with
            conventional armor.");
return 2;
}
return 0;
},
((13+1000)+10000) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("Your <9>mage armor<7> is cancelled.");
EActor->RemoveEffStati($"mage armor");
}
return 0;
};
}
and 3
{ xval: 79; yval: (13+1000); }


50 / 52 / 2 Spell "Protection from Evil" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0; Flags: 56;
#line "wspells.irh" 231
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(103)) {
e.vHit -= 2;
e.strHit += " -2 ProtEvil";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from evil's influence with a tripartite
      effect: evil creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
On Event 205 "ProEvil" / "PEvil"; }

50 Spell "Protection from Good" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0;
#line "wspells.irh" 254
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(106)) {
e.vHit -= 2;
e.strHit += " -2 ProtGood";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from good's influence with a tripartite
      effect: good creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
Flags: 55;
On Event 205 "ProGood" / "PGood"; }

50 Spell "Protection from Law" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0;
#line "wspells.irh" 278
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(104)) {
e.vHit -= 2;
e.strHit += " -2 ProtLaw";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from law's influence with a tripartite
      effect: lawful creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
Flags: 21;
On Event 205 "ProLaw" / "PLaw"; }

50 Spell "Protection from Chaos" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0;
#line "wspells.irh" 302
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(105)) {
e.vHit -= 2;
e.strHit += " -2 ProtChaos";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from chaos's influence with a tripartite
      effect: chaotic creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
Flags: 22;
On Event 205 "ProChaos" / "PChaos"; }

50 Spell "Shield" : 3
{ 0x00000001|0x00000010|0x00010000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0;
#line "wspells.irh" 326
xval: 79; yval: (19+2000);
Desc: "Creates a shield-shaped force construct that hovers
      nearby you, granting you a +5 defense class bonus versus 
      physical attacks that you are aware of, so long as you are
      not being flanked, and rendering you immune to Magic Missiles.
      This bonus persists even during a spellcasting timeout.";
On Event ((19+2000)+10000) {
if (!e.isFlanking && !e.isSurprise && !e.isFlatFoot)
{
e.vDef += 5;
e.strDef += " +5 shield";
}
return 0;
},
((28+2000)+10000) {
if (e.eID == $"magic missile")
{
VPrint(e,"Your shield deflects the missiles!",
"The <EVictim>'s shield deflects the missiles!");
return 2;
}
return 0;
},
28
"A shield-sized wall of force appears by your arm." /
"A shield-sized wall of force appears by the <EVictim>'s arm.",
84
"Your magical shield vanishes." /
"The <EActor>'s magical shield vanishes.";
}
and 3
{ xval: 79; yval: (28+2000); }

50 Spell "Spiritwrack" : 1
{
Desc: "By casting this spell, a mage creates an intense dissonance
      between the fabric of the material plane and those nearby it,
      injuring and driving back creatures that reach into the Prime
      Material from other planes of existance. Incorporeal creatures
      (whether their existance overlaps into the astral, ethereal or
      negative energy planes) suffer 1d8 points of damage per caster
      level, material creatures native to the Outer Planes, astral or
      ethereal suffer 1d6 points of damage per caster level and creatures
      native to the elemental planes suffer 1d4 points of damage per
      caster level. The spell affects a 30 foot burst, and all damage
      is scaled after 9th level. A Will saving throw negates the
      damage completely, but failure also leaves the victim in a
      state of psychic shock causing a -4 circumstance penalty.\n
      __Since the Spiritwrack effect is essentially an attack made of
      pure will, if an affected creature makes the Will saving throw 
      and has a Wisdom score of 15 or higher, it may attempt to reflect 
      the wave of torment back at the caster, making him subject to the
      damage from his own spell. This requires that the creature beat
      the caste in a contest of wills -- an opposed Concentration check.";
0x00000001; 0x00000100; Cost: 3; Level: 1; Base: 90; qval: 0x0002;
xval: 0; pval: (-126)d8; aval: 11; cval: 15;
sval: 2; Purpose: 0x00001; Flags: 53;
On Event 170 {
int32 n, s;
if (!GetHandle(EVictim))
return 0;
if (!EVictim->isCreature())
return 0;
n = LevelAdjust(-126,e.vCasterLev);
if (EVictim->onPlane() != 0)
s = 8;
else if (EVictim->isMType(44))
s = 4;
else
s = 6;
if (e.MM & 0x00010000)
e.vDmg = n * s;
else
e.vDmg = (n)d(s);
if (e.MM & 0x00000200)
e.vDmg = (e.vDmg * 15) / 10;
},
155 {
if (EVictim->onPlane() != 0)
return 0;
if (EVictim->isMType(48))
return 0;
if (EVictim->isMType(44))
return 0;
return -1;
},
(83+1000) {
int32 a, b;
if (e.Resist && EVictim->GetAttr(4) >= 15)
{
EActor->IPrint("The <hObj> locks wills with you!",EVictim);
EVictim->IPrint("You lock wills with the <hObj>!",EActor);
EActor->SkillCheck(8,0,true);
a = LastSkillCheckResult();
EVictim->SkillCheck(8,0,true);
b = LastSkillCheckResult();
if (b >= a)
{
EActor->IPrint("The <hObj> turns your magic back on you!", EVictim);
EVictim->IPrint("You turn the wave of psychic torment back on the <hObj>!", EActor);
ThrowDmg(41,0,e.vDmg,
"a reflected Spiritwrack spell",EVictim,EActor);
}
else
{
EActor->IPrint("Your will is stronger than the <hObj>'s!",EVictim);
EVictim->IPrint("The <hObj>'s will is stronger than yours!",EActor);
}
}
return 0;
},
28
"You scream in agony!" /
"The <EVictim> screams in agony!";
}
and 3
{ xval: 117; yval: 51; pval: -4; }

50 Spell "Erase" : 46
{ 0x00000001; Base: 90; Cost: 2; Level: 1; qval: 0x0002 | 0x0004 | 0x0008;
sval: 2; Purpose: 0x00004 | 0x01000;
Flags: 71, 40;
Desc: "When cast, this spell erases magical writings as if they
      never were. It will destroy a <9>glyph of warding<1> or a
      manifestation of the <9>symbol<1> spell, as well as any number
      of spellbooks or scrolls on the ground, rendering the latter
      blank but physically damaged. Used against another creature,
      it will blank 1 randomly chosen scroll or spellbook in that
      creature's possession, plus one for every three full levels
      the caster has. A Will save negates the effect if the spell
      is targeted against a living creature.";
On Event 155 {
hObj it;
if (GetHandle(ETarget) == ((hObj)0))
return 1;
if (ETarget->isType((-4)))
if (!(ETarget->isType(50) ||
ETarget->isType(55) ||
ETarget->isType(22)))
return -1;
if (ETarget->isCreature())
for (it=ETarget->FirstInv();it;it=ETarget->NextInv())
if (it->isType(50) || it->isType(22) ||
it->isType(55))
return 0;
return 1;
},
52 {
int32 i, c; hObj it, cr; rID xID;
if (GetHandle(EVictim) != ((hObj)0) && EVictim->isCreature())
{
c = 1 + e.vCasterLev/3;
for (i=0;i!=c;i++)
{
ClearCandidates(); cr = GetHandle(EVictim);
for (it=EVictim->FirstInv();it;it=EVictim->NextInv())
if (it->isType(50) || it->isType(22) ||
it->isType(55))
if (it->iID != $"blank spellbook")
if (it->iID != $"scroll" || (it->ieID != (rID)0))
AddCandidate((int32)it);
if (nCandidates() == 0)
{ if (!i)
APrint(e,"Nothing apparent happens.");
return 1; }
it = (hObj)RandCandidate();
SetETarget(e,it);
RedirectEff(e,$"Erase",28);
SetETarget(e,cr);
}
return 1;
}
if (GetHandle(ETarget) != ((hObj)0) && ETarget->isType((-4)))
{
if (ETarget->isType(50) || ETarget->isType(55))
{ ETarget->ieID = (rID)0; ETarget->SetInherantPlus(0); }
else if (ETarget->isType(22))
ETarget->ChangeIID($"blank spellbook");
else
Error("Strange object targeted in Erase!");
EActor->IDPrint("Magical writing fades from the <hObj>!",
"Magical writing fades from the <hObj>!",ETarget);
e.isSomething = true;
return 1;
}
xID = EMap->TerrainAt(e.EXVal,e.EYVal);
switch (xID)
{
case $"strange rune":
case $"guardian runes;2":
case $"guardian runes":
APrint(e,"The runes vanish!");
e.isSomething = true;
EMap->RemoveTerraXY(e.EXVal,e.EYVal,xID);
if (xID == EMap->TerrainAt(e.EXVal,e.EYVal))
EMap->WriteTerra(e.EXVal,e.EYVal,$"floor");
break;
case $"warded wall":
APrint(e,"Runes vanish from the wall!");
e.isSomething = true;
EMap->WriteTerra(e.EXVal,e.EYVal,$"dungeon wall");
break;
}
for(it=EMap->FirstAt(e.EXVal,e.EYVal);it;it=EMap->NextAt(e.EXVal,e.EYVal))
{
if (it->isType(50) || it->isType(55) || it->isType(22))
{
SetETarget(e,it);
e.isSomething = true;
RedirectEff(e,$"Erase",28);
SetETarget(e,((hObj)0));
}
if (it->isFeature()) {
if (it->fID == $"warding rune")
{
it->Remove(true);
e.isSomething = true;
APrint(e,"The warding rune vanishes!");
}
if (it->isType(12))
if (it->tID == $"symbol of sleep;trap" ||
it->tID == $"symbol of pain;trap")
{
it->Remove(true);
e.isSomething = true;
APrint(e,"The symbol vanishes!");
}

if (it->fID == $"warded oak door")
{
it->fID = $"oak door";
it->SetImage();
e.isSomething = true;
EMap->Update(e.EXVal,e.EYVal);
APrint(e,"Runes vanish from the door!");
}
}
}
if (!e.isSomething)
APrint(e,"Nothing apparent happens.");
return 1;
};
}




50 / 2 Spell "Feather Fall" : 3
{ 0x00000002; Base: 95; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 575
xval: 79; yval: ((41+500)+2000);
Desc: "__While this spell is active, you float gentley downward rather then
      plummeting, suffering no damage for falls and not becoming prone as a result
      of them, though you can still be tripped.";
On Event (((41+500)+2000)+10000) {
if (e.DType == 94)
{
VPrint(e, "You float gracefully downward.",
"The <EVictim> floats gracefully downward.");
return 1;
}
return 0;
};
}

50 / 2 Spell "Grease" : 5
{ 0x00000002; Base: 75; Cost: 2; Level: 1; qval: 0x0002; sval: 3;
Purpose: 0x00040 | 0x01000;
xval: 6; rval: $"pool of grease"; aval: 11; lval: 3;
Desc: "Creates a patch of grease on open ground that can
      cause foes to slip and fall.";
On Event 206
"A pool of grease appears!",
74
"The pool of grease fades away."; }

50 / 2 Spell "Knock" : 46
{ 0x00000002; Base: 95; Cost: 1; Level: 1;
Purpose: 0x00400 | 0x10000; Flags: 25;
hObj h;
On Event 155 {
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20))) &&
EActor->Percieves(h))
return 0;
else if ((h->isType(30) || h->isType(26)) &&
(h->HasStati(228)) && EActor->Percieves(h))
return 0;
}
return -1;
} ;
On Event 28 {
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20))) &&
EMap->LineOfFire(EActor->x,EActor->y,h->x,h->y,EActor) &&
EActor->DistFrom(h) <= 6) {
h->DoorFlags &= ~0x08;
h->DoorFlags |= 0x02;
h->SetImage();
e.isSomething = true;
DPrint(e,"The <hObj> opens.",NULL,h);
}
}
return 1;
};
Desc: "Magically causes all doors in your line of fire within 60 
    feet to open. This spell opens locked doors but does expose secret 
    doors. This spell opens wizard-locked doors but does not remove the
    wizard-locked enchantment.";
}

1 / 50 / 2 Spell "Mending" : 46
{ 0x00000002; Base: 75; Cost: 7; Level: 1; qval: 0x0008;
pval: 1d6+-101; Flags: 78;
Desc: "Repairs 1d6+[caster level] hit points of damage to
      any non-metallic item in the player's possesion.";
On Event
155 {
hObj it;
if (!(EVictim->isType((-4)) && !EVictim->isMetallic()))
return -1;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->GetHP() < it->MaxHP())
return 0;
}
return 1;
} ,
83 {
if (EVictim->GetHP() < EVictim->MaxHP()) {
EVictim->MendHP(e.vDmg);
if (EVictim->GetHP() >= EVictim->MaxHP())
VPrint(e,"Your <hObj> has been fully restored.",NULL,EVictim);
else
VPrint(e,"Your <hObj> has been partially restored.",NULL,EVictim);
}
} ;
Constants:
* 109 200;
}

50 / 53 Spell "Wall of Fog" : 5
{ 0x00000002|0x00001000|0x00008000; Base: 90; Cost: 1; Level: 1; qval: 0x0001; aval: 8;
Purpose: 0x00040 | 0x00004 | 0x01000 (3);
xval: 6; rval: $"fog"; Flags: 25;
Desc: "Conjures a curtain of fog useful for, among other things,
      blocking spellcasters and archers' lines of sight. Characters
      with true sight or Nature Sense can see through fog clearly, and
      anyone can see creatures within one square of the fog on either
      side.";
On Event 206
"A curtain of obscuring fog appears.",
74
"The curtain of fog disperses.";
}


50 / 2 Spell "Wizard Lock" : 46
{ 0x00000002; Base: 75; Cost: 1; Level: 1; qval: 0;
Purpose: 0x00010 | 0x00040 | 0x10000; Flags: 25;
Desc: "Magically closes, locks and wizard-locks all doors you can perceive.  A wizard-locked door has double the normal hardness and the DC to pick its locks increases by +10. You can open one of your wizard-locked doors instantaneously with a mental command when next to it. You can close one of your wizard-locked doors normally. Doors that are already wizard-locked are unaffected by this spell.";
hObj h;
On Event 155 {
for(h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isType(11) && !h->HasStati(182) && EActor->Percieves(h))
return 0;
return -1;
} ;
On Event 28 {
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && !h->HasStati(182) && EActor->Percieves(h)){
h->DoorFlags &= ~0x02;
h->DoorFlags |= 0x08;
h->GainTempStati(182,EActor,e.vDuration,7,0,e.saveDC,$"Wizard Lock");
h->SetImage();
e.isSomething = true;
VPrint(e,"The <hObj> is now wizard-locked.",NULL,h);
}
}
return 1;
};
}
#line "wspells.irh" 716
50 / 2 Spell "Detect Secret Doors" : 46
{ 0x00000004; Base: 90; Cost: 2; Level: 1;
Purpose: 0x00000;
On Event 28 {
hObj h; int32 found; found = 0;
for(h = EMap->FirstThing(); h ; h = EMap->NextThing())
if (dist(EActor->x,EActor->y,h->x,h->y) <= 25 + e.vCasterLev*2) {
if (h->isType(11))
if (h->DoorFlags & 0x20) {
h->DoorFlags &= ~0x20;
h->SetImage();
EActor->IPrint("A secret door!");

EMap->MarkAsSeen(0,h->x,h->y,0);
found = 1;
}
}
if (!found)
EActor->IPrint("You find nothing of note.");
};
Desc: "Reveals the presence of secret doors. The range of this spell is
    25 squares plus 2 squares per caster level.";
}

50 / 2 Spell "Detect Stairs" : 46
{ 0x00000004; Base: 95; Cost: 10; Level: 1;
Purpose: 0x00000;
Desc: "Tells you where the staircases (up and down) and portals on the
    current level are, and reveals them on the map. May not reveal some
    hidden, secret of special types of staircases.";
On Event 28 {
Rect r; int32 x, y; hObj f;

if (!EVictim->isPlayer())
return 0;

r@x1 = 1;
r@x2 = EMap->SizeX()-1;
r@y1 = 1;
r@y2 = EMap->SizeY()-1;
for (x=r@x1;x<=r@x2;x++)
for (y=r@y1;y<=r@y2;y++)
{
for (f=EMap->FFeatureAt(x,y);f;f=EMap->NFeatureAt(x,y))
if ( f != NULL && f->isType(10) )

EMap->MarkAsSeen(0,x,y,0);
}
EMap->VUpdate(EVictim->x,EVictim->y);
return 0;
};
}

Effect "Know Alignment" : 25
{ 0x00000004; Base: 75; Cost: 2; Level: 1; qval: 0x0004;
Purpose: 0x00000;
Desc: "A beneficiary of this spell instantly recognizes the
      alignment of any creature; this information is displayed
      whenever the 'L'ook command is used to examine the creature.";
On Event 28 {
EActor->IPrint("No alignments yet.");
return 1;
};
}

1 / 50 / 2 Spell "True Strike" : 3
{ 0x00000004; Base: 90; Cost: 2; Level: 1;
Purpose: 0x00010 (1);
Flags: 61, 26, 13, 86;
xval: 108; yval: 50; pval: 10;
Desc: "Grants you a +10 insight toHit bonus (due to preternatural 
      perception) on your next single attack roll.";
}

50 Spell "Read Magic" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; Purpose: 0x00010;
#line "wspells.irh" 792
Flags: 61; On Event 200 "ReadMagic" / "RM";
xval: 124; yval: 10; pval: -82;
Desc: "Casting this spell grants you an exceptional facility
      for reading and correctly interpreting magical writings,
      granting you a bonus to the Read Magic skill equal to your
      caster level (minimum +5).";
}

50 Spell "Daggerspell" : 3
{
0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 1; Purpose: 0x00010;
#line "wspells.irh" 803
Desc: "In casting this spell, a mage grants herself the
      facility to use a dagger as an instrument of divination
      like the classical dowsing rod -- a symbolic weapon to
      cut away obfuscation and reveal truth. Instead of
      attuning it to seek out water, however (as is done
      with a dowsing rod), the mage attunes the dagger to
      seek out flaws and weaknesses. In the hands of a mage
      with this spell, a dagger is drawn intuitively to the
      flaws in a structure or enemy's armor.\n
      __A specialist Diviner recieves an insight bonus to damage
      rolls equal to her Intelligence bonus when using a dagger;
      for other mages, this bonus caps out at +2. In any mage's 
      hands the base threat range of the weapon is treated as 
      being 18-20. When using a dagger, she can halve the hardness
      of an object when she attacks it, and an armor-wearing
      enemy's Coverage is reduced by 4 against her attacks.\n
      __Creatures with Nondetection are unaffected by this spell,
      and the caster gains no extra damage or increased threat
      range aainst them.";
xval: 79; yval: 19;
On Event (19+10000) {
int32 bon;
if (e.AType == 63 || e.AType == 41)
if ((GetHandle(EItem) != ((hObj)0) && EItem->iID == $"dagger") ||
(GetHandle(EItem2) != ((hObj)0) && EItem2->iID == $"dagger") )
{
if (EVictim->XORStatiVal(211) & 0x0100)
return 0;
bon = EActor->Mod(3);
if (!EActor->HasStati(37,2))
bon = min(bon,2);
bon = max(0,bon);
e.bDmg += bon;
e.strDmg += Format(" %+d insight", bon);
e.vThreat = 20 - (((21 - e.vThreat)/2)*3);
e.halfHardness = true;
e.vPenetrateBonus += 4;
}
return 0;
};
}

50 Spell "Arrow Mind" : 3
{ 0x00000004; Cost: 3; Base: 75; Level: 1;
Desc: "Casting this spell, a mage or ranger enters a trance state of
      preternatural awareness and acute focus on her archery. She gains
      the benefits of the Zen Archery and Defensive Shot feats, as well
      as a +3 bonus to hit and a +25~ bonus to speed on attacks with a 
      bow. At the end of the spell's duration, the caster loses one Fatigue
      point from the intense devotion of the trance. The effect lasts 10
      rounds, plus three rounds per point of the caster's Constitution
      bonus (if any).";
xval: 117; yval: 12; pval: +3; }
and 3
{ xval: 117; yval: 7; pval: +5; }
and 3
{ xval: 41; yval: (((49 + 1) + 32) + 25); }
and 3
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41);
On Event 84 {
if (e.EParam == 10 && e.vVal == (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41))
EActor->LoseFatigue(1,false);
return 0;
},
170 {
e.vDuration = 10 + max(0,EActor->Mod(2)*3);
};
}




50 / 2 Spell "Charm Person" : 3
{ 0x00000008; Base: 75; Cost: 3; Level: 1; sval: 2;
Purpose: 0x00004 (9); tval: 86;
xval: 137; yval: 1; qval: 0x0004;
Flags: 25, 53, 4, 34;
Desc: "Improves a hostile, sapient humanoid's temperment
      towards you, such that it ceases attacking and becomes a
      neutral creature.";
On Event 28
"The <EVictim> gives way to your charm." /
"You fall under the influence of the <EActor>." /
"The <EVictim> falls under the influence of the <EActor>.",
74
"You shake off the effect of the charm." /
"The <EActor> shakes off the effect of the charm.";
}

50 / 2 Spell "Cause Fear" : 3
{ 0x00000008; Base: 75; Cost: 2; Level: 1; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 10; Flags: 53, 70;
Desc: "Causes one target creature to be overcome with mortal
      terror, such that it will flee from you to the best of its
      ability for the spell's duration.";
}

50 Spell "Friends" : 3
{
0x00000008; Level: 1; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10;
#line "wspells.irh" 904
xval: 234; yval: 0; pval: 2;
Desc: "Casting this spell imbues you with an aura of affiability
      and good candor, causing other creatures to react favorably
      to you. You recieve a +2 (+4 for specialist Enchanters) social
      modifier to all social actions taken against other characters,
      and shop prices are calculated for you as if your Diplomacy
      skill rating was that much higher.";
On Event 170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->HasStati(37,3))
SetPVal(e,+4);
return 0;
};
}

50 Spell "Nystrom's Magical Aura" : 3
{ 0x00000008; 0x00000020; Base: 90; Cost: 3; Level: 1; qval: 0x0008;
xval: 234; pval: 100; Flags: 85;
Desc: "__Casting this spell imbues a chosen item with a surreal
      quality of power and mystique that misleads the intuition
      and divinations of others into believing that items is a
      powerful magical treasure surpassing all others, and they
      will be led by the spell to covet it intensely. Intelligent,
      tool-using monsters will seek to acquire this item, and will 
      equip it in preferance to others if this possess it. Thus, 
      this spell can be used as a kind of trap, causing monsters 
      to not use their real magical equipment in favor of fakes, or
      as a thrown lure to draw a monster to a specific location.\n
      __The item is also much more desirable to thieves and pickpockets 
      than a normal item of its type would be, but most merchants have
      devised a way of detecting the use of this spell. Selling an
      item affected by this spell is a chaotic act; if the seller is
      not evil, it is also an evil one.";
On Event 28
"The <EVictim> glows with a blindingly bright silvery light.";
}

50 / 2 Spell "Sleep" : 3
{ 0x00000008; 0x00000080; Base: 75; Cost: 3; Level: 1; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004 | 0x0002;
Flags: 25, 53, 34; lval: 2;
xval: 7; yval: 2;
aval: 11; cval: 9;
On Event 155 {
return EVictim->ChallengeRating() > max(2,
EActor->ChallengeRating() / 2) ?
-1 :
0;
};
Desc: "Causes creatures whose levels are half your own 
      or less within a 20 foot (2 square) radius globe to 
      fall into slumber until woken or attacked; creatures
      with two or fewer Hit Dice are affected regardless of 
      their level.";
}

50 Spell "Spook" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 963
Flags: 34, 53, 70, 86,
85;
rval: 0x00000004|0x00000002; aval: 9; lval: 3; cval: 8;
xval: 114; yval: 51; pval: -2;
Desc: "Manifests a disquieting aura around you, such that living
      beings are unsettled and demoralized, and suffer a -2 morale
      penalty to all their rolls.";
On Event
206
"You evoke an disturbing aura around yourself." /
"The <EActor> evokes an unsettling aura around <him:EActor>self.",
43
"You feel disquieted." /
"The <EActor> seems unsettled.",
44
"You feel less disturbed now." /
"The <EActor> seems more composed now.";
}
#line "wspells.irh" 986
50 / 2 Spell "Force Bolt" : 1
{ 0x00000010|0x00010000; Base: 75; Cost: 4; Level: 1; qval: 0x0001 | 0x0004;
Purpose: 0x00001 (0); cval: 10;
xval: 61; pval: 1d4;
sval: 1 partial; aval: 1; }
and 1
{ xval: 13; pval: (-115)d12;
aval: 1; sval: 1; }
and 3
{ xval: 5; sval: 1; Flags: 24, 60,
89, 88;
aval: 1;
Desc: "Projects a powerful unseen force that batters a single
      target for 1d12 points of blunt damage, plus 1d12 for every
      three additional caster levels; the bolt may also knock its
      victim back, and if the victim fails the Reflex save for half
      damage, they are also stunned for one round. Force bolt is a
      weapon-like spell and requires an attack roll to hit. This
      spell has an inherant +6 bonus to its save DC.";
On Event 200 "force bolt"; }


50 Spell "Magic Missile" : 1
{ 0x00000010|0x00010000; Base: 90; Cost: 1; Level: 1; xval: 8;
Purpose: 0x00001 (0); cval: 15;
pval: (-114)d4+(-114); sval: 3;
Flags: 83, 32;
qval: 0x0004; aval: 1;
Desc: "Strikes a visible foe with bolts of magical energy inflicting 1d4+1 
      damage; creates 1 bolt every odd level."; }

50 Spell "Shocking Grasp" : 1
{ 0x00000010; 0x00000080; Base: 95; Cost: 1; Level: 1;



aval: 6; lval: -83;

xval: 4; pval: 1d8+(-101);
Purpose: 0x00001; Flags: 86, 61, 25, 66;
cval: 14;
Desc: "Projects lightning through your grip, inflicting 1d8 + 
      you caster level points of damage on the first target you
      touch. You may use this touch attack one time per caster
      level (minimum 3 times).";
On Event 206
"Your hands crackle with electricity!" /
"The <EActor>'s hands crackle with electricity!",
83
"Fzzap!" /
"Fzzap!"; }

50 / 2 Spell "Burning Hands" : 1
{ 0x00000010|0x00004000; Base: 95; Cost: 2; Level: 1;
xval: 1; pval: (-122)d4; qval: 0x0001;
Purpose: 0x00001 (10); Flags: 75;
On Event 52 {
hObj h1,h2,h3;
#line "wspells.irh" 1054
h1 = NULL; h2 = NULL; h3 = NULL;
if (DirX(e.EDir) && DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir), 197 + (12*256)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1057
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 + (12*256)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "wspells.irh" 1058
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 + (12*256)); h3 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1059
}
else if (DirX(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 + (12*256)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "wspells.irh" 1062
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 1, 197 + (12*256)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 1); }
#line "wspells.irh" 1063
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + -1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + -1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + -1, 197 + (12*256)); h3 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + -1); }
#line "wspells.irh" 1064
}
else if (DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 + (12*256)); h1 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1067
if (EMap->InBounds(EActor->x + 1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 1, EActor->y + DirY(e.EDir), 197 + (12*256)); h2 = EMap->FCreatureAt(EActor->x + 1,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1068
if (EMap->InBounds(EActor->x + -1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + -1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + -1, EActor->y + DirY(e.EDir), 197 + (12*256)); h3 = EMap->FCreatureAt(EActor->x + -1,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1069
}
else {
e.SetParam(1,EActor);
ReThrow(83,e);
e.isSomething = true;
return 1;
}
if ((EActor != NULL && EActor->isPlayer()) ||
(EVictim != NULL && EVictim->isPlayer())) {
ETerm->TermUpdate();
ETerm->StopWatch(500);
ETerm->RefreshMap();
}
if (h1) {
e.SetParam(1,h1);
ReThrow(83,e);
}
if (h2) {
e.SetParam(1,h2);
ReThrow(83,e);
}
if (h3) {
e.SetParam(1,h3);
ReThrow(83,e);
}
e.isSomething = true;
return 1;

},
155 {
#line "wspells.irh" 1101
if (!EVictim->isBeside(EActor))
return -1;
return 0;
},
200 "sheet of flame";
Desc: "Causes jets of flame to spread out of your outstretched fingertips
      in a fan pattern, striking creatures in the three squares nearest you in
      the direction you select for 1d4 points of damage per caster level (max
      5d4).";
}

50 / 2 Spell "Floating Disc" : 3
{ 0x00000010|0x00010000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1114
Purpose: 0x00010 | 0x00000;
xval: 150 ; yval: 23;
Desc: "You create a slightly concave, circular plane of force that
    follows you about and carries your pack for you. The disk is 3 feet in
    diameter and 1 inch deep at its center.  The disk floats approximately
    3 feet above the ground at all times and remains level. It floats along
    horizontally with you and will accompany you as you move. While this
    spell is in effect the weight of your backpack (and its contents) will
    not count against your encumbrance." ;
On Event 205 "FloatDisc" / "Disc";
On Event 28
"A conjured floating disk supports your pack." /
"A conjured floating disk appears near the <EVictim>.",
84
"Your conjured floating disk vanishes." /
"The <EVictim>'s conjured floating disk vanishes."; }




50 / 2 Spell "Chromatic Orb" : 46
{ 0x00000020 | 0x00000002 | 0x00020000; Base: 75; Cost: 0; Level: 1; qval: 0x0004 | 0x0001;
Purpose: 0x00000; cval: 21; Flags: 60, 59; aval: 1;
int32 ch, i;
On Event 52 {
i = e.vCasterLev;
if (i > 20 && EActor->cMana() >= 21)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow, Green, Azure, Violet or Black?","cwroygavb",'b');
else if (i >= 17 && EActor->cMana() >= 18)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow, Green, Azure or Violet?","cwroygav",'v');
else if (i >= 15 && EActor->cMana() >= 15)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow, Green or Azure?","cwroyga",'a');
else if (i >= 12 && EActor->cMana() >= 12)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow or Green?","cwroyg",'g');
else if (i >= 9 && EActor->cMana() >= 9)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange or Yellow?","cwroy",'y');
else if (i >= 7 && EActor->cMana() >= 7)
ch = EActor->ChoicePrompt("Clear, White, Red or Orange?","cwro",'o');
else if (i >= 5 && EActor->cMana() >= 6)
ch = EActor->ChoicePrompt("Clear, White or Red?","cwr",'r');
else if (i >= 3 && EActor->cMana() >= 5)
ch = EActor->ChoicePrompt("Clear or White?","cw",'w');
else if (EActor->cMana() >= 4)
ch = 'c';
else {
EActor->IPrint("You don't have enough mana!");
return 2;
}
switch (ch) {
case 27: return 2;
case 'c': EActor->LoseMana(4); e.cval = 7; break; case 'w': EActor->LoseMana(5); e.cval = 15; break; case 'r': EActor->LoseMana(6); e.cval = 12; break; case 'o': EActor->LoseMana(7); e.cval = 6; break; case 'y': EActor->LoseMana(9); e.cval = 14; break; case 'g': EActor->LoseMana(12); e.cval = 2; break; case 'a': EActor->LoseMana(15); e.cval = 9; break; case 'v': EActor->LoseMana(18); e.cval = 5; break; case 'b': EActor->LoseMana(21); e.cval = 0; break; }
return 0;
},
19 {
if (ch == 'c')
e.isGhostTouch = true;
return 0;
},
28 {
hText ht;
i = (e.vCasterLev + 1)/2;
if (e.isCrit)
i = i*2;

if (ch == 'w') {
if (e.MM & 0x00010000)
i = i*6;
else
i = (i)d6;
}
else {
if (e.MM & 0x00010000)
i = i*8;
else
i = (i)d8;
}
if (e.MM & 0x00000200)
i = (i * 15) / 10;
i += EActor->Mod(4);

TPrint(e,"Your orb strikes an <EVictim>!",
"A colored orb strikes you!",
"A colored orb strikes the <EVictim>!");

switch(ch) {
case 'c':
ThrowDmg(41,8,i,"chromatic orb",EActor,EVictim);
ht = "pure magic";
break;
case 'w':
if (EVictim->HasMFlag(8) || EVictim->isMType(57)) {
EVictim->GainTempStati(10,EItem,1d4,2,1,-1);
EVictim->StatiMessage(10);
}
ThrowDmg(41,9,i,"chromatic orb",EActor,EVictim);
ht = "sunlight";

break;
case 'r':
ThrowEff(83,$"faerie fire",EActor,EVictim);
ThrowDmg(41,1,i,"chromatic orb",EActor,EVictim);
ht = "fire";
break;
case 'o':
if (!EVictim->SavingThrow(2,e.saveDC, 0x00001000|0x00008000)) {
EVictim->GainTempStati(6,EItem,1d6+1,2,-1,-1);
EVictim->StatiMessage(6);
}
ThrowDmg(41,7,i,"chromatic orb",EActor,EVictim);
ht = "psychic";
break;

default:
#line "wspells.irh" 1239
if (!EVictim->SavingThrow(2,e.saveDC, 0x00001000|0x00008000)) {
EVictim->GainTempStati(5,EItem,2d8,2,-1,-1);
EVictim->StatiMessage(5);
}
ThrowDmg(41,4,i,"chromatic orb",EActor,EVictim);
ht = "electrical";
break;
}
e.strBlastDmg = XPrint("<13>Damage:<7> <hText><Num>d8<hText><hText><hText> = <Num> <hText>",
e.isCrit ? "(" : "", (e.vCasterLev + 1)/2, (e.MM & 0x00000200) ? " + 50%" : "",
e.strDmg, e.isCrit ? ") x2" : "", i, ht);

if (EVictim->isDead())
TPrint(e,"The <EVictim> is slain!", "",
"The <EVictim> is slain!");
return 1;
},
200
"colored orb";
Desc: "__Creates orbs of various color that inflict 1d8 points of damage (of
      varying types, or 1d6 for the white orb) per odd caster level and cause various 
      special effects on a failed saving throw. A ranged touch attack determines if 
      the orb hits a desired target or not.\n
   	  __<9>Clear Orb (Level 1, 4 mana):<1> Inflicts pure magic (like <9>magic missile<1>) damage, 
	    and strikes true against incorporeal creatures.\n
	    __<9>White Orb (Level 3, 5 mana):<1> Inflicts sunlight-based damage, and causes targets
  	  who are vulnerable to light to become frightened for 1d4 rounds.\n
	    __<9>Red Orb (Level 5, 6 mana):<1> Inflicts fire damage and illuminates the target as per 
	    <9>faerie fire<1>.\n
  	  __<9>Orange Orb (Level 7, 7 mana):<1> Inflicts psychic damage and confuses the target for
	    1d6+1 rounds if they fail a Will save.\n
	    __<9>Yellow Orb (Level 9, 9 mana):<1> Inflicts lightning damage and stuns the target for
	    2d8 rounds if they fail a Will save.";
}

50 Spell "Color Spray" : 46
{
0x00000020|0x00000010|0x00020000; Base: 75; Cost: 3; Level: 1;
qval: 0x0001 | 0x0004;
Purpose: 0x00001 (0); Flags: 89;
cval: 21; aval: 2; sval: 1;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->ChallengeRating() > (e.vCasterLev + 4))
return -1;
if (EVictim->isBlind())
return -1;
if (EVictim->HasMFlag(33))
return -1;
return 0;
},
83
"Your spray of colors strikes an <EVictim>." /
"The <EActor>'s spray of colors strikes you." /
"The <EActor>'s spray of colors strikes an <EVictim>.",
28 {
if (EVictim->ChallengeRating() < (e.vCasterLev / 2)) {
EVictim->GainTempStati(5, NULL, 2d6, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 2d6, 2, -1, -1);
}
else if (EVictim->ChallengeRating() < e.vCasterLev) {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 1d6+1, 2, -1, -1);
}
else {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
}
return 1;
};
Desc: "This spell projects a splash of multicolored light that may 
      blind or stun creatures it strikes -- creatures whose CR is less
      than half the caster's level are blinded and stunned for 2d6
      turns, other creatures whose CR is lower than the caster's
      level are blinded for 1d6+1 turns and stunned for 2 turns and
      creatures whose CR equals or exceeds the caster's level are
      merely stunned for 2 turns. A Reflex saving throw negates the
      effect, but the spell gains a +4 bonus to its DC.";
}

50 / 2 Spell "Phantasmal Force" : 8
{ 0x00000020; Base: 75; Cost: 4; Level: 1;
Purpose: 0x00100; xval: 75; yval: 0;
Desc: "This spell creates an illusionary creature, force 
      or object. The illusion affects only one sense, and is
      therefore automatically disbelieved by any creature with
      tremorsense, sharpened senses, scent or blindsight. An
      illusion created by this spell winks out of existance
      if even one person (other than the caster) disbelieves 
      it.\n
      __Sustaining a Phantasmal Force requires concentration --
      the caster suffers a -2 general penalty while the illusion
      is active, and suffering damage requires a Concentration
      check (DC 11 + the amount of damage) to avoid the illusion 
      winking out of existance.";
Flags: 25, 61;
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
},
(28+1000) {
hObj hPhantasm;
if (e.eID != $"Phantasmal Force")
return 0;
if (e.illType != 'c')
return 0;
hPhantasm = EMap->GetEncounterCreature(0);
if (hPhantasm == ((hObj)0))
return 0;
if (!hPhantasm->isCreature())
return 0;
EActor->GainPermStati(117,hPhantasm,7,
51,-2, $"Phantasmal Force");
EActor->GainPermStati(79,hPhantasm,7,
((41+2000)+1000),0, $"Phantasmal Force");
return 0;
},
(((41+2000)+1000)+10000) {
hObj hPhantasm;
if (!EVictim->SkillCheck(8,11 + e.aDmg,true))
{
hPhantasm = EVictim->GetEffStatiObj(
117,$"Phantasmal Force");
if (hPhantasm == ((hObj)0))
return 0;
EVictim->IPrint("You lose concentration on the illusionary <hObj>!",
hPhantasm);
hPhantasm->Remove(true);
}
else
EVictim->IPrint("You maintain concentration!");
return 0;
},
205 "Concentrating" / "Concent";
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop";
}

50 Spell "Ventriloquism" : 46
{ 0x00000020; Base: 95; Cost: 1; Level: 1; qval: 0x0004 | 0x0002;
Purpose: 0x00000;
Desc: "Allows you to project your voice, which will typically cause
    monsters to investigate the target area. The target for this spell is
    a location on the map to which you project your voice. All monsters
    within a 16 square radius of the target square will hear the
    projection.";
On Event 28 {
EMap->MakeNoiseXY(e->EXVal,e->EYVal,16);
return 1;
},
206 "You project your voice." /
"You think you hear the <EActor> speaking.";
}

50 Spell "Change Self" : 3
{ 0x00000020; Base: 90; Cost: 5; Level: 1;
Desc: "Casting this spell crafts a dynamic illusion over your body,
      allowing you to use the Disguise skill with a +10 magic bonus.
      The spell also removes the need to spend an hour preparing the
      disguise, and removes the need for a disguise kit. However, the
      effect is an illusion, and is automatically penetrated by anything
      which penetrates illusions, including <9>true sight<1>.";
xval: 124; yval: 12; pval: +10; Flags: 13;
On Event (28+1000) {
EActor->GainPermStati(44,NULL,7,12);
ReThrow(130,e);
EActor->RemoveStati(44,7,12);
if (!EActor->HasStati(175))
EActor->RemoveEffStati($"Change Self");
return 0;
};
}

50 / 2 Spell "Dancing Lights" : 9
{ 0x00000020; 0x00000010; 0x00020000; Cost: 2; Level: 1; Base: 90;
qval: 0x0002; rval: $"globes of light";
Desc: "Conjures a number of glowing globes of light not
      unlike a will o' wisp that move about as you direct.
      The globes shed light in a 20 foot radius around them,
      and can be used to distract creatures with Intelligence
      below 14, and frighten creatures of CR 2 or lower; on a
      critical hit, they can also blind. The globes are
      incorporeal, but very weak, possessing only one hit
      point and thus being easily dispelled by any attack
      which can strike them."; }

Monster "globes of light" : 36
{ Image: bright cyan 249; Size: 2; Mana: 0;
CR: 1/2; HD: 1; Def: 16; Hit: 0; Mov: 250%; Spd: 75%;
Str 0, Dex 18, Con 3, Int 0, Wis 12, Cha 0;
Attk: 12 for 0d0 90;
Stati[39,13,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040,
0x00000001, 0x00000200, 0x00000002, 0x00000004, 0x00000008,
0x00000010;
Flags: 3, 2, 4, 23,
24, 25, 44, 41, 33,
56, 66, 88, 9;
Desc: "These globes of light are the result of a wizard's
      <9>dancing lights<1> spell.";
On Event 41 {
if (e.DType == 90)
{
if ( EVictim->HasMFlag(33) ||
EVictim->HasMFlag(6) )
{
e.Immune = true;
return 1;
}
if (EVictim->HasMFlag(8))
if (EVictim->ChallengeRating() <= 2)
if (!EVictim->SavingThrow(2,14,
0x00008000|0x00000001|0x00000400|0x00000800))
{
EVictim->GainTempStati(10,EActor,1d4+1,
2,1,0,$"dancing lights",
EActor->GetStatiObj(67)->CasterLev());
}
if (!EVictim->SavingThrow(2,14,
0x00008000|0x00000001|0x00000800))
{
EVictim->GainTempStati(16,EActor,1d4+1,
2,0,0,$"dancing lights",
EActor->GetStatiObj(67)->CasterLev());
}
else
e.Resist = true;
return 1;
}
return 0;
};
}




50 / 2 Spell "Minor Drain" : 1
{ 0x00000040; Base: 75; Cost: 1; Level: 1; xval: 6;
Purpose: 0x00001 | 0x00080 (1); cval: 15;
pval: 1d4; sval: 3;
qval: 0x0001|0x0004|0x0002; aval: 1;
Desc: "With this spell, the wizard drains the life force from a target
    and adds it to his own. The target creature suffers 1-4 damage, while
    the wizard gains 1-4 hit points. ";
On Event 28 {
EActor->cHP = min(EActor->mHP+EActor->GetAttr(36),EActor->cHP + e.vDmg);
return 0;
};
}

50 Spell "Chill Touch" : 1
{ 0x00000040|0x00000800; Base: 95; Cost: 1; Level: 1;
aval: 6; lval: -83;
Purpose: 0x00001 (15); cval: 8;
xval: 6; pval: 1d6+-106; tval: 75;
Flags: 4, 86, 25, 61, 66; }
and 1
{
aval: 6;
xval: 43; pval: 1d2; sval: 0; tval: 75; }
and 3
{
aval: 6;
xval: 10; sval: 2; tval: 76;
Desc: "Your hands glow with a cold blue aura of negative
      energy, and your touch inflicts 1d6+[Caster Level / 2] points
      of damage (max 1d8+10) to the living, as well as draining
      1d2 points of Strength. Against undead, your touch causes
      great terror. You may use this touch attack one time per 
      caster level (minimum 3 times).";
On Event 206
"Your hands glow with a cold blue aura." /
"The <EActor>'s hands glow with a cold blue aura.";
}

Effect "Chill Blood" : 1
{ 0x00000040|0x00000800; Base: 75; Cost: 4; Level: 1; sval: 1 partial;
xval: 2; pval: (-126)d4+(-126); Purpose: 0x00001;
aval: 1; qval: 0x0001 | 0x0004; cval: 19;
Flags: 4, 62; tval: 77;
Desc: "A coruscating black bolt of negative energy is created by this
    spell. A small amount of the victim's blood suddenly freezes in its
    veins, causing pain and discomfort. It deals 1d4+1 points of damage per
    caster level and stuns the target for one round. A subject succeeding
    in a Reflex save suffers half normal damage and is not stunned. This
    spell may only be cast on victims that have blood. Half of the damage
    is cold damage and half of it is untyped and may not be resisted.";
}
and 3
{ xval: 5; sval: 1; aval: 1;
flags: 24, 4; tval: 77; }

50 / 2 Spell "Rigor Mortis" : 1
{ 0x00000040; Base: 75; Cost: 2; Level: 1; sval: 0;
xval: 51; pval: 1d8; qval: 0x0004; tval: 75;
Flags: 4, 63; Purpose: 0x00001;
Desc: "Induces the effects of rigor mortis in a still-living
      creature, causing 1d8 points of Dexterity damage if the
      creature fails a Fortitude save."; }

50 / 52 / 2 Spell "Detect Undead" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "wspells.irh" 1547
Level: 1; xval: 134; yval: 76;
pval: 25d1 + (-102);
Desc: "Reveals all Undead creatures, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetUndead" / "DUnd";
}

50 Spell "Halt Undead" : 3
{ 0x00000040; Base: 90; Cost: 2; Level: 1; sval: 0; lval: 9;
xval: 106; yval: 26; pval: -40; tval: 76; cval: 1;
Purpose: 0x00004 | 0x00040; Flags: 4; aval: 11;
Desc: "Reduces the movement rate of any undead within 90 feet (9
      squares) of the caster to 0%, effectively freezing them in place
      and preventing them from approaching. A Fortitude save negates
      the effect."; }

50 / 52 / 2 Spell "Protection from Undead" : 46
{ 0x00000001|0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; sval: 2;
#line "wspells.irh" 1565
Purpose: 0x00010 (23);
On Event 28 {

EVictim->GainTempStati(79, EActor, e.vDuration, 7,
(19+2000),e.saveDC,$"protection from undead");
return 1;
},
((19+2000)+10000) {
if (!EActor->isMType(76))
return 0;
if (e.AType == 65 || e.AType == 112)
return 0;
if (EActor->SavingThrow(2,
EVictim->GetEffStatiVal(79,$"protection from undead"),0x00000001|0x00008000))
return 0;
DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28
"You feel safe." /
"The <EActor> is surronded by a warm aura.",
84
"You feel less safe." /
"The <EActor>'s warm aura fades.",
205
"ProtUndead" / "ProU";
Desc: "Evokes a mystical protection around you such that undead
      cannot physically strike you without first succeeding in a Will
      save against this spell.";
Flags: 61, 25;
}




53 / 50 / 2 Spell "Jump;spell" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level 1; qval: 0x0004; sval: 3;
#line "wspells.irh" 1603
xval: 124; yval: 22; pval: 10d1 + -102;
Desc: "The target gains a +10 enhancement bonus on Jump checks, +2 per
    caster level."; }

50 Spell "Enlarge" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0x0004; sval: 0;
#line "wspells.irh" 1609
xval: 106; yval: 25; pval: 1;
Desc: "Causes a target creature to become larger, increasing their
      size catagory by one level.";
On Event 28 {
if (EVictim->GetAttr(25) == 8)
{
EActor->IPrint("You can't get any larger!");
return 1;
}
if (EVictim->HasEffStati(106,$"reduce"))
{
EVictim->RemoveEffStati($"reduce");
return 1;
}
VPrint(e,"You grow larger!",
"The <EVictim> grows larger!");
e.Terse = true;
return 0;
},
84
"You return to your normal size." /
"The <EActor> grows smaller again.";
}
#line "wspells.irh" 1635
50 / 2 Spell "Expeditious Retreat" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1637
Flags: 66, 86;
Purpose: 0x00040 | 0x02000;
xval: 106; yval: 26; pval: 20; }
and 3
{ xval: 106; yval: 54; pval: -10;
Desc: "Increases your movement rate by 100~, while decreasing your attack speed by 50~."; }

50 Spell "Reduce" : 3
{ 0x00000080; Base: 90; Cost: 2; Level: 1; qval: 0x0004; sval: 0;
Purpose: 0x00004; xval: 106; yval: 25; pval: -1;
Flags: 61;
Desc: "Causes a target creature to become smaller, lowering their
      size catagory by one level.";
On Event 28 {
if (EVictim->GetAttr(25) == 1)
{
EActor->IPrint("You can't get any smaller!");
return 1;
}
if (EVictim->HasEffStati(106,$"enlarge")) {
EVictim->RemoveEffStati($"enlarge");
return 1;
}
VPrint(e,"You grow smaller!",
"The <EVictim> grows smaller!");
e.Terse = true;
return 0;
},
84
"You return to your normal size." /
"The <EActor> grows larger again.";
}

50 / 2 Spell "Spider Climb" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1672
xval: 124; yval: 7; pval: +10;
Desc: "Casting this spell causes your hands to become adhesive, granting a
      +10 bonus to Climb checks for the duration, and removing the need for a
      climbing set when using the skill. You also gain the Brachiation feat 
      while the spell is active."; }
and 3
{ xval: 41; yval: ((49 + 1) + 27); pval: 0; }
and 3
{ xval: 44; yval: 7; pval: 0; }
#line "wspells.irh" 1686
50 / 2 Spell "False Life": 3
{ Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; 0x00000040; 0x00000080; Level: 1;
#line "wspells.irh" 1688
xval: 106; yval: 36; pval: 3d10+(-126);
On Event 205 "False Life" / "FL";
Desc: "You draw upon eldricht energies to toughen your body
      against harm and injury. While this spell is in effect, you gain
      temporary hit points equal to 3d10 + 1 per caster level (scaled
      after 9th level)."; }

50 Spell "Convulsion" : 3
{ 0x00000080; Base: 90; sval: 0; qval: 0x0004; Cost: 4; Level: 1; sval: 0;
xval: 117; yval: 51; pval: -6; tval: 91;
Flags: 4, 83, 23;
Desc: "This spell briefly disrupts the biology of a living being, 
      inducing a brief state of system shock where the victim's muscles clench
      and she suffers a kind of seizure. Creatures with Constitution 12
      or less are automatically affected, whereas those with Constitution
      scores of 13 or higher recieve a Fortitude saving throw to negate the
      effect. The effect lasts for only 1d4 rounds, causing the victim to
      suffer a -6 circumstance penalty to all rolls.";
On Event 170 {
e.vDuration = (e.MM & 0x00000004) ? 2d4 : 1d4;
return 0;
},
(83+500) {
if (EVictim->GetAttr(2) > 12)
e.sval = 0;
else
e.sval = 3;
return 0;
},
(83+1000)
{ e.sval = 0;
return 0; },
28
"The <EVictim> is struck with a violent convulsion!" /
"You are struck with a violent convulsion!" /
"The <EVictim> is struck with a violent convulsion!";
}



50 / 2 Spell "Alarm" : 46
{ 0x00000100; Base: 75; Cost: 1; Level: 1; Purpose: 0x00000;
On Event 28 {
ThrowVal(45,0x0100,EActor,EActor);
EActor->Timeout = 0;
EActor->RemoveStati(7);
EActor->FFCount = 0;
return 1;
};
Flags: 45;
Desc: "Casting this spell wards an area you intend to use as a
      campsite with a kind of magical early warning system, making
      you psychically aware when hostile creatures breach its
      boundries.\n
      __In effect, this causes your character to rest, similarly
      to the 'z' command. If you have an encounter, however, you are
      instantly alert and the monsters do not get the chance to make
      a string of attacks against you as usual.";
}

50 / 2 Spell "Phantom Steed" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 1752
Desc: "Summons a quasi-real horselike creature that the caster begins
    to ride. The steed can be ridden by you quite rapidly (half again as
    fast as a warhorse or warpony). It can also magically traverse
    dangerous terrain (e.g., icy floors, brimstone).";
On Event 155 {
if (EActor->HasStati(87) ||
EActor->SkillLevel(40) <= 0 ||
!EActor->HasMFlag(1) ||
EActor->HasMFlag(2) ||
EActor->GetAttr(25) < 3 ||
EActor->GetAttr(25) > 4)
return -1;
return 0;
}, 28 {
hObj hMount;
rID rval;

if (EActor->GetAttr(25) <= 3)
rval = $"phantom pony";
else
rval = $"phantom horse";

hMount = CreateMonster(rval);

if (EActor->onPlane() != 0) {
hMount->GainPermStati(102,hMount,7,EActor->onPlane(),0,
$"mount");
}

SetSilence();
hMount->PartyID = EActor->PartyID;
if (EActor->isPlayer())
hMount->MakeCompanion(EActor,2);
hMount->CalcValues();
if (!hMount->isFriendlyTo(EActor))
{
hMount->Remove(true);
APrint(e,"The mount vanishes.");
return 1;
}
Throw(110,EActor,hMount);
hMount->CalcValues();
UnsetSilence();
hMount->Initialize();
hMount->Reveal(true);

DPrint(e,"A phantom mount appears under you!", "A phantom mount appears under the <EActor>!");
return 0;
} ;
}

Monster "phantom horse" : 24, 48, 36
{
Image: grey 'q'; Size: 5;
CR: 2; HD: 3; Hit: 0; Def: 14; Mov: 250%; Spd: 100%;
Str 15, Dex 20, Con 15, Int 2, Wis 12, Cha 6; Arm: 10;
Stati[39,71,6];
Stati[39,110,6];
Feats: 32, 44, 22;
Flags: 66, 35, 37, 3, 11, 24;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00002000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
}

Monster "phantom pony" : 24, 48, 36
{
Image: grey 'q'; Size: 4;
CR: 2; HD: 3; Hit: 0; Def: 14; Mov: 250%; Spd: 100%;
Str 15, Dex 20, Con 15, Int 2, Wis 12, Cha 6; Arm: 10;
Stati[39,71,6];
Stati[39,110,6];
Feats: 32, 44, 22;
Flags: 66, 35, 37, 3, 11, 24;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00002000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
}


50 / 2 Spell "Mount" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1832
Desc: "Summons a horse that the caster begins to ride. At fifth level
    it summons a warhorse instead.  If the caster is size Small (or
    smaller), a pony (or warpony) is summoned instead. You must be a
    humanoid with limbs and a non-zero skill level in Ride to take
    advantage of this spell.";
On Event 155 {
if (EActor->HasStati(87) ||
EActor->SkillLevel(40) <= 0 ||
!EActor->HasMFlag(1) ||
EActor->HasMFlag(2) ||
EActor->GetAttr(25) < 3 ||
EActor->GetAttr(25) > 4)
return -1;
return 0;
}, 28 {
hObj hMount;
rID rval;

if (EActor->CasterLev() >= 5) {
if (EActor->isMType(66) || EActor->isMType(67))
rval = $"war lizard";
else if (EActor->isMType(64))
rval = $"mastiff";
else if (EActor->GetAttr(25) <= 3)
rval = $"warpony";
else
rval = $"warhorse";
} else {
if (EActor->isMType(66) || EActor->isMType(67))
rval = $"riding lizard";
else if (EActor->isMType(64))
rval = $"riding dog";
else if (EActor->GetAttr(25) <= 3)
rval = $"pony";
else
rval = $"horse";
}

hMount = CreateMonster(rval);
if (EActor->onPlane() != 0) {
hMount->GainPermStati(102,hMount,7,EActor->onPlane(),0,
$"mount");
}

hMount->PartyID = EActor->PartyID;
if (EActor->isPlayer())
hMount->MakeCompanion(EActor,2);
hMount->CalcValues();
if (!hMount->isFriendlyTo(EActor))
{
hMount->Remove(true);
APrint(e,"The mount vanishes.");
return 1;
}
Throw(110,EActor,hMount);
hMount->Initialize();
hMount->Reveal(true);

DPrint(e,"A mount appears under you!", "A mount appears under the <EActor>!");
return 0;
} ;
}

50 Spell "Monster Summoning I" : 9
{ 0x00000100; Base: 75; Cost: 2; Level: 1; qval: 0x0002;
Purpose: 0x00100; xval: 75; pval: 1;
Desc: "Summons a living creature of CR 1 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 1+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 1904
50 Spell "Phase Door" : 6
{ 0x00000100; Base: 75; Cost: 2; Level: 1; pval: 1d4+4;
Purpose: 0x00008; xval: 1; Flags: 75;
Desc: "Teleports you randomly 1d4+4 squares away."; }

52 / 2 / 50 Spell "Magic Weapon" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0x0008;
#line "wspells.irh" 1911
Desc: "Casting this spell temporarily enchants a single weapon (or
      a stack of ammunition) with a +1 magical bonus. This bonus does 
      not stack with any other magical bonus the weapon may have. 
      Magical weapons strike true against undead, outsiders and many 
      other fiends.";
hObj it;
On Event
155 {
if (ETarget->isType(58))
if (ETarget->GetQuantity() == 1)
return 1;
if (ETarget->isType(45))
return 1;
if (ETarget->isMonster())
if (ETarget->InSlot(2) != ((hObj)0))
if (ETarget->InSlot(2)->GetPlus() == 0)
return 0;
return -1;
},
157 {
if (EItem->isType(58))
return 0;
return 2;
},
(52+500) {
if (ETarget->isMonster())
SetETarget(e,ETarget->InSlot(2));
return 0;
},
83 {
ETarget->GainTempStati(185,EActor,e.vDuration,2,1,1,
$"magic weapon", e.vCasterLev);
VPrint(e,"","The <EVictim> gives off a soft silvery glow.");
return 1;
};
Constants:
* 109 75;
}
#line "wspells.irh" 1968
50 / 2 Spell "Protection from Arrows" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2; qval: 0x0004;
#line "wspells.irh" 1970
xval: 79; yval: (20+2000);
Purpose: 0x00010 | 0x00200 (3);
Desc: "Renders a target of the caster's choice immune to any
      arrows or bolts with a bonus of less than +3.";
On Event ((20+2000)+10000) {
if (e.AType == 65)
if (GetHandle(EItem2))
if (EItem2->GetPlus() < 3)
{
VPrint(e,"The <EItem2> is deflected by an invisible force!",
"The <EItem2> is deflected by an invisible force!");
return 1;
}
return 0;
},
205 "ProtArrows" / "PArw";
}

50 / 2 Spell "Gaze Reflection" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 1990
xval: 225; yval: 1; Flags: 25;
Purpose: 0x00010 | 0x00200 (26);
Desc: "Creates a reflective shield, redirecting
      any incoming gaze attacks back at the gazer. If both the attacker and
      the defender both have gaze reflection, the gaze is reflected to the
      original attacker. The ability of a nymph's beauty to strike a man
      dead is considered a gaze attack for the purpose of this spell.";
On Event 206
"A reflective sheen covers your vision." /
"A reflective sheen covers the <EActor>'s eyes.",
207
"The reflective sheen vanishes." /
"The reflective sheen covering the <EActor>'s eyes vanishes.";
}

50 / 2 Spell "Iron Mind" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 2007
xval: 106; yval: 30; pval: +10;
Purpose: 0x00010 | 0x00200 (9);
Desc: "Grants the chosen target a +10 enhancement bonus 
      to her next Will saving throw.";
Flags: 13, 86, 25, 61;
}

50 / 2 / 53 Spell "Resist Water" : 3
{ 0x00000001|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 2; qval: 0x0004;
#line "wspells.irh" 2016
xval: 124; yval: 45; pval: -126;
On Event 205 "ResWater" / "RWat";
Desc: "Grants the target an immunity to rusting, soaking and decay,
    three of the ravages of water. In addition, it grants the target a
    bonus to Swim skill checks equal to your caster level (scaled at 10th).
    This mundane-seeming spell is of critical importance to mages
    interested in protecting their spellbooks from soaking traps or
    underground rivers."; }
and 3 { xval: 177; yval: 74; }
and 3 { xval: 177; yval: 39; }
and 3 { xval: 177; yval: 57; }
and 2 { xval: 124; yval: 45; pval: -126; }

50 / 52 / 53 / 2 Spell "Resist Fire" : 3
{ 0x00000001|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2031
xval: 104; yval: 1; pval: 5d1 + (-110);
Desc: "Grants the target fire resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Cold" : 3
{ 0x00000001|0x00000800; 0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2037
xval: 104; yval: 2; pval: 5d1 + (-110);
Desc: "Grants the target cold resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Lightning" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2043
xval: 104; yval: 4; pval: 5d1 + (-110);
Desc: "Grants the target lightning resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Acid" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2049
xval: 104; yval: 3; pval: 5d1 + (-110);
Desc: "Grants the target acid resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Sound" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2055
xval: 104; yval: 10; pval: 5d1 + (-110);
Desc: "Grants the target sound resistance equal to 5 plus
      2 per 3 caster levels."; }




50 Spell "Glitterdust" : 3
{ 0x00000002; Base: 75; Cost: 4; Level: 2; sval: 0;
qval: 0x0004 | 0x0002 | 0x0001;
Purpose: 0x00004 | 0x02000; Flags: 34;
aval: 3; lval: 8; cval: 21; xval: 3; }
and 3 {
aval: 3; lval: 8; xval: 139; pval: +1;
On Event 28 {
EVictim->RemoveStati(100);
EVictim->Reveal(false);
};
Desc: "A cloud of golden particles covers everyone and everything in 
      the area, causing creatures to become blinded (Will save negates) and 
      visibly outlining invisible or hiding creatures. All within the area 
      are covered by the dust (no save), which cannot be removed and continues 
      to sparkle until it fades. Any creature covered by the dust takes a -40 
      penalty on Hide checks.";
On Event 206
"A cloud of glittering particles sprays forth!",
(28+1000) {
if (EVictim->HasEffStati(3,$"Glitterdust"))
VPrint(e,"You are blinded by the dust!",
"The <EVictim> is blinded by the dust!");
return 0;
};
}


50 / 2 Spell "Passwall" : 6
{ 0x00000002; Base: 60; Cost: 4; Level: 2; qval: 0x0001;
xval: 5; pval: 3; Purpose: 0x00400;
Desc: "Allows the caster to phase through solid stone or wood,
      moving two squares in the indicated direction even if the
      middle square is blocked by a door or wall.";
On Event 28 {
switch(e.EDir) {
case 0: e.EXVal = EActor->x; e.EYVal = EActor->y - 2; break;
case 1: e.EXVal = EActor->x; e.EYVal = EActor->y + 2; break;
case 2: e.EXVal = EActor->x + 2; e.EYVal = EActor->y; break;
case 3: e.EXVal = EActor->x - 2; e.EYVal = EActor->y; break;
case 4: e.EXVal = EActor->x + 2; e.EYVal = EActor->y - 2; break;
case 5: e.EXVal = EActor->x - 2; e.EYVal = EActor->y - 2; break;
case 6: e.EXVal = EActor->x + 2; e.EYVal = EActor->y + 2; break;
case 7: e.EXVal = EActor->x - 2; e.EYVal = EActor->y + 2; break;
}
e.isDir = false;
e.isLoc = true;
if (EMap->SolidAt(e.EXVal,e.EYVal))
{
DPrint(e,"You flicker, but remain where you are.",
"The <EActor> flickers, but remains where he is.");
return 1;
}
return 0;
};
}

50 / 52 / 53 Spell "Wind Wall" : 5
{ 0x00000002|0x00001000; Base: 90; Cost: 3; Level: 2; lval: 6;
xval: 9; aval: 8; Flags: 25;
rval: $"strong updraft"; qval: 0x0001;
Purpose: 0x00200 | 0x00004 | 0x01000 (3);
Desc: "Creates a vertical curtain of wind that deflects all
      arrows, bolts and throws weapons weighing less than three
      pounds crossing its area.";
On Event 206
"A curtain of wind appears!",
74
"The winds die down."; }

Terrain "strong updraft"
{ Image: cyan '~'; Mat:21;
Flags: 5, 12;
On Event 159 {
if (GetHandle(EItem2) == NULL)
return 0;
if (EItem2->Weight() >= 30)
return 0;
APrint(e,"The <EItem2> is deflected!");
return 2;
};
}

50 / 2 Spell "Web" : 5
{ 0x00000002; Base: 60; Cost: 4; Level: 2; aval: 11; lval : 2;
xval: 9; rval: $"webbing"; qval: 0x0002|0x0004; cval: 7;
Purpose: 0x00040 | 0x00004 | 0x01000; sval: 3;
Desc: "Creates a mass of sticky webbing that holds enemies
      in place and slows their attacks.";
On Event 206
"Sticky webbing materializes out of nowhere!",
74
"The webs dissolve into mist.",
155
{
if (GetHandle(EVictim))
if (EMap->TerrainAt(EVictim->x,EVictim->y) == $"web")
return 1;
if (e.isLoc)
if (EMap->TerrainAt(e.EXVal,e.EYVal) == $"web")
return 1;
return 0;
};
}

50 / 2 Spell "Spirit Net" : 46
{ 0x00000002; 0x00000040; Base: 90; Cost: 4; Level: 2;
aval: 3; lval : 4; qval: 0x0001|0x0004|0x0002;
Purpose: 0x00040 | 0x00004 | 0x01000 | 0x00200 (7);
sval: 3;
Desc: "Mystically inscribes open surfaces and wall edges within a
    volumetric 'blast' of radius 40 feet (4 squares) with warding runes.
    The runes prevent incorporeal creatures and summoned creatures from
    passing. Such creatures can still attack and cast spells. The runes
    appear simultaneously but fade and disappear at a slightly staggered
    rate.";
On Event 75 {
hObj w;
w = CreateFeature($"warding rune");
w->GainTempStati(67,EActor,e.vDuration > 0 ?
e.vDuration + (1d6) : e.vDuration,2);
w->PlaceAt(EMap,e.EXVal,e.EYVal);
return 0;
} ;
On Event 155 {
if (ETarget->onPlane() != 0 ||
ETarget->HasStati(67)) return 0;
else
return 1;
} ;
On Event 206 "Warding runes materialize!";
}

50 Spell "Wall of Doors" : 46
{ 0x00000002; Base: 90; Cost: 8; Level: 2; lval: 6; qval: 0x0001;
aval: 8; pval: 2d6 + (-125);
Purpose: 0x00004 | 0x00800 | 0x01000;
Desc: "Conjures a solid barrier made out of wooden doors, displacing
      any creatures in its path and blocking further passage. The doors are
      initially locked but can be opened or destroyed normally. At caster
      level 5 the doors are created Wizard Locked (+10 to Lockpicking DC,
      double hardness, but they open automatically for you). At caster
      level 7 the doors are created with wards that prevent incorporeal and
      summoned creatures from passing through a door while it is closed.";
On Event 206
"A wall of solid doors materializes!";
On Event 75 {
hObj w;
if (EActor->CasterLev() >= 7)
w = CreateDoor($"warded oak door");
else
w = CreateDoor($"oak door");
if (EActor->CasterLev() >= 5) {
w->GainTempStati(182,EActor,e.vDuration,7,0,e.saveDC,$"Wall of Doors");
}
w->GainTempStati(67,EActor,e.vDuration,2);
w->DoorFlags = 0x08;
w->PlaceAt(EMap,e.EXVal,e.EYVal);
return 0;
} ;
}

50 / 53 / 2 Spell "Pyrotechnics" : 46
{
0x00000002|0x00004000; Base: 90; Cost: 3; Level: 2; qval: 0x0002;
Desc: "To cast this spell, you must target an already existing
      fire, such as a wall torch, a fire elemental or even something
      fire-related like a flow of magma. You can also target any
      creature carrying a lit torch; in this case the torch is
      consumed in the casting of the spell. The spell transforms the 
      fire in one of three ways, at your option:\n
      __<9>Cloud of Smoke:<1> The fire instantly begins emitting a
      greasy, unnatural and thick black smoke, filling an area with
      a radius of 3 squares around the fire. This blocks sight like
      fog, and breathing creatures in the area must make a Fortitude
      save each turn or begin choking.\n
      __<9>Fireworks:<1> The fire explodes into a brilliant display
      of fireworks. Everyone within 40 feet of it (other then the
      caster and his allies, who are assumed to be prepared) must
      make a Fortitude save or be blinded for 1d4+1 rounds. Further,
      creatures with an aversion to light (such as orcs and wraiths)
      must make a second save or become afraid for a much longer
      duration.\n
      __<9>Explosion:<1> The fire explodes outward in a sizzling
      blast, striking everyone within two squares of it for 3d8
      fire damage and 2d6 blunt damage. Additionally, creatures
      in the area must save or be knocked down. The caster is <9>not<1>
      immune to the effects of this version.";
hObj hTorch;
On Event 52 {
int32 ch;
ch = EActor->ChoicePrompt("Smoke, fireworks or explosion?",
"sfe", 's', 4, 12);
if (hTorch)
hTorch->Remove(true);

if (ch == 's') {
RedirectEff(e,$"Pyrotechnics;smoke");
return 1;
}
else if (ch == 'f') {
RedirectEff(e,$"Pyrotechnics;flash");
return 1;
}
RedirectEff(e,$"Pyrotechnics;blast");
return 1;
},
(52+500) {
rID terID; hObj hMon;
hTorch = NULL;
terID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (terID == $"magma" || terID == $"Wall Torch")
return 0;
for (hMon = EMap->FCreatureAt(e.EXVal, e.EYVal);hMon;
hMon = EMap->NCreatureAt(e.EXVal, e.EYVal))
{
if ((hMon != ((hObj)0)) &&
hMon->isMType(38) &&
hMon->isMType(95))
return 0;
if ((hMon != ((hObj)0)) &&
hMon->tmID == $"flaming sphere")
return 0;


if (hMon) {
hTorch = hMon->InSlot(3);
if (hTorch && (hTorch->iID == $"torch" ||
hTorch->iID == $"brass lantern"))
if (hTorch->GetLightRange())
return 0;
}
}
EActor->IPrint("You must target a square with a source of
        flame to use that spell.");
return 2;
};
}

0 Effect "Pyrotechnics;blast" : 1
{ aval: 11; lval: 2; cval: 4;
xval: 1; pval: 3d8; }
and 1
{ aval: 11; lval: 2; cval: 4;
xval: 13; pval: 2d6; }
and 1
{ aval: 11; lval: 2; cval: 4;
xval: 67;
On Event 200
"fiery explosion"; }

0 Effect "Pyrotechnics;smoke" : 3
{ cval: 8; lval: 3; aval: 7; rval: 0x00000100 | 0x00000040;
xval: 14; sval: 0; Flags: 64; }

0 Effect "Pyrotechnics;flash" : 1
{ cval: 21; lval: 4; aval: 11;
xval: 24; pval: 1d4+1; Flags: 34;
On Event (28+500) {
if (EVictim->HasMFlag(8))
if (!EVictim->SavingThrow(2,e.saveDC,
0x00000400|0x00008000|0x00000001))
{
#line "wspells.irh" 2328
EVictim->GainTempStati(10,NULL,10d6,7,1);
VPrint(e,"You flee in panic from the pyrotechnic display!",
"The <EVictim> flees in panic from the pyrotechnic display!");
}
return 0;
};
}

50 Spell "Animate Rope" : 46
{
0x00000002; Level: 2; Base: 75; Cost: 7; Purpose: 0x00100;
Desc: "Casting this spell imbues a coil of rope with a semblance
      of life and motion, causing it to animate and attack the
      caster's enemies. The animated rope has Strength and Dexterity
      equal to the caster's Wisdom and Intelligence, hit points and
      damage based on the type of rope the spell is used on and the 
      same Hardness it has when inanimate.\n
      __Casting <9>animate rope<1> consumes 30 feet from a coil of
      rope, so a well-equipped caster can animate several distinct
      coils at the same time.";
hObj hRope;
On Event (52+500) {
hObj it; hObj it2; int32 found;
found = false;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (ResourceHasFlag(it->iID,15))
if (it->GetQuantity() >= 3)
{
found = true;
if (!EActor->isPlayer())
{ it2 = it; break; }
ETerm->LOption(it->Name(0),(int32)it);
}
if (!found)
{
EActor->IPrint("You need at least 30 feet of rope to cast
            that spell!");
return 2;
}
if (EActor->isPlayer())
{
it2 = (hObj) ETerm->LMenu(0x0100|0x0002,"Choose a Rope:");
if (it2 == (hObj)-1)
return 2;
}

if (it2 == ((hObj)0))
return 2;


if (it2->GetQuantity() == 3)
{ it2->Remove(false); hRope = it2; }
else {
hRope = it2->TakeOne();
it2->SetQuantity(it2->GetQuantity() - 2);
hRope->SetQuantity(3);
}
return 0;
},
155 {
hObj it3;
for (it3=EActor->FirstInv();it3;it3=EActor->NextInv())
if (ResourceHasFlag(it3->iID,15))
if (it3->GetQuantity() >= 3)
return 0;
return 1;
},
28 {
hObj hAnim; rID monID;

switch(hRope->iID)
{
case $"hemp rope": monID = $"animated hemp rope"; break;
case $"silk rope": monID = $"animated silk rope"; break;
case $"giant's-hair rope": monID = $"animated giant's-hair rope"; break;
default:
Error("Strange rope in Animate Rope::EV_MAGIC_HIT!");
return 2;
}

EMap->GenEncounter(0x00000080|0x00008000|0x00000004|0x00020000,10,10,
(int32)monID, 0, ((rID)0), EActor->x, EActor->y, EActor);
hAnim = EMap->GetEncounterCreature(0);
if (hAnim == ((hObj)0))
return 2;
hAnim->GainPermStati(113,NULL,7,0,
EActor->GetAttr(4)-10);
hAnim->GainPermStati(113,NULL,7,3,
EActor->GetAttr(3)-10);
hAnim->GainPermStati(79,NULL,7,
((41+2000)+500),0,$"Animate Rope", e.vCasterLev);
hAnim->GainTempStati(167,hRope,e.vDuration,2,0,0,
$"Animate Rope", e.vCasterLev);
return 1;
},
(((41+2000)+500)+10000) {
hObj hItem, hAnim; int32 percent;
#line "wspells.irh" 2427
if (e.DType <= 13)
{
hItem = EVictim->GetStatiObj(167);
hAnim = GetHandle(EVictim);
SetETarget(e,hItem);
ReThrow(41,e);
SetETarget(e,hAnim);
if (hItem->isDead())
hAnim->Remove(true);
else {
percent = (hItem->GetHP() * 100) / hItem->MaxHP();
hAnim->cHP = max(1,(hAnim->mHP * percent) / 100);
}
return 1;
}
return 0;
};
}

Monster "animated hemp rope" : 36
{ Image: bright red 234; Size: 4;
CR: 1; HD: 1; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 10, Wis 1, Cha 1;
Attk: 21 for 0d0 63 (DC 15),
32 for 1d6 13;
Stati[39,42,6];
Flags: 24, 3, 4, 2,
7, 19, 20, 23,
25, 33, 88, 66;
}

Monster "animated silk rope" : 36
{ Image: bright red 234; Size: 4;
CR: 1; HD: 2; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 10, Wis 1, Cha 1;
Attk: 21 for 0d0 63 (DC 17),
32 for 1d8 13;
Stati[39,42,6]; Flags: 24;
Flags: 24, 3, 4, 2,
7, 19, 20, 23,
25, 33, 88, 66;
}

Monster "animated giant's-hair rope" : 36
{ Image: bright red 234; Size: 4;
CR: 1; HD: 3; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 10, Wis 1, Cha 1;
Attk: 21 for 0d0 63 (DC 19),
32 for 1d10 13;
Stati[39,42,6]; Flags: 24;
Flags: 24, 3, 4, 2,
7, 19, 20, 23,
25, 33, 88, 66;
}




50 / 2 Spell "Detect Objects" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; xval: 153;
#line "wspells.irh" 2487
yval: (-4);
pval: 25d1 + (-102);
Purpose: 0x00010 | 0x00000;
Desc: "Reveals all items, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetObj" / "DObj";
}

50 Spell "Identify" : 46
{ 0x00000004; Base: 95; Cost: 10; Level: 2; qval: 0x0008;
Flags: 40, 41;
Desc: "Identifies the basic magical nature of one chosen
      item. This spell requires a ritual which takes one hour
      to perform and costs two fatigue points.";
Purpose: 0x00000;
On Event
52 {
if (EActor->isPlayer())
if (EActor->SpendHours(1,1) != 1)
return 2;
if (!EActor->LoseFatigue(2, true))
return 2;
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
Constants:
* 109 50;
}

50 / 2 / 53 Spell "Infravision" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 2528
xval: 39; yval: 42; pval: 6;
Desc: "Grants the caster temporary magical infravision out to
      a range of 60 feet (6 squares), or increases his existing
      infravision by a similar amount.";
}

50 / 2 Spell "See Invisibility" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; xval: 101;
#line "wspells.irh" 2536
On Event 205 "See Invis" / "SI";
Desc: "Casting this spell allows the caster to see invisible 
      creatures normally; it also renders visible creatures on
      the etherial plane, who normally cannot be seen by observers
      from the material plane.";
}

50 / 2 Spell "ESP" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "wspells.irh" 2545
xval: 39; yval: 91; pval: 4;
Desc: "Renders the caster telepathic, allowing him to sense the
      presence and location of any thinking creatures within 40 feet (4
      squares) of him."; }

50 Spell "Revealed Lore" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 2552
Purpose: 0x00010 (1);
xval: 106; yval: 3; pval: 1d4+1;
Desc: "By casting this spell, the mage gains a divinatory
      capacity toward whatever problems she focuses on, and
      solutions are revealed to her that she could not otherwise
      have known. In game terms, this spell grants the subject a 
      magic bonus to their Intelligence of 1d4+1 points.";
}



50 Spell "Eagle's Splendour" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 2565
xval: 106; yval: 5; pval: 1d4+1;
Desc: "Improves your Charisma score by 1d4+1 points for 
      the duration."; }

50 Spell "Hypnotism" : 3
{ 0x00000008; Base: 90; Cost: 4; Level: 2; qval: 0x0004;
xval: 9; yval: 1; sval: 2;
Flags: 53, 25, 34, 89;
Purpose: 0x00040 | 0x01000 (9);
On Event (83+500) {
if (!EActor->isBeside(EVictim))
{
EActor->IPrint("That creature is too far away to hypnotize!");
return 1;
}
return 0;
},
155 {
if (EActor->isMonster())
if (!EActor->isBeside(EVictim))
return -1;
return 0;
};
Desc: "Causes a creature immediately beside you to become
      entranced if it fails a Will save, such that it will not
      act until it suffers damage or is otherwise shocked back
      to its senses (though it is not helpless as with Hold
      Person, and cannot be Coup de Grace'd). This spell has a
      +4 spell bonus to its save DC.";

}

50 Spell "Touch of Idiocy" : 4
{ 0x00000008; Base: 95; Cost: 3; Level: 2;



aval: 6;

lval: -101; xval: 53; pval: 1d6; sval: 0;
Purpose: 0x00001;
Flags: 53, 86, 4, 61, 66;
tval: 85;
On Event 28 {
ThrowDmg(41,54,e.vDmg,"Touch of Idiocy",
EActor, EVictim, EItem, EItem2);
ThrowDmg(41,55,e.vDmg,"Touch of Idiocy",
EActor, EVictim, EItem, EItem2);
};
Desc:
"With a touch, you reduce a sapient target's mental faculties. Your
    successful touch attack does 1d6 points of damage to the target's
    Intelligence, Wisdom and Charisma scores. You may make one such Touch
    attack per level.";
On Event 206
"Your hands glow with a dull aura." /
"The <EActor>'s hands glow with a dull aura.";
}

50 Spell "Hideous Laughter" : 3
{ 0x00000008; Base: 75; Cost: 4; Level: 2; tval: 85;
Purpose: 0x00004 (9); xval: 5; qval: 0x0004;
Flags: 4, 61, 23, 53;
On Event 205 "Laughing" / "Lau"; sval: 2;
Desc: "Causes a sapient creature to be completely overcome
      with uncontrollable laughter for 1d4 rounds.";
On Event 28
"You are overcome with uncontrollable laughter!" /
"The <EVictim> is overcome with uncontrollable laughter!",
84
"The laughter abates."; }

50 Spell "Dire Charm" : 3
{ 0x00000008; Base: 90; Cost: 3; Level: 2; qval: 0x0004;
Purpose: 0x00004 (9); xval: 147;
sval: 2; Flags: 53;
Desc: "Causes a creature to be overwhelmed with bloodthirst,
      going berzerk and racing forward to attack the caster in 
      melee in preferance to all other actions."; }
#line "wspells.irh" 2694
50 Spell "Electric Loop" : 1
{ 0x00000010; Base: 95; Cost: 3; Level: 2; sval: 1 partial;
xval: 4; pval: (-122)d4; Purpose: 0x00001;
Flags: 34, 75;
aval: 11; cval: 20; lval: 2;
Desc: "Creates a ring of electricity that deals 1d4 points of
    lightning damage (max 5d4) to all creatures adjacent to the caster.
    In addition, creatures that fail a Reflex save are stunned for one
    round.";
}
and 3
{ xval: 5; sval: 1; Flags: 24, 34;
aval: 11; lval: 2; }

50 Spell "Scorcher" : 1
{ 0x00000010|0x00004000; Base: 90; Cost: 4; Level: 2; aval: 2; qval: 0x0001|0x0004;
xval: 1; lval: 4; sval: 1 partial; pval: 2d8+-124;
Purpose: 0x00001 (10); cval: 4;
Desc: "Projects a ray of fire at the caster's enemies inflicting
      2d8+[caster level, max 15] points of damage. A Reflex save halves
      the damage."; }

50 Spell "Acid Arrow" : 1
{ 0x00000010; Base: 60; Cost: 4; Level: 2; Purpose: 0x00001;
xval: 3; pval: 2d4; Flags: 61;
aval: 1; qval: 0x0001 | 0x0004; cval: 2;
Desc: "A magical arrow of acid springs from your hand and speeds to its
    target. You must succeed on a ranged touch attack to hit your target.
    The arrow deals 2d4 points of acid damage with no splash damage. For
    every caster level, the acid, unless somehow neutralized, lasts for
    another round, dealing another 1d4 points of damage in that round.";
}
and 3 {
aval: 1; xval: 79; yval: 32;
On Event (32+10000) {
hObj killer;
ThrowDmg(41,3,1d4,"lingering acid",EActor,EActor);
DPrint(e,"The acid sears!", "Acid sears the <EActor>!");
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"acid arrow");
if (killer)
killer->KillXP(EActor);
}
return 0;
},
200 "arrow of acid";
}

50 / 51 / 52 Spell "Globe of Shadow" : 3
{ 0x00000010|0x00040000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0;
#line "wspells.irh" 2745
aval: 9; rval: 0x00000200|0x00000004; lval: 1;
Purpose: 0x00002|0x00010;
Flags: 80; cval: 8;
Desc: "Creates a 10' (1 square) radius globe of magical gloom
      and shadows that travels with you and grants all creatures within it
      a +4 circumstance bonus to Hide and a 25% miss chance versus ranged
      attacks due to concealment.";
xval: 124; yval: 18; pval: +4; }
and 3
{ xval: 145; yval: 1; pval: 25; }


50 / 51 Spell "Decastave" : 13
{ 0x00000010; Base: 90; Cost: 5; Level: 2;
xval: 0x01 | 0x10; rval: $"force construct staff";
Flags: 25; Purpose: 0x00010 (1);
pval: +6;
On Event 28
"A force-staff appears in your hands!" /
"A force-staff appears in <EActor>'s hands!";
Desc: "Creates a force staff in the caster's hands that inflicts
      1d10 (1d8 vs. large creatures) points of blunt damage, 1d6 points 
      of sonic damage, scores at threat on 17-20 (crit x3) and has a 
      speed modifier of +25~.";
hObj it;
On Event 155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->iID == $"force construct staff")
return 1;
return 0;
} ;
On Event (28+1000) {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->iID == $"force construct staff") {
it->AddQuality(10);
}
}
};
}


52 / 51 / 50 Spell "Shatter" : 1
{ 0x00000010; Base: 75; Cost: 4; Level: 2; qval: 0x0004 | 0x0010;
xval: 10; pval: (-126)d4; Purpose: 0x00004;
aval: 2; Flags: 58;
Desc: "Creates a harmonic sound that shatters objects, inflicting
      1d4 sonic damage per caster level, scaled after 9th, to each exposed 
      item in the target creature's inventory. If the target is a 
      construct, it also suffers this damage directly.";
On Event (28+500) {
if (ETarget->isCreature() && !ETarget->isMType(36))
return 1;
};
On Event 200 "harmonic burst";
}

50 / 53 / 2 Spell "Gust of Wind" : 1
{ 0x00000010|0x00001000; Base: 90; Cost: 4; Level: 2; qval: 0x0001;
aval: 2; lval: 9; cval: 9;
Purpose: 0x00040 | 0x00004 | 0x01000;
xval: 61; pval: 1d4+-115; Flags: 75;
Desc: "Creates a tremendous blast of wind that forces enemies it
      strikes 1d4 + 1 per three levels starting at 1st backwards.
      The wind can also be used to disperse fog created by spells
      like <9>obscurement<1>, <9>fog cloud<1>, <9>mind fog<1>,
      <9>stinking cloud<1> or <9>pyrotechnics<1>, or the similar
      conjurations of <9>rainstorm<1>, <9>summon swarm<1> or 
      <9>insect plague<1>, or the fumes produced by a thunderbeast. 
      This dispersal is automatic.";
On Event 200 "blast of wind";
}
and 4
{ xval: 67; sval: 3; Flags: 54; aval: 2;
On Event 75 {
rID tID;
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Obscurement",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Fog Cloud",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Mind Fog",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Pyrotechnics;smoke",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Stinking Cloud",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Thunderbeast Fumes",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"fog;horn effect",0))
APrint(e,"The blast of wind disperses the fog!");
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Insect Plague",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Summon Swarm",0))
APrint(e,"The blast of wind disperses the insects!");
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Rainstorm",0))
APrint(e,"The blast of wind disperses the rainstorm!");
tID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (tID == $"stinking cloud;terrain" ||
tID == $"fog" || tID == $"acid fog") {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The blast of wind clears the air!");
}
return 0;
},
170 {
e.vRange = 9;
return 0;
};
}



1 / 50 / 2 Spell "Invisibility" : 3
{ 0x00000020; Base: 60; Cost: 5; Level: 2; qval: 0x0004;
xval: 100; yval: 1; pval: -101;
Flags: 25, 86; Purpose: 0x00010 | 0x00002;
Desc: "Renders a chosen character unseen by others. The
      magic creates a faint shimmering effect around the
      character's location that might be spotted by powerful
      (CR 5+) creatures when the invisible creature moves
      within 30 feet, or if they are alerted by the invisible 
      creature making noise or turning invisible within their 
      line of sight. A Spot check (DC 20) allows them to discern
      the invisible creature's location (as an unclear shape --
      they still cannot 'see' the creature) for the remainder
      of the day. Even if the invisible creature drops and
      reactivates her invisibility magic, alerted monsters
      will still be able to track her via this shimmer.
      However, creatures only get one Spot check per day to
      notice the shimmer of an invisible creature."; }
#line "wspells.irh" 2872
50 / 2 Spell "Blur" : 3
{ 0x00000020|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "wspells.irh" 2874
xval: 145; yval: 2; pval: 20;
Desc: "Causes your image to ripple and become distorted as if
      reflected on the surface of water, giving attacks a 20% miss 
      chance against you.";
On Event 28
"Your image becomes blurred and indistinct." /
"The <EVictim>'s image becomes blurred and indistinct.",
74
"Your image snaps back into focus." /
"The <EVictim>'s image snaps back into focus.";
}

50 / 2 Spell "Mirror Image" : 3
{ 0x00000020; Base: 90; Cost: 5; Level: 2; Flags: 61, 72;
xval: 79; yval: (20+2000); pval: 1d4+-107;
Purpose: 0x00010;
Desc: "Creates 1d4 + 1 per three caster levels illusionary images
      of you. Foes have an equal chance of striking each individual
      image as they do of striking the real you. Tremorsense,
      blindsight, telepathic awareness or true seeing all allow an
      enemy to strike unerringly at the real you.";
On Event ((20+2000)+10000) {
int32 count, per;

if (((e.AType) > 39 && (e.AType) <= 53) || ((e.AType) > 53 && (e.AType) <= 60))
return 0;


if (!random(EVictim->GetEffStatiVal(79,$"mirror image")+1))
return 0;

if (EActor->HasStati(148))
return 0;

per = EActor->Percieves(EVictim);
if (per & (0x0020 | 0x0008 | 0x0010 | 0x0080))
return 0;

count = EVictim->GetEffStatiVal(79,$"mirror image");

if (count == 1)
VPrint(e,"The last of your images vanishes.",
"The last of the <EVictim>'s images vanishes.");
else
VPrint(e,"One of your images vanishes.",
"One of the <EVictim>'s images vanishes.");

if (count == 1) {
SetSilence();
EVictim->RemoveEffStati($"mirror image");
UnsetSilence();
}
else
EVictim->SetEffStatiVal(79,$"mirror image",count - 1);

return 1;
},
28 {
DPrint(e,"<Num> images split off from your body.",
"The <EVictim> splits into a miasma of <Num2> identical images!",
e.vDmg, e.vDmg+1);
e.Terse = true;
return 0;
},
84
"Your remaining images vanish." /
"The <EActor>'s remaining images vanish.",
205
"MirrorImg" / "MI";
}

50 / 2 Spell "Hypnotic Pattern" : 3
{ 0x00000020; Base: 90; Cost: 4; Level: 2; qval: 0x0002;
aval: 11; cval: 14; lval: 2; sval: 2;
xval: 9; yval: 1; Flags: 53;
Purpose: 0x00004 (9);
On Event 155 {
if (!EVictim->isCreature())
return -1;
if (EVictim->HasMFlag(33) ||
EVictim->HasMFlag(6))
return -1;
if (EVictim->ChallengeRating() > ((e.vCasterLev+1)/2))
return -1;
if (EVictim->HasStati(3) || EVictim->HasStati(148))
return -1;
if (EVictim->GetAttr(3) >= 14)
return -1;
return 0;
};
Desc: "Causes creatures in a 20-foot globe to become entranced with
      a display of weaving lines and images, standing rapt and motionless,
      provided that their Intelligence is lower then 14, their CR is lower
      than half your caster level (rounded up) and they are able to see
      the pattern normally. Attacking an entranced creature ends the trance.";
On Event 206
"A swirling pattern of lights appears!";
}

50 / 2 Spell "Improved Phantasmal Force" : 8
{ 0x00000020; Base: 75; Cost: 6; Level: 2;
Purpose: 0x00100; xval: 75; yval: 2;
Desc: "This spell creates an illusionary creature, force 
      or object, just as Phantasmal Force does, but the illusion
      affects all natural and supernatural senses, and is thus
      believable to creatures who have scent, tremorsense, sharp
      senses or blindsight.";
Flags: 25, 61;
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
},
(28+1000) {
hObj hPhantasm;
if (e.eID != $"Improved Phantasmal Force")
return 0;
if (e.illType != 'c')
return 0;
hPhantasm = EMap->GetEncounterCreature(0);
if (hPhantasm == ((hObj)0))
return 0;
if (!hPhantasm->isCreature())
return 0;

EActor->GainPermStati(117,hPhantasm,7,
51,-2, $"Phantasmal Force");
EActor->GainPermStati(79,hPhantasm,7,
((41+2000)+1000),0, $"Improved Phantasmal Force");
return 0;
},
(((41+2000)+1000)+10000) {
hObj hPhantasm;
if (!EVictim->SkillCheck(8,11 + e.aDmg,true))
{
hPhantasm = EVictim->GetEffStatiObj(
117,$"Improved Phantasmal Force");
if (hPhantasm == ((hObj)0))
return 0;
EVictim->IPrint("You lose concentration on the illusionary <hObj>!",
hPhantasm);
hPhantasm->Remove(true);
}
else
EVictim->IPrint("You maintain concentration!");
return 0;
},
205 "Concentrating" / "Concent";
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop";
}
#line "wspells.irh" 3036
50 Spell "Visage of Death": 46
{ Flags: 86, 85, 78, 61, 66;
Base: 100; Cost: 20; 0x00000040; 0x00000020; Level: 2; Purpose: 0x00000;
Desc: "This spell allows you to alter your appearance to that of a
    zombie of the same size class. Your body temperature will feel cold and
    your limbs will appear stiff, putrid and rotting; you lose six points
    of Charisma. This spell does not actually make you undead or grant the
    usual undead abilities or resistances. However, it does grant
    resistance to cold and electricity and you do not need to breathe while
    the spell is in effect. Finally and perhaps most importantly, the spell
    makes you neutral to undead by default.";
On Event 205 "Visage" / "Vis";
On Event 155 {
if (EVictim->CanAddTemplate($"zombie;visage"))
return 0;
return -1;
},
83 {
if (EVictim->CanAddTemplate($"zombie;visage")) {
EVictim->GainTempStati(71,EActor,e.vDuration,2,
0, 1, $"zombie;visage",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->GainTempStati(214,EActor,e.vDuration,2,
76, 76, $"visage of death",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->SetImage();
EVictim->CalcValues();
return 1;
} else return 2;
} ;
}
#line "wspells.irh" 3070
50 Spell "Aura of Death" : 3
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 3072
Flags: 83;
xval: 79; yval: ((20+1000)+2000); pval: (-99);
On Event (((20+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s aura of death drains you!",
"Your aura of death drains the <EActor>!",
"The <EVictim>'s aura of death drains the <EActor>!");
ThrowDmg(41,6,1d4+EVictim->GetEffStatiVal(79,$"aura of death"),
"an aura of death", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
},
52 {
if (e.MM & 0x00800000)
{
EActor->IPrint("This spell can't be transmuted.");
return 2;
}
},
205 "AuraDeath" / "AuDe",
206
"You are wreathed in a shroud of death!" /
"The <EActor> is wreathed in a shroud of death!",
84
"Your aura of death fades." /
"The <EActor>'s aura of death fades.";
Desc: "Envelops you in a shroud of crackling black energy that deals
    (1d4 + [caster level / 2]) points of necromatic damage to anyone
    who attacks you in melee.";
} and 3 {
xval: 79; yval: ((21+1000)+2000); pval: (-99);
On Event (((21+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s aura of death drains you!",
"Your aura of death drains the <EActor>!",
"The <EVictim>'s aura of death drains the <EActor>!");
ThrowDmg(41,6,1d4+EVictim->GetEffStatiVal(79,$"aura of death"),
"aura of death", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
};
}
#line "wspells.irh" 3129
50 Spell "Scare" : 1
{ 0x00000040; 0x00000800; 0x00000020; Base: 90; Cost: 4; Level: 2; sval: 2;
aval: 16; lval: 12; cval: 3; tval: 111;
Purpose: 0x00040 | 0x00004; qval: 0x0004;
xval: 2; pval: 2d4;
Flags: 53, 4, 71, 70;
Desc: "Casting this spell weaves material drawn from
      the Negative Energy Plane into a swirling stream of
      translucent, ghostly figures -- beastial, snarling
      faces tapering off into indistinct bodies. The
      swarm of apparitions only lasts for a few seconds,
      flying through the air at considerable speed and
      passing through the bodies of the caster's foes,
      carrying with them an icy, unnatural chill.\n
      __This spell arcs to a number of targets equal to
      the caster's level, requiring each target to make
      a Will saving throw or become afraid for 1d4 rounds
      plus one round for every three full caster levels.
      Creatures who fail the save also take 2d4 point of
      psychosomatic cold damage.\n
      __Creatures who are blind, mindless, have sharpened 
      senses, tremorsense or blindsight are immune to this 
      effect. (The apparitions are intangible and thus 
      can't be revealed as illusions via Scent).";
On Event 155 {
if (EVictim->isBlind())
return -1;
if (EVictim->HasMFlag(33))
return -1;
if (EVictim->HasAbility(13) ||
EVictim->HasAbility(95) ||
EVictim->HasAbility(73))
return -1;
return 0;
},
170 {
e.vDuration = 1d4 + e.vCasterLev / 3;

e.vChainMax = 1 + e.vCasterLev / 3;
return 0;
},
200
"stream of ghostly horrors";
}
and 3
{ xval: 10; yval: 1; }

50 Spell "Bladethirst" : 3
{ 0x00000040; Cost: 2; Base: 90; Level: 2; qval: 0x0008; tval: 58;
xval: 79; yval: (20+1000); Purpose: 0x00010;
Flags: 25, 41, 40;
Desc: "Imbues a blade with negative energy, causing it to drink the
      blood of its next victim, inflicting a bonus 2d8 points of
      necromantic damage.";
On Event 155 {
if (ETarget->isType(58) &&
(ETarget->isGroup(0x00000008) ||
ETarget->isGroup(0x00000004) ||
ETarget->isGroup(0x00001000)))
return 1;
return -1;
},
((20+1000)+10000) {
if (!EVictim->isCreature())
return 0;
if (EVictim->isDead())
return 0;
VPrint(e,"The <EItem> drinks your blood!",
"The <EItem> drinks the <EVictim>'s blood!");
ThrowDmg(41,6,2d8,"a thirsty blade",EActor,EVictim,EItem);
if (GetHandle(EItem))
EItem->RemoveEffStati($"bladethirst");
if (GetHandle(EItem2))
EItem2->RemoveEffStati($"bladethirst");
return 0;
};
On Event 28
"" /
"The <ETarget> glows crimson!";
}




50 / 2 Spell "Ghoul Touch" : 3
{ 0x00000040; Base: 95; Cost: 3; Level: 2; sval: 0;
aval: 6; xval: 9;
Flags: 25, 86, 66;
cval: 1; Purpose: 0x00001;
On Event (28+1000) {
if (!e.Resist) {
EMap->NewField(0x00000004,EVictim->x,EVictim->y,2,
2*256,e.vDuration,$"ghast stench",EActor);
VPrint(e,NULL,"A terrible stench rises from the <EVictim>'s body!");
}
return 0;
},
206
"Your hands glow with a sickly green light." /
"The <EActor>'s hands glow with a sickly green light.";
Desc: "Your touch can paralyze a creature (Fortitude negates) and
      cause it to emit a stench similar to a ghast's.";
}

50 Spell "Choke" : 3
{ 0x00000040|0x00001000; 0x00000080; Base: 75; Cost: 4; Level: 2; qval: 0x0004;
xval: 79; yval: 32; tval: 78;
Flags: 4; Purpose: 0x00001;
On Event 155 {
if (ETarget->HasMFlag(4))
return -1;
return 0;
},
(32+10000) {
hObj killer;
DPrint(e,"You're being strangled!",
"The <EActor> gets strangled!");
ThrowDmg(41,62,1d8,"a choke spell",EActor,EActor);
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"choke");
if (killer)
killer->KillXP(EActor);
}
return 0;
};
On Event 28
"Spectral hands appear around your neck!" /
"Spectral hands appear around the <EVictim>'s neck!",
74
"The glowing hands fade.";
Desc: "Causes spectral hands to appear around the target's neck, 
      choking him for 1d8 points of damage every turn and lasting a
      number of turns equal to half your caster level.";
}

50 Spell "Spectral Hand" : 9
{
0x00000040; Base: 75; Cost: 6; Level: 2; qval: 0x0002;
Desc: "Casting this spell conjures a ghostly hand with a sympathetic
      bond to the caster's own life aura, such that any touch spell the
      caster has active can have its effects delivered at a distance by
      the hand. The hand is a very minor magical creation, a wisp of
      negative energy, but still an undead creature in its own right. It
      is considered a summoned creature and can be banished or held at
      bay by <9>protection from evil<1> and similar magics.\n
      __Since the hand is shaped from your own life force, you lose 1d4
      hit points when casting the spell.";
rval: $"spectral hand;mon"; pval: 1;
On Event (28+1000) {
ThrowDmg(41,0,1d4,"casting spectral hand",
EActor, EActor);
return 0;
};
}

Monster "spectral hand;mon" : 76, 36, 124
{
Image: bright blue 'U'; Size: 2;
CR: 1; HD: 1; Def: 22; Mov: 200%; Spd: 125%;
Str 10, Dex 10, Con 0, Int 0, Wis 0, Cha 0;
Attk: 9 for 0d0 90;
Stati[39,42,12];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "wspells.irh" 3292
Flags: 9, 13, 2, 4, 3,
5, 7, 24, 21, 66, 55,
88;
On Event (17+500) {
hObj hCaster;
hCaster = EActor->GetStatiObj(67);
if (hCaster == ((hObj)0))
{ EActor->Remove(true); return 1; }
SetSilence();
EActor->RemoveStati(149);
if (hCaster->HasStati(149))
EActor->GainPermStati(149,
hCaster->GetStatiObj(149),
2, hCaster->GetStatiVal(149),
hCaster->GetStatiMag(149),
hCaster->GetStatiEID(149),
hCaster->GetStatiCLev(149));
UnsetSilence();
return 0;
},
(17+1000) {
hObj hCaster;
hCaster = EActor->GetStatiObj(67);
if (hCaster == ((hObj)0))
{ EActor->Remove(true); return 1; }

if (EActor->HasStati(149))
hCaster->SetStatiMag(149,-1,NULL,
EActor->GetStatiMag(149));
else
hCaster->RemoveStati(149);

SetSilence();
EActor->RemoveStati(149);
UnsetSilence();
return 0;
},
(83+500) {
hObj hHand;
if (EActor->mID == $"spectral hand;mon")
{
hHand = GetHandle(EActor);
SetEActor(e,EActor->GetStatiObj(67));
ReThrow(83,e);
SetEActor(e,hHand);
return 1;
}
return 0;
},
156 {
EActor->GainPermStati(113,NULL,7,
50, EActor->GetStatiObj(67)->CasterLev(),((rID)0));
EActor->GainPermStati(113,NULL,7,
1, EActor->GetStatiObj(67)->GetAttr(3)-10,((rID)0));
},
209
"It has an inherant bonus to its attack roll equal to its
        creator's caster level, and an inherant modifier to its
        Dexterity making that attribute equal to it's creator's
        Intelligence.",
210
"deliver its creator's touch spells",
(41+500) {
if (e.DType == 90)
return 1;
return 0;
};
}



1 / 50 / 2 Spell "Levitation" : 3
{ 0x00000080; Base: 75; Cost: 4; Level: 2;
xval: 127;
Purpose: 0x00400;
Desc: "Allows you to float a foot off the ground and move normally,
      thus avoiding many traps, becoming invisible to tremorsense and
      gaining the ability to cross pits and chasms safely, but halving
      your movement rate, granting you a -2 circumstance penalty
      to attack rolls, and a -15~ circumstance penalty to spell failure
      chances.\n
      __You also suffer the normal penalties for flying, needing a
      Balance check to cast spells with somatic components and
      potentially suffering knockback when you are struck in
      combat.";
Flags: 45, 25, 86, 66;
}
and 3
{ xval: 117; yval: 50; pval: -2; }
and 3
{ xval: 117; yval: 26; pval: -10; }
and 3
{ xval: 117; yval: 55; pval: -3; }


50 / 52 / 53 / 2 Spell "Bull's Strength" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 3389
Purpose: 0x00010 (1);
xval: 106; yval: 0; pval: 1d4+1;
Desc: "Grants the subject a magic bonus to their Strength 
      of 1d4+1 points.";
}

50 / 2 Spell "Cat's Grace" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 3397
Purpose: 0x00010 (1);
xval: 106; yval: 1; pval: 1d4+1;
Desc: "Grants the subject a magic bonus to their Dexterity 
      of 1d4+1 points.";
}

50 / 52 / 53 / 2 Spell "Bear's Endurance" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 3405
Purpose: 0x00010;
xval: 106; yval: 2; pval: 1d4+1;
Desc: "Grants the subject a magic bonus to their Constitution 
      of 1d4+1 points.";
}

50 / 2 Spell "Ray of Enfeeblement" : 4
{ 0x00000080; Base: 90; Cost: 4; Level: 2; qval: 0x0001 | 0x0004;
aval: 2; cval: 2; lval: 8; tval: 75;
xval: 43; pval: 1d8+-99; sval: 0;
Flags: 4, 60; Purpose: 0x00004;
Desc: "Projects a ray from your hand that drains 1d8 points of
      Strength, plus one point per two caster levels, from any living
      target that it strikes (ranged attack roll required) that fails
      a Fortitude saving throw.";
On Event 28
"You feel yourself grow weak!" /
"The <EVictim> weakens!",
200 "wan ray";

}

50 / 2 Spell "Heightened Senses" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "wspells.irh" 3429
xval: 39; yval: 73; pval: +4;
Desc: "This dwenomer heightens the caster's sensory input to an
      incredible degree, giving her a +4 insight bonus to Search,
      Spot and Listen and the ability to detect secret doors as an
      elf does, along with 4 squares of low-light vision.";
}
and 3
{ xval: 39; yval: 53; pval: +4; }



50 Spell "Apportation" : 46
{ 0x00000100; Level: 2; Cost: 4; Base: 90; qval: 0x0004; sval: 2;
Flags: 40, 71; Purpose: 0x00004;
Desc: "Casting this spell allows you to teleport a Large or smaller
      inanimate object into your hands from up to 80 feet away. When an 
      unattended object is the focus of this spell, the effect is automatic; 
      when the spell targets a creature, the caster may select any one 
      object in the creature's inventory to claim, but the creature is 
      entitled to a Will save to resist the magic. This saving throw is 
      modified by the difference between the victim's Spot skill rating 
      and the caster's Pick Pockets skill rating.";
On Event 155 {
if (!(EVictim->isCreature() || EVictim->isType((-4))))
return -1;
if (EVictim->isCreature() && EVictim->FirstInv() == ((hObj)0))
return 1;
if (ETarget->isType((-4)) && ETarget->Size() > 5)
return -1;
return 0;
},
170 {
if (GetHandle(EVictim) != ((hObj)0) && EVictim->isCreature())
e.saveDC += EActor->SkillLevel(38) -
EVictim->SkillLevel(44);
return 0;
},
28 {
int32 blev; hObj it, best; int32 found;
if (ETarget->isCreature())
{
found = false; blev = -100;
for (it=EVictim->FirstInv();it;it=EVictim->NextInv())
if (it->Size() <= 5)
{
found = true;
if (EActor->isPlayer())
ETerm->LOption(it->Name(0),(int32)it);
else if (it->ItemLevel() > blev)
{ best = it; blev = it->ItemLevel(); }
}
if (!found)
{
EActor->IPrint("Unfortunately, that creature has nothing
                that you can apport.");
return 1;
}
if (EActor->isPlayer())
it = (hObj) ETerm->LMenu(0x0100|0x0008,"Choose an Item:",
14);
else
it = best;

}
else
it = GetHandle(ETarget);

if (it->HasStati(133) || EVictim->HasStati(133) ||
EVictim->HasEffStati(79,$"Item Preservation") ||
it->isCursed())
{
APrint(e,"The <hObj> flickers briefly.",it);
return 1;
}

if (it->GetParent() != ((hObj)0) && it->GetParent()->isType(30))
{
EVictim->IPrint("Your <hObj> feels lighter.", it->GetParent());
EActor->IPrint("An <hObj> appears in your hands!",it);
}
else if (EVictim->isCreature())
{
TPrint(e,"The <EVictim>'s <hObj> vanishes and appears in your hands!",
"Your <hObj> vanishes and appears in the <EActor>'s hands!",
"The <EVictim>'s <hObj> vanishes and appears in the <EActor>'s hands!",it);
}
else
DPrint(e,"The <hObj> vanishes and appears in your hands!",
"The <hObj> vanishes and appears in the <EActor>'s hands!",it);

it->Remove(false);
EActor->GainItem(it,false);
return 1;
};
}

53 / 2 / 50 Spell "Summon Swarm" : 4
{ 0x00000100; Base: 75; Cost: 3; Level: 2; qval: 0x0002; lval: 3;
rval: 0x00000008 | 0x00004000 | 0x00000004 | 0x00000100 | 0x00000040;
xval: 0; pval: 1d2; cval: 6; aval: 7;
Purpose: 0x00004; Flags: 25, 65;
On Event
206
"A roiling cloud of small insects appears!",
83
"" /
"Insects sting you!" /
"",
74
"The cloud of insects vanishes.",
43
"You're in the stinging swarm of bugs.",
44
"You escape the insect swarm.";
Desc: "Conjures a cloud of stinging, biting insects that inflict
	  1d2 points of damage to everyone within every turn, along with
	  inflicting a -2 general circumstance penalty.";
}
and 2
{ xval: 117; yval: 51; pval: -2; aval: 7; cval: 6; }

50 / 51 Spell "Monster Summoning II" : 9
{ 0x00000100; Base: 75; Cost: 4; Level: 2; qval: 0x0002;
Purpose: 0x00100; xval: 75; pval: 2;
Desc: "Summons a living creature of CR 2 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 2+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 3557
50 Spell "Transposition" : 46
{ 0x00000100; Level: 2; Cost: 4; Base: 90; qval: 0x0004;
Desc: "This specialized form of <9>phase door<1> allows the caster to
      swap locations with any other creature within [Caster Level
      + Wisdom Modifier] x 10 feet of her. A Fortitude saving throw
      on the target's part negates the effect; the save recieves
      a +4 circumstance bonus if the caster is standing on dangerous
      terrain (including dry land for aquatic creatures), and this
      modifier raises to +8 if the caster is flying or levitating
      over a chasm and the target creature can't fly.\n";
On Event 170 {
e.vRange = e.vCasterLev + EActor->Mod(4);
if (!GetHandle(EVictim))
return 0;
e.sval = EVictim->isFriendlyTo(EActor) ? 3 : 0;
if (ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y),18))
e.saveDC -= 8;
else if (ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y),6))
e.saveDC -= 4;
else if (EVictim->isMType(80) && !ResourceHasFlag(
EMap->TerrainAt(EActor->x,EActor->y),7))
e.saveDC -= 6;
return 0;
},
28 {
int32 cx, cy, vx, vy; hObj m;
if (EActor->HasStati(133) || EVictim->HasStati(133))
{
TPrint(e, "You and the <EVictim> flicker in place.",
"You and the <EActor> flicker in place.",
"The <EActor> and the <EVictim> flicker in place.");
return 1;
}
m = EActor->m;
cx = EActor->x;
cy = EActor->y;
vx = EVictim->x;
vy = EVictim->y;
EActor->Remove(false);
EVictim->Remove(false);
EActor->PlaceAt(m,vx,vy);
EVictim->PlaceAt(m,cx,cy);

EActor->IPrint("You trade places with the <hObj>!",EVictim);
EVictim->IPrint("You suddenly find yourself elsewhere!");

return 1;
};
}

50 Spell "Mana Theft" : 1
{
0x00000100; Base: 60; Cost: 5; Level: 2;
aval: 6; lval: -102; Purpose: 0x00004;
xval: 90; pval: (-101)d8; sval: 2;
Flags: 25, 61, 66, 11;
Desc: "By casting this spell, you turn your body into a natural
      conduit for magical energies, allowing you to steal the mana
      of other creatures with a successful touch attack. Your touch
      causes other creatures to lose 1d8 points of mana for every
      caster level, and you gain a similar amount -- up to a maximum 
      of whatever the target had to lose. A Will save allows the 
      target to halve the mana loss. Mana Theft cannot replace mana
      allocated to persistant spells like Mage Armor, and any mana
      above the caster's normal maximum fades after a brief period
      -- although mana stolen from a victim does not regenerate.\n
      __Channeling magical energies in this manner is draining and
      costs you a point of Fatigue when the spell is first cast. A
      single casting gives you two touches for every caster level you
      have.";
On Event 206
"Your hands glow with a dissonant white light." /
"The <EActor>'s hands glow with a dissonant white light.",
(41+500) {
int32 amt, full;
if (e.DType == 90 && e.eID == $"Mana Theft")
{
if (EVictim->cMana() <= 0)
{
EActor->IPrint("The <hObj> has no more mana left to steal.",EVictim);
return 1;
}
amt = e.vDmg;
full = EActor->nhMana();


if (EVictim->cMana() <= amt)
amt = EVictim->cMana();


EVictim->LoseMana(amt,true);


if (amt <= EActor->uMana)
{

EActor->GainMana(amt);
amt = 0;
}
else
{

amt -= EActor->uMana;
EActor->GainMana(EActor->uMana);


if (EActor->HasEffStati(117,$"Mana Theft")) {
EActor->IncEffStatiMag(117,$"Mana Theft",
2, NULL, (amt+3)/5);
EActor->SetEffStatiDur(117,$"Mana Theft",
e.vCasterLev*10);
}
else
EActor->GainTempStati(117,NULL,e.vCasterLev,
2, 37, (amt+3)/5, $"Mana Theft", e.vCasterLev*10);
}
TPrint(e, "You steal <hText> of the <EVictim>'s mana!",
"The <EActor> steals <hText> of your mana!",
NULL, EVictim->cMana() ? "some" : "all");


EActor->CalcValues();
EVictim->CalcValues();
return 1;
}
return 0;
},
(52+500) {
if (!EActor->LoseFatigue(1,true))
return 2;
return 0;
};
}

50 Spell "Ethereal Blade" : 3
{
0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2; qval: 0x0008;
#line "wspells.irh" 3694
Desc: "By casting this spell, a wizard weaves the materiality
      of a specific object -- traditionally a dagger or sword --
      into the tapestry of reality on a more fundamental level,
      making it capable of striking true against incorporeal
      creatures that dwell on the ethereal, astral or negative
      energy planes. The weapon effectively gains the Ghost Touch
      quality while the spell is active.";
xval: 183; yval: 77;
Flags: 40, 41;
}
#line "wspells.irh" 3723
50 / 52 / 53 / 2 Spell "Dispel Magic" : 22
{
0x00000001; Base: 75; Cost: 15; Level: 3; qval: 0x0004 | 0x0002;
aval: 11; lval: 3; cval: 11; Purpose: 0x00004|0x00001;
xval: 0x01 | 0x10; pval: 1d20 + -101;
Desc: "Negates standing magical effects within a 30 foot
      (3 square) radius globe, if the opposed caster level 
      check (made once for each effect) succeeds.";
Purpose: 0x00004 | 0x20000 (6);
Flags: 45, 78;
On Event 75 {
rID xID; hObj it;
xID = EMap->TerrainAt(e.EXVal,e.EYVal);
switch (xID)
{
case $"strange rune":
case $"guardian runes;2":
case $"guardian runes":
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20 >
(xID == $"strange rune" ? 18 : 24)) {
APrint(e,"The rune glows grey and vanishes!");
e.isSomething = true;
EMap->RemoveTerraXY(e.EXVal,e.EYVal,xID);
if (xID == EMap->TerrainAt(e.EXVal,e.EYVal))
EMap->WriteTerra(e.EXVal,e.EYVal,$"floor");
}
else
APrint(e,"The rune glows grey, but the glow fades quickly.");
break;
case $"warded wall":
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20 > 18) {
APrint(e,"Runes vanish from the wall!");
e.isSomething = true;
EMap->WriteTerra(e.EXVal,e.EYVal,$"dungeon wall");
}
break;
}
for(it=EMap->FirstAt(e.EXVal,e.EYVal);it;it=EMap->NextAt(e.EXVal,e.EYVal))
{
if (it->isFeature()) {
if (it->fID == $"warding rune") {
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20 > 18)
{
it->Remove(true);
e.isSomething = true;
APrint(e,"The warding rune glows grey, then vanishes!");
}
else
APrint(e,"The warding rune glows grey, but the glow quickly fades.");
}
if (it->isType(12) && !ResourceHasFlag(it->tID,33)) {
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20
> 14 + it->TrapLevel())
{
it->TrapFlags |= (0x0001|0x0002);
it->SetImage();
e.isSomething = true;
APrint(e,"The <hObj> glows grey!",it);
}
else {
it->TriggerTrap(e,false);
e.eID = $"dispel magic";
}
}

if (it->fID == $"warded oak door")
{
it->fID = $"oak door";
it->SetImage();
e.isSomething = true;
EMap->Update(e.EXVal,e.EYVal);
APrint(e,"Runes vanish from the door!");
}
}
}
},
155 {
if (EActor->CasterLev() ||
EActor->isPlayer())
return 0;
return 1;
},
170 {

if (e.isItem)
if (GetHandle(EItem) != ((hObj)0))
if (EItem->isType(57))
e.vCasterLev = EItem->GetPlus()*3 + 3;
return 0;
};
}
#line "wspells.irh" 3821
50 / 52 / 2 Spell "Magic Circle vs. Evil" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 56; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 103; Flags: 4, 56; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 56; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all evil creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 Spell "Magic Circle vs. Good" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 55; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 106; Flags: 4, 55; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 55; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all good creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 Spell "Magic Circle vs. Law" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 21; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 104; Flags: 4, 21; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 21; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all lawful creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 Spell "Magic Circle vs. Chaos" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 22; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 105; Flags: 4, 22; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 22; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all chaotic creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 / 52 Spell "Magic Circle vs. Undead" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 76;
aval: 7; cval: 15; Flags: 4; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of Undead creatures and grants everyone a +4
      bonus to save versus enchantment.";
Purpose: 0x00200 (21); }

50 / 2 Spell "Minor Globe of Invulnerability" : 3
{
0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; aval: 9;
#line "wspells.irh" 3900
cval: 5; lval: 6; rval: 0x00000004;
xval: 79; yval: 37; Flags: 34;
On Event (37+10000) {
if (e.eID)
if (ResourceLevel(e.eID) <= 3)
{
DPrint(e, "Your spell is negated.",
"The <EActor> chants, then stops abruptly.");
EActor->Timeout += 15;
return 1;
}
return 0;
};
Desc: "Creates a zone 30 feet (3 squares) in radius that moves with the
      caster in which spells of 3rd level or lower cannot be cast
      by anyone other then the globe's creator.";
}



50 / 2 Spell "Stinking Cloud" : 46
{ 0x00000002|0x00001000; Base: 75; Cost: 6; Level: 3; qval: 0x0002;
aval: 7; lval: 3; cval: 2;
rval: 0x00000008|0x00000100|0x00000040;
Flags: 64;
Purpose: 0x00004 |0x01000;
Desc: "Creates a 30 foot (3 square) radius cloud of noxious
      vapors, causing all breathing creatures within the cloud to make a
      Fortitude save (DC 20) every round or suffer nausea for 2d4
      additional rounds.  Nauseated creatures cannot attack or cast spells
      and are considered flat-footed for the purposes of sneak attacks. The
      caster is not immune!";
On Event 83 {
if (EVictim->onPlane() == 0 &&
EVictim->isMType(78) &&
!EVictim->SavingThrow(0,20))
EVictim->GainTempStati(20,EActor,2d4,2,0,0,
$"stinking cloud");
},
206
"A cloud of greenish vapors billows up!",
74
"The stinking cloud effect is over.";
}

50 Spell "Explosive Runes" : 5
{ 0x00000002|0x00002000; Base: 95; Cost 5; Level: 3; qval: 0x0002; xval: 6;
rval: $"strange rune"; sval: 1; pval: (-123)d6;
Desc: "Turns one chosen floor square into a rune that explodes
      for 1d6 damage per caster level (max 10d6) when stepped on.";
Purpose: 0x00000;
On Event 206
"A glowing rune appears on the ground!"; }

Terrain "strange rune"
{ Image: pink '#'; Mat:28;
Flags: 5, 11, 6;
On Event 161 {
if (EActor->cHP < EMap->GetTerraDmg(e.EXVal,e.EYVal) &&
EActor->GetAttr(3) > 10)
return 2;
return 0;
} ;
On Event 154 {
hObj mp; mp = GetHandle(EMap);
DPrint(e, "The rune explodes!", "The rune explodes!");
if (EActor->SavingThrow(1,EMap->GetTerraDC(e.EXVal,e.EYVal)))
ThrowTerraDmg(41,0,EMap->GetTerraDmg(e.EXVal,e.EYVal)/2,
"an exploding rune",EActor, $"strange rune");
else
ThrowTerraDmg(41,0,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"an exploding rune",EActor, $"strange rune");

mp->RemoveTerraXY(e.EXVal,e.EYVal,$"explosive runes");
mp->RemoveTerraXY(e.EXVal,e.EYVal,$"glyph of warding");
return 0;
};
}



50 / 53 / 2 Spell "Wall of Ice" : 5
{ 0x00000002|0x00000800; Base: 90; Cost: 6; Level: 3; lval: 6; qval: 0x0001;
xval: 9; aval: 8; Flags: 25;
rval: $"ice wall"; pval: 2d6 + (-125);
Purpose: 0x00040 | 0x00008 | 0x00800 | 0x01000;
Desc: "Conjures a solid barrier made out of ice, displacing
      any creatures in its path and blocking further passage.";
On Event 206
"A wall of solid ice materializes!",
74
"The icy wall melts away to nothing."; }

50 / 2 Spell "Keen Edge" : 46
{ 0x00000002; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 3995
Desc: "Imbues all of your non-blunt, non-missile weapons with a
    supernaturally sharp edge, doubling their threat ranges.";
Purpose: 0x00010;
hObj it;
On Event
155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(24))
if (it->QualityOK(13))
return 0;
}
return -1;
} ,
83 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(24))
if (it->QualityOK(13))
it->GainTempStati(183,EActor,e.vDuration,2,13,13,$"keen edge");
}
};
}

50 Spell "Alisdair's Fundamental Breakdown" : 1
{ 0x00000002; Cost: 3; Level: 3; Base: 90; qval: 0x0002;
Desc: "Potions contain a complex synthesis of rare alchemical
      elements and potent, potentially destructive magical energies
      bound with precise skill into a stable configuration. Casting
      this spell induces entropy in that balance, causing the elements
      of a chosen potion to decompose and become unstable -- essentially
      turning it into a kind of magical grenade that the caster can
      throw at square within 60 feet of her. The potion explodes into
      a volumetric blast or flame and toxic smoke inflicting 1d6 points 
      of damage per caster level, plus an added number of dice of damage 
      based on the potency of the potion used. This causes half fire
      damage and half toxic damage to all creatures caught in the area;
      a Reflex save halves the damage.";
On Event (52+500) {
hObj hPotion, it; int32 i; int32 found;
ClearCandidates(); found = false;
e.MM &= ~(0x08000000);
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->isType(47) && it->isMagic())
{
if (EActor->isPlayer())
ETerm->LOption(it->Name(0x0080),(int32)it);
else
AddCandidate((int32)it);
found = true;
}
if (!found)
{
EActor->IPrint("You need a potion to use that spell.");
return 2;
}
if (EActor->isPlayer())
{
hPotion = (hObj) ETerm->LMenu(0x0100|0x0002,
"Choose a Potion:");
if (hPotion == (hObj) -1)
return 2;
}
else
hPotion = (hObj) RandCandidate();

EActor->GainTempStati(152,NULL,1,7,
0x00000002, hPotion->ItemLevel()*2,$"Alisdair's Fundamental Breakdown");

hPotion = hPotion->TakeOne();

hPotion->Remove(true);
return 0;
},
(52+1000) {
EActor->RemoveEffStati($"Alisdair's Fundamental Breakdown");
return 0;
},
206
"You hurl the unstable potion!" /
"The <EActor> throws a potion -- and it explodes!",
200
"alchemical fireball";
aval: 3; cval: 23; lval: 18; sval: 1 partial;
pval: (-114)d6; xval: 1; }
and 1
{ pval: (-106)d6; xval: 5; }

50 Spell "Minor Creation" : 46
{
0x00000002; Base: 90; Cost: 12; Level: 3; Purpose: 0x00000;
Desc: "Casting this spell allows a mage to create any object make of
      organic material -- wood, hemp, cloth, etc. -- or stone. The mage
      must make a Craft check to create an item of any notable complexity,
      or must make a Poison Use check against the poison's save DC + 5 to
      conjure a poison. Metal items, magical materials and some rare
      synthetic poisons are beyond the domain of this spell, as is anything
      which contains writing (such as a spellbook).\n
      __Created items are permanent, but drawing forth matter from nothing
      costs a mage 25 XP, plus 1 XP per 25 gp the created items are worth.";
On Event 28 {
hObj it; int32 CraftDC, XPCost, mat;
it = ETerm->AcquisitionPrompt(6,0,0,0);
if (it == ((hObj)0))
return 1;
XPCost = 25;
if (it->isType(12))
{
e.vRange = 1;
if (!ETerm->EffectPrompt(e,0x0002,false,"Trap Location"))
{ it->Remove(true); return 1; }
it->PlaceAt(EActor->m,e.EXVal,e.EYVal);
}
else
{
if (it->isType(37) || it->HasIFlag(15) ||
it->iID == $"club" || it->iID == $"large club" ||
it->iID == $"quarterstaff" || it->iID == $"torch")
CraftDC = 0;
else
CraftDC = 15;
if (CraftDC && !EActor->SkillCheck(9,CraftDC,true))
{
EActor->IPrint("You fail to shape the created matter properly!");
if (EActor->isPlayer())
EActor->LoseXP(25 );
it->Remove(true);
return 1;
}

if (it->iID == $"small glass vial" && it->ieID != ((rID)0))
if (!EActor->SkillCheck(39,PoisonDC(it->ieID)+5,true))
{
EActor->IPrint("You fail to synthesize the poison properly!");
it->ieID = ((rID)0);
}
#line "wspells.irh" 4157
if (it->HasIFlag(15))
it->SetQuantity(30);
else if (it->HasIFlag(8))
it->SetQuantity(e.MM & 0x00010000 ? 100 : 10d10);
else if (it->HasIFlag(7))
it->SetQuantity(e.MM & 0x00010000 ? 24 : 2d12);

if (e.MM & 0x00000200)
it->SetQuantity((it->GetQuantity()*3)/2);

EActor->GainItem(it,false);
}
if (EActor->isPlayer())
EActor->LoseXP(XPCost );
return 1;
};
}




50 / 51 / 1 / 2 Spell "Clairvoyance" : 47
{ 0x00000004; Level: 3; Cost: 15; Base: 95; Purpose: 0x00000;
xval: 0x01 | 0x20; pval: 30; yval: 5;
Desc: "Allows the caster to scry around the nearby area."; }

50 / 2 Spell "Detect Monsters" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3; xval: 134; yval: 0;
#line "wspells.irh" 4185
Desc: "Reveals all creatures, seen or unseen, within (15 + caster
    level) squares of the caster; specialist Diviners have an exceptional
    facility with this magic, and instead gain a range of 30 + [caster
    level x 2]) squares."; int32 range;
On Event 205
"DetMon" / "DetM",
170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->HasStati(37,2))
e.vDmg = 30 + e.vCasterLev*2;
else
e.vDmg = 15 + e.vCasterLev;
range = e.vDmg;
return 0;
},
(28+1000) {
EVictim->SetEffStatiMag(134,$"Detect Monsters",range);
return 0;
};
}

50 / 2 Spell "Magic Mapping" : 46
{ 0x00000004; Level: 3; Cost: 20; Base: 95; Purpose: 0x00000;
pval: 10d1 + -104;
Desc: "Reveals to the caster the physical layout of the nearby area
      out to a range of (100 + [Caster Level x 40]) feet. This spell does
      not detect monsters, objects or terrain.";
On Event 28 {
int32 x, y;
for (x = EActor->x - e.vDmg; x!= (EActor->x + e.vDmg + 1); x++)
for (y = EActor->y - e.vDmg; y!= (EActor->y + e.vDmg + 1); y++)
if (x > 1 && y > 1 && x+1 < EMap->SizeX() && y+1 < EMap->SizeY())
if (dist(x,y,EActor->x,EActor->y) <= e.vDmg)
if (EMap->SolidAt(x,y))
if (!(EMap->SolidAt(x+1,y) && EMap->SolidAt(x-1,y) &&
EMap->SolidAt(x,y+1) && EMap->SolidAt(x,y-1) &&
EMap->SolidAt(x+1,y+1) && EMap->SolidAt(x-1,y-1) &&
EMap->SolidAt(x-1,y+1) && EMap->SolidAt(x+1,y-1)))
EMap->MarkAsSeen(0,x,y,0);
ETerm->RefreshMap();
return 1;
};
}

50 Spell "Anyspell" : 46
{ 0x00000004; Level: 3; Cost: 35; Base: 60; Purpose: 0x00000;
Desc: "Casting this spell mystically reveals to the mage
      knowledge of any single arcane spell of 2nd level or
      lower, just as if she had learned the spell herself.
      This kind of revealed knowledge only lasts for a short
      time, but for that duration the mage can cast the
      gained spell just as if she knew it naturally. When
      the duration of Anyspell expires, any persistant
      effects of the revealed spell cease. Gaining knowledge
      in this manner is intensely straining, costing the
      mage two Fatigue points.\n
      __Specialist Diviners are able to make more efficiant
      use of this spell than other mages -- they spend only
      one Fatigue and gain any arcane spell of 3rd level or
      lower.";
On Event 28 {
int32 maxlev, i; rID spID;
maxlev = 2;
maxlev += EActor->HasStati(37,2) ? 1 : 0;
if (e.MM & 0x00004000)
maxlev++;
for(i=0;i!=theGame->LastSpell();i++)
{
spID = theGame->SpellID(i);
if (spID->HasSource(50) && spID->Level <= maxlev)
if (!(EActor->getSpellFlags(spID) & 0x0001))
ETerm->LOption(XPrint("<Res>",spID),(int32)spID);
}
spID = (rID) ETerm->LMenu(0x0100|0x0010|0x0002|0x0080,
"Choose a Spell:", 14);
if (spID == (rID) -1)
return 2;
if (!EActor->LoseFatigue(1 + EActor->HasStati(37,3), true))
return 2;
EActor->GainTempStati(189,NULL,e.vDuration,2,
theGame->SpellNum(spID),0,$"Anyspell",e.vCasterLev);
EActor->setSpellFlags(spID, EActor->getSpellFlags(spID)
| 0x0001 | 0x0004);
EActor->IPrint("Mystical knowledge of <9><Res><7> imprints
        itself on your mind!", spID);
},
84 {
rID spID2;
spID2 = theGame->SpellID(e.vVal);
EActor->RemoveEffStati(spID2);
EActor->IPrint("The knowledge of <9><Res><7> fades from your mind.",spID2);
EActor->setSpellFlags(spID2,EActor->getSpellFlags(spID2) &
~(0x0004|0x0001));
return 0;
};
}
#line "wspells.irh" 4289
50 Spell "Lorecall" : 3
{
0x00000004; Level: 3; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 17;
#line "wspells.irh" 4292
Desc: "Casting this spell, you greatly enhance your proficiency via
      magically revealed knowledge. You select any one skill that you
      have as an affinity skill, and you gain a magic bonus to that
      skill equal to the number of ranks invested into the skill. This
      bonus caps at +5, or +10 for specialist Diviners.";
xval: 124; yval: 105; pval: +1; int32 sk, mag;
On Event (52+500) {
int32 i; int32 found;
if (EActor->HasEffStati(124,$"Lorecall"))
{
EActor->IPrint("You can only have one Lorecall at a time.");
return 2;
}
if (EActor->isPlayer())
{
found = false;
for(i=0;i!=49;i++)
if (EActor->HasSkill(i) && EActor->GetSkillRanks(i))
{ found = true; ETerm->LOption(SkillName(i),i); }
if (!found)
{ EActor->IPrint("You have no skills with ranks in them.");
return 2; }
sk = ETerm->LMenu(0x0080|0x0100|0x0010|0x0002,
"Choose a Skill:", 14);
if (sk == -1)
return 2;
}
else
{
if (EActor->HasSkill(34))
sk = 34;
else if (EActor->HasSkill(43))
sk = 43;
else if (EActor->HasSkill(19))
sk = 19;
else if (EActor->HasSkill(18))
sk = 18;
else
return 2;
}
return 0;
},
(28+1000) {
EVictim->SetEffStatiVal(124,$"Lorecall",sk);
EVictim->SetEffStatiMag(124,$"Lorecall",mag);
return 0;
},
170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->isPlayer())
e.vDmg = EActor->GetSkillRanks(sk);
else
e.vDmg = (EActor->SkillLevel(sk) * 2) / 3;
if (EActor->HasStati(37,2))
e.vDmg = min(e.vDmg,10);
else
e.vDmg = min(e.vDmg,5);
if (e.MM & 0x00000200)
e.vDmg = (e.vDmg * 15) / 10;

mag = e.vDmg;
return 0;
};
}

50 Spell "Insightful Stroke" : 3
{ 0x00000004; Base: 90; Cost: 10; Level: 3; Purpose: 0x00010 (1);
Flags: 61, 25, 13, 86;
xval: 108; yval: 53; pval: -101;
Desc: "Casting this spell reveals the hidden weaknesses of a target
      and the most perfect pattern of attack specific to a given target
      in a given instant, granting the caster a bonus to her next single
      physical attack's damage equal to her caster level plus her Wisdom
      modifier.";
On Event 170 {
if (GetHandle(EActor))
e.vDmg = e.vCasterLev + EActor->Mod(4);
return 0;
};
}

50 Spell "Warning" : 3
{ 0x00000004; Level: 3; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25;
#line "wspells.irh" 4376
Desc: "This spell grants the caster a preternatural awareness of danger
      and threats, giving her a +4 bonus to save versus traps as well as
      granting her the Improved Initiative feat while it is active.";
xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 27); }
and 2
{ xval: 123; yval: 9; pval: +4; }



50 Spell "Heroism" : 3
{ 0x00000080; 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; qval: 0x0004;
#line "wspells.irh" 4387
xval: 114; yval: 51; pval: +2;
Desc: "Grants the chosen subject a +2 morale bonus to attack
      rolls, damage rolls, and saving throws."; }

50 Spell "Deep Slumber" : 3
{ 0x00000008; Base: 75; Cost: 7; Level: 3; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004 | 0x0002;
Flags: 25, 53, 5, 34; lval: 2;
xval: 7; yval: 2; tval: -101;
aval: 11; cval: 9;
Desc: "Causes creatures whose levels are equal to your own 
      or less within a 20 foot (2 square) radius globe to 
      fall into slumber until woken or attacked.";
}

50 / 2 / 52 Spell "Hold Person" : 3
{ 0x00000008; Level: 3; Cost: 6; Base: 75; qval: 0x0004;
xval: 9; sval: 2; tval: 86;
Purpose: 0x00004 (9); Flags: 4, 53;
Desc: "Paralyzes one chosen humanoid, provided they fail a Will
      saving throw.";
}
#line "wspells.irh" 4413
50 Spell "Sign of Discord" : 46
{ 0x00000008; Base: 90; Cost: 6; Level: 3; lval: 12;
sval: 2 + 10; qval: 0x0004; Flags: 21;
Purpose: 0x00004 | 0x00040 | 0x01000;

Desc: "By making an archaic gesture, the caster curses a single
      creature, causing discord between it and all nearby creatures.
      All creatures within 120 feet, even the victim's allies, who
      fail a Will saving throw will view that creature as hostile
      and act accordingly to it. The target herself is not affected
      and does not make a saving throw. This spell is considered a
      considered a confusion effect, and save bonuses for such apply
      against it.";
On Event 28 {
hObj hMon;
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && hMon->DistFrom(EVictim) <
((e.MM & 0x00000800) ? 24 : 12))
if (hMon != GetHandle(EActor) && hMon != GetHandle(EVictim))
{
if (hMon->ResistLevel(21) == -1 ||
hMon->HasMFlag(33))
hMon->IDPrint("You are unaffected.",
"The <hObj> is unaffected.", hMon);
else if (hMon->SavingThrow(2,e.saveDC,0x00008000|0x00000020|0x00000001|0x00001000))
hMon->IDPrint("You resist.", "The <hObj> resists.", hMon);
else {
if (hMon->isFriendlyTo(EVictim))
hMon->IDPrint("", "The <hObj> snaps and turns on the <hObj>!",
hMon, EVictim);
else
hMon->IDPrint("", "The <hObj> gets angry at the <hObj>!",
hMon, EVictim);
hMon->TurnHostileTo(EVictim);
hMon->GainTempStati(173,EActor,6d20,2,0,0,$"Sign of Discord");
}
}
return 1;
},
206
"You make an archaic gesture." /
"The <EActor> makes an archaic gesture.";
}

50 / 2 Spell "Minor Malison" : 3
{ 0x00000008; Level: 3; Cost: 6; Base: 90; qval: 0x0004;
xval: 106; yval: 52; pval: -2; Purpose: 0x00004;
Desc: "Afflicts a target with ill luck, causing him to suffer
      a -2 penalty to all saving throws.";
On Event 28
"You feel unlucky.";
}

50 / 2 Spell "Suggestion" : 3
{
0x00000008; Level: 3; Cost: 7; Base: 90;
xval: 124; yval: 11; pval: +10;
Desc: "Casting this spell allows the wizard to weave a post-hypnotic
      suggestion into normal speech, leading others into doing what she
      wants imperceptably. In game terms, the dwenomer gives the mage a
      +10 magic bonus to her next single Diplomacy check, unless the target
      is immune to Enchantment magic, in which case the spell has no effect.
      Though there is no saving throw, if the target has a bonus to save
      versus Enchantment spells, that is applied as a penalty against the
      bonus given, to a minimum of 0. The Diplomacy check must be made
      shortly after casting the spell for it to be effective.";
Flags: 61, 13;
}



50 Spell "Fireball" : 1
{ 0x00000010|0x00004000; Base: 75; Cost: 6; Level: 3; sval: 1 partial;
xval: 1; pval: (-126)d6; Purpose: 0x00001;
aval: 3; qval: 0x0001 | 0x0004 | 0x0002; cval: 16; lval: 8;
Flags: 32;
Desc: "Creates a volumetric blast of fire that inflicts 1d6 
      points of damage for every caster level. The blast can also
      disperse magical fog if it inflicts more than five times the 
      creator's caster level in fire damage.";
On Event 75 {
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Obscurement",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Fog Cloud",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Mind Fog",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Pyrotechnics;smoke",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Thunderbeast Fumes",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Stinking Cloud",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"fog;horn effect",e.vDmg / 5))
APrint(e,"The fire burns away the fog!");
return 0;
};
}

50 / 2 Spell "Flame Arrow" : 46
{ 0x00000010|0x00004000; Base: 90; Cost: 6; Level: 3;
Desc: "This spell can be cast in one of two forms:\n
    __<9>Augment Existing Arrows:<1> This version of the spell imbues a
    stack of piercing missile weapons with the flaming quality for the
    next thirty turns.\n
    __<9>Conjure Arrows of Flame:<1> This version of the spell creates
    bolts of solid flame inflicting 5d6 points of fire damage. The caster gains
    one such bolt in the turn the spell was cast, and one bolt for every
    turn thereafer, until the spell is cancelled or the duration expires.
    An attack roll must be made to hit with the bolts. A reflex save may
    be made to halve the damage from a flame arrow.";
On Event (32+10000) {
e.eID = $"Flame Arrow;blast";
if (!ETerm->EffectPrompt(e,0x0004,false,"Target Flame Arrow:"))
{
e.eID = (rID) 0;
return 0;
}
e.eID = (rID) 0;
if (!GetHandle(EVictim))
return 0;
e.vCasterLev = EActor->CasterLev();
e.MM = EActor->GetEffStatiMag(189,$"Flame Arrow") +
EActor->GetEffStatiMag(190,$"Flame Arrow") * 0xFFFF;
RedirectEff(e,$"Flame Arrow;blast",52);
return 0;
},
28 {
EActor->GainTempStati(189,NULL,e.vDuration,2,
e.MM & 0xFFFF,0,$"Flame Arrow",e.vCasterLev);
EActor->GainTempStati(190,NULL,e.vDuration,2,
(e.MM & 0xFFFF0000) << 16,0,$"Flame Arrow",e.vCasterLev);
EActor->GainTempStati(79,NULL,e.vDuration,2,
32,0,$"Flame Arrow",e.vCasterLev);
return 0;
},
(28+1000) {
RedirectEff(e,$"flame arrow",(32+10000));
return 0;
},
(52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Augment missiles or conjure arrows?","ac",'c');
if (ch == 'a')
{
RedirectEff(e,$"flame arrow;augment",52);
return 1;
}
return 0;
};
Flags: 66, 78;
}

Effect "Flame Arrow;blast" : 1
{ xval: 1; pval: 5d6; sval: 1 partial;
aval: 1; cval: 4;
Flags: 60;
}

Effect "Flame Arrow;augment" : 46
{
qval: 0x0008;
On Event 155 {
hObj it;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(45) && it->QualityOK(7))
if (it->HasIFlag(27))
return 0;
}
return 1;
},
157 {
if (!EItem->QualityOK(7))
return 2;
if (!EItem->isType(45))
return 2;
if (!EItem->HasIFlag(27))
return 2;
return 0;
},
170 {
e.vDuration = 30;
return 0;
},
83 {
if (ETarget->isType(45) && ETarget->QualityOK(7))
if (ETarget->HasIFlag(27))
ETarget->GainTempStati(183,EActor,e.vDuration,2,
7,7,$"flame arrow");
return 1;
};

}

50 Spell "Icelance" : 1
{ 0x00000010|0x00000800; Base: 75; Cost: 6; Level: 3; sval: 3;
xval: 2; pval: 5d6; Purpose: 0x00001;
aval: 1; qval: 0x0001 | 0x0004; cval: 17;
Desc: "This spell fires a magical lance of ice at a target of the caster's
    choosing.  It automatically hits, inflicting 5-30 points of damage and
    forcing the target to make a Fortitude save or be stunned for 1-4
    rounds.";
}
and 3
{ xval: 5; sval: 0; aval: 1; flags: 23; }

50 Spell "Lightning Bolt" : 1
{ 0x00000010; Base: 75; Cost: 6; Level: 3; sval: 1 partial;
xval: 4; pval: (-126)d6; Purpose: 0x00001;
aval: 2; qval: 0x0001 | 0x0004; cval: 14; lval: 15;
Desc: "Creates a bolt of lightning that inflicts 1d6 points 
      of damage for every caster level.";
Flags: 32;
}


50 / 2 Spell "Thunderlance" : 1
{ 0x00000010; Base: 75; Cost: 6; Level: 3; sval: 1 partial;
xval: 13; pval: 5d4 + (-102); Purpose: 0x00001;
aval: 2; qval: 0x0001 | 0x0004; cval: 5; lval: 6;
Flags: 58;
Desc: "This spell creates a lance of force, extending from the caster
    to a specified point 60 feet in the distance.  Any creatures in the
    lance's path take 5d4 points of crushing damage, +2 points of damage
    per level of the caster (maximum of +30).  Victims can Reflex save for
    half damage.";
}

50 / 52 Spell "Deeper Darkness" : 46
{ 0x00000010|0x00040000; Base: 75; Cost: 4; Level: 3; qval: 0x0002;
aval: 7; rval: 0x00010000; lval: 6; cval: 8;
Purpose: 0x00002 | 0x00040; Flags: 25;
Desc: "Creates a 60' (6 squares) radius globe of inpenetrable
      magical darkness that obscures all natural and magical sight.
      The spell will also negate the effects of a <9>call light<1>
      spell existing in its area when it is cast.";
On Event 75 {
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"call light",0))
APrint(e,"The darkness snuffs out the magical light!");
return 0;
};
}




50 / 2 Spell "Displacement" : 3
{ Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; 0x00000020; Level: 3;
#line "wspells.irh" 4655
xval: 145; yval: 2; pval: 50;
On Event 206
"Your image shifts two feet away from your location." /
"The <EActor>'s image shifts two feet.",
84
"Your image shifts back to your true position." /
"The <EActor>'s image shifts two feet.";
Desc: "Causes the caster to appear to be about 2 feet from where
      he actually is, thereby giving all attacks -- ranged and physical --
      against him a 50% miss chance."; }

50 Spell "Group Invisibility" : 3
{ 0x00000020; Base: 75; Cost: 6; Level: 3; aval: 11;
xval: 100; yval: 1; pval: -101;
lval: 6; tval: 109; Flags: 4, 86; cval: 1;
Purpose: 0x00010 | 0x00002;
Desc: "Renders the caster and all allies within 60 feet (6 squares)
      of her invisible.";
}

50 / 2 Spell "Nondetection" : 2
{ 0x00000020; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 4677
xval: 211; yval:
0x0100|0x0004|0x0080;
Purpose: 0x00010 | 0x00002 ;
Desc: "The warded creature or object becomes difficult to detect by
    divination or other non-standard means. Scent, 
    Telepathy and Detection are all blocked. The creature can
    still be tracked or perceived visually. Note that this does *not* by
    itself hide or otherwise make the wearer invisible.";
On Event 205 "Nondet" / "ND";
}

50 / 2 Spell "Spectral Force" : 8
{ 0x00000020; Base: 75; Cost: 8; Level: 3;
Purpose: 0x00100; xval: 75; yval: 1;
Desc: "This spell creates an illusionary creature, force 
      or object, just as Phantasmal Force does, but the illusion
      has a greater depth and independance to it -- it does not wink
      out of existance when a single character sees through it,
      and any psychosomatic damage it inflicts lasts for (3d6 x 100)
      turns, as opposed to 3d6. More significantly, it is self-sustaining
      -- the caster does not need to concentrate to keep it active, and
      it can move outside the caster's line of sight.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout";
}

50 Spell "Illusory Stance" : 3
{ 0x00000020; Base: 75; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 4720
Desc: "Casting this spell causes the caster's body to become a
      confusing blur of afterimages, making it difficult for
      foes to percieve the real positioning of her arms and
      legs and the location of her melee attacks. She gains a
      +2 bonus to hit, and for every melee attack foes must
      make a successful opposed Spot test against her Illusioncraft
      skill or be treated as flat-footed. \n
      __Possessing true sight negates these bonuses in regard
      to any true-seeing opponent, and they do not apply against
      mindless or blind opponents.";
xval: 79; yval: 19;
On Event (19+10000) {
if (EVictim->HasStati(148))
return 0;
if (EVictim->HasMFlag(33))
return 0;
if (EVictim->HasMFlag(6))
return 0;
if (e.AType == 41 || e.AType == 65 ||
e.AType == 112 || ((e.AType) > 29 && (e.AType) <= 39))
return 0;

e.vHit += 2;
e.strHit += " +2 IS";

if (EVictim->SkillCheck(44, 11 +
EActor->SkillLevel(19),true))
return 0;

EMap->SetQueue(2);
TPrint(e,"Your afterimages confuse the <EVictim>!",
"A bewildering miasma of images confuses you!",
"The <EActor>'s afterimages comfuse the <EVictim>!");
EMap->UnsetQueue(2);

if (!EVictim->AbilityLevel(100))
e.isFlatFoot = true;
#line "wspells.irh" 4763
return 0;
};
}

50 Spell "Animate Shadows" : 46
{
0x00000020|0x00040000; Base: 75; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level 3;
#line "wspells.irh" 4770
Desc: "Casting this spell causes all of the shadows around the
      caster in a mobile globe with an 80-foot radius to begin to 
      pulse and writhe unnaturally. The effect is initially very 
      subtle, but increases as the victims of the spell become more
      and more agitated. Sometimes monsterous shapes can be seem
      within the area for a brief period of time, while at other
      times tendrils of shadow stroke at characters within the
      area almost lasciviously.\n
      __All hostile characters within the area of effect that are 
      not blind, mindless or gifted with true
      seeing must make a Will saving throw every turn or suffer a
      -1 morale penalty to all rolls. Multiple failed saving throws
      are culmulative; when the penalty exceeds -5, creatures enter
      a state of panic and flee. A <9>call light<1> spell or similarly
      bright, sustained radience will cancel the effect within its
      area, but a lantern is insufficient. Creatures immune to fear
      will not panic, but still suffer the morale penalty.\n
      __Any creatures in the area also suffer a -6 circumstance
      penalty to Spot checks.";
aval: 9; rval: 0x00000008; lval: 8; cval: 8;
Flags: 34, 86, 85;
On Event 52 {

EActor->RemoveEffStati($"Animate Shadows");
EActor->GainPermStati(189,NULL,7,0,e.saveDC,$"Animate Shadows");
return 0;
},
28 {
if (GetHandle(EActor) == GetHandle(EVictim))
return 1;
if (EVictim->isBlind() || EVictim->HasMFlag(33))
return 1;
if (EVictim->HasStati(148))
return 1;
if (!EVictim->isHostileTo(EActor))
return 1;

if (!EVictim->HasEffStati(124,$"Animate Shadows;spot penalty"))
RedirectEff(e,$"Animate Shadows;spot penalty",28);

e.saveDC = EActor->GetEffStatiMag(189,$"Animate Shadows");
if (EVictim->SavingThrow(2,e.saveDC,0x00008000|0x00000001|0x00000800))
return 1;
if (EVictim->ResistLevel(28) == -1)
return 1;

if (EVictim->GetEffStatiMag(114,$"Animate Shadows") <= -5 &&
!EVictim->HasStati(10))
{
EVictim->IDPrint("You snap and panic!",
"The <hObj> snaps and panics!", EVictim);
EVictim->GainTempStati(10,NULL,5d6,7,1,0);
}
else {
if (EVictim->HasEffStati(114,$"Animate Shadows")) {
if (EVictim->GetEffStatiMag(114,$"Animate Shadows") <= -5) {
EVictim->IPrint("The shadows ripple...");
return 1;
}
EVictim->IncEffStatiMag(114,$"Animate Shadows",7,NULL,-1);
}
else
EVictim->GainPermStati(114,NULL,7,51,-1,$"Animate Shadows");

EVictim->IDPrint("The shadows ripple...",
"The <hObj> seems more paranoid.",EVictim);
}
return 1;
},
43
"The shadows seem to ripple at the edges of your vision.",
44 {
EActor->IPrint("The shadows seem more stable now.");
EActor->RemoveEffStati($"Animate Shadows;spot penalty");
EActor->RemoveEffStati($"Animate Shadows");
return 0;
};
}

Effect "Animate Shadows;spot penalty" : 3
{ xval: 124; yval: 44; pval: -6;
Desc: "Creatures within the area of an <9>animate shadows<1> spell
      suffer a -6 penalty to Spot checks."; }


50 Spell "Adamant Facade" : 3
{
0x00000020; Level: 3; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30;
#line "wspells.irh" 4858
xval: 79; yval: ((20+2000)+1000);
Desc: "This powerful spell wraps an illusion around the
      caster's body, causing her to appear to be in full
      health and unharmed by any attacks or maladies.
      Even should a sword stroke all but cripple her, it
      appears to onlookers as nothing more than a glancing
      blow.
      \n__This has the effect of causing sapient monsters to
      have a chance of retreating as if afraid after they or
      their allies strike the caster with no apparent effect.
      The chance of this happening is 1 in (10 - the caster's
      Charisma mod), and lowers by one for every attack from
      the same group of monsters after the first, until it
      reaches 1 in 1 and is certain. When it does occur, all
      members of the same group of monsters will flee at the
      same time. This is not magical fear, instead being a
      rational choice made in the face of a seemingly
      invincible foe. As such, it is unaffected by fear immunity
      and no saving throws apply.
      \n__Creatures with an Intelligence of 14 or higher have
      a chance of recognizing the guise for what it is and
      thus disbelieving it -- this chance is 5% per point of
      Intelligence above 14, rolled after every hit.
      \n__If this spell is cast at caster level 9 or higher,
      it conveys an additional benefit: when the caster is
      struck with a metal weapon, the weapon will seem to shatter
      upon hitting her, when in fact it merely falls from the
      attacker's hand and turns invisible to the attacker on
      the ground.";
hObj hLeader, hAlly, hPlayer, hSword;
On Event (((20+2000)+1000)+10000) {
int32 chance, x, y, count;
hLeader = EActor->getLeaderOrFirst();

if (hLeader->HasEffStati(189,$"Adamant Facade"))
return 0;
if (1d100 <= (EActor->GetAttr(3) - 14)*5)
{
EVictim->IPrint("The <hObj> disbelieves your adamant facade!",EActor);
EActor->IPrint("You realize that the <hObj>'s seeming
            invulnerability is merely an illusionary facade!",EVictim);
EActor->GainTempStati(189,EVictim,-2,7);
}
hLeader->IncEffStatiMag(190, $"Adamant Facade", 7, EVictim, +1);
hLeader->SetEffStatiDur(190, $"Adamant Facade", -2);
chance = 11 - EVictim->Mod(5);
chance -= hLeader->GetEffStatiMag(190,$"Adamant Facade");
if (1d(max(1,chance)) > 1)
return 0;
hPlayer = ((hObj)0);
count = 0;
for (x=hLeader->x-10;x <= hLeader->x+10;x++)
for (y=hLeader->y-10;y <= hLeader->y+10;y++)
if (EMap->InBounds(x,y))
for(hAlly=EMap->FCreatureAt(x,y);hAlly;
hAlly=EMap->NCreatureAt(x,y))
if (hAlly->isFriendlyTo(hLeader) && hAlly->Percieves(EVictim))
{
count++;
SetSilence();
hAlly->GainTempStati(10,NULL,-2,7,
4);
if (hAlly->isPlayer())
hPlayer = hAlly;
UnsetSilence();
}
VPrint(e,count > 1 ? "The <EActor> and <his:EActor> allies flee
        from your seeming invincibility!" : "The <EActor> flees from
        your seeming invincibility!", "");
if (hPlayer != ((hObj)0))
hPlayer->IPrint("You feel certain that the <hObj> is utterly immune
                           to your attacks!", EVictim);
if (EVictim->CasterLev() >= 7)
if (e.AType == 63 || e.AType == 67 ||
e.AType == 73 || e.AType == 74)
if ((hSword = EActor->InSlot(2)) && (EVictim->x != -1))
{
hSword->Remove(false);
#line "wspells.irh" 4939
hSword->PlaceAt(EMap, EVictim->x, EVictim->y);
EActor->IPrint("As you strike the <hObj>, your <hObj>
                                shatters!", EVictim, hSword);
EVictim->IPrint("The <hObj1> drops <his:hObj1> <hObj2> at your feet,
                                believing it destroyed.", EActor, hSword);
}
return 0;
};
}
#line "wspells.irh" 4953
50 / 2 Spell "Major Drain" : 1
{ 0x00000040; Base: 90; Cost: 6; Level: 3; xval: 6;
Purpose: 0x00001 | 0x00080 (1); cval: 15;
pval: (-126)d4; sval: 3;
qval: 0x0001|0x0004|0x0002; aval: 1;
Desc: "With this spell, the wizard drains the life and vital force from
      a target and adds it to his own. The target creature suffers 1d4
      vampiric damage per caster level. If this spell kills a target and the
      caster is a specialist necromancer, she can gain potencies and resistances 
      as if he had devoured the corpse.";
On Event 28 {
EActor->cHP = min(EActor->mHP+EActor->GetAttr(36),EActor->cHP + e.vDmg);
return 0;
};
On Event (28+1000) {
if (ETarget->isDead() || e.Died)
if (GetHandle(EActor) && !EActor->isDead() && EActor->isCreature()
&& ETarget->isMonster())
if ( EActor->GetStatiVal(37) == 6 )
EActor->DevourMonster(EVictim);
};
}

50 / 2 Spell "Vampiric Touch" : 4
{ 0x00000040; Base: 95; Cost: 5; Level: 3; sval: 0 partial;
aval: 6; lval: -83;
xval: 73; pval: (-114)d6; cval: 4;
tval: 75;
Flags: 4, 25, 86, 66, 61;
Purpose: 0x00001;
Desc: "Causes your touch attack to inflict 1d6 points of necromantic
      damage per odd caster level to living creatures; you also heal 
      damage taken up to the damage this spell actually inflicts. One 
      casting of this spell gives you a number of touches equal to your 
      caster level.";
On Event 206
"Your hands glow with a throbbing red aura." /
"The <EActor>'s hands glow with a throbbing red aura.";
}

50 / 2 Spell "Spirit Armor" : 3
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "wspells.irh" 4995
Flags: 83, 30;
xval: 106; yval: 17; pval: 9d1 + (-107);
On Event 52 {
ThrowDmg(41,0,3d6,"casting spirit armor",EActor,EActor);
if (EActor->Flags & 0x0008)
return 1;
return 0;
},
206
"A shimmering azure aura appears around you." /
"A shimmering azure aura appears around the <EActor>.",
(52+500) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("You cannot combine <9>spirit armor<7> with
            conventional armor.");
return 2;
}
return 0;
},
((13+1000)+10000) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("Your <9>spirit armor<7> is cancelled.");
EActor->RemoveEffStati($"spirit armor");
}
return 0;
};
Desc: "Forges a protective shield out of your own life essence, giving
      you defenses similar to plate armor (9 + 1/3 caster levels armor rating) 
      but costing you 3d6 of your own hit points. Spirit Armor counts as hwavy
      armor for the purposes of abilities like Defensive Roll, and is not
      compatable with mundane physical armor.";
}
and 3
{ xval: 79; yval: (13+1000); }


50 Spell "Blackmantle" : 3
{ 0x00000040; Base: 60; Cost: 5; Level: 3; qval: 0x0004;
xval: 79; yval: ((28+500)+2000);
Purpose: 0x00004;
Flags: 63, 61;
On Event 28
"A black aura surronds you." /
"A black aura surronds the <EVictim>.",
(((28+500)+2000)+10000) {
if (e.eval == 26 && EActor != NULL)
if (((int32)e.xval) & 0x01)
{
EActor->IPrint("Nothing happens.");
return 1;
}
return 0;
};
Desc: "Brings into existance around the target a black aura
      that prevents supernatural healing of any sort (but does not
      prevent regeneration).";
}
#line "wspells.irh" 5059
50 / 2 Spell "Animate Dead" : 46
{ 0x00000040; Base: 30; Cost: 6; Level: 3; tval: 31; cval: 4;
Flags: 6, 40, 41, 78;
aval: 11; lval: 6; Purpose: 0x00100 (21);
int32 ch, first;
On Event 52 {
ch = EActor->ChoicePrompt("Skeletons or Zombies?", "sz");
first = 1;
},
28 {
rID cmID; hObj zom;
if (!ETarget->isType(31))
return 1;
cmID = ETarget->GetCorpseType();
if (!cmID)
return 1;
#line "wspells.irh" 5082
if (ResourceLevel(cmID) > max(1,e.vCasterLev/2))
{
APrint(e,"The <hObj> shifts briefly, but does not move.",ETarget);
return 1;
}
zom = CreateMonster(cmID);
if (!zom)
return 2;

if (ch == 's')
zom->AddTemplate($"skeleton");
else
zom->AddTemplate($"zombie");

if (ETarget->Owner() == EActor)
zom->PlaceAt(EMap,EActor->x,EActor->y);
else
zom->PlaceAt(EMap,ETarget->x,ETarget->y);
zom->Initialize();
zom->PartyID = EActor->PartyID;

if (EActor->isPlayer()) {
SetSilence();
if (!zom->MakeCompanion(EActor,5)) {
UnsetSilence();
APrint(e,"The <hObj> shifts briefly, but does not move.",ETarget);
zom->Remove(true);
return 1;
}
UnsetSilence();
}

ETarget->Remove(true);
if (first) {
first = 0;
APrint(e,"The dead rise!");
e.isSomething = true;
}

if (zom->isMType(103) && zom->HasMFlag(53)) EActor->Transgress($"mara",5,false,"creating inherantly evil undead"); else if (zom->isMType(103) && !EActor->isMType(103) && EActor->isCharacter() && EActor->GodID == $"Mara") zom->GainPermStati(222,NULL,7,0x0004|0x0001); if (ETarget->HasStati(231,-1,EActor)) EActor->Transgress($"Mara",5,false,"desecrating foes' bodies"); if (!ETarget->HasEffStati(97,$"Mara")) if (zom->isMType(85)) EActor->gainFavor($"Mara",50); EActor->Transgress($"Immotian",7,false,"creating undead"); EActor->Transgress($"Hesani",7,false,"creating undead"); EActor->Transgress($"Xavias",4,false,"creating undead"); EActor->Transgress($"Erich",4,false,"creating undead"); EActor->Transgress($"Ekliazeh",6,false,"creating undead");
#line "wspells.irh" 5123
return 1;
};
Desc: "Casting this spell causes humanoid corpses within 60 feet of the
      caster to animate, permanently taking on unlife as either skeletons
      or zombies (at the caster's elective), enslaved to her.\n
      __There are two metaphysical powers that can be invoked on Theyra to
      animate the dead. The first is various archfiends, notably Orcus --
      the demon lord of undead. The second is the goddess of death, Mara.
      As such, casting this spell is an evil act (as a result of allying
      with fiends) unless the caster is devoted to Mara or has earned at
      least two blessings from her as a lay worshipper.";
}

50 Spell "Skull Trap" : 46
{
0x00000040; Base: 60; Level: 3; Cost: 9; qval: 0x0002;
Desc: "Casting this spell enchants a mundane skull, turning it into a
      malignant magical trap. The skull remains dormant until such a time
      as any living creature steps near it, at which point is rises up from
      the ground and spins around, jaw-bone clacking up and down as it
      emits a piercing howl inflicting 2d6 points of sonic damage and
      awakening all creatures within 60 squares. All creatures that witness
      this spectacle must make a Will saving throw or become afraid.
      Then, malignant red light begins to pour from the skull's eyes, and 
      after several seconds it explodes, inflicting 1d6 points of fire damage 
      per even caster level and 1d6 points of necromantic damage per odd 
      caster level, to the creature that awoke it. A Reflex saving throw 
      negates this damage.";
On Event 28 {
hObj hSkull;
hSkull = CreateTrap($"trap", $"skull trap;trap");
if (EActor->isPlayer())
hSkull->TrapFlags |= 0x0001;
hSkull->SetImage();
hSkull->PlaceAt(EMap,e.EXVal,e.EYVal);
hSkull->GainPermStati(189,EActor,7,0,0,$"Skull Trap");
return 1;
};
}

36 Effect "skull trap;trap" : 1
{
Desc: "A grinning human skull lies on the ground here.";
Flags: 18, 55; 0x00000040;
On Event (52+500) {
hObj hCaster;

hCaster = EItem->GetEffStatiObj(189,$"Skull Trap");
if (hCaster) {
SetEActor(e,hCaster);

e.isTrap = false;
}
EActor->MakeNoise(60);
return 0;
},
(52+1000) {
EItem->Remove(true);
return 0;
},
28 {
if (e.efNum == 2)
APrint(e,"The skull explodes!");
return 0;
},
206
"The skull rises from the ground, spins... and <12>*screams*<7>!";
aval: 11; lval: 6; cval: 4; xval: 10; pval: 2d6;
}
and 3
{ xval: 10; yval: 0; sval: 2; }
and 1
{ xval: 1; pval: (-106)d6; sval: 1; }
and 1
{ xval: 6; pval: (-114)d6; sval: 1; }



52 / 53 / 50 / 2 Spell "Water Walking" : 3
{ 0x00000080|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; sval: 3;
#line "wspells.irh" 5203
Purpose: 0x00010 | 0x00400; qval: 0x0004;
xval: 130;
Desc: "Causes one target creature to be able to walk on 
      water. That creature will suffer no ill effects from crossing
      deep water and need not make swimming checks.";
On Event 205 "WtrWlk" / "WW";
}

50 / 2 Spell "Haste" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3; qval: 0x0004;
#line "wspells.irh" 5213
xval: 106; yval: 54; pval: +10;
Desc: "IMultiplies one chosen target's attack speed and movement by 
      150%, and grants that same target a +4 circumstance bonus to 
      Defense. Alternatively, negates slow.";
On Event 28 {
if (EVictim->HasEffStati(-1,$"slow"))
{
EVictim->RemoveEffStati($"slow");
e.efNum = 2;
return 1;
}
if (e.efNum == 0)
VPrint(e,"You feel yourself speed up.",
"The <EVictim> seems to be moving faster.");
},
84
"You feel yourself slow down again." /
"The <EVictim> slows back down.";
}
and 3
{ xval: 106; yval: 26; pval: +10; }
and 3
{ xval: 117; yval: 27; pval: +4; }

50 / 51 Spell "Slow" : 3
{ 0x00000080; Base: 90; Cost: 7; Level: 3; qval: 0x0002; sval: 2;
aval: 11; lval: 3; xval: 106; yval: 54; pval: -10;
cval: 2; Purpose: 0x00004 | 0x00040;
Desc: "Slows the motion of all creatures in a 30 foot (3 square)
      radius globe at the time the spell is cast, causing them to
      suffer a -50% attack speed and movement rate, and a -2 circumstance
      penalty to defense. Alternatively, cancels haste.";
On Event 28 {
if (EVictim->HasEffStati(-1,$"haste"))
{
EVictim->RemoveEffStati($"haste");
e.efNum = 2;
return 1;
}
if (EVictim->HasEffStati(-1,$"alacrity"))
{
EVictim->RemoveEffStati($"alacrity");
e.efNum = 2;
return 1;
}
if (e.efNum == 0)
VPrint(e,"You feel yourself slow down.",
"The <EVictim> seems to be moving slower.");
},
84
"You feel yourself speed up again." /
"The <EVictim> is moving normally again.";
}
and 3
{ xval: 106; yval: 26; pval: -10; aval: 11; sval: 2; }
and 3
{ xval: 117; yval: 27; pval: -2; aval: 11; sval: 2; }

50 / 2 Spell "Polymorph Self" : 32
{ 0x00000080; Base: 60; Cost: 10; Level: 3;
Flags: 78, 25, 66; Purpose: 0x00010;
Desc: "Changes you into a random monster of your own challenge
      rating or lower, at the cost of 2 fatigue points.";
On Event (52+500) {
if (EActor->HasStati(103))
{
EActor->IPrint("The interaction of multiple polymorph
            effects tears at your metabolism!");
ThrowDmg(41,8,3d6,"polystrain",EActor,EActor);
}
if (EActor->isDead())
return 1;
EActor->LoseFatigue(2,false);
return 0;
};
}

50 / 2 Spell "Fly" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "wspells.irh" 5292
xval: 127; yval: 1; Purpose: 0x00010 | 0x00400;
Desc: "Grants advantages similar to levitation, but without the
      penalties and grants an additional +2 circumstance bonus to
      attack rolls and defense class. You cannot fly while mounted,
      and the spell affects only humanoid casters. When flying, you
      need to make a Balance check to cast spells with somatic 
      components and potentially suffer knockback when you are 
      struck in combat."; }
and 3
{ xval: 117; yval: 50; pval: +2; }
and 3
{ xval: 117; yval: 27; pval: +2; }
and 3
{ xval: 79; yval: (110+500);
On Event (28+500) {
if (EVictim->HasStati(87))
ThrowVal(111,1,EVictim,
EVictim->GetStatiObj(87));
if (EVictim->HasStati(87))
return 2;
if (!EVictim->HasMFlag(1))
return 2;
return 0;
},
((110+500)+10000) {
EActor->IPrint("First, you cancel your <9>fly<7> spell.");
EActor->RemoveEffStati($"Fly");
return 0;
};
}

50 / 2 Spell "Gaseous Form" : 25
{ 0x00000080|0x00001000; Base: 90; Cost: 1; Level: 3; Flags: 66;
Desc: "Transforms the caster into an animate cloud of grey vapours.
      In this state the caster cannot cast spells, but it also immune
      to most forms of physical attack. The gaseous form moves very
      slowly at 30~ of normal human speed."; }




50 / 2 Spell "Blink" : 3
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "wspells.irh" 5335
xval: 145; yval: 2; pval: 50;
Desc: "Causes the caster to flicker in and out of the etherial
      plane, giving attacks against him a 50~ miss chance. Creatures
      that can see invisible or are using a ghost touch weapon ssuffer only a 
	  25~ miss chance, and creatures who can do both do not suffer 
	  any miss chance at all.";
On Event 28
"Your body begins to flicker in and out of sight..." /
"The <EVictim>'s body begins to flicker in and out of sight...",
84
"You stop flickering." /
"The <EVictim> stops flickering."; }

50 / 2 Spell "Monster Summoning III" : 9
{ 0x00000100; Base: 75; Cost: 6; Level: 3; qval: 0x0002;
Purpose: 0x00100; xval: 75; pval: 3;
Desc: "Summons a living creature of CR 3 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 3+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 5355
50 / 1 Spell "Dimension Door" : 6
{ 0x00000100; Base: 90; Cost: 6; Level: 3; pval: 2d20+-101;
Purpose: 0x00008; xval: 2;
Flags: 45, 75, 45;
Desc: "Casting this spell teleports you randomly 2d20+(caster level) squares away."; }

50 / 2 Spell "Rope Trick" : 46
{ 0x00000100; Base: 75; Cost: 15; Level: 3;
Purpose: 0x00000; Flags: 45;
On Event 28 {
hObj hPortal;
hPortal = CreatePortal($"dangling rope");
hPortal->PlaceAt(EMap,EActor->x,EActor->y);
return 1;
},
(52+500) {
if (EMap->RegionAt(EActor->x,EActor->y) ==
$"Extradimensional Space;rope trick")
{
EActor->IPrint("Don't cross the streams!");
return 2;
}
if (!EActor->ConsumeRope(15))
return 2;
};
Desc: "Casting this spell enchants a rope, causing it to
      rise up and seem to hang down from empty air; when the 
      caster climbs the rope, she vanishes. In truth, the rope 
      leads to a tiny extradimensional space -- a kind of safe 
      sanctuary where the caster can rest and recuperate. 
      Casting this spell thus consumes 15 feet of rope.\n
      __The caster is safe to rest for as long as desired in
      the pocket space created by the spell, but as soon as
      she leaves the portal and re-enters the real world, the
      effect ends and the rope is drawn back up into the space.
      However, the tiny pocket dimension serves as only a weak
      bulkhead against the entropy and dissolution of the astral
      plane, and those who rest there often find that the mental
      plane's nearness saps away some of their recent learning
      and will -- in game terms, costing 150 XP.\n
      __Since the tiny pocket world is created anew with every 
      casting of the spell, any items the caster has left on
      the floor in the extradimensional space will be cast
      out into the depths of the astral plane when the caster
      herself leaves, thus being lost forever.\n
      __Taking other extradimensional spaces, such as a bag of
      holding or a Howard's Handy Haversack, into the space
      created by a rope trick causes a disasterous magical
      explosion with unpredictable effects.";
}

Region "Extradimensional Space;rope trick" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Grid:{:
      ###################
      ######.......######
      ####...........####
      ###.............###
      ##...............##
      ##...............##
      #.................#
      #........>........#
      #.................#
      ##...............##
      ##...............##
      ###.............###
      ####...........####
      ######.......######
      ###################
      :}
 ;
Flags: 15;
Tiles:
'>': $"floor" with $"portal;rope trick" [0x08];
On Event (45+1000) {
EActor->IPrint("Resting so close to the magical radiations of
        the astral plane saps away some of your sense of identity
        and recent learning.");
EActor->LoseXP(150);
return 0;
};
}

Feature "dangling rope" : 10
{
Image: bright green '<';
Mat:6;
xval:7;
Target: $"Extradimensional Space;rope trick";
}

Feature "portal;rope trick" : 10
{
Image: bright green '>';
Mat:31;
xval:10;
Target: $"dangling rope";
On Event (50+500) {
hObj hDropped;
for (hDropped = EMap->FirstThing();
hDropped; hDropped = EMap->NextThing())
if (!hDropped->isPlayer())
if ((!hDropped->isFeature()) ||
hDropped->fID != $"portal;rope trick")
hDropped->Remove(true);
return 0;
},
(50+1000) {
hObj hRope;
for (hRope = EMap->FFeatureAt(EActor->x,EActor->y);hRope;
hRope = EMap->NFeatureAt(EActor->x,EActor->y))
if (hRope->fID == $"dangling rope")
hRope->Remove(true);
return 0;
};
}


50 Spell "Conjure Vortex" : 9
{ 0x00000100; Base: 60; Cost: 15; Level: 3; qval: 0x0002;
Purpose: 0x00100; xval: 29; pval: 5;
Flags: 25, 95;
Desc: "Casting this spell opens a conduit to the turbulent para-elemental
      or quasi-elemental planes, calling forth a vortex with a Challenge Rating
      of up to five. The creature lasts longer then one summoned with Monster
      Summoning III, and is typically more powerful, but opening the conduit is
      draining for the caster, costing her two Fatigue points. The caster also
      needs to succeed on a Knowledge (Planes) check against DC 10 to open the
      conduit, or the effect is wasted and the caster suffers 2d6 points of
      damage from trauma.";
On Event 52 {
if (!EActor->LoseFatigue(2,true))
return 2;
if (!EActor->SkillCheck(29,10,true))
{
EActor->IPrint("You fail to open the <hText>elemental conduit properly!",
1d2 == 1 ? "quasi" : "para");
ThrowDmg(41,1+random(9),2d6, "a warped conduit",
EActor, EActor);
return 1;
}
return 0;
},
(28+1000) {
hObj hVortex;
hVortex = EMap->GetEncounterCreature(0);
if (hVortex == ((hObj)0))
return 0;
if (hVortex->ChallengeRating() <= 3)
hVortex->AddTemplate($"turbulent");
return 0;
};
}

52 / 2 / 50 Spell "Greater Magic Weapon" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; qval: 0x0008;
#line "wspells.irh" 5510
Desc: "Casting this spell temporarily enchants a single weapon (or
      a stack of ammunition) with a magical bonus of +1 per three caster
      levels, to a maximum of +5 at 15th. This bonus does 
      not stack with any other magical bonus the weapon may have. 
      Magical weapons strike true against undead, outsiders and many 
      other fiends.";
hObj it;
On Event
155 {
if (ETarget->isType(58))
if (ETarget->GetQuantity() == 1)
return 1;
if (ETarget->isType(45))
return 1;
if (ETarget->isMonster())
if (ETarget->InSlot(2) != ((hObj)0))
if (ETarget->InSlot(2)->GetPlus() <
max(1,min(5,EActor->CasterLev() / 3)))
return 0;
return -1;
},
157 {
if (EItem->isType(58))
return 0;
return 2;
},
(52+500) {
if (ETarget->isMonster())
SetETarget(e,ETarget->InSlot(2));
return 0;
},
83 {
ETarget->GainTempStati(185,EActor,e.vDuration,2,1,
max(1,min(5,e.vCasterLev / 3)), $"greater magic weapon", e.vCasterLev);
VPrint(e,"","The <EVictim> gives off a soft silvery glow.");
return 1;
};
Constants:
* 109 150;
}
#line "wspells.irh" 5581
50 / 52 / 53 Spell "Protection from Fire" : 3
{ 0x00000001|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5583
xval: 104; yval: 1; pval: 10d1 + (-101);
Desc: "Grants the target fire resistance equal to 10 plus
      her caster level."; }

50 / 52 / 53 Spell "Protection from Cold" : 3
{ 0x00000001|0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5589
xval: 104; yval: 2; pval: 10d1 + (-101);
Desc: "Grants the target cold resistance equal to 10 plus
      her caster level."; }

50 / 52 / 53 Spell "Protection from Lightning" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5595
xval: 104; yval: 4; pval: 10d1 + (-101);
Desc: "Grants the target lightning resistance equal to 10 plus
      her caster level."; }


50 / 52 / 53 Spell "Protection from Acid" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5602
xval: 104; yval: 3; pval: 10d1 + (-101);
Desc: "Grants the target acid resistance equal to 10 plus
      her caster level."; }

50 / 52 / 53 Spell "Protection from Sound" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5608
xval: 104; yval: 10; pval: 10d1 + (-101);
Desc: "Grants the target acid resistance equal to 10 plus
      her caster level."; }

50 / 53 Spell "Endure the Elements" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 4; qval: 0x0004;
#line "wspells.irh" 5614
xval: 104; yval: 10; pval: 3d1 + (-106);
On Event 205 "EndureElem" / "EE";
Desc: "Grants the target resistance equal to 3 plus
      1 per 2 caster levels against Fire, Cold, Lightning, Acid and Sound."; }
and 3 { xval: 104; yval: 1;
flags: 25; pval: 3d1+(-106); }
and 3 { xval: 104; yval: 2;
flags: 25; pval: 3d1+(-106); }
and 3 { xval: 104; yval: 4;
flags: 25; pval: 3d1+(-106); }
and 3 { xval: 104; yval: 3;
flags: 25; pval: 3d1+(-106); }

50 Spell "Wandwierd" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4; aval: 9;
#line "wspells.irh" 5629
cval: 13; lval: 9; rval: 0x00000004;
xval: 79; yval: (7+500); Flags: 34;
On Event ((7+500)+10000) {
DPrint(e,"Nothing happens.",
"The <EActor> zaps an <EItem>, but nothing happens.");
return 1;
};
Desc: "Creates a zone 90 feet (9 squares) in radius that moves with the
      caster in which nobody other than the caster can use wands.";
}

50 / 52 / 2 Spell "Dismissal" : 6
{ 0x00000001; 0x00000100; Base: 60; Cost: 8; Level: 4; pval: 4d12+-102;
Purpose: 0x00008 | 0x00004 | 0x01000;
xval: 2; sval: 2; qval: 0x0004;
Flags: 34, 89;
Desc: "Teleports an enemy who fails a Will save 4d12+(caster level x 2) 
      squares away. The save DC of Dismissal gains a +4 spell bonus."; }
#line "wspells.irh" 5660
50 Spell "Aura of Abjuration" : 3
{ 0x00000001; 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 40; Level: 4; Purpose: 0x00010;
#line "wspells.irh" 5662
Desc: "This spell evokes an invisible aura around the caster's body
      that casts away anyone who tries to contact her physically, whether
      with an unarmed attack or a melee weapon -- thrown or fired weapons
      do not trigger the effect. For every such attack, the victim must
      make a Will saving throw or be teleported away from the caster as
      per the spell <9>phase door<1>. A single successful save renders
      that given creature immune to the spell for the remainder of the
      day, but does not break the spell with regard to other creatures.";
xval: 79; yval: ((19+500)+2000); sval: 2 + 10;
On Event (28+1000) {

EVictim->GainTempStati(190,NULL,e.vDuration,
2,e.MM,e.saveDC,$"Aura of Abjuration", e.vCasterLev);
return 0;
},
(((19+500)+2000)+10000) {
int32 svDC;
if (e.AType == 112 ||
e.AType == 41 ||
e.AType == 65)
return 0;
if (EActor->HasEffStati(189,$"Aura of Abjuration"))
return 0;
if (EActor->GetAttr(18) > 1d100)
return 0;
svDC = EVictim->GetEffStatiMag(190,$"Aura of Abjuration");
if (EActor->SavingThrow(2,svDC,0x00000001|0x00008000))
{
VPrint(e,"The <EActor> breaks your <9>Aura of Abjuration<7>!",
"You overcome a nearly tangible resistance to strike 
                     the <EVictim>!");
EActor->GainTempStati(189,EVictim,-2,7,0,0,
$"Aura of Abjuration");
return 0;
}
if (!(EActor->HasStati(133) || EVictim->HasStati(133)))
VPrint(e,"As <he:EActor> moves to strike you, the <EActor> is cast back!",
"You are cast away from the <EVictim>!");
ThrowEff(83,$"phase door",EVictim,EActor);
return 2;
};
}



50 / 53 / 2 Spell "Solid Fog" : 5
{ 0x00000002|0x00001000|0x00008000; Base: 90; Cost: 8; Level: 4; qval: 0x0002; sval: 3;
Purpose: 0x00004 | 0x00040 | 0x01000;
xval: 9; rval: $"solid fog bank"; aval: 11; lval: 4;
Desc: "Creates a bank of solid fog. Solid fog reduces movement to 15~
    of normal and deflects all physical missiles.";
On Event 206
"A bank of solid fog appears!",
74
"The bank of solid fog fades away."; }

50 / 53 / 2 Spell "Transmute Rock to Mud" : 5
{ 0x00000002|0x00002000; Base: 90; Cost: 8; Level: 4; aval: 11; lval: 3;
xval: 2; rval: $"shallow mud"; Purpose: 0x00400 | 0x02000;
qval: 0x0002; Flags: 54;
Desc: "Turns all walls within a 30 foot (3 square) radius of the
      targeted square into mud.";
On Event 28
"The rock collapses into thick mud!"; }

50 Spell "Tremor" : 4
{ 0x00000002|0x00002000; Base: 90; Cost: 8; Level: 4;
aval: 11; lval: 6; qval: 0x0002;
xval: 67; sval: 1 + 10; cval: 6;
Purpose: 0x00004;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (ETarget->isAerial())
return -1;
return 0; },
52
"The floor shakes violently!",
28
"The <EVictim> falls down." /
"You fall down!" /
"The <EVictim> falls down.",
(28+500) {

if ((e.efNum == 1) && !EVictim->HasStati(15))
return 1;
return 0;
};
Desc: "Causes a 60 foot (6 square) radius area to shake violently,
      knocking anyone who fails a Reflex save off their feet and inflicting
      2d12 points of blunt damage to those who fall.";
}
and 1
{ xval: 13; pval: 2d12; }

50 / 53 / 2 Spell "Wall of Fire" : 5
{ 0x00000010|0x00004000; Base: 90; Cost: 8; Level: 4; lval: 6;
qval: 0x0001;
xval: 9; aval: 8; Flags: 25;
rval: $"curtain of flame"; pval: 2d6 + (-125);
Purpose: 0x00800 | 0x00004 | 0x00040 | 0x01000;
On Event 52 {
switch (e.DType) {
case 1: e.rval = $"curtain of flame"; break;
case 2: e.rval = $"curtain of frost"; break;
case 3: e.rval = $"curtain of acid"; break;
case 10: e.rval = $"curtain of vibrating air"; break;
case 5: e.rval = $"curtain of toxic gas"; break;
case 4: e.rval = $"curtain of lightning"; break;
}
APrint(e,"A <Res> flares into existance!",e.rval);
return 0; };
Desc: "Creates a curtain of violet flames which causes (2d6
      + caster level) points of fire damage to any creature
      which passes through it."; }

Terrain "curtain of flame"
{ Image: magenta ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(1);
if ( rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Flames sear you!","Flames sear the <EActor>!");
ThrowTerraDmg(41,1,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of fire",EActor, $"curtain of flame");
return 1;
};
}

Terrain "curtain of frost"
{ Image: bright cyan ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(2);
if ( rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Frost chills you!","Frost chills the <EActor>!");
ThrowTerraDmg(41,2,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of frost",EActor, $"curtain of frost");
return 1;
};
}

Terrain "curtain of acid"
{ Image: bright green ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(3);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Acid burns you!","Acid burns the <EActor>!");
ThrowTerraDmg(41,3,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of acid",EActor, $"curtain of acid");
return 1;
};
}

Terrain "curtain of vibrating air"
{ Image: bright white ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(10);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Sonic vibration tears at you!","Sonic vibration tears at the <EActor>!");
ThrowTerraDmg(41,10,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of vibrating air",EActor, $"curtain of vibrating air");
return 1;
};
}

Terrain "curtain of toxic gas"
{ Image: green ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(5);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Toxins poison you!","Toxins poison the <EActor>!");
ThrowTerraDmg(41,5,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of toxic gas",EActor, $"curtain of toxic gas");
return 1;
};
}

Terrain "curtain of lightning"
{ Image: bright yellow ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(4);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Lightning shocks you!","Lightning shocks the <EActor>!");
ThrowTerraDmg(41,4,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of lightning",EActor, $"curtain of lightning");
return 1;
};
}

50 Spell "Copy" : 46
{ 0x00000002; Base: 95; Cost: 50; Level: 4; qval: 0x0008;
Flags: 78, 40, 6;
Purpose: 0x00000;
tval: 22;
Desc: "Creates a duplicate copy of any spellbook that you choose
      to cast it upon.";
On Event 28 {
hObj new_book;
new_book = CreateItem(ETarget->iID);
if (!new_book)
return -1;
EActor->GainItem(new_book,false);
return 1;
};
}

50 / 2 Spell "Fabricate" : 3
{ 0x00000002; Base: 75; Cost: 25; Level: 4;
Desc: "Casting this spell allows a mage to shape inanimate material
      with her mind alone, doing the work of a master craftsman without
      the need for tools. Raw material can be turned into a finished
      product with ease. In game terms, casting this spell grants the
      mage a +10 bonus on her next single Craft skill check, and also
      frees her from the requirement to have a skill kit or forge to 
      perform certain functions with Crafts.";
xval: 124; yval: 9; pval: +10; }
and 3
{ xval: 44; yval: 9;
Flags: 13, 61; }



50 Spell "Track Monster" : 46
{ 0x00000004; Base: 95; Cost: 3; Level: 4; qval: 0x0004;
Purpose: 0x00000;
Flags: 85;
On Event 155 {
if (ETarget->HasMFlag(33))
return -1;
if (!ETarget->isMType(75))
return -1;
return 0;
},
28 {
EActor->RemoveEffStati($"track monster");
EActor->GainTempStati(73,EVictim,e.vDuration,2,0,
126,$"track monster");
EActor->IPrint("You psychically lock on to the <hObj>'s mind.", EVictim);
};
Desc: "Allows you to mystically track a single creature in 
	  a manner similar to a ranger's tracking ability. Mindless and
	  non-living creatures are immune.";
}

50 / 2 Spell "Premonition" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 3; Level: 4;
#line "wspells.irh" 5943
xval: 108; yval: 27; pval: 15;
Desc: "Gives you forewarning of the next attack made against you,
      granting a +15 insight bonus to your Defense Class versus the
      next single melee, unarmed or missile attack made against you."; }
and 3
{ xval: 79; yval: ((27+1000)+2000);
On Event (((27+1000)+2000)+10000)
{ EVictim->RemoveEffStati($"Premonition");
return 0; },
205 "Premonition" "Prem"; }

50 Spell "Detect Magic" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 40; Level: 4; xval: 153;
#line "wspells.irh" 5956
yval: 0; pval: 25d1 + (-102);
Desc: "Reveals all magical items or creatures carrying magical
      items, seen or unseen, within (25 + [caster level x 2]) 
      squares of you.";
On Event 205 "DetMag" / "DMag",
158
{
hObj h;
if (EActor->isType((-4)))
if (EActor->isMagic())
return 1;
if (EActor->isType((-2)))
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isMagic())
return 1;
return -1;
};
}

50 Spell "Nemesis Spell" : 46
{ 0x00000004; Base: 60; Cost: 26; Level: 4; pval: 5;
Purpose: 0x00004 (1);
On Event 155 {
if (EVictim->ChallengeRating() > e.vCasterLev)
return -1;
if (EVictim->HasMFlag(33))
return -1;
if (EVictim->isMType(48))
return -1;
return 0;
},
170 {
e.vDuration = 13;
if (e.MM & 0x00000004)
e.vDuration *= 2;
return 0;
},
28 {
EActor->GainTempStati(79,EVictim,e.vDuration,2,
19, e.vDmg, $"Nemesis Spell", e.vCasterLev);
EActor->GainTempStati(79,EVictim,e.vDuration,2,
(19+2000), e.vDmg, $"Nemesis Spell", e.vCasterLev);
EActor->IPrint("You invoke the Fates to declare yourself the
                        <hObj>'s mortal nemesis!", EVictim);
EVictim->IPrint("You feel very gravely threatened.");
return 1;
},
(19+10000) {
int32 bonus;
bonus = EActor->GetEffStatiVal(79,$"Nemesis Spell");
if (GetHandle(EVictim) == EActor->GetEffStatiObj(
79,$"Nemesis Spell")) {
if (EVictim->XORStatiVal(211) & 0x0100)
return 0;
e.vHit += bonus;
e.vDmg += bonus;
e.strHit += Format(" %+d NS", bonus);
e.strDmg += Format(" %+d NS", bonus);
}
else {
e.vHit -= bonus;
e.vDmg -= bonus;
e.strHit += Format(" %+d NS", -bonus);
e.strDmg += Format(" %+d NS", -bonus);
}
return 0;
},
((19+2000)+10000) {
int32 bonus;
bonus = EVictim->GetEffStatiVal(79,$"Nemesis Spell");
if (GetHandle(EActor) == EVictim->GetEffStatiObj(
79,$"Nemesis Spell")) {
if (EActor->XORStatiVal(211) & 0x0100)
return 0;
e.vDef += bonus;
e.strDef += Format(" %+d NS", bonus);
}
else {
e.vDef -= bonus;
e.strDef += Format(" %+d NS", -bonus);
}
return 0;
},
74 {
EActor->IPrint("The Fates extract their grim price!");
if (EActor->isCharacter())
EActor->LoseXP(2000);
};
Desc: "Casting this spell, the wizard designates herself as the Fates'
      chosen instrument of vengeance against a single chosen target, which
      must be a creature possessed of a mind and native to the Prime
      Material plane -- outsiders are not influenced by fate in the sense
      this spell affects. Once cast, for the next 13 rounds the wizard 
      gains such exceptional insight into the target creature that she
      recieves a +5 bonus to hit and damage that creature, and a +5 bonus 
      to defense class against that creature's attacks.\n
      __However, this power comes at a price. All attacks made against
      other creatures while the spell is active suffer a -5 penalty to
      hit and damage, and the caster has a -5 penalty to her Defense Class
      against others' attacks on her. If the caster has not
      destroyed the target by the time the spell expires, the fates extract
      a penalty from her own karma, costing her 2000 XP permanently.\n
      __If the target is subject to <9>nondetection<1> or a similar effect,
      no insight (and thus no bonuses) are gained, but the penalties remain
      and the creature must still be destroyed within 13 rounds.";
}

50 Spell "Mord's Lucubration" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 4;
#line "wspells.irh" 6065
xval: 155; yval: 6; pval: 1d4+-109;
Desc: "Casting this spell allows you to cast any other arcane
      spell of up to sixth level that you know but do not have a 
      scroll or spellbook for -- the Lucubration allows perfect 
      recall of the spell's details without a physical referance. 
      A single casting of Lucubration allows you to so recall 1d4 
      spells, plus 1 per 5 caster levels."; }
and 3
{ xval: 79; yval: (37+1000);
On Event ((37+1000)+10000)
{
hObj h; int32 i;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
{
if (h->isType(50))
if (h->ieID == e.eID)
return 0;
if (h->isType(22))
if (h->HasSpell(e.sp))
return 0;
}
i = EActor->GetEffStatiMag(155,$"Mord's Lucubration");
if (i <= 1)
EActor->RemoveEffStati($"Mord's Lucubration");
else
EActor->SetEffStatiMag(155,$"Mord's Lucubration",i-1);
return 0;
},
37
{
if (EActor->HasEffStati(155,$"Mord's Lucubration"))
{
EActor->IPrint("You cannot stack multiple castings of 
              <9>Mord's Lucubration<7>.");
return 2;
}
return 0;
},
205 "MordLuc" / "Luc";
}




50 / 2 Spell "Charm Monster" : 3
{ 0x00000008; Base: 75; Cost: 9; Level: 4; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 137; yval: 1; Flags: 25, 53;
Desc: "Improves a hostile, sapient creature's temperment
      towards you, such that it ceases attacking and becomes a
      neutral creature.";
On Event 28
"The <EVictim> gives way to your charm." /
"You fall under the influence of the <EActor>." /
"The <EVictim> falls under the influence of the <EActor>.",
74
"You shake off the effect of the charm." /
"The <EActor> shakes off the effect of the charm.";
}

50 Spell "Confusion" : 3
{ 0x00000008; Base: 75; Cost: 8; Level: 4; sval: 2;
xval: 6; aval: 11; lval: 3; cval: 3;
Purpose: 0x00004 | 0x00040; qval: 0x0002;
Flags: 34, 53;
Desc: "Causes all living creatures within 30 feet of the target
      point to become confused, if they fail a Will saving throw.";
}
#line "wspells.irh" 6148
50 / 2 Spell "Emotion" : 46
{ 0x00000008; Base: 75; Cost: 8; Level: 4; sval: 2;
qval: 0x0004; Flags: 53; int32 ch;
Purpose: 0x00000;

On Event 52 {
if (EActor->isPlayer())
ch = EActor->ChoicePrompt("Love, Hate, Despair, Terror, Fury or Hope?","lhdtfo");
else if (EActor->isHostileTo(EVictim))
{
if (random(2))
ch = 't';
else
ch = 'l';
}
else
{
if (random(2))
ch = 'o';
else
ch = 'f';
}
return 0;
},
28 {
hObj h;
switch (ch) {
case 'l':
TPrint(e,"The <EVictim> falls under your sway.",
"You are in thrall to the <EActor>.",
"The <EVictim> falls under the <EActor>'s sway.");
EVictim->GainTempStati(137,EActor,e.vCasterLev+10,2,3,0,$"emotion");
break;
case 'h':
VPrint(e,"You feel an unspeakable hate well up within you.",
"The <EVictim>'s face twists with hatred.");
EVictim->GainTempStati(147,EActor,e.vDuration,2,0,0,$"emotion");
break;
case 'd':
VPrint(e,"You are is overcome with despair.",
"The <EVictim> is overcome with despair.");
EVictim->GainTempStati(9,EActor,1d4+1,2,1,0,$"emotion");
break;
case 't':
VPrint(e,"You feel panic overwhelm your reason.",
"The <EVictim> turns and runs.");
if (h = EVictim->InSlot(2))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
if (h = EVictim->InSlot(1))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
EVictim->GainTempStati(10,EActor,e.vDuration,2,0,0,$"emotion");
break;
case 'f':
VPrint(e,"You fly into a berzerk rage!",
"The <EVictim> flies into a berzerk rage.");
EVictim->GainTempStati(66,EActor,e.vDuration,2,0,+2,$"emotion");
break;
case 'o':
VPrint(e,"You feel uplifted.",
"The <EVictim> gets a second wind!");
EVictim->GainTempStati(106,EActor,e.vDuration,2,51,+1,$"emotion");
break;
}
return 1;
};
Desc: "Allows you to inflict one of six emotions (love, hate, despair,
      terror, fury or hope) on a single target, with varying game effects.";
}

50 / 2 Spell "Fear" : 46
{ 0x00000008; Base: 75; Cost: 7; Level: 4; sval: 2;
qval: 0x0001; Flags: 53, 89, 70; aval: 2;
Purpose: 0x00004 (9); lval: 8; cval: 5;
On Event 28 {
hObj h;
if (EVictim->ResistLevel(0x08000000) == -1) {
e.Immune = true;
return 1;
}
VPrint(e,"You feel panic overwhelm your reason.",
"The <EVictim> turns and runs.");
if (h = EVictim->InSlot(2))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
if (h = EVictim->InSlot(1))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
EVictim->GainTempStati(10,EActor,e.vDuration,2,0,0,$"emotion");
};
Desc: "Produces an invisible cone of terror out to a range of 80 feet, causing 
      all creatures with minds within its area of effect to drop their weapons and 
      flee if they fail a Will saving throw; this spell grants a +4 bonus to its 
      save DC.";

}
#line "wspells.irh" 6261
50 / 51 Spell "Crushing Despair" : 3
{ 0x00000008; Base: 75; Cost: 7; Level: 4; aval: 2; qval: 0x0001|0x0004;
xval: 114; yval: 51; pval: -2; lval: 3;
Purpose: 0x00004; cval: 8; Flags: 53;
Desc: "Projects a ray of despair at the caster's enemies inflicting
      at -2 morale penalty on attack rolls, saving throws, 
      spellcasting, and weapon damage rolls. There is no resistance
      to this effect."; }
and 3
{ aval: 2;
xval: 114; yval: 53; pval: -2; lval: 3; }

50 Spell "Fire Charm" : 3
{ 0x00000008|0x00004000; Base: 90; Cost: 9; Level: 3; sval: 2;
aval: 11; lval: 6; cval: 4; qval: 0x0002;
Flags: 53, 34, 89;
xval: 9; yval: 1;
#line "wspells.irh" 6281
Desc: "This spell enchants a source of open, sustained 
      flame or molten stone (such as a wall torch, fire elemental
      or magma square), causing it to be hypnotically compelling
      and forcing creatures to stare at it blankly, paralyzed.
      You must target a square with a source of flame for this
      spell to be effective, and it only affects creatures who
      can see and have a mind.";
On Event (52+500) {
rID terID; hObj hMon;
terID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (terID == $"magma" || terID == $"Wall Torch")
return 0;
for (hMon = EMap->FCreatureAt(e.EXVal, e.EYVal);hMon;
hMon = EMap->NCreatureAt(e.EXVal, e.EYVal))
{
if ((hMon != ((hObj)0)) &&
hMon->isMType(38) &&
hMon->isMType(95))
return 0;
if ((hMon != ((hObj)0)) &&
hMon->tmID == $"flaming sphere")
return 0;
}
EActor->IPrint("You must target a square with a source of
        flame to use that spell.");
return 2;
},
155 {
if (EVictim->HasMFlag(6) || EVictim->HasMFlag(33))
return -1;
return 0;
};
}
#line "wspells.irh" 6323
50 Spell "Force Missiles" : 1
{ 0x00000010|0x00010000; Base: 90; Cost: 7; Level: 4; sval: 3;
xval: 8; pval: (-110)d4;
Purpose: 0x00001;
aval: 1; qval: 0x0001 | 0x0004; cval: 18;
Desc: "This spell creates a brilliant globe of magical energy that
    streaks forth from the caster's hand to unerringly strike its target,
    much like a Magic Missile spell. Each missile does 2d4 points of damage
    and the caster fires one missile for every three caster levels. In
    addition, the missiles burst on impact and deal concussive damage
    equal to twice the caster's level to all creatures within a 10 foot
    (1 square) radius.";
} and 1 {
sval: 1; xval: 13; pval: (-102)d1; aval: 3;
lval: 2; cval: 18; Flags: 34;
}

50 / 2 Spell "Shout" : 1
{ 0x00000010; Base: 90; Cost: 12; Level: 4; lval: 5; cval: 28;
qval: 0x0001; xval: 10; sval: 0 partial; Flags: 58;
pval: (-106)d10; aval: 2; Purpose: 0x00001; }
and 3
{ xval: 5; sval: 2; aval: 2; lval: 5;
Desc: "Amplifies a shout into a shattering cone of sound that
      inflicts 1d10 points of damage for every 2 caster levels (Fortitude 
      save for half) and stuns anyone who fails a Will save.";
On Event 200 "deafening shout"; }

50 / 53 Spell "Ice Storm" : 1
{ 0x00000010|0x00000800; Base: 75; Cost: 8; Level: 4; lval: 6; aval: 3;
xval: 2; sval: 1 partial; pval: 3d10+(-101);
Flags: 62, 32; Purpose: 0x00001; cval: 9;
On Event 200 "storm of hail"; qval: 0x0002;
Desc: "This spell can be cast in one of two forms, at the caster's
      elective, as follows:\n
      __<9>Hail Storm:<1> Conjures a brief storm of biting cold and huge, hard 
      hailstones in a 60 foot (6 square) radius area, inflicting 3d10 points of
      damage, plus one per caster level. Half this damage is cold damage; the
      other half is trauma damage, and cannot be avoided by resistances.\n
      __<9>Sleet Storm:<1> Driving sleet blocks all sight (even darkvision) 
      within it and causes the ground in the area to be icy. A creature can 
      walk within or through the area of sleet at half normal speed with a DC 
      15 Balance check. Failure means it can't move in that round, while 
      failure by 5 or more means it falls.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Hail or sleet?","hs",(1d2 == 2) ? 'h' : 's');
if (ch == 's')
{
RedirectEff(e,$"sleet storm",52);
return 1;
}
return 0;
};
}

Effect "Sleet Storm" : 5
{ 0x00000010|0x00000800; aval: 11; lval: 8;
xval: 9; rval: $"storm of sleet"; qval: 0x0002;
Purpose: 0x00040 | 0x00004 | 0x01000;
Flags: 40;
sval: 3;
Desc: "";
On Event 206
"A storm of sleet materializes out of nowhere!",
74
"The sleet storm stops."; }



50 Spell "Vitriolic Sphere" : 1
{ 0x00000010; Base: 75; Cost: 8; Level: 4; Purpose: 0x00001;
xval: 3; pval: (-99)d8;
aval: 1; qval: 0x0001 | 0x0004; cval: 2;
Desc: "Projects a emerald globe of acid that strikes a target
      to inflict 1d8 damage per two caster levels (max 5d8) instantly, 
      plus 1d4 points of lingering acid damage every turn thereafter for
      the duration (1 round/caster level)."; }
and 3 {
aval: 1; xval: 79; yval: 32;
On Event (32+10000) {
hObj killer;
ThrowDmg(41,3,1d4,"lingering acid",EActor,EActor);
DPrint(e,"The acid sears!", "Acid sears the <EActor>!");
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"vitriolic sphere");
if (killer)
killer->KillXP(EActor);
}
return 0;
},
200 "globe of acid";
}

50 / 2 Spell "Fire Shield" : 3
{ 0x00000010|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6419
Purpose: 0x00010 | 0x00200 (11);
xval: 104; yval: 2; pval: 12d1 + -106; }
and 3
{ xval: 79; yval: ((20+1000)+2000); pval: (-124);
On Event (((20+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;

TPrint(e,"The <EVictim>'s flame aura sears you!",
"Your flames burn the <EActor>!",
"The <EVictim>'s flame aura sears the <EActor>!");
ThrowDmg(41,1,1d8+EVictim->GetEffStatiVal(79,$"fire shield"),
"a nimbus of fire", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
},
52 {
if (e.MM & 0x00800000)
{
EActor->IPrint("This spell can't be transmuted.");
return 2;
}
},
205 "FShield" / "FSh",
206
"You are wreathed in a shroud of flames!" /
"The <EActor> is wreathed in a shroud of flames!",
84
"Your fiery shroud fades." /
"The <EActor>'s fiery shroud fades.";
Desc: "Envelops you in a shroud of flames with give you cold resistance
      (12 + [caster level / 2]) and inflicts 1d8+caster level (max 1d8+15)
      points of fire damage on anyone who attacks you in melee.";
} and 3 {
xval: 79; yval: ((21+1000)+2000); pval: (-124);
On Event (((21+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;

TPrint(e,"The <EVictim>'s flame aura sears you!",
"Your flames burn the <EActor>!",
"The <EVictim>'s flame aura sears the <EActor>!");
ThrowDmg(41,1,1d8+EVictim->GetEffStatiVal(79,$"fire shield"),
"a nimbus of fire", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
};
}

50 Spell "Chill Shield" : 3
{ 0x00000010|0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6476
Purpose: 0x00010 | 0x00200 (10);
xval: 104; yval: 1; pval: 12d1 + -106; }
and 3
{ xval: 79; yval: ((20+1000)+2000); pval: (-124);
On Event (((20+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s icy aura sears you!",
"Your aura chills the <EActor>!",
"The <EVictim>'s icy aura sears the <EActor>!");
ThrowDmg(41,2,1d8+EVictim->GetEffStatiVal(79,$"chill shield"),
"an aura of frost", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
},
52 {
if (e.MM & 0x00800000)
{
EActor->IPrint("This spell can't be transmuted.");
return 2;
}
},
205 "CShield" / "CSh",
206
"You are wreathed in a shroud of frost!" /
"The <EActor> is wreathed in a shroud of frost!",
84
"Your chill aura fades." /
"The <EActor>'s chill aura fades.";
Desc: "Envelops you in an aura of frost with give you fire resistance
      (12 + [caster level / 2]) and inflicts 1d8+caster level (max 1d8+15)
      points of cold damage on anyone who attacks you in melee.";
}
and 3
{ xval: 79; yval: ((21+1000)+2000); pval: (-124);
On Event (((21+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s icy aura sears you!",
"Your aura chills the <EActor>!",
"The <EVictim>'s icy aura sears the <EActor>!");
ThrowDmg(41,2,1d8+EVictim->GetEffStatiVal(79,$"chill shield"),
"an aura of frost", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
};
}




50 Spell "Phantasmal Killer" : 46
{ 0x00000020; Base: 60; Cost: 8; Level: 4; qval: 0x0004; sval: 2;
Desc: "Summons a phantasm of the target's worst fear, which the
      target may make a Will save to disbelieve absolutely. If the
      target fails, a second Fortitude save determines if the target
      is slain outright, or merely becomes Afraid and suffers 1d6
      points each of Wisdom and Charisma damage.";
On Event 28 {
VPrint(e,"You feel your heart turn to ice!",
"The <EVictim> turns deathly pale!");
if (ETarget->SavingThrow(0,e.saveDC,0x00000800|0x00000010|0x00000400))
{
if (EActor->ResistLevel(28) != -1) {
ThrowDmg(41,54,1d6,"a phantasm",EActor,EVictim);
ThrowDmg(41,54,1d6,"a phantasm",EActor,EVictim);
EVictim->GainTempStati(10,EActor,e.vDuration,2,0,0,$"Phantasmal Killer");
}
EVictim->IPrint("You narrowly avoid death by terror!");
}
else if (EActor->ResistLevel(28) != -1)
ThrowDmg(42,6,0,"a phantasmal killer",EActor,EVictim);
return 1;
};
Flags: 53, 63, 70; Purpose: 0x00001 (9);
}

50 Spell "Improved Spectral Force" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 4;
Purpose: 0x00100; xval: 75; yval: 1|2;
Desc: "This spell creates an illusionary creature, force 
      or object, combining the advantages of both Spectral
      Force (resilience, independence, longer-lasting psychosomatic 
      damage) and Improved Phantasmal Force (affecting all senses).";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout";
}

50 Spell "Improved Invisibility" : 3
{
0x00000020; Level: 4; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 40;
#line "wspells.irh" 6584
xval: 100; yval: 1;
Desc: "As one might expect from the name, this is a superior
      version of the 2nd-level spell <9>invisibility<1>. It
      functions like that spell in all respects, except that if
      the invisibility effect is broken due to attacking or a
      similar cause, it will automatically recur in 1d4+1 rounds,
      at no cost in mana or time and with no chance of failure.
      Improved Invisibility lasts a full day, but if dispelled
      or cancelled by means other than attacking, it does not
      recur.";
On Event 84 {
EActor->GainTempStati(189,NULL,1d4+1,2,0,0,
$"Improved Invisibility;renewal", EActor->CasterLev());
return 0;
},
74, 126 {
return 1;
},
205 "ImpInv" / "IInv";
}

Effect "Improved Invisibility;renewal" : 46
{
Desc: "As one might expect from the name, this is a superior
      version of the 2nd-level spell <9>invisibility<1>. It
      functions like that spell in all respects, except that if
      the invisibility effect is broken due to attacking or a
      similar cause, it will automatically recur in 1d4+1 rounds,
      at no cost in mana or time and with no chance of failure.
      Improved Invisibility lasts a full day, but if dispelled
      or cancelled by means other than attacking, it does not
      recur.";
On Event 74 {
EActor->IPrint("You turn invisible again!");
ThrowEff(52,$"Improved Invisibility",EActor,EActor);
};
}

50 Spell "Hallucinatory Terrain" : 46
{ 0x00000020; Base: 75; Cost: 16; Level: 4; qval: 0x0002;
yval: 1; aval: 7; rval: 0x00000001; lval: 3;
Flags: 25, 66;
Desc: "Casting this spell weaves an elaborate illusion of terrain
      features over a globe 30 feet in radius, with a point of origin
      that you select. The illusory terrain appears only in map squares
      containing a normal floor, and can simulate magma, a deep pool of 
      water, a gaping chasm, entangling webs or sticky slime. Just like 
      an illusionary creature, the effects of this terrain are real in the
      case of those who believe in it, and can inflict psychosomatic
      damage normally, though it can have no effect on those who are
      able to see through the illusion. Like the spell <9>phantasmal
      force<1>, this illusion affects only sight and hearing, and is
      thus automatically seen though by sharpened senses, blindsight,
      tremorsense or scent, as well as magics designed specifically to
      penetrate illusions, like <9>true seeing<1>.\n
      __However, hallucinatory terrain does not require concentration
      or line of sight in order to maintain.";
On Event 52 {
int32 ch;
if (EActor->HasEffStati(189,$"Hallucinatory Terrain") ||
EActor->HasEffStati(189,$"Mirage Arcana"))
{
EActor->IPrint("You can only have one terrain illusion
            active at a time.");
return 2;
}

ch = EActor->ChoicePrompt("Magma, Chasm, Slime, Pool or Webbing?",
"mcspw", 'm', 1, 9);
EActor->GainTempStati(189,NULL,e.vDuration,2,ch,e.saveDC,
$"Hallucinatory Terrain");
return 0;
},
84 {
EMap->RemoveEffField($"Hallucinatory Terrain");
return 0;
},
127 {
int32 ch; rID tID;
tID = EMap->TerrainAt(e.EXVal, e.EYVal);
if ((tID->Image & 0xFF) == 250 ||
(tID->Image & 0xFF) == 249)
{
ch = EActor->GetEffStatiVal(189,$"Hallucinatory Terrain");
switch (ch)
{
case 'm': e.eID = $"magma"; break;
case 'c': e.eID = $"chasm"; break;
case 's': e.eID = $"pool of slime"; break;
case 'p': e.eID = $"deep water"; break;
case 'w': e.eID = $"webbing"; break;
}
}
else
e.eID = tID;
return 1;
};
}

50 Spell "Shadow Monsters" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 4;
Purpose: 0x00100; xval: 75; yval: 1|16;
Desc: "This spell draws material from the Demiplane of Shadow in 
      order to form partially real illusions of one or more monsters
      to fight in the caster's name. These creatures are functionally
      identical to the creature illusions created by <9>spectral force<1>, 
      but they are 20~ real -- their attacks inflict 20~ real damage to
      all creatures (and 80~ psychosomatic damage to any creatures that
      do not see through the illusion). Likewise, they can affect inanimate
      objects with a Strength score equal to 20~ of the Strength of a real
      creature of their type.\n
      __The downside of this is that they only have 20~ of the hit points
      of a normal creature of their type -- if a creature that sees through
      the illusion strikes them for damage, or they suffer damage from an
      inanimate source such as a trap, and this damage brings their current
      hit points to less than 80~ of their total, they are dispelled and
      cease to exist with regard to all characters.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61, 98;
}

50 Spell "Shadow Magic" : 8
{ 0x00000020; Base: 75; Cost: 15; Level: 4;
Purpose: 0x00100; xval: 75; yval: 1|16|8;
Desc: "This spell draws forth matter from the Demiplane of Shadows in order
      to create a blast of elemental force duplicating certain wizard evocation
      spells of 3rd or 4th level. However, the magic, created from shadow, is
      only 30~ real, and all creatures who are subject to it recieve an immediate
      chance to disbelieve. All creatures suffer 30~ of the duplicated spell's
      normal damage; creatures who fail the disbelief check also suffer the
      remaining 70~ as psychosomatic damage.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 99;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop";
}



50 / 52 / 53 Spell "Contagion" : 46
{ 0x00000040; Base: 90; Cost: 7; Level: 4; qval: 0x0004;
rID diseaseID; sval: 0; Purpose: 0x00004;
On Event 52 {
if (EActor->isMonster())
switch(random(7)) {
case 0: diseaseID = $"blinding sickness"; break;
case 1: diseaseID = $"cackle fever"; break;
case 2: diseaseID = $"filth fever"; break;
case 3: diseaseID = $"red ache"; break;
case 4: diseaseID = $"mindfire"; break;
case 5: diseaseID = $"the shakes"; break;
case 6: diseaseID = $"slimy doom"; break;
}
else {
ETerm->LOption("blinding sickness",(int32)$"blinding sickness");
ETerm->LOption("cackle fever",(int32)$"cackle fever");
ETerm->LOption("filth fever",(int32)$"filth fever");
ETerm->LOption("red ache",(int32)$"red ache");
ETerm->LOption("mindfire",(int32)$"mindfire");
ETerm->LOption("the shakes",(int32)$"the shakes");
ETerm->LOption("slimy doom",(int32)$"slimy doom");
diseaseID = (rID) ETerm->LMenu(0,"Choose a disease:");
}
if (diseaseID == (rID)0)
{
Error("Undefined disease in $Contagion::EV_EFFECT!");
return 2;
}
},
28 {
EVictim->GainPermStati(19,NULL,7, 0, 0, diseaseID);
EVictim->StatiMessage(19,0,0);
return 1;
};
Desc: "Infects a living creature with one of the following diseases
	  if they fail a Fortitude saving throw: blinding sickness, cackle
	  fever, filth fever, red ache, mindfire, the shakes or slimy doom.";
}

50 Spell "Enervation" : 3
{ 0x00000040; Base: 90; Cost: 7; Level: 4; qval: 0x0001 | 0x0004;
xval: 112; yval: 51; pval: 1d4+1; aval: 1;
tval: 75; Flags: 4, 60; cval: 1;
Purpose: 0x00001;
Desc: "Produces a bolt of negative energy that inflicts a
      -(1d4+1) general penalty if it strikes a living target.
      You must make a ranged attack roll to hit with this spell.";
On Event 28 {
if (e.vDmg > 0)
e.vDmg = -e.vDmg;
VPrint(e, "You feel like someone just walked over your grave.",
"The <EVictim> shivers.");
e.Terse = true;
return 0;
};
}

50 Spell "Revenance" : 3
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6791
xval: 107; yval: 51; pval: +2; tval: 76;
Flags: 4;
aval: 11; lval: 6; cval: 19;
Desc: "Channels negative energy to strengthen all undead
      within 60 feet (6 squares) of you, giving
      them all a +2 profane bonus to hit, damage and saves, and
      a +4 turn resistance.";
On Event 155 {
if (!EActor->isMType(76))
return -1;
else
return 0;
},
28
"You feel empowered!" /
"A roiling aura of negative energy strengthens the <EVictim>!";
}
and 3
{ aval: 11; lval: 6;
xval: 39; yval: 98; pval: +4; }
#line "wspells.irh" 6815
50 / 51 Spell "Summon Shadows" : 9
{ 0x00000040; 0x00000020; Base: 75; Cost: 7; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"shadow"; pval: 5;
Desc: "Summons a group of shadows worth CR 5.";
Flags: 79; }




50 / 2 Spell "Polymorph Other" : 32
{ 0x00000080; Base: 75; Cost: 8; Level: 4; sval: 0; qval: 0x0004;
Flags: 26; Purpose: 0x00004;
Desc: "Changes one target creature into a different, random creature
      of the same challenge rating or lower.";
On Event 28 {
if (GetHandle(EActor) == GetHandle(EVictim))
{
EActor->IPrint("You need <9>Polymorph Self<7> to change your
            own form.");
return 1;
}
};
}

50 Spell "Stoneskin" : 3
{ 0x00000080|0x00002000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6841
xval: 79; yval: (20+2000); pval: 1d4+-106;
Flags: 72;
Desc: "Turns your skin as hard as rock, automatically and completely
      negating 1d4+(caster level/2) blows from any weapon of less than +5
      enchantment. Critical hits damage you, but only as much as a normal
      hit would usually.";
On Event ((20+2000)+10000) {
int32 count;
if (e.DType != 11 && e.DType != 12 && e.DType != 13)
return 0;
#line "wspells.irh" 6854
DPrint(e,"Click.","Click.");
count = EVictim->GetEffStatiVal(79,$"stoneskin");
if (count == 1)
EVictim->RemoveEffStati($"stoneskin");
else
EVictim->SetEffStatiVal(79,$"stoneskin",count - 1);
if (GetHandle(EItem))
if (EItem->GetPlus() >= 5)
return 0;
if (e.isCrit) {
e.isCrit = false;
return 0;
}
return 1;
};
On Event 28
"Your skin turns to stone!" /
"The <EVictim>'s skin turns to stone!",
205
"Stoneskin" / "SS";
}

50 Spell "Burning Blood" : 3
{ 0x00000080|0x00004000; Base: 90; Cost: 7; Level: 4; qval: 0x0004;
xval: 79; yval: 32; Purpose: 0x00001 | 0x00004;
On Event 155 {
if (!EVictim->isMType(77))
return -1;
if (EVictim->ResistLevel(1) == -1)
return 1;
return 0;
}, 28
"You feel your blood begin to boil!" /
"The <EVictim> screams in agony!",
74
"Your blood stops boiling." /
"The <EActor>'s blood stops boiling.",
(32+10000) {
hObj killer;
killer = EActor->GetEffStatiObj(79,$"burning blood");
if (killer) {
ThrowDmg(41,1,2d6,"burning blood",killer,EActor);
ThrowDmg(41,0,1d6,"burning blood",killer,EActor);
} else {
ThrowDmg(41,1,2d6,"burning blood",EActor,EActor);
ThrowDmg(41,0,1d6,"burning blood",EActor,EActor);
}
if (EActor->isDead())
DPrint(e,"Your blood foams out of your body, killing you.",
"The <EActor>'s blood foams out of <his:EActor> body, killing <him:EActor>.");
else
DPrint(e,"Your blood boils!",
"The <EActor>'s blood boils!");
if (EActor->isDead()) {
if (killer)
killer->KillXP(EActor);
}
return 0;
};
Desc: "Causes a victim's blood to boil, dealing 2d6 points of fire
      damage and 1d6 points of unblockable damage to him every turn for
      your caster level in rounds. Can only be cast on victims that
      possess blood.";
}

50 / 2 Spell "Evard's Black Tentacles" : 46
{ 0x00000080; Base: 75; Cost: 12; Level: 4; qval: 0x0002;
Purpose: 0x00100|0x00040; pval: 1d4 + -101;
On Event 28 {
int32 i, j, x, y; hObj hTent;
for (i=0;i<=e.vDmg;i++)
{
for (j=0;j<20;j++)
{
x = e.EXVal - 6 + 1d11;
y = e.EYVal - 6 + 1d11;
if (EMap->InBounds(x,y))
if (!(EMap->SolidAt(x,y) ||
EMap->FallAt(x,y)))
if (dist(EActor->x,EActor->y,x,y) > 2)
{
hTent = CreateMonster($"black tentacle");
hTent->PartyID = 76;
hTent->PlaceAt(EMap,x,y);
hTent->Initialize();
j = 20;
}
}
}
return 1;
},
206
"Ropy black tentacles grow from the walls and floor!";
Desc: "This spell causes 1d4 tentacles, plus one per caster
      level, to grow out of the nearby stone, earth, wood or any
      other surface and lash out mindlessly to entangle whatever
      might be nearby. The tentacles have Strength 18, Dexterity
      18, 3 hit dice, a +3 base attack bonus and are DC 13 with
      +5 natural armor. The tentacles cannot move from the spot
      they first appear, which will be within 50 feet of the 
      spell's chosen point of origin.\n
      __The tentacles are <9>not<1> summoned creatures -- they
      are grown by thaumaturgic means out of nothing -- and are
      unaffected by spells and powers which affect summoned beings.
      Further, they are <9>not<1> subservient to the caster, attacking
      him as casually as anyone else who comes within their reach.
      Fortunately, no tentacles will grow in the squares directly
      surronding the caster.\n
      __If the spell is cast is a very constricted area such as a
      corridor, less then the normal number of tentacles may appear.";
}

Monster "black tentacle" : 58
{
Image: black '{'; Size: 5; Arm: 5;
CR: 2; HD: 3; Hit: +3; Def: 14; Mov: 0%; Spd: 70%;
Str 18, Dex 18, Con 14, Int 2, Wis 13, Cha 4;
Attk: 14 for 63 (DC 17),
32 for 1d6 13;
Stati[39,95,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 66, 3, 4, 7, 33,
5, 6, 14, 20,
22, 23, 24, 25,
30, 55, 56;
Desc: "A slick, black tentacle ten feet long and as thick
      across as a man's arm, this horror is no natural thing,
      growing out of stone or earth, but obviously the working
      of a powerful wizard's spell.";
}

50 / 2 Spell "Waves of Weariness" : 46
{ 0x00000080; Base: 90; Cost: 7; Level: 4; qval: 0x0001;
lval: 6; aval: 2; sval: 0; pval: 2d8; cval: GRAY;
tval: 75; Flags: 4; Purpose: 0x00004;
Desc: "Creates a grey wave which saps vitality from
      everyone it strikes, draining 2d8 fatigue points
      from any living creature that fails a Fortitude
      save.";
On Event 28 {
EVictim->IPrint("You suddenly feel exhausted!");
EVictim->LoseFatigue(e.vDmg,false);
return 1;
},
206
"A grey wave ripples forth from your hands!" /
"A grey wave ripples forth from the <EActor>'s hands!";
}



50 / 51 Spell "Monster Summoning IV" : 9
{ 0x00000100; Base: 75; Cost: 12; Level: 4; qval: 0x0002;
Purpose: 0x00100; xval: 75; pval: 4;
Desc: "Summons a living creature of CR 4 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 4+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 7013
50 / 52 Spell "Dimensional Anchor" : 3
{ 0x00000100; Base: 90; Cost: 7; Level: 4; qval: 0x0004 | 0x0001;
aval: 1; Purpose: 0x00004 | 0x00200 (4);
xval: 133; cval: 10; Flags: 60;
Desc: "Produces a thin bolt of green energy that, upon
      striking a target (ranged attack roll), locks that
      target into place and prevents them from teleporting,
      being teleported or plane-shifting. Creatures already
      phased will be forcibly returned to their natural plane
      of existance.";
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
}

50 Spell "Shift Level" : 46
{ 0x00000100; Base: 90; Cost: 12; Level: 4; Purpose: 0x00008;
Desc: "This unusual variant of <9>dimension door<1> allows the
      caster to travel on the vertical plane, either ascending by
      teleporting through the ceiling to the next stable surface
      that can support her weight above her, or similarly travelling
      through the floor and whatever depth of stone seperates her
      from the nearest open area immediately below her.";
On Event 28 {
int32 ch;
ch = EActor->ChoicePrompt("Ascend or descend?", "ad", 'd');
if ( (EMap->dID == ((rID)0)) ||
(ch == 'a' && EMap->Depth == 1) || EActor->HasStati(133) ||
(ch == 'd' && EMap->Depth >= EMap->dID->GetConst(44)))
{
VPrint(e,"You flicker for a brief instant, but remain where you are.",
"The <EVictim> flickers in place.");
return 1;
}
VPrint(e,NULL,"The <EVictim> vanishes!");
EVictim->MoveDepth(EMap->Depth + ((ch == 'a') ? -1 : 1),true);
VPrint(e,NULL,"An <EVictim> appears!");
return 1;
};
}

50 Spell "Lesser Planar Conjuration" : 9
{
0x00000100; Base: 60; Cost: 65; Level: 4; Purpose: 0x00000;
Desc: "This spell -- the first hint young mages recieve of the true
      art of conjuration -- allows a caster to summon a powerful creature
      with a CR of up to (6 + caster's Charisma mod) from the outer planes 
      in order to serve her for a full day. This kind of summoning is
      extremely difficult -- in addition to a staggering mana cost, it
      requires that the caster stand next to a specially perpared summoning
      circle (which, fortunately, are sometimes found in dungeons already
      prepared by ancient mages) to conduct a two hour ritual, and it costs 
      the caster 2 fatigue points.\n
      __Opening the outer-planar conduit correctly requires a Knowledge
      (Planes) check against DC 15 -- if this check fails, the creature
      is unbound and arrives hostile. If the check is successful, however,
      the caster can proceed to negotiate terms of service with the creature
      by means of an opposed Diplomacy test. [ For now, if the creature wins,
      it just leaves -- later, the spell will have more complexity, allowing
      the caster to pay the creature to stay, maybe stays for a shorter term,
      different modifiers, etc. Creatures summoned with this spell have +200~
      movement until we can fix the companion AI.]\n
      __A caster can only have one creature summoned with <9>lesser planar
      conjuration<1> at a time, though she may summon others with spells 
      like <9>planar conjuration<1> or <9>conjure earth elemental<1>.";
Flags: 95, 78; int32 hostile_flag; xval: 48;
On Event 170 {
SetPVal(e,6 + EActor->Mod(5));
return 0;
},
(52+500) {
int32 dir;
e.isLoc = false;
for(dir=0;dir!=8;dir++)
{
if (EMap->TerrainAt(EActor->x + DirX(dir), EActor->y + DirY(dir))
== $"Summoning Circle")
{
e.isLoc = true;
e.EXVal = EActor->x + DirX(dir);
e.EYVal = EActor->y + DirY(dir);
}
}
if (!e.isLoc)
{
EActor->IPrint("You need to stand directly beside a summoning circle
            to cast this spell.");
return 2;
}
if (!EActor->LoseFatigue(2,true))
return 2;
EActor->IPrint("You begin an elaborate ritual...");
if (EActor->isPlayer())
if (EActor->SpendHours(2,2) != 1)
return 2;

if (!EActor->SkillCheck(29,15,true))
{ hostile_flag = true;
EActor->IPrint("You evoke the conduit imprecisely!
            You are in mortal danger!");
EActor->GainTempStati(5,NULL,3d6,7); }
else
hostile_flag = false;
return 0;
},
(28+1000) {
hObj hDemon; int32 a, b;
hDemon = EMap->GetEncounterCreature(0);
if (hDemon == ((hObj)0))
return 0;
if (hostile_flag)
{
hDemon->TurnHostileTo(EActor);
return 0;
}
EActor->IPrint("You negotiate terms of service with the <hObj>.",hDemon);
EActor->SkillCheck(11,0,true);
a = LastSkillCheckResult();
hDemon->SkillCheck(11,0,true);
b = LastSkillCheckResult();
if (b >= a)
{
EActor->IPrint("Unable to form a binding pact, 
            you dismiss the <hObj>.", hDemon);
hDemon->Remove(true);
}
else
{
EActor->IPrint("You successfully form a service pact with
            the <hObj>. The summoning circle fades.", hDemon);
EMap->WriteTerra(hDemon->x,hDemon->y,$"floor");
}
#line "wspells.irh" 7148
hDemon->GainPermStati(113,NULL,7,26,+40);

return 0;
};
}
#line "wspells.irh" 7333
50 / 2 Spell "Energy Buffer" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 5;
#line "wspells.irh" 7335
xval: 79; yval: (41+2000); pval: (-101)d12;
Flags: 72;
On Event ((41+2000)+10000) {
int32 buff;
if (e.DType != 1 && e.DType != 2 &&
e.DType != 3 && e.DType != 5 &&
e.DType != 4 && e.DType != 10)
return 0;
buff = EVictim->GetEffStatiVal(79,$"Energy Buffer");
if (e.vDmg < buff) {
EVictim->SetEffStatiVal(79,$"Energy Buffer",buff - e.vDmg);
e.Immune = true;
return 1;
}
else {
EVictim->RemoveEffStati($"Energy Buffer",84);
if (e.vDmg == buff) {
e.Immune = true;
return 1;
}
e.vDmg -= buff;
return 0;
}
},
205 "Energy Buffer" / "EBuf",
28 {
e.vDmg = min(126, e.vDmg);
return 0;
};
Desc: "Absorbs the first [1d12 / caster level] points of damage you take
        from elemental (i.e., fire, cold, lightning, poison, sonic or acid)
        sources. ";
}

50 Spell "Mooncloak" : 3
{
0x00000001; 0x00000010; Level: 5; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45;
#line "wspells.irh" 7372
Desc: "Casting this spell evokes a shimmering silver
      lumenescence around the mage's body not unlike that
      produced by <9>faerie fire<1>, but the Mooncloak
      has a much greater effect then that. The dwenomer
      abjures several kinds of protection against the next
      applicable attack she suffers -- a Cold Resistance of
      7, a +5 bonus on saving throws versus paralyzation
      and petrification and absolute immunity to a single
      negative energy effect. Once the Mooncloak has offered
      its protection against one of these effects, it is
      expended and the radiance vainshes.\n
      __Alternatively, once the Mooncloak is in effect, the
      caster can choose to expend its magic at any time (by
      'a'ctivating it) as a destructive silvery bolt. This
      bolt inflicts 5d6 points of pure magic damage, triple
      that against lycanthropes. If victims fail a Fortitude
      save for half damage, they are also confused for 3d6
      rounds -- literally, they are moonstruck. The bolt hits
      a single creature and requires a ranged attack roll to
      successfully impact.";
xval: 139; pval +1;
Flags: 50, 49, 13, 60;
}
and 1
{ xval: 8; pval: 3d6; aval: 1; sval: 0;
On Event 28 {
if (e.efNum == 1)
if (EVictim->isMType(19))
e.vDmg *= 3;
return 0;
},
(52+1000) {
if (e.isActivation)
EActor->RemoveEffStati($"Mooncloak");
return 0;
};
}
and 1
{ xval: 26; pval: 3d6; aval: 1; sval: 0; }
and 3
{ xval: 104; yval: 2; pval: 7; aval: 0; sval: 3;}
and 3
{ xval: 123; yval: 4; pval: +5; }
and 3
{ xval: 123; yval: 7; pval: +5; }
and 3
{ xval: 79; yval: ((41+2000)+500);
On Event (((41+2000)+500)+10000) {
if (e.DType == 32)
{
APrint(e,"A tremendous burst of positive enery
                        deflects the life-drain!");
EVictim->RemoveEffStati($"Mooncloak");
return 1;
}
return 0;
};
}
and 3
{ xval: 179; }


50 / 52 / 53 Spell "Resist the Elements" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 5; qval: 0x0004;
#line "wspells.irh" 7436
xval: 104; yval: 1; pval: 5d1 + (-110);
On Event 205 "ResistElem" / "ResE";
Desc: "Grants the target resistance equal to 5 plus
      2 per 3 caster levels against Acid, Cold, Lightning, Fire and Sound.";
}
and 3 { xval: 104; yval: 2;
flags: 25; pval: 5d1+(-110); }
and 3 { xval: 104; yval: 4;
flags: 25; pval: 5d1+(-110); }
and 3 { xval: 104; yval: 3;
flags: 25; pval: 5d1+(-110); }
and 3 { xval: 104; yval: 10;
flags: 25; pval: 5d1+(-110); }
#line "wspells.irh" 7454
50 / 2 Spell "Cloudkill" : 1
{ 0x00000002|0x00001000; Base: 75; Cost: 10; Level: 5; qval: 0x0001 | 0x0004 | 0x0002;
lval: 8;
xval: 5; pval: (-126)d4; aval: 3;
cval: 23; Purpose: 0x00001; sval: 0;
Flags: 11, 4, 64, 34;
tval: 78;
On Event (28+1000) {
if (e.Immune || EVictim->isDead())
return 0;
if (EVictim->ChallengeRating() <= 2 || ((!e.Resist) &&
EVictim->ChallengeRating() <= 5)) {
ReThrow(42,e);
}
return 0;
};
Desc: "Creates a cloud of poisonous gas that kills outright
        any creature of CR 2 or less, kills any creature of CR 3
        to CR 5 on a failed saving throw, and inflicts 1d4 toxic
        damage per caster level on everything else (Fortitude for
        half). Only creatures who breathe are affected. The caster is
        immune. ";
}

50 / 53 / 52 Spell "Wall of Stone" : 5
{ 0x00000002|0x00002000; Base: 90; Cost: 10; Level: 5; lval: 10; qval: 0x0001;
xval: 9; aval: 8; Flags: 25;
rval: $"dungeon wall"; pval: 2d6 + (-125);
Purpose: 0x00040|0x00008|0x00800|0x01000;
Desc: "Conjures a solid stone wall, displacing any creatures in 
      its path and blocking further passage.";
On Event 206
"Solid stone appears out of nowhere!",
74
"The stone wall vanishes."; }

50 / 2 Spell "Major Creation" : 46
{
0x00000002; Base: 90; Cost: 15; Level: 5; Purpose: 0x00000;
Desc: "This spell functions similarly to <9>minor creation<1>, but
      the restrictions on items which may be created are less severe.
      The mage can now conjure crafted metal, including swords, armor
      and other steelworks. She may also create exceptionally rare
      special materials like adamant, silver, gold or mithril -- but
      doing so increases the experience cost of the spell based on
      the specific rare material she chooses to conjure.";
On Event 28 {
hObj it; int32 CraftDC, XPCost, mat;
it = ETerm->AcquisitionPrompt(7,0,0,0);
if (it == ((hObj)0))
return 1;
XPCost = 25;
if (it->isType(12))
{
e.vRange = 1;
if (!ETerm->EffectPrompt(e,0x0002,false,"Trap Location"))
{ it->Remove(true); return 1; }
it->PlaceAt(EActor->m,e.EXVal,e.EYVal);
}
else
{
if (it->isType(37) || it->HasIFlag(15) ||
it->iID == $"club" || it->iID == $"large club" ||
it->iID == $"quarterstaff" || it->iID == $"torch")
CraftDC = 0;
else
CraftDC = 15;
if (CraftDC && !EActor->SkillCheck(9,CraftDC,true))
{
EActor->IPrint("You fail to shape the created matter properly!");
if (EActor->isPlayer())
EActor->LoseXP(25 );
it->Remove(true);
return 1;
}

if (it->iID == $"small glass vial" && it->ieID != ((rID)0))
if (!EActor->SkillCheck(39,PoisonDC(it->ieID)+5,true))
{
EActor->IPrint("You fail to synthesize the poison properly!");
it->ieID = ((rID)0);
}

if (it->isMetallic() || it->Material() == 8)
if (EActor->yn("Alter default material?",'n'))
{
ETerm->LOption(it->isMetallic() ? "Iron" : "Wood", 0);
if (it->QualityOK(74))
ETerm->LOption("Silver (+5 XP)", 74);
if (it->QualityOK(70))
ETerm->LOption("Adamant (+100 XP)", 70);
if (it->QualityOK(72))
ETerm->LOption("Ironwood (+50 XP)", 72);
if (it->QualityOK(73))
ETerm->LOption("Mithril (+50 XP)", 73);
if (it->QualityOK(71))
ETerm->LOption("Darkwood (+75 XP)", 71);
mat = ETerm->LMenu(0x0100, "Choose a Material:");
switch (mat)
{
case 74: XPCost += 5; break;
case 70: XPCost += 100; break;
case 72: XPCost += 50; break;
case 73: XPCost += 50; break;
case 71: XPCost += 75; break;
}
if (mat)
it->AddQuality(mat);

}
if (it->HasIFlag(15))
it->SetQuantity(30);
else if (it->HasIFlag(8))
it->SetQuantity(e.MM & 0x00010000 ? 100 : 10d10);
else if (it->HasIFlag(7))
it->SetQuantity(e.MM & 0x00010000 ? 24 : 2d12);

if (e.MM & 0x00000200)
it->SetQuantity((it->GetQuantity()*3)/2);

EActor->GainItem(it,false);
}
if (EActor->isPlayer())
EActor->LoseXP(XPCost );
return 1;
};
}

50 Spell "Watery Double" : 46
{ 0x00000002|0x00008000; Base: 60; Cost: 22; Level: 5; qval: 0x0004;
Purpose: 0x00004; Flags: 66, 78;
Desc: "To cast this spell, a wizard must target an opponent
      standing in a water square, whose Challenge Rating is less
      than or equal to her caster level. A watery duplicate of the
      target rises up -- a creature identical to the target with the
      aqueous template applied. This creature is not considered
      summoned, but can be dispelled. It cannot be ordered, and
      fights relentlessly with only one goal in mind: to slay
      utterly the creature the spell targeted.\n
      __The watery double is immune to fear, mind-affecting
      spells and death magic. A given caster can sustain only one
      watery double at once, and the spell can be cancelled at any
      time.";
On Event 155 {
rID trID;
if (EVictim->isCharacter())
return -1;
if (!EVictim->CanAddTemplate($"aqueous"))
return -1;
if (EVictim->onPlane() != 0)
return -1;
trID = EMap->TerrainAt(EVictim->x, EVictim->y);
if (!ResourceHasFlag(trID,7))
return -1;
if (EActor->HasEffStati(189,$"Watery Double"))
return 1;
return 0;
},
52 {
if (EActor->HasEffStati(189,$"Watery Double"))
{
EActor->IPrint("You can only sustain one watery double
            at a time.");
return 2;
}
EActor->GainPermStati(189,EVictim,7);
return 0;
},
28 {
hObj hDouble;
hDouble = CreateMonster(EVictim->tmID);
hDouble->CopyStati(EVictim,71);
hDouble->AddTemplate($"aqueous");
hDouble->TurnHostileTo(EVictim);
hDouble->GainTempStati(190,EActor,e.vDuration,
2,0,0,$"Watery Double");
hDouble->PlaceAt(EMap,EVictim->x,EVictim->y);
hDouble->Initialize();
EVictim->IDPrint("A duplicate of you rises up, formed out of the water!",
"A duplicate of the <hObj> rises up, formed out of the water!", EVictim);
return 1;
},
84 {

if (e.EParam == 190)
{
EActor->IDPrint("","The <hObj> collapses back to inanimate water!", EVictim);
EActor->Remove(true);
return 0;
}

EVictim->IDPrint("","The <hObj> collapses back to inanimate water!", EVictim);
EVictim->Remove(true);
return 0;
};
}
#line "wspells.irh" 7656
50 / 2 Spell "Wizard Sight" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 50; Level: 5;
#line "wspells.irh" 7658
xval: 141; pval: 6;
Desc: "Allows the caster to percieve everything within 60 feet
            of himself, even through walls.";
On Event 205 "Wizard Sight" / "WizSi"; }

50 Spell "Open the Third Eye" : 46
{ 0x00000004; 0x00000080; Base: 30; Cost: 100; Level: 5; qval: 0;
Purpose: 0x00010; Flags: 86, 78;
On Event 155 {
if (EActor->CanAddTemplate($"three-eyed"))
return 0;
return -1;
},
83 {
EVictim->AddTemplate($"three-eyed");
if (EActor->isCharacter())
EActor->LoseXP(5000);
return 1;
} ;
Desc: "Casting this irrevocable spell opens a mystical third eye in
    the center of the caster's forehead. 
    The caster gains a +6 racial bonus to Spot and Search checks as
    well as 60 feet of infravision. The caster also gains a gaze attack
    that confuses victims for 1d8 rounds (Fortitude save, DC 14).\n
    __Casting this spell costs the caster 5000 XP.";
}

50 / 2 Spell "Power Word: Stop" : 3
{ 0x00000004; Base: 30; Cost: 30; Level: 5; qval: 0x0004;
Purpose: 0x00004; xval: 79; yval: (1+500);
Flags: 58, 71; sval: 3;
Desc: "Power words are ancient pieces of the sorcerous truespeak
      from the dawn times of the world. They are inherantly unknowable,
      and creatures who hear one spoken irresistably forget the exact
      structure of its syllables immediately after hearing it. They
      can not be recorded, transcribed or preverved by any mortal
      magic; however, certain powerful divinations can grant a skilled
      mage knowledge of a Power Word just long enough to speak it once,
      allowing its terrible effect to take hold on the world.\n
      __One of the earliest and simplest power words, 'Stop' freezes a
      single target creature in place, preventing it from walking,
      running, jumping or otherwise moving naturally. The effect does
      not prevent teleportation, nor does it stop the creature from
      being knocked prone or bull rushed. The creature is not paralyzed,
      simply fixed in place, and can still make melee and ranged attacks.
      Free action negates this power word, but like all power words there
      is no saving throw against its effects.";
On Event ((1+500)+10000) {
EActor->IPrint("You find yourself unable to move!");
return 2;
},
155 {
if (EVictim->ResistLevel(18) == -1)
return -1;
return 0;
},
206
"You point at the <EVictim> and speak an ineffable word!" /
"The <EActor> points at you and speaks an ineffable word!" /
"The <EActor> points at the <EVictim> and speaks an ineffable word!";
}



50 Spell "Dominate Person" : 3
{ 0x00000008; Base: 75; Cost: 10; Level: 5; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 137; yval: 4; tval: 86;
Flags: 25, 53, 4, 103;
Desc: "Gives you telepathic control over a single intelligent,
      medium-sized humanoid.";
On Event 28
"You sieze control of the <EVictim>'s mind!" /
"The <EActor> siezes control of your mind!" / "",
74
"You shake off the effect of the domination." /
"The <EActor> shakes off the effect of the domination.";
}

50 / 2 / 52 Spell "Hold Monster" : 3
{ 0x00000008; Level: 5; Cost: 10; Base: 75; qval: 0x0004;
xval: 9; sval: 0;
Purpose: 0x00004 (9); Flags: 53;
Desc: "Paralyzes one chosen creature, provided they fail a Fortitude
      save.";
}

50 / 52 / 2 Spell "Lower Resistance" : 3
{
0x00000008; 0x00000100; Base: 90; Cost: 9; Level: 5; qval: 0x0002;
aval: 11; lval: 6; cval: 11; sval: 3;
xval: 112; yval: 18; Purpose: 0x00004;
Flags: 35;
Desc: "This dwenomer strips outsiders, creatures of the Underdark
      and powerful supernatural horrors like hags of their inherant
      resistance to magic. The spell must first penetrate that resistance
      to take effect, but once it does no saving throw applies and the
      creature's Magic Resistance is halved; this is a damage penalty.
      The spell is targeted on a point, affecting all creatures within
      60 feet of that point, but is selective and excludes the caster
      and her allies.";
On Event 155 {
if (EVictim->GetAttr(18) == 0)
return -1;
return 0;
},
170, (28+500) {
#line "wspells.irh" 7767
if (e.MM & 0x00000200)
e.vDmg = -75;
else
e.vDmg = -50;
return 0;
},
28
"You feel threatened!" /
"The <EVictim>'s resistance is lowered!";
}



50 Spell "Fire Lotus" : 1
{ 0x00000010|0x00004000; Base: 90; Cost: 10; Level: 5; sval: 1 partial;
xval: 1; pval: (-126)d4; Purpose: 0x00001;
aval: 11; cval: 16; lval: 6;
Flags: 34;
Desc: "A fire lotus is an explosive burst of flame similar to a fireball,
    but centered on the caster. All creatures (except the caster!) within
    60 feet (6 squares) of the caster take 1d4 points of fire damage per
    caster level (scaled after 9th). A Reflex save halves the damage.";
}

50 / 2 Spell "Cone of Cold" : 1
{ 0x00000010|0x00000800; Base: 75; Cost: 10; Level: 5; aval: 2; qval: 0x0001;
xval: 2; lval: 7; sval: 1 partial; pval: (-126)d8;
Purpose: 0x00001 (11); cval: 9;
On Event 200 "cone of cold"; Flags: 32;
Desc: "Projects a cone of numbing frost out in a direction you
		  select, inflicting 1d8 points of damage per caster level, scaled
			after 9th level."; }
#line "wspells.irh" 7804
50 Spell "Telekinesis" : 2
{ 0x00000010|0x00010000; Base: 90; Cost: 10; Level: 5; Purpose: 0x00010;
Desc: "__This spell can be enacted in one of two
      forms, as chosen when the spell is cast:\n
      __<9>Violent Thrust:<1> This form of Telekinesis
      targets a single creature of your choice,
      causing them to be knocked down and back
      up to one square per caster level and to
      suffer 1d4 points of blunt damage for
      every caster level, scaled after 10th.\n
      __<9>Sustained Force:<1> This version of the
      spell allows you to exert force at a range
      of 10 feet per caster level. You can use
      the combat maneuvers Grapple, Punch, Trip
      and Bull Rush in this manner, with your
      Wisdom standing in for Strength and
      Intelligence for Dexterity. You can also
      open or kick doors, pick up items or try 
      to disarm traps at range.";
xval: 176; pval: -101;
Flags: 61;
Lists:
* 22 $"telekinesis;thrust";
On Event 52 {
if (EActor->ChoicePrompt("Violent thrust or sustained force?",
"vs",'s', 5, 13) == 'v')
{
if (!ETerm->EffectPrompt(e,0x0004,false,"Target:"))
return 2;
return RedirectEff(e,$"Telekinesis;thrust");
}
return 0;
},
205 "Telekinesis" / "T-K";
}

Effect "Telekinesis;thrust" : 1
{ xval: 13; pval: (-126)d4; Purpose: 0x00001;
aval: 1; cval: 15; }
and 1
{ xval: 61; pval: -126; }




50 Spell "Advanced Illusion" : 8
{ 0x00000020; Base: 75; Cost: 12; Level: 5;
Purpose: 0x00100; xval: 75; yval: 1|2|4;
Desc: "An advanced illusion is a complex and responsive dwenomer
      that includes all the properties of an <9>improved spectral force<1>,
      as well as a powerful enhancement: the illusion can spawn secondary
      illusionary effects that are consequences of its actions or existance.
      This means that an illusionary monster can make use of that monster's
      special attacks or equipment typical to a monster of its type -- an
      illusionary dragon can produce an illusionary blast of fire, and an
      illusionary kobold can fire illusionary crossbow bolts. The illusion
      is still unreal and can't affect inanimate matter in any way, but it
      can simulate those effects remarkably -- an illusionary basilisk's
      gaze would cause people to become paralyzed for a period, for example,
      believing they had been petrified.\n
      __This facility also allows the illusion takes active and
      intelligent measures to preserve its own believability:
      the shadows cast by an illusionary fountain change position
      as new light sources manifest, an illusionary wall creates
      illusionary dust as it is hacked apart, and even the illusion
      of the scent of cooler air wafting in through a created hole
      into the room beyond. Illusions that inflict damage create
      illusionary blood and bruises rather than merely psychosomatic
      shock. As a result of these improvements, advanced illusions are not
      subject to disbelief checks when they appear out of nowhere, someone
      passes through them or ignores their attacks, they cause a victim to
      fall unconscious or so forth. The magic creates secondary illusions
      to cover over the things which might cause disbelief checks -- an
      adavanced illusion appearing out of nowhere might seem to jump out
      of a previously unnoticed illusionary skylight in a shadowy area of
      the ceiling, for example.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout" $"cone of cold"
$"fire lotus" $"chain lightning";
}


50 / 51 Spell "Color Burst" : 46
{
0x00000020|0x00020000; Base: 75; Cost: 9; Level: 5; sval: 1;
Purpose: 0x00001 (0); lval: 8;
cval: 21; aval: 3;
Flags: 34, 35;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->ChallengeRating() > (e.vCasterLev + 4))
return -1;
if (EVictim->HasMFlag(6))
return -1;
if (EVictim->HasMFlag(33))
return -1;
return 0;
},
83 {
TPrint(e,"Your spray of colors strikes an <EVictim>.",
"The <EActor>'s spray of colors strikes you.",
"The <EActor>'s spray of colors strikes an <EVictim>.");
return 0;
},
28 {
if (EVictim->ChallengeRating() < (e.vCasterLev / 2)) {
EVictim->GainTempStati(5, NULL, 1d6+1, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 1d6+1, 2, -1, -1);
EVictim->StatiMessage(5);
EVictim->StatiMessage(3);
}
else if (EVictim->ChallengeRating() < e.vCasterLev) {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 1d6+1, 2, -1, -1);
EVictim->StatiMessage(5);
EVictim->StatiMessage(3);
}
else {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
EVictim->StatiMessage(5);
}
return 1;
};
Desc: "Projects a burst of multicolored light that may blind or stun
      creatures it strikes briefly, dependant on their CR in contrast
      to the spell's caster level. The spell is selective -- the caster
      and her allies are immune, but neutral creatures are not.";

}
#line "wspells.irh" 7948
50 Spell "Nightmare;spell" : 1
{ 0x00000020; Level: 5; Cost: 45; Base: 60;
Desc: "Casting this spell sends a horrific nightmare to all the 
      sleeping creatures on the current level within [caster level x 
      50] feet, even outside your sight. The creatures suffer 2d6 
      points of fatigue loss, 1d8 damage to Wisdom and Charisma and 
      1d6 points of psychic damage per odd caster level.\n
      __(Remember that spells have verbal components, and casting near
      sleeping creatures will awaken them before they can be affected -- 
      but Nightmare has a greater range then the 120 feet away from which
      spellcasting can be heard.)";
aval: 11; cval: 9; Flags: 97;
On Event 170 {
e.vRange = 5 * e.vCasterLev;
return 0;
},
(75+500) {
return 1;
},
155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->HasStati(7))
return 0;
return -1;
},
28 {
if (e.efNum == 0)
{
EVictim->LoseFatigue(2d6,false);
EActor->GainTempStati(73,EVictim,-2,7,
0,e.vRange,$"Nightmare;spell");
EVictim->Awaken();
}
return 0;
},
206
"You project a horrific nightmare..." / "";
xval: 7; pval: (-114)d6;
}
and 1
{ xval: 54; pval: 1d8; }
and 1
{ xval: 55; pval: 1d8; }

50 Spell "Dream" : 3
{ 0x00000020; 0x00000004; 0x00000008; Level: 5; Cost: 20; Base: 60;
Desc: "Casting this spell sends a beguiling and seductive dream 
      to all sleeping creatures on the current level within [caster 
      level x 50] feet, even those outside your sight, leading them to
      see you as a friend and ally -- failing a Will save causes the 
      affected creature to be charmed. Regardless of whether you manage
      to ensnare a creature with this spell, you can sense their presence
      for the remainder of the day in which it was cast.\n
      __(Remember that spells have verbal components, and casting near
      sleeping creatures will awaken them before they can be affected -- 
      but Dream has a greater range then the 120 feet away from which
      spellcasting can be heard.)";
aval: 11; cval: 9; sval: 2 + 10;
Flags: 97, 54, 86;
On Event 170 {
e.vRange = 5 * e.vCasterLev;
return 0;
},
(75+500) {
return 1;
},
155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->HasStati(7))
return 0;
return -1;
},
(28+500) {
EActor->GainTempStati(73,EVictim,-2,7,
0,e.vRange,$"Dream");
if (EVictim->SavingThrow(2,e.saveDC,0x00000800|0x00000001|0x00008000|0x00000020))
{ e.Resist = true; return 1; }
return 0;
},
206
"You weave a beguiling dream..." / "";
xval: 137; yval: 1;
}

50 Spell "Misdirection" : 3
{ 0x00000020; Level: 5; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Purpose: 0x00010;
#line "wspells.irh" 8036
Desc: "This clever deception weaves an illusion over a large
      area, causing hostile enemies to mistake other characters 
      for you, directing their ranged attacks against others -- 
      potentially including their teammates -- believing them 
      to be you. The delusion affects all enemies within a 90 
      foot radius field that moves with you, but if the only 
      creature in the field percieved by a given enemy is you, 
      that enemy will target you normally.\n
      __Intelligent enemies recieve a chance to disbelieve this
      spell when they hit the wrong target; this chance is 5% per
      point of Intelligence about 12.";
aval: 9; cval: 10; lval: 9; rval: 0x00000004;
xval: 79; yval: 48;
hObj hCaster, hTarg; int32 x, y;
On Event (48+10000) {
hCaster = EActor->GetEffStatiObj(79,$"Misdirection");
if (hCaster == ((hObj)0))
return 0;

if (!EVictim->isFriendlyTo(hCaster))
return 0;

if (EActor->HasEffStati(189,$"Misdirection"))
return 0;

if (EActor->HasStati(148))
return 0;

ClearCandidates();
for (x = EActor->x - 10; x != EActor->x + 10; x++)
for (y = EActor->y - 10; y != EActor->y + 10; y++)
for (hTarg=EMap->FCreatureAt(x,y);hTarg;hTarg=EMap->NCreatureAt(x,y))
if (EMap->LineOfFire(EActor->x,EActor->y,x,y,EActor))
if (!hTarg->isFriendlyTo(hCaster))
AddCandidate((int32)hTarg);


if (!nCandidates())
return 0;

hTarg = (hObj) GetCandidate((1d(nCandidates()))-1);

SetEVictim(e,hTarg);

EMap->SetQueue(2);

if (hCaster->Percieves(EActor))
hCaster->IPrint("The <hObj>'s attack is misdirected!",EActor);

if (1d100 <= (EActor->GetAttr(3)-12)*5)
{
hCaster->IPrint("The <hObj> disbelieves your misdirection!",EActor);
EActor->IPrint("You disbelieve the misdirection effect!");
EActor->GainTempStati(189,hCaster,-2,7,0,0,$"Misdirection");
}

EMap->UnsetQueue(2);

return 0;
};
}

50 Spell "Demi-Shadow Monsters" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 5;
Purpose: 0x00100; xval: 75; yval: 1|32|8;
Desc: "This spell functions identically to <9>shadow monsters<1>,
      except that the created creatures are 50~ real, and thus inflict
      50~ if their normal damage on disbelieving characters and can suffer
      up to 50~ of their total hit points from disbelievers before being
      dispelled.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61, 98;
}
#line "wspells.irh" 8146
50 Spell "Skeletal Spikes" : 46
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; qval: 0x0004; Level: 5;
#line "wspells.irh" 8148
On Event 155 {
if (EVictim->CanAddTemplate($"spiked;template"))
return 0;
return -1;
},
83 {
if (EVictim->CanAddTemplate($"spiked;template")) {
EVictim->GainTempStati(71,EActor,e.vDuration,2,
0, 1, $"spiked;template",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
} else return 2;
} ;
Desc: "This spell causes the target's bones to warp and writhe until
    large, wickedly sharp spikes burst forth from under its skin. These
    bony spikes grant three additional goring attacks, each one of which
    deals 1d6 piercing damage, as well as the multiattack feat. Only 
    undead and constructs can be targeted by this spell.";
}

50 / 52 Spell "Lesser Symbol" : 46
{
0x00000040; 0x00000008; Cost: 10; Level: 5; Base: 60;
Desc: "This spell creates an ornate rune imbued with magical power,
      a kind of mystic trap that is triggered whenever a character comes
      close enough to see it by stepping onto the square which contains
      it. A symbol trap is very difficult to detect and disarm (DC 30).
      When the spell is cast, the caster can determine what effect
      the symbol will have from the following options:\n
      __<9>Symbol of Sleep:<1> All creatures with Challenge Rating less 
      than or equal to 10 within 60 feet (6 squares)) fall asleep for 
      3d6x10 minutes. The caster is not immune.\n
      __<9>Symbol of Pain:<1> When the trap is triggered, all creatures 
      within 60 feet (6 squares)) suffers wracking pain that imposes a 
      -4 circumstance penalty on attack, defense, saving throw, spell 
      success, damage and attack speed. These effects last for one hour. 
      The caster is not immune.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Sleep or Pain?","sp",'s');
switch (ch)
{
case 's':
RedirectEff(e,$"symbol of sleep",52);
return 1;
case 'p':
RedirectEff(e,$"symbol of pain",52);
return 1;
}
return 0;
};
}

Effect "Symbol of Pain" : 13
{ 0x00000040; Base: 95; Cost: 10; Level: 5; qval: 0x0002;
xval: 0x40 | 0x10 | 0x80; rval: $"symbol of pain;trap";
Purpose: 0x00004 | 0x00040 | 0x01000;
}

Effect "Symbol of Sleep" : 13
{ 0x00000008; Base: 95; Cost: 10; Level: 5; qval: 0x0002;
xval: 0x40 | 0x10 | 0x80; rval: $"symbol of sleep;trap";
Purpose: 0x00004 | 0x00040 | 0x01000;
}

50 Spell "Eldritch Bolt" : 1
{ 0x00000040; Base: 75; Cost: 10; Level: 5; qval: 0x0001 | 0x0004; aval: 1;
xval: 6; pval: (-126)d8; sval: 0; tval: 75;
cval: 5; Purpose: 0x00001;
Flags: 60, 11, 63, 4;
Desc: "Projects a bolt of negative energy that, with a successful
    ranged attack roll, inflicts 1d8 points of necromantic damage per
    caster level (scaled beginning at 10th level), allowing a Fortitude
    save for half damage.	A target who fails their save also gains a
    negative level.";
} and 3
{ xval: 112; yval: 51; pval: -1;
aval: 1; sval: 0; }



50 / 2 Spell "Force Shapechange" : 4
{ 0x00000080; Base: 60; Cost: 9; Level: 5; aval: 3; lval: 8;
cval: 13; Flags: 25, 34;
xval: 0; pval: 3d12;
Purpose: 0x00001 | 0x00004;
On Event 28 {
EVictim->GainTempStati(177,NULL,e.vDuration,7,20);
if (EVictim->HasStati(103)) {
EVictim->RemoveStati(103,84);
return 0;
}
else {
e.Immune = true;
return 1;
}
};
Desc: "Forces shapechanged and polymorphed creatures back to their
          natural form and prevents them from changing form for a while,
        inflicting 3d12 damage in the process.";
}



50 Spell "Distance Distortion" : 2
{ 0x00000100; Base: 75; Cost: 16; Level: 5; qval: 0x0002;
Purpose: 0x00004|0x02000; aval: 7; lval: 6; cval: 1;
rval: 0x00000004; sval: 3; Flags: 86, 85,
78;
xval: 117; yval: 26; pval: +20; }
and 3
{ xval: 117; yval: 26; pval: -10; }
and 3
{ xval: 20;
Desc: "Casting this spell produces a globe 60 feet in radius,
      targeted on a point of the caster's choice, where distance
      and geometry simply do not work in normal Euclidean ways,
      instead melting and flowing in a perverse and disturbing
      manner to make distances shorter for the caster's allies
      and the reverse for her enemies. Creatures within the spell's
      area of effect may suffer one or more of the following 
      effects:\n
      __<7>*<1> The caster and her allies find that their movement
      rates are doubled within the area.\n
      __<7>*<1> Enemies of the caster find that their movement rate
      is halved as long as they are in the area.\n
      __<7>*<1> Any creatures of Challenge Rating 4 or lower are
      automatically nauseated while inside the area; this element
      of the effect does not discriminate between friend and
      enemies.";
On Event (28+500) {
switch (e.efNum)
{
case 0:
return EVictim->isFriendlyTo(EActor) ? 0 : 1;
case 1:
return EVictim->isHostileTo(EActor) ? 0 : 1;
case 2:
return EVictim->ChallengeRating() <= 4 ? 0 : 1;
}
return -1;
},
206
"Distance and geometry warp and flow like melting butter!",
43
"You enter the globe of sundered geometry!",
44
"You leave the globe of sundered geometry.";
}

50 / 2 Spell "Monster Summoning V" : 9
{ 0x00000100; Base: 75; Cost: 10; Level: 5; qval: 0x0002;
Purpose: 0x00100; xval: 75; pval: 5;
Desc: "Summons a living creature of CR 5 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 5+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 8304
50 / 2 Spell "Teleport" : 6
{ 0x00000100; Base: 75; Cost: 10; Level: 5; qval: 0;
xval: 5; Purpose: 0x00008; pval: 127;
Flags: 75;
Desc: "Teleports you up to 120 squares away in the general direction
    you specify.";
On Event 52 {
if (EActor->isPlayer()) {
if (e.MM & 0x00000020) {
e.vRange = 127;
if (!ETerm->EffectPrompt(e,0x0002,false,"Teleport Location"))
return 2;
}
else {
if (!ETerm->EffectPrompt(e,0x0001,false,"Teleport Direction"))
return 2;
e.isDir = false;
e.isLoc = true;

if (DirX(e.EDir) == 1)
e.EXVal = (EActor->x + EMap->SizeX()) / 2;
else if (DirX(e.EDir) == -1)
e.EXVal = EActor->x / 2;
else
e.EXVal = EActor->x;

if (DirY(e.EDir) == 1)
e.EYVal = (EActor->y + EMap->SizeY()) / 2;
else if (DirY(e.EDir) == -1)
e.EYVal = EActor->y / 2;
else
e.EYVal = EActor->y;
}
}
if (e.EDir == 8 || !EActor->isPlayer()) {
e.isLoc = true;
do {
e.EXVal = random(EMap->SizeX() - 4)+2;
e.EYVal = random(EMap->SizeY() - 4)+2;
}
while ( EMap->SolidAt(e.EXVal,e.EYVal) ||
((int32)EMap->FTrapAt(e.EXVal,e.EYVal)) );
}
return 0;
};
}

50 Spell "Steal Magic" : 46
{
0x00000100; Level: 5; Cost: 7; Base: 90;
aval: 6; lval: -107; sval: 2;
Desc: "Casting this spell grants you a touch attack which allows
      you to steal the innate magic of supernatural creatures. Only
      those abilities which mimic spells (arcane, divine or otherwise)
      can be stolen in this manner. When you touch a creature with
      innate spell-like abilities, they must succeed in a Will saving
      throw or they lose access to one of their spell-likes for the
      remainder of the day, and you gain same.\n
      __Casting this spell gives you one touch per three caster levels,
      so you have the potential to steal several different spells from
      one or more creatures while the effect is active. This spell
      itself only lasts a short time, but any spells stolen remain
      usable by you all day.";
On Event 28 {
int32 found; int32 i; rID spID;

found = false;
ClearCandidates();
for(i=0;i!=theGame->LastSpell();i++)
{
spID = theGame->SpellID(i);
if (EVictim->HasInnateSpell(spID))
if (!ResourceHasFlag(spID,82))
if (!EVictim->HasEffStati(189,
$"Steal Magic",i))
{
AddCandidate((int32)spID);
found = true;
}
}
if (!found)
{
EActor->IPrint("That creature has no <hText>innate magic to steal.",
EVictim->HasEffStati(189,$"Steal Magic") ? "more " : "");
return 1;
}
spID = (rID) RandCandidate();

if (!EVictim->HasEffStati(79,$"Steal Magic"))
EVictim->GainTempStati(79,NULL,-2,7, (36+500),
0, $"Steal Magic");
EVictim->GainTempStati(189,NULL,-2,7,
theGame->SpellNum(spID),0,$"Steal Magic");
EActor->GainTempStati(42,NULL,-2,7,0,0,spID);
EActor->IPrint("You steal the <hObj>'s <9><Res><7> power!", EVictim, spID);
EVictim->IPrint("The <hObj> steals your <9><Res><7> power!", EActor, spID);
return 1;
},
((36+500)+10000) {
if (EActor->HasEffStati(189,$"Steal Magic",
theGame->SpellNum(e.eID)))
{
if (EActor->isPlayer())
{
APrint(e,"Nothing happens.");
EActor->Timeout += 20;
return 1;
}
return 2;
}
return 0;
},
155 {
if ((EVictim->isMType(48) &&
!EVictim->isMType(44) ) ||
EVictim->isMType(37) ||
EVictim->isMType(66) ||
EVictim->isMType(42))
return 0;
return 1;
},
206
"Your hands glow with a dissonant white light." /
"The <EActor>'s hands glow with a dissonant white light.";
}
#line "wspells.irh" 8456
50 / 2 Spell "Chain Lightning" : 1
{
0x00000010; Base: 90; Cost: 18; Level: 6;
Desc: "Casting this spell causes a stroke of lightning to arc
      from the caster's hand to an enemy of her choice, inflicting
      1d6 points of damage per caster level with no scaling. After
      striking the first foe, the lightning arcs to the next
      creature hostile to the caster nearest to the original target,
      and from there to the next, and so forth. The lightning can
      arc up to one time for every four caster levels, so at 12th
      level it hits a minimum of four targets -- the original and
      three arcs. Every arc decreases the damage by 2d6.\n
      __Note that the lightning can concievably hit a creature more 
      than once in the process of arcing from creature to creature
      (but it only *arcs to* any given creature once); furthermore,
      it can strike creatures the player does not percieve, for
      example turning 90 degrees to strike a hiding creature further 
      down an unexplored hallway.";
aval: 16; cval: 14; xval: 4;
pval: (-101)d6; qval: 0x0004; sval: 1;
Flags: 11;
On Event 170
{

e.vChainMax = e.vCasterLev / 3;


e.vCasterLev -= e.vChainCount*2;

return 0;
};
}
#line "wspells.irh" 8512
50 / 2 Spell "Disintegrate" : 1
{ 0x00000002; Base: 75; Cost: 22; Level: 6;
Purpose: 0x00001; qval: 0x0004|0x0008|0x0002;
sval: 0; aval: 4; cval: 2; pval: 20d6;
xval: 0; Flags: 40, 83;
Desc: "This terrifying spell creates a wan green ray that
      utterly destroys anything it touches, erasing up to 10 
      cubic feet of matter and leaving behind only a tiny
      trace remnant of grey dust. If a creature, or an item
      in a creature's possession, is the target of this spell,
      the victim recieves a Fortitude save to negate the
      effect. Since disintegration utterly destroys the target,
      no body remains for ressurection.\n
      __There are some other defenses against disintegration,
      of course. It's a ray, so reflection and absorbtion both
      negate it. Huge or larger creatures lose 10 cubic feet
      of mass on a failed save, suffering 20d6 points of untyped
      damage and possibly losing limbs or being otherwise maimed.
      Creatures wearing armor with the Fortification quality are
      resistant to this spell -- a creature with Light Fortification
      takes 20d6 (and possible maiming) on a failed save, Medium 
      Fortification reduces this to half, and a creature wearing
      Heavy Fortification armor is immune to disintegration.
      This spell is not a death effect, however.\n
      __Disintegrate cancels, and is cancelled by, <9>stoneskin<1>;
      this occurs before the saving throw.\n
      __If a character's total Fortitude save bonus is higher than
      the saving throw DC of this spell, the character is considered
      immune as well -- the saving throw isn't rolled, so the
      character doesn't die on a natural 1.";
On Event 83 {
if (EVictim->HasEffStati(-1,$"stoneskin"))
{
EVictim->RemoveEffStati($"stoneskin",84);
VPrint(e,"A fine layer of dust settles off of
            your skin.", "A fine layer of dust settles off of
            the <EVictim>'s skin.");
return 1;
}
if (EVictim->GetAttr(28) >= e.saveDC ||
EVictim->HasStati(177,22))
{
e.Immune = true;
return 1;
}
return 0;
},
28 {
int32 isKill, isMaimed; int32 Fort, Div;
#line "wspells.irh" 8570
if (EVictim->isFeature())
{
VPrint(e,NULL,"The <EVictim> disintegrates!");
EVictim->Remove(true);
return 1;
}


if (EVictim->isType((-4)))
{
if (EVictim->HasQuality(70) )
#line "wspells.irh" 8582
{
e.Immune = true;
return 1;
}
if (EVictim->Owner())
EVictim->Owner()->IDPrint(
"Your <hObj2> disintegrates!",
"The <hObj1>'s <hObj2> disintegrates!",
EVictim->Owner(), EVictim);
else
VPrint(e,"","The <EVictim> disintegrates!");
EVictim->Remove(true);
return 1;
}

isKill = true; isMaimed = true;
Fort = EVictim->HighStatiMag(129);
if (Fort >= 75)
{ e.Immune = true; return 1; }
else if (Fort >= 50 || EVictim->GetAttr(25) >= 7)
{ isKill = false; isMaimed = false; Div = 2; }
else if (Fort >= 25 || EVictim->GetAttr(25) >= 6)
{ isKill = false; isMaimed = true; Div = 1; }
else
isKill = true;
#line "wspells.irh" 8611
if (isKill)
{
VPrint(e,"You disintegrate!",
"The <EVictim> disintegrates!");
ThrowDmg(42,22,0,"disintegration",EActor,EVictim,EItem);
return 1;
}

if (isMaimed)
{
#line "wspells.irh" 8624
}

e.vDmg /= Div;
return 0;
},
(28+1000) {
hObj hBody;
if (EVictim->isCreature())
if (EVictim->isDead())
{
#line "wspells.irh" 8638
}
return 0;
},
75 {
rID terID;
terID = EMap->TerrainAt(e.EXVal,e.EYVal);

if (!EMap->SolidAt(e.EXVal,e.EYVal))
return 0;
#line "wspells.irh" 8656
APrint(e,"The <rID> disintegrates!",terID);
return 0;
};
}
and 5
{ rval: $"floor"; xval: 10; }
#line "wspells.irh" 8667
50 / 52 / 53 Spell "Protection from Elements" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 6; qval: 0x0004;
#line "wspells.irh" 8669
xval: 104; yval: 1; pval: 10d1 + (-101);
On Event 205 "ProtElem" / "ProE";
Desc: "Grants the target resistance equal to 10 plus her caster 
      level against Acid, Cold, Lightning, Fire and Sound.";
}
and 3 { xval: 104; yval: 2;
flags: 25; pval: 10d1+(-101); }
and 3 { xval: 104; yval: 4;
flags: 25; pval: 10d1+(-101); }
and 3 { xval: 104; yval: 3;
flags: 25; pval: 10d1+(-101); }
and 3 { xval: 104; yval: 10;
flags: 25; pval: 10d1+(-101); }

50 / 2 Spell "Tevlar's Transformation" : 2
{ 0x00000080; Base: 75; Cost: 36; Level: 6;
Desc: "Casting this spell, the mage becomes a veritable
      combat juggernaut. She adds her Wisdom modifier as a magic
      bonus to her Strength and Constitution, her Intelligence
      modifier as a magic bonus to Dexterity, and her Charisma
      bonus becomes a natural bonus to armor, overlapping any
      natural armor she might already possess. She also gains
      1d10 temporary hit points per caster level.\n
      __These great benefits come at a price. While this spell
      is active, the mage cannot cast spells, read scrolls,
      invoke innate abilities, zap wands or make ranged weapon
      attacks. As always with effects that grant temporary hit
      points, the caster should have a source of healing ready
      -- if the spell expires and her wounds exceed her true
      hit points, she will die. Regardless, when the spell
      expires the caster loses three Fatigue points.\n
      __Tevlar's Transformation can be cancelled at will.";
Flags: 66;
xval: 106; yval: 36; pval (-101)d10; }
and 2
{ xval: 106; yval: 0; }
and 2
{ xval: 106; yval: 2; }
and 2
{ xval: 106; yval: 1; }
and 2
{ xval: 118; yval: 17; }
and 2
{ xval: 79; yval: 36; }
and 2
{ xval: 79; yval: 37; }
and 2
{ xval: 79; yval: 7; }
and 2
{ xval: 79; yval: 38; }
and 2 {
xval: 79; yval: 48;
On Event 170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (e.xval == 106 || e.xval == 118) {
if (e.yval == 0 || e.yval == 2)
e.vDmg = EActor->Mod(4);
else if (e.yval == 1)
e.vDmg = EActor->Mod(3);
else if (e.yval == 17)
e.vDmg = EActor->Mod(5);
}
return 0;
},
(37+10000), (36+10000), (7+10000),
(38+10000), (48+10000) {
EActor->IPrint("You can't do that while <9>Tevlar's 
      Transformation<7> is active.");
return 2;
},
84 {
if (e.EParam == 106 && e.vVal == 36)
EActor->LoseFatigue(1,false);
};
}

50 / 2 Spell "Fiendform" : 32
{ 0x00000080; Base: 60; Cost: 20; Level: 6; Flags: 66, 55;
Desc: "By casting this inherantly evil spell, you polymorph yourself
      into one of the following six forms, randomly chosen: osyluth,
      barbazu, hamatula, babau, jovoc or palrethee."; Purpose: 0x00010;
On Event (28+500) {
int32 i;
if (e.MM & 0x00000020)
i = EActor->ChoicePrompt(
"Osyluth, Barbazu, Hamatula, Babau, Jovoc or Palrethee?",
"123456", '3') - '0';
else
i = 1d6;
switch (i)
{
case 1: e->rval = $"osyluth"; break;
case 2: e->rval = $"barbazu"; break;
case 3: e->rval = $"hamatula"; break;
case 4: e->rval = $"babau"; break;
case 5: e->rval = $"jovoc"; break;
case 6: e->rval = $"palrethee"; break;
}
return 0;
};
}
#line "wspells.irh" 8878
50 Spell "Immortal Grandeur" : 46
{ 0x00000008; Base: 60; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 50; Level: 6; sval: 2 + 10;
#line "wspells.irh" 8880
Purpose: 0x00010; Flags: 61, 70, 53;
On Event 28 {
EVictim->GainTempStati(79, EActor, e.vDuration, 2,
(19+2000),e.saveDC,$"Immortal Grandeur");
EVictim->GainTempStati(79, EActor, e.vDuration, 2,
(52+2000),e.saveDC,$"Immortal Grandeur");
return 1;
},
((19+2000)+10000), ((52+2000)+10000) {
int32 saveDC, saveType;
if (e.Event % 1000 != 19)
if ((GetHandle(EActor) == GetHandle(EVictim))
|| !EActor->isHostileTo(EVictim))
return 0;
if (EActor->ResistLevel(28) == -1)
return 0;
if (!EActor->Percieves(EVictim))
return 0;
EActor->LoseFatigue(1,false);
saveDC = EVictim->GetEffStatiVal(79,$"Immortal Grandeur");
if (e.AType == 65 || e.AType == 41)
saveDC -= 4;
saveDC -= EActor->GetEffStatiMag(189,$"Immortal Grandeur");
saveType = 0x00000020|0x00004000|0x00000001|0x00008000|0x00000400;
if (EActor->ChallengeRating() <= 5 && EVictim->isMType(62))
saveType |= 0x00000010;
if (EActor->SavingThrow(2,saveDC,saveType))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;
if (EVictim->isMType(62) && EActor->ChallengeRating() <= 3)
{
if (EActor->ResistLevel(6) == -1)
return 1;
DPrint(e,"The <EVictim>'s soul-wrenching grandeur stops your heart.",
"The <EActor> collapses dead from your soul-wrenching grandeur.");
ThrowDmg(42,28,0,"a terrifying and wonderous sight",
EVictim, EActor);
return 1;
}
TPrint(e,"The <EVictim> is too terrifying for you to attack!",
"The <EActor> hesitates.", "The <EActor> hesitates.");
return 1;
},
206
"You take on a mein of terrible grandeur!" /
"The <EActor> suddenly seems overwhelmingly awesome!",
84
"You feel less grand." /
"The <EActor> looks less heart-stoppingly beautiful now.",
205
"Grand";
Desc: "__Casting this spell wraps a character in an aura
      of radiant, terrifying glory so palpable as to
      almost be a physical force. Her force of presence
      is augmented to the point where she seems to
      formidable to even offend, let alone actually
      attack.\n
      __To attack a character under the effect of this
      spell head-on requires a Will saving throw; making
      a ranged attack also requires a saving throw, but
      this save have a +4 bonus from the distance. Every
      attack requires a seperate Will save, but every
      past successful saving throw against this spell
      grants a +1 culmulative circumstance bonus to
      further saves against this spell.\n
      __The psychological exertion requires to defy this
      spell is tremendous, and no matter how strong one's
      will, no one can last forever against it. Every
      saving throw made against it costs the maker a point
      of Fatigue.\n
      __Elves have a special advantage with regard to this
      ancient magic -- after all, it originated with them.
      If they both have this spell active and use their
      Manifestation ability, their force of presence is
      so overwhelming that living creatures of Challenge
      Rating 5 or lower die instantly, their hearts stopped
      in shock, should they fail to save against this spell
      when trying to attack. This additional aspect is a 
      death effect and a fear effect, and can be avoided 
      accordingly.";
}

50 / 2 Spell "Power Word: Stun" : 3
{ 0x00000004; Base: 30; Cost: 15; Level: 6; qval: 0x0004;
Purpose: 0x00004; xval: 5;
Flags: 58, 71; sval: 3;
Desc: "Power words are ancient pieces of the sorcerous truespeak
      from the dawn times of the world. They are inherantly unknowable,
      and creatures who hear one spoken irresistably forget the exact
      structure of its syllables immediately after hearing it. They
      can not be recorded, transcribed or preverved by any mortal
      magic; however, certain powerful divinations can grant a skilled
      mage knowledge of a Power Word just long enough to speak it once,
      allowing its terrible effect to take hold on the world.\n
      __This power word scrambles a creature's mind, preventing it from
      acting coherantly. The victim becomes stunned for a duration that
      is dependant upon their current hit points -- 1d4 rounds if the
      victim has 250 or more HP, 3d6 rounds if the victim has 150 to 249
      HP, 10d6 rounds if the victim has 149 to 75 HP and a full day if
      the victim has 74 or fewer HP.";
On Event 170 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (EVictim->cHP >= 250)
e.vDuration = 1d4;
else if (EVictim->cHP >= 150)
e.vDuration = 3d6;
else if (EVictim->cHP >= 75)
e.vDuration = 10d6;
else
e.vDuration = -2;
return 0;
},
206
"You point at the <EVictim> and speak an ineffable word!" /
"The <EActor> points at you and speaks an ineffable word!" /
"The <EActor> points at the <EVictim> and speaks an ineffable word!";
}

50 Spell "Mirage Arcana" : 46
{ 0x00000020; Base: 75; Cost: 16; Level: 6; qval: 0x0002;
yval: 1; aval: 7; rval: 0x00000001; lval: 6;
Flags: 25, 66;
Desc: "This spell is similar in effect to the 4th-level illusion
      <9>hallucinatory terrain<1>, but much improved and wider in
      scope. Like the improved illusion spells, it affects all natural
      and exceptional senses and can only be seen through with <9>true
      seeing<1> or similar magic. It affects a 60-foot radius rather
      than a 30-foot one. Most significantly, however, it allows the
      illusionist to conceal terrain as well as create it -- a river
      of magma could be made to look like a shallow stream, or a chasm
      could be concealed with the illusion of smooth floor. The
      concealed terrain is real, of course, and has its full normal
      effect if monsters (or the player character) are tricked into
      walking over it, though these effects are concealed from their
      perception.";
On Event 52 {
int32 ch;
if (EActor->HasEffStati(189,$"Hallucinatory Terrain") ||
EActor->HasEffStati(189,$"Mirage Arcana"))
{
EActor->IPrint("You can only have one terrain illusion
            active at a time.");
return 2;
}

ch = EActor->ChoicePrompt("Floor, Magma, Chasm, Slime, Pool or Webbing?",
"fmcspw", 'm', 1, 9);
EActor->GainTempStati(189,NULL,e.vDuration,2,ch,e.saveDC,
$"Mirage Arcana");
return 0;
},
84 {
EMap->RemoveEffField($"Mirage Arcana");
return 0;
},
127 {
int32 ch; rID tID;
tID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (!ResourceHasFlag(tID,1))
{
ch = EActor->GetEffStatiVal(189,$"Mirage Arcana");
switch (ch)
{
case 'f': e.eID = $"floor"; break;
case 'm': e.eID = $"magma"; break;
case 'c': e.eID = $"chasm"; break;
case 's': e.eID = $"pool of slime"; break;
case 'p': e.eID = $"deep water"; break;
case 'w': e.eID = $"webbing"; break;
}
}
else
e.eID = tID;
return 1;
};
}

50 Spell "Demi-Shadow Magic" : 8
{ 0x00000020; Base: 75; Cost: 15; Level: 6;
Purpose: 0x00100; xval: 75; yval: 1|32|8;
Desc: "This functions similarly to <9>shadow magic<1>, except that the spells
      it can duplicate are 3rd and 4th level, and the damage it inflicts is 50~
      real.";
Flags: 99;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout";
}

50 Spell "Shades" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 6;
Purpose: 0x00100; xval: 75;
yval: 1|32|8|16;
Desc: "This spell functions identically to <9>shadow monsters<1>,
      except that the created creatures are 70~ real, and thus inflict
      70~ if their normal damage on disbelieving characters and can suffer
      up to 70~ of their total hit points from disbelievers before being
      dispelled.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61, 98;
}

50 / 52 Spell "True Seeing" : 3
{
0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 60; Level: 6;
#line "wspells.irh" 9093
Desc: "This august divination shatters all deceptions, causing
      the caster to inherantly see through every spell of the
      Illusion school -- the effect is automatic and uncontested,
      unless the creator of the illusion has a <9>false vision<1>
      spell active. Shadow creatures and effects still affect the 
      caster with regard to the percent that they are real, but she 
      automatically disbelieves them and never suffers full 
      damage.";
#line "wspells.irh" 9105
xval: 148;
On Event 205 "TrueSight" / "TS";
}

50 / 2 Spell "Monster Summoning VI" : 9
{ 0x00000100; Base: 75; Cost: 12; Level: 6; qval: 0x0002;
Purpose: 0x00100; xval: 75; pval: 6;
Desc: "Summons a living creature of CR 6 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 6+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 9171
50 Spell "Othello's Irresistable Dance" : 3
{ 0x00000008; Base: 75; Cost: 75; Level: 8; tval: 11;
Purpose: 0x00004 (9); qval: 0x0002;
aval: 11; cval: 10; lval: 30;
Flags: 4, 61, 23, 53;
On Event 205 "Dancing" / "Dan";
Desc: "Causes all humanoid creatures within a 30 foot radius
      globe to dance and caper wildly, inflicing a -6 penalty to 
      Defense Class, -6 to Reflex saves and halving attack speed 
      and movement rate for the 1d4+1 rounds the effect lasts. 
      There is no saving throw against this effect, though it can 
      be dispelled normally, and mindless creatures are immune.";
On Event 28
"You are magically compelled to begin a ludicrous dance!" /
"The <EVictim> begins dancing wildly!",
84
"You stop dancing." /
"The <EActor> manages to stop dancing.";
xval: 117; yval: 27; pval: -6; }
and 3
{ xval: 117; yval: 29; pval: -6; }
and 3
{ xval: 117; yval: 54; pval: -10; }
and 3
{ xval: 117; yval: 26; pval: -10; }
#line "wspells.irh" 9248
Effect "Dominate Monster" : 3
{ 0x00000008; Base: 75; Cost: 10; Level: 5; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 137; yval: 4;
Flags: 25, 53, 103;
Desc: "Gives you telepathic control over any single
      creature with a mind.";
On Event 28
"You sieze control of the <EVictim>'s mind!" /
"The <EActor> siezes control of your mind!" / "",
74
"You shake off the effect of the domination." /
"The <EActor> shakes off the effect of the domination.";
}



Effect "Unseen Servant" : 25 { }
Effect "Sculpt Sound" : 25 { }
Effect "Sound Burst" : 25 { }
Effect "Serpent Tongue" : 25 { }
Effect "Commune" : 25 { }
Effect "Blade Barrier" : 25 { }
Effect "Word of Recall" : 25 { }
Effect "Plant Growth" : 25 { }
Effect "Water Breathing" : 25 { }
Effect "Wrack" : 25 { }
Effect "Planar Conjuration" : 25 { }
Effect "Contact Other Plane" : 25 { }
Effect "Fog Cloud" : 25 { }
Effect "Feeblemind" : 25 { }
Effect "Unholy Aura" : 25 { }
Effect "Find the Path" : 25 { }
Effect "Phantasmagoria" : 25 { }
Effect "Tempus Fugit" : 25 { }
Effect "Reverse Gravity" : 25 { }
Effect "Spell Turning" : 25 { }
Effect "Energy Drain" : 25 { }
Effect "Rainbow Pattern" : 25 { }
Effect "Mind Fog" : 25 { }
Effect "Persistant Illusion" : 25 { }
#line "dungeon.irh" 5
int32 murgash_killed,
murgash_quelled;
Dungeon "The Goblin Caves"
{
Constants:
* 18 16,
* 20 16,
* 21 20,
* 22 4,
* 50 $"up stairs",
* 51 $"down stairs",
* 12 $"Rough-Hewn Tunnel",
* 44 10,
* 57 $"ancient passage";
Specials:
* $"entry chamber" at level 1,
* $"ancient library" at level 2,


* $"Parthenion" at level 2,
#line "dungeon.irh" 31
* $"place of sanctuary" at level 3,
* $"armoury" at level 3,
* $"place of sanctuary" at level 5,
* $"abandoned temple" at level 6,
* $"place of sanctuary" at level 7,
* $"armoury" at level 7,
* $"place of sanctuary" at level 9,
* $"the Goblin Encampment" at level 10;
Desc: "These are the Goblin Caves, the subterrainian passages in 
        eastern Mohandi where many kings and warlords believe the goblinoid
        peoples are preparing for a massive attack upon the surface world
        of Therya. Many believe them to have once been an ancient dwarven
        or drow citadel, long since abandoned.";
}

Dungeon "The Nine Hells"
{
Constants:
* 44 9,
* 45 10,
* 57 $"infernal portal";
Lists:
* 10 73 73 73
103 76 $"cave orc";
Specials:
* $"entry chamber;hells" at level 1;
#line "dungeon.irh" 81
}

Dungeon "Monster Evaluation Arena"
{
Constants:
#line "dungeon.irh" 92
* 21 20,
* 22 4,
* 50 $"up stairs",
* 51 $"down stairs",
* 12 $"Rough-Hewn Tunnel",
* 44 1;
Specials:
* $"arena chamber" at level 1;
Desc: "This area is used to compare the combat prowess of various
           monsters.";
}
#line "dungeon.irh" 108
Feature "oak door" : 11 {
Image: brown '-';
Mat:8;
HP: 20;
}

Feature "ice door" : 11 {
Image: bright blue '-' on blue;
Mat:24;
HP: 30;
}



Feature "iron door" : 11 {
Image: grey '-';
Mat:11;
HP: 40;
}

Feature "darkwood door" : 11 {
Image: shadow '-';
Mat:29;
HP: 60;
}


Feature "vault door" : 11 {
Image: cyan '-';
Mat:18;
HP: 60;
}

Feature "warded oak door" : 11
{
Image: purple '-'; Mat:8; HP: 20;
Desc: "This door has been imbued with mystic runes that keep out
    (or perhaps keep in) incorporeal threats. It is solid (when
    not opened) to creatures on other planes.";
On Event 161 {
if (!(EItem->DoorFlags & 0x02))
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67)))
return 2;
};
On Event 47 {
if (!(EItem->DoorFlags & 0x02))
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67))) {
EActor->IPrint("When closed, the warded door bars entry to incorporeal and summoned creatures.");
return 2;
}
};
}
#line "dungeon.irh" 167
Feature "up stairs" : 10
{
Image: pink '<';
Mat:28;
xval:1;
}

Feature "down stairs" : 10
{
Image: pink '>';
Mat:28;
xval:2;
}

Feature "infernal portal" : 10
{
Image: red 240;
Mat: 31;
xval: 7;
Target: $"The Nine Hells";
Desc: "This shimmering red portal leads to the Nine Hells.";
}

Feature "material portal" : 10
{
Image: green 240;
Mat: 31;
xval: 7;
Target: $"The Goblin Caves";
}

Feature "ancient passage" : 10
{
Image: bright cyan '<';
Mat:31;
xval:7;
Target: $"The Goblin Caves";
}

Feature "cave enterance" : 10
{
Image: bright green '<';
Mat:31; xval:1;
Desc: "Warm light and the reassuring clear air of the surface
      world waft out of this upward egress.";
hObj hRoark, hCoins;
On Event 50 {
if (murgash_killed) {
ETerm->Box("__You step out of the caves and back into the light
          of day, content that your mission is complete. The world has
          not changed much for your absence, but it is new to your
          eyes -- where you left it as a novice, you re-emerge into it
          as a hero, having taken the first steps toward becoming like
          the great adventurer-lords of old.
          \n\tThe goblin king is dead. His tribes will scatter across
          the lands, and perhaps that is ultimately for the best. But
          the shadow of a great and subtle evil still hangs over the
          land of Therya, and you very much doubt that your ordeals
          have come to an end on this day.");
Throw(87,EActor);
return 1;
}
else if (murgash_quelled) {
ETerm->Box("__You step out of the caves and back into the light
          of day, content that your mission is complete. The world has
          not changed much for your absence, but it is new to your
          eyes -- where you left it as a novice, you re-emerge into it
          as a hero, having taken the first steps toward becoming like
          the great adventurer-lords of old.
          \n\tThe goblin king has been defeated. His tribes will scatter 
          across the lands, and perhaps that is ultimately for the best. 
          But the shadow of a great and subtle evil still hangs over the
          land of Therya, and you very much doubt that your ordeals
          have come to an end on this day.");
Throw(87,EActor);
return 1;
}
else {
do {
if (EActor->InSlot(0))
return 1;
switch(EActor->ChoicePrompt("Store, Inn, Retire or Descend?", "sird", 'd'))
{
case 's':
if (hRoark == ((hObj)0))
hRoark = InitShopkeeper($"Roark Ironbeard",100000);

Throw(56,EActor,hRoark);
break;
case 'i':
if (EActor->TotalLevel() >= 5 ||
EActor->getMaxDepth($"The Goblin Caves") >= 4)
{
ETerm->Box("__You make your way to the inn, but stop around
                      the streetcorner as you spot armed hobgoblin sentinels
                      surveilling the area -- and see suspiciously humanoid
                      shapes slumped dead in the alley. It looks as though
                      your descent has beed noticed by Murgash, and assassins
                      allied with the goblins wait in the hamlet to strike at
                      you when you let down your guard. It might be safer to
                      rest in a secured area in the Goblin Caves themselves
                      from now on.");
return 2;
}
ETerm->Box("__You return to the surface world for a brief night
                  of rest and respite, replenishing your magical energies and
                  giving your wounds time to heal. Yet, duty awaits, and you
                  dare not dally too long. Regretfully, you return to the
                  claustrophobic enclaves of the Goblin King.");
ThrowVal(45,0x0001|0x0020,EActor);
break;
case 'd':
return 1;
break;
case 'r':
ETerm->Box("__Having done all you feel able against the hordes
                  of the Goblin King, you choose to turn away from the life of
                  the adventurer and move on with a more mundane existance. As
                  the next few years pass, however, you continue to hear the
                  drums of war in the back of your mind, and when the hordes
                  finally do boil forth and the sky is filled with fire, you
                  find yourself wishing you had found the fortitude to continue
                  with your quest, no matter how impractical it may have seemed
                  to you at the time.");
ThrowDmg(42, 0,0,"the coming storm", EActor, EActor);
return 1;
}
}
while (1);
return 1;
}
};
}

Monster "Roark Ironbeard" : 63, 87
{
Image: red 1; Size: 4; Mana: 10;
CR: 5; HD: 5; Hit:+5; Def:15; Mov: 100%; Speed: 100%;
Str 16, Dex 14, Con 16, Int 14, Wis 16, Cha 13, Luc 8;
Attk:1 for 1d2 13;
Stati[39,42,6];
Flags: 36, 37, 1, 106, 67, 24;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 11, 44, 21,
32, 3;
Gear:
5d10 $"potion" of $"mana",
2d6 $"potion" of $"see invisibility;potion",
5d10 $"potion" of $"dimension door",
3d10 $"potion" of $"light;potion",
50% 1d8 $"potion" of $"faerie;potion",
20d20 $"hemp rope",
50% 5d20 $"silk rope",
2d4 $"spellbook [Adventurers' Arts]",
1d4 $"spellbook [Fundamentals of Magick]",
50% $"spellbook [Mystic Aegis]",
50% $"spellbook [Tome of Magic]",
50% $"spellbook [Practical Divinings]",
50% $"spellbook [Book of Glamour]",
50% $"spellbook [Energy Magicks]",
50% $"spellbook [Magician's Manual]",
50% $"spellbook [Ars Mortis]",

50% $"spellbook [Place and Time]",
3d4 $"medium backpack",
1d4+1 $"small backpack",
50% $"medium backpack" +2,
50% $"medium backpack" +3,
50% $"small backpack" +2,
50% $"gnomish backpack",
$"long sword" of random 2 to 3,
$"long sword" of random 6 to 12,
25% $"greatsword" of random 6 to 12 else
33% $"warhammer" of random 6 to 12 else
50% $"halberd" of random 6 to 12 else
$"longspear" of random 6 to 12,
10d10 $"dagger",
75% 2d10 $"dagger" +1,
35% 2d10 $"dagger" of random 2 to 5,
$"cloak" of $"nondetection",
$"leather armor",
$"studded leather",
$"full plate armor",
$"chainmail shirt",
$"plate mail",
50% $"splint mail",
50% $"banded mail",
2d6 $"bag" of $"tanglefoot bag",
random 58 of random 3 to 10,
random 58 of random 3 to 10,
random 58 of random 3 to 10,
50% random 58 of random 3 to 10,
50% random 58 of random 3 to 10,
50% random 58 of random 3 to 10,
random 21 of random 3 to 10,
random 21 of random 1 to 10,
50% random 21 of random 1 to 10,
25% random 48 of random 1 to 10,
25% random 48 of random 1 to 10,
15% random 23 of random 1 to 10,
15% $"amulet" of random 1 to 10,
15% random 41 of random 1 to 10,

10% $"girdle" +3 of $"giant strength" else
50% $"girdle" +2 of $"giant strength" else
$"girdle" +1 of $"giant strength",
10% $"gauntlets" +3 of $"gloves of dexterity" else
50% $"gauntlets" +2 of $"gloves of dexterity" else
$"gauntlets" +1 of $"gloves of dexterity",
10% $"bracers" +3 of $"health" else
50% $"bracers" +2 of $"health" else
$"bracers" +1 of $"health",
10% $"headband" +3 of $"intellect" else
50% $"headband" +2 of $"intellect" else
$"headband" +1 of $"intellect",
10% $"amulet" +3 of $"periapt of wisdom" else
50% $"amulet" +2 of $"periapt of wisdom" else
$"amulet" +1 of $"periapt of wisdom",
10% $"cloak" +3 of $"charisma" else
50% $"cloak" +2 of $"charisma" else
$"cloak" +1 of $"charisma",
50% random 22,
50% random 22,
50% random 22,
3d10 $"potion" of $"remove curse;potion",
2d10 $"potion" of $"cure disease",
50% 2d4 $"potion" of $"antitoxin",
50% 1d4 $"potion" of $"restore strength",
50% 1d4 $"potion" of $"restore dexterity",
50% 1d4 $"potion" of $"restore constitution",
50% 1d4 $"potion" of $"restore intelligence",
50% 1d4 $"potion" of $"restore wisdom",
50% 1d4 $"potion" of $"restore charisma",
50% 1d4 $"potion" of $"restore luck",
1d2+1 $"potion" of $"restoration",
1d2+1 $"potion" of $"detect stairs",
1d3 $"wand" of $"identify;wand",
50% $"climbing rig",
66% $"alchemy set",
50% $"viewing lens",
50% $"healing kit",
1d2 $"craftsman's tools",
50% $"mechanical tools",
30% $"disguise kit",
75% 1d2 $"pickaxe",
3d10 $"food ration";
On Event 215
"Roark Ironbeard's All-Purpose Adventurers' Store",
(173+2000) {
if (EItem->isType(39))
return 1;

if (EActor->SkillLevel(11) +
EVictim->getSocialMod(EActor,false) >= 12)
{
if (!EVictim->HasStati(189,-1,EActor))
EActor->IPrint("Roark says, 'Now normally I don't buy my wares
              from adventurers, but you really look like you could use a
              hand so I'll help you out here.'");
if (!((EItem->isType(58) || EItem->isType(21) ||
EItem->isType(24) || EItem->isType(45)) &&
EItem->isMagic() && EItem->ItemLevel() > 3))
{
EActor->IPrint("Roark grumbles, 'I don't think I can move that, but I do want
                to help. If you could bring me some powerful, magical weapons
                or armor, though, I'd be interested in that...'");
return 3;
}
if (EVictim->GetStatiMag(189) > (EActor->SkillLevel(
11) + EVictim->getSocialMod(EActor,false)) / 4)
{
EActor->IPrint("Roark frowns. 'No question, you bring in 
                great goods, but I'm already overstocked with the other
                items you've sold me.'");
return 3;
}
EVictim->IncStatiMag(189,7,-1,EActor,+1);
return 1;
}
EActor->IPrint("Roark says, 'Sorry, <hText>, I get my wares from the
        guild. I do by gems and precious metals, though -- got a nice
        contract with the blacksmiths and jewellers. It's me dwarven soul,
        what can I say.'", EActor->StateFlags & 0x0004 ? "love" : "son");
return 3;
};
}
#line "dungeon.irh" 458
Region "Underground River" : 19
{ Floor: $"shallow water"; }

Region "Cooled Magma Flow" : 19
{ Floor: $"smooth igneous rock"; }

Region "Mud-Choked River" : 19
{ Floor: $"shallow mud"; }

Region "Magma Flow" : 19
{ Floor: $"brimstone"; Depth: 3; }

Region "Raging Underground River" : 19
{ Floor: $"turbulent water"; Depth: 5; }

Region "Quartz Streamer" : 17
{ Floor: $"quartz"; }

Region "Limestone Streamer" : 17
{ Floor: $"limestone"; }

Region "Glacial Streamer" : 17
{ Floor: $"ice wall"; }

Region "Crumbled Crevice" : 17
{ Floor: $"loose-packed earth"; }

Region "Vast Chasm" : 18
{ Floor: $"chasm"; Depth: 5; }
#line "dungeon.irh" 492
Terrain "Solid Rock"
{ Image: brown 176; Mat:28;
Flags: 1, 2, 20; }

Terrain "Indestructable Rock"
{ Image: shadow 176; Mat:23;
Flags: 1, 2, 20, 5;
On Event 1, 161 {
return 2;
};
}

Terrain "Dungeon Wall"
{ Image: grey 177; Mat:28;
Flags: 1, 2, 20; }

Terrain "Ice Wall"
{ Image: bright blue 219 on blue; Mat:24;
Flags: 1, 20, 5;
On Event 75 {
if (e.DType == 1 && e.vDmg > (10+random(10))) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"shallow water");
SinglePrintXY(e,"The ice melts!");
}
return 0;
};
}

Terrain "Wall Torch"
{ Image: yellow 177; Mat: 28;
Flags: 1, 2, 10, 14, 20; }

Terrain "quartz"
{ Image: grey 176; Mat:26;
Flags: 20, 1, 2; }

Terrain "solid igneous rock"
{ Image: shadow 176; Mat:25;
Flags: 20, 1, 2; }

Terrain "limestone"
{ Image: green 176; Mat:21;
Flags: 20, 1, 2; }

Terrain "Warded Wall"
{ Image: bright purple 176; Mat:28;
Flags: 1, 2, 20, 5;
On Event 50, 161 {
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67)))
return 2;
};
Desc: "This wall has been imbued with mystic runes that keep out
    (or perhaps keep in) incorporeal threats and summoned creatures. It is
    solid to creatures on other planes.";
}

Terrain "Building Wall"
{ Image: brown 177; Mat:8;
Flags: 1, 2, 20; }

Terrain "Adamant Wall"
{ Image: shadow 219; Mat:18;
Flags: 1, 2, 20; }

Terrain "bookshelf"
{ Image: brown 219; Mat: 8;
Flags: 1, 2, 20; }



Terrain "Steel Fence"
{ Image: cyan 240; Mat:11;
Flags: 1, 20; }
#line "dungeon.irh" 572
Terrain "gold vein"
{ Image: yellow 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"gold nugget");
it->SetQuantity( (3d10 + EActor->SkillLevel(35)) *
(3 + EMap->Depth));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
}

Item "gold nugget" : 39
{
Image: yellow 4; Cost: 10;
Mat: 15; Weight: 1; HP: 10;
Size: 1; Flags: 8, 1;
}

Terrain "diamond deposit"
{ Image: white 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"diamond");
it->SetQuantity( (1d4 + EActor->SkillLevel(35)/3) *
(3 + EMap->Depth/2));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
Constants:
* 110 3;
}

Item "diamond" : 39
{
Image: white 4; Cost: 100;
Mat: 15; Weight: 0; HP: 1;
Size: 1; Flags: 8, 1;
}

Terrain "mithril vein"
{ Image: grey 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"mithril ingot");
it->SetQuantity( (1d4 + EActor->SkillLevel(35)/3) *
(3 + EMap->Depth/2));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
Constants:
* 110 5;
}

Item "mithril ingot" : 39
{
Image: grey 4; Cost: 300;
Mat: 18; Weight: 1; HP: 20;
Size: 1; Flags: 8, 1;
}

Terrain "adamant vein"
{ Image: grey 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"adamant ingot");
it->SetQuantity( (1d4 + EActor->SkillLevel(35)/3) *
(3 + EMap->Depth/2));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
Constants:
* 110 7;
}

Item "adamant ingot" : 39
{
Image: grey 4; Cost: 500;
Mat: 18; Weight: 1; HP: 40;
Size: 1; Flags: 8, 1;
}
#line "dungeon.irh" 658
Terrain "chasm"
{ Image: white ' ' on shadow; Mat:31;
Flags: 18, 6, 12;
On Event 161 {
if (EActor->isAerial() || EActor->HasStati(85))
return 0;
return 2;
};
}

Feature "tightrope" : 13
{
Image: brown 197; Mat: 6;
Flags: 0x10000, 0x20000;
On Event 133 {
#line "dungeon.irh" 677
if (EActor->SkillLevel(5) < 10)
{
EActor->IPrint("You lack the skill to balance on the tightrope!");
return 0;
}
if (!EActor->HasEffStati(205,$"tightrope"))
EActor->IDPrint("You step out onto the tightrope...",
"The <hObj> begins walking along the tightrope bridge...",
EActor);
if (EActor->GetEffStatiVal(205,$"tightrope") ==
(EActor->x + EActor->y*128))
return 1;
if (!EActor->SkillCheck(5,15,true))
{ EActor->RemoveEffStati($"tightrope");
EActor->IDPrint("You fall!","The <hObj> falls!", EActor);
return 0; }
EActor->RemoveEffStati($"tightrope");
EActor->GainTempStati(205,NULL,2,7,
EActor->x + EActor->y*128,0,$"tightrope");
EActor->IPrint("You stay balanced...");
return 1;
};
}

Effect "create tightrope bridge" : 46
{
aval: 2; qval: 0x0002; cval: 6;
int32 feet_needed, tx, ty;
Flags 102;
On Event (52+500) {
feet_needed = 0;
if (EMap->SolidAt(EActor->x,EActor->y) ||
EMap->FallAt(EActor->x,EActor->y) ||
ResourceHasFlag(EMap->TerrainAt(
EActor->x,EActor->y), 16))
{
EActor->IPrint("You must stand on solid, open ground
            before you create a tightrope bridge.");
return 2;
}
return 0;
},
52 {
hObj hRope;
switch (e.efNum)
{
case 0:
if (e.isLoc) {
tx = e.EXVal;
ty = e.EYVal;
}
else if (e.isDir) {
tx = EActor->x + DirX(e.EDir);
ty = EActor->y + DirY(e.EDir);
}
else {
tx = ETarget->x;
ty = ETarget->y;
}
break;
case 1:
if (!feet_needed)
{
EActor->IPrint("There's nothing there to make a bridge over.");
return 2;
}
hRope = EActor->ConsumeRope(feet_needed);
if (hRope == ((hObj)0))
return 2;
hRope->Remove(true);
EActor->IPrint("You anchor a rope at the other side tightly,
              wrapping it around an outcropping and pulling it taut.");
return 0;
case 2:
e.EXVal = tx;
e.EYVal = ty;
e.isLoc = true;
e.isDir = false;
SetETarget(e,((hObj)0));
break;
}
return 0;
},
75 {
if ((e.efNum == 0) && (EMap->FallAt(e.EXVal, e.EYVal) ||
ResourceHasFlag(EMap->TerrainAt(e.EXVal, e.EYVal), 16)))
feet_needed += 10;
return 0;
},
170 {
e.vRange = 15;
return 0;
};
}
and 46
{
aval: 0;
}
and 5
{
aval: 2; lval: 12; cval: 6;
xval: 11; rval: $"tightrope";
}
#line "dungeon.irh" 785
Feature "Pillar" : 13
{ Image: grey 9; Mat:28;
Flags: 0x0001, 0x0200; HP: 40;
}

Feature "altar" : 13
{ Image: white '8'; Mat: 21;
Flags: 0x40000; HP: 25;
}

Feature "pews" : 13
{ Image: brown 219; Mat: 8; HP: 10; }

Feature "rock column" : 13
{ Image: brown 9; Mat:21;
HP: 10;
Flags: 0x0001, 0x0200;
Desc: "Stalactites and stalagmites are naturally occurring rock
    formations that look somewhat like massive icicles or spears crafted
    from stone. They are especially common in areas with limestone
    deposits.";
}

Feature "pile of rubble" : 13
{ Image: brown ':'; Mat:28;
Flags: 0x8000, 0x10000; HP: 10;
Constants:
* 140 2;
}
#line "dungeon.irh" 819
Terrain "Floor"
{ Image: grey 250; Mat:28;
Flags: 4; }

Terrain "Floor;2"
{ Image: grey 249; Mat:28;
Flags: 4; }

Terrain "smooth igneous rock"
{ Image: shadow 247; Mat:25;
Flags: 12 ; }

Terrain "obsidian"
{ Image: shadow 250; Mat:25;
Flags: 12 , 4; }

Terrain "bloodstain"
{ Image: red 249; Mat:28;
Flags: 4, 12; }

Terrain "pool of blood"
{ Image: red 247; Mat:1; }

Terrain "pile of trash"
{ Image: shadow '&'; Mat: 4;
Desc: "A messy pile of rags, tattered papers and rotting food, along
      with lumps and fluids you would rather not try to identify.";
Flags: 12;
}

Terrain "pile of bones"
{ Image: red '&';
Desc: "A pile of greasy, gnawed bonus.";
Flags: 12;
}

Terrain "pool of slime"
{ Image: purple 247 on brown; Mat:1;
Flags: 6, 19, 12;
Constants:
* 140 1;

}

Terrain "Loose-Packed Earth"
{ Image: brown 249; Mat:21;
Flags: 4;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 74)
if (random(20) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"shallow mud");
SinglePrintXY(e,"The ground turns to mud!");
}
return 0;
},
154 {
if (EActor->isMType(38) && EActor->isMType(92))
{
EMap->WriteTerra(EActor->x,EActor->y,$"shallow mud");
SinglePrintXY(e,"The ground turns to mud!");
}
return 0;
};
Flags: 5;
}
#line "dungeon.irh" 892
Feature "hanging vines" : 13
{ Image: brown 157; Mat:3;
Flags: 0x2000;
Move: 100%; HP: 11;
Desc: "This area contains strong hanging vines. The vines do not impede
    movement or vision, but they can be climbed and they do give the area
    a verdant feel.";
}

Feature "tree" : 13
{ Image: green 157; Mat:8;
Flags: 0x2000, 0x4000;
Move: 75%; HP: 20;
}

Feature "giant mushroom" : 13
{ Image: purple 157; MAT:3;
Flags: 0x2000, 0x4000;
Move: 75%; HP: 20;
}

Feature "verdant bloom" : 13
{ Image: bright green 157; MAT:3;
Flags: 0x2000;
Move: 75%; HP: 10;
Desc: "This area is thick with fungal outcroppings and rope-like roots.
    A soft, warm light shines indirectly from incandescent motes in the
    air. It would appear to be the perfect habitat for plant life." ;
On Event 156 {
if (1d6 >= 5 && EMap->Depth > 1)
EMap->GenEncounter(0x00000004|0x00000040,EMap->Depth,EMap->Depth,
49, 0,(rID)0,e.EXVal,e.EYVal,NULL);
};
}

Terrain "thorn wall"
{ Image: green 34; Mat:3;
Flags: 15, 2, 6, 5, 12; Mov: 15%;
On Event 161 {
if (EActor->HasAbility(110) ||
EActor->onPlane() != 0 ||
EActor->ResistLevel(11) == -1 ||
EActor->ResistLevel(11) >= 20)
return 0;
else
return 2;
} ;
On Event 75 {
if (e.aval == 2 || e.aval == 3 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(20) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The thorn wall burns!");
}
return 0;
};
On Event 1 {
if (EActor->HasAbility(110) ||
EActor->onPlane() != 0)
return 0;
if (!EActor->SkillCheck(13,30,true,false))
{
DPrint(e,"You are still tangled in the thorn wall!",
"An <EActor> remains tangled in the thorn wall!");
EActor->Reveal(false);
EActor->MakeNoise(3);
EActor->Timeout += 30;
return 2;
}
ThrowTerraDmg(41,11,25,"a wall of thorns",EActor, $"thorn wall");
return 0;
};
Desc: "A towering wall of thorns. Moving out of a thorn wall requires a
    DC 30 Escape Artist check. Creatures moving through a thorn wall
    suffer 25 points of slashing damage. Creatures with the woodland
    stride ability or creatures on different planes are immune.";
}
#line "dungeon.irh" 976
Terrain "stinking cloud;terrain"
{ Image: green '~'; Mat:31;
Flags: 3, 12, 6, 5;
On Event 1 {
if (EActor->onPlane() == 0 &&
EActor->isMType(78) &&
!EActor->SavingThrow(0,20))
EActor->GainTempStati(20,EVictim,2d4,2,0,0,
$"stinking cloud");
} , 161 {
if (EActor->onPlane() == 0 &&
EActor->isMType(78) &&
!EActor->GetAttr(28) < 15)
return 2;
else
return 0;
} ;
Desc: "Any breathing creature in a stinking cloud must make a
    Fortitude Save (DC 20) each round to avoid becoming nauseated for
    an additional 2d4 rounds. Nauseated creatures cannot attack or
    cast spells.";
}

Terrain "fog"
{ Image: grey '~'; Mat:31;
Flags: 3, 12;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1 || e.DType == 2)
if (!random(3)) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The fog is cleared!");
}
return 0;
};
}

Terrain "solid fog bank"
{ Image: skyblue '~'; Mat:30;
Flags: 5, 12, 3; Mov: 15%;
On Event 159 {
if (GetHandle(EItem2) == NULL)
return 0;
APrint(e,"The <EItem2> is deflected by the solid fog!");
return 2;
};
}

Terrain "acid fog"
{ Image: brown '~'; Mat:31;
Flags: 3, 12, 5, 6;
On Event 161 {
if ((EActor->onPlane() != 0) ||
(EActor->ResistLevel(3) == -1) ||
(EActor->ResistLevel(3) >= 6))
return 0;
else
return 2;
} ;
On Event 1, 19, 37 {
if (EActor->onPlane() != 0)
return 0;
ThrowTerraDmg(41,3,1d6,"acid fog",EActor, $"acid fog");
if (EActor->ResistLevel(3) < 6)
ThrowTerraDmg(41,39,1d6,"acid fog",EActor, $"acid fog");
return 0;
} ;
Desc: "This deadly corrosive fog deals 1d6 points of acid damage and
    1d6 points of rust damage to any creature that moves, attacks or casts
    a spell in it. The Woodland Stride ability does not prevent this
    damage. Acid Resistance of 6 or higher negates the threat of
    equipment damage.";
}
#line "dungeon.irh" 1056
Terrain "pool of grease"
{ Image: yellow 247 on brown; Mat:32;
Flags: 6, 5, 13, 12;
hObj mount;
On Event 161 {
if (EActor->HasStati(205))
return true;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(5) > 10 ||
mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() ||
mount->isMType(17) ||
mount->HasMFlag(9))
return true;
else
return -1;
} else {
if (EActor->SkillLevel(5) > 10 ||
EActor->HasStati(15) ||
EActor->HasAbility(110) ||
EActor->isAerial() ||
EActor->isMType(17) ||
EActor->HasMFlag(9))
return true;
else
return -1;
}
} ;
Desc: "You (or your mount) must make a Balance skill check (DC
    typically 15) to avoid slipping on the grase when you move, attack,
    jump off it or land on it. Flying creatures, jellies, incorporeal
    creatures, and creatures with the Woodland Stride ability are immune.";
On Event 1, (19+500), 167, 166 {
if (EActor->isIllusion())
return 0;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() ||
mount->isMType(17) ||
mount->HasMFlag(9))
return 0;
if (!mount->SkillCheck(5,max(15,EMap->GetTerraDC(EActor->x,EActor->y)),true,false)) {
DPrint(e,"Your mount slips and falls!",
"An <EActor>'s mount slips and falls!");
ThrowTerraDmg(41,67,-1,"pool of grease",mount, $"pool of grease");
EActor->Timeout += 10;
return 1;
}
} else {
if (EActor->HasStati(15)
|| EActor->HasAbility(110)
|| EActor->isMType(17)
|| EActor->HasMFlag(9)
|| EActor->isAerial())
return 0;
if (!EActor->SkillCheck(5,max(15,EMap->GetTerraDC(EActor->x,EActor->y)),true,false)) {
DPrint(e,"You slip and fall!",
"An <EActor> slips and falls!");
ThrowTerraDmg(41,67,-1,"pool of grease",EActor, $"pool of grease");
EActor->Timeout += 10;
return 1;
}
}
return 0;
};
}


Terrain "Old Webbing"
{ Image: shadow '#'; Mat:22; Mov: 25%;
Flags: 3, 5, 12;
hObj mount;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(20) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The old webbing burns!");
}
return 0;
},
161 {
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isMType(26) ||
mount->onPlane() != 0 ||
mount->HasAbility(110))
return 0;
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
}
if (EActor->ChallengeRating() >= 3)
return 0;
else
return 2;
} ,
1, 166 {
if (!GetHandle(EActor)) return 2;
if (EActor->isIllusion())
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isMType(26) ||
mount->onPlane() != 0 ||
mount->HasAbility(110))
return 0;
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
EActor->MakeNoise(10);
}
SinglePrintXY(e,"The old webbing is torn apart.");
EMap->WriteTerra(EActor->x,EActor->y,$"floor");
if (random(100) <= 10) {
EMap->GenEncounter(0x00000004|0x00000040,EMap->Depth,EMap->Depth,
26, 0x0040,(rID)0,EActor->x,EActor->y,NULL);
EActor->Timeout += 1;
}
return 0;
} ;
}

Terrain "Webbing"
{ Image: grey '#'; Mat:22;
Flags: 3, 6, 5, 19, 12;
hObj mount;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The webbing burns!");
}
return 0;
},
161 {
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isMType(26) ||
mount->onPlane() != 0 ||
mount->HasAbility(110))
return 0;
mount->MakeNoise(10);
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
}
if (EActor->ChallengeRating() >= 3)
return 0;
else
return 2;
} ,
1, 166 {
hObj mount2;
if (!GetHandle(EActor))
return 2;
if (EActor->isIllusion())
return 0;
mount2 = EActor->GetStatiObj(87);
if (mount2) {
if (mount2->isMType(26) ||
mount2->onPlane() != 0 ||
mount2->HasAbility(110))
return 0;
mount2->MakeNoise(10);
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
EActor->MakeNoise(10);
}
return 0;
} ;
Constants:
* 140 1;
}

Terrain "Ice Floor"
{ Image: grey 250 on blue; Mat:24;
Flags: 5, 12, 4;
Desc: "Landing on, jumping off of, or attacking from a patch of
    ice floor requires a DC 10 Balance Skill Check. If you fail, you
    are tripped. Attacking with a weapon that does not grant a Strength
    bonus to damage does not trigger this effect.";
hObj mount;
On Event 161 {
if (!GetHandle(EActor)) return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(5) < 10)
return 2;
}
return 0;
};
On Event (19+500), (167+500), 166 {
if (!GetHandle(EActor)) return 2;
if (EActor->HasStati(205))
return 0;
if (EActor->isIllusion())
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() || mount->isMType(96) ||
mount->HasEffStati(-1,$"the Winterlands") ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!mount->SkillCheck(5,10,true,false))
{
EActor->Reveal(false);
DPrint(e,"Your mount slips on the ice!",
"An <EActor>'s mount slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",mount,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
}
if (EActor->HasStati(15) ||
EActor->HasAbility(110) ||
EActor->isAerial() || EActor->isMType(96) ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!EActor->SkillCheck(5,10,true,false))
{
EActor->Reveal(false);
DPrint(e,"You slip on the ice!",
"An <EActor> slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",EActor,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
},
75 {
if (e.aval == 2 || e.aval == 3 ||
e.aval == 11 || (e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"shallow water");
SinglePrintXY(e,"The ice melts!");
}
return 0;
};
}

Terrain "storm of sleet"
{ Image: bright cyan '~' on blue; Mat:24;
Flags: 5, 12, 3, 6; Move: 50%;
hObj mount;
On Event 161 {
if (!EActor) return 2;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(5) < 10)
return 2;
}
return 0;
} ;
On Event (1+500), (19+500), (167+500), 166 {
if (!EActor) return 2;
if (EActor->HasStati(205))
return 0;
if (EActor->isIllusion())
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() ||
mount->HasEffStati(-1,$"the Winterlands") ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!mount->SkillCheck(5,10,true,false))
{
DPrint(e,"Your mount slips on the ice!",
"An <EActor>'s mount slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",mount,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
}
if (EActor->HasStati(15) ||
EActor->HasAbility(110) ||
EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!EActor->SkillCheck(5,10,true,false))
{
DPrint(e,"You slip on the ice!",
"An <EActor> slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",EActor,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
};
Desc: "Driving sleet blocks all sight (even darkvision) within it and
    causes the ground in the area to be icy. A creature can walk within or
    through the area of sleet at half normal speed with a DC 15 Balance
    check. Failure means it can't move in that round, while failure by 5 or
    more means it falls (see the Balance skill for details).";
}

Terrain "bed of spikes"
{ Image: brown '^'; Mat:28; Mov: 50%;
Flags: 6, 5, 12;
On Event 161 {
if (EActor->isAerial() || EActor->HasAbility(110)
|| EActor->HasStati(205))
return 0;
else
return 2;
};
On Event 1 {
if (EActor->isAerial() || EActor->HasAbility(110))
return 0;
if (EActor->HasStati(205))
return 0;
if (EActor->isIllusion())
return 0;
if (!EActor->SkillCheck(13,15,true,false))
{
DPrint(e,"You are still tangled in the spikes!",
"An <EActor> remains tangled in the spikes!");
EActor->Reveal(false);
EActor->MakeNoise(3);
EActor->Timeout += 30;
return 2;
}
ThrowTerraDmg(41,12,1d8,"a bed of spikes",EActor, $"bed of spikes");
return 0;
};
}

Terrain "Summoning Circle"
{ Image: bright purple 233; Mat:28;
Flags: 12 | 5;
On Event 156 {
hObj h,w;
int32 dx,dy,mx,my,trial;
for (trial=0; trial<9; trial++) {
EMap->GenEncounter(0x00000004,
EMap->Depth+2, EMap->Depth+2, 0,
0,(rID)0,e.EXVal,e.EYVal,NULL);
h = EMap->GetEncounterCreature(0);
if (h) {
h->GainPermStati(67,h,7);
h->PlaceAt(EMap,e.EXVal,e.EYVal);
trial = 999;
}
}
for (dx = -4; dx <= 4; dx++)
for (dy = -4; dy <= 4; dy++) {
mx = dx + e.EXVal;
my = dy + e.EYVal;
if (EMap->InBounds(mx,my) &&
dist(mx,my,e.EXVal,e.EYVal) <= 3 &&
dist(mx,my,e.EXVal,e.EYVal) >= 2) {
if (EMap->SolidAt(mx,my))
EMap->WriteTerra(mx,my,$"warded wall");
else {
w = CreateFeature($"warding rune");
w->PlaceAt(EMap,mx,my);
}
}
}
};
Desc: "This summoning circle sits at the center of a carefully warded
    area that keeps in (and keeps out) summoned and incorporeal
    creatures.";
}
#line "dungeon.irh" 1513
Terrain "shallow water"
{ Image: azure 247; Mat:1;
Flags: 12, 5, 7, 16;
On Event 16 {
DPrint(e,"The <EItem> is quickly swept away.",
"The <EActor> drops an <EItem>, and it is quickly swept away.");
EItem->Remove(true);
return 1;
};
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"ice floor");
SinglePrintXY(e,"The water freezes!");
}
return 0;
};

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1535
Desc:
"__This water is shallow. It is waist-high, allowing allowing aquatic
      creatures and landlubbers to pass with equal ease.";
}



Terrain "shallow mud"
{ Image: brown 247; Mat:1; Move: 50%;
Flags: 12, 5, 7, 16;
On Event 75 {
if (e.aval == 2 || e.aval == 3 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1 || e.DType == 2)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The mud hardens!");
}
return 0;
},
1 {
if (EActor->isAerial() || EActor->HasStati(205))
return 0;
EActor->IPrint("Glup.");
return 0;
};

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1565
Desc:
"__This watery mud is shallow. It is waist-high, allowing allowing
      aquatic creatures and landlubbers to pass with equal ease.
      \n__Water Combat: Thrown weapons are ineffective against targets in
      the water. Fire damage is ineffective against targets in the water
      unless the attacker makes a DC 20 Spellcraft check. Creatures in the
      water attacked by creatures not in a water square gain a +8 defense
      bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
      creatures in the water (unless the attacker has Freedom of Movement).
      Blunt and slashing attacks do half damage to creatures in the water
      (unless the attacker has freedom of movement).
      ";
}


Terrain "deep water"
{ Image: blue 247; Mat:1;
Flags: 12, 5, 7, 6, 16;
hObj mount;
On Event 16 {
DPrint(e,"The <EItem> is quickly swept away.",
"The <EActor> drops an <EItem>, and it is quickly swept away.");
EItem->Remove(true);
return 1;
},
75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((10+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"ice floor");
SinglePrintXY(e,"The water freezes!");
}
return 0;
},
167 {
if (EActor->HasStati(205))
return 0;
EActor->IPrint("You cannot jump out of deep water.");
return 2;
},
1, (19+500), 166, (37+500) {
int32 res;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->isMType(92) ||
mount->HasMFlag(9) ||
!mount->isMType(78) ||
mount->HasStati(130) ||
mount->isAerial())
return 0;
mount->SkillCheck(45,10,true,false);
res = LastSkillCheckResult() - 10;
if (res >= 0)
return 0;
else if (res >= -5) {
EActor->Timeout += 30;
EActor->IPrint("Your mount fails to make progress in the water.");
return 2;
} else {
EActor->Timeout += 30;
EActor->IPrint("Your mount is drowning!");
mount->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d2,"drowning",mount, $"deep water");
ThrowTerraDmg(41,74,8d4,"drowning",mount, $"deep water");
return 2;
}
}
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial())
return 0;

EActor->SkillCheck(45,10,true,false);
res = LastSkillCheckResult() - 10;
if (res >= 0)
return 0;
else if (res >= -5) {
EActor->Timeout += 30;
EActor->IPrint("You fail to make progress in the water.");
return 2;
} else {
EActor->Timeout += 30;
EActor->IPrint("You are drowning!");
EActor->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d2,"drowning",EActor, $"deep water");
ThrowTerraDmg(41,74,8d4,"drowning",EActor, $"deep water");
return 2;
}
} ;
On Event 161 {
mount = EActor->GetStatiObj(87);
if (EActor->HasStati(205))
return 0;
if (mount) {
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->isMType(92) ||
mount->HasMFlag(9) ||
!mount->isMType(78) ||
mount->HasStati(130) ||
mount->isAerial())
return 0;
if (mount->SkillLevel(45) >= 5)
return 0;
} else {
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial())
return 0;
if (EActor->SkillLevel(45) >= 5)
return 0;
}
return 2;
} ;

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1698
Desc: "__This water is deep. Any attempt to move through it or attack
    through it requires a Swim skill check (DC 10). Failure means the 
    action is aborted (but it still takes time). Failure by more than 5
    means that you start drowning and take 6d2 points of damage.
    Amphibians, aquatic creatures, water creatures, water alkers,
    flyers, and creatures that don't breathe always succeed. Blunt and
    slashing attacks deal half damage in water squares.
      \n__Water Combat: Thrown weapons are ineffective against targets in
      the water. Fire damage is ineffective against targets in the water
      unless the attacker makes a DC 20 Spellcraft check. Creatures in the
      water attacked by creatures not in a water square gain a +8 defense
      bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
      creatures in the water (unless the attacker has Freedom of Movement).
      Blunt and slashing attacks do half damage to creatures in the water
      (unless the attacker has freedom of movement).
      ";
}

Terrain "turbulent water"
{ Image: cyan 247; Mat:1;
Flags: 12, 5, 7, 6, 16;
hObj mount;

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1723
On Event 16 {
DPrint(e,"The <EItem> is quickly swept away.",
"The <EActor> drops an <EItem>, and it is quickly swept away.");
EItem->Remove(true);
return 1;
},
75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((15+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"ice floor");
SinglePrintXY(e,"The water freezes!");
}
return 0;
},
167 {
if (EActor->HasStati(205))
return 0;
EActor->IPrint("You cannot jump out of turbulent water.");
return 2;
},
1, (19+500), 166, (37+500) {
int32 res;
int32 progress;
if (EActor->HasStati(205))
return 0;
progress = true;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(130) ||
mount->isAerial())
return 0;
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->HasMFlag(9) ||
mount->isMType(92) ||
!mount->isMType(78)) {
} else {
mount->SkillCheck(45,10,true,false);
res = LastSkillCheckResult() - 10;
if (res >= 0) {
} else if (res >= -5) {
EActor->Timeout += 30;
progress = false;
EActor->IPrint("Your mount fails to make progress in the water.");
} else {
EActor->Timeout += 30;
EActor->IPrint("Your mount is drowning!");
mount->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d4,"drowning",mount, $"turbulent water");
ThrowTerraDmg(41,74,16d4,"drowning",mount, $"turbulent water");
ThrowTerraDmg(41,0,3d4,"drowning",EActor, $"turbulent water");
ThrowTerraDmg(41,74,8d4,"drowning",EActor, $"turbulent water");
progress = false;
}
}
}
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial()) {
} else {
EActor->SkillCheck(45,20,true,false);
res = LastSkillCheckResult() - 20;
if (res >= 0)
return 0;
else if (res >= -5) {
EActor->Timeout += 30;
EActor->IPrint("You fail to make progress in the water.");
ThrowTerraDmg(41,74,1d4,"drowning",EActor, $"turbulent water");
progress = false;
} else {
EActor->Timeout += 30;
EActor->IPrint("You are drowning!");
EActor->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d4,"drowning",EActor, $"turbulent water");
ThrowTerraDmg(41,74,16d4,"drowning",EActor, $"turbulent water");
progress = false;
}
}

if (progress) {
return 0;
} else {
return 2;
}
} ;
On Event 161 {
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(130) ||
mount->isAerial())
return 0;
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->isMType(92) ||
mount->HasMFlag(9) ||
!mount->isMType(78)) {
} else {
if (mount->SkillLevel(45) < 15)
return 2;
}
}
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial())
return 0;
if (EActor->SkillLevel(45) >= 15)
return 0;
return 2;
} ;
Desc: "__This water is deep and turbulent. Any attempt to move through it
    or attack through it requires a Swim skill check (DC 20). Failure means
    the action is aborted (but it still takes time). Failure by more than 5
    means that you start drowning and take 6d4 points of damage.
    Amphibians, aquatic creatures and water creatures always succeed. Blunt
    and slashing attacks deal half damage in water squares.
      \n__Water Combat: Thrown weapons are ineffective against targets in
      the water. Fire damage is ineffective against targets in the water
      unless the attacker makes a DC 20 Spellcraft check. Creatures in the
      water attacked by creatures not in a water square gain a +8 defense
      bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
      creatures in the water (unless the attacker has Freedom of Movement).
      Blunt and slashing attacks do half damage to creatures in the water
      (unless the attacker has freedom of movement).
      ";
}



Terrain "magma"
{ Image: pink 247; Mat:25;
Flags: 6, 5, 12, 25, 16;
Desc: "Magma deals 6d6 points of fire damage to your or your mount
    as you cross it, land on it or jump out of it.";
hObj mount;
On Event 161 {
int32 rl;
if (!GetHandle(EActor))
return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
rl = mount->ResistLevel(1);
if (rl < 0 || rl >= 36) return 0;
} else {
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
rl = EActor->ResistLevel(1);
if (rl < 0 || rl >= 36) return 0;
}
return 2;
} ;
On Event 1, 167, 166, 19 {
int32 r, dmg;
if (!GetHandle(EActor)) return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
r = mount->ResistLevel(1);
if (r == -1) return 0;
dmg = (6d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"magma",mount,$"magma");
DPrint(e,"Your mount is burned by the magma!",
"An <EActor>'s mount is burned by magma!");
return 0;
}
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
r = EActor->ResistLevel(1);
if (r == -1) return 0;
dmg = (6d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"magma",EActor,$"magma");
return 0;
},
75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((15+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"brimstone");
SinglePrintXY(e,"The magma cools!");
}
return 0;
};

}

Terrain "brimstone"
{ Image: red 247; Mat:25;
Flags: 6, 5, 12, 25, 16;
Desc: "Brimstone deals 1d6 points of fire damage to your or your mount
    as you cross it, land on it or jump out of it.";
hObj mount;
On Event 161 {
int32 rl;
if (!GetHandle(EActor))
return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
rl = mount->ResistLevel(1);
if (rl < 0 || rl >= 6) return 0;
} else {
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
rl = EActor->ResistLevel(1);
if (rl < 0 || rl >= 6) return 0;
}
return 2;
} ;
On Event 1, 167, 166, 19 {
int32 r, dmg;
if (!GetHandle(EActor))
return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
r = mount->ResistLevel(1);
if (r == -1) return 0;
dmg = (1d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"brimstone",mount,$"brimstone");
DPrint(e,"Your mount is burned by the brimstone!",
"An <EActor>'s mount is burned by brimstone!");
return 0;
}
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
r = EActor->ResistLevel(1);
if (r == -1) return 0;
dmg = (1d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"brimstone",EActor,$"brimstone");
return 0;
},
75 {
if (e.aval == 2 || e.aval == 3 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((10+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"smooth igneous rock");
SinglePrintXY(e,"The brimstone cools!");
}
return 0;
};

}
#line "dungeon.irh" 2025
Feature "Tomb" : 13
{
Image: white 239;
Mat:28;
On Event 41, 75, 83 {
int32 i;
if (e.Event == 41)
if (EActor->onPlane() != EVictim->onPlane())
return 0;
if (!ETarget->HasStati(187,1) &&
e.eID != $"tanglefoot bag" &&
!e.isActOfGod)
{
ETarget->GainPermStati(187,NULL,7,1);
EActor->Transgress($"Mara", 2, false, "desecrating a tomb");
EActor->IDPrint("The tomb is desecrated, the dead rise!", "The tomb is desecrated, the dead rise!");
for (i=2d4; i > 0; i--) {
EMap->GenEncounter(0x00000004|0x00000040|0x00000002,
EMap->Depth+4,EMap->Depth+4,
76, 0x0040,(rID)0,ETarget->x,ETarget->y,NULL);
}
if (e.eID != $"desecrate")
ThrowEffXY(52,$"desecrate",ETarget->x,ETarget->y,
EActor,EVictim);
ETarget->Remove(false);
}
return 0;
};
}

Feature "Gravestone" : 13
{
Image: grey 239;
Mat:28;
On Event 41, 75, 83 {
if (!ETarget->HasStati(187,1) &&
e.eID != $"tanglefoot bag" &&
!e.isActOfGod)
{
EActor->Transgress($"Mara", 2, false, "desecrating a grave");
ETarget->GainPermStati(187,NULL,7,1);
EActor->IDPrint("The gravestone is desecrated, the dead rise!",
"The gravestone is desecrated, the dead rise!");
EMap->GenEncounter(0x00000004|0x00000040|0x00000002,
EMap->Depth+2,EMap->Depth+2,
76, 0x0040,(rID)0,ETarget->x,ETarget->y,NULL);
if (e.eID != $"desecrate")
ThrowEffXY(52,$"desecrate",ETarget->x,ETarget->y,
EActor,EVictim);
ETarget->Remove(false);
}

return 0;
};
}

Feature "warding rune" : 13
{
Image: bright purple 249; Mat:28;
Desc: "This mystic warding rune keeps out (or perhaps keeps in)
    incorporeal threats and summoned monsters. It is solid to creatures on
    other planes.";
On Event 161 {
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67)))
return 2;
};
On Event 47, 88 {
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67))) {
EActor->IPrint("The warding rune prevents your passage!");
return 2;
}
};
}

Feature "Forge" : 13
{ Image: red 8; Mat:11; }

Item "fountain" : 60
{
Image: bright blue 244;
Level:0; Mat:21;
Weight: 10000; Flags: 1; hp: 150;
Desc: "Deep below the earth, some natural springs absorb the magical
      radiations of the Underdark. Magical fountains are large, immobile
      magical items built to harness the energy of these springs, usually
      for the purposes of healing or item enchantment. Though useful, these
      magics are deeply chaotic and unpredictable, and using them represents
      a great risk for a significant possible reward.";
On Event 12 {
EActor->IPrint("The fountain is affixed to the floor, <hObj>.",EActor);
return 2;
},
(100+500) {
e.eID = $"fountain;effect";
return 0;
};
}
#line "dungeon.irh" 2129
42 Effect "fountain;effect" : 46
{
Level: -92; Flags: 44, 20;
On Event 28 {
int32 val, i,j; rID mID, dID; hObj hRing, hMon, it;
if (EItem->IFlags & 0x0001)
val = max(1d20,1d20);
else if (EItem->IFlags & 0x0002)
val = min(1d20,1d20);
else
val = 1d20;
val += EActor->Mod(6);

if (EActor->HasEffStati(221,$"Water;Domain"))
val += 3;

while (val < 0)
val += 5;

EActor->Exercise(6,1d20,5,70);

switch (val)
{
case 0:
if (!EActor->HasStati(113))
{
EActor->IPrint("You feel very lucky.");
break;
}
EActor->IPrint("You feel tremendously dissipated.");
for (i=0;i!=7;i++)
EActor->RemoveStati(113,-1,i);
break;
case 1:
EActor->IPrint("This water tastes like poison!");
ThrowDmg(41,5,(4 - EActor->Mod(6) + EItem->GetPlus())d10,
"poisonous fountain water", EActor, EActor);
case 2:
EActor->IPrint("This water must be contaminated!");
if (EActor->ResistLevel(27) == -1)
{
EActor->IPrint("Fortunately, you are unaffected.");
break;
}
switch (1d6)
{
case 1: dID = $"red ache"; break;
case 2: dID = $"filth fever"; break;
case 3: dID = $"cackle fever"; break;
case 4: dID = $"mindfire"; break;
case 5: dID = $"blinding sickness"; break;
case 6: dID = $"the Shakes"; break;
}
EActor->GainPermStati(19,NULL,7,0,0,dID);
break;
case 3:
EActor->IPrint("You feel a spiritual nullity pervade your body!");
if (EActor->isCharacter())
EActor->LoseXP(4d6 * 100);
break;
case 4:
EActor->IPrint("The water rises up and takes on a monsterous form!");
hMon = CreateMonster(EMap->Depth > 2 ? $"large water elemental" :
$"small water elemental");
hMon->PlaceAt(EMap,EActor->x,EActor->y);
hMon->Initialize();
hMon->TurnHostileTo(EActor);
break;
case 5:
EActor->IPrint("The eerie waters bestow a curse!");
RedirectEff(e,$"Bestow Curse",52);
break;
case 6:
EActor->IPrint("There's snakes in this fountain!");
j = 1d4;
for (i=0;i!=j;i++)
{
hMon = CreateMonster(1d2 == 1 ? $"boa constrictor" :
$"huge viper");
hMon->PlaceAt(EMap,EActor->x,EActor->y);
hMon->Initialize();
hMon->TurnHostileTo(EActor);
}
break;
case 7:
EActor->IPrint("Wow, these magic waters are trippy!");
EActor->GainTempStati(6,NULL,-2,2,0,0,$"Fountain;effect");
break;
case 8:
EActor->IPrint("After drinking the water, you begin to glow!");
RedirectEff(e,$"Faerie Fire", 52);
break;
case 9:
case 10:
RedirectEff(e,$"Fountain Polymorph",52);
break;
case 11:
EActor->IPrint("You feel like you could take on a legion!");
RedirectEff(e,$"Heroism",52);
break;
case 12:
EActor->GainTempStati(100,NULL,-2,2,1);
break;
case 13:
EActor->IPrint("Drinking these waters makes you feel mighty!");
EActor->GainTempStati(106,NULL,-2,2,0,+4);
break;
case 14:
if (!EItem->HasEffStati(189,$"Fountain;effect"))
{
EItem->GainPermStati(189,NULL,7,0,0,$"Fountain;effect");
EActor->IPrint("You discover a ring lying on the bottom of the
                                 fountain!");
hRing = GenDungeonItem(0,$"ring",EMap->Depth,10+EItem->GetPlus()*2);
EActor->GainItem(hRing,true);
break;
}

default:
EActor->IPrint("The waters taste cool and invigorating!");
EActor->cFP = min(EActor->cFP + (val - 14),EActor->GetAttr(38));
if (val >= 16 && EActor->XPDrained()) {
EActor->RestoreXP(1000 + (val-16)*500);
EActor->IPrint("You feel <hText>revitalized!",
EActor->XPDrained() ? "" : "completely ");
}
if (val >= 17)
EActor->RemoveStati(2);
if (val >= 18)
EActor->RemoveStati(19);
if (val >= 19)
EActor->RemoveStati(112);
if (val >= 20) {
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->IFlags & 0x0004 && it->IFlags & 0x0002)
{
DPrint(e,"Your <hObj> glows with a soft blue light.",
"The <EActor>'s <hObj> glows with a soft blue light.", it);
it->IFlags &= ~0x0002;
}
if (EActor->HasStatiFromSource(12))
{
EActor->RemoveStatiSource(12);
DPrint(e,"Your body glows with a soft blue light.",
"The <EActor>'s body glows with a soft blue light.", it);
}
}

break;
}
EItem->SetCharges(EItem->GetCharges() - 1);
if (EItem->GetCharges() <= 0)
{
APrint(e,"The fountain dries up!");
EItem->Remove(true);
}
return 1;
},
150 {
EActor->SetCharges(4 + 1d6);
return 0;
},
100 {
int32 val, x, y, oHP; int32 forceDry; hObj hMon;
if (GetHandle(EItem2) == ((hObj)0) ||
!EItem2->isType((-4)))
return 0;
if (GetHandle(EItem) == ((hObj)0) ||
!EItem->isType((-4)))
return 0;
if (EItem2->iID != $"fountain")
return 0;
if (!EItem->isMagic())
{
EActor->IPrint("Nothing happens.");
EActor->Timeout += 30;
return 1;
}


if (EItem->IFlags & 0x0001)
val = max(1d20,1d20);
else if (EItem->IFlags & 0x0002)
val = min(1d20,1d20);
else
val = 1d20;
val += EActor->Mod(6);

if (EActor->HasEffStati(221,$"Water;Domain"))
val += 3;
EActor->Exercise(6,1d20,5,70);
forceDry = false;
EActor->Timeout = 30;

DPrint(e,"You dip your <EItem> in the <EItem2>.",
"The <EActor> dips an <EItem> in the <EItem2>.");

switch (val)
{
case 1: case 2: hMon = CreateMonster($"wastrilith");
hMon->PlaceAt(EMap,EActor->x,EActor->y);
hMon->Initialize();
hMon->TurnHostileTo(EActor);
EActor->IPrint("Your misguided experiments attract a water demon!");

EActor->Timeout = 0;
break;
case 3: case 4: EItem->IFlags &= ~0x0001;
EItem->IFlags |= 0x0002;
EItem->ReApply();
APrint(e, "The <EItem> glows black!");

break;
case 7: case 8: EActor->IPrint("The waters bubble over and spray everywhere!");
ThrowDmg(41,74,3d10,"fountain splashing",EActor,EActor);
break;
case 5: case 6:
#line "dungeon.irh" 2352
case 9: case 10: EMap->GenEncounter(0x00000004|0x00000010,EActor->ChallengeRating()+3,
EMap->Depth,91,0,((rID)0),EActor->x,EActor->y,((hObj)0));
hMon = EMap->GetEncounterCreature(0);
hMon->TurnHostileTo(EActor);
hMon->GainPermStati(167,EItem,2,0,0,$"fountain;effect",15);
APrint(e, "The <EItem> transforms into an <hObj>!", hMon);
EItem->Remove(false);
break;
case 11: case 12: APrint(e, "The <EItem> vanishes!");
do {
x = 1d(EMap->SizeX());
y = 1d(EMap->SizeY());
}
while (!EMap->InBounds(x,y) || EMap->FallAt(x,y) ||
!EMap->SolidAt(x,y));
EItem->Remove(false);
EItem->PlaceAt(EMap,x,y);
EItem->IDPrint(NULL,"An <hObj> appears!", EItem);
break;
case 13: case 14: APrint(e,"Magical energies warp the <EItem>'s structure!");
ThrowDmg(41,8,2d6,"",EActor,EItem);
break;
case 15: case 16: oHP = EItem->GetHP();
ThrowDmg(41,39,4d6,"",EActor,EItem);
if (EItem->isDead())
APrint(e,"The <EItem> rusts away to nothing!");
else if (oHP > EItem->GetHP())
APrint(e,"The <EItem> rusts!");
else
APrint(e,"Nothing happens.");
break;
default:
if (val <= 0)
{
APrint(e,"The <EItem> glows silvery, then explodes!");
ThrowDmg(41,11,(max(1,(1 - val)))d(max(4,EItem->ItemLevel())*2),
XPrint("an exploding <hObj>", EItem), EActor, EActor);
EItem->Remove(true);
break;
}
if (val >= 22)
if (EItem->isType(58) && EItem->QualityOK(13))
{
EItem->AddQuality(13);
APrint(e, "The <EItem> gleams with a razor edge!");
forceDry = true;
break;
}
if (EItem->ItemLevel() > EItem2->ItemLevel() + 3 ||
EItem->GetInherantPlus() >= 5)
{
APrint(e, "The <EItem> gives off a silvery glow, but it quickly
                  fades -- this fountain does not seem to be a powerful enough
                  source of magic to better its enchantment further.");
return 1;
}
APrint(e, "The <EItem> glows with a silvery light!");
EItem->SetInherantPlus(EItem->GetInherantPlus() + 1);
forceDry = true;
break;
}
EItem2->SetCharges(EItem->GetCharges() - 1);
if (EItem2->GetCharges() <= 0 || forceDry)
{
APrint(e,"The fountain dries up!");
EItem2->Remove(true);
}
return 1;
};
Desc: "Deep below the earth, some natural springs absorb the magical
      radiations of the Underdark. Magical fountains are large, immobile
      magical items built to harness the energy of these springs, usually
      for the purposes of healing or item enchantment. Though useful, these
      magics are deeply chaotic and unpredictable, and using them represents
      a great risk for a significant possible reward.";

}
#line "dungeon.irh" 2450
Effect "Fountain Polymorph" : 32
{
On Event (28+500) {
e.rval = theGame->GetMonID(3,EActor->Mod(6),EMap->Depth +
EActor->Mod(6),EMap->Depth);
return 0;
},
52
"The magical waters transfigure your form!";
Flags: 85;
}
#line "dungeon.irh" 2467
Region "Winding Corridor" : 1
{ Desc: "These corridors are about ten feet across and twelve feet tall.
  The craftmanship seems surprisingly sturdy, all things considered.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Flags: 24; RoomTypes: 0;
Door: $"oak door"; Size: 5; }

Region "Rough-Hewn Tunnel" : 1
{ Desc: "This rough tunnel twists and turns awkwardly, looking to have
      been carved out of the stone recently and under makeshift conditions.";
Flags: 15; RoomTypes: 0;
Walls: $0; Floor: $"floor"; Door: $0; Size: 5; }

Region "Vaulted Corridor" : 1
{ Desc: "The corridors here are quite large and extend at least twenty
           feet from floor to ceiling. ";
Walls: $"Dungeon Wall"; Floor: $"Floor;2";
Flags: 15; RoomTypes: 0;
Door: $"oak door";
}

Region "Icy Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      An unnatural cold permates the corridor. The walls are made of ice
      and the floors are coated with frozen water.";
Walls: $"ice Wall"; Floor: $"ice Floor"; RoomTypes: 0;
Door: $"ice door"; Size: 5; }

Region "Misty Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      This corridor is filled with a thick, obscuring fog.";
Walls: $"dungeon Wall"; Floor: $"fog"; RoomTypes: 0;
Door: $"oak door"; Size: 5; }


Region "Flooded Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      This corridor has been flooded with cold water.";
Walls: $"dungeon Wall"; Floor: $"shallow water"; RoomTypes: 0;
Door: $"oak door"; Size: 5; }

Region "Webbed Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      Webs have been spun throughout this corridor.";
Walls: $"dungeon Wall"; Floor: $"old webbing"; RoomTypes: 0;
Door: $"oak door"; Size: 5; }

Region "Twisty Little Passage" : 1
{ Desc: "This awkward, twisting tunnel is about three feet in diameter.
      A human-sized traveller would have to crawl to get through it with
      very limited maneuverability, but it would be just right for a kobold 
      or similar creature.\n
      __This is a Medium-sized corridor. Large and larger creatures cannot
      enter it. Medium-sized creatures find their movement rate halved and 
      lose their Dexterity bonus to defense. Small and smaller creatures
      can move normally and are unimpeded. Medium-sized creatures have a
      1 in 10 chance of injuring themselves for 2d10 blunt damage with
      each movement action they take in this passage while threatened by
      other creatures; a Balance check (DC 15) negates this damage.";
Walls: $"dungeon wall"; Floor: $"floor"; RoomTypes: 0;
Door: $"oak door"; Size: 4;
On Event 1 {
if (EActor->GetAttr(25) >= 4)
if (EActor->isThreatened() && (1d10 == 1))
{
if (EActor->HasAbility(87)) {
if (EActor->SkillCheck(5,15,true,EActor->AbilityLevel(
87), "Stonework Sense")) {
EActor->IPrint("You carefully navigate a treacherous slope.");
return 0;
}
}
else if (EActor->SkillCheck(5,15,true)) {
EActor->IPrint("You carefully navigate a treacherous slope.");
return 0;
}
DPrint(e,"You slip on a treacherous slope, falling hard 
              against the wet stone!", "The <EActor> trips on a treacherous
              slope, striking the wet stone!");
EActor->GainPermStati(15,NULL,7);
EActor->Timeout += 30;
ThrowDmg(41,13,2d10,"a spelunking accident",EActor,EActor);
return 1;
}
return 0;
};
Constants:
* 21 35,
* 23 1,
* 24 4,
* 22 30;
Lists:
* 7 6 7 8;
}
#line "dungeon.irh" 2581
Region "Unworked Stone" : 15
{
}
#line "dungeon.irh" 2604
Region "Bare Cavern" : 4
{ Desc: "This cavern is distinguished only by a thin layer of dust
      on the floor, and the oddly chalky texture of its plain white
      walls.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17;
Lists:
* 7 15;
}

Region "Smooth Enclosure" : 4
{ Desc: "The walls in this chamber are perfectly smooth and unblemished,
      as if carved out by some unearthly magical force.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 1, 8;
}

Region "Inner Keep" : 4
{ Desc: "This strange double room appears to have once been a
    fortification of some sort in ages gone by. You have trouble imagining
    the sort of invading forces that would inspire someone to make a stand
    inside a dungeon. Despite the passage of time, reasonably intelligent
    dungeon dwellers can recognize the strategic importance of such a
    location.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door"; RoomTypes: 10;
Lists:
* 7 5 13,
* 10 85;
}

Region "Marble Enclave" : 4
{ Desc: "This chamber has walls carved from fine white marble; while no
      furnishings remain, the walls alone attest to its value. Perhaps it
      once served as the bedchambers of a dwarven lord or drow noble.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 1, 8, 4,
5, 6, 7;
Lists:
* 7 15 7 8 3; }

Region "Limestone Cave" : 4
{ Desc: "This vast cavern, eroded by the natural waterflow, has walls of
      crumbling, porous limestone. The ceiling is caked with stalactites, 
      and an equal number of stalagmites rise up from the floor. The water
      almost seems to glow in the dim illumination.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door"; RoomTypes: 17;
Constants:
* 61 $"shallow water";
Lists:
* 7 2,
* 8 2,
* 6 1 $"rock column",
* 10 80 92 75; }

Region "Ancient Tomb" : 4
{ Desc: "This room appears to have been a tomb to a long-dead
      dwarven hero or king. Carved runes cover the walls, and an
      ornate tomb sits in the center of the room. There are
      signs of recent habitation here.";
Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"iron door";
RoomTypes: 8 | 9 | 1 | 10;
Lists:
* 7 8,
* 6 6 $"tomb"
11 $"gravestone"
10 $"pillar",
* 10 76 63;
}

Region "Graveyard" : 4
{ Desc: "This room's floor is covered with loose, rich soil about
      two feet deep, and headstones are placed over scattered burial
      mounds. There is a faint scent of rot and mildew hanging in the
      air as well.";
Walls: $"Dungeon Wall"; Floor: $"Loose-Packed Earth";
Door: $"iron door"; RoomTypes: 8 | 3 | 10;
Lists:
* 7 8,
* 6 1 $"gravestone";
}

Region "Orderly Graveyard" : 4
{ Desc: "This room's floor is covered with loose, rich soil about
      two feet deep, and headstones are placed in regular rows. 
      There is a faint scent of rot and mildew hanging in the
      air as well.";
Walls: $"Dungeon Wall"; Floor: $"Loose-Packed Earth";
Door: $"iron door"; RoomTypes: 1, 11, 16;
Lists:
* 7 8,
* 10 104,
* 6 12 $"gravestone";
}

Region "Orderly Flood" : 4
{
Walls: $"Dungeon Wall"; Floor: $"shallow water";
Door: $"oak door";
Desc: "This chambers has clearly been flooded recently. The water
      depth seems to vary in a predictable pattern, but you cannot imagine
      why anyone would shape a room in this way. Small 'islands' of dry
      land should make it easier for you to cross, if you so desire.";
RoomTypes: 1, 2, 8, 16;
Lists:
* 10 80 92,
* 6 12 $"floor",
* 7 1 9;
}

Region "Island Lake" : 4
{
Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"oak door";
Desc: "This area contains an underground lake complete with its own
    island.";
RoomTypes: 9, 19, 2;
Lists:
* 10 80 92,
* 6 15 $"shallow water",
* 6 13 $"floor",
* 6 6 $"large iron chest",
* 7 1 9;
}

Region "Cultic Underchamber" : 4
{ Desc: "Torches line every inch of this circular room's walls, but the
      light nonetheless remains shadowy and indistinct. The runes on the
      walls, and the bloodstains on the floor, suggest that this area had
      once been -- or is -- the ceremony chamber of some secretive humanoid
      cult.";
Walls: $"Wall Torch"; Floor: $"Floor";
Lists:
* 6 1 $"bloodstain";
Door: $"oak door"; RoomTypes: 8; }

Region "Abandoned Temple" : 4
{
Desc: "Though this place has not seen regular worship in many decades,
      there are still ritual prayers carved into the walls, and you have a
      sense that it is not entirely devoid of divine power. A crude altar
      stands at the center of the room.";
Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"iron door";
RoomTypes: 8 | 9;
Lists:
* 7 7 7 4 14,
* 6 6 $"altar"
10 $"pillar";
}

Region "Uneven Ampitheater" : 4
{ Desc: "This room has a hewn appearance, almost as if it were carved
      from the earth by a massive, jagged plow. Spikes and columns of rock 
      are strewn about in no discernable pattern.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 2, 19;
Lists:
* 6 1 $"bed of spikes",
* 6 1 $"rock column",
* 10 58 36;
}

Region "Vast Ampitheater" : 4
{ Desc: "Here the walls curve slightly upward, giving this vast room an
      eerie echo. Perhaps it once served as a clan assembly room or lecture
      hall. Even with a bright light source, the area is large enough
      that the far corners will always remain in shadow.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 2, 19; }

Region "Oddly-formed Hall" : 4
{ Desc: "You've given to wonder if the odd shape of this room is some artifact
      of a long-forgotten purpose, or if it is simple the result of the
      continual cycle of crafting, abandonment and rebuilding that
      characterizes dungeon structures.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 5, 6, 7,
4; }

Region "Fungal Forest" : 4
{ Desc: "Filled with deep purple toadstool 'trees' ranging from twelve to
    fifteen feet high, this chamber is at once beautiful and eerie, peaceful
    and claustrophobic. Even the floor and ceiling are coated with a fine
    layer of luminescent, multicolored moss.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door"; RoomTypes: 17;
Constants:
* 61 $"giant mushroom";
Lists:
* 6 1 $"verdant bloom",
* 7 1 5 3 2 ,
* 8 1 5 3 2 ;
Flags: 20; }

Region "Vine Region" : 4
{ Desc: "A large number of sparse, strong vines fall from the ceiling
    here.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 17, 8, 19;
Constants:
* 61 $"hanging vines";
Lists:
* 10 59;
}

Region "Enchanted Forest" : 4
{ Desc: "Against all logic, the dungeon here gives way to a richly verdant
      forest, lit by ambient sunlight with no discernable source. This must
      surely be the work of faerie...";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door";
RoomTypes: 17, 8, 19;
Constants:
* 61 $"tree";
Lists:
* 10 9;
Flags: 20; Depth: 4;
}

Region "Gardened Forest" : 4
{ Desc: "Some powerful force has planted trees here as regularly as the
           hin would plant carrots. Sunlight streams in from no
           discernable source.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door";
RoomTypes: 1, 2, 8, 16;
Lists:
* 7 1 5 3 2,
* 8 1 5 3 2,
* 6 16 $"tree",
* 10 9 81;
Flags: 20, 25, 26;
}

Region "Flooded Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17, 19;
Constants:
* 61 $"shallow water";
Lists:
* 10 80 92,
* 7 1 9; }

Region "Misty Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17, 19;
Desc: "A constant heavy mist hangs in the air here.";
Constants:
* 61 $"fog";
Lists:
* 10 82 92 96;
}

Region "Earthen Cavern" : 4
{ Walls: $"solid rock"; Floor: $"loose-packed earth";
Door: $"oak door"; RoomTypes: 17, 19, 18;
Desc: "This portion of the dungeon appears to be unfinished or
    recently-crafted. The floor is made of loose earth that has
    given way to mud in many areas.";
Flags: 23;
Constants:
* 61 $"shallow mud";
Lists:
* 10 40 96;
}

Region "Acid Fog Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17, 19;
Desc: "A constant acidic mist hangs in the air here.";
Constants:
* 61 $"acid fog";
Lists:
* 10 97,
* 6 1 $"floor",
* 7 14 6;
}

Region "Place of Sanctuary" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
RoomTypes: 8, 9, 3, 1, 10;
Flags: 15;
Desc: "This looks like it might once have been some kind of temple
      of light or other holy place, and you can't help but feel that
      some of the sacredness remains. Mosaics cover the walls here, and
      you feel an almost palpable sense of safety and restoration in
      the air. You have the sense that you would be protected if you
			rested here, preserved by the aegis of Essiah.";
On Event (45+500) {
int32 c;

c = EActor->GetEffStatiMag(189,$"Place of Sanctuary",EMap->Depth);
if (c >= 2 + max(0,EActor->Mod(6)) +
(EActor->getGodLevel($"Essiah") / 2)) {
EActor->IPrint("You fear the ancient magic that once sanctified this
          place has been all but depleted.");
if (EActor->yn("Rest here anyway?"))
return 0;
else
return 2;
}
e.EParam |= 0x0001 | 0x0002;

return 0;
},
(45+1000) {
int32 c;

if (EActor->HasEffStati(189,$"Place of Sanctuary",EMap->Depth)) {
EActor->SetEffStatiMag(189,$"Place of Sanctuary",
EActor->GetEffStatiMag(189,$"Place of Sanctuary",EMap->Depth)
+ 1, EMap->Depth);
}
else {
EActor->GainPermStati(189,((hObj)0),7,EMap->Depth,1,
$"Place of Sanctuary");
}
c = EActor->GetEffStatiMag(189,$"Place of Sanctuary",EMap->Depth);
if (c >= 2 + max(0,EActor->Mod(6)) +
(EActor->getGodLevel($"Essiah") / 2))
EActor->IPrint("You fear the ancient magic that once sanctified this
          place has been all but depleted.");

return 0;
};
Lists:
* 7 3;
Grid:{:
      %%%%%%%%%
      %%.....%%
      %.......%
      %.......%
      %.......%
      %.......%
      %.......%
      %%.....%%
      %%%%%%%%%
    :}
 ;
}

Region "Ice Cavern" : 4
{ Desc: "An abrupt, almost certainly supernatural drop in temperature greets
      you as you step into this cavern. Much of the area is coated in a thick
      layer of bright, clear ice, and snow covers the floor like a fine white
      powder.";
Walls: $"Ice Wall"; Floor: $"Floor";
Door: $"ice door";
Flags: 23;
Constants:
* 61 $"Ice Floor";
Lists:
* 8 1 11 7 3,
* 10 96;
RoomTypes: 1, 17; }

Region "Arachnid Lair" : 4
{ Desc: "This entire area is coated with overlapping strands of sticky
  webbing. Some of the strands are thin and brittle, others are thicker and
  glistening: it would appears that this place has been used by spiders for
  quite some time. Desiccated corpses hang wrapped in silvery threads.";
Walls: $"Dungeon Wall"; Floor: $"old webbing";
Depth: 3;
Door: $"oak door";
Lists:
* 10 26,
* 6 1 $"floor",
* 6 1 $"floor",
* 6 1 $"floor",
* 6 1 $"corpse";
RoomTypes: 11;
}

Region "Dragon Cave" : 4
{ Desc: "Piles of treasure litter the floor here, and a unique stench
      combining sulphur, rot, ozone and magic lingers in the air. The
      walls are carved with ancient glyphs warning away intruders on pain
      of death.";
Walls: $"Dungeon Wall"; Floor: $"floor"; Depth: 6;
RoomTypes: 17, 8;
Lists:
* 7 4,
* 10 37;
On Event 150 {
int32 i,j; hObj it;
j = 30 + random(20);
for (i=0;i!=30;i++)
if (EMap->FindOpenAreas(e.cPanel)) {
it = CreateItem($"gold piece");
it->SetQuantity(100+random(101));
it->PlaceOpen(EMap);
}
return 0;
};
}

Region "Lesser Vault;1" : 4
{ Desc: "The air is cool and still here, and the hair on the back of your
      neck bristles. This chamber's inner doors are carefully sealed and 
      covered with strange runes, among which you can only make out 'timelessness',
      'prison'... and 'death'.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3;
Flags: 2;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %.....................%
      %.#########+#########.%
      %.#.1.....1....1.+..#.%
      %.#....1.....1...#..#.%
      %.################1.#.%
      %.#..#3.#.2.....2#..#.%
      %.#..#..+....2...#..#.%
      %.#.3#..#######+##.1#.%
      %.#..#.3##.G.##..#..#.%
      %.#..+..#.....#..#..#.%
      %.#..#..#G.G.G#2.#1.#.%
      %.#..#.3#.5.5.#..#..#.%
      %.#.3#..##.G.##.2#..#.%
      %.#..######+###..#.1#.%
      %.#..+..4.....#.2#..#.%
      %.#..#.4....4.#..#..#.%
      %.#3.##########+##+##.%
      %.#..#.....1.....1..#.%
      %.#..#........1.....#.%
      %.###################.%
      %.....................%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Parthenion" : 4
{
Desc: "This room is carved with glyphs of sanctuary and faith.
      Religious mosaics depicting all the gods of the Theryan pantheon
      cover the walls, and the sides of the room are filled with alcoves
      containing altars to all the socially acceptable religions. The
      High Altar of Immotian stands before sacred fire-braziers at the
      center of the room. The air is heavy with incense, and there is a 
      strong feeling that this place of faith is shared by many diverse
      creatures.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Flags: 15;
Lists:
* 7 15;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%%%%%
      %.........................%
      %.#######################.%
      %.########.N...O.########.%
      %.######.....M.....######.%
      %.####...............####.%
      %.#H.+...............+.L#.%
      %.####.&&&&&&&&&&&&&.####.%
      %.####...............####.%
      %.#G.+.&&&&&&&&&&&&&.+.K#.%
      %.####...............####.%
      %.####.&&&&&&&&&&&&&.####.%
      %.#F.+...............+.J#.%
      %.####.&&&&&&&&&&&&&.####.%
      %.####...............####.%
      %.#E.+...............+.I#.%
      %.#####+##+##.##+##+#####.%
      %.#####.##.##.##.##.#####.%
      %.#####C##D##.##A##B#####.%
      %.###########+###########.%
      %.........................%
      %%%%%%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
Tiles:
'A': $"bloodstain" with $"altar" of $"asherath",
'B': $"floor" with $"altar" of $"hesani",
'C': $"floor" with $"altar" of $"mara",
'D': $"bloodstain" with $"altar" of $"ekliazeh",
'E': $"bloodstain" with $"altar" of $"essiah",
'F': $"bloodstain" with $"altar" of $"maeve",
'G': $"bloodstain" with $"altar" of $"kysul",
'H': $"bloodstain" with $"altar" of $"xel",
'I': $"bloodstain" with $"altar" of $"zurvash",
'J': $"bloodstain" with $"altar" of $"aiswin",
'K': $"bloodstain" with $"altar" of $"sabine",
'L': $"bloodstain" with $"altar" of $"semirath",
'M': $"floor" with $"altar" of $"immotian",
'N': $"floor" with $"altar" of $"xavias",
'O': $"bloodstain" with $"altar" of $"erich",
'&': $"floor" with $"pews";
}

Region "Lesser Vault;2" : 4
{ Desc: "The air is cool and still here, and the hair on the back of your
      neck bristles. This chamber's inner doors are carefully sealed and 
      covered with strange runes, among which you can only make out 'timelessness',
      'prison'... and 'death'.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3;
Flags: 2;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %.....................%
      %..########+########..%
      %.###..1.1...1.1..###.%
      %.####...........####.%
      %.#.###..2.2.2..###.#.%
      %.#..###.......###..#.%
      %.#1..###.3.3.###..1#.%
      %.#....###...###....#.%
      %.#1.2..###4###..2.1#.%
      %.#....3.##G##.3....#.%
      %.+..2...4GGG4...2..+.%
      %.#....3.##G##.3....#.%
      %.#1.2..###4###..2.1#.%
      %.#....###...###....#.%
      %.#1..###.3.3.###..1#.%
      %.#..###.......###..#.%
      %.#.###..2.2.2..###.#.%
      %.####...........####.%
      %.###..1.1...1.1..###.%
      %..########+########..%
      %.....................%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Unholy Sepulchre" : 4
{ Desc:
"The air is cool and still here, and the hair on the back of your neck
  bristles. Beyond that, however, a stench of death permeates the area. 
  It would appear that this room once served as a temple or tomb of some
  sort. Something about this place makes you ... afraid.";
On Event 150 {
int32 i,j;
hObj c;
for(c = EMap->FirstThing(); c ; c = EMap->NextThing()) {
if (c->isCreature() && !c->isPlayer()) {
if (WithinRect(e.cPanel,c->x,c->y)) {
if (1d10 <= 3)
c->AddTemplate($"vampire");
else
c->AddTemplate($"zombie");
if (!c->isMType(76)) {
ThrowDmg(42,0,9999,"vampire fodder",
c,c,NULL,NULL);
} else {
if (1d10 <= 2)
c->AddTemplate($"ancient");
else if (1d10 <= 3)
c->AddTemplate($"elder");
}
}
}
}
return 0;
};
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3;
Flags: 2;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %.....................%
      %.###################.%
      %.#0...............0#.%
      %.#.0....##.##....0.#.%
      %.#..0..##0.0##..0..#.%
      %.#...0..#0.0#..0...#.%
      %.#....0.##.##.0....#.%
      %.#...0.0.#.#.0.0...#.%
      %.#.#0...0#.#0...0#.#.%
      %.#.#######.#######.#.%
      %.#.#0.G.0#.#0.G.0#.#.%
      %.#...0.0.#.#.0.0...#.%
      %.#....3..#.#..3....#.%
      %.#.......#.#.......#.%
      %.#.......#.#.......#.%
      %.#...3...#.#...3...#.%
      %.#..0.0..#.#..0.0..#.%
      %.#.0...0.#.#.0...0.#.%
      %.#0..G..0#.#0..G..0#.%
      %.#########+#########.%
      %.....................%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Hellish Rift" : 4
{ Desc:
"The air here is warm and sulphuric, and the hair on the back of your
  neck bristles. Something about this place seems evil beyond the 
  mundane... almost like something from another realm.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3;
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+20,EMap->Depth,
73, 0x0040,(rID)0,e.EXVal,e.EYVal,NULL);
} ;
Tiles:
'd': $"loose-packed earth",
'S': $"smooth igneous rock",
'B': $"brimstone",
'P': $"magma" with $"infernal portal";
Flags: 2, 15;
Grid:{:
      %%%%%%%%%%%%%%%%%
      %...............%
      %..d...SS.....d.%
      %.....BBBBBBB...%
      %.d..dBBBBBBB...%
      %.....BBBSBBBBB.%
      %..S..SBBBBBBBB.%
      %.SBBBBBBBBBBBBS%
      %..BBBBBBBSSBBBS%
      %..BBPBBBB..BBB.%
      %..BBBBBS..BBBB.%
      %.SBBBBBS.SBBB..%
      %..S.......BBBB.%
      %.....d.S.S.BBB.%
      %.d.d....BBBBBB.%
      %......BBBBBBBB.%
      %..d.dBBBBSBBBB.%
      %....BBBBBBBBBB.%
      %.d...BBBBBBBBB.%
      %...........BBB.%
      %%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Maze" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 23;
Depth: 4;
Desc: "The passages twist and turn on themselves here,
      forming an elaborate maze.";
Lists:
* 10 87;
}

Region "Surreal Maze" : 4
{
Walls: $"Floor"; Floor: $"solid rock";
Door: $"oak door"; RoomTypes: 23;
Depth: 3; Flags: 23;
Desc: "The passages twist and turn on themselves here,
      forming an elaborate maze. There's something surreal and strangely
      comforting about this particular maze, but you cannot quite put your
      finger on it.";
Lists:
* 10 87;
}

Region "Hedge Maze" : 4
{
Walls: $"giant mushroom"; Floor: $"Floor";
Door: $"darkwood door"; RoomTypes: 23;
Lists:
* 8 1 5 3 2;
Flags: 20, 23;
Desc: "The mushrooms in this area have been groomed and crafted into
    well-kept passageways.";
}

Region "Underground Farm" : 4
{
Walls: $"Floor"; Floor: $"shallow water";
Door: $"darkwood door"; RoomTypes: 23;
Lists:
* 7 1 11 2 10 6 14;
* 10 49 49;
* 6 1 $"giant mushroom";
Flags: 20, 23;
Desc: "This area appears to have been designed to care for undergroud
      plants. Irrigation waterways swirl through the area, conveyed by some
      unseen force. Magical torches have been placed on pillars at irregular
      intervals to provide light.";
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+2,EMap->Depth+2,
49, 0,(rID)0,e.EXVal,e.EYVal,NULL);
EMap->GenEncounter(0x00000040,EMap->Depth+2,EMap->Depth+2,
49, 0,(rID)0,e.EXVal,e.EYVal,NULL);
} ;
}

Region "Kobold Warren" : 4
{ Floor: $"Floor"; Walls: $"limestone";
Door: $"oak door"; RoomTypes: 18;
Flags: 23; Size: 4;
Desc: "A cramped mess of tiny winding passages carved clean out of
      rock and turning in every imaginable direction. The surfaces are
      littered with sharp edges and tiny claw-marks, and you think that
      you can hear yelping nearby.";
Lists:
* 10 18;
On Event 150 {
hObj tr; int32 i,j; rID xID;
j = 2d10;
for(i=0;i<j;i++) {
xID = theGame->GetEffectID(1,0,EMap->Depth+3,36);
if (xID) {
if (EMap->FindOpenAreas(e.cPanel)) {
tr = CreateTrap($"trap", xID);
if (tr != ((hObj)0))
tr->PlaceOpen(EMap);
}
}
}
};
}

Region "Twisting Chasm" : 4
{ Walls: $"Floor"; Floor: $"chasm";
Door: $"oak door"; RoomTypes: 18; Depth: 2;
Desc: "This otherwise-normal area is lacking huge chunks of floor,
      as if the supports had been scooped out by a giant hand or
      cataclysmic spells.";
Flags: 23;
Lists:
* 10 93 4 82,
* 6 1 $"floor";
}

Region "Vermin Burrow" : 4
{ Floor: $"Floor"; Walls: $"limestone";
Door: $"oak door"; RoomTypes: 18;
Flags: 23;
Desc: "This roughly-hewn area appears to be some sort of animal burrow
    that has been expanded over time by its residents.";
Lists:
* 10 31 79;
}

Region "Magma Vein" : 4
{ Floor: $"brimstone"; Walls: $"solid igneous rock";
Door: $"oak door"; RoomTypes: 18;
Depth: 2;
Flags: 23;
Desc: "This collection of molten, narrow tunnels seems to lead into the
    very center of the earth.";
Lists:
* 6 1 $"smooth igneous rock",
* 10 95; }

Region "Fungi Garden" : 4
{ Desc: "This room is exceedingly humid, and carries with it an almost
      overpoweringly rancid smell. The walls, floor and ceiling are covered 
      with mosses, toadstools, molds and every other type of fungi you can
      imagine. Most -- but likely not all -- are harmless.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; Depth: 2;
Flags: 23;
RoomTypes: 6, 18, 21;
Constants:
* 61 $"stinking cloud;terrain";
Lists:
* 10 39 17 16 49,
* 6 1 $"giant mushroom",
* 7 1 5 3 2;
}

Region "Slime Chamber" : 4
{
Walls: $"Dungeon Wall"; Floor: $"pool of grease";
Door: $"oak door"; Depth: 2;
RoomTypes: 9, 18, 8;
Desc: "The floor of this room is drenched in a few inches of a slimy,
    greasy substance. Unhealthy fluids seep from the walls.";
Flags: 23;
Constants:
* 61 $"pool of slime";
Lists:
* 6 1 $"floor",
* 7 14 6,
* 10 16 17;
}


Region "Statue Garden" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 1 , 8 , 9, 16;
Lists:
* 6 4 $"statue";
Desc: "This room is filled with statues of every description,
      scattered in a regular manner about its area."; }

Region "Orc Barracks" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor"; Depth: 2;
Door: $"oak door"; RoomTypes: 1, 14, 10;
Desc: "The bones, trash and fetid stench mark this area as the lair
      of a party of orcs.";
Lists:
* 10 22,
* 7 6 14,
* 6 1 $"pile of trash";
}

Region "Troll Cave" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor"; Depth: 6;
Door: $"oak door"; RoomTypes: 17;
Desc: "A sweet, rotting smell permeates the air here, and the walls
      are coated with mildew and dirt. Tiny animal skeletons and piles
      of chewed bones litter the room, and thus you suspect that there 
      may be trolls nearby.";
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth,
54, 0x0040,(rID)0,e.EXVal,e.EYVal,NULL);
} ;
Lists:
* 10 54 54,
* 7 6 14,
* 6 1 $"pile of bones"; }


Region "Illithid Cenaculeum" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor"; Depth: 6;
Door: $"iron door"; RoomTypes: 17;
Desc: "A sweet, cloying smell permeates the air here, and the walls
      are coated with strange secretions. You sense a sort of throbbing
      hum in the area, but it seems to be in your mind rather than your
      ears.";
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
42, 0x0040,(rID)0,e.EXVal,e.EYVal,NULL);
} ;
Constants:
* 61 $"pool of slime";
Lists:
* 10 42 42,
* 7 5 13;
Flags: 20;
}

Region "Naga Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"shallow water"; Depth: 8;
Door: $"iron door"; RoomTypes: 17, 19;
Constants:
* 61 $"shallow water";
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
21, 0,(rID)0,e.EXVal,e.EYVal,NULL);
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
21, 0,(rID)0,e.EXVal,e.EYVal,NULL);
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
21, 0,(rID)0,e.EXVal,e.EYVal,NULL);
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
21, 0,(rID)0,e.EXVal,e.EYVal,NULL);
} ;
Lists:
* 7 1 9;
}

Region "Jagged Chasm" : 4
{ Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"oak door"; RoomTypes: 1, 8, 19;
Desc: "This otherwise-normal area is lacking huge chunks of floor,
      as if the supports had been scooped out by a giant hand or
      cataclysmic spells.";
Constants:
* 61 $"chasm";
Lists:
* 10 93 4 82,
* 6 1 $"floor";
}

Region "Floating Rock;1" : 4
{
Desc: "The center of this area contains a floating section of rocky
    floor that is supported by no visible means. Around it lies a chasm.";
Walls: $"Dungeon Wall"; Floor: $"obsidian"; Depth: 3;
Door: $"oak door"; RoomTypes: 20;
Tiles:
'X': $"chasm";
Grid:{:
      %%%%%%%%%%%%
      %..........%
      %..XXXXXX..%
      %.XXXXXXXX.%
      %.XXX1.XXX.%
      %.XX.G.1XX.%
      %.XX1.G.XX.%
      %.XXX.1XXX.%
      %.XXXXXXXX.%
      %..XXXXXX..%
      %..........%
      %%%%%%%%%%%%
      :}
 ;
}



Region "Warded Laboratory" : 4
{
Walls: $"warded wall"; Floor: $"Floor";
Door: $"warded oak door";
Desc: "Tables fill this room, covered with alchemical apparatus and
      generally inscrutable devices. More importantly, however, the walls
      and doors are deeply inscribed with mystic runes that keep out (or
      perhaps keep in) incorporeal creatures. The laboratory shows signs
      of use and may well have been used to summon something
      dangerous recently.";
Flags: 23;
RoomTypes: 3, 1, 8;
Lists:
* 7 5 13,
* 10 29,
* 6 6 $"summoning circle",
* 6 11 $"summoning circle";
}

Region "Ritual Chamber" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "Intricate designs are carved on the walls here, and the faint
      remains of summoning and warding circles can be made out carved into
      the floor. Once, this place must have been a great mage's ritual
      area, and even now you can feel a certain unnatural tension in the
      air.";
RoomTypes: 8, 9, 1, 6;
Lists:
* 7 5 13,
* 6 6 $"summoning circle";
}


Region "Armoury" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
Desc: "Rotting stands lined with rust flakes are all that is left
      of the ancient dwarven armoury that once stood here, though a
      few of the remaining weapons seem to be at least remotely usable.";
RoomTypes: 1, 5, 6, 9;
Lists: * 6 10 $"pillar",
* 6 6 $"forge";
On Event 150 {
hObj it; int32 i,j; rID xID;
j = 8 + random(8);
for(i=0;i!=j;i++) {
if (!random(6))
xID = theGame->GetItemID(1,0,0,51);
else if (!random(4))
xID = theGame->GetItemID(1,0,0,21);
else
xID = theGame->GetItemID(1,0,0,58);
if (xID)
if (EMap->FindOpenAreas(e.cPanel)) {
it = CreateItem(xID);
if (it)
it->PlaceOpen(EMap);
}
}
it = CreateFeature($"forge");
it->PlaceOpen(EMap);
return 0;
};
}

Region "Abatoir" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Floor: $"bloodstain";
Desc: "There can be no doubt as to the purpose of this room -- the
      floor is caked with centuries of dried blood. You vaguely wonder
      who, or what, was driven to use this room as a killing ground for
      so many over such a long period.";
RoomTypes: 1, 8;
Lists:
* 6 1 $"corpse";
}

Region "Ancient Barracks" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
Desc: "These tiny, spartan chambers were once likely home to dwarven
      soldiers, or warriors or some other underground race. Regardless,
      the original inhabitants are millenia dead, but the vague imprint of
      noble crests on the limestone walls and tight, functional corridors
      still speak strongly of nobility, strength, militarism and an
      uncompromising spirit.";
Lists:
* 7 2;
RoomTypes: 14;
}

Region "Magic Academy": 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
Desc: "Here, in ages past, many young and idealistic students of the
      underdark races must have come to study the arts of magic at the
      hands of their superiors. You wonder vaguely whether their life
      was harsh or pleasant, rewarding or slavish, but so many centuries
      after their passing it hardly seems relevant.";
Lists:
* 7 5 13;
RoomTypes: 14;
}

Region "Community Offices" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "The desks, chairs and other furniture has long since rotted
      away to dust, but the signs and ideograms carved on the marble walls
      remain to indicate that this area was once some kind of civil
      bureaucracy or trade guild from a forgotten civilization.";
RoomTypes: 14;
Lists:
* 7 15 7 8 3;
}

Region "Flooded Encampment" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "These small chambers were presumably once the living spaces for
      an underground enclave. Seepage from natural water flows has made the
      area largely uninhabitable. If the original occupants were present at
      the time, they would have been witnesses to a slowly mounting
      cataclysm as their homes were slowly filled with water.";
RoomTypes: 14;
Constants:
* 61 $"shallow water";
Lists:
* 10 80 92,
* 6 1 $"shallow water",
* 7 1 9; }

Region "Ice Matrix" : 4
{
Walls: $"Ice Wall"; Floor: $"Ice Floor";
Door: $"ice door";
Flags: 23;
Desc: "An abrupt, almost certainly supernatural drop in temperature
  greets you as you step into this cavern. The entire area is crafted from a
  thick layer of bright, clear ice, and snow covers the floor like a fine
  white powder.";
RoomTypes: 14, 23, 18;
Lists:
* 10 96 87;
}

Region "Icy Prison" : 4
{
Walls: $"ice Wall"; Floor: $"floor";
Door: $"oak door"; Depth: 3;
Flags: 23;
Desc: "An abrupt, clearly supernatural drop in temperature greets you
    as you step into this cavern. The center of the area is dominated by
    a translucent curtain of icy, destructive magical power.";
RoomTypes: 9, 19, 2;
Lists:
* 6 15 $"curtain of frost",
* 6 14 $"floor",
* 6 6 $"large iron chest",
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
95, 0,(rID)0,e.EXVal,e.EYVal,NULL);
};
}

Region "Fiery Prison" : 4
{
Walls: $"solid igneous rock"; Floor: $"floor";
Door: $"oak door"; Depth: 3;
Flags: 23;
Desc: "An abrupt, clearly supernatural raise in temperature greets you
    as you step into this cavern. The center of the area is dominated by
    a translucent curtain of destructive magical fire.";
RoomTypes: 9, 19, 2;
Lists:
* 6 15 $"curtain of flame",
* 6 14 $"floor",
* 6 6 $"large iron chest";
On Event 150 {
EMap->GenEncounter(0x00000040,EMap->Depth+5,EMap->Depth+5,
96, 0,(rID)0,e.EXVal,e.EYVal,NULL);
};
}

Region "Ancient Library" : 4
{
Walls: $"dungeon wall"; Floor: $"floor"; Door: $"oak door";
Flags: 23, 25, 26;
RoomTypes: 2;
Lists:
* 6 16 $"bookshelf";
On Event 150 {
hObj it; int32 i,j; rID xID;
j = 1d8+theGame->GetPlayer(0)->Mod(6);
for(i=0;i<j;i++) {
xID = theGame->GetItemID(1,0,EMap->Depth+5,22);
if (xID)
if (EMap->FindOpenAreas(e.cPanel)) {
it = CreateItem(xID);
if (it)
it->PlaceOpen(EMap);
}
}
j = 1d2;
if (1d2 == 1)
for (i=0;i!=j;i++)
{
it = GenDungeonItem(0,$"tome",EMap->Depth+5,
theGame->GetPlayer(0)->GetAttr(6));
if (it != NULL)
if (EMap->FindOpenAreas(e.cPanel))
it->PlaceOpen(EMap);
}
return 0;
};
}

Region "Meeting Hall" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "The upraised speaking platform and the tiny indentations in
      the floor where rows of chairs would once have stood mark this as
      a community meeting hall. If you close your eyes, you can imagine
      the room crammed with dwarves, drow, illithids or members of some
      other underground race, eager to socialize and receive pronouncements
      from leaders spiritual or secular. But now, it is simply a vast,
      shadowed and empty chamber.";
RoomTypes: 2, 5, 11;
}

Region "Feast Hall" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "The long stone table, and the noble shields carved into the
      walls, suggest that this room once served as a royal feast hall
      where nobles and kings would dine on the richest Underdark delicacies.
      Now, it is starkly empty, and the air is cool and still.";
RoomTypes: 2, 3;
Lists:
* 6 11 $"pillar";
}

Region "Underking's Court" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
RoomTypes: 2, 11;
Lists:
* 6 11 $"pillar";
}

Region "Hall of Knights" : 4
{
Desc: "The walls here are lined with ancient, rusted suits of field 
      plate, and the pillars are inscribed in forgotten languages with
      the names of knights fallen in battle ages before you were even
      born.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
RoomTypes: 11;
Lists:
* 6 10 $"statue";

}


Region "Surreal Chamber" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 8, 11, 6;
Desc: "You're not quite sure what it is, but there's something just
      wrong about this room. It has something to do with angles, you
      think, and the proportions of the walls, but you can't place it
      exactly, and trying to figure it out is giving you a headache. You
      feel the strange urge to pray...";
Lists:
* 10 105;
}

Region "Elemental Chamber" : 4
{
Walls: $"dungeon wall"; Floor: $"floor";
Door: $"oak door";
RoomTypes: 2, 19, 5, 6, 7;
Desc: "This mysterious room appears to pay homage to the four
    major elements.";
Lists:
* 7 4 1 15 6,
* 10 38;
On Event 150 {
int32 a1, a2, a3, a4;
int32 myrand;
a1 = 1;
a2 = 1;
a3 = 1;
a4 = 1;
for (a1=1; (a1 || a2 || a3 || a4) ; a1 = a1) {
myrand = 1d4;
if (myrand == 1 && a1) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"shallow water");
a1 = 0;
} else if (myrand == 2 && a2) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"brimstone");
a2 = 0;
} else if (myrand == 3 && a3) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"fog");
a3 = 0;
} else if (myrand == 4 && a4) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"loose-packed earth");
a4 = 0;
}
}
return 0;
};
}

Region "Brimstone Chamber" : 4
{
Walls: $"solid igneous rock"; Floor: $"Floor"; Depth: 2;
Door: $"oak door"; RoomTypes: 8, 11, 6;
Desc: "The strangely-hot air in this room is filled with a stench of
    sulphur. Patches of the ground glow with a faint incandescence and
    the stone crackles with heat.";
Flags: 23;
Constants:
* 61 $"brimstone";
Lists:
* 6 1 $"smooth igneous rock",
* 10 95 44;
}

Region "Entry Chamber;hells" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 20;
Desc: "A sense of dread fills you as you realize that you are no
    longer on the Prime Material plane.";
Flags: 15;
Tiles:
'.': $"bloodstain",
'1': $"bloodstain" with $"corpse" of $"human",
'>': $"floor" with $"material portal" [0x08];
Grid:{:
      %%%%%%%
      %11111%
      %11111%
      %11>11%
      %11111%
      %11111%
      %%%%%%%
      :}
 ;
}

Region "Entry Chamber" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 20;
Desc: "Your first sight of the goblin caves is not a heartening one:
      this room is a mass grave, the floor splattered with blood and the
      corpses of your fellow adventurers laying strewn around the stairs.
      There is an old, thick pillar in each corner, covered with the
      twisting, indecipherable goblin script; while you can't make out the
      message, you can discern the runes for 'light' and 'surface'.";
Flags: 15;
Tiles:
'o': $"floor" with $"pillar",
'b': $"bloodstain",
'T': $"floor" with $"tree",
'p': $"floor" with $"potion" of $"healing",
'd': $"floor" with $"potion" of $"dimension door",
'i': $"floor" with $"potion" of $"see invisibility;potion",
'1': $"bloodstain" with $"corpse" of $"human",
'2': $"bloodstain" with $"corpse" of $"elf",
'3': $"bloodstain" with $"corpse" of $"lizardman",
'4': $"bloodstain" with $"corpse" of $"dwarf",
'5': $"bloodstain" with $"corpse" of $"gnome",
'6': $"bloodstain" with $"corpse" of $"cave orc",
'7': $"bloodstain" with $"corpse" of $"kobold",

'w': $"floor" with $"wand" of $"identify;wand",
'P': $"floor" with $"infernal portal",
'>': $"floor" with $"cave enterance" [0x08];
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %pb........d..2......p%
      %.o......1..b....o..o.%
      %.....................%
      %....6...b....b...3...%
      %..b................o.%
      %...5................i%
      %.......b..4.b........%
      %..3..4...5...........%
      %.........6...7.b..7..%
      %..2...1..............%
      %p.........>.........d%
      %............3...4....%
      %...b...........b.....%
      %.........2...........%
      %.................b..b%
      %.............b.b1.b.b%
      %.o..b....b...b..b.bbb%
      %............b.b...b5b%
      %.............bbb.b.bb%
      %.o..o7....bb.b6bb.bob%
      %d.........pbbbb..bb.p%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
On Event 45 {
if (e.EParam & 0x0001)
return 0;
if (EActor->TotalLevel() >= 5 ||
EActor->getMaxDepth($"The Goblin Caves") >= 4)
return 0;
EActor->IPrint("If you want to rest, you can just climb back out
        of the dungeon entirely and rest in perfect safety in the fields
        above.");
return 2;
};
}

Region "The Goblin Encampment" : 4
{
Desc: "The air is filled with the scent of decaying trash and bodies and
   you can tell that the Goblin Encampment proper begins here. Under
   Murgash the goblins have fenced off their area from the rest of the
   dungeon, probably to keep out wandering menaces like yourself. The gates
   are unguarded, however, and a winding path paved with purple stones lies
   deserted. The goblins themselves live huddled in shanties and shacks. A
   forge and a slaughterhouse appear to be the only well-constructed
   outlying buildings. The camp itself is dominated by a squat inner keep
   surrounded by a moat. The keep itself appears to have been fashioned
   from an adamant alloy and looks quite tactically sound compared to the
   rest of the camp.";

Floor: $"floor"; Walls: $"solid rock"; Door: $"iron door";
Flags: 15; RoomTypes: 20;
Tiles:

'=': $"steel fence",
'o': $"floor" with $"pillar" as red 15,


',': $"floor" as purple 249,
#line "dungeon.irh" 3973
'$': $"guardian runes" with
$"statue" of $"Murgash, the Goblin King",


'*': $"building wall" as brown 219,
'-': $"building wall" as brown 205,
'|': $"building wall" as brown 186,
'F': $"floor" with $"forge",
'b': $"bloodstain",
'm': $"bloodstain" with $"strip of cured meat",
'g': $"floor" with $"goblin family",
'_': $"floor" with $"bed",


'1': $"floor" with $"goblin",
'2': $"floor" with $"hobgoblin",
'3': $"floor" with $"ogre",
'4': $"floor" with $"troll",
'5': $"floor" with $"hill giant",



'&': $"pile of trash",
'7': $"pile of bones",


'D': $"bloodstain" with $"corpse" of $"kobold;temp",
'H': $"bloodstain" with $"corpse" of $"human;temp",
'W': $"bloodstain" with $"corpse" of $"dwarf;temp",
'O': $"bloodstain" with $"corpse" of $"orc;temp",
'N': $"bloodstain" with $"corpse" of $"gnome;temp",
'E': $"bloodstain" with $"corpse" of $"elf;temp",


'X': $"adamant wall",

'~': $"deep water",
'`': $"deep water" with $"tojanda",
'!': $"deep water" with $"elder tojanda",
'B': $"drawbridge",
'C': $"floor" with $"caryatid column",


';': $"guardian runes",
'@': $"guardian runes;2",
'^': $"guardian runes" as azure 250,


'S': $"guardian runes"
with $"goblin vizier" [0x40], 'I': $"guardian runes"
with $"mind flayer mage" [0x40],

'T': $"floor" ,


'M': $"iron throne" with $"Murgash, the Goblin King"
[0x40];
Grid:{:
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%..........%%%%%%%%%.................%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%..............%%%%%.......................%%%%%%%%%%%%%%%%%%%%%%.%
%%.....................................................%%%%%%%%%%%%..%
%%%..============================o,o============================.%..%%
%%%..=............................,............................=...%%%
%%%..=.*--*-*--*..*--*-*--*.......,...*---*--*-*--*..*--*-*--*.=....%%
%%%..=.|g.+.+.g|..|1.+.+.g|.11111.,.1.|&.1|g.+1+.g|..|g.+1+.g|.=....%%
%%%..=.|..|.|&.|..|..|.|..|1111...,.1.|111|1.|1|.&|..|..|1|..|.=....%%
%%%..=.*--*.*--*..*--*.*--*---*...,.1.|..F*--*.*--*..*--*.*--*.=....%%
%%%..=.|g.+.+.1|..|g.+.+.g|HOH|.5.,...|111|g.+.+.g|..|1.+.+.g|.=...%%%
%%%..=.|.&|.|..|..|.&|.|&.|EHb|...,,,,+111|.&|.|..|..|..|.|&.|.=...%%%
%%...=.*--*.*--*..*--*.*--*Dbb|.1.,...|11F*--*.*--*..*--*.*--*.=...%%%
%%...=.|1.+.+.g|..|1.+.+.1|b7b|111,...|111|1.+.+.g|..|g.+.+.#|.=...%%%
%%...=.|..|.|..|..|.&|.|..|b..+,,,,...|.1.|..|.|..|..|&.|.|..|.=...%%%
%%...=.*--*.*--*..*--*.*--*..m|...,...*---*--*.*--*..*--*.*--*.=...%%%
%%%..=.|1.+.+.3|..|g.+.+.g|7mm|...,.......|g.+.+.g|..|g.+.+.g|.=...%%%
%%%..=.|.&|.|..|..|..|.|..|mmm|...,.1.5.1.|..|.|&.|..|..|.|..|.=....%%
%.%..=.*--*+*--*..*--*+*--*---*...,.......*--*+*--*..*--*+*--*.=....%%
%.%..=.....,..........,...........,.....11....,..........,.....=....%%
%.%..=.....,.221.5.11.,11111111221,.;;;.......,.11111.5..,.11..=....%%
%.%..=.....,..........,14112321111,.;$;1114131,..........,..2..=....%%
%.%..=.....,,,,,,,,,,,,11111411221,.;;;11221..,,,,,,,,,,,,.....=....%%
%.%..=.*--*+*--*......,11211232311,....11212.5,..........,.141.=....%%
%....=.|g.+.+.3|...,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.1.....,.....=.....%
%....=.|..|.|..|...,`~~~~~~~~~~~~`B`~~~~~~~~~~~~`,.2.*--*+*--*.=.....%
%....=.*--*.*--*...,~XXXXXXX~~~~~~B~~~~~~XXXXXXX~,.1.|1.+.+.1|.=.....%
%....=.|g.+.+.1|...,~X..T.CX`~~~~!B!~~~~`XC.T..X~,.3.|..|.|&.|.=.....%
%....=.|&.|.|&.|...,~X.CX..T.............T..XC.X~,2..*--*.*--*.=.....%
%...%=.*--*.*--*...,~XTXXXXXXXXXXXXXXXXXXXXXXXTX~,.1.|1.+.+.1|.=.....%
%%..%=.|1.+.+.g|...,~X.CXXXXXXXXXXXXXXXXXXXXXC.X~,1.3|..|.|..|.=.....%
%%..%=.|..|.|..|...,~X..T.......;;;;;.......T..X~,.1.*--*.*--*.=....%%
%%..%=.*--*.*--*...,~XXX=========;;;=========XXX~,..2|g.+.+.1|.=....%%
%%.%%=.|1.+.+.g|...,~~XXX^;^;^;;@@@@@;;^;^;^XXX~~,...|..|.|&.|.=...%%%
%%.%%=.|.&|.|&.|...,~~~XX;^;^;;;;;^;;;;;^;^;XX~~~,...*--*.*--*.=...%%%
%%.%%=.*--*-*--*...,~~~XX^;^;;;;;^;^;;;;;^;^XX~~~,...|g.+.+.1|.=..%%%%
%%.%%=.............,~~~XX;^;;;;;^;^;^;;;;;^;XX~~~,...|.&|.|..|.=..%%%%
%%..%=..111214321..,~~~XX^;;;;;^S^;^S^;;;;;^XX~~~,...*--*-*--*.=..%%%%
%%..%o.............,~~~XX;;;;;^;^;^;^;^;;;;;XX~~~,.............o..%%%%
%....,,,,,,,,,,,,,,,~~~XXI;;;;;^;^M^;^;;;;;IXX~~~,,,,,,,,,,,,,,,..%%%%
%....o.............,~~~XX;;;;;;;^;^;^;;;;;;;XX~~~,.............o.%%%%%
%%%%%=.....1112121.,~~~XX;;;;;^;;^;^;;^;;;;;XX~~~,.11111311111.=.%%%%%
%%%%%=.H.E..311411.,~~~XX^;;;^S^;;^;;^S^;;;^XX~~~,.12211314111.=.%%%%%
%%%%%=HHDHOE.21112.,~~~XX;^;;;^;;;;;;;^;;;^;XX~~~,.1113123111..=.%%%%%
%%%%%=.DEW.7H.3731.,~~~XX^;^;;;;;;I;;;;;;^;^XX~~~,.121211311.&.=.%%%%%
%%%%%=EEHDWHH..222.,~~XXX;^;^;;;;;;;;;;;^;^;XXX~~,.13121111.&.&=.%%%%%
%%%%%=HHHEDWWW.111.,~XXXXXXX;^;;;;;;;;;^;XXXXXXX~,.4411111.&7&.=.%%%%%
%%%%%=.WWDENN..111.,~XXX$..X^;^;;;;;;;^;^X_._XXX~,.11111...&...=.%%%%%
%%%%.=H7DHEDEO.121.,~XX....+;^;^;;;;;^;^;+..._XX~,.1111.....&&&=..%%%%
%%%%.=.ONOHDO..131.,~XX....XXXXXXXXXXXXXXX....XX~,.111....&.&..=..%%%%
%%%%.=DHNHW.EE.141.,~XX_..XXXXXXXXXXXXXXXXX.._XX~,.43...&..&.&.=..%%%%
%%%..=DHDOWEH..111.,~XXXXXXXX~~~~~~~~~~~XXXXXXXX~,.11...&7&..&.=..%%%%
%%%..=.OOH7OWW.111.,~XXXXXXX~~~~~~~~~~~~~XXXXXXX~,.11..7...&&.&=..%%%%
%%%..=.WHHHDO...21.,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,.11...&&&.&&.=..%%%%
%%...=DHW.OE.HE..2.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,......&..&&&.=..%%%%
%%...=.DHONHDH...2................,................5...&...&7&.=..%%%%
%..%.=NEHHHDO.7O..111331112111411.,5.2211221231111....&..&&..&.=..%%%%
%..%.=.W.NWWHNE.7.................,................&7&.&..&.&&&=..%%%%
%%...============================o,o============================..%%%%
%%................................................................%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
   :}
 ;
On Event 45 {
EActor->IPrint("Taking a nap during a covert intrusion into a hostile
      enemy fortress is generally considered to be tactically inadvisable,
      you know.");
return 2;
},
150 {
hObj hMon;
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && EMap->RegionAt(hMon->x,hMon->y) ==
$"The Goblin Encampment") {
switch(hMon->mID) {
case $"goblin":
case $"hobgoblin":
switch (1d30) {
case 1: hMon->AddTemplate($"rogue-archer"); break;
case 2: hMon->AddTemplate($"archer"); break;
case 3: hMon->AddTemplate($"myrmidon"); break;
case 4: hMon->AddTemplate($"reaver"); break;
case 5: hMon->AddTemplate($"shadowdancer;template"); break;
case 6: hMon->AddTemplate($"blackguard;template"); break;
case 7: hMon->AddTemplate($"stalker"); break;
case 8: hMon->AddTemplate($"chieftan"); break;
case 9: hMon->AddTemplate($"shaman"); break;
case 10: case 11: case 12:
hMon->AddTemplate($"veteran"); break;
default: hMon->AddTemplate($"elite"); break;
}
break;
case $"ogre":
case $"hill giant":
switch (1d10) {
case 1: hMon->AddTemplate($"skilled"); break;
case 2: hMon->AddTemplate($"experienced"); break;
case 3: hMon->AddTemplate($"experienced"); break;
case 4: hMon->AddTemplate($"veteran"); break;
case 5: hMon->AddTemplate($"chieftan"); break;
case 6: hMon->AddTemplate($"shaman"); break;
}
break;
}
hMon->RemoveStati(222);
hMon->PlaceAt(EMap,hMon->x,hMon->y);
}
return 0;
};
}

Terrain "iron throne"
{ Image: grey '#'; Mat:11;
Flags: 12; }

Feature "bed" : 13
{ Image: brown 'b'; Mat:8; }

Terrain "drawbridge"
{ Image: brown '='; Mat:8;
Flags: 12; }

Terrain "guardian runes"
{ Image: pink 250; Mat:28;
Flags: 12, 6, 5;
On Event 161 {
return 0;
},
1, 167 {
int32 dmg, typ;
if (EActor->isCharacter()) {
if (EActor->HasAbility(110))
return 0;
if (murgash_quelled)
return 0;
DPrint(e,"The guardian runes flare at you!",
"The guardian runes flare at an <EActor>!");

dmg = 6 + random(6);

switch (random(6)) {
case 0: typ = 28; break;
case 1: typ = 25; break;
case 2: typ = 26; break;
case 3: typ = 72; break;
case 4: typ = 39; break;
case 5: typ = 0; break;
}

if (EActor->SavingThrow((typ == 25 || typ == 72 ||
typ == 39) ? 0 : 2, 27, 0x00000001|0x00000002 |
(typ == 28 ? 0x00000400 : 0) |
(typ == 26 ? 0x00001000 : 0)))
{
EActor->IPrint("You resist the runes' effect.");
return 0;
}

if (typ == 0) {
e.vCasterLev = 15;
SetEVictim(e,EActor);
RedirectEff(e,$"dispel magic",28);
}
else
ThrowTerraDmg(41,typ,dmg,"guardian runes",EActor,
$"guardian runes");
if (EActor->isDead())
return 2;
return 0;
}
return 0;
},
52 {
if (murgash_quelled)
return 0;
if ((e.eID == $"Phase Door" || e.eID == $"Dimension Door" ||
e.eID == $"Teleport" || e.eID == $"Shift Level" ||
e.eID == $"Shadow Shifting" || e.eID == $"Passwall" ||
e.eID == $"Shadow Step" || e.eID == $"Tree Stride" ||
e.eID == $"Teleportation") && !EActor->isMType(10))
{
if (EActor->HasStati(37,8))
if (EActor->yn("The runes try to block your weavecraft; force it?"))
if (EActor->LoseFatigue(2,true))
return 0;
EActor->IPrint("The guardian runes flare. You flicker, but remain
            where you are.");
return 1;
}
return 0;
};
}

Terrain "guardian runes;2"
{ Image: red 250; Mat:28;
Flags: 12, 6, 5;
On Event 161 {
if (EActor->isMType(10))
return 2;
return 0;
},
1, 167 {
int32 dmg, typ;
if (EActor->isCharacter()) {
if (murgash_quelled)
return 0;
if (EActor->HasAbility(110))
return 0;
DPrint(e,"The guardian runes flare at you!",
"The guardian runes flare at an <EActor>!");
dmg = 6 + random(6);
switch (random(6)) {
case 0: typ = 28; break;
case 1: typ = 25; break;
case 2: typ = 26; break;
case 3: typ = 72; break;
case 4: typ = 39; break;
case 5: typ = 0; break;
}

if (EActor->SavingThrow((typ == 25 || typ == 72 ||
typ == 39) ? 0 : 2, 27, 0x00000001 | 0x00000002 |
(typ == 28 ? 0x00000400 : 0) |
(typ == 26 ? 0x00001000 : 0)))
{
EActor->IPrint("You resist the runes' effect.");
return 0;
}

if (typ == 0) {
e.vCasterLev = 15;
SetEVictim(e,EActor);
RedirectEff(e,$"dispel magic",28);
}
else
ThrowTerraDmg(41,typ,dmg,"guardian runes",EActor,
$"guardian runes;2");
if (EActor->isDead())
return 2;
return 0;
}
return 0;
},
52 {
if (murgash_quelled)
return 0;

if ((e.eID == $"Phase Door" || e.eID == $"Dimension Door" ||
e.eID == $"Teleport" || e.eID == $"Shift Level" ||
e.eID == $"Shadow Shifting" || e.eID == $"Passwall" ||
e.eID == $"Shadow Step" || e.eID == $"Tree Stride" ||
e.eID == $"Teleportation") && !EActor->isMType(10))
{
if (EActor->HasStati(37,8))
if (EActor->yn("The runes try to block your weavecraft; force it?"))
if (EActor->LoseFatigue(2,true))
return 0;
EActor->IPrint("The guardian runes flare. You flicker, but remain
            where you are.");
return 1;
}
return 0;
};
}

Monster "goblin family" : 10
{
Image: Green 'g'; Size: 3; Mana: 6;
CR: 1/4; HD: 3; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 6, Dex 12, Con 10, Int 12, Wis 10, Cha 8;
Attk: 1 for 1d2 damage;
Flags: 36, 37, 1, 93, 94,
51, 66, 23, 24;
On Event 150 {
EActor->GainPermStati(7,NULL,7);
};
Desc: "This pitiful civilian goblin family lives under the iron fist
    of Murgash. The family members are huddling together, completely
    terrified, hoping that you will go away. Your real foes are elsewhere.";
}

Monster "goblin vizier" : 10, 122
{
Image: bright red 'g'; Size: 3;
CR: 8; HD: 7; Hit: +5; Def: 11; Mov: 100%; Spd: 125%;
Str 12, Dex 16, Con 16, Int 18, Wis 20, Cha 10;
Attk: 1 for 1d2 13;
Stati[39,42,12];
Stati[39,82,7];
Stati[39,97,7];
Gear: $"potion" of random 1 to 4,
blessed $"whip" of random 3 to 4,
20% $"wand" +4 of $"thunderbolts" else
25% $"wand" +4 of $"acid;wand" else
33% $"wand" +4 of $"the Void" else
50% $"wand" +4 of $"soul flaying" else
$"wand" +4 of $"striking;wand",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Feats: (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 15),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 17), (((((49 + 1) + 32) + 50) + 38) + 4),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 34, 47, 44;
Flags: 36, 37, 1, 49, 51, 56,
8, 23, 103, 90;
On Event 156 {
hObj it;

it = CreateItem($"field plate armor");
it->MakeMagical((rID)0,+1);
it->AddQuality(76);
EActor->GainItem(it,true);

EActor->GainPermStati(101,NULL,4);

return 0;
};
Desc: "These priests of The Multitude spread bloody doctrines and offer
      counsel to goblin rulers.";
Lists:
* 21
(52 + 1000);
}

Monster "Murgash, the Goblin King" : 10, 121, 87
{
Image: bright purple 'g'; Size: 3;
CR: 10; HD: 14; Hit: +14; Def: 22; Mov: 100%; Spd: 145%;
Str 16, Dex 24, Con 20, Int 16, Wis 16, Cha 16;
Attk: 1 for 1d2 13;
Stati[39,42,12];
Stati[39,25,1];
Stati[39,35,7];
Stati[39,79,9];
Stati[39,82,3];
Stati[39,49,9];
Immune: 0x04000000, 0x08000000;
Feats:
((49 + 1) + 5),
((49 + 1) + 25),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((49 + 1) + 32) + 50) + 13),
((((49 + 1) + 32) + 50) + 30),
(((((49 + 1) + 32) + 50) + 38) + 9),
(((((49 + 1) + 32) + 50) + 38) + 26),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 14),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
18,
32,
36,
44;
#line "dungeon.irh" 4400
Flags: 36, 37, 1, 24, 49, 51,
67, 8, 83, 64, 63,
23, 103, 56;
Spells: $"bull's strength",
$"shield of faith";
Gear:
4d2 $"potion" of $"true-healing",
$"potion" of $"stoneskin",
$"ring" of $"regeneration",
$"amulet" +3 of $"brass and glass",
$"girdle" +4 of $"the winterlands",
$"helm" +4 of $"clear sound",
$"cloak" of $"mantle of magic resistance",
$"bracers" +2 of $"blinding strikes",
$"boots" +2 of $"striding and springing";
On Event 62
"We will bury you!" /
"Bow before my soverign might!" /
"You dare to approach?" /
"Die, surfacer!";
On Event 150 {
hObj it;

EActor->GainPermStati(101,NULL,4);


it = CreateItem($"scimitar");
it->AddQuality(2);
it->AddQuality(6);
it->AddQuality(11);
it->AddQuality(13);
it->AddQuality(12);
it->AddQuality(39);
it->MakeMagical((rID)0,+5);
it->Named = "Soulcleaver";
EActor->GainItem(it,true);

it = CreateItem($"chainmail shirt");
it->MakeMagical((rID)0,+5);
it->AddQuality(19);
it->AddQuality(30);
it->Named = "Bladewarder";
EActor->GainItem(it,true);

},
32 {
#line "dungeon.irh" 4453
int32 dx,dy, mx, my;
hObj cre;
if (EActor->HasStati(195))
return 0;

for (dx = -30; dx <= 30; dx++) {
for (dy = -30; dy <= 30; dy++) {
mx = dx + EActor->x;
my = dy + EActor->y;
if (EMap->InBounds(mx,my)) {
cre = EMap->FCreatureAt(mx,my);
if (cre != NULL) {
if (cre->mID == $"goblin vizier" ||
cre->tmID == $"goblin vizier") {
EActor->GainTempStati(195,EActor,2,7);
return 0;
}
}
}
}
}
return 0;
},
(42+2000) {
if (!murgash_quelled)
theGame->GetPlayer(0)->IPrint("You have done it! You have slain the king of 
            the goblins! Now if only you can make your way back to the
            surface, you will forevermore be known as a great hero (as
            opposed to a great martyr)!");
murgash_killed = true;
},
((66+2000)+500) {
theGame->GetPlayer(0)->IPrint("You throw down your weapons and
              surrender to the king of the goblins. He escorts you to one
              of his viziers, who casts a spell of mental enslavement upon
              you, and you are sent to the barracks. For what it's worth,
              when the army of goblinoids surges out across the surface
              world a few months from now, you lead one of the great charges,
              but you are ultimately slain by a dwarven champion defending
              his city.");
ThrowDmg(42,0,0,"the fruits of treason",EVictim,EActor);
return 1;
},
((64+2000)+1000),
((57+2000)+1000),
((177+2000)+1000) {
hObj hGob;
if (murgash_quelled)
return 0;
if ((EVictim->StateFlags & 0x0001) &&
e.Event == ((177+2000)+1000))
{
theGame->GetPlayer(0)->IPrint("You have done it! You have forced terms
              from the king of the goblins! Murgash stands before the army by your
              command and orders them to disperse, returning to the tunnels and
              grottos from whence they came. Now if only you can make your way back 
              to the surface, you will forevermore be known as a great hero (as
              opposed to a great martyr)!");
}
else if ((EVictim->HasStati(10) &&
EVictim->GetStatiDur(10) == 0))
{
theGame->GetPlayer(0)->IPrint("You have done it! You have broken the 
              king of the goblins! Seeing their leader humbled and cowed before
              your might, his advisors and mercenaries turn to flee; the army is
              collapsing. Now if only you can make your way back 
              to the surface, you will forevermore be known as a great hero (as
              opposed to a great martyr)!");
for (hGob=EMap->FirstThing();hGob;hGob=EMap->NextThing())
if (hGob->isCreature() && hGob->PartyID == EVictim->PartyID) {
hGob->GainPermStati(10,EActor,7,5);
EActor->KillXP(hGob,100);
}
murgash_quelled = true;
return 1;
}
else if (EVictim->StateFlags & 0x0001)
{
theGame->GetPlayer(0)->IPrint("You speak of many things. You tell the
              goblin king's court about the strengths of human and elven armies,
              and their great numbers. You speak of the militant ambition of the
              priesthood of Erich toward goblinkind, and you present the legendary
              stories of the skill of the Assassins' Guild. With legendary eloquence,
              you describe how history would have played out: the goblins would
              devastate one, perhaps two large cities before the armies of men and
              demihumans unite in a genocidal war that would spell the end of
              the goblinoid peoples. Murgash himself would not live to see this --
              he would be quietly slain one night in his sleep by an assassin he
              would have no ability to detect. Demihumanity would suffer, and then
              goblinkind would die. On consideration, the goblin king agrees to
              accept the terms you offer for a very conditional surrender, and
              signs a notice of terms. Now if only you can make your way back
              to the surface, you will forevermore be known as a great hero (as
              opposed to a great martyr)!");
}
else
return 0;
for (hGob=EMap->FirstThing();hGob;hGob=EMap->NextThing())
if (hGob->isCreature() && hGob->PartyID == EVictim->PartyID) {
hGob->TurnNeutralTo(EActor);
EActor->KillXP(hGob,100);
}
murgash_quelled = true;
return 1;
};
Lists:
* 21
(52 + 1000);
}



Region "Arena Chamber" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 20;
Flags: 15;
Tiles:
'p': $"floor" with $"potion" of $"healing",
'd': $"floor" with $"potion" of $"dimension door",
'R': $"Indestructable Rock",
'w': $"shallow water",
'm': $"floor" with $"giant mushroom",
'>': $"shallow water" with $"cave enterance" [0x08];
Grid:{:
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRR.....RRRRRRRRRRRRRRR
      RRRRRRRRRRRm...........mRRRRRRRRRRR
      RRRRRRRRRR.......m.......RRRRRRRRRR
      RRRRRRRRRR......mmm......RRRRRRRRRR
      RRRRRRRRRwwwwwwwwwwwwwwwwwRRRRRRRRR
      RRRRRRRRRw.w.w.w.w.w.www.wRRRRRRRRR
      RRRRRRRRRwwwwwwww>wwwwwwwwRRRRRRRRR
      RRRRRRRRRw.www.w.w.w.w.w.wRRRRRRRRR
      RRRRRRRRRwwwwwwwwwwwwwwwwwRRRRRRRRR
      RRRRRRRRRR......mmm......RRRRRRRRRR
      RRRRRRRRRR.......m.......RRRRRRRRRR
      RRRRRRRRRRRm...........mRRRRRRRRRRR
      RRRRRRRRRRRRRRR.....RRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      :}
 ;
}


Terrain "Testing Terrain"
{ Image: brown 176; Mat:28;
Flags: 1, 2, 20;
On Event 1 {
if (EActor->HasStati(15)
|| EActor->HasAbility(110))
return 0;
if (!EActor->SkillCheck(5,15,true,false))
{
DPrint(e,"You slip and fall!",
"An <EActor> slips and falls!");
EActor->GainPermStati(15,NULL,7);
EActor->Reveal(false);
EActor->MakeNoise(3);
EActor->Timeout += 30;
return 2;
}
return 0;
};
}
#line "mon1.irh" 216
Monster "dragon" : 37
{
Image: green 'D'; Size: 7;
Desc: "Dragons are ancient, hellishly powerful reptilian creatures known
      for breathing gouts of flame or stranger things still. It is common
      knowledge that Theyran dragons are divided into three families -- the
      good-natured but reclusive metallic dragons, the austere, mentally
      gifted gemstone dragons and the normally malicious chromatic dragons. 
      Beyond this, knowledge of a dragon's specific species can be 
      discerned with the Knowledge (Mythology) skill.";
Flags: 108, 24;
}


Monster "gold dragon" : 37, 95
{
Image: yellow 'D'; Size: 7; Hit: 20; Arm: 12;
CR: 2; HD: 26; Def: 10; Mov: 240%; Spd: 150%; Mana: 140;
Str 26, Dex 15, Con 18, Int 20, Wis 22, Cha 18;
Attk:
#line "mon1.irh" 237
42 for 0d10 1 (DC 20), 48 for 0d2 50 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,12];
Stati[118,18,70];
Stati[125,0,10];
Immune: 0x00000001;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 51, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 98, 75, 73,
72, 74, 92;
Spells: $"bless", $"call light", $"luck bonus",
$"detect gems", $"cure serious wounds",
$"polymorph self";
On Event 200 "cone of fire" /
"cloud of weakening gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Effect "Luck Bonus" : 46
{
Flags: 82; Cost: 50;
Desc: "A gold dragon has the ability to enchant a gem to create
      a luckstone with a magical bonus equal to half it's age catagory.
      Sometimes, in exchange for rare gems or other valuable services,
      a dragon will bestow such a boon on adventurers.";
}

Effect "Detect Gems" : 46
{
Flags: 82; Cost: 3;
Desc: "This effect allows a gold dragon to sense the presence of
      gems within a 180 foot (18 square) radius of it.";
}

Monster "silver dragon" : 37, 93
{
Image: grey 'D'; Size: 7; Hit: 29; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 240%; Spd: 100%; Mana: 60;
Str 32, Dex 9, Con 20, Int 16, Wis 12, Cha 15;
Attk:
#line "mon1.irh" 289
42 for 0d10 2 (DC 20), 48 for 0d10 18 (DC 20),
102 for $"dragon",
101 for $"elf";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,3];
Stati[118,18,60];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 51, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 98, 92;
Spells: $"feather fall", $"detect evil", $"cure serious wounds",
$"air walk", $"control winds", $"holy smite";
On Event 200 "cone of frost" /
"cloud of paralyzing gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +6;
}

Monster "bronze dragon" : 37, 92, 93
{
Image: brown 'D'; Size: 7; Hit: 26; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 270%; Spd: 125%; Mana: 120;
Str 29, Dex 11, Con 18, Int 24, Wis 20, Cha 22;
Attk:
#line "mon1.irh" 322
42 for 0d8 4 (DC 20), 48 for 0d8 61 (DC 20)
and 0d8 28 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,9];
Stati[118,18,80];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 31, 92;
Spells: $"summon nature's ally i", $"ESP", $"create food and water",
$"obscurement", $"part water", $"waterspout";
On Event 200 "stroke of lightning" /
"repelling blast";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -6;
}

Monster "copper dragon" : 37, 94
{
Image: brown 'D'; Size: 7; Hit: 26; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 270%; Spd: 150%; Mana: 120;
Str 29, Dex 15, Con 18, Int 18, Wis 16, Cha 20;
Attk:
#line "mon1.irh" 356
42 for 0d4 5 (DC 20), 48 for 0d4 25 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,9];
Stati[118,18,70];
Immune: 0x00000010, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 52, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 72, 98, 92;
Spells: $"spider climb", $"jump;spell", $"earthmaw",
$"resist the elements", $"stoneskin", $"transmute rock to mud";

On Event 200 "stream of toxic bile" /
"cloud of slow gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +0;
}

Monster "brass dragon" : 37, 95
{
Image: bright red 'D'; Size: 7; Hit: 29; Arm: 21;
CR: 2; HD: 32; Def: 10; Mov: 200%; Spd: 100%; Mana: 100;
Str 32, Dex 9, Con 24, Int 16, Wis 12, Cha 14;
Attk:
#line "mon1.irh" 390
42 for 0d6 1 (DC 20), 48 for 0d6 16 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,60];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 52, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 92, 72, 75;
Spells: $"friends", $"create water", $"summon nature's ally iii",
$"earthmaw", $"control winds", $"summon djinni";
On Event 200 "cone of frost" /
"cloud of paralyzing gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Effect "Summon Djinni" : 9
{
0x00000100; rval: $"djinni"; pval: 8; Cost: 32; Purpose: 0x00100;
Flags: 95, 25, 82;
Desc: "This inherant ability allows a brass dragon to summon a
      djinni from the Elemental Plane of Air to aid it in a time of
      need. A given brass dragon can only have one such djinni summoned
      at a time, but it will aid him to the best of its ability.";
}


Monster "steel dragon" : 37, 94
{
Image: cyan 'D'; Size: 7; Hit: 32; Arm: 21;
CR: 2; HD: 32; Def: 10; Mov: 150%; Spd: 100%; Mana: 60;
Str 35, Dex 9, Con 24, Int 9, Wis 12, Cha 8;
Attk:
#line "mon1.irh" 434
42 for 0d12 5 (DC 20), 48 for 0d12 22 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,3];
Stati[118,18,50];
Immune: 0x00000010, 0x00200000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 51, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 92, 76, 75;
Spells: $"magic missile", $"iron mind", $"minor globe of invulnerability",
$"adamant facade", $"crushing despair", $"waves of weariness";
On Event 200 "blast of toxic gas" /
"cone of disintegration";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Monster "mercury dragon" : 37, 95, 93
{
Image: bright cyan 'D'; Size: 6; Hit: 20; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 300%; Spd: 225%; Mana: 60;
Str 23, Dex 24, Con 18, Int 16, Wis 14, Cha 15;
Attk:
#line "mon1.irh" 467
42 for 0d8 9 (DC 20)
and 0d8 24 (DC 20), 48 for 0d8 17 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,60];
Immune: 0x00000001, 0x00010000, 0x00020000, 0x00800000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 52, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 92, 98, 75;
Spells: $"call light", $"mirror image", $"gaze reflection",
$"spectral force", $"telekinesis", $"bolts of glory";
On Event 200 "cone of sunlight" /
"cone of stunning gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}
#line "mon1.irh" 509
Monster "white dragon" : 37
{
Image: white 'D'; Size: 6; Hit: 26; Arm: 21; Mana: 60;
CR: 2; HD: 32; Def: 10; Mov: 270%; Spd: 150%;
Str 29, Dex 15, Con 24, Int 6, Wis 9, Cha 7;
Attk:
#line "mon1.irh" 516
42 for 0d8 2 (DC 17),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,3];
Stati[118,18,40];
Immune: 0x00000002, 0x00008000, 0x00020000;
Feats: 44, 32, 41, 20,
9, 2, 8, 14,
45, 48;
Flags: 49, 52, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 38, 99, 42, 39;
Spells: $"magic fang", $"chill metal", $"gust of wind",
$"invisibility", $"slow", $"wall of ice" ;
#line "mon1.irh" 535
Desc: "Commonly seen as the stupidest of all dragonkind, white dragons
      are solitary beings, misunderstood by their more rapicious kin. Whites
      are primal, exceedingly patient and only nominally sentient. They are
      quite content to sleep for decades or centuries without any contact
      with other beings, seeking only to hunt when hunger rises and protect
      their hoard. When disturbed, however, when events confuse them or when
      the world changes from what they have grown accustomed to, they can be
      exceedingly viscious in trying to preserve what they have always known.
      Paranoid, xenophobic and terratorial, encounters between humanoids and
      white dragons are almost universally unexpected, bloody and tragic.
      The scales of a wyrmling white dragon glisten like mirrors. As the
      dragon ages, the sheen disappears, and by very old age, scales of
      pale blue and light gray are mixed in with the white.";
On Event 200 "cone of freezing cold";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}

Monster "red dragon" : 37
{
Image: red 'D'; Size: 7; Hit: 32; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 200%; Spd: 100%; Mana: 100;
Str 35, Dex 8, Con 21, Int 9, Wis 10, Cha 14;
Attk:
#line "mon1.irh" 564
42 for 0d12 1 (DC 20), 102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,50];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 49, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 39, 98;
Spells: $"friends", $"detect objects", $"enthrall", $"suggestion",
$"track monster", $"emotion";
Desc: "These dragons embody the consuming power of flame, for they are
      ever hungry -- for gold and treasure, and for less tangible treasures
      like arcane secrets and political power. It is part of their inherant
      nature as a race to covet, to burn with greed, and the primal impulse
      toward acquisition and horde-mongering is of an intensity unknown among
      the humanoid peoples. If power and wealth were food, red dragons are
      not only gluttons, but gluttons who were born with indescribable
      pangs of hunger that they can never ease, no matter how much they eat.
      Fortunately for more balanced beings, this all-consuming ambition
      often causes red dragons to lose control, sabotage their own plans or
      fall into frenzies of mindless fury.";
On Event 200 "fiery breath";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 0;
}

Monster "purple dragon" : 37
{
Image: purple 'D'; Size: 6; Hit: 23; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 200%; Spd: 125%; Mana: 140;
Str 26, Dex 11, Con 18, Int 22, Wis 20, Cha 27;
Attk:
#line "mon1.irh" 606
42 for 0d8 6 (DC 20), 102 for $"dragon",
101 for $"drow";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,12];
Stati[118,18,80];
Immune: 0x00000020, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 14;
Flags: 49, 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 96, 40;
Spells: $"esp", $"passwall", $"soften stone", $"snakeform",
$"free action;spell", $"transmute rock to mud";
Desc: "Subtle, intelligent, serene and inclined to long-term thinking,
      purple dragons weave webs of intrigue, propaganda, manipulation and
      social engeneering that can take decades or centuries to play out in
      full. Preferring to dwell deep beneath the earth, they take advantage
      of their shapechanging ability to infiltrate, manipulate or simply
      socialize with Underdark races like the drow, illithids or avolakia.
      They are born schemers, inhumanly intelligent and driven to compulsive
      mind games almost by instinct -- but their intrigues lack the real
      malice of the blacks or the slavering sociopathy of the reds, and
      indeed to humanoid ears their values and attitudes often sound eerily
      reasonable. Purple dragons are nothing if not accomidating, after all.
      \n__Many wise men are quite terrified by this fact.";
On Event 200 "stream of negative energy";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}

Effect "Snakeform" : 32
{ 0x00000080; rval $"purple dragon;snakeform"; Purpose: 0x00008;
Desc: "Allows a purple dragon to transform its body into a more
      mobile, sinous form lacking wings and hands, but able to move
      far faster and with greater agility, as well as fitting into
      smaller cracks and boltholes."; Flags: 82; }

Monster "purple dragon;snakeform" : 37, 52
{
Image: purple 's'; Size: 5; Hit: 23; Arm: 12;
CR: 2; HD: 20; Def: 16; Mov:350%; Spd: 125%; Mana: 140;
Str 26, Dex 11, Con 18, Int 22, Wis 20, Cha 27;
Attk: 42 for 0d8 6 (DC 20),
102 for $"dragon",
101 for $"drow";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,5];
Stati[118,18,80];
Immune: 0x00000020;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 14;
Flags: 49, 36, 37, 27, 3,
61, 86, 26, 2
81, 96, 12, 39, 40, 24;
Spells: $"passwall", $"ESP", $"soften stone", $"snakeform",
$"free action;spell", $"transmute rock to mud";
Desc: "Subtle, intelligent, serene and inclined to long-term thinking,
      purple dragons weave webs of intrigue, propaganda, manipulation and
      social engeneering that can take decades or centuries to play out in
      full. Preferring to dwell deep beneath the earth, they take advantage
      of their shapechanging ability to infiltrate, manipulate or simply
      socialize with Underdark races like the drow, illithids or avolakia.
      They are born schemers, inhumanly intelligent and driven to compulsive
      mind games almost by instinct -- but their intrigues lack the real
      malice of the blacks or the slavering sociopathy of the reds, and
      indeed to humanoid ears their values and attitudes often sound eerily
      reasonable. Purple dragons are nothing if not accomidating, after all.
      \n__Many wise men are quite terrified by this fact.";
On Event 200 "stream of negative energy";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}



Monster "black dragon" : 37
{
Image: bright black 'D'; Size: 6; Hit: 23; Arm: 18;
CR: 2; HD: 28; Def: 10; Mov: 200%; Spd: 100%; Mana: 100;
Str 29, Dex 9, Con 22, Int 13, Wis 15, Cha 17;
Attk:
#line "mon1.irh" 699
42 for 0d10 3 (DC 17), 102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,60];
Immune: 0x00000004, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 39, 41;
Spells: $"chill touch", $"globe of shadow", $"corrupt water",
$"wall of thorns", $"dominate reptile", $"insect plague";
Flags: 49, 51, 36, 37, 27,
61, 11, 86, 26,
81, 12, 38, 39, 73, 43;
Desc: "Like the acid that roils in their bellies, black dragons are
      venomous, corrosive beings. Sociable in a paranoid, vengeful way,
      they are cynics and defilers of hope whose very nature is aligned
      against trust, and who carry murderous grudges over even the most
      petty of slights for centuries or millenia. The society of the
      black dragons is filled with baroque ritual designed to degrade
      and embitter younger dragons, giving their elders a chance to
      engage in their proclivity for refined social sadism. By human
      standards, the average black dragon is irreprably damaged --
      filled with insane hatred, emotional scars and the unceasing
      thirst for vengeance upon anyone they percieve as having wronged
      them.";
On Event 200 "stream of acid";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Effect "Corrupt Water" : 5
{ 0x00000002; aval: 11; lval: 6; qval: 0x0002; Flags: 82;
xval: 2; rval: $"foul water"; Purpose: 0x00400 | 0x02000;
Desc: "Turns all water in a 60 foot (6 square) radius foul, making
      it cause damage to all aquatic creatures therein."; }

Terrain "foul water"
{ Image: green 247; Mat:1;
Flags: 7, 6;
On Event 154 {
if (EActor->isCreature())
if (EActor->HasMFlag(31) && !EActor->isAerial())
ThrowDmg(41,5,1d8,"foul water",EActor,EActor);
};
Desc: "Here, the water is foul and slimy.";
}

Effect "Dominate Reptile" : 3
{ 0x00000008; sval: 2;
Purpose: 0x00001 (9); tval: 51;
xval: 137; yval: 4; qval: 0x0004;
Flags: 25, 53, 4, 34,
82;
Desc: "Causes a single reptile to serve you and fight in your
      name, if it fails a Will saving throw."; }

Monster "green dragon" : 37
{
Image: green 'D'; Size: 6; Hit: 26; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 270%; Spd: 125%; Mana: 120;
Str 29, Dex 10, Con 18, Int 16, Wis 17, Cha 16;
Attk:
#line "mon1.irh" 768
42 for 0d6 5 (DC 19), 102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,94,15];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,55];
Immune: 0x00000010, 0x00020000, 0x00008000;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 39, 41,
48, 45;
Spells: $"entangle", $"water walking", $"suggestion", $"forestation",
$"Summon Nature's Ally IV", $"control plant";
Flags: 49, 51, 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 46, 74;
Desc: "Creatures of dominance and submission, green dragons are the
      symbolic representation of the food chain, Mother Nature's pecking
      order. As such, they are constantly aware of station, and always
      seeking to better themselves that they might overtake (and devour)
      whomever is currently their superior. Competitiveness comes naturally
      to greens; it an unavoidable impulse. Dwelling in the woodlands, 
      the green dragons of the Kinlands most often answer to the ultimate 
      authority of the druidic circles, acting as the grand druid's enforcers 
      and airbourne militia. They chafe under this domination, but are 
      realistic enough to know they presently lack the strength to take on 
      their druidic oppressors. In turn, they gather and dominate tribes of
      centaurs, hill giants, satyrs and other sylvan creatures beneath their
      iron-fisted rule; very few green dragons lack a sizable group of allies
      and underlings.";
On Event 200 "cloud of chlorine gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Monster "yellow dragon" : 37
{
Image: yellow 'D'; Size: 6; Hit: 29; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 200%; Spd: 150%; Mana: 120;
Str 32, Dex 15, Con 20, Int 20, Wis 17, Cha 9;
Attk: 42 for 0d10 11 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,9];
Stati[118,18,70];
Immune: 0x00000001, 0x00000100, 0x00008000, 0x00020000;
Feats: 6, 44, 32, 41, 18,
20, 36, 8,
34;
Spells: $"dust devil", $"silence", $"wind wall",
$"create water", $"invisibility",
$"enervation";
Flags: 49, 36, 37, 27,
61, 11, 86, 26,
81, 12, 40, 72, 41, 47, 39;
Desc: "The hunters of the desert, yellow dragons delight in ambushes and
      betrayal. Their predatory instincts often drive them to stalk, terrorize
      and devour humanoids. Beyond this, precious little is known of them, as
      their race is exceedingly private and secretive. Yellow dragons mate for
      life, and are often encountered in mated pairs. They have unseen rituals,
      a vast and intricate mythology, and -- if the legends are to be believed
      -- hidden draconic libraries detailing the history and secrets of the
      world since the earliest days of its birth. Many yellow dragons secretly
      co-opt and ultilize tribes of desert nomads to seek out scraps of long-
      forgotten knowledge, while others dabble in sorcerous rites of diabolism
      and demon summoning.";
On Event 200 "blast of abrasive sand";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -6;
}


Monster "blue dragon" : 37
{
Image: blue 'D'; Size: 6; Hit: 29; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 240%; Spd: 150%; Mana: 80;
Str 32, Dex 15, Con 20, Int 14, Wis 17, Cha 16;
Attk:
#line "mon1.irh" 858
42 for 0d8 4 (DC 19),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,5];
Stati[118,18,60];
Immune: 0x00000008, 0x00008000, 0x00020000;
Feats: 11, 44, 32, 41, 18,
20, 36, 8,
42;
Spells: $"rainstorm", $"blur", $"create water",
$"waterspout", $"whirlpool",
$"shadow monsters";
Flags: 49, 51, 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 45, 39, 72, 75;
Desc: "Perhaps the most truly humanistic of chromatic dragonkind 
      (as opposed to the purples, who are the most human-seeming), the blue
      dragons have a curious kind of warrior's honor. Valuing the strength
      of the group above their own well-being, blue dragons are the only
      chromatics known for ever making selfless sacrifices, and there is no
      confirmable instance of one of these dragons ever breaking their
      sworn word. Blue dragons interact with non-draconic races much more
      freely then other dragon types, and also seem to take much better to
      leadership -- indeed, some have observed that a blue seems the most
      comfortable when it has someone else giving it orders. As such, they
      often end up serving as generals in a warlord's army, a blackguard's
      mount or a guild's crack enforcer. Their loyalty, once given, is
      ironclad -- but many blue dragons do not care so much which cause
      they swear to, and are ultimately indifferent as to whether they maim
      and kill in the name of a solar or a pit fiend.";
On Event 200 "lightning breath";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 0;
}



Monster "shadow ur-dragon" : 37, 31
{
Image: shadow 'D'; Size: 6; Hit: 23; Arm: 15; Mana: 20;
CR: 9; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 10, Dex 20, Con 15, Int 14, Wis 14, Cha 10;
Attk: 42 for 0d2 50 (DC 17),
102 for $"dragon",
101 for $"shadow";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,80,3];
Stati[39,142,1];
Stati[39,31,3];
Immune: 0x00008000, 0x00020000;
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((49 + 1) + 32) + 30),
(((49 + 1) + 32) + 44),
(((49 + 1) + 32) + 35),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 19),
(((49 + 1) + 32) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3),
44,
32,
18,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 39;
Spells:
$"bladethirst",
$"summon shadows",
$"deep slumber",
$"eldritch bolt",
$"phantasmal killer";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Shadow Ur-Dragons are so-called because of their strange ties to
    strength draining and necromatic damage, but 'Darting Ur-Dragon' would
    probably have sufficed as well. Physically weak they are none-the-less
    quite fast and they used a cunning knowledge to strike blows in vital
    areas. With their long limbs and serpent grace they are particularly
    adept at doding incoming blows and riposting with cruel strikes of
    their own.  Neither direct combat nor missile weapons nor the attack
    spells of novice mages prove particularly useful against them, and they
    should be approached with caution.";
On Event 200 "cone of shadowy force";
On Event (41+2000) {
if (e.DType == 8) {
e.vDmg = 0;
e.Immune = true;
}
return 0;
},
209
"They are immune to pure magic damage.";
}

Monster "brilliant ur-dragon" : 37, 31
{
Image: yellow 'D'; Size: 6; Hit: 23; Arm: 15; Mana: 20;
CR: 5; HD: 18; Def: 10; Mov: 200%; Spd: 100%;
Str 16, Dex 10, Con 16, Int 18, Wis 18, Cha 18;
Attk: 42 for 0d3 9 (DC 17),
54 for 1d6 9,
54 for 2d2 24 (DC 25),
102 for $"dragon",
101 for $"lantern archon";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,31,3];
Immune: 0x00008000, 0x00020000, 0x00000100, 0x00800000;
Feats:
(((49 + 1) + 32) + 15),
((49 + 1) + 5),
(((49 + 1) + 32) + 44),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3),
44,
32,
18,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 47, 39;
Stati[144];
Spells:
$"sunscorch",
$"scorcher",
$"searing light",
$"flame strike";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Brilliant Ur-Dragons are so-called because of the obvious glow they
    seem to give off at all times. It is very difficult for all but the
    most intuitive of monks or naturally blind plants to attack a brilliant
    ur-dragon: the glare is truly blinding.";
On Event 200 "cone of brilliant sunlight";
On Event 156 {
EMap->NewField(0x00000080|0x00000002,EActor->x,EActor->y,3,
14*256+249,-1,((rID)0),EActor);
};
On Event
209
"Their hides constantly flare with bright illumination. Any attacker 
      must make a Fortitude Saving Throw (DC 25) to avoid being blinded for
      a few rounds. In addition, the illumination does 1d6 points of
      sunlight damage. Brilliant Ur-Dragons are always illuminated like
      a manifesting elf and can never hide in shadows.";
}

Monster "shattering ur-dragon" : 37, 31
{
Image: brown 'D'; Size: 6; Hit: 28; Arm: 10; Mana: 20;
CR: 3; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 24, Dex 10, Con 18, Int 10, Wis 10, Cha 10;
Attk: 42 for 0d3 13 (DC 17)
and 6d6 92 (DC 17),
60 for 6d6 92 (DC 18),
102 for $"dragon",
101 for $"caryatid column",
101 for $"remorhaz",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Immune: 0x00008000, 0x00020000, 0x00000200;
Feats:
(((((49 + 1) + 32) + 50) + 38) + 13),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 32),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),

44,
32,
18,
14,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 48, 39;
Spells:
$"shatter",
$"dispel magic",
$"tremor",
$"explosive runes";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Shattering Ur-Dragons are a bane of militant adventurers everywhere.
    Although they are generally weaker and easier to destroy than other
    ur-dragons, their breath and attacks are quite adept at cracking,
    crumbling and otherwise destroying exposed equipment. Shattering
    ur-dragons are not particularly hardy themselves, but the thought of
    losing precious items makes many opponents avoid them.";
On Event 200 "cone of shattering vibrations";
}

Monster "plant ur-dragon" : 37, 81, 31
{
Image: green 'D'; Size: 6; Hit: 25; Arm: 14; Mana: 20;
CR: 5; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 20, Dex 12, Con 20, Int 10, Wis 10, Cha 10;
Attk: 42 for 0d3 5 (DC 17),
10 for 0d0 60 (DC 18),
101 for $"dark tree",
101 for $"sonic bloom",
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,57,1];
Stati[39,110,1];
Stati[39,42,12];
Immune: 0x00008000, 0x00020000, 0x00002000, 0x00000010;
Poison: $"black lotus extract";
Feats:
(((((49 + 1) + 32) + 50) + 38) + 13),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),

44,
32,
18,
39,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 46, 39;
Stati[216,49];
Spells:
$"verdant aid",
$"tree stride",
$"forestation",
$"wall of thorns",
$"barkskin";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Plant Ur-Dragons seem to have a special affinity for stinging nettles,
    grasping thorns, choking vines and poisous brambles. They exemplify all
    that is dreadful and fatal of Theryan plants. Their ropy, vine-like
    limbs are more malleable than those of other ur-dragons and they are
    quite adept at grappling foes. Their tails end in poisonous stingers.
    However, it is their ability to summon powerful plants that makes them
    truly dangerous.";
On Event 200 "cone of vegetable toxins";
}

Monster "water ur-dragon" : 37, 31
{
Image: blue 'D'; Size: 6; Hit: 25; Arm: 14; Mana: 20;
CR: 9; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 16, Dex 16, Con 16, Int 10, Wis 10, Cha 10;
Attk: 42 for 0d3 3 (DC 17),
101 for $"sahuagin",
101 for $"bull shark",
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,113,5];
Stati[39,66,2];
Immune: 0x00008000, 0x00020000, 0x00000004;
Feats:
(((((49 + 1) + 32) + 50) + 38) + 13),
(((((49 + 1) + 32) + 50) + 38) + 14),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
((((((49 + 1) + 32) + 50) + 38) + 30) + 36),

44,
32,
18,
36,
45;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 38, 39, 43;
Spells:
$"whirlpool",
$"waterspout",
$"acid arrow",
$"wall of ice";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Water Ur-Dragons would form the basis for a number of sailing horror
    stories ... if only they were not so thankfully rare.  Water ur-dragons
    are feared for their ability to create turbulent whirlpools out of thin
    air, drowning heavily-armored fighters. Water ur-dragons actually
    appear to have their bodies formed from a combination of scales and
    slime. They are the only ur-dragons that slowly regenerate over time.";
On Event 200 "cone of caustic water";
}



Monster "hatori" : 37
{
Image: brown 'D'; Size: 6; Hit: 20; Arm: 15; Mana: 20;
CR: 2; HD: 10; Def: 15; Mov: 200%; Spd: 100%;
Str 23, Dex 16, Con 21, Int 7, Wis 14, Cha 10;
Attk: 24 for 1d8 13,
32 for 2d8+6 13,
37 for 6d1 3;
Stati[39,42,6];
Stati[39,95,6];
Stati[39,53,3];
Stati[39,94,3];
Stati[124,18,10];
Stati[39,30,1];
Stati[39,112,5];
Immune: 0x00008000, 0x00020000;
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),

((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
18,
32,
36,
44,
48;
Flags:
52, 36, 37, 27,
61, 30, 11, 86, 26,
81, 96, 40, 72;
Desc: "Much like wyverns, hatori are distant cousins of true dragons.
    The hatori resembles a cross between a dragon and a rather large
    crocodile. It is a desert creature (commonly known as a sand-wyrm for
    its relation to dragons) with a rock-like hide.";
}



Template "hatchling" : 0x0004 for 37
{
Desc: "Hatchling dragons are the youngest members of their race, similar
      to human toddlers -- though far more competant and dangerous. They are
      rarely found outside the company of their parents.";
Attk: 7 for 1d4 12,
6 for 1d3 11,
6 for 1d3 11;
CR: +0; Size: -4; Power: +1;
Str 55% (min 7), Dex 100%, Con 72%, Int 63%, Wis 58% (min 9), Cha 63% (min 6);
Mov: 40%; Arm: 20%; HitDice: 15%; Caster Level = 0; Hit: 20%;
Flags: -2;
}

Template "very young" : 0x0004 for 37
{
Desc: "Comparible to a human in her early childhood, very young dragons are
      between 6 and 15 years old. They are impulsive, inquisitive and often
      reckless.";
CR: +2; Size: -2; Power: +2;
Attk: 7 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11;
Gear: 30% random 48 of random 1 to 2,
30% random 57 of random 1 to 2,
30% random 58 of random 1 to 2,
30% random 21 of random 1 to 2,
30% random 47 of random 1 to 2;
Str 64% (min 7), Dex 100%, Con 81%, Int 75%, Wis 69% (min 9), Cha 75% (min 6);
Mov: 40%; Arm: 30%; HitDice: 35%; Caster Level = 0; Hit: 25%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: -2;
}

Template "young" : 0x0004 for 37
{
Desc: "Comparible to a human in her early teen years, young dragons are
      aggressive and independant, eager to test the limits of their draconic
      power to the fullest.";
CR: +3; Size: -1; Power: +3;
Attk: 7 for 1d8 12,
111 for 0d0 93,
6 for 1d6 11,
6 for 1d6 11,
37 for 2d6 3;
Gear: 40% random 48 of random 2 to 3,
40% random 57 of random 2 to 3,
40% random 58 of random 2 to 3,
40% random 21 of random 2 to 3,
40% random 47 of random 2 to 3;
Str 76% (min 7), Dex 100%, Con 81%, Int 75%, Wis 69% (min 9), Cha 75% (min 6);
Mov: 50%; Arm: 50%; HitDice: 50%; Caster Level = 0; Hit: 40%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: -2;
}


Template "juvenile" : 0x0004 for 37
{
CR: +4; Size: -1; Power: +4;
Attk: 7 for 1d8 12,
111 for 0d0 93,
6 for 1d6 11,
6 for 1d6 11,
37 for 3d6 3;
Gear: 50% random 48 of random 3 to 4,
50% random 57 of random 3 to 4,
50% random 58 of random 3 to 4,
50% random 21 of random 3 to 4,
50% random 47 of random 3 to 4;
Str 88% (min 7), Dex 100%, Con 91%, Int 88%, Wis 79% (min 9), Cha 88% (min 6);
Mov: 60%; Arm: 70%; HitDice: 75%; Caster Level -6; Hit: 60%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13);
Flags: -2;
}

Template "young adult" : 0x0004 for 37
{
CR: +6; Size: 0; Power: +5;
Attk: 7 for 2d6 12,
111 for 0d0 93,
6 for 1d8 11,
6 for 1d8 11,
53 for 1d1 28 (DC 16), 37 for 4d6 3;
Gear: 60% random 48 of random 4 to 5,
60% random 57 of random 4 to 5,
60% random 58 of random 4 to 5,
60% random 21 of random 4 to 5,
60% random 47 of random 4 to 5;
Str 94% (min 7), Dex 100%, Con 100%, Int 88%, Wis 79% (min 9), Cha 88% (min 6);
Mov: 70%; Arm: 85%; HitDice: 120%; Caster Level -3; Hit: 80%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
((((49 + 1) + 32) + 50) + 23);
Flags: -2, 14;
}

Template "adult" : 0x0004 for 37
{
CR: +8; Size: 0; Power: +6;
Attk: 7 for 2d8 12,
111 for 0d0 93,
6 for 2d6 11,
6 for 2d6 11,
53 for 1d1 28 (DC 18),
37 for 5d6 3; Gear: 70% random 48 of random 5 to 6,
70% random 57 of random 5 to 6,
70% random 58 of random 5 to 6,
70% random 21 of random 5 to 6,
70% random 47 of random 5 to 6;
Str 100%, Dex 100%, Con 100%, Int 100%, Wis 100%, Cha 100%;
Mov: 100%; Arm: 100%; HitDice: 150%; Caster Level +0; Hit: 100%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
((((49 + 1) + 32) + 50) + 23), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26);
Flags: -2, 14;
}



Template "half-red dragon" : 0x0100 for 91
{
CR: +2; MType: 83;
Str +8, Con +2, Int +2, Cha +2; Arm: +4;
Desc: "When in their human forms, dragons are interfertile with most
      humanoids and many other creatures. Half-dragons are the result of
      these unions -- powerful creatures who are gifted with some of the
      innate abilities of a dragon. They resemble the base creature, but
      have regions of scales in their parent dragon's color, and most
      often also have vast, reptilian wings.";
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12,
42 for 6d10 1 (DC 19);
Stati[39,42,6];
Immune: 0x00008000, 0x00020000, 0x00000001;
Flags: 49, 52, !50, !51, 12, 36, 41;
On Event 155 {
if (EActor->HasMFlag(66))
return -1;
return 0;
} ;
}
#line "mon1.irh" 1419
Monster "blast drake" : 83
{
Image: green 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 10 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Immune: 0x00000200;
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 72, 86, 26,
81, 12, 39, 48;
Desc: "Blast drakes are small, distant relatives of dragons.  They
    resemble tiny green dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, blast drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "sonic shriek";
}

Monster "caustic drake" : 83
{
Image: shadow 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 3 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Immune: 0x00000004;
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 74, 43, 38;
Desc: "Caustic drakes are small, distant relatives of dragons.  They
    resemble tiny black dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, caustic drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "caustic blast";
}

Monster "flame drake" : 83
{
Image: red 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 1 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Immune: 0x00000001;
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 41, 74;
Desc: "Flame drakes are small, distant relatives of dragons.  They
    resemble tiny red dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, flame drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "fiery blast";
}

Monster "force drake" : 83
{
Image: purple 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 8 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 74, 44;
Desc: "Force drakes are small, distant relatives of dragons.  They
    resemble tiny purple dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, force drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "force blast";

On Event (41+2000) {
if (e.DType == 8) {
EVictim->cHP += e.vDmg;
e.vDmg = 0;
e.Immune = true;
}
return 0;
},
209
"They absorb magical force attacks (like Magic Missiles) and 
       are healed by them, rather than taking damage.";
}

Monster "wyvern" : 83
{
Image: shadow 'R'; Size: 5;
CR: 8; HD: 7; Hit: 7; Def: 14; Mov: 200%; Spd: 130%;
Arm: 4; Str 19, Dex 14, Con 15, Int 4, Wis 12, Cha 9;
Attk: 10 for 1d6 12 and 0d0 60 (DC 17),
7 for 2d8 12,
6 for 2d6 11,
6 for 2d6 11,
102 for $"black dragon";
Stati[124,44,3];
Stati[39,42,6];
Stati[39,71,5];
Immune: 0x00008000, 0x00020000;
Flags: 36, 11, 35, 74,
27, 3, 14, 55, 12;
Feats: 32, 36, 44, 18,
((49 + 1) + 5), ((((49 + 1) + 32) + 50) + 23), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Desc: "Primordial ancestors of the true dragons, these creatures
      have none of the dragon's subtlety or intellect, rather being
      ravenously aggressive flying beasts. A wyvern is always hungry,
      and can produce only two sounds: a loud hiss and a deep, wet
      growl.";
Poison: $"wyvern venom";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "wyvern venom" : 1
{
Level: 5;
cval: 3;
sval: 17;
lval: 5;
xval: 52; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>3<7> turns, and requires <11>5<7> saving throws against <11>DC 17<7> 
      to overcome.";
}
#line "mon1.irh" 1590
Monster "dragon turtle" : 46, 83
{
Image: green 'M'; Size: 6; Arm: 15;
CR: 9; HD: 12; Def: 5; Hit: +7; Mov: 75%; Spd: 75%;
Str 27, Dex 10, Con 21, Int 2, Wis 13, Cha 12, Luc 16;
Attk: 7 for 4d6 13,
111 for 0d0 93,
6 for 2d6 11,
6 for 2d6 11,
42 for 20d6 1 (DC 21),
37 for 5d6 3;
Stati[124,18,8];
Stati[124,45,8];
Stati[39,71,6];
Feats: 18, 32, 41, 44, 45,
((49 + 1) + 25), (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 3, 35, 31,
27;
On Event 200 "cloud of scalding vapor";
Desc: "One of the most feared beasts that mariners encounter,
      the dragon turtle is famous for capsizing ships. As its name
      implies, it resembles a great, prehistoric turtle, more then
      40 feet in length, with draconic features added. It possesses
      terrible strength, legendary fortitude and an irascible
      temperment.";
}

Monster "dragonne" : 46, 35, 83
{
Image: yellow 'M'; Size: 5;
CR: 7; HD: 9; Hit: 9; Def: 16; Mov: 150%; Spd: 125%;
Str 19, Dex 15, Con 17, Int 6, Wis 12, Cha 12, Luc 16;
Attk: 7 for 2d6 11,
6 for 2d4 11,
6 for 2d4 11,
47 for 2d6 28 (DC 15);
Stati[39,73,2];
Stati[39,71,6];
Feats: 44, 32, ((49 + 1) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6);
Flags: 36, 3, 35, 11,
12, 11;
#line "mon1.irh" 1635
Desc: "Resembling a cross between a lion and a brass dragon, these
      noble beasts are both terrifying and beautiful. They have a lion's
      face, paws and flanks, with draconic wings and a 'mane' of serpentine
      brass scales trailing off to their tail. Their entire body is a rich
      gold color, and their eyes seem filled with majesty. Despite this,
      however, they are still beasts, and are highly dangerous if they are
      surprised, hungry or defending their territory.";
}

Monster "griffon" : 46, 35
{
Image: brown 'M'; Size: 5;
CR: 7; HD: 7; Hit: 7; Def: 16; Mov: 250%; Spd: 160%;
Str 18, Dex 15, Con 16, Int 5, Wis 13, Cha 8, Luc 14;
Attk: 7 for 2d6 12,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,71,9];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), 22, 32, 44;
Flags: 36, 35, 11, 3,
55, 12;
Desc: "A hybrid of hawks and lions, these noble beasts have been
      symbols of regency, honor and nobility since time immemorial.
      Despite this, however, they are cunning predators with a peculiar
      taste for horseflesh. Powerful knights and warlords sometimes
      manage to tame griffons to use as mounts.";
On Event 157 {
if (ETarget->isMType(24))
e.EParam *= 4;
return e.EParam; };
}

Monster "hippogriff" : 24, 35, 46
{
Image: brown 'M'; Size: 5;
CR: 4; HD: 3; Hit: 3; Def: 14; Mov: 200%; Spd: 125%;
Str 18, Dex 15, Con 16, Int 4, Wis 13, Cha 8, Luc 14;
Attk: 7 for 1d8 12,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,42,6];
Stati[124,44,4];
Feats: ((49 + 1) + 2), 32, 44;
Flags: 35, 37, 36, 3,
11, 12, 55;
Desc: "A hybrid of horse and eagle, hippogriffs are dangerous
      predatorial beasts who defend their territory fiercely. They
      are highly prized as mounts by anyone trying to establish an
      aerial cavalry, and their eggs fetch a high price on the open
      market.";
}

Monster "lammasu" : 24, 46
{
Image: yellow 'M'; Size: 5; Mana: 475;
CR: 9; HD: 7; Hit: 7; Def: 18; Mov: 200%; Spd: 100%;
Str 23, Dex 10, Con 17, Int 16, Wis 17, Cha 14, Luc 16;
Attk: 6 for 1d6 11,
6 for 1d6 11;
Stati[39,82,7];
Stati[124,44,2];
Stati[39,42,6];
Feats: 32, 3, 44,
((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 11),
((((49 + 1) + 32) + 50) + 23), (((((49 + 1) + 32) + 50) + 38) + 26), ((((49 + 1) + 32) + 50) + 6),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6);
Spells: $"invisibility", $"dimension door";
Flags: 35, 37, 36, 3,
11, 12, 51, 50, 53;
On Event 156 {
EMap->NewField(0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
return 0;
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect.";
Desc: "Creatures of great wisdom, learning and righteousness, lammasu
      gather in small tribes in arid regions of Therya in order to combat
      the forces of evil and explore the sacred mysteries of magic and
      nature. They tend to revere Xavias, or simply embrace the philosophy
      of goodness as a religious ideal. They are quick to hunt down and
      slay any truly evil creature within their purview. Physically, lammasu
      appear as winged lions with the heads of men, their bodies covered with
      rich golden fur.";
Lists:
* 21
(52 + 1000);
}

Monster "pegasus" : 24, 81, 46
{
Image: bright cyan 'M'; Size: 5; Mana: 75;
CR: 3; HD: 4; Hit: 4; Def: 16; Mov: 200%; Spd: 100%;
Str 18, Dex 15, Con 15, Int 10, Wis 13, Cha 13, Luc 16;
Attk: 2 for 1d6 13;
Stati[124,44,4];
Stati[124,32,4];
Stati[39,71,6];
Feats: 32, 44, 3, 48,
(((((49 + 1) + 32) + 50) + 38) + 26);
Flags: 35, 37, 3,
11, 12, 52, 50, 53;
Spells: $"detect evil", $"bless";
Desc: "A magnificent winged horse, the pegasus has wings
      like a dove's and a mane of white feathers, but otherwise
      resembles a snow-white horse of the highest quality. They
      are intelligent and good beings with an inherant aura of
      nobility about them, and are treasured by paladins and
      other champions as mounts.";
}

Monster "peryton" : 46, 35
{ Image: bright black 'M'; Size: 5;
CR: 5; HD: 5; Hit: +4; Def: 16; Mov: 200%; Spd: 150%;
Str 17, Dex 16, Con 12, Int 2, Wis 16, Cha 10, Luc 14;
Attk: 6 for 1d6 11,
7 for 1d6 12,
23 for 1d8 12;
Stati[39,42,6];
Stati[39,71,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((49 + 1) + 32) + 50) + 23), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19),
36, 44, 48;
Flags: 36, 3, 74, 49, 52,
99, 98, 11, 55, 12;
Desc: "While many see nobility in the visages of griffons or
      pegasi, there's nothing admirable about the peryton -- it is
      just a slavering, bloodthirsty beast. A cross between a great
      stag and a hawk, the peryton is a winged predator that hunts
      humans in order to devour their still-beating hearts. Perytons
      haunt deep forests and icy mountains, stalking their prey
      relentlessly.";
On Event (20+1000) {

if (e.isCrit && e.AType == 7) {
if (GetHandle(EVictim) == NULL)
return 0;
if (EVictim->isDead())
return 0;
if (EVictim->SavingThrow(0,17,0x00000010))
{ e.Resist = true; return 0; }
TPrint(e,"You rip out the <EVictim>'s heart!",
"The <EActor> rips out your heart!",
"The <EActor> rips out the <EVictim>'s heart!");
ThrowDmg(42,11,0,
XPrint("having <his:hObj> heart ripped out by a peryton",EVictim),
EActor,EVictim);
}
return 0;
};
}

Monster "unicorn" : 46, 24, 81
{ Image: white 'M'; Size: 5;
CR: 5; HD: 4; Hit: +3; Def: 18; Mov: 200%; Spd: 120%;
Str 20, Dex 17, Con 21, Int 10, Wis 21, Cha 24, Luc 20;
Attk: 2 for 1d4 13,
2 for 1d4 13,
23 for 1d8 12 and 1d6 69,
102 for $"horse";
Stati[39,91,6];
Spells: $"detect evil", $"cure moderate wounds", $"dimension door",
$"neutralize poison";
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((49 + 1) + 32) + 50) + 38) + 22), 2, 32,
3, 44, 48;
Flags: 50, 52, 53, 11, 44,
37, 3;
On Event 157 {
#line "mon1.irh" 1804
if (!EVictim->isMType(103))
return -1;
return 0;
},
156 {
EMap->NewField(0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "Renouned as symbols of purity and sacred to the clergy of Immotian
      despite their chaotic nature, unicorns are intelligent quadrupeds with
      a love of nature and an intense loathing of evil. Valuing innocence and
      being uncomfortable with worldly things, unicorns increasingly find
      themselves shunning human society and rebuking individual humans, often
      siding with the Druidic Circles.";
On Event (20+1000), (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "pirahna bird" : 46, 4
{
Image: bright green 'b'; Size: 2;
CR: 0; HD: 1; Hit: 4; Def: 14; Mov: 150%; Spd: 200%;
Str 7, Dex 12, Con 14, Int 2, Wis 16, Cha 11;
Attk: 7 for 1d8 12;
Flags: 36, 3, 74, 11, 2,
12, 55;
Feats: (((49 + 1) + 32) + 44), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44;
Desc: "A magical mybrid of a pirahna and a parrot, pirahna birds are 
      avian creatures with colorful plumes and bodies that resemble those
      of piranhas. They are somtimes encountered alone, but are most
      dangerous when they attack in swarms.";
}
#line "mon1.irh" 1847
Monster "arsinoitherium" : 2, 35
{
Image: brown 'B'; Size: 5; Arm: 7;
CR: 6; HD: 9; Hit: 6; Def: 10; Mov: 100%; Spd: 135%;
Str 25, Dex 8, Con 22, Int 2, Wis 11, Cha 2;
Attk: 23 for 1d8 12;
Flags: 37, 35, 3, 73, 11;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), (((((49 + 1) + 32) + 50) + 38) + 2), ((((49 + 1) + 32) + 50) + 32),
32, 44, 45;
Desc: "This large herbivore is roughly the size of a rhinoceros, with
    four legs similar to those of an elephant. The arsinoitherium is armed
    with two huge, forward-pointing horns mounted to either side of the
    head. It is believed to have lived in swamps where it chewed
    coarse-leafed plants for food. With a mouth full of grinding molars it
    could not deliver a serious bite. The arsinoitherium has left no modern
    ancestors.";
}

Monster "juvenile arrowhawk" : 4, 35, 48
{
Image: cyan 'b'; Size: 3;
CR: 5; HD: 3; Hit: 3; Def: 14; Mov: 200%; Spd: 115%;
Str 12, Dex 21, Con 12, Int 10, Wis 13, Cha 13;
Attk: 9 for 2d6 4,
7 for 1d6+1 12;
Stati[39,42,6];
Feats: (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 21),
44, 32, 36, 41;
Flags: 35, 36, 3,
12, 88, 55, 39, 45;
Immune: 0x00000004, 0x00000008, 0x00000010;
Resists: 0x00000001, 0x00000002;
Desc: "An arrowhawk is a predator and scavenger from the Elemental
      Plane of Air.  By twisting its body and varying the cadence of its
      wingbeats, an arrowhawk can fly at top speed in any direction. A
      juvenile arrowhawk (1 to 10 years old) is about 5 feet long from beak
      to tail, with the body accounting for about one-third of that length.
      Its wingspan is about 7 feet, and it weighs about 20 pounds. 
      Arrowhawks are extremely territorial and always hungry. They attack
      almost any other creature they meet, seeking a meal or trying to drive
      away a rival. The primary mode of attack is an electricity ray, fired
      from the tail. The creature also bites, but it prefers to stay out of
      reach.";
}

Monster "devilfish" : 35
{
Image: cyan 'B'; Size: 2;
CR: 0; HD: 1; Hit: 2; Def: 10; Mov: 150%; Spd: 100%;
Str 14, Dex 10, Con 16, Int 2, Wis 14, Cha 11;
Attk: 7 for 1d4 11,
54 for 1d2 51,
43 for 0d0 90 (DC 14);
Stati[39,42,6];
Flags: 36, 2, 3, 7, 31,
8;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, 44;
On Event 210
"enact <9>doom<7>";
Desc: "The devilfish in an unnatural creature evolved in the
      lakes of the Underdark. Its skin secretes a numbing gel,
      and its gaze unsettles and disturbs anyone that meets it,
      driving off most of the creature's natural predators. A
      devilfish appears much like a large, grey salmon with milky,
      hypnotic eyes.";
On Event (41+500) {
if (e.DType == 90)
{
RedirectEff(e,$"doom");
return 1;
}
return 0;
};
}

Monster "ixitxachitl" : 58
{
Image: white 'X'; Size: 3;
CR: 0; HD: 1; Hit: +0; Def: 13; Mov: 100%; Spd: 75%;
Str 12, Dex 16, Con 13, Int 12, Wis 13, Cha 7;
Attk: 7 for 1d6 73
and 2d6 59 (DC 13),
10 for 1d4 12;
Stati[39,42,6];
Flags: 36, 2, 3, 7, 31,
8, 52, 49;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), 18, 27, 36,
45, 44, 46;
Desc: "The ixitichitl are a race of intelligent, necromantically 
      tainted manta rays. Ixitichitl look like mundane rays, but 
      possess the magical ability to drain others' blood to replenish
      themselves. Despite this, they are not truly undead. The
      ixitichitl form raiding parties to prey on nixies, sea elves,
      merfolk and tritons, and are much despised by the other
      aquatic races.";
}

Monster "greater ixitxachitl" : 58
{
Image: bright purple 'X'; Size: 3;
CR: 3; HD: 4; Hit: +3; Def: 15; Mov: 100%; Spd: 75%;
Str 13, Dex 18, Con 13, Int 16, Wis 13, Cha 10;
Attk: 7 for 2d6 73
and 2d6 59 (DC 13),
10 for 1d4 12,
102 for $"ixitxachitl";
Stati[39,42,6];
Flags: 36, 2, 3, 7, 31,
8, 52, 49;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), 18, 27, 36,
45, 44, 46;
Desc: "The ixitichitl are a race of intelligent, necromantically 
      tainted manta rays. Ixitichitl look like mundane rays, but 
      possess the magical ability to drain others' blood to replenish
      themselves. Despite this, they are not truly undead. The
      ixitichitl form raiding parties to prey on nixies, sea elves,
      merfolk and tritons, and are much despised by the other
      aquatic races.\n
      __Greater ixitichitl are the most developed of their race,
      having awakened unearthly mental powers by devouring other
      psionic beings such as grippli. They are tougher, faster
      and able to drain far more life than the average ixitichitl,
      but are physically indistinguishable.";
On Event 150 {
rID wildID;
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
return 0;
},
209
"All greater ixitxachitl are wild talents and possess a single randomly
        chosen psionic power.",
(20+1000) {
if (e.AType == 7)
EActor->IdentifyMon();
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "aurumvorax" : 35
{
Image: bright yellow 'B'; Size: 3; Arm: 10;
CR: 7; HD: 10; Hit: 7; Def: 15; Mov: 75%; Spd: 120%;
Str 11, Dex 16, Con 12, Int 2, Wis 12, Cha 12;
Attk: 7 for 1d8 12,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11;
Flags: 36, 35, 2, 96,
3, 60, 11;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((((49 + 1) + 32) + 50) + 38) + 26),
32, 44, 48, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Desc: "This legendary beast looks vaguely similar to a wild
      cougar, but it has six legs and is no larger then an average
      rottwieler. Yet it is one of the most hunted creatures on the
      face of Theyra, for it has a pelt of solid gold. The aurumvorax,
      or golden gorger, build burrows in the ground to live out the
      winter, and subsists on a diet of hares, chipmunks and other
      small mammals, supplemented by the occasional ingestion of gold,
      silver and other rare metals.";
On Event 110 {
if (EActor->mID == $"gnome" || EActor->mID == $"gnome;temp" ||
EActor->mID == $"halfling" || EActor->mID == $"halfling;temp")
if (EActor->GetAttr(25) == 3)
e.EParam = 1;
return 0;
};

}

Monster "basilisk" : 35, 83, 46
{
Image: brown 'R'; Size: 4;
CR: 4; HD: 6; Hit: +6; Def: 17; Mov: 75%; Spd: 130%;
Str 15, Dex 8, Con 15, Int 2, Wis 12, Cha 11;
Attk: 7 for 1d8+3 12,
43 for 0d0 19 (DC 13),
102 for $"cave lizard";
Stati[124,18,4];
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), ((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 32), 40;
Flags: 36, 3, 55;
Desc: "A basilisk is a reptilian monster that petrifies living
      creatures with a mere gaze. A basilisk usually has a dull brown body
      with a yellowish underbelly. Some specimens sport a short, curved horn
      atop the nose. An adult basilisk's body grows to about 6 feet long, not
      including its tail, which can reach an additional length of 5 to 7
      feet. The creature weighs about 300 pounds.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "boalisk" : 52, 46, 35
{
Image: bright red 'R'; Size: 4;
CR: 2; HD: 5; Hit: 3; Def: 12; Mov: 50%; Spd: 100%;
Str 17, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d4+1 12,
32 for 1d4+1 13,
43 for 0d0 27 (DC 14),
102 for $"boa constrictor";
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[39,71,5];
Disease: $"mummy rot";
Feats:
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
5, 7, 18, 32, 44, 45;
Flags: 3, 34, 36, 30, 74,
55;
Desc: "A magical relative of the constrictor snake, the boalisk
      is most feared for its gaze, which induces a rotting disease
      similar to that caused by a mummy's touch. The boalisk appears
      similar to a normal constrictor snake, but it has glistening
      red scales that seem to ripple like velvet and unnatural,
      segmented eyes not unlike an insect's.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "behir" : 35, 83, 52
{
Image: blue 'R'; Size: 6;
CR: 10; HD: 9; Hit: +15; Def: 16; Mov: 150%; Spd: 145%; Arm: 5;
Str 26, Dex 13, Con 21, Int 7, Wis 14, Cha 12;
Attk: 42 for 7d6 4 (DC 19),
6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
32 for 2d8+8 13;
Stati[39,42,6];
Stati[39,94,15];
Stati[39,71,6];
Immune: 0x00000008;
Feats: 18, 32, 36, 44,
((49 + 1) + 5), (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 37, 3, 45, 55;
Desc: "The behir is a serpentine monster that can slither like a snake
    or use its dozen legs to move with considerable speed. A behir is about
    40 feet long and weighs about 4,000 pounds. It can fold its limbs close
    to its long, narrow body and slither in snake fashion if it desires.
    The coloration of behirs ranges from ultramarine to deep blue with
    bands of gray-brown. The belly is pale blue. The two large horns
    curving back over the head look dangerous but are actually used for
    preening the creature's scales, not for fighting.";
}


Monster "bulette" : 35, 83, 79
{ Image: brown 'B'; Size: 6; Arm 5;
CR: 9; HD: 9; Hit: +9; Def: 16; Move: 150%; Spd: 135%;
Str 27, Dex 15, Con 20, Int 2, Wis 13, Cha 6;
Attk: 7 for 2d8 12,
111 for 0d0 93,
6 for 2d6 11,
6 for 2d6 11,
37 for 4d8 3;
Stati[39,71,9];
Stati[39,95,6];
Stati[39,96,12];
Immune: 0x00010000;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 22, 32;
Flags: 36, 3, 35, 6, 27,
92, 75, 74, 56, 96,
55;
Desc: "The bulette, or landshark, is a justly feared predator with
      features that seem to be a hybrid of a shark's, an armidillo's
      and a snapping turtle's.";
}

Monster "cateoblepas" : 35, 24
{
Image: red 'q'; Size: 6;
CR: 9; HD: 6; Hit: +6; Def: 10; Mov: 75%; Spd: 75%;
Str 26, Dex 13, Con 21, Int 2, Wis 13, Cha 8;
Attk: 24 for 1d8 13
and 2d4 17 (DC 18),
43 for 1d3 45;
Stati[39,42,6];
Stati[39,71,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 32, 44, 48;
Flags: 36, 37, 73, 55, 11, 55;
Desc: "Mythology describes the cateoblepas as a mourner and a
      harbringer of death and tragedy -- its gaze is said to reflect
      the deaths of everyone close to the victim, sapping the strength
      of even the strongest men. In reality, the cateoblepas is a large
      herbivore with features reminiscent of a buffalo crossed with a
      brontosaurus. Its legs are stumpy, like those of a hippopotamus,
      and its eyes are bloodshot. Its tail has a bony globe at the end
      like the head of a mace that it uses to strike enemies with. The
      cateoblepas' head is heavier then its neck can support well, and
      thus its posture is poor, with its head near the ground. This
      slumped appearance is likely the source of the legends of the
      creature as a harbringer of despair.";
}

Monster "cockatrice" : 35, 4
{
Image: red 'b'; Size: 3; Depth: 3;
CR: 0; HD: 5; Hit: +9; Def: 10; Mov: 200%; Spd: 100%;
Str 6, Dex 17, Con 11, Int 2, Wis 13, Cha 9;
Attk: 7 for 1d4 12
and 0d0 19 (DC 12);
Stati[39,42,6];
Feats: 44, 32,
((49 + 1) + 5), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 9), (((49 + 1) + 32) + 44);
Flags: 36, 37, 92, 74, 73,
55, 3, 12, 40, 39;
Desc: "A male cockatrice has wattles and a comb, just like a rooster.
  Females, much rarer than males, differ only in that they have no wattles
  or comb. A cockatrice weighs about 25 pounds.
  A cockatrice fiercely attacks anything that it deems a threat to itself
  or its lair. Flocks of cockatrices do their utmost to overwhelm and
  confuse their foes, and sometimes fly directly into their opponents'
  faces.";
}

Monster "couatl" : 52, 48
{
Image: bright red 'R'; Size: 5; Mana: 60;
CR: 8; HD: 9; Hit: +8; Def: 24; Mov: 150%; Spd: 150%;
Str 18, Dex 16, Con 14, Int 17, Wis 19, Cha 17;
Attk: 7 for 1d3 12
and 60 (DC 16),
32 for 2d8 13,
102 for $"winged snake";
Stati[39,61,3];
Stati[39,42,6];
Stati[39,82,9];
Stati[39,91,9];
Feats: 8, 32, 41,
3, 43, 44, 46,
(((49 + 1) + 32) + 44), (((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 42), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Poison: $"couatl venom";
Spells: $"detect evil", $"invisibility",
$"polymorph self";

Flags: 36, 3, 2, 50,
51, 53, 74, 75, 98,
12, 111;
Desc: "The couatl is a winged snake of great beauty, a visitor
      from the Upper Planes that enjoys spending time on the Prime
      Material. It's intelligence, magic, virtue and beauty make
      it a revered vistor in whatever region it inhabits. Its wings
      have feathers in all the colors of the rainbow, and its total
      wingspan is about 15 feet.";
Lists:
* 21
(50 + 1000);
On Event (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "couatl venom" : 1
{
Level: 8;
cval: 3;
sval: 16;
lval: 6;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>3<7> turns, and requires <11>6<7> saving throws against <11>DC 16<7> 
      to overcome.";
}

Monster "darkmantle" : 27, 35
{
Image: Shadow 't'; Size: 5; Mana: 10;
CR: 1; HD: 2; Hit: 1; Def: 12; Mov: 150%; Spd: 70%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13,
37 for 3d4 3;
Stati[124,18,10];
Stati[39,13,6];
Stati[211,(0x0020|0x0004)];
Spells: $"globe of shadow";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, 32, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 59, 36, 3, 2,
66, 55;
Desc: "Appearing vaguely like a black mottled octopus, the
      darkmantle ambushes its prey by clinging to the ceiling
      of its subterranian enviornment and then dropping over
      its victims' heads. Darkmantles move with surprising speed. 
      Darkmantles cannot be detected by Scent or Tremorsense.";
}

Monster "stifler" : 27, 35
{
Image: blue 't'; Size: 5; Mana: 10;
CR: 3;
HD: 3; Hit: 3; Def: 10; Mov: 100%; Spd: 100%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13 and
1d2 17 (DC 15),
37 for 3d4 3,
102 for $"darkmantle";
Stati[124,18,10];
Stati[39,42,6];
Stati[211,(0x0020|0x0004)];
Spells: $"stifling silence";
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags:
59, 36, 3, 2, 66, 55,
107;
Desc: "Appearing vaguely like a blue mottled octopus, the
      stifler ambushes its prey by clinging to the ceiling
      of its subterranian enviornment and then dropping over
      its victims' heads with unerring accuracy. However, its most feared
      ability is its power to stifle all sound within a large area.
      Stiflers cannot be detected by Scent or Tremorsense.";
}

Effect "Stifling Silence" : 46
{ 0x00000002; Base: 90; Cost: 1;
aval: 9; rval: 0x00001000; cval: 9; lval: 6;
Purpose: 0x00010; Flags: 26;
Desc: "Creates a field of supernatural silence 60 feet in 
      radius, inside which spellcasters cannot produce the
      verbal components of their spells."; }

Monster "icemantle" : 27, 35
{
Image: bright blue 't'; Size: 5; Mana: 10;
CR: 3;
HD: 3; Hit: 3; Def: 10; Mov: 100%; Spd: 100%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13 and
1d2 25 (DC 20),
37 for 3d4 3,
54 for 1d4 2,
102 for $"darkmantle";
Stati[124,18,10];
Stati[39,42,6];
Stati[211,(0x0020|0x0004)];
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 5, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Immune: 0x00000002, 0x01000000;
Flags:
59, 36, 3, 2, 66, 55,
42;
Desc: "Appearing vaguely like an ice blue mottled octopus, the
      icemantle ambushes its prey by clinging to the ceiling
      of its subterranian enviornment and then dropping over
      its victims' heads with unerring accuracy. Icemantles have
      chilling bodies that radiate cold. Icemantles cannot be detected by
      Scent or Tremorsense.";
On Event ((19+2000)+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "deathshroud" : 27, 35
{
Image: brown 't'; Size: 5; Mana: 10;
CR: 3;
HD: 3; Hit: 3; Def: 10; Mov: 100%; Spd: 100%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13 and
0d0 60 (DC 17),
37 for 3d4 3 and
0d0 60 (DC 17),
102 for $"darkmantle";
Stati[124,18,10];
Stati[39,42,6];
Poison: $"elfshot";
Stati[211,(0x0020|0x0004)];
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 39,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Immune: 0x00000010, 0x00008000;
Flags:
59, 36, 3, 2, 66, 55;
Desc: "Appearing vaguely like an brown mottled octopus, the
      deathshroud or 'final blanket' ambushes its prey by clinging to the
      ceiling of its subterranian enviornment and then dropping over its
      victims' heads with unerring accuracy. Its tentacles are coated
      with a contact poison that induces an artificial slumber in victim. 
      Most creatures put to sleep by a deathshroud never awaken. Rumor has
      it that the drow harvest deathshrouds for use in making elfshot.
      Deathshrouds cannot be detected by Scent or Tremorsense.";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};

}

Monster "ettercap" : 26, 35, 59
{
Image: brown 's'; Size: 4;
CR: 4; HD: 5; Hit: +5; Def: 11; Mov: 100%; Spd: 125%;
Str 14, Dex 17, Con 13, Int 6, Wis 15, Cha 8;
Attk: 7 for 1d8+2 12 and 0d0 60 (DC 15),
6 for 1d3+1 11,
6 for 1d3+1 11;
Stati[124,9,4];
Stati[124,18,4];
Stati[124,44,4];
Stati[39,42,6];
Poison: $"ettercap venom";
Spells: $"Ettercap Web";
Feats: ((((49 + 1) + 32) + 50) + 32), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((49 + 1) + 32) + 9),
18, 32, 44;
Flags: 1, 49;
Immune: 0x00002000;
}

Effect "Ettercap Web" : 5
{ 0x00000002; Base: 100; Cost: 10; Level: 1; Flags: 82;
Purpose: 0x00001 | 0x01000 | 0x00040 | 0x00004 |
0x00008;
cval: 15;
aval: 11; lval: 1;
xval: 6;
pval: 1d4+1; sval: 3;
rval: $"ettercap webbing";
qval: 0x0001|0x0004|0x0002;
Desc: "This is similar to an attack with a net but has a maximum range
    of 50 feet, with a range increment of 10 feet, and is effective against
    targets of up to Medium size. The web anchors the target in place,
    allowing no movement.  An entangled creature can escape with a DC 13
    Escape Artist check or burst the web with a DC 17 Strength check. The
    check DCs are Constitution-based, and the Strength check DC includes a
    +4 racial bonus. The web has 6 hit points, hardness 0, and takes double
    damage from fire.";
On Event 28
"The <EActor> throws a web at you!" /
"The <EActor> throws a web at the <EVictim>.",
74
"The ettercap webbing dissolves into mist."; }

Poison "ettercap venom" : 1
{
Level: 5;
cval: 3;
sval: 15;
lval: 3;
xval: 51; pval: 1d6; Desc: "This poison inflicts <11>1d6<7> points of Dexterity damage every 
      <11>3<7> turns, and requires <11>3<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Terrain "Ettercap Webbing"
{ Image: brown '#'; Mat:22; Mov: 100%;
Flags: 6, 5, 12;
On Event 1 {
if (!(EActor->mID == $"ettercap") && !EActor->HasEffStati(189,
$"Universal Solvent") &&
!(EActor->HasAbility(110)) &&
!(EActor->SkillCheck(13,17,true)))
{
DPrint(e,"You fail to escape the ettercap webbing!",
"An <EActor> fails to escape the ettercap webbing!");
EActor->Timeout += 30;
return 1;
}
return 0;
};
On Event 19 {
if (!(EActor->mID == $"ettercap") &&
!(EActor->HasAbility(110))) {
EActor->IPrint("You can't attack while in the ettercap webbing!");
return 2;
}
return 0;
};
On Event 37 {
if (!(EActor->mID == $"ettercap") &&
!(EActor->HasAbility(110))) {
EActor->IPrint("You can't cast spells while in the ettercap webbing!");
return 2;
}
return 0;
};
}

Monster "fire toad" : 35, 83
{
Image: bright red 'B'; Size: 3;
CR: 6; HD: 5; Hit: +5; Def: 16; Mov: 150%; Spd: 150%;
Str 13, Dex 21, Con 14, Int 1, Wis 15, Cha 7; Arm: 4;
Attk: 7 for 1d6 13 and 18 (DC 14),
42 for 3d6 1 (DC 17);
Stati[39,42,6];
Stati[39,66,2];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 22;
Immune: 0x00000001, 0x00008000;
Flags: 36, 3, 26,
56, 35, 41, 55,
2;
Desc: "Irascible and voracious, fire toads are as hyperactive
      as ice toads are sedentry. Their accelerated metabolism gives
      them great reflexes, but also makes them always hungry. They
      most often live near volcanos or other sources of intense
      natural heat.";
}

Monster "spitting frog" : 35, 83
{
Image: white 'B'; Size: 2;
CR: -2; HD: 1; Hit: +3; Def: 10; Mov: 75%; Spd: 75%;
Str 2, Dex 7, Con 16, Int 1, Wis 15, Cha 7;
Attk: 7 for 1d2 13,
40 for 3d6 24 (DC 16)
and 1d4 51 (DC 16);
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 22;
Immune: 0x00000001, 0x00008000;
Flags: 36, 3, 58, 26,
56, 35, 41, 55,
2, 90;
Desc: "These tiny, ivory-white frogs spit a powerfully numbing venom to
      blind their foes. They were originally native to jungles,
      but the most common varieties seen underground have been
      specially bred by goblins as creatures of war -- trained
      not to spit at goblinoids but only at other creatures.";
On Event (49+500) {
if (e.AType == 40 && GetHandle(EVictim) != ((hObj)0))
if (!EVictim->isCreature() ||
EVictim->isMType(84))
return 2;
return 0;
};
}

Monster "foxbat" : 46, 2
{
Image: yellow 'M'; Size: 2;
CR: 0; HD: 1; Hit: +3; Def: 15; Mov: 200%; Spd: 150%;
Str 8, Dex 16, Con 12, Int 2, Wis 13, Cha 8;
Attk: 7 for 1d3 12,
47 for 3d6 17 (DC 14);
Stati[39,42,6];
Stati[124,22,+4];
Stati[124,46,+4];
Stati[124,18,+4];
Feats: ((49 + 1) + 1), 22, 18, 36, 44,
32, 46;
Flags: 37, 3, 58, 12, 26,
35, 2;
Desc: "A magical hybrid of fox, ferret and bat, the foxbat is a curious
      and playful but easily panicked creature often used by wizards
      as a familiar and famed for its startlingly loud screech. Foxbats
      are about the size of housecats and are extremely agile and quick.";
}

Monster "giant tortoise" : 35, 51, 2
{
Image: green 'B'; Size: 5;
CR: 1; HD: 7; Hit: +2; Def: 10; Mov: 35%; Spd: 50%;
Str 17, Dex 10, Con 21, Int 2, Wis 15, Cha 7;
Attk: 7 for 1d10 13
and 63 (DC 14),
30 for 2d8 13;
Flags: 37, 35, 26, 2,
3, 11;
On Event (41+2000) {
if (e.AType == 65 || e.AType == 41)
if (1d100 >= 25)
{
VPrint(e,"The <EItem2> deflects off your shell.",
"The <EItem2> deflects off the <EVictim>'s shell.");
e.isWildMiss = true;
e.isHit = false;
e.vDmg = 0;
e.aDmg = 0;
return 1;
}
return 0;
},
209
"75~ of missile attacks deflect off of its shell.";
Desc: "Here lives a creature who has probably seen centuries pass.
      A giant tortiose resembles smaller turtles, but has a thick, hard
      shell more than two meters in diameter. It is a slow-moving,
      temperate creature and prefers to avoid conflict where possible.";
}


Monster "grey render" : 35
{
Image: shadow 'B'; Size: 5;
CR: 8; HD: 10; Hit: 10; Def: 15; Mov: 100%; Spd: 140%;
Arm: 5;
Str 23, Dex 10, Con 24, Int 3, Wis 12, Cha 8;
Attk: 7 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11,
33 for 2d6+3 11;
Stati[39,71,6];
Stati[124,44,4];
Stati[39,94,15];
Stati[39,42,6];
Feats: 18, 44, 48,
(((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 73, 92, 55, 36, 66,
11;
Desc: "A gray render stands about 9 feet tall in spite of its hunched
    posture and is about 4 feet wide. It weighs about 4,000 pounds.
    Gray renders are never found in groups. Each of these asexual creatures
    produces one offspring and carries it for a time in a pouch, but
    thereafter the young render must fend for itself.";
}

Monster "grick" : 30, 35, 79
{
Image: green 'w'; Size: 4;
CR: 2; HD: 4; Hit: 2; Def: 14; Mov: 60%; Spd: 70%; Arm: 10;
Str 14, Dex 14, Con 11, Int 3, Wis 15, Cha 5;
Attk: 14 for 1d4 13,
7 for 1d3 12,
30 for 1d8 13;
Stati[39,42,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 66, 3, 2, 4, 27, 36,
73, 8, 55, 96, 40;
Desc: "An underground predator, the grick is a large green worm-creature
      with four suckered tentacles surronding its beak-like mouth. Gricks
      can be as long as 5 feet fully grown, with serpentine bodies up to a
      foot thick.";
}

Monster "ice toad" : 35, 83
{
Image: bright cyan 'B'; Size: 3;
CR: 2; HD: 4; Hit: +2; Def: 8; Mov: 45%; Spd: 70%;
Str 14, Dex 6, Con 17, Int 1, Wis 6, Cha 4; Arm: 7;
Attk: 7 for 1d4 13 and 5d20 25 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Feats: (((((49 + 1) + 32) + 50) + 38) + 26), 22; Immune: 0x00000002, 0x00400000;
Flags: 36, 3, 58, 26,
56, 35, 42;
Desc: "A mottled blue toad the size of a rottwieler, ice
      toads are known for their slothful lifestyle -- they sleep
      nearly 80~ of the time -- and for their vicious temperment
      when awoken from their slumber. Their glands produce a
      venom which makes their targets numb and sluggish; in strong
      enough doses, it can paralyze.";

On Event 156 {
if (!EActor->HasStati(7))
if (random(5))
EActor->GainPermStati(7,NULL,7,2);
},
32 {
if (EActor->isFlatFooted() && !EActor->HasStati(7))
{
DPrint(e,"You go back to sleep.",
"The <EActor> goes back to sleep.");
EActor->GainPermStati(7,NULL,7,2);
}
return 0;
},
(41+2000) {
if (e.DType == 1)
e.vDmg *= 2;
return 0;
},
209
"It takes double damage from fire. It sleeps whenever it is not
        actively fighting.";
}

Monster "froghemoth" : 35, 83
{
Image: bright green 'B'; Size: 5;
CR: 11; HD: 16; Hit: +12; Def: 8; Mov: 150%; Spd: 125%;
Str 24, Dex 18, Con 30, Int 1, Wis 14, Cha 4; Arm: 5;
Attk: 14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
15 for 1d12 11,
37 for 1d8 3
and 2d8 13;
Stati[39,42,6];
Stati[124,44,6];
Stati[124,22,10];
Stati[124,45,10];
Resists: 0x00000001, 0x00000008;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
44, 18, 45, 22;
Flags: 14, 36, 55, 3, 7,
15, 30, 31;
int32 hitCount;
On Event (17+500)
{ hitCount = 0; return 0; },
(20+1000) {
if (e.AType == 14)
hitCount++;
else if (e.AType == 15 && hitCount >= 4)
ThrowDmg(41,93,0,"a froghemoth",EActor,EVictim);
},
209
"If all four of its tentacles and its probiscis hit a victim in
       a single natural attack sequence, that victim is swallowed whole.";
Desc: "A froghemoth is a huge, bloated creature, eighteen feet in length, 
      with a yellow underbelly, light-green sides and a mottled-green back. 
      It is vaguely frog-shaped, but for the two mottled-green tentacles 
      that grow from each shoulder. These tentacles are very strong, and 
      are covered with a leathery hide. It has a fanged maw from which a 
      ten-foot-long barbed tongue hangs, and a weird three-eyed occular 
      appendage that can be retracted to lie flat upon its skull. The 
      froghemoth's eyestalk and nostril stalks can both be extended to 
      three feet above the creature's head.\n
      __Froghemoths swim rapidly by kicking with its webbed hindlegs. In 
      marsh or swamp, a froghemoth lies on its belly and slides forward, 
      propelled by rear legs and four tentacles. On dry land, movement is 
      by short, vaulting hops, relying on the legs to lift the body forwards 
      with the tentacles thrust well ahead of the body.\n
      __Froghemoths live solitary existences except during the late spring 
      mating season. They construct submerged lairs from uprooted trees and 
      other debris, but usually drag prey away from the lair to devour it. 
      Any valuables possessed by a froghemoth's victims will be scattered 
      thoughout the swamp nearby, usually sunk deep in the mud or beneath 
      the waters of a freshwater lake.\n
      __[ Flavor text taken from a conversion by James O'Rance. ]";

}

Monster "osquip" : 25, 2, 79
{
Image: yellow 'r'; Size: 3;
CR: 0; HD:3; Hit: +2; Def: 10; Hit: 4; Mov: 80%; Spd: 70%; Arm: 3;
Str 8, Dex 7, Con 12, Int 3, Wis 8, Cha 3;
Attk:7 for 1d8 13;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), 32, 41;
Flags: 36, 34, 3, 96;
Desc: "A distant cousin of rats, the osquip is a six-legged
      rodent the size of a pit bull, with a leathery yellow hide
      and huge, blunt foreteeth that hang out of its mouth over
      its upper lip. The osquip is a sedentry creature, rarely
      aggressive, and most often content to collect trinkets and
      feed on smaller creatures -- but it will fight visciously
      if it is starved or cornered.";
}

Monster "otyugh" : 35
{
Image: brown 'B'; Size: 5;
CR: 3; HD: 6; Def: 18; Hit: +6; Mov: 75%; Spd: 80%;
Str 11, Dex 10, Con 13, Int 2, Wis 12, Cha 6;
Attk:
14 for 1d6 11,
14 for 2d6 11,
7 for 1d4 12 and 27 (DC 15);
Stati[39,71,6];
Stati[118,13,+1];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 32, 18,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 28, 4, 3, 27;
Disease: $"filth fever";
Desc: "Grotesque subterranian scavengers, otyughs have a body
      shaped like a bloated ovoid, three tentacles and three stubby
      legs. They dwell amidst trash and refuse, scavenging for
      uneaten food, but are not above trying to devour still-living
      creatures to supplement their diet.";
}

Monster "owlbear" : 35
{
Image: brown 'B'; Size: 5;
CR: 5; HD: 5; Hit: 5; Def: 15; Mov: 100%; Spd: 125%;
Str 21, Dex 12, Con 21, Int 2, Wis 12, Cha 10;
Attk: 7 for 1d8+2 12,
6 for 1d6+5 11,
6 for 1d6+5 11,
102 for $"black bear";
Stati[39,94,15];
Stati[39,71,4];
Flags: 3, 36, 35, 55, 107;
Feats: ((49 + 1) + 5), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
32, 44;
Desc: "An owlbear's coat ranges in color from brown-black to yellowish
      brown; its beak is a dull ivory color. A full-grown male can stand as
      tall as 8 feet and weigh up to 1,500 pounds. Adventurers who have
      survived encounters with the creature often speak of the bestial
      madness they glimpsed in its red-rimmed eyes.";
}

Monster "remorhaz" : 30, 35
{
Image: bright cyan 'w'; Size: 6; Arm: 11;
CR: 11; HD: 7; Def: 14; Hit: +7; Mov: 100%; Spd: 125%;
Str 26, Dex 13, Con 21, Int 2, Wis 12, Cha 10;
Attk: 7 for 2d8 13,
111 for 93,
37 for 10d10 1,
60 for 4d10 1 (DC 20);
Stati[39,95,6];
Stati[39,96,5];
Stati[124,32,4];
Immune: 0x00000001, 0x00000002;
Feats: 32, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 3, 66, 35, 27,
42, 41, 96, 55;
Desc: "The remorhaz, or polar worm, resembles a cross between
      a centepede and a manta ray, crawling on hundreds of legs
      and encased in a thick chitinous shell. Its body is like a
      furnace, generating internal tempratures great enough to
      slag steel instantly. Remorhazes are aggressive predators,
      preying on polar bears, elk and the occasional frost giant.";
}


Monster "rust monster" : 35, 58
{
Image: brown 'B'; Size: 4; Depth: 2;
CR: 3; HD: 5; Hit: +5; Def: 15; Mov: 150%; Spd: 100%;
Str 10, Dex 17, Con 13, Int 2, Wis 13, Cha 8;
Attk: 7 for 1d3 13,
9 for 6d6 39 (DC 17),
#line "mon1.irh" 2793
60 for 6d6 39 (DC 25);
#line "mon1.irh" 2796
Stati[39,94,5];
Stati[39,71,9];
Stati[39,42,6];
Feats: ((49 + 1) + 5), 32, 44;
Flags: 3, 4, 2, 60, 55,
27, 40;
Desc: "Recognized by its dinstinctive helicopter-shaped tail and
      twin antenna, the rust monster resembles a strange cross between
      a hedgehog, lizard and beetle. They subsist by dissolving and
      eating metals, and tend to have a playful, non-aggressive manner
      toward other living things. Druids often use rust monsters as
      companions and weapons, given their distaste for most metal
      weapons. A rust monster is only slightly larger then a great
      Bernard.";
}

Monster "porpoise" : 2
{
Image: bright blue 'a'; Size: 4;
CR: 0; HD: 2; Hit: 1; Def: 12; Mov: 100%; Spd: 100%;
Str 11, Dex 17, Con 13, Int 2, Wis 12, Cha 6;
Attk: 19 for 2d4 13;
Stati[39,13,12];
Stati[39,42,6];
Stati[124,44,4];
Stati[124,32,4];
Stati[124,45,8];
Feats: (((49 + 1) + 32) + 0),
32, 44, 45, 37;
Flags: 36, 3, 30, 35;
Desc: "Porpoises are mammals that tend to be playful, friendly, and
    helpful. A typical porpoise is 4 to 6 feet long and weighs 110 to 160
    pounds. ";
}

Monster "cave lizard" : 51, 2
{
Image: green 'R'; Size: 3;
CR: -1; HD: 1; Hit: 1; Def: 12; Mov: 80%; Spd: 60%;
Str 10, Dex 13, Con 13, Int 5, Wis 12, Cha 6;
Attk: 7 for 1d3 12;
Stati[39,42,6];
Feats: ((49 + 1) + 5), 7, 18, 44;
Flags: 35, 36, 3, 54;
Desc: "A variety of species of small lizards inhabit caves
      and underground complexes, feeding on insects, fungi and
      the occasional small rodent.";
}

Monster "shocker lizard" : 51, 35
{
Image: bright cyan 'R'; Size: 3;
CR: 1; HD: 2; Hit: 1; Def: 15; Mov: 80%; Spd: 60%;
Str 10, Dex 15, Con 13, Int 5, Wis 12, Cha 6;
Attk: 7 for 1d4 12,
9 for 2d6 4,
102 for $"cave lizard";
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), 7, 18, 44;
Immune: 0x00000008;
Flags: 35, 36, 3, 45;
Desc: "A tiny blue lizard similar to a bipedal gecko, shocker
      lizards have wide, curious eyes, thin antenna-like horns and
      a bullet-shaped head. They are renouned for their ability to
      produce a strong bioelectric charge, more powerful the more
      of the lizards there are nearby, and are sometimes used by
      wizards as familiars.";
On Event (41+500) {
hObj c;
#line "mon1.irh" 2868
if (e.DType == 4 && e.AType == 9)
for(c = EMap->FirstThing(); c ; c = EMap->NextThing())
if (c->isCreature() && c->mID == $"shocker lizard")
if (c != GetHandle(EActor))
if (dist(c->x,c->y,EActor->x,EActor->y) <= 6)
e.vDmg += 5;
},
(41+1000) {
if (e.DType == 4)
EActor->IdentifyMon();
return 0;
};
}

Monster "stirge" : 3, 2
{
Image: red 'b'; Size: 2;
CR: -4; HD: 1; Hit: 1; Def: 12; Mov: 130%; Spd: 100%;
Str 3, Dex 19, Con 10, Int 1, Wis 12, Cha 6;
Attk: 10 for 1d2 12,
31 for 1d4 52,
102 for $"bat";
Stati[39,42,6];
Feats: ((((49 + 1) + 32) + 50) + 8), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 3, 8, 28, 12,
55, 36, 107;
Desc: "A twisted cross between a bat and a mosquito, the stirge
      (or archaically, 'ghoulstirge') is a winged subterranian predator 
      that latches onto victims, pierces them with its probiscis and
      drains their blood to sustain itself.";
}

Monster "thunderbeast" : 35, 24
{
Image: brown 'B'; Size: 6;
CR: 7; HD: 5; Hit: +4; Def: 10; Mov: 150%; Spd: 80%;
Str 30, Dex 10, Con 21, Int 2, Wis 13, Cha 7;
Attk:
20 for 2d8 13,
23 for 2d6 12;
Stati[118,18,10];
Stati[39,42,6];
Resists: 0x00000001, 0x00000002; Immune: 0x00000010, 0x00010000;
Feats: ((((49 + 1) + 32) + 50) + 32), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6),
32, 44;
Flags: 3, 27, 37, 73,
11, 7, 8, 15,
55;
On Event 156 {
EMap->NewField(0x00000004|0x00000002|0x00000100,EActor->x,EActor->y,6,
1*256+'~',-1,$"thunderbeast fumes",EActor);
return 0;
},
(20+1000) {
if (e.AType == 20)
ThrowEff(52,$"tremor",EActor);
return 0;
},
((28+2000)+500) {
if (e.eID == $"tremor")
if (GetHandle(EActor) == GetHandle(EVictim))
return 1;
return 0;
},
209
"It exudes debilitating fumes in a 60 foot radius, inflicting
        a -2 general penalty on all breathing creatures in that area.
        When it stomps, the ground shakes as per a <1>Tremor<7> spell,
        but the thunderbeast is unaffected.";
Desc: "These creatures resemble a cross between a hippopotamus,
      a sabre-toothed tiger and a giant boar. Originally native to
      the Abyss, they have migrated to the prime material and adapted
      to life as natives. Demons sometimes use these creatures as
      mounts. They are herbivores, but are terribly strong and can
      be very dangerous if they stampede. Their name originates from
      the shroud of vapours they naturally exude, in combination with 
      their terrible roar, likening them to thunderclouds.";
}

Effect "thunderbeast fumes" : 3
{ aval: 9; rval: 0x00000004 | 0x00000002 | 0x00000100;
xval: 117; yval: 51; pval: -1;
tval: 78; lval: 6; cval: 1; Purpose: 0x00010;
Flags: 4, 33, 64, 82;
On Event
43
"Strange blue fog envelops you." /
"The <EActor> is enveloped in the fog.",
44
"The air seems cleaner now." /
"The <EActor> leaves the strange fog.";
}

Monster "juvenile tojanda" : 35, 51
{ Image: cyan 'R'; Size: 3; Mana: 7; Arm: 5;
CR: 3; Depth: 3; HD: 3; Def: 16; Hit: +4; Mov: 200%; Spd: 80%;
Str 14, Dex 13, Con 15, Int 10, Wis 12, Cha 9;
Attk: 7 for 2d6 13,
6 for 1d4 11,
40 for 3d4 24 (DC 16);
Stati[39,42,6];
Stati[39,100,3];
Immune: 0x00000004, 0x00000002; Resists: 0x00000001, 0x00000008;
Feats: 18, 32, 41, 44, ((49 + 1) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"ink cloud";
Flags: 30, 27, 3, 35,
36, 37, 38, 43;
Desc: "Tojanda resemble large snapping turtles, but are far more
      agile swimmers. Both their back and undersides are covered with
      a shell of hexagonal plates. They have four fins that they use
      to walk or propel themselves through the water with equal ease,
      and one crab-like pincer each on their lower front and upper 
      back. The creature's small head has a wide, thin vertical maw,
      and can retreat into its shell if threatened. Tojanda are generally
      serene creatures, and aren't aggressive unless threatened.";
}

Effect "ink cloud" : 46
{ aval: 7; rval: 0x00010000; pval: 6; Flags: 82;
Purpose: 0x00040 (0x01000);
}

Monster "tojanda" : 35, 51
{ Image: skyblue 'R'; Size: 4; Mana: 7; Arm: 6;
CR: 9; Depth: 3; HD: 7; Def: 17; Hit: +6; Mov: 200%; Spd: 80%;
Str 16, Dex 13, Con 15, Int 10, Wis 12, Cha 9;
Attk: 7 for 2d8 13,
6 for 1d6 11,
6 for 1d6 11,
40 for 3d4 24 (DC 18);
Stati[39,42,6];
Stati[39,100,3];
Immune: 0x00000004, 0x00000002; Resists: 0x00000001, 0x00000008;
Feats: 18, 32, 41, 44,
((49 + 1) + 25), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"ink cloud";
Flags: 30, 27, 3, 35,
36, 37, 38, 43;
Desc: "Tojanda resemble large snapping turtles, but are far more
      agile swimmers. Both their back and undersides are covered with
      a shell of hexagonal plates. They have four fins that they use
      to walk or propel themselves through the water with equal ease,
      and one crab-like pincer each on their lower front and upper 
      back. The creature's small head has a wide, thin vertical maw,
      and can retreat into its shell if threatened. Tojanda are generally
      serene creatures, and aren't aggressive unless threatened.";
}

Monster "elder tojanda" : 35, 51
{ Image: azure 'R'; Size: 5; Mana: 7; Arm: 7;
CR: 11; Depth: 5; HD: 15; Def: 18; Hit: +15; Mov: 200%; Spd: 80%;
Str 22, Dex 13, Con 19, Int 10, Wis 12, Cha 9;
Attk: 7 for 4d6 13,
6 for 1d8 11,
6 for 1d8 11,
40 for 3d4 24 (DC 20);
Stati[39,42,6];
Stati[39,100,3];
Immune: 0x00000004, 0x00000002; Resists: 0x00000001, 0x00000008;
Feats: 18, 32, 41, 44,
((49 + 1) + 25), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"ink cloud";
Flags: 30, 27, 3, 35,
36, 37, 38, 43;
Desc: "Tojanda resemble large snapping turtles, but are far more
      agile swimmers. Both their back and undersides are covered with
      a shell of hexagonal plates. They have four fins that they use
      to walk or propel themselves through the water with equal ease,
      and one crab-like pincer each on their lower front and upper 
      back. The creature's small head has a wide, thin vertical maw,
      and can retreat into its shell if threatened. Tojanda are generally
      serene creatures, and aren't aggressive unless threatened.";
}

Monster "winged snake" : 52, 35, 81
{ Image: bright green 'R'; Size: 4; Mana: 12; Arm: 3;
CR: 2; HD: 4; Def: 17; Hit: +2; Mov: 150%; Spd: 120%;
Str 12, Dex 14, Con 14, Int 3, Wis 14, Cha 14;
Attk: 7 for 1d4 12 and 2d8 3,
42 for 2d8 4;
Stati[124,7,6];
Stati[39,42,6];
Immune: 0x00000008;
Feats: 18, 36,
7;
Flags: 3, 2, 35, 36,
37, 45, 74, 35;
Desc: "Winged snakes are colorful reptiles who may be distant
      relatives of the couatl. Though their acidic bite is powerful,
      they are most feared for their ability to build up a charge
      of static electricity by beating their wings in the air, then
      breathing a shower of sparks out of their mouth -- hence their
      alternate name, spark snakes.";
On Event 200
"shower of sparks";
}
#line "mon1.irh" 3071
Template "feral" : 0x0001 for 2
{ CR: +2; Hit: +6; HD: +1; Spd +50%;
MType: 35;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13);
Flags: 56, -2, 55;
Desc: "Feral animals attack with incredible speed and force. Their 
      Monk-like natural attacks make them dangerous foes in close
      quarters. Feral animals gain a +6 template bonus to their natural
      attack and damage rolls.";
On Event 156 {
EActor->GainPermStati(106,NULL,3,21,6);
};
}

Template "razorjaw" : 0x0008 for 35
{
Desc: "An evolutionary quirk has given this beast a
      hinged jaw and a terrible bite capable of maiming men or
      severing limbs.";
Flags: !35;
CR: +1;
Attk:
7 for 4d8 11;
On Event (19+1000) {
if (e.AType == 7)
EActor->IdentifyTemp($"razorjaw");
},
155 {
if (!EActor->HasAttk(7))
return -1;
if (enFreaky() % 30 != 27)
return -1;
return 0;
},
#line "mon1.irh" 3114
209
"On a critical hit, its bite severs a limb.";
}

Template "dire" : 0x0001 for 0
{ CR: +3; Size: +1; Str +4, Dex +2, Con +2; Immune: 0x08000000;
Arm: +3; Hit: +4; HD: +4; Flags: 55, 56, -2,
!35;
MType: 35;
Desc: "Dire animals are feral beasts with a vaguely prehistoric
      look. They are stronger, tougher and more aggressive than their
      mundane counterparts.";
On Event 155 {
if (EActor->isMType(2) ||
EActor->isMType(35) ||
EActor->isMType(31) ||
EActor->isMType(46) ||
EActor->isMType(54))
return 0;
else return -1;
} ;
}
#line "mon1.irh" 3305
Monster "ape" : 2, 59
{
Image: shadow 'Y'; Size: 5;
CR: 5; HD: 4; Hit: 3; Def: 12; Mov: 100%; Spd: 100%;
Str 21, Dex 15, Con 14, Int 2, Wis 12, Cha 7;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d6 12;
Stati[39,42,6];
Stati[124,7,8];
Stati[39,71,5];
Feats:
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((49 + 1) + 27),
7, 32, 44;
Flags: 1, 35, 36, 14, 74;
Desc: "Gorillas are the largest of the primates, weighing up to 400
    pounds. They have a much heavier build than the chimpanzee, having more
    muscles, bigger canine teeth, and a much larger stature. The Eastern
    lowland gorilla has longer teeth, stronger jaws, and a broader body
    than the Western lowland gorilla. Gorillas walk on all fours, but use
    the knuckles on their hands instead of their palms. Eastern lowland
    gorillas have black coats, and the males develop silver backs as they
    mature.";
}

Monster "baboon" : 2, 59
{
Image: blue 'Y'; Size: 4;
CR: -2; HD: 1; Hit: 0; Def: 11; Mov: 150%; Spd: 100%;
Str 15, Dex 14, Con 12, Int 2, Wis 12, Cha 4;
Attk: 7 for 1d6 12;
Stati[39,42,6];
Stati[124,7,8];
Stati[39,71,5];
Feats:
((49 + 1) + 5), ((49 + 1) + 27),
7, 32, 44;
Flags: 1, 35, 36, 75, 104, 74;
Desc: "Baboons are powerful and aggressive primates adapted to life on
    the ground. They prefer open spaces but climb trees to find safe places
    to rest overnight. A typical baboon is the size of a big dog.
    Males can be 2 to 4 feet long and weigh as much as 90 pounds.";
}

Monster "blood ape" : 35, 59
{
Image: pink 'Y'; Size: 5;
CR: 4; HD: 4; Hit: 5; Def: 13; Mov: 100%; Spd: 100%;
Str 21, Dex 15, Con 14, Int 2, Wis 12, Cha 7;
Attk: 1 for 1d6 13,
1 for 1d6 13,
7 for 1d6 12,
102 for $"ape";
Stati[39,42,6];
Stati[39,71,5];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 7, ((49 + 1) + 27),
32,
20;
Flags: 36, 14;
Spells: $"bull's strength", $"enlarge", $"cause fear";
On Event (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "girallon" : 35, 59
{
Image: purple 'Y'; Size: 5;
CR: 8; HD: 7; Hit: 7; Def: 12; Mov: 150%; Spd: 135%;
Arm: 2;
Str 22, Dex 17, Con 14, Int 2, Wis 12, Cha 7;
Attk: 6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11,
7 for 1d8 12,
102 for $"ape";
Stati[124,7,8];
Stati[39,42,6];
Stati[39,71,5];
Feats:
(((((49 + 1) + 32) + 50) + 38) + 26), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((49 + 1) + 27),
7, 36, 44;
Flags: 36, 14;
Desc: "Girallons are savage, magical cousins of the gorilla. When
    moving on the ground, a girallon walks on its legs and lower arms. An
    adult girallon is about 8 feet tall, broad-chested, and covered in
    thick, pure white fur. It weighs about 800 pounds.
    A solitary girallon usually conceals itself in the branches of a tree
    or under a pile of leaves and brush, with only its nose showing. When
    it spots or scents prey, it charges to the attack. A girallon picks up
    prey that is small enough to carry and withdraws, often vanishing into
    the trees before the victim's companions can do anything to retaliate.
    Against larger foes, a girallon seeks to tear a single opponent to bits
    as quickly as it can.";
On Event (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "monkey" : 2, 59
{
Image: brown 'Y'; Size: 2;
CR: -6; HD: 1; Hit: 0; Def: 12; Mov: 100%; Spd: 100%;
Str 5, Dex 17, Con 10, Int 2, Wis 12, Cha 5;
Attk: 7 for 1d3 12,
9 for 0d0 36 (DC 16);
Feats: 5, 7, 18,
(((49 + 1) + 32) + 44), ((49 + 1) + 27);
Flags: 1, 35, 36, 37, 74;
}
#line "mon1.irh" 3424
Monster "blazing terror" : 5, 35
{
Image: white 'c'; Size: 5;
CR: 3; HD: 3; Hit: 3; Def: 11; Mov: 150%; Spd: 120%;
Str 11, Dex 15, Con 12, Int 3, Wis 10, Cha 12;
Attk: 7 for 1d8 12 and 2d6 2,
54 for 2d6 2,
47 for 1d3 17 (DC 12);
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 19), (((49 + 1) + 32) + 44),
18, 22, 36, 44, 48;
Flags: 39, 36, 3, 55, 75, 88,
55, 11, 42;
Immune: 0x00000002;
Resists: 0x00000200;

On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
},
213 "wail" / "wails";

Desc: "These snow-white creatures appear very similar to
      a giant lynx, but with a long serrated beak. It has a
      sleek, muscular body, strong legs, and unusually
      wide paws that allow it to readily move across
      loose snow. The tail of a blazing terror is short and
      covered in a fuzz of crystalline spikes. Otherwise
      this creature is free of markings, and blends
      effortlessly into a snow or glacial background.
        The blazing terror prefers a rugged icy environment
      where it can stealthily approach its prey. It can
      easily withstand extremely cold temperatures and is
      unaffected by wind chill. It can communicate
      simple messages with its own kind in a harsh bark,
      and hungry groups of blazing terrors occasionally
      hunt cooperatively to attack small herds. However,
      they generally prefer solitary nocturnal hunting
      when plentiful small game becomes available.
        In contrast with most of the denizens of the cold
      elemental planes, the blazing terror moves with
      startling speed. It is a ferocious hunter that will
      relentlessly pursue its prey. However, the blazing
      terror prefers to leap on its prey from ambush,
      relying on speed and surprise.
        Unlike the great cats, the blazing terror does not
      use its padded feet in combat. Instead it relies on a
      razor-sharp beak that is capable of cutting through
      armor or bone.
        A blazing terror cannot consume flesh that is not
      frozen and so will not generally hunt warm-blooded
      creatures for food. However, for reasons not fully
      understood, a blazing terror hates any being from
      an ice-free environment. Thus it will attack any
      warm-blooded creatures that are not native to the
      region, even though it has no desire to consume
      their flesh.";
}

Monster "cave lion" : 5, 2
{
Image: brown 'c'; Size: 5;
CR: 6; HD: 7; Hit: +5; Def: 15; Mov: 150%; Spd: 130%;
Str 24, Dex 16, Con 17, Int 2, Wis 12, Cha 7;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[124,18,4];
Stati[124,36,4];
Flags: 36, 35, 3, 75, 55, 11;
Resists: 0x00000002;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
18, 22, 32, 36, 44;
Desc: "This believed-extinct member of the cat family was a third larger in overall
dimensions compared to the modern lion, and weighed perhaps half again as
much. They also hunted in prides, much like the modern lion.  Cave lions
were well-adapted to cold climates, with a warm coat and larger body mass to
preserve heat.";
}

Monster "cheetah" : 5, 2
{
Image: bright yellow 'c'; Size: 4;
CR: 4; HD: 3; Hit: 2; Def: 11; Mov: 200%; Spd: 115%;
Str 16, Dex 19, Con 15, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d6 12 and 67 (DC 19),
6 for 1d2 11 and 67 (DC 19),
6 for 1d2 11 and 67 (DC 19);
Stati[39,71,5];
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 21), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),
18, 32, 36, 44;
Flags: 36, 35, 3, 75, 15, 11;
Desc: "Cheetahs are swift feline predators of the plains. A cheetah is
    3 to 5 feet long and weighs 110 to 130 pounds.";
}

Monster "displacer beast" : 5, 35
{
Image: magenta 'c'; Size: 5;
CR: 7; HD: 6; Hit: 8; Def: 16; Mov: 150%; Spd: 120%;
Str 18, Dex 15, Con 16, Int 2, Wis 12, Cha 8;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12,
27 for 1d4 11,
102 for $"leopard";
Stati[39,71,6];
Feats: 18, 36, 5, 7,
44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((49 + 1) + 5), (((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Stati[145,2,50,$"displacement"];
Flags: 35, 36, 3,
92, 74, 98, 55;
Desc: "A great cat resembling a panther or leopard, the
      displacer beast is named for its magical ability to
      camoflague its position, giving the illusion that it
      is approximately two feet from where it actually is.
      This feat is accomplished with the aid of two strange
      organs mounted on the tips of tentacles growing out
      of the displacer beast's back. Displacer beasts enjoy a
      50~ miss chance against physical attacks from displacement.";
On Event ((21+2000)+1000) {
if (e.isWildMiss)
EActor->IdentifyMon();
return 0;
};
}

Monster "krenshar" : 5, 35
{
Image: pink 'c'; Size: 4;
CR: 0; HD: 2; Hit: 2; Def: 13; Mov: 150%; Spd: 110%;
Str 11, Dex 14, Con 11, Int 6, Wis 12, Cha 13;
Attk: 7 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11,
47 for 3d4 28 (DC 15),
102 for $"leopard";
Stati[124,22,4];
Stati[124,36,4];
Stati[39,42,6];
Feats: 44, 18, 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 3, 36, 11;
Immune: 0x08000000;
Desc: "The krenshar is a strange, catlike carnivore with extremely
    flexible skin on its head. A typical krenshar measures 4 or 5 feet in
    length with a long, narrow head. It weighs about 175 pounds.";
On Event 213 "wail" / "wails",
(49+1000) {
EActor->IdentifyMon();
return 0;
};

}

Monster "leopard" : 5, 2
{
Image: purple 'c'; Size: 4;
CR: 3; HD: 3; Hit: 5; Def: 11; Mov: 150%; Spd: 120%;
Str 16, Dex 19, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12,
27 for 1d4 11;
Stati[39,71,5];
Feats: 5, 7, 18, 36,
44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19);
Flags: 35, 36, 3, 74,
92, 11;
Desc: "Leopards live in highly variable habitats. They feel just as
    secure in swampy tropical forests as in rugged mountains. They live in
    lowland forests, mountains, grasslands, brush country, and deserts.
    These cats have an elongate and muscular body. Their paws are broad and
    their ears are short. In tropical regions their coats tend to be
    shorter and sleeker, whereas in colder climates their fur is longer and
    denser. The coloration varies from the color of straw to grayish to
    even chesnut. The backs of the ears are black except for a spot either
    located centrally or near the tips. These appear to other animals as
    eyes. The throat, chest, belly, and the insides of the limbs are white.
    The rest of the head, throat, chest, and limbs all have small black
    spots.";
}


Monster "sea cat" : 5, 35
{
Image: blue 'c'; Size: 5;
CR: 6; HD: 6; Hit: 6; Def: 18; Mov: 150%; Spd: 130%;
Str 19, Dex 12, Con 17, Int 2, Wis 13, Cha 10, Luc 16;
Attk: 7 for 1d8+2 12,
6 for 1d6+4 11,
6 for 1d6+4 11;
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
45, 18, 5, 36,
44;
Flags: 36, 3, 31, 55;
Desc: "Sea cats attack on sight, either for food or to defend their
      territory, and use both claws and teeth to grab and rend their prey.
      They display tremendous courage, always fighting to the death, even
      against creatures many times their size. Pairs and prides of sea cats
      attack in concert, trying to wear the opponent down until one beast can
      dispatch it. A typical sea cat is 12 feet long and weighs 800 pounds.";
}

Monster "smilodon" : 5, 2
{
Image: red 'c'; Size: 5;
CR: 5; HD: 5; Hit: 3; Def: 13; Mov: 100%; Spd: 120%;
Str 25, Dex 14, Con 16, Int 2, Wis 12, Cha 6;
Attk: 7 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11;
Stati[124,18,4];
Stati[124,36,4];
Stati[39,71,5];
Stati[118,13,+1];
Feats: ((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),
18, 32, 36, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3,
55, 75, 11;
Desc: "This great predator is the last in a long and
successful line of saber-toothed cats. Like other
cats, the smilodon has a warm fur coat for
protection against the elements, but they only have
a brief tail. It stands three feet in height at the
shoulders, with a mass of well over 450 lbs. 
However, the front quarters are heavier, the
hindquarters lighter, and the tail is bobbed.
The favorite prey of this cat were large, thickskinned
animals like the mammoths that carry a lot
of meat. In particular they preferred to prey on
young mammoths. Once these huge creatures died
out, the smilodon became extinct.
The long, flat canine teeth of the smilodon are a
monstrous 8 in. in length, with fine serrations along
the cutting edge to increase their slashing effect.
The lower jaw of this cat can open wide during an
attack, allowing the beast to bite deep into a hide.
By biting the prey and pulling backward, the two
fangs leave long gashes to let out blood.
The smilodon has short, muscular legs and a
powerful body, making it slow but capable of
clinging to large prey. Once the bleeding prey is
down, however, the teeth of this cat are ill suited
for chewing food, so it must survive by drinking
the blood of its victims and gulping down large
strips of meat. Much of the remains are then
consumed by scavenging creatures."; }

Monster "tiger" : 5, 2
{
Image: brown 'c'; Size: 5;
CR: 6; HD: 6; Hit: 6; Def: 13; Mov: 150%; Spd: 150%;
Str 23, Dex 15, Con 17, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d8 11,
6 for 1d8 11,
7 for 2d6 12,
27 for 1d8 11;
Feats: 45, 18, 5, 36, 22,
44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3, 11;
Desc: "The tiger's body is built in such a way to aid in its hunting
    techniques. Longer hindlimbs than forelimbs are an adaptation for
    jumping, while strong and powerful forelimbs and shoulders aid in
    dragging down large prey. Like all cats, tigers have sharp retractile
    claws. These help this predator to hold onto its prey once the initial
    attack is made.

    Another adaptation to hunting is the tiger's large and powerful jaw,
    which includes relatively flattened canines. The jaw's power makes the
    tiger's bite deadly.

    The stripes on a tiger act in the same way that a fingerprint does on a
    human. Each stripe pattern is unique to that particular individual.";
}

Monster "spectral panther" : 5, 35
{
Image: shadow 'c'; Size: 5;
CR: 5; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 18, Dex 13, Con 16, Int 13, Wis 14, Cha 15;
Attk: 7 for 1d8+6 12,
50 for 1d1 28 (DC 13),
102 for $"leopard";
Stati[124,36,4];
Stati[124,18,8];
Stati[39,42,12];
Stati[39,61,3];
Feats:
((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 27),
22, 18, 32, 36, 44;
Flags: 36, 3, 11, 49;
Desc: "Spectral panthers are mysterious creatures that feed on both the
      fear and the flesh of their prey. Spectral panthers have a Ghost Touch
      ability that allows them to attack incorporeal and corporeal creatures
      normally.";
On Event (19) {
e.isGhostTouch = true;
},
(49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "elven cat" : 5, 2, 81
{
Image: purple 'c'; Size: 2; Mana: 46;
CR: 1; HD: 1; Hit: 1; Def: 16; Mov: 150%; Spd: 120%;
Str 5, Dex 26, Con 12, Int 5, Wis 14, Cha 16;
Attk: 7 for 1d3 12,
6 for 1d2 11,
6 for 1d2 11;
Stati[124,36,10];
Stati[124,22,10];
Stati[124,18,4];
Stati[39,53,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((49 + 1) + 32) + 50) + 38) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 2),
22, 18, 36, 44, 32;
Flags: 36, 3, 50, 52;
Spells: $"detect evil", $"faerie fire", $"protection from evil",
$"cat's grace", $"spook", $"phantasmal force";
Desc: "The much-beloved housepets of ancient elves, elven cats
      resemble normal housecats but are unnaturally sleek and often
      have fur of an odd color, such as silver. They are of limited
      intelligence but great cunning and will, and while they are
      haughty creatures, they are also fierce opponents of evil
      and loyal bond-companions to any master they find worthy of
      their time.";
}

Monster "badger" : 2
{
Image: brown 'a'; Size: 2;
CR: -2; HD: 1; Hit: 1; Def: 12; Mov: 100%; Spd: 100%;
Str 8, Dex 17, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d2 11,
6 for 1d2 11,
7 for 1d3 12;
Stati[39,71,5];
Feats: 13, 32;
Flags: 35, 36, 3, 96, 74;
On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
};
Desc: "The badger is a mammal characterized by short, strong legs;
      elongated feet that are more or less plantigrade (heels touch the
      ground); and straight, strong toes adapted to burrowing. Badgers are
      heavily furred, distinctly marked, and very strong. They live in dens
      and are mostly nocturnal. They have perineal glands, which emit a
      fetid odor. The pelts have considerable value as furs, and the hairs
      are used in the manufacture of shaving and other types of brushes.";
}

Monster "bat" : 3, 2
{
Image: brown 'b'; Size: 2;
CR: -6; HD: 1; Hit: +0; Def: 10; Mov: 150%; Spd: 100%;
Str 1, Dex 15, Con 10, Int 2, Wis 14, Cha 4;
Attk: 7 for 1d1 12;
Stati[124,44,4];
Stati[124,32,4];
Stati[39,13,2];
Feats: (((49 + 1) + 32) + 44), ((49 + 1) + 5),
18, 32, 36, 44;
Flags: 36, 37, 34,
3, 2, 12, 6;
Desc: "During the day, they live in hollow trees, underneath large
      leaves, and beneath the eaves of buildings. They often roost where
      there in considerable light. Every few days, they will move to a new
      roosting site. They roost in small groups containing mixed ages of
      males and females, the size of which range from three to one hundred
      individuals. They often choose the same spot to roost, at certain
      times of the year, for many consecutive years. While hanging from
      their feet in their roosts, they will isolate themselves from their
      neighbors by short distances. While roosting, they remain relatively
      quiet, and do not move very much. They make it a point to not intrude
      on each other's space.";
}

Monster "bison" : 2, 24
{
Image: brown 'q'; Size: 5;
CR: 2; HD: 5; Hit: 3; Def: 14; Mov: 130%; Spd: 90%;
Str 18, Dex 10, Con 16, Int 2, Wis 11, Cha 6;
Attk: 8 for 1d8 11;
Feats: 32;
Flags: 35, 37, 3, 75;
Desc: "Two distinctive features of
    the bisons are the shoulder hump and their huge head. The color of the
    bison is brown, varying slightly from the front and back of the animal.
    The hair is longer in the front than in the rear of the bison. The
    distinction between hair length is more noticeable in males than
    females. The horns of the bison are black, and they curve upward and
    inward, ending in a sharp tip. The legs of the bison are short but
    firm. The hooves are black and are circular in shape.";
}

Monster "black bear" : 2, 24
{
Image: bright black 'a'; Size: 4;
CR: 2; HD: 3; Hit: 3; Def: 12; Mov: 130%; Spd: 80%;
Str 19, Dex 13, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12;
Stati[39,71,5];
Feats: 7, 44, 45;
Flags: 35, 36, 3, 96, 74;
Desc: "Black bears are usually black in color.  They usually have a
    pale muzzle which contrasts with their darker fur and may sometimes
    have a white chest spot. Western populations are usually lighter in
    color, being more often brown, cinnamon, or blonde.  Throughout their
    ranges, black bears consume primarily grasses and forbs in spring, soft
    mast in the form of shrub and tree-borne fruits in summer, and a
    mixture of hard and soft mast in fall. However, the availability of
    different food types varies regionally. Only a small portion of the
    diet of bears consists of animal matter, and then primarily in the form
    of colonial insects and beetles. Most vertebrates are consumed in the
    form of carrion. Black bears are not active predators and feed on
    vertebrates only if the opportunity exists.";
}

Monster "boa constrictor" : 52, 31, 2
{
Image: red 'R'; Size: 4;
CR: 1; HD: 3; Hit: 2; Def: 12; Mov: 50%; Spd: 100%;
Str 17, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d3+1 12,
32 for 1d3+1 13;
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[39,71,5];
Feats:
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
5, 7, 18, 32, 44, 45;
Flags: 3, 34, 36, 30, 74;
Desc: "A large, coiled snake up to ten feet long, the boa
      constrictor is a carnivore that kills its prey by coiling
      around it and then crushing it to death.";
}

Monster "giant constrictor snake" : 52, 31, 2
{
Image: bright red 'R'; Size: 6;
CR: 7; HD: 11; Hit: 8; Def: 14; Mov: 50%; Spd: 150%;
Str 25, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d8 12,
32 for 2d8 13;
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[39,71,5];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
5, 7, 18, 32, 44, 45;
Flags: 3, 34, 36, 30, 74;
Desc: "A large, coiled snake up to twenty feet long, the giant
      constrictor is a carnivore that kills its prey by coiling
      around it and then crushing it to death.";
}

Monster "huge viper" : 52, 31, 2
{
Image: bright green 'R'; Size: 6;
CR: 5; HD: 6; Hit: 6; Def: 15; Mov: 50%; Spd: 100%;
Str 16, Dex 15, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d6+4 12 and 0d0 60 (DC 14);
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[39,71,5];
Stati[124,7,8];
Stati[118,13,+1];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),
5, 7, 18, 44, 32;
Flags: 3, 34, 36, 30;
Poison: $"viper venom";
Desc: "Generally considered a slow moving, somewhat placid animal,
    vipers are not considered aggressive unless provoked or
    hungry. If tampered with it will generally puff up and give an
    extremely loud hiss. It can, however, strike with lightning speed up to
    half its body length, in any direction.";
}

Poison "viper venom" : 1
{
Level: 5;
cval: 1;
sval: 14;
lval: 2;
xval: 52; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>1<7> turn, and requires <11>2<7> saving throws against <11>DC 14<7> 
      to overcome.";
}


Monster "wild boar" : 2, 24
{
Image: red 'a'; Size: 4;
CR: 3; HD: 3; Hit: 6; Def: 16; Mov: 130%; Spd: 150%;
Str 15, Dex 10, Con 17, Int 2, Wis 13, Cha 4;
Attk: 23 for 1d8+3 11;
Stati[39,71,12];
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
32, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 35, 36, 3, 15,
11, 74, 75;
Desc: "The boar is thought
    to represent the primitive condition of ungulates in that they have a
    comparatively simple digestive system. Smell is by far the most
    advanced of the pig's senses. A large round disk of cartilage is
    connected to muscle that gives the snout extra flexibility. The boar
    also has an advanced sense of taste. They are quick to identify unknown
    objects with their sense of taste. It is believed that boars lack
    good eyesight. The eyes are positioned on the sides of the head,
    restricting their forward vision. The boar has varying ear shapes,
    ranging from small and erect to low-flapping.";
On Event 163 {

if (EActor->HasEffStati(71,$"dire"))
e.nBase = "boar";
return 0;
};
}

Monster "arctic boar" : 2, 24
{
Image: white 'a'; Size: 4;
CR: 3; HD: 3; Hit: 6; Def: 16; Mov: 130%; Spd: 150%;
Str 16, Dex 10, Con 17, Int 3, Wis 13, Cha 4;
Attk: 23 for 1d12 12;
Stati[124,5,12];
Stati[39,71,12];
Resists: 0x00000002;
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
32, 5, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 35, 36, 3, 15,
11, 42;
Desc: "The arctic boar is a white, shaggy version of the common wild
    board. It is quite sure-footed on icy terrain.";
}


Monster "brown bear" : 2, 24
{
Image: brown 'a'; Size: 4;
CR: 5; HD: 6; Hit: 6; Def: 12; Mov: 130%; Spd: 110%;
Str 27, Dex 13, Con 19, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d8 11,
6 for 1d8 11,
7 for 2d8 12;
Stati[39,71,5];
Feats: 7, 44, 45;
Flags: 35, 36, 3, 96;
}

Monster "canis dirus" : 2, 6
{
Image: brown 'd'; Size: 4;
CR: 2; HD: 3; Hit: +2; Def: 13; Mov: 150%; Spd: 110%;
Str 16, Dex 14, Con 17, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d8 12,
102 for $"wolf";
Stati[39,94,12];
Stati[39,71,6];
Flags: 36, 35, 3, 75, 55, 11;
Stati[118,13,+1];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
18, 32, 36, 44, 48;
Desc: "This predator was a slightly larger version of the
    common wolf, with a length of 5 feet and a weight
    of 110 lbs. The canis dirus is the largest member of
    its species known to have existed. It had a heavier
    build than a common wolf, with shorter but sturdier
    legs and a larger head. It was quite capable of
    crushing bones with its large, powerful teeth.
    However, it had a smaller brain and was not as
    intelligent as its lesser cousins. Neither could it run
    as fast due to its shorter legs.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}


Monster "crocodile" : 51, 2
{
Image: blue 'R'; Size: 4;
CR: 3; HD: 3; Hit: 6; Def: 14; Mov: 50%; Spd: 110%;
Str 19, Dex 12, Con 17, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d8+6 12;
Stati[124,18,14];
Stati[39,42,6];
Feats: 45, 18, 32, 44, ((49 + 1) + 5),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3, 30, 55, 73;
Desc: "Crocodiles are aggressive predators 11 to 12 feet long. They lie
    mostly submerged in rivers or marshes, with only their eyes and
    nostrils showing, waiting for prey to come within reach.";
}

Monster "giant crocodile" : 51, 2
{
Image: bright blue 'R'; Size: 6;
CR: 9; HD: 7; Hit: 11; Def: 17; Mov: 50%; Spd: 135%;
Str 27, Dex 12, Con 19, Int 1, Wis 12, Cha 2;
Attk: 7 for 2d8+12 12,
111 for 0d0 93,
37 for 2d8 3;
Stati[39,42,6];
Feats: 45, 18, 32, 44, ((49 + 1) + 5),
(((((49 + 1) + 32) + 50) + 38) + 2), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3, 30, 55, 73;
Desc: "These huge creatures usually live in salt water and can be more
    than 20 feet long.  Giant crocodiles fight and behave like their
    smaller cousins.";
}

Monster "eagle" : 4, 2
{
Image: yellow 'b'; Size: 3;
CR: -4; HD: 1; Hit: 1; Def: 11; Mov: 200%; Spd: 120%;
Str 10, Dex 15, Con 12, Int 2, Wis 14, Cha 4;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 12;
Feats: ((49 + 1) + 2), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 44, 32;
Flags: 35, 36, 3, 74,
12, 11; Desc: "The eagle tends to live in forests, where it will build
    a huge, conspicuous nest in an isolated tall tree. Old forests, and the
    forests in mountains, hills, and along rivers are all common habitats.
    It has, however, also been known to live in steppes, open landscapes,
    agricultural areas, and even semideserts. Eagles hunt in open
    fields or wetlands. During migration, a variety of habitats are used,
    though they seem to prefer to winter in wetlands.\n
    They have a pale golden crown and nape, and a grey base that extends to
    the tail. They also have very apparent white braces on their
    scapulars. Juveniles are paler and more variegated than the adults.
    Both the
    juveniles and adults have noticeably protruding head and long,
    parallel-edged wings. They have strong legs and
    feet. Their feet include long, curved talons that they use to seize,
    kill and carry their prey. They also have large eyes that are located
    slightly to the side of the head. These eyes provide them with
    extremely keen eyesight, allowing them to spot prey from high in the
    air.";
}

Monster "giant owl" : 4, 35, 81
{
Image: brown 'b'; Size: 5;
CR: 4; HD: 4; Hit: +4; Def: 13; Mov: 230%; Spd: 120%;
Str 18, Dex 17, Con 12, Int 10, Wis 14, Cha 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[124,32,8];
Stati[124,36,8];
Stati[124,44,4];
Stati[39,42,30];
Feats: 32, 44, 36,
((49 + 1) + 5);
Flags: 35, 36, 3, 12, 11, 74,
8, 50;
Desc: "Giant owls are nocturnal birds of prey, feared for their ability
    to hunt and attack in near silence. They are intelligent, and though
    naturally suspicious, sometimes associate with good creatures. A
    typical giant owl stands about 9 feet tall, has a wingspan of up to 20
    feet, and resembles its smaller cousins in nearly every way except
    size.  Giant owls speak Common and Sylvan. A giant owl attacks
    by gliding silently just a few feet above its prey and plunging to
    strike when directly overhead. A giant owl can see five times as
    far as a human can, even in darkness.";
}

Monster "chilling eel" : 48, 30
{
Image: skyblue 'w'; Size: 4;
CR: -4; HD: 1; Hit: +0; Def: +10; Mov: 75%; Spd: 100%;
Str 7, Dex 11, Con 11, Int 2, Wis 12, Cha 4;
Attk: 7 for 1d3 12 and 1d6 2;
Stati[124,18,8];
Stati[124,45,4];
Stati[39,57,1];
Stati[39,13,6];
Flags: 36, 35, 2, 3, 31, 6,
55, 38, 42;
Immune: 0x00000002;
Spells: $"ice dagger";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45,
32, 44, 18;
Desc: "This is a long, slender outsider resembling an eel. It normally
   dwells in shallow, freshwater lakes and rivers. The chilling eel hunts
   and freezes small prey. It can navigate murky waters, using
   a sonar-like sense from its body to discern its surroundings.";
}

Monster "electric eel" : 2, 30
{
Image: blue 'w'; Size: 4;
CR: -6; HD: 1; Hit: +0; Def: +10; Mov: 75%; Spd: 100%;
Str 7, Dex 11, Con 11, Int 2, Wis 12, Cha 4;
Attk: 7 for 1d3 12;
Stati[124,18,8];
Stati[39,57,1];
Stati[39,13,3];
Flags: 36, 35, 2, 3, 31, 6,
55, 45;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
32, 44, 18;
Spells: $"Stunning Jolt";
Desc: "This is a long, slender fish resembling an eel. It
normally dwells in shallow, freshwater lakes and
rivers. The electric eel hunts small prey, stunning
them with a powerful jolt of electricity. It can
navigate murky waters, using smaller electric
emissions from its body to sense its surroundings.";
}

53 Spell "Stunning Jolt" : 1
{ 0x00000010; Base: 95; Cost: 1; Level: 1;
Purpose: 0x00001 (0); cval: 11;
Flags: 34, 75;
xval: 4; pval: 1d6;
sval: 1 partial; aval: 11; lval: 1;
On Event 155 {

if (EVictim->onPlane() != EActor->onPlane())
return -1;

if (EVictim->HasMFlag(10))
return -1;

if (EMap == NULL)
return -1;
else if (!(EMap->TerrainAt(EVictim->x,EVictim->y)->TerrainHasFlag(7)))
return -1;
return 0;
};
}
and 3
{ xval: 5; sval: 1; aval: 11; lval: 1; Flags: 34;
cval: 11;
Desc: "Delivers an electrical shock to all creatures in
the water within one square of the victim. This attack deals 1d6 points
of electric damage and stuns the victims
(Reflex save for half damage and no stun)."; }

Monster "fox" : 2, 79
{
Image: red 'a'; Size: 2;
CR: -4; HD: 1; Hit: 0; Def: 10; Mov: 175%; Spd: 125%;
Str 6, Dex 19, Con 12, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 12;
Stati[39,71,7];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34), 13, 32;
Flags: 35, 36, 3, 74, 75;
Desc: "Foxes are solitary animals and do not form packs like
    wolves. Individual adults have home ranges that vary in size depending
    on the quality of the habitat. 
    During some parts of the year adjacent
    ranges may overlap somewhat, but parts may be regularly defended. In
    other words, Foxes are at least partly territorial. Ranges are
    occupied by an adult male and one or two adult females with their
    associated young. Individuals and family groups have main earthen dens
    and often other emergency burrows in the home range. Dens of other
    animals, such as rabbits or marmots, are often taken over by foxes.
    Larger dens may be dug and used during the winter and during birth and
    rearing of the young. The same den is often used over a number of
    generations. Pathways throughout the home range connect the main den
    with other resting sites, favored hunting grounds and food storage
    areas. Foxes are terrestrial and either nocturnal or crepuscular.
    In the autumn following birth, the pups of the litter will disperse to
    their own territories.  Animals remain in the same home range for
    life.";
}

Monster "giant deer" : 24, 2
{
Image: white 'q'; Size: 5;
CR: 5; HD: 5; Hit: 3; Def: 15; Mov: 200%; Spd: 125%;
Str 24, Dex 13, Con 19, Int 2, Wis 12, Cha 10;
Attk: 23 for 2d6+4 12;
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2),
32, 44;
Flags: 35, 37, 3, 75, 74, 11;
Desc: "The giant deer stood 6 ft. at the shoulders and possessed a massive
rack of antlers that spanned over 9 ft. Megaloceros were browsing animals
inhabiting woodland areas, with long legs that were ideal for running long
distances quickly. While the huge antlers undoubtedly presented an
intimidating threat to any predators, they evolved primarily for the
purpose of gender display. The great weight of the horns was a burden for
the megaloceros, and it required a strong, healthy frame to raise the head
after taking a drink.";
}

Monster "giant rat" : 25, 2
{
Image: brown 'r'; Size: 2;
CR: -6; HD: 1; Hit:1; Def:14; Mov:90; Speed: 40%;
Str 4, Dex 12, Con 12, Int 3, Wis 8, Cha 3;
Attk:7 for 1d2 12;
Stati[39,53,6];
Flags: 30;
Feats: 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Flags: 36, 34, 3;
Desc: "Wharf rats the size of badgers, possessing a foul temperment
      to match, these creatures pose little real danger to an experienced
      adventurer, but in numbers can take down less skilled humanoid
      prey.";
}

Monster "glyptodon" : 2, 24, 79
{
Image: yellow 'a'; Size: 5;
CR: 5; HD: 6; Hit: +4; Def: +10; Arm: 8; Mov: 75%; Spd: 120%;
Str 21, Dex 9, Con 15, Int 2, Wis 12, Cha 6;
Attk: 24 for 1d8 11;
Flags: 37, 35, 3, 73;
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
32, 44;
Desc: "These large herbivores are related to the armadillo,
although their rigid, bony carapace is a good deal
more solid. Some species can be as large as a rhino,
growing up to 13 ft. in length and standing 5 ft. at
the peak of their turtle-like shell of bony plates.
Rings or solid sheaths of bone encase the deep,
heavily boned head, the upper limb segments, and
the short tail. The four short legs are sturdy, with
hoofed claws that are built for digging for roots.
As its movement is slow and clumsy, the
glyptodont relies primarily on its heavy shell for
protection. The glyptodont consumes grass-like
plants, particularly in wetland areas.";
}

Monster "jackal" : 6, 2
{
Image: bright blue 'd'; Size: 4;
CR: 1; HD: 2; Hit: 2; Def: 15; Mov: 200%; Spd: 150%;
Str 12, Dex 15, Con 12, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d6 12
and 0d0 67 (DC 17);
Stati[39,71,3];
Feats: 32, 36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 35, 36, 3, 11, 72;
Desc: "Jackals are very vocal creatures. Yipping calls are made when
    the family gathers and are specific to individual families. Non-members
    do not recognize, or respond to the calls of other families.
    Additionally, when threatened, these jackals make loud screaming
    vocalizations. When seriously wounded, the vocalizations change from
    screams to low croaks.";
}



Monster "monitor lizard" : 51, 2
{
Image: green 'R'; Size: 4;
CR: 1; HD: 3; Hit: 2; Def: 10; Mov: 80%; Spd: 80%;
Str 17, Dex 15, Con 17, Int 2, Wis 12, Cha 2;
Attk: 7 for 2d4 12;
Feats: 7, 18, 32, 36, 45;
Flags: 35, 36, 3, 30;
Desc: "Monitors are robust, diurnal lizards with long, non-autotomous
    tails and elongate necks. They have nine cervical vertebrae, 
    while all other lizards have
    eight or fewer. They also have long forked tongues that are used for
    chemoreception, reminiscent of but not identical to snakes' tongues.
    Monitors range in length and weight. 
    The feeding biology of monitors is also diverse, ranging from
    mollusks and fruit, to 
    sit-and-wait predators of large mammals such
    as deer and buffalo. Large monitors may also eat carrion. 
    Monitors occupy a wide range of
    habitats, and different species of terrestrial monitors can be surface
    dwelling, burrowing, arboreal, or saxicolous. Monitors can also be
    primarily aquatic or marine, though like all reptiles they must lay
    their eggs on land.";
}

Monster "plague rat" : 25, 2
{
Image: red 'r'; Size: 2;
CR: -6; HD: 1; Hit:1; Def:14; Mov:90; Speed: 40%;
Str 4, Dex 12, Con 12, Int 3, Wis 8, Cha 3;
Attk:7 for 1d2 12
and 0d0 27 (DC 17),
102 for $"giant rat";
Stati[39,53,6];
Disease: $"filth fever";
Flags: 30;
Feats: 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Flags: 36, 34, 3;
On Event (27+1000) {
if (EActor->mID == $"plague rat")
if (e.DType == 27 && e.isHit)
EActor->IdentifyMon();
};
Desc: "This rat carries a dreaded, infecious disease in its blood,
      but is otherwise identical to any other large rat.";
}

Monster "rhinoceros" : 24, 2
{
Image: grey 'q'; Size: 5; Arm: 9;
CR: 6; HD: 8; Hit: 4; Def: 10; Mov: 140%; Spd: 80%;
Str 26, Dex 10, Con 21, Int 2, Wis 13, Cha 2;
Attk: 23 for 2d6 11;
Feats: 32, ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2);
Flags: 35, 37, 3,
11, 15;
Desc: "The rhinoceros is infamous for its bad temper and 
      willingness to charge intruders.";
}


Monster "bull shark" : 2
{
Image: white 'a'; Size: 5;
CR: 3; HD: 7; Hit: 7; Def: 14; Mov: 200%; Spd: 150%;
Str 17, Dex 15, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d8+4 12;
Stati[39,71,18];
Feats: 32, 44, 45;
Flags: 35, 36, 3, 11,
2, 31, 55;
Desc: "The Bull Shark can be recognized by its unique body shape,
      which is much wider in comparison to its length than other sharks,
      and its snout, which is wider than it is long. These features give
      the Bull Shark an almost stout appearance. The shark is gray on the
      top half of its body and off white underneath. Several individuals
      have been found with pale stripes on the sides of their bodies. The
      Bull Shark is a solitary species that hunts by itself.";
}

Monster "huge shark" : 2
{
Image: white 'a'; Size: 6;
CR: 6; HD: 10; Hit: 8; Def: 14; Mov: 200%; Spd: 150%;
Str 21, Dex 15, Con 15, Int 1, Wis 12, Cha 2;
Attk: 7 for 2d6 12;
Stati[39,71,18];
Feats: 32, 44, 45;
Flags: 35, 36, 3, 11,
2, 31, 55;
Desc: "A voracious and efficient predator. Its prey includes a wide
    variey of bony fishes, including salmon, hake, halibut, mackeral, and
    tunas; other sharks; sea turtles; seabirds; and marine mammals, such as
    seals, sea lions, sea otters, and porpoises.  It has a well-developed
    sense of smell.  Many believe that these sharks attack slow-moving
    prey, such as juveniles or those which are injured, by coming up on
    them from behind or below, taking one bite, and then waiting for the
    animal to weaken from the loss of blood before moving in for the
    kill.";
}

Monster "giant squid" : 2
{
Image: white 't'; Size: 6;
CR: 9; HD: 12; Hit: 9; Def: 10; Mov: 300%; Spd: 160%;
Arm: 6;
Str 26, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
7 for 2d8 12;
Stati[39,13,6];
Feats:
32, 44, 45,
((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Spells: $"ink cloud";
Flags: 35, 36, 3,
2, 31, 55, 38;
Desc: "These voracious creatures can have bodies more than 20 feet long and attack almost anything they meet.";
}

Monster "wolf" : 6, 2
{
Image: cyan 'd'; Size: 4;
CR: 0; HD: 2; Hit: 2; Def: 13; Mov: 175%; Spd: 140%;
Str 13, Dex 15, Con 15, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d6 12
and 0d0 67 (DC 17);
Stati[39,71,3];
Feats: 32, 36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 35, 36, 3, 11, 74;
Desc: "Wolves are highly social, pack-living animals. Each pack
    comprises two to thirty-six individuals, depending upon habitat and
    abundance of prey. Most packs are made up of 5 to 9 individuals. Packs
    are typically composed of an alpha pair and their offspring, including
    young of previous years. Unrelated immigrants may also become members
    of packs. 

    There is a strong dominance hierarchy within each pack. The pack
    leader, usually the alpha male, is dominant over all other individuals.
    The next dominant individual is the alpha female, who is subordinate
    only to the alpha male. In the event that the alpha male becomes
    injured or is otherwise unable to maintain his dominance, the beta male
    will take his place in the hierarchy. Alpha males typically leave the
    pack if this occurs, but this is not always the case. Rank within the
    pack hierarchy determines which animals mate and and which eat first.
    Rank is demonstrated by postural cues and facial expressions, such as
    crouching, chin touching, and rolling over to show the stomach.";
}

Monster "wolverine" : 2
{
Image: bright brown 'a'; Size: 4;
CR: 2; HD: 3; Hit: 4; Def: 12; Mov: 100%; Spd: 110%;
Str 14, Dex 15, Con 19, Int 2, Wis 12, Cha 10;
Attk: 6 for 1d4+2 11,
6 for 1d4+2 11,
7 for 1d6+1 12;
Stati[39,94,12];
Stati[39,71,5];
Feats: 7, 32, 44, ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
45;
Flags: 35, 36, 3, 92, 96;
Desc: "Wolverines are one of the largest mustelids. They have
    brownish-black hair with strips of light brown along their sides. Their
    fur is long and dense and does not retain much water. This makes it
    very resistant to frost in the cold environment wolverines live in.
    They have large claws and pads on their feet that help them move over
    deep snow. Wolverines are shaped vaguely like a large marten and have a
    heavy build with a large head, small ears, a short tail, and very
    large, powerful limbs. Wolverines are very strong for their size and
    have been known to drive bears, cougars, and packs of wolves from their
    kills. They are generally known as the strongest mammal for their
    size.";
On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
};
}



Monster "deinonychus" : 51
{
Image: bright green 'R'; Size: 5;
CR: 5; HD: 4; Hit: 6; Def: 15; Mov: 200%; Spd: 120%;
Str 19, Dex 15, Con 19, Int 2, Wis 12, Cha 10;
Attk:
6 for 1d3+2 11,
6 for 1d3+2 11,
27 for 2d6+4 11,
7 for 2d4+2 12;
Stati[124,18,8];
Stati[124,22,8];
Stati[124,32,8];
Stati[124,44,8];
Stati[124,48,8];
Stati[39,94,15];
Stati[39,71,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19),
18, 22, 32, 44, 48;
Flags: 35, 36, 55;
Desc: "A deinonychus is bright green along its back and flanks, with a
    much lighter shade of the same color on its underside. The body has
    darker spots or stripes. Its tail extends straight out behind itself,
    held aloft by an intricate structure of bony supports, thus allowing
    its weight to be carried entirely by the back legs. It weighs about 600
    pounds.  A deinonychus uses a combination of speed, grasping forearms,
    large teeth, and hind legs with ripping talons. It hunts by running at
    prey, leaping, and ripping with its rear talons as it claws and bites.
    A deinonychus has a relatively large brain for a dinosaur, and its pack
    hunts with cunning tactics.";
}

Monster "megaraptor" : 51
{
Image: bright green 'R'; Size: 5;
CR: 8; HD: 8; Hit: 9; Def: 16; Mov: 200%; Spd: 140%;
Str 21, Dex 15, Con 21, Int 2, Wis 15, Cha 10;
Attk:
6 for 1d4+2 11,
6 for 1d4+2 11,
27 for 2d8+5 11,
7 for 2d6+2 12;
Stati[124,18,8];
Stati[124,22,8];
Stati[124,32,8];
Stati[124,44,8];
Stati[124,48,8];
Stati[39,94,18];
Stati[39,71,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
18, 22, 32, 44, 48;
Flags: 35, 36, 55;
Desc: "This creature is a larger version of the deinonychus, standing
    about 12 feet tall with a total length of 24 feet. It has the same
    appearance, habits, and abilities of the smaller version.";
}
#line "mon1.irh" 4572
Monster "winter wolf" : 6
{
Image: bright cyan 'd'; Size: 5;
CR: 6; HD: 7; Hit: 7; Def: 15; Mov: 175%; Spd: 120%;
Str 18, Dex 13, Con 16, Int 9, Wis 13, Cha 10;
Attk: 7 for 1d8 12 and 0d0 67 (DC 16),
42 for 4d6 2 (DC 16);
Stati[39,71,7];
Immune: 0x00000002;
Flags: 36, 11, 35, 3,
11, 42;
Feats: 18, 36, 44, 32, 48,
((49 + 1) + 5), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc: "These primal beings represent the embodyment of winter's
      harshness. They aren't evil, exactly, but they are born predators
      without a shred of mercy mitigating their survival instinct, which
      makes them as starkly dangerous to the goodly peoples as any mindless
      animal -- though intelligent, the winter wolves' values are purely
      bestial in nature. In exchange for protection and a continual supply
      of meat, winter wolves sometimes work as freelance assassins for the
      druidic circles. Winter wolves appear as sleek white wolves the size
      of a Clydesdale.";
}

Monster "worg" : 6
{
Image: red 'd'; Size: 4;
CR: 2; HD: 4; Hit: 3; Def: 10; Mov: 150%; Spd: 120%;
Str 17, Dex 15, Con 15, Int 6, Wis 14, Cha 10;
Attk: 7 for 1d6 12
and 67 (DC 16),
102 for $"wolf";
Stati[39,71,6];
Flags: 36, 11, 49, 53, 3,
2;
Feats: 18, 36, 44, 32, 48,
((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc: "The belief that worgs are an offshoot of wolves is hotly
      contested by rangers and elves, for this grim creatures bear
      none of the nobility of their parent breed. Possessed of a
      malign intelligence, worgs embody cruelty and predation, and
      hunt other sapient beings not for survival or food, but for the
      sheer joy of killing. They are frequently used as mounts by
      goblins and other evil humanoids.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}



Monster "horse" : 24, 2
{
Image: brown 'q'; Size: 5;
CR: 0; HD: 3; Hit: 3; Def: 13; Mov: 175%; Spd: 80%;
Str 15, Dex 13, Con 15, Int 2, Wis 12, Cha 6;
Attk: 2 for 1d6 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11, 75;

On Event 17 {
if (EActor->mID == $"horse")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "Horses have been so strongly bred by humans that there is
      extensive variability in their size and weight. The general body
      pattern is that of long limbs, barrel shaped body, and a long neck
      supporting a large head. Vision and hearing are key senses for these
      animals, as suggested by their large eyes and ears. Coloration is
      also hightly variable due to breeding, and individuals range from
      pure white, tan, brown or black to patches of oranges and browns on
      white. The tail is relatively short but has long hairs coming off it
      that frequently reach the ground. The tail is often used as an 'extra
      hand' to swat insects. There is also long hair along the neck and
      forehead (the mane and forelock).";
}

Monster "warhorse" : 24, 2
{
Image: brown 'q'; Size: 5;
CR: 2; HD: 4; Hit: 3; Def: 15; Mov: 175%; Spd: 100%;
Str 18, Dex 13, Con 17, Int 2, Wis 13, Cha 6;
Attk: 2 for 1d6 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11;
Desc: "A warhorse is a horse that has been trained for battle. It will
    not hesistate to attack on behalf of its rider.";
}

Monster "riding lizard" : 24, 2, 51
{
Image: grey 'R'; Size: 5; Arm: 4;
CR: 0; HD: 4; Hit: 2; Def: 13; Mov: 150%; Spd: 80%;
Str 17, Dex 13, Con 15, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 13;
Stati[39,42,6];
Stati[123,20,+4];
Stati[124,7,+6];
Feats: 32, 44, 22, 7;
Flags: 35, 37, 3,
11;

On Event 17 {
if (EActor->mID == $"riding lizard")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "While there are no animals similar to horses native to
        the Underdark, drow, illithids and svirfneblin have adapted
        and bred several species of lizards to fill the role of
        mounts in their societies. Since horses don't react well to
        the strange scent of lizardfolk, they often make use of these
        lizards as well.\n
        __Riding lizards look much like geckos the size of horses.
        They are placid creatures and feed on various herbs and fungi,
        and have mottled orange or grey skin. They possess infravision,
        allowing them to navigate in the darkness, and the adhesive
        pads on their feet make them outstanding climbers.";
}


Monster "war lizard" : 24, 2, 51
{
Image: grey 'R'; Size: 5; Arm: 7;
CR: 2; HD: 5; Hit: 2; Def: 13; Mov: 150%; Spd: 100%;
Str 19, Dex 13, Con 17, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 13,
6 for 1d2 11,
6 for 1d2 11;
Stati[39,42,6];
Stati[123,20,+4];
Stati[124,7,+6];
Feats: 32, 44, 22, 7;
Flags: 35, 37, 3,
11;
Desc: "While there are no animals similar to horses native to
        the Underdark, drow, illithids and svirfneblin have adapted
        and bred several species of lizards to fill the role of
        mounts in their societies. Since horses don't react well to
        the strange scent of lizardfolk, they often make use of these
        lizards as well.\n
        __Riding lizards look much like geckos the size of horses.
        They are placid creatures and feed on various herbs and fungi,
        and have mottled orange or grey skin. They possess infravision,
        allowing them to navigate in the darkness, and the adhesive
        pads on their feet make them outstanding climbers.\n
        __This particular breed of riding lizard has been bred and 
        trained for battle, and will fight at its master's command.";
}

Monster "psionic riding lizard" : 24, 2, 51
{
Image: grey 'R'; Size: 5; Arm: 7;
CR: 2; HD: 5; Hit: 2; Def: 13; Mov: 150%; Spd: 100%;
Str 19, Dex 13, Con 17, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 13,
6 for 1d2 11,
6 for 1d2 11;
Stati[39,42,6];
Stati[123,20,+4];
Stati[124,7,+6];
Feats: 32, 44, 22, 7;
Flags: 35, 37, 3,
11;
Spells: $"cell adjustment", $"brain lock", $"inertial barrier";
Desc: "While there are no animals similar to horses native to
      the Underdark, drow, illithids and svirfneblin have adapted
      and bred several species of lizards to fill the role of
      mounts in their societies. Since horses don't react well to
      the strange scent of lizardfolk, they often make use of these
      lizards as well.\n
      __Riding lizards look much like geckos the size of horses.
      They are placid creatures and feed on various herbs and fungi,
      and have mottled orange or grey skin. They possess infravision,
      allowing them to navigate in the darkness, and the adhesive
      pads on their feet make them outstanding climbers.\n
      __This particular breed of riding lizard has been fed a specific
      diet of id moss and bred over several generations to nurture the
      unusual powers of the mind.";
}


Monster "pony" : 24, 2
{
Image: brown 'q'; Size: 4;
CR: -2; HD: 2; Hit: 2; Def: 13; Mov: 150%; Spd: 80%;
Str 13, Dex 13, Con 12, Int 2, Wis 11, Cha 4;
Attk: 2 for 1d4 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11, 75;

On Event 17 {
if (EActor->mID == $"pony")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "Horses have been so strongly bred by humans that there is
      extensive variability in their size and weight. The general body
      pattern is that of long limbs, barrel shaped body, and a long neck
      supporting a large head. Vision and hearing are key senses for these
      animals, as suggested by their large eyes and ears. Coloration is
      also hightly variable due to breeding, and individuals range from
      pure white, tan, brown or black to patches of oranges and browns on
      white. The tail is relatively short but has long hairs coming off it
      that frequently reach the ground. The tail is often used as an 'extra
      hand' to swat insects. There is also long hair along the neck and
      forehead (the mane and forelock).";
}

Monster "warpony" : 24, 2
{
Image: brown 'q'; Size: 4;
CR: 0; HD: 2; Hit: 2; Def: 13; Mov: 150%; Spd: 100%;
Str 15, Dex 13, Con 14, Int 2, Wis 11, Cha 4;
Attk: 2 for 1d4 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11;
Desc: "A warpony is a pony that has been trained for battle. It will
    not hesistate to attack on behalf of its rider.";
}

Monster "riding dog" : 24, 2
{
Image: grey 'd'; Size: 3;
CR: -2; HD: 2; Hit: 2; Def: 12; Mov: 175%; Spd: 80%;
Str 13, Dex 13, Con 12, Int 2, Wis 11, Cha 4;
Attk: 7 for 1d6 12;
Stati[39,71,3];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44, 22;
Flags: 35, 36, 3,
11, 75;

On Event 17 {
if (EActor->mID == $"riding dog")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "Gnomes frequently train dogs as riding animals, using
        them both as beasts of burden and war animals. The mix of
        personalities is ideal: both gnomes and dogs are friendly,
        social, loyal, playful and possessed of keen senses and
        minds.";
}

Monster "pygmy war rhino" : 24, 2
{
Image: grey 'q'; Size: 3; Arm: 9;
CR: 3; HD: 4; Hit: 2; Def: 10; Mov: 140%; Spd: 80%;
Str 19, Dex 10, Con 18, Int 2, Wis 13, Cha 2;
Attk: 23 for 2d6 11;
Feats: 32, ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2);
Flags: 35, 37, 3,
11, 15;
Desc: "By combining thaumaturgy with an exceptional skill
      at animal husbandry, gnomes have succeeded in breeding
      very small pygmy rhinoceroi as riding beasts. The creatures'
      irascible temper makes them an awkward mount, but many
      warriors in gnome society nonetheless prize them for
      the sheer machismo factor.";
}

Monster "mastiff" : 6, 2
{
Image: dark gray 'd'; Size: 3;
CR: -2; HD: 2; Hit: 2; Def: 12; Mov: 175%; Spd: 150%;
Str 15, Dex 13, Con 14, Int 2, Wis 11, Cha 4;
Attk: 7 for 1d6 12;
Stati[39,71,3];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44, 22;
Flags: 3, 34, 36, 11, 75, 35;
Desc: "This vicious hunting dog may once have been the companion
          of a ranger or druid, but now it seems to have gone feral and
          recognizes no master other then its own hunger and survival
          instinct.";
}

Monster "giant badger" : 2
{
Image: brown 'a'; Size: 2;
CR: 3; HD: 5; Hit: 5; Def: 15; Mov: 150%; Spd: 125%;
Str 16, Dex 17, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[39,71,5];
Feats: 13, 32;
Flags: 35, 36, 3, 96, 74;
On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
};
Desc: "The badger is a mammal characterized by short, strong legs;
      elongated feet that are more or less plantigrade (heels touch the
      ground); and straight, strong toes adapted to burrowing. Badgers are
      heavily furred, distinctly marked, and very strong. They live in dens
      and are mostly nocturnal. They have perineal glands, which emit a
      fetid odor. The pelts have considerable value as furs, and the hairs
      are used in the manufacture of shaving and other types of brushes.";
}


Monster "elephant" : 24, 2
{
Image: white 'q'; Size: 6;
CR: 9; HD: 11; Hit: 8; Def: 12; Mov: 150%; Spd: 150%;
Arm: 5;
Str 30, Dex 10, Con 21, Int 2, Wis 13, Cha 7;
Attk: 19 for 2d6 13,
20 for 2d6 13,
20 for 2d6 13,
23 for 2d8+5 12;
Stati[39,71,6];
Feats: 32, 44,
((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((49 + 1) + 32) + 50) + 38) + 26);
Flags: 35, 37, 3,
11;
Desc: "Massive herbivores of tropical lands, elephants are
    unpredictable creatures but nevertheless are sometimes used as mounts
    or beasts of burden.";
}



Monster "plague of bats" : 70, 3, 2
{
Image: brown 'S'; Size: 1;
CR: 3; HD: 3; Hit: +2; Def: 10; Mov: 150%; Spd: 100%;
Str 3, Dex 15, Con 10, Int 2, Wis 14, Cha 4;
Attk: 50 for 1d6 0,
50 for 1d6 59,
50 for 1d1 90;
Stati[39,13,2];
Stati[124,32,4];
Stati[124,44,4];
Feats: ((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
32, 44;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
10,
34, 3, 2, 12, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,11,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of bats");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 11)";
Desc: "A bat swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}

Monster "plague of centipedes" : 70, 31
{
Image: blue 'S'; Size: 1;
CR: 5; HD: 9; Hit: +6; Def: 10; Mov: 75%; Spd: 100%;
Str 1, Dex 19, Con 8, Wis 10, Cha 2;
Attk: 50 for 2d6 0,
50 for 0d0 60 (DC 13),
50 for 1d1 90;
Stati[39,105,1];
Stati[39,42,6];
Stati[39,95,3];
Stati[124,7,8];
Stati[124,44,4];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44;
Immune: 0x00100000;
Flags: 105, 21, 88, 36, 37, 23,
33, 10,
58,
26, 3, 2, 55;
Poison: $"monsterous centipede venom";
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,13,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of centipedes");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 13)";
Desc: "A centipede swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}

Monster "plague of locusts" : 70, 31
{
Image: bright purple 'S'; Size: 1;
CR: 4; HD: 6; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Str 1, Dex 19, Con 8, Wis 10, Cha 2;
Attk: 50 for 2d6 0,
50 for 1d1 90;
Stati[39,105,1];
Stati[39,42,6];
Stati[124,44,4];
Stati[124,44,4];
Feats: 32, 44;
Immune: 0x00100000;
Flags: 105, 21, 88, 36, 37, 23,
33, 12, 10,
58,
26, 3, 2, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,12,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of locusts");
return 1;
}
return 0;
} ,
210 "to nauseate enemies (DC 12)";
Desc: "A locust swarm is a cloud of thousands of winged vermin that
  devours any organic material in its path.";
}

Monster "plague of rats" : 70, 25, 2
{
Image: bright red 'S'; Size: 1;
CR: 3; HD: 4; Hit: +3; Def: 10; Mov: 50%; Spd: 100%;
Str 2, Dex 15, Con 10, Int 2, Wis 12, Cha 2;
Attk: 50 for 1d6 0,
50 for 0d0 27 (DC 12),
50 for 1d1 90;
Stati[39,42,6];
Stati[39,71,6];
Stati[124,18,4];
Stati[124,36,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[124,45,8];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 21),
5, 7, 18, 32, 44, 45;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
33, 10, 30,
58,
34, 3, 2, 55;
Disease: $"filth fever";
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,12,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of rats");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 12)";
Desc: "A rat swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}

Monster "plague of monkeys" : 70, 2, 59
{
Image: brown 'S'; Size: 1;
CR: 2; HD: 4; Hit: +3; Def: 10; Mov: 100%; Spd: 100%;
Str 5, Dex 17, Con 10, Int 2, Wis 12, Cha 5;
Attk: 50 for 1d6 0,
50 for 0d0 36 (DC 20),
50 for 1d1 90;
Stati[39,42,6];
Feats: (((49 + 1) + 32) + 44),
5, 7, 18;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
10, 58, 74,
34, 3, 2, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,12,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of monkeys");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 12)";
Desc: "A monkeys swarm seeks to surround and attack any warm-blooded prey
  it encounters.";
}

Monster "plague of spiders" : 70, 26, 31
{
Image: shadow 'S'; Size: 1;
CR: 1; HD: 2; Hit: +1; Def: 10; Mov: 75%; Spd: 100%;
Str 1, Dex 17, Con 10, Wis 10, Cha 2;
Attk: 50 for 1d6 0,
50 for 0d0 60 (DC 11),
50 for 1d1 90;
Stati[39,42,6];
Stati[39,95,3];
Stati[124,18,4];
Stati[124,44,4];
Stati[124,45,8];
Feats: ((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
5, 7, 18, 32, 44, 45;
Immune: 0x00100000, 0x00002000;
Flags: 105, 21, 88, 36, 37, 23,
58,
33, 10, 3, 2, 55;
Poison: $"spider venom";
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,11,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of spiders");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 11)";
Desc: "A spider swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}


Monster "plague of stirges" : 70, 3, 2
{
Image: bright brown 'S'; Size: 1;
CR: 4; HD: 6; Hit: +4; Def: 10; Mov: 130%; Spd: 100%;
Str 3, Dex 19, Con 10, Int 1, Wis 12, Cha 6;
Attk: 50 for 1d6 0,
50 for 1d4 52,
50 for 1d1 90;
Stati[39,42,6];
Stati[124,32,4];
Stati[124,44,4];
Feats: (((49 + 1) + 32) + 44),
32, 44;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
10, 28, 58,
26, 34, 3, 2, 12, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,11,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of bats");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 11)";
Desc: "A stirge swarm seeks to surround and attack any warm-blooded prey it
  encounters. Lake a solitary ghoulstirge, the swarm has a mosquiteo-like
  ability to drain the blood of its victims.";
}

Template "swarm" : 0x0080 for 0
{ Image: bright green 'S';
CR: +6 (Max 7);
Size: =1;
HD: +100%;
MType: 70;
Flags: -2, -3,
105, 55, 21, 88, 36, 23,
10, 58, 2, 3;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Feats: ((49 + 1) + 5);
Attk: 50 for 1d1 91;
Desc: "A swarm of tiny creatures can be a formidable foe. All
    of its normal physical attacks now work as proximity attacks.";
On Event (41+500) {
if (e.DType == 91) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,10+EActor->ChallengeRating(),0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,$"swarm");
return 1;
}
return 0;
} ,
211 "to nauseate";
On Event 155 {
if ((EActor->GetAttr(25) <= 2) && !EActor->HasMFlag(105) && !EActor->isMType(7) && !EActor->isMType(29))
return 1;
else
return -1;
} ;
}



Template "corrupted" : 0x0001 for 2
{ CR: +3; Wis +6 (min 14), Int +6 (min 10), Con +2;
Hit: +4; HD: +4;
MType: 58;
Flags: 55, 49, !50;
Feats: (((49 + 1) + 32) + 11), (((49 + 1) + 32) + 26);
Stati[39,82,3];
Stati[39,110,1];
Desc: "Corrupted animals have had their association with nature
      twisted by grey druids or demonic forces. They gain an abberant 
      ability to manipulate natural magics." ;
On Event (37+1000) {
EActor->IdentifyTemp($"corrupted");
return 0;
},
155 {
if (enFreaky() & 10 != 3)
return -1;
return 0;
};

Lists:
* 21
(53 + 1000);
}



Template "Companion;1" : 0x0080 for 2
{
CR: +0; HD: +0; Hit: +0; Arm: +0; Spd: 100% ;
Str +0, Dex +0, Con +0, Int +0, Wis +0, Cha +0;
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;2" : 0x0080 for 2
{
CR: +1; HD: +1; Hit: +1; Arm: +1; Spd: 105% ;
Str +0, Dex +0, Con +0, Int +0, Wis +0, Cha +0;
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;3" : 0x0080 for 2
{
CR: +2; HD: +2; Hit: +2; Arm: +2; Spd: 110% ;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Stati[39,31,1];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;4" : 0x0080 for 2
{
CR: +3; HD: +3; Hit: +3; Arm: +2; Spd: 115% ;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Stati[39,31,2];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;5" : 0x0080 for 2
{
CR: +3; HD: +3; Hit: +3; Arm: +3; Spd: 115% ;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Stati[39,31,3];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;6" : 0x0080 for 2
{
CR: +4; HD: +4; Hit: +4; Arm: +4; Spd: 120% ;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;
Stati[39,31,4];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;7" : 0x0080 for 2
{
CR: +5; HD: +5; Hit: +5; Arm: +4; Spd: 125% ;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;
Stati[39,31,5];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;8" : 0x0080 for 2
{
CR: +5; HD: +5; Hit: +5; Arm: +5; Spd: 125% ;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;
Stati[39,31,6];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;9" : 0x0080 for 2
{
CR: +6; HD: +6; Hit: +6; Arm: +6; Spd: 130% ;
Str +3, Dex +3, Con +3, Int +3, Wis +3, Cha +3;
Stati[39,31,7];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;10" : 0x0080 for 2
{
CR: +7; HD: +7; Hit: +7; Arm: +6; Spd: 135% ;
Str +3, Dex +3, Con +3, Int +3, Wis +3, Cha +3;
Stati[39,31,8];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;11" : 0x0080 for 2
{
CR: +7; HD: +7; Hit: +7; Arm: +7; Spd: 135% ;
Str +3, Dex +3, Con +3, Int +3, Wis +3, Cha +3;
Stati[39,31,9];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;12" : 0x0080 for 2
{
CR: +8; HD: +8; Hit: +8; Arm: +8; Spd: 140% ;
Str +4, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
Stati[39,31,10];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Sacred;1" : 0x0080 for 88
{
MType: 35; CR: +2; HD: +2; Hit: +2; Arm: +4; Spd: 110%;
Str +1, Int +1 (Min 6);
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;2" : 0x0080 for 88
{
MType: 35;
CR: +3; HD: +3; Hit: +3; Arm: +5; Spd: 115%;
Str +1, Int +1 (Min 6);
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;3" : 0x0080 for 88
{
MType: 35;
CR: +3; HD: +3; Hit: +3; Arm: +5; Spd: 115%;
Str +2, Int +2 (Min 7);
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;4" : 0x0080 for 88
{
MType: 35;
CR: +4; HD: +4; Hit: +4; Arm: +6; Spd: 120%;
Str +2, Int +2 (Min 7); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;5" : 0x0080 for 88
{
MType: 35;
CR: +5; HD: +5; Hit: +5; Arm: +7; Spd: 125%;
Str +2, Int +2 (Min 7); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;6" : 0x0080 for 88
{
MType: 35;
CR: +5; HD: +5; Hit: +5; Arm: +7; Spd: 125%;
Str +3, Int +3 (Min 8); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;7" : 0x0080 for 88
{
MType: 35;
CR: +6; HD: +6; Hit: +6; Arm: +8; Spd: 130%;
Str +3, Int +3 (Min 8); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Spells: $"command";
Flags: -2, -4;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6);
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;8" : 0x0080 for 88
{
MType: 35;
CR: +7; HD: +7; Hit: +7; Arm: +9; Spd: 135%;
Str +3, Int +3 (Min 8); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Spells: $"command";
Flags: -2, -4;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6);
Desc: "This animal is the sacred mount of an adventuring paladin.";
}
#line "mon2.irh" 22
Monster "cave orc" : 22, 87
{
Image: brown 'o'; Size: 4; Mana: 5;
CR: 0; HD: 2; Hit: 0; Def: 10; Mov: 100%; Spd: 100%;
Str 14, Dex 10, Con 10, Int 6, Wis 14, Cha 8, Luc 10;
Attk: 1 for 1d3 13;
Stati[39,42,12];
Stati[124,7,4];
Stati[39,71,3];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 18, 36, 32,
44, 7;
Flags: 36, 1, 93, 94, 68,
49, 52, 8, 57;
Gear: 33% $"greataxe" else 50% $"greatsword" else $"longspear",
33% 2d4 $"javelin" else 1d2 $"shotput",
25% $"strip of cured meat";
Desc: "Cave orcs are the most fecund, and most common, of the orc
    subraces.  Adapted to Underdark life, the cave orcs have superior
    infravision, a racial aptitude for climbing and the ability to scale
    even sheer surfaces easily, along with an understanding of swarm
    tactics and an aptitude for underground survival, but they are even
    more craven then the majority of the orcish race, and more
    intellectually stunted.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(69))
h->AddQuality(69);
}
};
}

Monster "hill orc" : 22, 87
{
Image: grey 'o'; Size: 4; Mana: 5;
CR: 0; HD: 3; Hit: +2; Def: 10; Mov: 100%; Spd: 100%;
Str 18, Dex 10, Con 10, Int 8, Wis 14, Cha 8, Luc 10;
Attk: 1 for 1d3 13;
Stati[39,71,3];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 9, 44, 4;
Flags: 36, 1, 93, 94, 71,
49, 52, 57;
Gear: 33% $"greataxe" else 50% $"greatsword" else $"longspear",
33% 2d4 $"javelin" else 1d2 $"shotput",
50% $"plate mail" else
$"banded mail",
25% $"strip of cured meat";
Desc: "Hill orcs live above ground, in hellish, industrialized cities
      carved from harsh granite. Possessing a strict military discipline,
      they are hardier and stronger than cave orcs, and able to withstand
      sunlight, but lack the stealth and affinity for climbing possessed
      by their underdwelling bretheran. Hill orcs are skilled craftsmen
      (by orc standards), and produce most of the weapons used by the orc
      peoples.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(69))
h->AddQuality(69);
}
};
}

Monster "black orc" : 22, 87
{
Image: shadow 'o'; Size: 4; Mana: 20;
CR: 0; HD: 3; Hit: +2; Def: 10; Mov: 100%; Spd: 100%;
Str 18, Dex 10, Con 10, Int 12, Wis 16, Cha 8, Luc 10;
Attk: 1 for 1d3 13;
Stati[39,71,3];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35);
Spells: $"chill blood", $"caustic vitae", $"sanguine touch";
Flags: 36, 1, 93, 94,
49, 52, 57;
Gear: 33% $"greataxe" else 50% $"greatsword" else $"longspear",
33% 2d4 $"javelin" else 1d2 $"shotput",
25% $"strip of cured meat";
Desc: "Black orcs are a subspecies of orcs magically altered by
      Azakram the Black in order to have an inherant magical affinity
      for blood, and the innate ability to manipulate it.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(69))
h->AddQuality(69);
}
};
}

Monster "drow" : 66, 87
{
Image: blue 132; Size: 4; Mana: 10; Depth: 4;
CR: -2; HD: 2; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 8, Dex 14, Con 10, Int 14, Wis 10, Cha 14, Luc 8;
Attk:1 for 1d2 13;
Stati[124,36,2];
Stati[118,18,50];
Stati[39,42,12];
Stati[39,73,1];
Flags: 36, 37, 1, 8,
49, 71;
Spells: $"faerie fire", $"globe of shadow";
Feats: 36, ((49 + 1) + 7);
Gear:
25% $"piece of spider bread",
$"hand crossbow",
4d3 $"hand crossbow dart",
50% $"rapier" else $"short sword";
Desc: "No race, save perhaps the kobolds, is more widely despised then
      the drow. Trecherous, decietful, chaotic, power-hungry and supremely
      skillful, the drow are an offshoot of elves who sought freedom from
      Maeve through pacts with tanari and other profane powers.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(45))
h->GainPermStati(2,NULL,7,0,5,$"elfshot");
else {
if (h->QualityOK(70)) h->AddQuality(70);
if (h->QualityOK(68)) h->AddQuality(68);
}
};
}

Monster "dwarf" : 63, 87
{
Image: red 131; Size: 4; Mana: 10;
CR: -2; HD: 2; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 10, Dex 10, Con 14, Int 10, Wis 10, Cha 8, Luc 10;
Attk:1 for 1d2 13;
Stati[124,35,2];
Stati[124,9,2];
Stati[124,41,2];
Stati[39,42,6];
Stati[39,87,2];
Stati[39,38,1];
Feats: ((49 + 1) + 15);
Flags: 36, 37, 1, 50, 51,
71;
Stati[123,8,2];
Stati[123,9,2];
Stati[123,1,2];
Gear: 33% $"battleaxe"
else 50% $"dwarven waraxe"
else $"warhammer",
25% $"chainmail" else
33% $"plate mail" else
50% $"splint mail" else
$"banded mail",
35% $"craftsman's tools",
50% $"kite shield",
50% $"pickaxe",
25% $"food ration";
Desc: "Stubborn, driven, stoic and devoted -- these are the traits
      the dwarven people are most known for. A warrior race, dwarves
      have fought for millenia against the giants, orcs, aberrations
      and other monsterous threats that plague civilization.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(67))
h->AddQuality(67);
}
};
}

Monster "elf" : 62, 87
{
Image: bright cyan 132; Size: 4; Mana: 15;
CR: 1; HD: 2; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 9, Dex 14, Con 9, Int 12, Wis 10, Cha 14, Luc 10;
Attk:1 for 1d2 13;
Stati[39,53,2];
Stati[39,73,1];
Flags: 36, 37, 1, 50,
52;
Immune: 0x00008000;
Stati[123,5,2];
Stati[123,6,2];
Resists: 0x00000002, 0x00000001;
Gear:
25% $"piece of elven waybread",
50% $"long bow" else $"short bow",
2d6 $"sheaf arrow",
50% $"long sword" else $"rapier";
Desc: "The most secretive of the common races, elves are only very
      rarely seen in human settlements, and their lack of common presence
      lends to the race a mystique of nearly mythical proportions.
      Creatures of pure magic, some have called them, able to hear the
      heartbeat of the world.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->QualityOK(68))
h->AddQuality(68);
};
}

Monster "gnome" : 64, 87
{
Image: pink 133; Size: 3; Mana: 10;
CR: -2; HD: 2; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 9, Dex 10, Con 10, Int 14, Wis 8, Cha 12, Luc 10;
Attk:1 for 1d2 13;
Stati[39,71,2];
Flags: 36, 37, 1, 50;
Spells: $"mirror image";
Feats: 1, 47, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8);
Stati[123,12,2];
Immune: 0x00020000, 0x00002000, 0x01000000;
Gear: 75% $"wand" of random 1 to 4,
50% $"mercurial broadsword"
else random 58,
$"arbalest",
3d6 $"crossbow bolt",
25% $"brass lantern",
25% $"alchemy set",
35% $"mechanical tools",
15% $"craftsman's tools",
25% $"food ration";
Desc: "Gnomes are short, rotund demihumans famous for their
      skill with illusions.";
}

Monster "stoutheart halfling" : 65, 87
{
Image: yellow 133; Size: 3; Mana: 10;
CR: -2; HD: 2; Hit:0; Def:10; Mov: 75%; Speed: 100%;
Str 8, Dex 14, Con 10, Int 10, Wis 14, Cha 14, Luc 14;
Flags: 36, 37, 1, 51, 50;
Attk:
1 for 1d2 13,
102 for $"halfling";
Stati[124,18,2];
Stati[124,46,2];
Stati[39,101,1];
Stati[39,88,1];
Feats: 30, 3, 40, 21, 18,
11,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22);
Stati[30,2,0,$"short sword"];
Stati[30,2,0,$"sling"];
Stati[123,2,+4];
Stati[114,51,+1];
Gear:
50% $"cottonberry loaf",
10% $"short sword" with [1] else
$"short sword",
$"sling",
6d3 $"sling stone";
Desc: "Stoutheart halflings are the strongest-willed of their race, with a
      great devotion to the ideals of family and community. They despise
      corruption in all of its forms, and become adventurers more frequently
      then other halflings in the interest of rooting out and resolving
      something that has shaken their sensibilities. They are famed for
      their resourcefulness and clever planning.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(21)) {
if (h->QualityOK(17)) h->AddQuality(17);
if (h->QualityOK(76)) h->AddQuality(76);
}
}
};
}

Monster "halfling" : 65, 87
{
Image: yellow 133; Size: 3; Mana: 10;
CR: -6; HD: 2; Hit:0; Def:10; Mov: 75%; Speed: 100%;
Str 8, Dex 14, Con 10, Int 10, Wis 10, Cha 14, Luc 18;
Attk:1 for 1d2 13;
Flags: 36, 37, 1, 50;
Stati[39,101,1];
Stati[124,18,2];
Stati[124,46,2];
Stati[39,88,1];
Feats: 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34);
Stati[123,5,+2];
Gear:
50% $"cottonberry loaf",
$"sling",
6d3 $"sling stone";
Desc: "Halflings are cute, clever, endearing, friendly, sociable and in 
      control of approximately a third of the Kinlands' wealth. Opportunistic 
      and ambitious, the hin have carved out a niche for themselves as the 
      dominant demihuman race in the civilized lands.";
}

Monster "human" : 61, 87
{
Image: grey 1; Size: 4; Mana: 10;
CR: -4; HD: 2; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 10, Con 10, Int 10, Wis 10, Cha 10, Luc 10;
Attk: 1 for 1d2 13;
Flags: 36, 37, 1, 68;
Gear: random 58,
25% random 21,
50% random 56,
10% random 56,
25% $"food ration";
Desc: "Humans are the dominant race on Theyra, being hardy,
      adaptable generalists with a racial tendancy towards
      pragmatism and an ambitious, outgoing spirit.";
}

Monster "kobold" : 18, 87
{
Image: green 'k'; Size: 3; Mana: 10; Arm: 2;
CR: -2; HD: 2; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 6, Dex 14, Con 10, Int 14, Wis 10, Cha 8, Luc 10;
Attk: 7 for 1d6 12 damage,
6 for 1d4 11 damage,
6 for 1d4 11 damage;
Stati[124,9,2];
Stati[124,16,4];
Stati[124,35,2];
Stati[124,41,2];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), (((49 + 1) + 32) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
((((49 + 1) + 32) + 50) + 13), 39, 18, 36,
33, 7, 14,
(((49 + 1) + 32) + 9);
Flags: 28, 36, 37, 1, 49,
68, 74, 73, 93, 94,
8, 68;
Immune: 0x00000010;
Gear: 80% $"whip"
else random 58,
75% $"bolas",
30% 1d2 $"bag" of $"tanglefoot bag",
50% $"small glass vial" of random 1 to 3,
25% $"strip of cured meat";
Desc: "These tiny reptillian humanoids have green scales and facial
      features crossed between a man and a dog's. They are infamous for
      their malice, their skill at trapcraft and their love of treachery.";
}

Monster "lizardman" : 51, 67, 87
{
Image: green 'h'; Size: 4; Mana: 10;
CR: 0; HD: 2; Hit: 0; Def: 10; Mov: 100%; Spd: 100%; Arm: 5;
Str 14, Dex 10, Con 14, Int 8, Wis 10, Cha 10, Luc 8;
Attk: 6 for 1d4+1 11,
6 for 1d4+1 11,
7 for 1d4 12;
Stati[39,78,1];
Stati[39,1,1];
Flags: 1, 30, 36, 51;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 5, 22, 45;
Resists: 0x00000001;
Stati[123,13,2];
Stati[123,10,2];
Stati[134,51,18];
Gear: random 58,
25% $"strip of cured meat",
35% 1d4 blessed $"flask" of $"water";
Desc: "The lizardfolk are a reclusive, animalistic race of
      humanoid reptiles that dwell in swamps and subterranian
      enclaves. Their mindset is very alien, for they care only
      for breeding, survival, food supply and the security of
      their tribe. Though they are intelligent, many more
      'civilized' concerns are simply irrelevant to them.";
}



Monster "goblin" : 10, 87
{
Image: Green 'g'; Size: 3; Mana: 6;
CR: -4; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 11, Dex 13, Con 12, Int 10, Wis 9, Cha 6;
Attk: 1 for 1d2 13;
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 36, 37, 1, 93, 49,
94, 51, 68;
Gear:
25% $"short sword" else
33% $"dagger" else
50% $"club" else
$"light mace",
25% $"hide armor";
}

Monster "blue goblin" : 10, 87
{
Image: bright blue 'g'; Size: 3; Mana: 6;
CR: -2; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 11, Dex 13, Con 12, Int 10, Wis 14, Cha 8;
Attk: 1 for 1d2 13,
102 for $"goblin";
Stati[39,42,6];
Feats: 18, 32, 36, 44,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 2), 8, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 36, 37, 1, 49, 51;
Gear:
25% $"short sword" else
33% $"dagger" else
50% $"club" else
$"light mace",
5% $"headband" of random 1 to 4;
On Event 150 {
rID wildID;
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0) && !EActor->HasEffStati(42,wildID))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
return 0;
},
209
"All blue goblins are wild talents and possess two randomly
        chosen psionic powers.",
(52+1000) {
if (e.eID->HasSource(56))
EActor->IdentifyMon();
return 0;
};
Desc: "Sometimes, a goblin is simply born different then the vast
      majority of his kin. Often delivered on the night of a full moon,
      during an intense lightning storm or in an area with overwhelming
      psychic residue, a blue goblin possesses a physical mutation not
      dissimilar to albinism in humans -- with dusky blue-brown skin,
      purplish hair and piercing aquamarine eyes, such a creature is
      ensured a life of perpetual social isolation from the rest of his 
      people. Blue goblins are hated and feared by the rest of goblin
      society, and often become introspective, paranoid and withdrawn
      as a result. They're also more likely to question typical goblin
      values than a goblin with a different set of life experiences.\n
      __But it is not merely the physical characteristics which so
      strongly alienate blues from their kin. Instead, they are known
      to possess uncanny mental powers that most goblins neither 
      understand nor can counter. These strange abilities are undeniably
      useful, and for that reason alone many chieftans and goblin 
      warlords cultivate blue goblins as allies and advisors. Still
      others break away from their people and venture out alone,
      trying to come to terms with their nature, accumulate power and
      influence or simply survive in a hostile world.";
}

Monster "goblin spider" : 10, 26, 19
{
Image: green 'l'; Size: 3; Mana: 45;
CR: 4; HD: 5; Hit: +4; Def: 17; Mov: 150%; Spd: 125%;
Str 7, Dex 22, Con 14, Int 13, Wis 14, Cha 7;
Attk:
7 for 1d6 12
and 0d0 60 (DC 16),
6 for 1d4 11,
6 for 1d4 11,
101 for $"goblin",
101 for $"plague of spiders";
Stati[39,42,6];
Stati[39,31,3];
Stati[124,7,+10];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), ((((49 + 1) + 32) + 50) + 13), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 18, 44,
36, 32, 47, 7, 10;
Spells: $"bestow curse", $"read magic", $"chill touch", $"doom";
Flags: 1, 49, 36, 8, 51,
57;
Gear:
50% $"long sword" else
50% $"light flail" else
$"whip",
$"scroll" of random 1 to 4,
50% $"scroll" of random 1 to 4,
10% $"scroll" of random 1 to 4,
5% $"wand" of random 4 to 8,
$"chainmail shirt",
1d3 $"potion" of $"healing",
50% $"potion" of random 2 to 5;
Lists:
* 101 $"goblin" $"plague of spiders";
Desc: "Goblin spiders are a breed of lycanthrope unique to the
      goblin people -- only goblins can become infected; all other
      creatures are immune to this specific form of lycanthropy.
      Goblin spiders are less given to rapid fits of rage than are
      most lycanthropes, and much more inclined to cunning,
      manipulation and careful cultivation of their innate magical
      gifts. The goblinoid tribal religions tend to consider goblin
      spiders to be sacred beings, and to revere them in an odd form
      of idol worship including blood sacrifice and orgiastic rites.
      Goblin spiders thus often end up as the leaders of smaller
      goblin tribes.\n
      __In their natural form, a goblin spider appears as a centaur-like
      creature with the upper body of a goblin and the lower body of a
      large spider. Their fingers taper to claws, and their shiny
      emerald eyes glow with an unnatural radience.";
}

Monster "dekanter goblin" : 10, 87
{
Image: red 'g'; Size: 4;
CR: 1; HD: 2; Hit: +2; Def: 12; Mov: 60%; Spd: 100%; Arm: 2;
Str 17, Dex 12, Con 14, Int 12, Wis 13, Cha 9;
Attk: 23 for 1d6 12,
102 for $"hobgoblin";
Stati[39,66,3];
Stati[39,42,6];
Resists: 0x00000002;
Feats:
7, 20, 22, 32,
3, 44,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((((49 + 1) + 32) + 50) + 38) + 9);
Flags: 36, 37, 1, 93, 49,
94, 15, 51;
Desc: "Bearing little resemblance to the small, cowardly humanoids from
    which they were created, dekanter goblins are vicious, cunning
    opponents with large, rhinolike horns.";
}

Monster "hobgoblin" : 10, 87
{
Image: yellow 'g'; Size: 4; Mana: 6;
CR: 1; HD: 2; Hit: +2; Def: 14; Mov: 100%; Spd: 100%;
Str 11, Dex 13, Con 13, Int 10, Wis 10, Cha 10;
Attk: 1 for 1d2 13;
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), 14;
Flags: 36, 37, 1, 93, 49,
94, 51, 68;
Gear:
25% $"long sword" else
33% $"halberd" else
50% $"large club" else
$"heavy mace",
33% $"studded leather" else
50% $"chainmail" else
$"banded mail",
$"long bow",
3d6 $"sheaf arrow";
}

Monster "bugbear" : 10, 87
{
Image: brown 'g'; Size: 4; Mana: 10;
CR: 2; HD: 3; Hit: +5; Def: 13; Mov: 100%; Spd: 115%;
Str 15, Dex 12, Con 13, Int 10, Wis 10, Cha 9;
Attk: 1 for 1d2 13,
102 for $"hobgoblin";
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23);
Flags: 36, 37, 1, 93, 49,
94, 51;
Gear:
$"morningstar",
2d3 $"javelin",
33% $"studded leather" else
50% $"chainmail" else
$"banded mail";
}

Monster "adlet" : 84, 87, 6
{
Image: grey 'g'; Size: 3; Mana: 6;
CR: -2; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 9, Dex 13, Con 7, Int 6, Wis 9, Cha 8;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 13
and 63 (DC 13),
31 for 1d2 52;
Stati[39,42,6];
Stati[39,71,6];
Stati[39,22,1];

Feats: 18, 32, 36, 44,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 1, 93, 49,
94, 102, 42;
Gear:
50% $"halfspear",
25% $"hide armor";
Desc: "This odd species of goblinoid is said in myth to
      have been born as the result of misceganation between
      human women and dogs. Slightly smaller than goblins,
      adlets have humanoid bodies but faces like a bulldog's.
      Their species is well-attuned to harsh winters, but
      suffers a natural proclivity to disease, and a single
      illness has been known to decimate a tribe. In
      temperment they are vicious but stupid, even willing
      to engage in cannibalism and gaining powers from doing
      so just as orcs do. They particulairly favor drinking
      the blood of living foes they face in combat, which
      they can do after a successful grapple attack.";
On Event 209
"It has a -4 racial penalty to save vs. disease. Any
       weapon it wields is treated as having the <11>frost<7>
       quality. If it is CR 3 or higher, the weapon gains the
       <11>burst<7> quality as well.",
(13+1000) {
EItem->RemoveEffStati($"Adlet Frost");
if (!(EItem->IFlags & 0x0004))
return 0;
EItem->GainPermStati(183,EActor,
7,9,0,$"Adlet Frost");
if (EActor->ChallengeRating() >= 3)
EItem->GainPermStati(183,EActor,
7,11,0,$"Adlet Frost");
return 0;
},
54, 31 {
EItem->RemoveEffStati($"Adlet Frost");
};
}

Effect "Adlet Frost" : 46 { }



Monster "aasimar" : 71, 87
{
Image: white 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 10, Con 10, Int 10, Wis 13, Cha 13, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Stati[39,73,+2];
Flags: 36, 37, 1, 50;
Spells: $"call light", $"cure light wounds";
Resists: 0x00000004, 0x00000002, 0x00000008;
Feats: 30, 25, ((49 + 1) + 5);
Gear: 25% random 58 +1 with [1] else
random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Aasimar are descended from humans and celestials. Like
      one would expect, they tend to be noble, beautiful and wise,
      but also regal and distant, given to abstractions of ethics
      and distant contemplation. Many of them take up the path of
      the paladin.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "tiefling" : 71, 87
{
Image: red 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 11, Dex 13, Con 10, Int 13, Wis 10, Cha 8, Luc 8;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1, 49;
Spells: $"deeper darkness", $"inflict light wounds";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 36, 6,
14;
Resists: 0x00000001;
Gear: 10% random 58 +1 with [2] else
random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Tieflings are descended from humans and fiends. They tend
      to be treacherous and opportunistic, but while many are
      truly depraved many others are not. They do have a collective
      sense of embitterment over their lot, however, because they
      face a great deal of prejudice concerning their heritage.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "air genasi" : 71, 87
{
Image: white 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 8, Dex 13, Con 10, Int 13, Wis 8, Cha 10, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1, 20;
Spells: $"fly", $"gust of wind";
Feats: ((49 + 1) + 1), 22, 46, 13;
Resists: 0x00000001;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "earth genasi" : 71, 87
{
Image: brown 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 13, Dex 8, Con 13, Int 10, Wis 10, Cha 8, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1;
Spells: $"stone tell", $"meld into stone";
Stati[177,19];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 9;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "fire genasi" : 71, 87
{
Image: bright red 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 10, Con 10, Int 13, Wis 8, Cha 13, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1;
Spells: $"produce flame", $"pyrotechnics";
Resists: 0x00000001;
Feats: (((49 + 1) + 32) + 44), 6, 20;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "water genasi" : 71, 87
{
Image: bright blue 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 13, Con 13, Int 8, Wis 10, Cha 10, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1, 31, 30;
Spells: $"water walking", $"create water";
Stati[124,45,+6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 24), 45, 28;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}
#line "mon2.irh" 820
Monster "mongrelman" : 58, 87
{
Image: brown 'h'; Size: 3; Mana: 6;
CR: -4; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 11, Dex 13, Con 12, Int 10, Wis 9, Cha 6;
Attk: 6 for 1d3 11,
6 for 1d3 11,
9 for 36 (DC 13);
Stati[39,42,6];
Stati[39,71,3];
Stati[39,130,1];
Stati[39,73,2];
Stati[124,7,+4];
Feats: 18, 32, 36, 44, 7,
47, ((((49 + 1) + 32) + 50) + 8);
Spells: $"chameleon shifting";
Flags: 36, 37, 1, 30, 57;
Gear:
25% $"short sword" else
33% $"dagger" else
50% $"club" else
$"light mace",
25% $"hide armor",
3d6 $"copper piece",
25% $"food ration",
25% $"wand" of random 1 to 4;
Desc: "Mongrelmen are a race of tiny humanoids produced by
      magical crossbreeding of halflings, animals and many other
      creatures. Each mongrelman is unique, combining features of fish, 
      reptiles, mammals and birds into a tiny humanoid frame. 
      Mongrelmen are neither good nor evil; they simply seek to survive 
      in a world which despises them and views them as worthless. Their
      mixed blood allows them to make use of magical items normally
      reserved for a single race as if they were a member of that
      race.";
}


Monster "myconid" : 39, 58, 87
{
Image: bright purple 'F'; Size: 4;
CR: -2; HD: 1; Def: 8; Hit: 1; Mov: 75%; Spd: 75%;
Str 8, Dex 9, Con 0, Int 8, Wis 15, Cha 7;
Attk: 19 for 1d4 13,
22 for 3d6 17 (DC 13);
Stati[124,1,+2];
Stati[39,42,+6];
Immune: 0x00100000, 0x00020000, 0x00080000, 0x00010000, 0x00008000;
Feats: ((49 + 1) + 5), 1, 32, 44,
27, 9, 3,
48;
Spells: $"cure disease", $"dispel magic";
Flags: 51, 1, 37, 54,
93, 94, 66, 104;
Desc: "Myconids are a reclusive, hierarchical race of
      anthropomorphic mushrooms. Skilled farmers, alchemists
      and architects, they think in a very alien manner and
      shun contact with most other humanoid peoples, but are
      generally peaceful and well-intentioned. Myconids are
      one of the few elder races to remain loyal to the law
      of Kysul, and it treasures them greatly as a result.";
On Event (18+1000) {
ThrowVal(49,22,EActor,EVictim);
return 0;
};
Gear:
50% $"club",
50% $"potion" of random 1 to 4,
50% $"potion" of random 1 to 4,
50% $"potion" of random 1 to 4;
}

Monster "grimlock" : 11, 87
{
Image: grey 'h'; Size: 4;
CR: 0; HD: 1; Def: 14; Hit: 2; Mov: 100%; Spd: 100%;
Str 18, Dex 14, Con 14, Int 10, Wis 8, Cha 6;
Attk: 1 for 1d3 13;
Stati[124,18,10];
Stati[39,94,15];
Stati[39,13,4];
Stati[39,71,4];
Feats:
((49 + 1) + 5), ((49 + 1) + 25),
7, 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 32, 44;
Flags: 36, 1, 93, 49, 6,
66;
Gear:
50% $"battleaxe" else random 58;
Desc: "These primevil, eyeless humanoids dwell deep beneath
      the earth, venturing close to the surface only to raid. They
      do not communicate in any conventional language, though they
      are clearly intelligent, and thus their motives and desires
      remain inscrutable. Extremely xenophobic, grimlocks rarely
      deal with other creatures, but have been known to form brief
      alliances with medusae or illithids.";
Lists:
* 103 $"medusa" $"mind flayer";
}
#line "mon2.irh" 983
Monster "locathah" : 11, 51
{
Image: red 'h'; Size: 4;
CR: 0; HD: 1; Hit: 1; Def: 13; Mov: 160%; Spd: 100%;
Str 13, Dex 10, Con 12, Int 13, Wis 13, Cha 10;
Attk: 1 for 1d3 13;
Gear:
50% $"longspear" else $"trident",
$"arbalest", 3d6 $"crossbow bolt";
Feats: ((49 + 1) + 25), 9, 32, 44, 45;
Flags: 1, 30, 86, 31, 36;
Desc: "The locathah are a race of undersea-dwelling fishmen.
      They are on average seven feet tall, with deep maroon hides
      that are rough like a shark's, and heavy fins sprouting from
      their arms, back and in a crown around their head.";
}

Monster "minotaur" : 11, 87, 46
{
Image: brown 'h'; Size: 5; Mana: 10;
CR: 5; HD: 6; Hit: 6; Def: 15; Mov: 100%; Spd: 130%;
Str 19, Dex 10, Con 15, Int 7, Wis 10, Cha 8, Luc 16;
Attk: 23 for 1d8+2 12,
1 for 1d3 13;
Stati[39,42,6];
Stati[39,71,6];
Stati[124,41,4];
Stati[124,44,4];
Stati[124,32,4];
Stati[39,94,18];
Stati[39,100,6];
Gear:
$"greataxe",
5% $"girdle" +1 of $"giant strength";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 32),
41, 44, 32;
Flags: 1, 49, 52;
Lists:
* 103 $"wereboar",
* 101 $"wereboar";
}

Monster "sahuagin" : 11, 87
{
Image: green 'h'; Size: 4; Mana: 10;
CR: 0; HD: 2; Hit: +1; Def: 15; Hit: 2; Mov: 100%; Spd: 120%;
Str 14, Dex 13, Con 12, Int 14, Wis 13, Cha 9;
Attk: 6 for 1d2 11,
6 for 1d2 11,
7 for 1d4 12;
Stati[39,42,6];
Feats: 18, 36, 44, ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 1, 30, 94, 31,
93, 49, 51, 8;
Gear: 50% $"trident" else $"longspear",
25% $"hide armor" else
33% $"cord armor";
Desc: "The sahuagin, or sea devils, are a bloodthirsty race
      of aquatic raiders, appearing as a cross between humans an
      spinefish. They have scaly skin, bulbous eyes and sharp
      fangs, and are most famous for flying into a berserk rage
      upon the taste of blood.";
On Event (20+1000) {
if (e.vDmg && !EActor->HasStati(66))
{
DPrint(e,"You fly into a blood rage!",
"The <EActor> flies into a blood rage!");
EActor->GainTempStati(66,EActor,3d6,7,2,0,(rID)0);
}
return 0;
};
}

Monster "troll" : 54
{
Image: green 'T'; Size: 5;
CR: 6; HD: 6; Hit: +4; Def: 15; Hit: 3; Mov: 100%; Spd: 125%;
Str 23, Dex 14, Con 23, Int 6, Wis 9, Cha 6;
Attk: 6 for 1d6+1 11,
6 for 1d6+1 11,
7 for 1d6 12;
Stati[39,42,9];
Stati[39,66,5];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 44, 32;
Flags: 36, 1, 93, 52,
49, 14;
Desc: "With spindly limbs and skin like limestone, the
      trolls are among the most frightening of the humanoid
      marauders. They have very limited intelligence in the
      human sense, but possess a primal kind of cunning that,
      paired with their ability to heal from almost any
      injury, makes them terrifying foes.";
}

Monster "scrag" : 54
{
Image: blue 'T'; Size: 5;
CR: 6; HD: 6; Hit: +5; Def: 15; Hit: 3; Mov: 100%; Spd: 125%;
Str 23, Dex 14, Con 23, Int 6, Wis 9, Cha 6;
Attk: 6 for 1d6+1 11,
6 for 1d6+1 11,
7 for 1d6 12,
102 for $"troll";
Stati[39,42,9];
Stati[39,66,5];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 44, 32,
45;
Flags: 36, 1, 93, 52,
49, 14, 38, 31, 107;
Desc: "With spindly limbs and skin like limestone, the
      trolls are among the most frightening of the humanoid
      marauders. They have very limited intelligence in the
      human sense, but possess a primal kind of cunning that,
      paired with their ability to heal from almost any
      injury, makes them terrifying foes. Scrags are aquatic
      trolls.";
}

Monster "chitine" : 58, 26, 87
{
Image: pink 'h'; Size: 3; Mana: 10;
CR: 1; HD: 2; Hit: +1; Def: 10; Mov: 100%; Spd: 300%;
Str 10, Dex 13, Con 12, Int 12, Wis 11, Cha 7;
Attk: 1 for 1d2 13;
Stati[39,42,6];
Gear:
3d1 $"short sword" of random 0 to 1,
$"hide armor" of random 0 to 1,
3d3 $"javelin" of random 0 to 1;
Stati[177,14];
Feats:
((49 + 1) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), ((((((49 + 1) + 32) + 50) + 38) + 30) + 22),
5, 7, 9, 18, 22,
36;
Flags: 36, 28, 1, 52, 49,
8;
Desc: "Chitine are spiderlike humanoids inadvertently created by
    the drow as the result of failed experiments.";
Lists:
* 100 $"choldrith";
}

Monster "choldrith" : 58, 26, 87
{
Image: red 's'; Size: 5; Mana: 10;
CR: 8; HD: 4; Hit: +2; Def: 10; Mov: 100%; Spd: 120%;
Str 19, Dex 16, Con 17, Int 15, Wis 16, Cha 14; Arm: 7;
Attk: 7 for 2d4+6 12 and 0d0 60 (DC 13),
102 for $"chitine";
Stati[39,82,4];
Stati[39,42,6];
Stati[124,7,10];
Stati[118,18,((13*5)-50)];
Stati[39,97,4];
Spells: $"web", $"bless";
Stati[177,14];
Feats:
5, 7, 8, 22,
43,
(((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Flags: 36, 28, 1, 52, 49, 53,
8, 23;
Desc: "Choldriths are the priest race of the chitines.";
Poison: $"choldrith venom";
Gear:
25% $"scroll" of $"hallow";
Lists:
* 101 $"chitine";
On Event (36+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
Lists:
* 21
(52 + 1000);
}

Poison "choldrith venom" : 4
{
Level: 5;
cval: 1;
sval: 13;
lval: 2;
xval: 18; pval: 3d4;
Desc: "This poison has an onset (and recurrance) time of <11>1<7> turn,
      causing its targets to become paralyzed. It requires <11>2<7> 
      saving throws against <11>DC 13<7> to overcome the effect fully.";
}


Monster "kyrie" : 81, 87, 4
{
Image: brown 'b'; Size: 4; Mana: 10;
CR: 2; HD: 4; Hit: +4; Def: 12; Mov: 250%; Spd: 115%;
Str 8, Dex 16, Con 10, Int 10, Wis 13, Cha 10;
Attk: 6 for 1d6 11,
6 for 1d6 11;
Stati[39,82,3];
Stati[39,42,6];
Feats: ((((49 + 1) + 32) + 50) + 32), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
32, 48, 2;
Flags: 36, 1, 12, 64, 98, 39;
Desc: "This creature is a tall male humanoid covered in brown and gold
    feathers. It has powerful feathered wings instead of arms, with human
    hands, and its legs end in eagle-like talons. Its face is human, with
    arched eyebrows, high cheekbones, and feathery sideburns.";
Lists:
* 21
(52 + 1000);
}

Monster "ursoi" : 41, 87
{
Image: white 'H'; Size: 5; Mana: 10;
CR: 5; HD: 5; Hit: +5; Def: 12; Mov: 100%; Spd: 125%;
Str 21, Dex 12, Con 16, Int 9, Wis 13, Cha 7; Arm: 2;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[39,71,6];
Stati[124,45,4];
Stati[124,48,4];
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
7, 32, 44, 48, 45;
Flags: 36, 1, 74, 51, 14, 42;
Gear: 50% $"pickaxe" of random 1 to 2;
}

Monster "thri-kreen" : 31, 11, 87
{
Image: yellow 'x'; Size: 4; Mana: 15; Arm: 5;
CR: 2; HD: 3; Hit: +2; Def: 14; Mov: 125%; Spd: 125%;
Str 12, Dex 15, Con 11, Int 8, Wis 12, Cha 7;
Attk: 6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
7 for 1d4 12
and 60 (DC 11),
102 for $"giant praying mantis";
Stati[39,42,6];
Poison: $"thri-kreen venom";
Spells: $"inertial barrier",
$"body equilibrium",
$"cell adjustment";
#line "mon2.irh" 1237
Spells: $"displacement", $"mage armor",
$"magic weapon";
Stati[124,18,10];
Stati[124,22,20];
Stati[177,16];
Stati[30,1,0,$"gythka"];
Stati[30,1,0,$"chatkcha"];
Stati[41,(((49 + 1) + 32) + 30)];
#line "mon2.irh" 1249
Feats: 22, 18, 36, 5,
7, 32, 44, 14,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12);
Flags: 1, 26, 27, 36,
72, 52, 107;
Desc: "Sometimes called mantis warriors, the thri-kreen are
      intelligent, desert-dwelling humanoids with a strong
      resemblance to praying mantises. In temprament they are
      geared to survival above idealism or personal goals, and
      are very pack-oriented. Their outlook gives them very
      little in common with humanity or other similar races,
      but they sometimes ally with the lizardfolk, with whom
      they have a great deal more in common psychologically but
      very little common ground in terms of favored terrain.";
Gear:
60% $"gythka" else
25% $"gythka" of random 2 to 5,
70% 2d6 $"chatkcha",
5% $"ring" of random 1 to 3;
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "thri-kreen venom" : 4
{
Level: 2;
cval: 7;
sval: 13;
lval: 5;
xval: 50; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>5<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Item "chatkcha" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00000002;
Mat: 20; Size: 4; Weight: 3;
Range: 2; Parry: 1;
SDmg: 1d8; LDmg: 1d6; Acc: +2; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 41, 1;
Desc: "The chatkcha is a kind of crystalline throwing wedge
      frequently employed by thri-kreen."; }

Item "gythka" : 58
{ Image: bright purple 251; Group: 0x00000200 | 0x00000002;
Parry: 6; Mat: 11; Size: 5; Weight: 250;
SDmg: 2d6; LDmg: 2d6; Acc: +3; Crit: x2; Threat: 1; Spd: 125%;
Flags: 26, 29, 36, 42, 1;
Desc: "This unusual polearm is a double weapon with a crescent
      blade at each end, and is used almost exclusively by the
      thri-kreen.";
}
#line "mon2.irh" 1313
Monster "medusa" : 28, 87
{
Image: grey 'u'; Size: 4; Mana: 25; Depth: 4;
CR: 5; HD: 6; Hit: +6; Def: 13; Mov: 100%; Spd: 130%;
Str 10, Dex 15, Con 12, Int 12, Wis 13, Cha 15;
Attk: 1 for 1d2 13,
14 for 1d4 12 and
0d0 60 (DC 14),
43 for 0d0 19 (DC 15),
102 for $"human";
Stati[39,42,6];
Stati[118,18,30];
Gear:
$"short bow" of random 1 to 3,
1d6+1 $"potion" of $"healing",
4d6 $"sheaf arrow",
75% $"wand" of RANDOM 1 to 4,
25% $"stone" of random 2 to 5,
$"dagger" of random 0 to 1;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 25), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
6, 11, 20, 36, 44,
14, 47;
Flags: 36, 30, 65, 28, 107,
73, 51, 49, 40, 1;
Spells: $"globe of shadow", $"bestow curse", $"true strike";
Desc: "A medusa is indistinguishable from a normal human at distances
    greater than 30 feet (or closer, if its face is concealed). The
    creature often wears garments that enhance its body while hiding
    its face behind a hood or veil.
    A typical medusa is 5 to 6 feet tall and about the same weight as a
    human.
    Medusas speak Common.
    A medusa tries to disguise its true nature until the intended victim is
    within range of its petrifying gaze, using subterfuge and bluffing
    games to convince the target that there is no danger. It uses normal
    weapons to attack those who avert their eyes or survive its gaze, while
    its poisonous snakes strike at adjacent opponents.
    (Remember that Freedom of Movement or Immunity to Paralysis will also
    make you immune to Petrification.)";
Poison: $"medusa venom";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "medusa venom" : 4
{
Level: 5;
cval: 1;
sval: 14;
lval: 2;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage 
      <11>every<7> turn, and requires <11>2<7> saving throws against 
      <11>DC 14<7> to overcome.";
}

Monster "sea hag" : 28, 87
{
Image: blue 'u'; Size: 4; Mana: 10;
CR: 6; HD: 5; Hit: +3; Def: 11; Mov: 100%; Spd: 125%;
Str 19, Dex 12, Con 12, Int 10, Wis 13, Cha 14; Arm: 3;
Attk: 43 for 90,
6 for 1d4 11,
6 for 1d4 11,
102 for $"human";
Stati[39,42,6];
Stati[118,18,50];
Stati[124,45,+8];
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 9, 28,
14, 18, 32, 44, 45;
Flags: 36, 30, 65, 28, 107,
73, 52, 49, 38, 1;
On Event (41+500) {
if (e.DType == 90)
{
if (EVictim->HasEffStati(72,$"sea hag"))
return 2;
EVictim->GainTempStati(72,EActor,-2,
7, 0, 0, $"sea hag", 0);
if (EVictim->ResistLevel(28) == -1)
{
e.Immune = true;
return 1;
}

if (!EVictim->SavingThrow(0,19,0x00000001|0x00000400|0x00000020))
EVictim->GainTempStati(20,NULL,3d6,6,0,0,$"sea hag");

if (EVictim->SavingThrow(2,11,0x00000001|0x00000400|0x00000020))
{
e.Resist = true;
return 1;
}
ThrowDmg(42,28,0,"fright",EActor,EVictim);
return 1;
}
return 0;
},
32
{
int32 x, y; hObj hTarget;
for (x=EActor->x-2;x<=EActor->x+2;x++)
for (y=EActor->y-2;y<=EActor->y+2;y++)
if (EMap->InBounds(x,y))
for (hTarget=EMap->FCreatureAt(x,y);hTarget;hTarget = EMap->NCreatureAt(x,y))
{
if (hTarget != GetHandle(EActor))
if (hTarget->Percieves(EActor) && (!hTarget->isBlind()) &&
hTarget->isMType(85))
{
#line "mon2.irh" 1431
}

}
return 0;
},
210
"cause the target to die of fright (DC 11), or, failing that,
        become nauseated for 3d6 rounds (DC 19)",
209
"Its appearance is so horrific to cause any thinking creature
        that is not blind to be weakened, suffering 1d6 point of
        Strength damage every turn. Its gaze attack only functions
        once per day per target.",
(49+1000) {
EActor->IdentifyMon();
return 0;
};

Gear:
1d4+1 $"potion" of $"healing",
25% $"stone" of random 2 to 5 else
33% $"amulet" of random 2 to 5,
25% $"dagger" else
15% $"large club";
}

Monster "green hag" : 28, 87
{
Image: green 'u'; Size: 4; Mana: 50;
CR: 5; HD: 9; Hit: +7; Def: 11; Mov: 100%; Spd: 125%;
Str 19, Dex 12, Con 12, Int 13, Wis 13, Cha 14; Arm: 3;
Attk: 6 for 1d4 11,
6 for 1d4 11,
9 for 2d4 50,
102 for $"human";
Stati[39,42,6];
Stati[118,18,35];
Stati[124,45,+8];
Feats: ((49 + 1) + 5), ((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 35),
((((49 + 1) + 32) + 50) + 32), 9, 8,
14, 18, 32, 44, 45;
Flags: 36, 65, 28, 73, 52,
49, 38, 1, 107;
Spells: $"dancing lights", $"invisibility", $"pass without trace",
$"bestow curse", $"read magic", $"water breathing",
$"ventriloquism", $"visage of death", $"chill blood",
$"sleep";
Gear:
$"scroll" of random 1 to 4,
$"scroll" of random 1 to 4,
50% $"scroll" of random 3 to 5,
25% $"scroll" of random 4 to 6,
1d4+1 $"potion" of $"healing",
25% $"stone" of random 2 to 5 else
33% $"amulet" of random 2 to 5,
25% $"dagger" else
15% $"large club";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "annis" : 28, 87
{
Image: black 'u'; Size: 4; Mana: 15;
CR: 6; HD: 7; Hit: +7; Def: 15; Mov: 100%; Spd: 125%;
Str 25, Dex 12, Con 14, Int 13, Wis 13, Cha 10; Arm: 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d6 12,
102 for $"human";
Stati[118,18,20];
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((49 + 1) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 9, 8,
14, 18, 32, 44, 45;
Flags: 36, 65, 28, 73, 52,
49, 1, 107;
Spells: $"fog cloud", $"enlarge";
Gear:
1d4+1 $"potion" of $"healing",
30% 1d2 $"potion" of $"bull's strength",
30% 1d2 $"potion" of $"haste",
30% 1d3 $"potion" of $"fire breath",
25% $"stone" of random 2 to 5 else
33% $"amulet" of random 2 to 5,
50% $"hide armor";
On Event (36+1000), (17+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "night hag" : 28, 48
{
Image: purple 'u'; Size: 4; Mana: 80; Arm: 11;
CR: 9; HD: 8; Hit: +6; Def: 11; Mov: 70%; Spd: 80%;
Str 19, Dex 12, Con 18, Int 11, Wis 15, Cha 12;
Attk: 7 for 2d6 12
and 0d0 27 (DC 18),
43 for 0d0 90,
102 for $"human";
Stati[39,42,6];
Stati[39,105,+1];
Stati[39,61,3];
Stati[118,18,75];
Immune: 0x00000001, 0x00000002, 0x08000000, 0x00008000;
Feats: ((49 + 1) + 5), ((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 35),
((((49 + 1) + 32) + 50) + 32), 9, 8,
25, 43, 32, 44, 45;
Flags: 36, 65, 28, 73, 52,
49, 38, 1, 107;
Spells: $"detect good", $"magic missile", $"ray of enfeeblement",
$"deep slumber", $"rigor mortis";
On Event (28+2000) {
if (e.eID == $"charm person" || e.eID == $"charm monster" ||
e.eID == $"fire charm")
{
e.Immune = true;
return 1;
}
return 0;
},
((41+500)+2000) {
if (e.DType == 21)
{
e.Immune = true;
return 1;
}
return 0;
},
(41+500) {
if (e.DType == 90)
{
if (EVictim->HasEffStati(79,$"night hag"))
return 2;
if (EVictim->ResistLevel(28) == -1)
{
e.Immune = true;
return 1;
}
if (EVictim->SavingThrow(2,24,0x00000001|0x00000002|0x00000400))
{
e.Resist = true;
return 1;
}
EVictim->GainPermStati(79,EActor,12,
45,0,$"night hag",12);
EVictim->GainPermStati(79,EActor,12,
(45+1000),0,$"night hag",12);
EVictim->IPrint("You feel haunted.");
EActor->IPrint("You plant your seed in the <hObj>'s dreams.",EActor);
if (EVictim->isPlayer())
EActor->GainTempStati(10,NULL,10d10,7,4);
return 1;
}
return 0;
},
(45+10000) {
e.EParam |= 0x0080;
return 0;
},
((45+1000)+10000) {
EActor->IPrint("Your dreams are haunted by horrific images!");
ThrowDmg(41,45,1d6+1,"night hag dream-haunting",
EActor->GetEffStatiObj(79,$"night hag"),EActor);
return 0;
},
82 {
hObj hHeart;
if (EActor->onPlane() == 3)
return 0;
for (hHeart=EActor->FirstInv();hHeart;
hHeart=EActor->NextInv())
if (hHeart->iID == $"stone")
if (hHeart->ieID == $"heartstone")
return 0;
EActor->IPrint("You need your heartstone to invoke the
        power of etherealness.");
return 2;
},
209
"It is immune to <9>charm<7> spells. It needs a heartstone to use
        its <9>etherealness<7> ability.",
210
"haunt a victim's dreams, inflicting 1d6 points of Con damage every
        time the victim rests",
(49+1000), (36+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
$"stone" of $"heartstone",
25% $"hide armor",
25% $"amulet" of random 3 to 6,
50% 1d3 $"potion" of $"healing";
}

27 Effect "heartstone" : 2
{ xval: 120; yval: 52; pval: +2; }
and 2
{ xval: 177; yval: 27; Flags: 18;
Desc: "A night hag's most treasured possession is her heartstone,
      a special magical stone containing a fragment of the night hag's
      heart. To a night hag, this stone conveys a +2 resistance bonus
      to saving throws and immunity to disease, as well as being an
      essential component of their inherant ethereal travel abilities.
      To any wielder other than a night hag (or a high-level rogue),
      the stone conveys only the saving throw bonus.";
On Event 28 {
if (e.efNum == 1 && !EVictim->ItemPrereq((rID)($"night hag"),0,25))
return 1;
return 0;
};
}

Monster "sphinx" : 46, 35
{
Image: brown 'M';
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n 
      __They come in various different species, which can be
      discerned with the Knowledge (Mythology) skill.";
Flags: 24, 108;
}

Monster "hieracosphinx" : 46, 35
{
Image: red 'M'; Size: 5; Mana: 80; Arm: 6;
CR: 6; HD: 9; Hit: +8; Def: 10; Mov: 175%; Spd: 125%;
Str 21, Dex 14, Con 15, Int 6, Wis 15, Cha 10;
Attk: 7 for 1d10 11,
6 for 1d6 11,
6 for 1d6 11,
47 for 3d6 17 (DC 15),
102 for $"sphinx";
Stati[39,42,6];
Stati[39,73,4];
Stati[118,18,75];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 7),
44, 32, 6, 14,
20, 22;
Flags: 36, 64, 72, 12, 11,
52, 49, 55, 57;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Hieracosphinxes are the only species of sphinxkind to
      be truly black-hearted. Vicious and stupid, they seek to
      decieve travellers, malign the innocent and capture and
      enslave the female gynosphinxes.";
On Event (49+1000) {
if (e.AType == 47)
EActor->IdentifyMon();
return 0;
},
((52+2000)+1000) {
if (!ResourceHasFlag(e.eID,33))
if (EActor->isPlayer())
EVictim->IdentifyMon();
return 0;
};
}

Monster "gynosphinx" : 46, 35
{
Image: yellow 'M'; Size: 5; Mana: 120; Arm: 4;
CR: 7; HD: 8; Hit: +7; Def: 10; Mov: 200%; Spd: 150%;
Str 19, Dex 12, Con 13, Int 18, Wis 19, Cha 19;
Attk: 6 for 1d6 11,
6 for 1d6 11,
102 for $"sphinx";
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((49 + 1) + 32) + 50) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 26),
44, 32, 6, 10, 11,
25, 23, 26,
27;
Spells: $"read magic", $"see invisibility", $"insightful stroke",
$"dispel magic", $"remove curse", $"symbol of sleep",
$"symbol of pain", $"detect objects", $"detect monsters",
$"identify", $"dispel magic";
Flags: 36, 65, 72, 12, 11;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Gynosphinxes are female sphinxes of incredible intellectual
      and magical power. Scholars and seekers of knowledge, they
      are reclusive and love mental challenges, venturing out rarely
      to seek out androsphinxes or criosphinxes as mates.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
50% $"scroll" of random 1 to 8,
50% $"scroll" of random 1 to 8,
50% $"scroll" of random 1 to 8;
}

Monster "criosphinx" : 46, 35
{
Image: grey 'M'; Size: 5; Mana: 40; Arm: 7;
CR: 8; HD: 10; Hit: +10; Def: 10; Mov: 150%; Spd: 100%;
Str 23, Dex 10, Con 17, Int 10, Wis 11, Cha 11;
Attk: 8 for 1d10 13,
6 for 1d6 11,
6 for 1d6 11,
47 for 2d4 50 (DC 17),
102 for $"sphinx";
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 35),
(((49 + 1) + 32) + 7),
44, 32, 6, 10, 11,
26, 22;
Spells: $"dimension door";
Flags: 36, 64, 72, 12, 11,
57, 79;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Criosphinxes have the head of a ram instead of that of
      a person. They are intensely paranoid and covetious, seeking
      wealth above all else.";
On Event (49+1000) {
if (e.AType == 47)
EActor->IdentifyMon();
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "androsphinx" : 46, 35
{
Image: brown 'M'; Size: 5; Mana: 80; Arm: 9;
CR: 9; HD: 12; Hit: +12; Def: 10; Mov: 175%; Spd: 150%;
Str 25, Dex 10, Con 19, Int 16, Wis 17, Cha 17;
Attk: 6 for 1d6 11,
6 for 1d6 11,
47 for 3d10 28 (DC 19),
102 for $"sphinx";
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
44, 32, 6, 10, 11,
30, 25, 27, 22;
Flags: 36, 64, 72, 12, 11,
52, 50;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Noble androsphinxes tend toward virtue, being the
      guardians of ancient places and knowledge. They seek
      lore as avidly as gynosphinxes, and are only slightly
      less intelligent.";
On Event (49+1000) {
if (e.AType == 47)
EActor->IdentifyMon();
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
};
}
#line "mon2.irh" 1823
Monster "hill giant" : 41
{
Image: brown 'H'; Size: 6;
CR: 8; HD: 12; Hit: +6; Def: 19; Mov: 150%; Spd: 135%;
Str 25, Dex 8, Con 19, Int 6, Wis 10, Cha 17;
Attk: 1 for 1d8 13,
102 for $"ogre";
Stati[39,53,6];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1, 49, 51,
79, 75, 14;
Feats: 7, 22, 32, 44,
(((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21);
Desc: "Brutal, thuggish and stupid, hill giants are the
      weakest of the true giant races, but are still a terrifying
      threat to human villages and settlements.";
Gear: 50% $"huge club" else
50% $"great maul" else
random 58,
random 21,
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
(19+1000) {
EActor->IdentifyMon();
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
}

Monster "stone giant" : 41
{
Image: grey 'H'; Size: 6;
CR: 8; HD: 14; Hit: +7; Def: 21; Mov: 150%; Spd: 140%;
Str 27, Dex 15, Con 19, Int 10, Wis 12, Cha 11;
Attk: 1 for 1d8 13;
Stati[39,42,6];
Stati[39,30,4];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1,
79, 14;
Feats: 7, 22, 32, 44,
(((49 + 1) + 32) + 14), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((49 + 1) + 32) + 50) + 38) + 26), 40;
Desc: "Stone giants prefer thick leather garments, dyed in shades of
    brown and gray to match the stone around them. Adults are about 12 feet
    tall and weigh about 1,500 pounds. Stone giants can live to be 800
    years old.";
Gear: 50% $"fullblade" else
50% $"great maul" else
random 58,
random 21,
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
}

Monster "frost giant" : 41
{
Image: skyblue 'H'; Size: 6;
CR: 9; HD: 14; Hit: +9; Def: 19; Mov: 150%; Spd: 145%;
Str 29, Dex 9, Con 21, Int 10, Wis 14, Cha 11;
Attk: 1 for 1d8 13;
Stati[39,53,6];
Stati[39,22,6];
Stati[39,35,6];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1, 49, 52,
79, 98, 14, 42;
Feats: 7, 22, 32, 44,
(((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
((((49 + 1) + 32) + 50) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45);
Immune: 0x00000002;
Desc: "A frost giant's hair can be light blue or dirty yellow, and its
    eyes usually match its hair color. Frost giants dress in skins and
    pelts, along with any jewelry they own. Frost giant warriors add chain
    shirts and metal helmets decorated with horns or feathers.
    An adult male is about 15 feet tall and weighs about 2,800 pounds.
    Females are slightly shorter and lighter, but otherwise identical with
    males. Frost giants can live to be 250 years old.";
Gear: 50% $"greataxe" of random 2 to 4 else
50% $"great maul" of random 2 to 4 else
random 58 of random 2 to 4 ,
random 21 of random 2 to 4,
15% $"wand" +3 of $"ice",
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
Lists:
* 100 $"white dragon",
* 103 $"winter wolf" $"white dragon",
* 101 $"wolf" $"winter wolf";
}

Monster "fire giant" : 41
{
Image: red 'H'; Size: 6;
CR: 10; HD: 15; Hit: +11; Def: 19; Mov: 150%; Spd: 145%;
Str 31, Dex 9, Con 21, Int 10, Wis 14, Cha 11;
Attk: 1 for 1d8 13;
Stati[39,53,6];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1, 49, 51,
98, 14, 41, 104;
Feats: 7, 9, 20, 22, 44,
14, (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
(((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45);
Immune: 0x00000001;
Gear: 50% $"greataxe" of random 2 to 4 else
50% $"great maul" of random 2 to 4 else
random 58 of random 2 to 4 ,
random 21 of random 2 to 4,
2d4 $"food ration",
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(58) && h->QualityOK(7))
h->AddQuality(7);
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
Desc: "Fire giants are creatures of vast volcanic reaches and
      overarching ambitions. Being stronger than nearly anything
      else around them, they believe in strict hierarchy based on
      strength, and have a militaristic, rigidly ordered society.
      Fire giants are xenophobic, preferring isolation and periodic
      conquest as their only forms of interaction with the societies
      of the 'small folk'. They have warred with the frost giants
      since the earliest light shone on Theyra.\n
      __Fire giants have coppery hair, ruddy red skin and squat,
      almost dwarfish bodies.";
}



Monster "ogre" : 41, 87
{
Image: grey 'H'; Size: 5;
CR: 2; HD: 4; Hit: +2; Def: 10; Hit: 2; Mov: 120%; Spd: 80%;
Str 21, Dex 8, Con 15, Int 6, Wis 10, Cha 7;
Attk: 1 for 1d6 13;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7;
Flags: 36, 37, 1, 93,
52, 49, 14, 11;
Gear: 50% $"fullblade" else
50% $"huge club" else
random 58,
2d4 $"shotput", $"loincloth";
Desc: "Huge, stupid beasts, ogres are notorious for their
      lazyness, fierce tempers and desire for solitude. Ogres are sometimes
      ridden by goblins with crossbows.";
}

Monster "merrow" : 41, 87
{
Image: grey 'H'; Size: 5;
CR: 2; HD: 4; Hit: +2; Def: 10; Hit: 2; Mov: 120%; Spd: 80%;
Str 21, Dex 8, Con 15, Int 6, Wis 10, Cha 7;
Attk: 1 for 1d6 13,
102 for $"ogre";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7;
Flags: 36, 37, 1, 93,
52, 49, 30, 31, 14,
107;
Gear: 50% $"huge club" else
50% $"trident" else
random 58,
2d4 $"shotput", $"loincloth";
Desc: "The merrow are an aquatic offshoot of normal ogres,
      who delight in terrorizing small fishing villages and
      devouring livestock.";
}

Monster "verbeeg" : 41, 87, 81
{
Image: green 'H'; Size: 5; Mana: 10;
CR: 6; HD: 5; Hit: +3; Def: 13; Hit: 5; Mov: 150%; Spd: 100%;
Str 19, Dex 13, Con 16, Int 12, Wis 12, Cha 13;
Attk: 1 for 1d6 13,
102 for $"ogre";
Stati[39,42,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 19), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17),
9, 18, 20, 32, 41,
44;
Flags: 36, 37, 1, 93, 94,
14, 107;
Gear: 50% $"studded leather" else 25% $"chainmail shirt" else
13% $"hide armor" else $"breastplate",
25% $"fullblade" else 33% $"greataxe" else 50% $"great maul"
else $"heavy mace",
50% 2d2 $"longspear",
10% random 58 of random 1 to 4,
50% $"tower shield";
Desc: "The weakest and smallest of the giantkin, verbeeg most
      accurately resemble intelligent, tactically prudent ogres.
      They are a warrior race, and pride themselves on their militant
      skill, which can lead them to become a danger to humans in the
      area -- but they lack the brutality and bloodlust of the ogres
      or hill giants. Verbeeg have an advanced tribal society, with a
      great emphasis on athletics, competition, fame and personal
      prowess.";
}

Monster "saqualaminoi" : 41, 87
{
Image: grey 'H'; Size: 5;
CR: 6; HD: 8; Hit: +2; Def: 10; Hit: 2; Mov: 130%; Spd: 140%;
Str 23, Dex 11, Con 16, Int 6, Wis 13, Cha 9; Arm: 4;
Attk: 19 for 1d4 13,
19 for 1d4 13,
102 for $"ape";
Stati[124,5,8];
Stati[124,18,4];
Feats: 5, 7, 18, 22, 32,
48,
(((((49 + 1) + 32) + 50) + 38) + 2), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Immune: 0x00000002;
Flags: 36, 37, 1, 93, 107,
52, 49, 98, 14, 42;
Gear: 90% $"huge club" else random 58,
$"loincloth";
Desc: "This tall apelike humanoid is covered in shaggy gray-white hair.
    Its features are broad and flat and with deep-set, brown eyes beneath a
    heavy sloping brow. Immensely strong and hulking in stature, it often
    carries a makeshift club.";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};
}



Monster "slyph" : 9, 44, 81
{
Image: white 'f'; Size: 3; Mana: 125;
CR: 4; HD: 3; Hit: +2; Def: 21; Mov: 175%; Spd: 150%;
Str 8, Dex 13, Con 8, Int 15, Wis 16, Cha 17;
Attk: 1 for 1d2 13,
99 for 75% 93 (CR 5);
Stati[39,42,6];
Stati[39,57,1];
Stati[118,18,50];
Spells: $"invisibility", $"magic missile", $"mirror image",
$"gust of wind", $"wind wall", $"shield", $"chromatic orb",
$"shocking grasp", $"phase door",
$"lightning bolt", $"obscurement", $"charm person", $"slow";
Feats: ((((49 + 1) + 32) + 50) + 35),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 2, 13,
18, 36;
Flags: 1, 39, 54, 74, 75,
65;
Desc: "Fae creatures tied to the elemental aspect of air, slyphs
      are playful, curious and insightful. They are generally friendly,
      especially to males, and love to travel and learn -- but they can
      be vicious to orcs and other creatures which despoil the natural
      splendour they so adore. Slyphs appear as small, beautiful women
      with translucent, brightly colored wings.";
}

Monster "nereid" : 9, 44
{
Image: azure 'f'; Size: 4; Mana: 64;
CR: 6; HD: 4; Hit: +3; Def: 17; Mov: 100%; Spd: 100%;
Str 9, Dex 14, Con 8, Int 12, Wis 14, Cha 16;
Attk: 40 for 2d6 24 (DC 18),
1 for 1d3 13,
99 for 75% 92 (CR 5),
102 for $"human";
Stati[39,42,6];
Stati[39,57,1];
Stati[118,18,50];
Stati[39,31,10];
Feats: ((((49 + 1) + 32) + 50) + 35), ((49 + 1) + 6), 11,
6, 13, 32, 36;
Flags: 1, 38, 54, 100,
65, 107;
Spells: $"Kiss of the Nereid", $"Charm Person", $"Waterspout",
$"Cure Serious Wounds", $"Create Water", $"Watery Double",
$"Obscurement", $"Chill Metal", $"Choke";
Desc: "Alluring and unattainable, nereids are fae with ties to
      elemental water, known for luring sailors to watery deaths.
      Their kiss supernaturally drowns men (or women), and many
      delight in this power, being unaware of the suffering that it
      causes. Nereids store their souls in their shawls, and will
      do anything to protect these items.";
On Event 156 {
hObj h;
h = CreateItem($"ornate shawl");
h->GainPermStati(227,EActor,7);
EActor->GainItem(h);
return 0;
},
(20+2000) {
if (e.AType == 65 || e.AType == 41 ||
e.AType == 112 || ((e.AType) > 39 && (e.AType) <= 53))
return 0;
if (e.isSurprise || e.isFlatFoot)
return 0;
if (random(2))
{
VPrint(e,"You flow like water, evading the attack.",
"The <EVictim> flows like water, evading the attack.");
return 1;
}
return 0;
},
(19+2000) {
hObj h2;
for(h2=EActor->FirstInv();h2;h2=EActor->NextInv())
if (h2->iID == $"ornate shawl")
if (GetHandle(EVictim) == h2->GetStatiObj(227))
{
e.vHit += 4;
e.strHit += "+4 circ";
}
return 0;
},
(83+2000) {
hObj h3;
for(h3=EActor->FirstInv();h3;h3=EActor->NextInv())
if (h3->iID == $"ornate shawl")
if (GetHandle(EVictim) == h3->GetStatiObj(227))
e.saveDC += 4;
return 0;
},
209
"Its body can morph and flow like water, giving it a 50~ chance
         to negate any melee attack outright. It stores its soul in a
         shawl, and if the shawl is destroyed, so is it. Anyone possessing
         its shawl has a +4 circumstance bonus to attack rolls and spell
         DCs against it.";
}

Item "ornate shawl" : 27
{
Weight: 2; Mat: 6;
Image: light gray 20;
On Event ((41+1000)+2000) {
hObj hNereid;
if (EVictim->Flags & 0x0008)
if (EVictim->GetStatiObj(227))
{
hNereid->IDPrint("You are slain as your soul-shawl is destroyed!",
"The <hObj> melts away to water, destroyed with its shawl!", hNereid);
ThrowDmg(42,e.DType,0,"having a soul-shawl destroyed",EActor,hNereid);
}
return 0;
};
}

Effect "Kiss of the Nereid" : 46
{
sval: 0; Flags: 82; Purpose: 0x00001; qval: 0x0004;
On Event 155 {
if (EActor->isBeside(EVictim))
if (EVictim->isMType(91))
if (!EVictim->HasMFlag(4))
if (!EActor->HasStati(72,-1,EVictim))
return 1;
return -1;
},
83 {
EActor->GainTempStati(72,EVictim,2d6,7);
return 0;
},
28 {
if (EActor->isBeside(EVictim))
if (EVictim->isMType(91))
if (!EVictim->HasMFlag(4))
if (!EActor->HasStati(72,-1,EVictim)) {
VPrint(e,"You drown...",
"The <EVictim> drowns!");
ThrowDmg(42,74,0,"a nereid's kiss",EActor,EVictim);
return 1;
}
return 2;
},
206
"You kiss the <EVictim>."
"The <EActor> kisses you."
"The <EActor> kisses the <EVictim>.";
Desc: "Every 2d6 rounds, a nereid can attempt to kiss a victim,
      causing him (or her) to drown.";
}
#line "mon2.irh" 2320
Monster "rainbow sprite" : 9, 81, 118
{
Image: bright red 'f'; Size: 2;
CR: 1; HD: 1; Hit: 0; Def: 18; Mov: 150%; Spd: 60%; Mana: 45;
Str 5, Dex 14, Con 10, Int 8, Wis 12, Cha 14;
Stati[39,42,6];
Spells: $"color spray", $"dimension door";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 36, 32, 44,
13, 38, 27,
48;
Flags: 52, 1, 57, 55,
74, 90, 39, 12;
On Event 32 {
int32 c;
switch(1d6)
{
case 1: c = 12; break;
case 2: c = 14; break;
case 3: c = 13; break;
case 4: c = 9; break;
case 5: c = 11; break;
case 6: c = 10; break;
}
if ((EActor->Image & 0x00FF) == 'f')
EActor->Image = 'f' + c*256;
return 0;
};
Desc: "Rainbow sprites are tiny, mischevious fae that delight
      in bedeviling and blinding adventurers, eventually leading
      them to their death at the hands of more powerful creatures.
      They appear as miniscule humans with pointed ears and 
      gossamer wings, ever shifting colors.";
Gear:
$"sprite bow",
3d6 $"tiny arrow";
}

Monster "bogwart" : 9, 118
{
Image: brown 'f'; Size: 3; Mana: 6;
CR: -1; HD: 1; Hit: +0; Def: 12; Mov: 100%; Spd: 80%;
Str 7, Dex 16, Con 12, Int 7, Wis 12, Cha 6;
Attk: 9 for 0d0 36 (DC 13)
and 3d8 57 (DC 13);
Stati[39,42,6];
Stati[124,18,+4];
Feats: (((49 + 1) + 32) + 44), 18, 32, 36, 44;
Flags: 36, 1, 93, 49, 94,
52, 53, 57, 38;
Spells: $"doom";
Desc: "Bogwarts are small, malicious swamp-dwelling humanoid fae that
      seek to confuse and rob travellers. Their touch brings the rot and
      decay of a humid swamp to bear against those they seek to waylay.";
}


Monster "leprechaun" : 9, 81, 118
{
Image: green 'f'; Size: 3; Depth: 3;
CR: 2; HD: 3; Hit:+3; Def: 17; Mov: 150%; Spd: 125%; Mana: 75;
Str 7, Dex 16, Con 14, Int 12, Wis 14, Cha 16;
Attk: 9 for 36 (DC 18),
1 for 1d1 13;
Stati[39,57,1];
Stati[39,42,6];
Spells: $"invisibility", $"spectral force", $"polymorph self"

$"ventriloquism";
Feats: (((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34), 18,
36, 38, 32, 44,
6, 13;
Flags: 1, 52, 57, 74,
79, 85;
Desc: "Magical pranksters and thieves, leprechauns are
      famous for the rumors of their treasure and their duplicity.
      They treat their own thefts as acts of harmless whimsy, but
      will viciously betray and slay any who steal from them or
      endanger their treasure.";
Gear:
5d100 $"gold piece";
}

Monster "nixie" : 9
{
Image: blue 'f'; Size: 3; Mana: 15;
CR: 1; HD: 1; Hit: 1; Def: 10; Mov: 100%; Spd: 100%;
Str 7, Dex 16, Con 11, Int 12, Wis 13, Cha 18;
Arm: 5;
Attk: 1 for 1d2 13;
Stati[39,57,1];
Feats:
(((49 + 1) + 32) + 44), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
17, 18, 36, 41, 40, 3,
44, 9, 13, 38;
Flags: 1, 31, 86, 38, 65;
Gear:
$"short sword" of random 0 to 1,
$"arbalest" of random 0 to 1,
2d6 $"crossbow bolt";
Spells: $"charm person", $"suggestion", $"waterspout";
Desc: "Most nixies are slim and comely, with lightly scaled, pale green
    skin and dark green hair. Females often twine shells and pearl strings
    in their hair and dress in wraps woven from colorful seaweed. Males
    wear loincloths of the same materials. Nixies prefer not to leave their
    lakes.";
}

Monster "sprite" : 9, 81, 118
{
Image: cyan 'f'; Size: 2; Mana: 30;
CR: 3; HD: 1; Hit: 3; Def: 15; Mov: 160%; Spd: 100%;
Str 7, Dex 18, Con 11, Int 16, Wis 15, Cha 16;
Attk: 9 for 3d6 36 (DC 22);
Stati[39,57,1];
Immune: 0x00100000, 0x00008000, 0x00080000;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9), (((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 17, 18,
36, 41, 40, 3,
44, 9, 13, 38;
Flags: 1, 12, 86, 39,
90;
Gear: $"dagger", 3d6 $"tiny arrow", $"sprite bow";
Stati[100,2];
Spells: $"confusion", $"ESP", $"dispel magic",
$"spectral force", $"polymorph self", $"faerie fire";
Desc: "Tiny fey with a malicious and inscrutable sense of
      humor, the sprites are naturally invisible. When they
      are seen by magical means, they appear as tiny elves with
      gossamer wings and a faint glowing aura.";
On Event 208 "It is naturally invisible. ";
}

Item "sprite bow" : 24
{
Image: brown ')';
Mat: 8;
SDmg: 1d4;
LDmg: 1d1;
Range: 10;
Crit: x3; Threat: 3;
Weight: 3; Group: 0x00000020;
Fires: $"tiny arrow";
Size: 3;
Flags: 1, 43, 33, 46;
Desc: "This tiny bow has been crafted by sprites. It's far too small
      for other creatures to use effectively.";
On Event 13 {
if (EActor->GetAttr(25) > 2)
{
EActor->IPrint("The sprite bow is far too tiny for you to wield!");
return 2;
}
};
}

Item "tiny arrow" : 45
{
Image: grey 24; Group: 0x00000020;
Mat: 8; Size: 2; Weight: 1; Cost: 5 4;
SDmg: 0d0+1; LDmg: 0d0+1; Acc: -1; Range: -2;
Flags: 8, 1;
Desc: "These arrows are barely longer then your middle finger, but
      they're no toy -- the tip is as razor-sharp as any full-sized
      arrow.";
}

Poison "elfshot" : 4
{
Level: 5;
cval: 2;
sval: 15;
lval: 4;
xval: 16; pval: 3d4;
Desc: "This poison has an onset (and recurrance) time of <11>2<7> turns,
      causing its targets to fall into a deep slumber. It requires <11>4<7> 
      saving throws against <11>DC 15<7> to overcome the effect fully.";
}

Monster "winterwier" : 9, 118
{
Image: bright cyan 'f'; Size: 2;
CR: 7; HD: 3; Hit: +1; Def: 17; Mov: 150%; Spd: 100%;
Str 4, Dex 16, Con 11, Int 9, Wis 14, Cha 14;
Attk: 9 for 3d6 2
and 3d20 25 (DC 17);
Stati[118,18,50];
Stati[39,57,1];
Stati[39,42,6];
Immune: 0x00000002;
Feats: ((((49 + 1) + 32) + 50) + 35), ((((49 + 1) + 32) + 50) + 32),
36, 37, 26;
Flags: 1, 61, 12, 49, 53,
42, 52;
Spells: $"dimension door", $"charm person", $"faerie fire",
$"summon nature's ally II", $"creeping cold";
Desc: "The winterwier are faeries that come out of their
      caves deep below the earth with the first frost of winter
      to spread an icy rime on houses and buildings -- as well
      as to kill any poor souls who are foolish enough to be
      trapped outside in the cold of winter. Utterly devoid
      of compassion, the winterwier are the cruelty and malice of
      winter given flesh, and they delight in their role as the
      harvesters of the weak.";
On Event 209
"It will not enter a building crafted by human(oid) hands,
        nor a sacred place.",
1 {
if (EMap->RegionAt(EActor->x+DirX(e.EDir),EActor->y+DirY(e.EDir)) ==
$"place of sanctuary")
return 2;
};
}

Monster "satyr" : 9, 81, 87
{
Image: brown 'f'; Size: 4;
CR: 3; HD: 5; Hit: +2; Def: 14; Mov: 150%; Spd: 125%;
Str 10, Dex 12, Int 12, Wis 12, Cha 18; Arm: 5; Mana: 20;
Attk: 8 for 1d6 13,
1 for 1d2 13;
Stati[39,57,1];
Stati[39,42,6];
Stati[39,7,1];
Stati[124,18,4];
Stati[124,32,4];
Stati[124,36,4];
Stati[124,37,4];
Stati[124,44,4];
Spells: $"charm person", $"sleep", $"fear";
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
6, 11, 18, 20,
23, 26, 25, 32,
36, 37, 44, 48;
Gear:
$"dagger" of random 1 to 2,
$"short bow" of random 1 to 2,
6d4 $"sheaf arrow";
Flags: 1, 52, 74, 64;
Desc: "A satyr's hair is red or chestnut brown, while its hooves and
  horns are jet black. A satyr is about as tall and heavy as a half-elf.
  Satyrs speak Sylvan, and most also speak Common.
  The keen senses of a satyr make it almost impossible to surprise one in
  the wild. Conversely, with their own natural grace and agility, satyrs
  can sneak up on travelers who are not carefully watching the surrounding
  wilderness. Once engaged in battle, an unarmed satyr attacks with a
  powerful head butt. A satyr expecting trouble is likely to be armed with
  a bow and a dagger and typically looses arrows from hiding, weakening an
  enemy before closing.";
}

Monster "nymph" : 9, 81, 87
{
Image: pink 'f'; Size: 4; Mana: 128;
CR: 8; HD: 6; Hit: 4; Def: 14; Mov: 100%; Spd: 100%;
Str 10, Dex 17, Con 12, Int 16, Wis 17, Cha 20;
Attk: 1 for 1d2 13,
43 for 10d20 24,
102 for $"human";
Stati[39,105,+1];
Stati[39,53,+6];
Stati[39,73,+2];
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,7];
Stati[124,45,8];
Stati[124,36,4];
Spells: $"Unearthly Beauty", $"Dimension Door";
#line "mon2.irh" 2594
Stati[113,52,+5];
Stati[111,27,+5];
Feats: 8, 9, 23, 13,
2, 36, 17, 3,
18, 32, 44, 45,
((((49 + 1) + 32) + 50) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((49 + 1) + 32) + 44);
Flags: 1, 52, 50, 74, 90,
65;
On Event 209
"It adds its Charisma bonus to its saving throws as a grace
	    bonus, and to its defense class as a deflection bonus.";
Gear:
1d4 $"dagger",
50% $"viewing lens",
20% $"ring" of random 1 to 6,
10% $"cloak" of random 1 to 5;
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}


0 Effect "Unearthly Beauty" : 46
{
Purpose: 0x00001; sval: 0; Flags: 63, 104;
aval: 11; lval: 3;
Desc: "Through a conscious act of will, a nymph can intensify
      her beauty to the point where it is so breathtaking as to
      literally stop a living creature's heart, striking them
      dead instantly. This is a death effect, and a nymph will
      only use such a power against an irredemably wicked being,
      or in truly desperate straights.";
On Event 28 {
VPrint(e, "You look upon the glory of the <EActor>,
        and your heart stops.", "The <EVictim> collapses, dead.");
ThrowDmg(42,0,0,"a nymph's beauty", EActor, EVictim);
return 1;
},
83 {
if ((GetHandle(EVictim) != NULL) && EVictim->isCreature())
if (EVictim->GetAttr(28) >= e.saveDC)
{
e.Immune = true;
return 1;
}
return 0;
},
155 {
if (!EVictim->isCreature())
return -1;
if (!EVictim->isMType(91))
return -1;
if (!(EVictim->Percieves(EActor) & (0x0001|0x0002)))
return -1;
if (EActor->DistFrom(EVictim) > 3)
return -1;
if (EVictim->tmID == $"grey nymph" || EVictim->tmID == $"nymph")
return -1;

if (EVictim->HasMFlag(49) && EVictim->HasMFlag(53))
return 0;
if (EActor->mHP > EActor->cHP*2)
return 0;

return 1;
};
}

Monster "grey nymph" : 9, 81, 87
{
Image: grey 'f'; Size: 4; Mana: 128;
CR: 4; HD: 4; Hit: 3; Def: 14; Mov: 100%; Spd: 100%;
Str 10, Dex 17, Con 12, Int 16, Wis 17, Cha 20;
Attk: 1 for 1d2 13,
43 for 3d10 24,
102 for $"human";
Stati[39,53,+6];
Stati[39,73,+2];
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,3];
Stati[124,45,8];
Stati[124,36,4];
Spells: $"Unearthly Beauty";
#line "mon2.irh" 2686
Stati[113,52,+5];
Stati[111,27,+5];
Stati[215,81];
Feats: 8, 9, 23, 13,
2, 36, 17, 3,
18, 32, 44, 45,
((((49 + 1) + 32) + 50) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((49 + 1) + 32) + 44);
Flags: 1, 52, 49, 74, 90,
65;
On Event 209
"It adds its Charisma bonus to its saving throws as a grace
	    bonus, and to its defense class as a deflection bonus.";
Gear:
1d4 $"dagger",
50% $"viewing lens",
20% $"ring" of random 1 to 3,
10% $"cloak" of random 1 to 2;
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
Desc: "Grey nymphs were once normal nymphs, but betrayed their
	  duty as protectors of the forests for material gain (or were
	  corrupted and coerced by Maeve), and now exist as tempresses
	  and politicos, surviving on the edges of human settlements or
	  deep underground, for sylvan creatures despise them utterly.";
}


Template "half-fey" : 0x0100 for 11
{
CR: +2 (Min 3); MType: 9; Size: -1;
Str -4, Dex +4, Wis +4, Cha +4;
Desc: "As a result of trysts, pranks, curses and the occasional
    romance, many humanoids have fey blood in their veins.";
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22);
Stati[39,57,1];
Stati[39,42,6];
Flags: 52, !51, 74, 12;
Spells: $"faerie fire", $"sleep", $"dimension door";
On Event 155 {
if (EActor->HasMFlag(66) || EActor->isMType(9))
return -1;
if (enFreaky() % 10 != 8)
return -1;
return 0;
} ;
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(76))
h->AddQuality(76);
}
};
}
#line "mon2.irh" 2794
Monster "naga" : 21, 52
{
Image: grey 'n'; Size: 5;
Desc: "Nagas are wise, magical creatures of legend that possess the
      body of a snake and the head of a woman. Several different breeds
      of nagas exist, differentiated by the coloration of their scales;
      some are good, others evil and others neither. A naga's breed can
      be discerned with the Knowledge (Mythology) skill.";
Flags: 108, 24;
}

Monster "water naga" : 21, 52
{
Image: azure 'n'; Size: 5;
CR: 9; HD: 7; Def: 15; Hit: 5; Mov: 120%; Spd: 120%;
Str 16, Dex 13, Con 18, Int 10, Wis 17, Cha 15;
Attk: 7 for 2d6 12 and 0d0 60 (DC 17),
102 for $"naga";
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 8, 32,
43, 44;
Flags: 36, 30, 65, 28,
30, 111;
Desc: "The water naga is a strikingly beautiful creature with
      the head of a woman and the body of a snake. Intricate patterns
      weave over its emerald green scales, in contrast to the brilliant
      orange spines that line its back. A naga's eyes gleam with an
      almost hypnotic intelligence.";
Poison: $"water naga venom";
Stati[39,82,7];
Lists:
* 21
(50 + 1000);
}

Poison "water naga venom" : 4
{
Level: 5;
cval: 7;
sval: 17;
lval: 4;
xval: 52; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>4<7> saving throws against <11>DC 17<7> 
      to overcome.";
}

Monster "guardian naga" : 21, 52
{
Image: red 'n'; Size: 5;
CR: 12; HD: 11; Def: 10; Arm: 7; Hit: 12; Mov: 150%; Spd: 155%;
Str 21, Dex 14, Con 19, Int 16, Wis 19, Cha 18;
Attk: 7 for 2d6+7 12 and 0d0 60 (DC 19),
40 for 0d0 60 (DC 19),
102 for $"naga";
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
(((((49 + 1) + 32) + 50) + 38) + 20), (((49 + 1) + 32) + 44),
6, 8, 11, 32, 3,
43, 44;
Flags: 36, 30, 65, 28,
30, 51, 50, 111;
Desc : "Guardian nagas, the highest common caste of naga society, serve as
    great and terrible champions of light. Subtle in their weavings, they
    seek out sources of hidden darkness to oppose with their great store
    of occult knowledge. Many guardian nagas watch over ancient evils far
    more powerful then they, ensuring that they remain concealed from the
    prying eyes or interlopers.";
Poison: $"guardian naga venom";
Stati[39,82,9];
Lists:
* 21
(50 + 1000)
(52 + 1000);
}

Poison "guardian naga venom" : 4
{
Level: 9;
cval: 7;
sval: 19;
lval: 2;
xval: 52; pval: 1d10;
Desc: "This poison inflicts <11>1d10<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 19<7> 
      to overcome.";
}

Monster "dark naga" : 21, 52
{
Image: shadow 'n'; Size: 5;
CR: 10; HD: 9; Def: 13; Hit: 7; Mov: 150%; Spd: 140%;
Str 14, Dex 15, Con 14, Int 16, Wis 15, Cha 17;
Attk: 10 for 2d4+2 12 and 0d0 60 (DC 16),
7 for 1d4+2 12 and 0d0 60 (DC 16),
102 for $"naga";
Stati[39,42,6];
Stati[39,91,12];
Immune: 0x00100000, 0x00000010;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
(((((49 + 1) + 32) + 50) + 38) + 20),
6, 8, 11, 32, 3,
43, 44;
Flags: 36, 30, 65, 28,
30, 51, 49, 111;
Stati[211,0x0080];
Desc: "While most nagas are concerned with discovering secrets, dark nagas
    are rather more interested in preserving the communal secrets of the
    naga race. They are the assasins and spies of their species, operating
    from the shadows and answering to unseen lords and masters. They have
    a complex and ritualistic secret society of their own, to which they
    are fanatically loyal, and they follow arcane codes of honor dating
    back millenia. While nobody likes them, even the guardian nagas accept
    that the darks have a place within naga society.";
Poison: $"dark naga venom";
On Event 209
"Dark nagas are immune to any form of mind reading and cannot be
      detected telepathically.";
Stati[39,82,7];
Lists:
* 21
(50 + 1000);
}

Poison "dark naga venom" : 3
{
Level: 5;
cval: 0;
sval: 16;
lval: 1;
xval: 7;
Desc: "This poison takes effect immediately and causes its victim to
    fall into a deep slumber. It requires <11>1<7> saving throw against
    <11>DC 16<7> to overcome.";
}

Monster "spirit naga" : 21, 52
{
Image: white 'n'; Size: 5;
CR: 12; HD: 9; Def: 16; Hit: 6; Mov: 150%; Spd: 145%;
Str 18, Dex 13, Con 18, Int 12, Wis 17, Cha 17;
Attk: 7 for 2d6+6 12 and 0d0 60 (DC 18),
43 for 90 (DC 19),
102 for $"naga";
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
(((((49 + 1) + 32) + 50) + 38) + 20),
8, 32, 43, 44;
Flags: 36, 30, 65, 28,
30, 52, 49, 111;
Desc: "Spirit nagas, the most wicked of their race, are a grim and macabre
    breed. Trafficking in the souls of the dead, they draw humanoids away
    from the path of light with subtle deceptions and promises of occult
    secrets, then trap their spirits in gems when they die. Overly morbid
    in mindset and given to fatalistic outlooks, spirit nagas are usually
    shunned by the rest of their race.";
Poison: $"spirit naga venom";
On Event (41+500) {
if (!EVictim->isCreature())
return 0;
if (e.AType == 43 && e.DType == 90)
{
EActor->GainTempStati(72,EVictim,1d4+1,7,43);
if (EVictim->ResistLevel(21) == -1 ||
EVictim->SavingThrow(2,18,0x00000001|0x00000002|0x00000020))
{
e.Immune = true;
return 1;
}
VPrint(e,"You are charmed by the spirit naga's gaze!",
"The <EVictim> is charmed!");
EVictim->GainTempStati(137,EActor,60,2,1,0,$"spirit naga", EActor->ChallengeRating());
return 1;
}
return 0;
},
209
"Spirit nagas can charm opponents with their beguiling gaze.";
Stati[39,82,7];
Lists:
* 21
(50 + 1000)
(52 + 1000);
}

Poison "spirit naga venom" : 4
{
Level: 9;
cval: 7;
sval: 18;
lval: 2;
xval: 52; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 18<7> 
      to overcome.";
}

Monster "banelar" : 21, 52
{
Image: purple 'n'; Size: 6;
CR: 9; HD: 7; Def: 12; Hit: 6; Mov: 100%; Spd: 125%;
Str 26, Dex 13, Con 21, Int 17, Wis 16, Cha 16; Arm: 3;
Attk: 10 for 2d4 12 and 0d0 60 (DC 18),
7 for 1d3 12 and 0d0 60 (DC 18),
102 for $"naga";
Stati[39,66,2];
Stati[39,42,6];
Immune: 0x00000010, 0x00000004, 0x00040000;
Stati[38,0x00000008];
Feats: (((49 + 1) + 32) + 11), (((((49 + 1) + 32) + 50) + 38) + 27), (((((49 + 1) + 32) + 50) + 38) + 26),
8, 11, 20, 44, 47;
Flags: 36, 30, 28, 30, 51, 49,
111;
Desc: "Banelars are evil, nagalike creatures whose mastery of spells
      and use of magic items makes deadly opponents.";
Poison: $"banelar venom";
On Event (37+1000) {
EActor->Timeout /= 2;
},
209
"Banelars cast spells very rapidly, incurring only half the normal
        timecost in doing so.";
Gear:
$"ring" of random 3 to 4,
$"amulet" of random 3 to 4,
$"bracers" of random 3 to 4,
20% $"wand" +3 of $"ice" else
25% $"wand" +3 of $"cleansing light" else
33% $"wand" +3 of $"ash" else
50% $"wand" +3 of $"surtension" else
$"wand" +3 of $"the void",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Stati[39,82,6];
Lists:
* 21
(50 + 1000)
(52 + 1000);
}

Poison "banelar venom" : 4
{
Level: 9;
cval: 7;
sval: 18;
lval: 2;
xval: 52; pval: 2d4;
Desc: "This poison inflicts <11>2d4<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 18<7> 
      to overcome.";
}



Monster "aranea" : 26, 35, 87
{
Image: pink 's'; Size: 4;
CR: 1; HD: 3; Hit: 1; Def: 12; Mov: 150%; Spd: 130%;
Str 11, Dex 15, Con 14, Int 14, Wis 13, Cha 14;
Attk: 7 for 1d6 12 and 1d6 43,
101 for $"human",
101 for $"giant spider";
Stati[39,42,6];
Spells: $"web";
Immune: 0x00002000;
Feats: (((49 + 1) + 32) + 9), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 14;
Flags: 2, 3, 4, 28,
36, 86, 54;
Desc: "Duplicitious and cunning, the aranea are a race of intelligent,
      magical spiderfolk with the ability to take a human form. They are
      not maliciously evil, instead prefering to exist in the moral grey
      zones of the world and weave their curious plots with as little harm
      to others as possible. Some aranea enmesh themselves in human society,
      while others prefer to live as spiders, hunting for (nonsapient) prey 
      in vast subterranian complexes. Aranea love mental puzzles, complex 
      intrigues and scandalous gossip more than anything else.";
On Event 157 {
if (ETarget->isMType(85) && !EActor->isHostileTo(ETarget))
e.EParam = 0;
return e.EParam;
};
}

Monster "azmyth" : 3
{
Image: cyan 'b'; Size: 3;
CR: 1; HD: 2; Hit: 1; Def: 15; Mov: 180%; Spd: 100%;
Str 7, Dex 15, Con 12, Int 13, Wis 13, Cha 12;
Attk: 7 for 1d4 12
and 1d8+2 4,
102 for $"bat";
Stati[39,91,4];
Stati[39,13,6];
Spells: $"silence", $"obscurement", $"phase door";
Feats: 18, ((49 + 1) + 5), (((49 + 1) + 32) + 44),
32, 44;
Flags: 3, 8, 2, 35,
12, 54, 86, 37, 39, 6;
On Event (52+1000) {
EActor->IdentifyMon();
},
(17+1000) {
EActor->IdentifyMon();
};
Desc: "These intelligent, telepathic creatures seem to have evolved
      from bats. They are solitary wanderers that dwell in underground
      regions, live off of fruits and fungi and frequently form agreements
      with humanoid beings for mutual protection and companionship. Their
      potent magical defenses can protect them from most threats and
      predators.";
}

Monster "firebat" : 3, 35
{
Image: bright red 'b'; Size: 2;
CR: -4; HD: 1; Hit: +0; Def: 10; Mov: 150%; Spd: 100%;
Str 1, Dex 15, Con 10, Int 2, Wis 14, Cha 4;
Attk: 9 for 1d3 1,
60 for 1d3 1,
40 for 2d3 1;
Stati[124,44,4];
Stati[124,32,4];
Stati[39,13,2];
Immune: 0x00000001;
Feats: (((49 + 1) + 32) + 44), ((49 + 1) + 5),
18, 32, 36, 44;
Flags: 36, 37, 39,
3, 2, 12, 6, 41;
Desc: "The firebat bears a passing resemblance to the standard nocturnal
  bat, if you are willing to overlook the magical aura of flame that
  surrounds it.";
}

Monster "night hunter" : 3, 2
{
Image: blue 'b'; Size: 4;
CR: 0; HD: 2; Hit: +1; Def: 11; Mov: 150%; Spd: 100%;
Str 10, Dex 16, Con 13, Int 11, Wis 11, Cha 10; Mana: 20;
Attk: 24 for 1d6 13,
7 for 1d6 12,
6 for 1d4 11,
102 for $"bat";
Stati[39,42,18];
Spells: $"spook";
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 32, 36, 44;
Flags: 36, 37, 39, 107,
3, 2, 12;
Desc: "The night hunter is a large, bat-like animal with a triangular tail.";
}

Monster "sonic bat" : 3
{
Image: yellow 'b'; Size: 3;
CR: 7; HD: 2; Hit: 1; Def: 15; Mov: 180%; Spd: 100%;
Str 6, Dex 20, Con 6, Int 14, Wis 14, Cha 8; Mana: 20;
Attk: 9 for 2d8 10,
102 for $"bat";
Stati[124,32,10];
Stati[124,36,10];
Stati[39,13,12];
Spells: $"shout", $"haste";
Immune: 0x00000200, 0x00010000, 0x00020000, 0x00002000, 0x01000000;
Feats: 18, ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((49 + 1) + 32) + 44),
32, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35);
Flags: 3, 8, 2,
12, 36, 55, 6, 39, 14, 48;
On Event ((20+2000)) {
if (e.AType == 65) {
if (GetHandle(EItem2)) {
VPrint(e,"The <EItem2> is deflected by an invisible force!",
"The <EItem2> is deflected by an invisible force!");
return 1;
}
} else if (e.AType == 41) {
if (GetHandle(EItem)) {
VPrint(e,"The <EItem> is deflected by an invisible force!",
"The <EItem> is deflected by an invisible force!");
return 1;
}
}
return 0;
};
On Event (52+1000) {
EActor->IdentifyMon();
},
(17+1000) {
EActor->IdentifyMon();
};
Desc: "These intelligent, sound-based creatures seem to have evolved
      from bats. They are solitary wanderers that dwell in underground
      regions, but unlike most bats they are strict carnivores. Their
      mastery over sound and motion allows them to pulverize many living
      creatures from a distance -- approaching a sonic bat is often as
      difficult as approaching a pikeman. They can surround themselves with
      a vibrating wall of air that deflects missile weapons.";
}

Monster "centaur" : 24, 81, 87
{
Image: purple 'q'; Size: 5;
CR: 4; HD: 4; Hit: +3; Def: 12; Mov: 175%; Spd: 125%;
Str 18, Dex 14, Con 15, Int 10, Wis 13, Cha 12;
Attk: 2 for 1d6 13;
Flags: 36, 37, 35, 80, 50;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
(((((49 + 1) + 32) + 50) + 38) + 2), 32, 48, 18, 1;
Desc: "A sylvan creature with the head and torso of a man,
      but the body of a horse, centaurs lead a tribal lifestyle
      deep in forests and avoid contact with humanity. Their
      prowess as archers and scholars is greatly revered.";
Gear: 33% $"large club" else 50% $"bastard sword" else $"ranseur",
$"long bow" of random 0 to 3,
3d6 $"sheaf arrow",
1d3 $"potion" of $"healing";
}

Monster "drider" : 26, 58
{
Image: skyblue 's'; Size: 5;
CR: 10; HD: 6; Hit: +6; Def: 16; Mov: 100%; Spd: 130%;
Str 15, Dex 15, Con 16, Int 15, Wis 16, Cha 16;
Attk: 7 for 1d4+1 12 and 0d0 60 (DC 16),
1 for 1d2 13,
1 for 1d2 13;
Stati[39,42,6];
Stati[39,82,6];
Stati[124,18,4];
Stati[124,36,4];
Stati[118,18,50];
Poison: $"drider venom";
Stati[118,13,+1];
Feats: (((49 + 1) + 32) + 11), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12),
(((49 + 1) + 32) + 9),
7, 8, 18, 32,
36, 44;
Immune: 0x00002000;
Flags: 53, 52, 49, 111;
Spells: $"globe of shadow", $"detect monsters", $"dispel magic",
$"levitation", $"faerie fire", $"suggestion";
Gear: 2d1 $"dagger";
Lists:
* 21
(50 + 1000);
}

Poison "drider venom" : 1
{
Level: 6;
cval: 3;
sval: 16;
lval: 1;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>3<7> turns, and requires <11>1<7> saving throw against <11>DC 16<7> 
      to overcome.";
}

Monster "grippli" : 51, 87
{
Image: bright red 'R'; Size: 2; Mana: 25;
CR: -2; HD: 1; Hit: 0; Def: 13; Mov: 75%; Spd: 100%;
Str 5, Dex 16, Con 12, Int 12, Wis 14, Cha 12;

Stati[39,42,3];
Stati[124,7,+12];
Stati[124,18,+8];
Stati[124,22,+4];
Feats: (((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 22,
36, 44, 45;
Flags: 37, 35, 38, 31, 30,
54, 57, 104;
Desc: "The grippli are a race of intelligent, psionically
      active tree frogs. Gifted with opposable thumbs and well
      given to tool use, the grippli are an isolationist people.
      Their greatest contentment is found basking in the noonday
      sun, contemplating the greater mysteries in the waters of
      a lake or jungle. One of the oldest races on Theyra, they 
      have lifespans measured in centuries, and produce young 
      only very rarely and under special conditions. For this 
      reasson, they distrust humans and demihumans, though they 
      have long shared a friendship with the lizardfolk, with 
      whom they share more in common than they do with mammals.\n
      __Unlike the practicality of their cousins, grippli are
      much given to mysticism, exploration and even whimsy. They
      do not tend to embrace industry and are not capitalistic,
      but are very curious in spite of their caution. Legends
      claim that the grippli have built great, ancient hidden
      cities in the jungles of Theyra.\n
      __More and more frequently now young grippli are venturing
      away from these mythical cities to explore the rest of the
      world, and especially to delve underground. Grippli revere
      and worship the sun (and are especially sacred to Hesani,
      though Xavias respects them deeply as well), and thus see
      long sojourns into dark places to be a kind of purifying
      spiritual ordeal.\n
      __Grippli defend themselves with blowguns, daggers, snares
      and traps, as well as with the powers of their minds. Their 
      coloration allows them to blend into jungle terrain with
      great ease, and though they are not a violent people, they
      excel at ambushes and defensive tactics.";
On Event 150 {
rID wildID;
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
return 0;
},
209
"All grippli are wild talents and possess a single randomly
        chosen psionic power.";
Gear:
50% $"dagger" else
$"stiletto",
50% $"blowpipe" else
$"sling",
80% 1d2 $"potion" of $"healing",
50% $"potion" of random 1 to 5,
2% $"bracers" of random 1 to 5,
2% $"gloves" of random 1 to 5,
2% $"headband" of random 1 to 5,
2% $"bracers" of random 1 to 5,
2% $"horn" of random 1 to 5,
2% $"ring" of random 1 to 5,
2% $"amulet" of random 1 to 5,
2% $"lenses" of random 1 to 5;
#line "mon2.irh" 3329
}



Monster "jackal lord" : 6, 11, 19
{
Image: grey 'l'; Size: 4; Mana: 120;
CR: 7; HD: 8; Hit: +6; Def: 16; Mov: 100%; Spd: 100%;
Str 13, Dex 15, Con 14, Int 12, Wis 18, Cha 17;
Attk: 7 for 1d10 12,
6 for 1d4 11,
6 for 1d4 11,
101 for $"jackal",
101 for $"human",
43 for 90 (DC 20);
Stati[39,42,6];
Stati[39,82,8];
Stati[39,105,1];
Feats: 6, 11, 20, 32,
36, 3, 44, 30,
14, (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
((((((49 + 1) + 32) + 50) + 38) + 30) + 26), (((((49 + 1) + 32) + 50) + 38) + 26);
Stati[216,6];
Spells: $"cat's grace", $"spectral force", $"charm person",
$"detect monsters", $"summon jackals", $"dimension door";
Flags: 1, 36, 49, 51, 53, 92;
Desc: "Aristocratic, mysterious and learned, jackal lords are nothing if 
      not civilized. Nurturing destructive cults and weilding Machiavellian
      schemes like swords, the jackal lords are among the last remaining
      worshippers of the old pantheon of Eskanti. Being supremely egotistical
      beings, jackal lords dislike other members of their own race intensely,
      prefering to surrond themselves with fawning human worshippers. Indeed,
      the rivalty among jackal lords has been known to grow so bitter as to
      end in cannibalism. Deeply enmeshed in mysticism, religion and dark
      occult secrets, the jackal lords have ensured that little else but
      this is known about their race. In physical form, jackal lords are
      sleek and graceful, appearing as anthropomorphized humanoid jackals
      with reflexes as smooth as their honeyed tongues. Dogs are natural
      allies of jackal lords.";
On Event (41+500) {
if (e.DType == 90)
{
EActor->GainTempStati(72,EVictim,1d4+1,7,43);
if (EVictim->ResistLevel(20) == -1 || EVictim->mID == $"jackal")
{
e.Immune = true;
return 1;
}
VPrint(e,"You change into a jackal!",
"The <EVictim> changes into a jackal!");
EVictim->Shapeshift($"jackal",true,NULL);
EVictim->GainTempStati(103,NULL,10,2,1,0,$"polymorph other", EActor->ChallengeRating());
return 1;
}
return 0;
},
210
"to turn an enemy into a jackal every 1d4+1 rounds";
Lists:
* 21
(52 + 1000);
}

Effect "Summon Jackals" : 9
{ 0x00000100; Base: 80; Cost: 20; qval: 0x0002; Flags: 82;
Purpose: 0x00100; rval: $"jackal"; pval: 5;
Desc: "Summons an group of jackals worth CR 5 to fight in the 
      caster's name."; }

Monster "wereboar" : 19, 35
{
Image: red 'l'; Size: 4; Arm 10;
CR: 6; HD: 4; Hit: +4; Def: 18; Mov: 150%; Spd: 120%;
Str 17, Dex 11, Con 18, Int 10, Wis 11, Cha 8;
Attk:
23 for 1d6+1 12,
6 for 1d4+3 11,
6 for 1d4+3 11,
101 for $"human",
101 for $"wild boar";
Stati[39,42,6];
Stati[39,71,6];
Feats: ((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((((49 + 1) + 32) + 50) + 38) + 26),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
5, 7, 18, 32, 36,
44;
Flags: 1, 36;
Gear:
$"battleaxe",
$"banded mail",
1d2 $"potion" of $"extra-healing";
Desc: "A wereboar in humanoid form tends to be a stocky, muscular
      individual of average height. It dresses in simple garments that are
      easy to remove, repair, or replace.";
Lists:
* 103 $"minotaur",
* 100 $"minotaur",
* 101 $"wild boar";
}

Monster "wererat" : 19, 25
{
Image: brown 'l'; Size: 4; Arm: 10;
CR: 4; HD: 2; Hit: +2; Def: 14; Mov: 120%; Spd: 100%;
Str 12, Dex 16, Con 14, Int 7, Wis 13, Cha 5;
Attk:
6 for 1d4 11,
6 for 1d4 11,
101 for $"human",
101 for $"plague rat"; Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), ((((49 + 1) + 32) + 50) + 13);
Flags: 1, 49, 52, 36, 57;
Gear:
$"rapier", $"stiletto",
$"chainmail shirt",
1d3 $"potion" of $"healing";
Desc: "Nimble and venomous, wererats are the weakest of the true
      lycanthropes. They are able to take three forms: that of a human,
      a rat and their natural form, a monsterous hybrid of the two.
      Wererats are viscious creatures, enjoying stalking those weaker
      then them and destroying anything that others find beautiful.";
Lists:
* 101 $"giant rat" $"plague rat";
}

Monster "weretiger" : 19, 5, 35
{
Image: yellow 'l'; Size: 5; Arm 10;
CR: 7; HD: 7; Hit: +7; Def: 15; Mov: 150%; Spd: 135%;
Str 25, Dex 15, Con 16, Int 10, Wis 11, Cha 8;
Attk:
7 for 2d6+3 12,
6 for 1d8+7 11,
6 for 1d8+7 11,
101 for $"human",
101 for $"tiger";
Stati[39,42,6];
Stati[39,71,6];
Stati[124,5,4];
Stati[124,18,4];
Stati[124,36,4];
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 14),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6),
5, 7, 18, 32, 36,
44;
Flags: 1, 36;
Gear:
$"ranseur",
$"breastplate",
1d3 $"potion" of $"extra-healing";
Desc: "Weretigers in humanoid form tend to be sleekly muscular, taller
    than average, and very agile.";
Lists:
* 101 $"tiger";
}

Monster "werewolf" : 19, 6, 35
{
Image: blue 'l'; Size: 4; Arm 10;
CR: 5; HD: 3; Hit: +3; Def: 14; Mov: 150%; Spd: 115%;
Str 15, Dex 15, Con 16, Int 10, Wis 11, Cha 8;
Attk:
7 for 1d6+1 12
and 0d0 67 (DC 17),
6 for 1d4+2 11,
6 for 1d4+2 11,
101 for $"human",
101 for $"wolf";
Stati[39,42,6];
Stati[39,71,6];
Stati[118,13,+1];
Feats: (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
5, 7, 18, 32, 36,
44;
Flags: 1, 49, 52, 36;
Gear:
$"long sword",
$"chainmail shirt",
1d3 $"potion" of $"healing";
Lists:
* 101 $"wolf";
}
#line "mon2.irh" 3524
Template "skilled" : 0x0001 for 85
{ CR: +1; HD: +1; Hit: +1; Spd: +2; Caster Level: +1;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Desc: "The survivor of a few skirmishes, this creature has had
      its competance tested, and learned from the experience.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"skilled");
return 0;
},
155 {
if (EActor->isMType(76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "experienced" : 0x0001 for 85
{ CR: +2; HD: +2; Hit: +2; Spd: +4; Caster Level: +2;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;

Desc: "An experienced creature is a leader among its kind, having
      survived several raids, campaigns or battles.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"experienced");
return 0;
},
155 {
if (EActor->isMType(76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "veteran" : 0x0001 for 85
{ CR: +4; HD: +4; Hit: +4; Spd: +6; Caster Level: +3;
Str +2, Dex +3, Con +3, Int +3, Wis +3, Cha +3;

Desc: "A veteran has studied the craft of warfare for the majority
      of his or her life, and is thus an exceedingly dangerous 
      opponent.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"veteran");
return 0;
},
155 {
if (EActor->isMType(76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "elite" : 0x0001 for 85
{ CR: +5; HD: +8; Hit: +8; Spd: +10; Caster Level: +5;
Str +2, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
#line "mon2.irh" 3580
Desc: "An experienced creature is a leader among its kind, having
      survived several raids, campaigns or battles.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"elite");
return 0;
},
155 {
if (EActor->isMType(76) || EActor->isMType(37) )
return -1;
return 0;
};
}
#line "mon2.irh" 3597
Template "barbarian;template" : 0x0002 for 87
{
Flags: -3;
CR: +2; HD: +2; Hit: +2; Def: +1; Mov: 120%; Spd: 110%;
Str +4, Dex +2, Con +4, Int +0, Wis +0, Cha +0, Luc +0;
Stati[39,100,1];
Stati[39,93,2];
Feats:
((49 + 1) + 11), ((49 + 1) + 12), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
17, 48, 4, 40;
Flags: 52, !51;
Gear: random 21 of random 0 to 1,
random 58 of random 0 to 1,
1d1 $"potion" of $"healing";
On Event (19+500) {
if (!EActor->HasStati(66) && EActor->cFP > -2)
{
DPrint(e,"You drive yourself into a killing fury!",
"The <EActor> flies into a killing fury!");
EActor->GainTempStati(66,NULL,19,7,4);
EActor->LoseFatigue(3);
}
return 0;
};
Desc: "These young tribesmen journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
}

Template "bard;template" : 0x0002 for 87
{
Flags: -3, 111;
CR: +3 (Min 4); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Dex +4, Int +4, Cha +2;
Stati[39,6,2];
Stati[39,82,1];
Stati[113,37,+8];
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), (((49 + 1) + 32) + 11),
((49 + 1) + 11),
8, 18, 32, 36,
44, 45, 38;
Gear:
random 58,
$"short bow" of random 0 to 1,
35% $"alchemy set",
35% $"disguise kit",
2d6 $"sheaf arrow",
random 22 of random 1 to 3,
1d1 $"potion" of $"healing",
50% 1d3 $"scroll" of $"identify;scroll",
25% $"horn" else
33% $"flute" else
50% $"lute" else $"mandolin";
Desc: "These young minstrels journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(50 + 1000);
On Event (19+1000) {
EActor->IdentifyTemp($"bard;template");
return 0;
};
}

Template "wildshaped druid" : 0x0002 for 87
{
Flags: -3;
CR: +4 (Min 7); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Dex +2, Con +2, Wis +4;
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,3];
Stati[113,37,+6];
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 43),
8, 18, 32, 36,
44, 45, 38, 17;
Gear:
33% $"ring" of random 2 to 3
else 50% $"boots" of random 2 to 3
else $"girdle" of random 2 to 3,
2d1 $"potion" of $"dimension door",
2d1 $"potion" of $"healing";
Desc: "These young pagans journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event 156 {
hObj h; rID animal;
EActor->GainPermStati(123,NULL,4,3,2);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) && EActor->isMonster())
h->Remove(true);
else if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
animal = theGame->GetMonID(1,
EActor->ChallengeRating()-1,
EActor->ChallengeRating(),
100, 2);
if (!animal) animal = $"leopard";
EActor->Shapeshift(animal,true,NULL);
EActor->GainPermStati(103,NULL,2,-1,-1);
return 0;
} ;
Lists:
* 21
(53 + 1000)
2 $"remove curse" $"cure disease" $"neutralize poison";
On Event (37+1000) {
EActor->IdentifyTemp($"wildshaped druid");
return 0;
};
}

Template "druid;template" : 0x0002 for 87
{
Flags: -3;
CR: +3 (Min 4); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Dex +2, Con +2, Wis +4;
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,3];
Stati[113,37,+6];
Feats:
(((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26),
8, 18, 32, 36,
44, 45, 38, 17;
Gear:
25% $"quarterstaff" else
33% $"scimitar" else
50% $"scythe" else
$"sickle",
25% 1d2 $"scroll" of $"identify;scroll",
$"short bow",
2d6 $"sheaf arrow",
50% 1d2 $"bag" of $"tanglefoot bag",
1d1 $"potion" of $"healing",
$"ring" of random 2 to 7;
Desc: "These young pagans journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event 156 {
hObj h;
EActor->GainPermStati(123,NULL,4,3,2);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
return 0;
} ;
Lists:
* 21
(53 + 1000)
#line "mon2.irh" 3768
2 $"Remove Curse" $"cure disease" $"Neutralize Poison";
On Event (37+1000) {
EActor->IdentifyTemp($"druid;template");
return 0;
};
}

Template "mage;template" : 0x0002 for 87
{
CR: +2 (Min 3); HD: +2; Def: +0; Hit: +0; Mov: 100%; Spd: 100%;
Str -2, Dex +2, Con +2, Int +4, Wis +2;
Stati[39,82,3];
Stati[113,37,+12];
Feats: (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
8, 43, 34, 44;
Flags: -3, 111, 90;
Gear: $"robes",
random 22 of random 0 to 1,
random 22 of random 0 to 1,
random 22 of random 2 to 5,
random 22 of random 2 to 5,
50% $"alchemy set",
$"potion" of random 1 to 4,
50% 1d4+1 $"scroll" of $"identify;scroll",
50% $"potion" of random 1 to 4,
20% $"wand" of random 1 to 5,
1d1 $"potion" of $"healing",
1d1 $"potion" of $"mana";
Desc: "These apprentices journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(50 + 1000);
On Event (37+1000) {
EActor->IdentifyTemp($"mage;template");
return 0;
};
}


Template "monk;template" : 0x0002 for 87
{
Flags: -3;
CR: +2; HD: +2; Def: +0; Hit: +2; Mov: +4; Spd: 110%;
Str +4, Dex +2, Con +2, Wis +2;
Attk: 1 for 1d6 13 and 1d2 17 (DC 13);
Stati[39,99,1];
Stati[39,114,1];
Stati[39,31,1];
Feats: (((49 + 1) + 32) + 44), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 11),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42), (((49 + 1) + 32) + 30),
4, 5, 18, 22, 32,
36, 44, 17, 14;
Gear: $"robes",
50% 1d3 $"scroll" of $"identify;scroll",
50% 2d1 $"nunchaku" of random 0 to 1
else 2d1 $"fighting stick" of random 0 to 1,
$"chakram",
1d2 $"potion" of $"dimension door";
Desc: "These young kohai journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event (19+1000) {
EActor->IdentifyTemp($"monk;template");
return 0;
};
}

Template "undead hunter" : 0x0002 for 87
{
Flags: -3;
CR: +3; HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +6, Wis +4, Cha +4; Stati[39,79,2];
Stati[39,25,1];
Stati[113,37,+5];
Spells: $"protection from undead",
$"detect undead",
$"protection from evil",
$"halt undead",
$"death ward";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3), (((49 + 1) + 32) + 38),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13), 14,
4, 17, 8, 44;
Flags: 50, !49;
Gear: random 21 of random 0 to 1,
random 58 of random 0 to 1,
10% $"alchemy set",
10% $"climbing rig",
10% $"craftsman's tools",
25% 1d2 $"scroll" of $"identify;scroll",
1d1 $"potion" of $"healing",
6d2 blessed $"flask" of $"Water";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
h->IFlags |= 0x0001;
if (h->QualityOK(74))
h->AddQuality(74);
}
return 0;
};
Desc: "Young and inexperienced, perhaps, but she is still an
      undead hunter, dedicated to removing the graveborn blight
      from the land.";
On Event (19+1000) {
EActor->IdentifyTemp($"undead hunter");
return 0;
};
}



Template "knight" : 0x0002 for 87
{
Flags: -3, -2;
CR: +3 (Min 3); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +6, Con +2, Wis +2;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
4, 17, 40, 8, 44;
Flags: 51, !52;
Gear: $"light lance" of random 1 to 2,
$"banded mail" of random 0 to 1,
1d1 $"potion" of $"healing";
On Event 155 {
if (EActor->GetAttr(25) == 4)
return 0;
else
return -1;
} ;
On Event 156 {
hObj h;
h = CreateMonster($"warhorse");
SetSilence();
h->PartyID = EActor->PartyID;
h->CalcValues();
Throw(110,EActor,h);
UnsetSilence();
h->Initialize();
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58))
h->AddQuality(70);
};
Desc: "Young and inexperienced, perhaps, but she is still a 
      knight, a mounted warrior with a deadly lance.";
}

Template "pike": 0x0002 for 87
{
CR: +2 (Min 2);
Flags: -3, -2, 23, 16,
51, !52;
Feats: ((((49 + 1) + 32) + 50) + 36), (((49 + 1) + 32) + 14), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), (((((49 + 1) + 32) + 50) + 38) + 14);
Gear: 33% $"longspear" of random 0 to 1
else 50% $"ranseur" of random 0 to 1
else $"lucern hammer" of random 0 to 1;
On Event 155 {
if (EActor->GetAttr(25) >= 4)
return 0;
else
return -1;
} ;
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv()) {
if (h->isType(58) && !h->HasIFlag(20))
h->Remove(true);
}
if (!EActor->HasStati(84)) {
EActor->Multiply(2,false,false);
}
};
Desc: "The true advantage of polearms comes to light when they are used
  in formation. It can be very difficult to approach a wall of pikes 
  without injury.";
}

Template "worg-rider" : 0x0002 for 10
{
Flags: -3, -2;
CR: +3 (Min 5); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +6, Con +2, Wis +2;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((49 + 1) + 11), ((49 + 1) + 12),
4, 17,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
40, 8, 44;
Gear: $"halfspear" of random 1 to 2,
$"chainmail shirt" of random 0 to 1,
1d1 $"potion" of $"healing";
On Event 155 {
if (EActor->GetAttr(25) == 3 && !EActor->isMType(106))
return 0;
else
return -1;
} ;
On Event 156 {
hObj h;
h = CreateMonster($"worg");
SetSilence();
h->PartyID = EActor->PartyID;
h->CalcValues();
Throw(110,EActor,h);
UnsetSilence();
h->Initialize();
};
Desc: "Worgs are often used as mounts by goblins and other evil
      humanoids.";
}

Template "giant-rider" : 0x0002 for 84
{
Flags: -3, -2;
Image: purple 0;
CR: +4 (Min 3); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Dex +6, Con +2, Wis +2;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), ((((((49 + 1) + 32) + 50) + 38) + 30) + 29), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8),
((49 + 1) + 11),
4, 17,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
40, 8, 44;
Gear: 75% $"arbalest" of random 1 to 2 else $"cranquin" of random 1 to 2,
10d6 $"crossbow bolt" of random 0 to 1,
$"leather armor" of random 0 to 1,
1d1 $"potion" of $"healing";
On Event 155 {
if (EActor->GetAttr(25) == 3 && !EActor->isMType(106))
return 0;
else
return -1;
} ;
On Event 156 {
rID mountID;
hObj h;
EMap->GenEncounter(0x00000004|0x00000040|0x00000100|0x00008000,
EActor->ChallengeRating()+3, EMap->Depth, 41,
0x0040,(rID)0,EActor->x,EActor->y,EActor);
h = EMap->GetEncounterCreature(0);
if (!h) {
h = CreateMonster($"ogre");
h->Initialize();
}
SetSilence();
h->PartyID = EActor->PartyID;
h->CalcValues();
Throw(110,EActor,h);
UnsetSilence();
};
Desc: "Giants are occasionally used as mounts by clever goblins and
    other evil humanoids who perch on their shoulders and attack with
    ranged weapons.";
}

Template "paladin;template" : 0x0002 for 87
{
Flags: -3;
CR: +2; HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +4, Con +4, Wis +2, Cha +4; Spells: $"detect evil";
Stati[39,79,2];
Stati[39,25,1];
Stati[39,5,2];
Stati[39,49,2];
Immune: 0x04000000, 0x08000000;
Flags: 51, 50, 107;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
4, 17, 40, 8, 44;
Gear: random 21 of random 0 to 1,
25% random 58 +1 with [1] else
random 58 of random 0 to 1,
50% $"healing kit",
25% 1d2 $"scroll" of $"identify;scroll",
1d1 $"potion" of $"healing",
50% 1d1 blessed $"flask" of $"Water";
On Event 156 {
hObj h;

for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58))
h->AddQuality(1);
EActor->GainPermStati(42,NULL,4,0,0,$"Cure Disease");
};
Desc: "Young and inexperienced, perhaps, but she is still a 
      paladin, a champion of the light, on a sacred mission to
      cleanse this area of all things evil and unholy.";
}



Template "priest;template" : 0x0002 for 87
{
Flags: -3;
CR: +2 (Min 3); HD: +2; Def: +0; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Con +2, Int +2, Wis +4 ;
Stati[39,82,3];
Stati[113,37,+8];
Stati[39,97,2];
Gear: random 21,
random 58 of random 0 to 1,
random 51 of random 0 to 1,
25% 1d2 $"scroll" of $"identify;scroll",
$"potion" of random 1 to 4,
50% $"healing kit",
25% $"scroll" of $"hallow",
50% 1d2 blessed $"flask" of $"water",
1d1 $"potion" of $"healing",
1d1 $"potion" of $"mana";
Feats: (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 17, 34, 44;
On Event 156 {
hObj h;
rID god;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) || h->isType(24))
h->IFlags |= 0x0001;
if (h->iID == $"holy symbol")
return 0;
}
h = CreateItem($"holy symbol");
switch (random(16)) {
case 0: god = $"Aiswin;Symbol"; break;
case 1: god = $"Asherath;Symbol"; break;
case 2: god = $"Ekliazeh;Symbol"; break;
case 3: god = $"Erich;Symbol"; break;
case 4: god = $"Essiah;Symbol"; break;
case 5: god = $"Hesani;Symbol"; break;
case 6: god = $"Immotian;Symbol"; break;
case 7: god = $"Khasrach;Symbol"; break;
case 8: god = $"Kysul;Symbol"; break;
case 9: god = $"Mara;Symbol"; break;
case 10: god = $"Maeve;Symbol"; break;
case 11: god = $"Sabine;Symbol"; break;
case 12: god = $"Semirath;Symbol"; break;
case 13: god = $"Xavias;Symbol"; break;
case 14: god = $"Xel;Symbol"; break;
case 15: god = $"Zurvash;Symbol"; break;
}
h->MakeMagical(god);
h->IFlags |= 0x0001;
EActor->GainItem(h,true);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(51) && !h->ieID) {
h->MakeMagical(god);
}
}
return 1;
},
(37+1000) {
EActor->IdentifyTemp($"priest;template");
return 0;
};

Desc: "These young acolytes journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(52 + 1000)
#line "mon2.irh" 4152
2 $"Remove Curse" $"cure disease" $"Neutralize Poison";
}

Template "Multitude cultist" : 0x0002 for 87
{
Flags: -3;
CR: +2; HD: 2; Hit: +1; Def: +0; Mov: 100%; Spd: 100%;
Str -2, Dex +4, Con +2, Int +2, Wis +4, Cha -4, Luc +0;
Stati[113,37,+8];
Spells:
$"phase door", $"magic missile", $"bestow curse", $"deeper darkness";
Flags: 49, !50, 90, 55;
Feats: ((((49 + 1) + 32) + 50) + 35);
On Event 62
"Blood for the horde!"
"Bow before the power of our dark lord!"
"Tremble before His presence, mortal!"
"Death to the unbeliever!"
"Now, the hour of darkness is upon you!",
155 {
if (EActor->HasMFlag(50))
return -1;
return 0;
};
Desc: "This wretched soul has given himself over utterly to the
      demon ghost horde. Not a true spellcaster, he has instead been
      given a paltry few magical gifts by his patron in exchange for
      his freedom, sanity and hygene.";
Gear:
25% $"dagger" +1 with [2],
25% $"scroll" of $"hallow",
3d4 $"dagger",
$"robes",
blessed $"holy symbol" of $"the multitude;symbol",
50% 1d3 $"scroll" of $"identify;scroll",
75% $"potion" of $"mana",
85% $"potion" of $"healing";
On Event 156 {
int32 maxlev, i, j, k; rID spID;
maxlev = max(2,EActor->ChallengeRating()/2);
j = 4d2;
for (i=0;i!=j;i++) {
for(k=0;k<=10;k++) {
spID = theGame->GetEffectID(1,1,maxlev,52);
if (spID)
if (spID->Purpose != 0x00000) {
EActor->GainPermStati(42,NULL,3,0,0,spID,0);
k = 50;
}
}
}
return 0;
},
(36+1000) {
EActor->IdentifyTemp($"multitude cultist");
return 0;
};

}

Template "archer" : 0x0002 for 87
{
Flags: -3;
CR: +3 (Min 4); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Dex +8, Str +2;
Stati[39,42,12];
Flags: 90;
Feats:
((((49 + 1) + 32) + 50) + 19), ((49 + 1) + 4), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 50),
44, 17,
22, 32, 36,
41, 45, 39;
Gear: $"short bow" of random 1 to 2,
25% 1d3 $"scroll" of $"identify;scroll",
20d6 $"sheaf arrow" of random 1 to 2,
2d2 $"potion" of $"dimension door",
25% 6d6 $"hemp rope" else
5% 6d6 $"silk rope",
1d1 $"potion" of $"healing";
Desc: "This young archer was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(24))
h->AddQuality(43);
else if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
On Event (48+1000) {
EActor->IdentifyTemp($"archer");
return 0;
};

}

Template "rogue-archer" : 0x0002 for 87
{
Flags: -3;
CR: +4 (Min 4); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Str +0, Dex +8, Int +2 ;
Stati[39,31,1];
Stati[39,80,1];
Flags: 90;
Feats:
((49 + 1) + 11), ((((49 + 1) + 32) + 50) + 19), ((49 + 1) + 4),
44, 4, 5, 18, 22, 32,
33, 36, 38, 39,
16, 47, 14;
Gear:
25% $"small glass vial" of random 1 to 3,
1d2 $"bag" of $"tanglefoot bag",
$"short bow",
25% 1d3 $"scroll" of $"identify;scroll",
25% 6d6 $"hemp rope" else
5% 6d6 $"silk rope",
20d6 $"sheaf arrow",
1d1 $"potion" of $"dimension door",
1d1 $"potion" of $"healing";
Desc: "This young rogue-archer was once not unlike yourself, but the
    rigors of his ordeal in the dungeon have made him ruthless and nearly
    insane, and now he seeks only the destruction of his rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
On Event (48+1000) {
EActor->IdentifyTemp($"rogue-archer");
return 0;
};
}

Template "ranger;template" : 0x0002 for 87
{
Flags: -3;
CR: +4; HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +2, Dex +4, Con +2, Wis +2 ;
Flags: 90;
Feats:
((49 + 1) + 11), ((((49 + 1) + 32) + 50) + 19), ((49 + 1) + 4),
44, 17, 18, 22, 32, 36,
41, 45, 48, 14;
Gear: 50% $"leather armor" else
$"chainmail shirt",
50% $"long bow" of random 0 to 1 else
$"short bow" of random 0 to 1,
50% 6d6 $"hemp rope" else
15% 6d6 $"silk rope",
20d6 $"sheaf arrow",
25% 1d2 $"scroll" of $"identify;scroll",
1d1 $"potion" of $"healing";
Desc: "This young ranger was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
On Event (48+1000) {
EActor->IdentifyTemp($"ranger;template");
return 0;
};
}

Template "rogue;template" : 0x0002 for 87
{
Flags: -3, 57;
CR: +2; HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Dex +6, Int +4, Cha +2 ;
Stati[39,31,1];
Stati[39,80,1];
Feats:
((49 + 1) + 11), (((49 + 1) + 32) + 44), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
44, 4, 5, 18, 22, 32,
33, 36, 38, 39,
16, 47, 14;
Gear: 25% $"studded leather" else
33% $"leather armor" else
50% $"chainmail shirt" else
$"hide armor",
25% $"small glass vial" of random 1 to 3,
35% 1d4 $"scroll" of $"identify;scroll",
50% $"alchemy set",
50% $"climbing rig",
50% $"disguise kit",
50% 6d6 $"hemp rope" else
15% 6d6 $"silk rope",
1d2 $"bag" of $"tanglefoot bag",
33% $"short sword" else
50% $"rapier" else
$"light mace",
1d1 $"potion" of $"healing";
Desc: "This young rogue was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event (18+1000) {
EActor->IdentifyTemp($"rogue;template");
return 0;
};
}

Template "warrior;template" : 0x0002 for 87
{
Flags: -3;
CR: +2; HD: +2; Def: +0; Hit: +3; Mov: 100%; Spd: 110%;
Str +4, Dex +2, Con +4 ;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 7, 6, 4,
44, 14;
Gear:
random 58 of random 0 to 2,
random 21 of random 0 to 2,
random 51 of random 0 to 1,
35% 1d4 $"scroll" of $"identify;scroll",
25% $"potion" of $"oil of transformation",
40% $"craftsman's tools",
25% $"climbing rig",
50% 6d6 $"hemp rope" else
15% 6d6 $"silk rope",
1d3 $"potion" of $"healing";
Desc: "This young warrior was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
}
#line "mon2.irh" 4422
Template "reaver" : 0x0002 for 87
{
Flags: -3;
CR: +4 (Min 4); HD: +5; Hit: +5; Def: +2; Mov: 150%; Spd: 125%;
Str +6, Dex +2, Con +6, Int +0, Wis +0, Cha +0, Luc +0;
Stati[39,100,4];
Stati[39,93,5];
Feats:
((49 + 1) + 11), ((49 + 1) + 12), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
17, 48, 4, 40,
14;
Flags: 52, !51;
Gear: random 21 of random 2 to 4,
random 58 of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing";
On Event (19+500) {
if (!EActor->HasStati(66) && EActor->cFP > -2)
{
DPrint(e,"You drive yourself into a killing fury!",
"The <EActor> flies into a killing fury!");
EActor->GainTempStati(66,NULL,19,7,4);
EActor->LoseFatigue(3);
}
return 0;
};
Desc: "These young tribesmen journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
}

Template "minstrel" : 0x0002 for 87
{
Flags: -3, 111;
CR: +6 (Min 8); HD: +5; Def: +1; Hit: +3; Mov: 100%; Spd: 110%;
Dex +6, Int +6, Cha +2;
Stati[39,6,5];
Stati[39,82,3];
Stati[113,37,+18];
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), (((49 + 1) + 32) + 11),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
((49 + 1) + 11),
8, 18, 32, 36,
44, 45, 38;
Gear:
random 58 of random 2 to 4,
$"short bow" of random 2 to 4,
2d6 $"sheaf arrow",
random 22 of random 1 to 1,
random 22 of random 3 to 3,
$"spellbook [Adventurers' Arts]",
2d1 $"potion" of $"extra-healing",
50% 1d4 $"scroll" of $"identify;scroll",
25% $"horn" else
33% $"flute" else
50% $"lute" else $"mandolin";
Desc: "These powerful singers journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(50 + 1000);
On Event (52+1000) {
EActor->IdentifyTemp($"minstrel");
return 0;
};
}

Template "grey druid" : 0x0002 for 87
{
Flags: -3;
CR: +7 (Min 6); HD: +5; Hit: +3; Def: +1; Mov: 100%; Spd: 110%;
Str +4, Dex +2, Con +2, Wis +6;
Attk:
101 for $"leopard",
101 for $"juvenile tojanda",
101 for $"wereboar";
Stati[39,57,1];
Stati[39,82,5];
Stati[39,110,1];
Stati[113,37,+18];
Flags: 49, !50, 55;
Feats:
(((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26),
((((49 + 1) + 32) + 50) + 6), ((((49 + 1) + 32) + 50) + 13),
8, 18, 32, 36,
44, 45, 38, 17;
Gear:
25% $"quarterstaff" of random 2 to 4 else
33% $"scimitar" of random 2 to 4 else
50% $"scythe" of random 2 to 4 else
$"sickle" of random 2 to 4,
$"short bow" of random 2 to 4,
25% 1d2 $"scroll" of $"identify;scroll",
2d6 $"sheaf arrow" of random 2 to 4,
1d2 $"bag" of $"tanglefoot bag",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*",
$"potion" of random 1 to 4,
$"ring" of random 2 to 7;
Attk: 1 for 1d2 13,
102 for $"human",
101 for $"leopard",
101 for $"tiger",
101 for $"brown bear";
Desc: "Sometimes, a druid will find disfavor with the hierophants
      of the inner circle, and become outcast from the druidic
      community. Sometimes, these rogues dabble in black arts,
      blood sacrifice and perverted nature magic, siding with the
      evil humanoid races. These foul naturalists are called grey
      druids, and are widely feared and despised.";
On Event 156 {
hObj h;
EActor->GainPermStati(123,NULL,4,3,2);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
return 0;
} ;
Lists:
* 21
(53 + 1000);
On Event (37+1000) {
EActor->IdentifyTemp($"grey druid");
return 0;
};
}

Template "dark sorcerer" : 0x0002 for 87
{
Flags: -3, 111;
CR: +7 (Min 9); HD: +5; Def: +1; Hit: +1; Mov: 100%; Spd: 100%;
Str -2, Dex +2, Con +2, Int +6, Wis +2;
Stati[39,82,7];
Stati[113,37,+30];
Feats: (((49 + 1) + 32) + 11), (((49 + 1) + 32) + 44),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 17), ((49 + 1) + 31),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
8, 43, 34, 44;
Flags: 1, 36, 37, 49, !50, 51,
!52, 97, 55,
90;
Gear: $"robes",
50% $"quarterstaff" of random 1 to 4 else
$"dagger" of random 1 to 4,
random 22 of random 1 to 1,
random 22 of random 3 to 3,
random 22 of random 3 to 3,
random 22 of random 5 to 5,
random 22 of random 5 to 5,
$"potion" of random 1 to 4,
50% $"potion" of random 1 to 4,
25% 1d2 $"scroll" of $"identify;scroll",
20% $"wand" of random 1 to 5,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
50% $"wand" of random 4 to 8,
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Desc: "This one has lived too long beneath the earth, dabbling in
      profane magics, and now understands only fear, intimidation,
      power and terrible magical secrets.";
Lists:
* 21
(50 + 1000);
On Event (37+1000) {
EActor->IdentifyTemp($"dark sorcerer");
return 0;
};
}

Template "scarlet disciple" : 0x0002 for 87
{
Flags: -3;
CR: +4 (Min 4); HD: +5; Def: +2; Hit: +5; Mov: +10; Spd: 125%;
Str +6, Dex +4, Con +2, Wis +2;
Attk: 1 for 1d10 13 and 1d2 17 (DC 16);
Stati[39,99,5];
Stati[39,114,2];
Stati[39,31,1];
Feats: (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 25), ((((((49 + 1) + 32) + 50) + 38) + 30) + 7),
((((49 + 1) + 32) + 50) + 16), (((49 + 1) + 32) + 2),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42), (((49 + 1) + 32) + 30),
4, 5, 18, 22, 32,
36, 14, 44, 17;
Gear: $"robes",
50% 2d1 $"nunchaku" of random 2 to 4
else 2d1 $"fighting stick" of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
$"chakram" of random 2 to 4,
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing",
1d2 $"potion" of $"dimension door";
Desc: "These scarlet disciple monks journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event (17+1000) {
EActor->IdentifyTemp($"scarlet disciple");
return 0;
};
}


Template "blackguard;template" : 0x0002 for 87
{
Flags: -3;
CR: +4 (Min 6); HD: 5; Hit: +7; Def: 1; Mov: 100%; Spd: 125%;
Str +6, Con +6, Wis +2, Cha +4; Stati[39,79,5];
Stati[39,25,1];
Stati[39,49,5];
Stati[39,80,2];
Stati[39,82,1];
Stati[113,37,+6];
Immune: 0x04000000, 0x08000000;
Flags: 52, 49, !50, !51, 107, 55;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 22), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
4, 17, 40, 8, 44,
39, 14;
Gear: random 21 of random 2 to 4,
random 58 of random 2 to 4 with [2],
7% 6d6 $"hemp rope" else
20% 6d6 $"silk rope" else
10% 6d6 $"giant's-hair rope",
50% 1d2 $"bag" of $"tanglefoot bag",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing",
50% cursed $"flask" of $"water",
$"ring" of random 1 to 8;
On Event 156 {
hObj h, hMount;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58) && h->QualityOK(2))
h->AddQuality(2);
#line "mon2.irh" 4690
return 0;
},
164 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
};
Desc: "Once a paladin, the blackguard has renounced his higher
      calling and consciously embraced the ways of evil and blight.
      Answering to demons or devils, blackguards are twisted parodies
      of paladins, dark knights who leave death, ruin and despair in
      their passing.";
Lists:
* 21
(52 + 1000);

}

Template "curate" : 0x0002 for 87
{
Flags: -3;
CR: +3 (Min 5); HD: +4; Def: +2; Hit: +3; Mov: 100%; Spd: 120%;
Str +2, Con +2, Int +4, Wis +6 ;
Stati[39,82,5];
Stati[39,97,5];
Stati[113,37,+20];
Gear: random 21 of random 2 to 4,
random 58 of random 2 to 4,
random 51 of random 2 to 4,
$"potion" of random 1 to 4,
3d4 blessed $"flask" of $"water",
2d1 $"potion" of $"extra-healing",
25% 1d3 $"scroll" of $"identify;scroll",
25% $"scroll" of $"hallow",
2d1 $"potion" of $"*mana*";
Feats: (((49 + 1) + 32) + 11), ((((49 + 1) + 32) + 50) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 6),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 34, 17, 44;
On Event 156 {
hObj h;
rID god;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) || h->isType(24))
h->IFlags |= 0x0001;
if (h->iID == $"holy symbol")
return 0;
}
h = CreateItem($"holy symbol");
switch (random(16)) {
case 0: god = $"Aiswin;Symbol"; break;
case 1: god = $"Asherath;Symbol"; break;
case 2: god = $"Ekliazeh;Symbol"; break;
case 3: god = $"Erich;Symbol"; break;
case 4: god = $"Essiah;Symbol"; break;
case 5: god = $"Hesani;Symbol"; break;
case 6: god = $"Immotian;Symbol"; break;
case 7: god = $"Khasrach;Symbol"; break;
case 8: god = $"Kysul;Symbol"; break;
case 9: god = $"Mara;Symbol"; break;
case 10: god = $"Maeve;Symbol"; break;
case 11: god = $"Sabine;Symbol"; break;
case 12: god = $"Semirath;Symbol"; break;
case 13: god = $"Xavias;Symbol"; break;
case 14: god = $"Xel;Symbol"; break;
case 15: god = $"Zurvash;Symbol"; break;
}
h->MakeMagical(god);
h->IFlags |= 0x0001;
EActor->GainItem(h,true);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(51) && !h->ieID) {
h->MakeMagical(god);
}
}
return 1;
};
Desc: "These experienced devotees journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(52 + 1000)
3 $"neutralize poison";
On Event (37+1000) {
EActor->IdentifyTemp($"curate");
return 0;
};
}

Template "stalker" : 0x0002 for 87
{
Flags: -3;
CR: +3 (Min 6); HD: +5; Def: +2; Hit: +5; Mov: 100%; Spd: 125%;
Str +4, Dex +6, Con +2, Wis +2 ;
Stati[39,82,1];
Feats:
((49 + 1) + 11), ((49 + 1) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
44, 17, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
18, 22, 32, 36, 18, 41,
45, 48, 14;
Flags: 90, 55;
Gear: 33% $"studded leather" of random 2 to 4 else
50% $"leather armor" of random 2 to 4 else
$"chainmail shirt" of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
50% $"long bow" of random 1 to 3 else
$"short bow" of random 1 to 3,
20d6 $"sheaf arrow",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing";
Desc: "This ranger was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(24))
h->AddQuality(43);
else if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
Lists:
* 21
(53 + 1000);
On Event (37+1000), (48+1000) {
EActor->IdentifyTemp($"stalker");
return 0;
};
}

Template "twilight huntsman;temp" : 0x0002 for 62
{
CR: +6 (Min 7); HD: +7; Def: +2; Hit: +7; Mov: 120%; Spd: 125%;
Str +2, Dex +8, Wis +2, Cha +4;
Stati[39,82,3];
Stati[39,118,+4];
Stati[39,53,+4];
Stati[113,37,+10];
Stati[36,104,+2];
Feats:
((49 + 1) + 11), (((((49 + 1) + 32) + 50) + 38) + 24), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
44, 17, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 4, 2,
18, 22, 32, 36, 40, 41,
45, 48, 14;
Flags: 90, -3, 52, 49;
Gear: 33% $"studded leather" of random 2 to 4 with [68] else
50% $"leather armor" of random 2 to 4 with [68] else
$"chainmail shirt" of random 2 to 4 with [68] ,
50% $"long bow" of random 1 to 3 with [68] else
$"short bow" of random 1 to 3 with [68],
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
20d6 $"sheaf arrow" +1 with [68],
50% 1d4 $"potion" of $"dimension door",
50% $"cloak" +2 of $"elvenkind;cloak",
50% $"boots" +2 of $"elvenkind;boots",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing";
Desc: "Twilight huntsmen are Maeve's most skilled hunters, trackers
      and slayers, tasked with tracking down and destroying any elves who
      try to turn their backs on the Faerie Queen.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(24))
h->AddQuality(43);
else if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
Lists:
* 21
1 $"bane" $"change self" $"charm person" $"color spray" $"doom"
$"enthrall" $"faerie fire" $"inflict light wounds" $"longstrider"
$"malignance" $"phantasmal force" $"slow poison" $"true strike"
2 $"animate rope" $"bladethirst" $"globe of shadow" $"heal mount"
$"hypnotic pattern" $"improved phantasmal force" $"inflict moderate wounds"
$"phantom steed" $"scare" $"see invisibility" $"silence"
3 $"adamant facade" $"animate shadows" $"blackmantle" $"confusion"
$"fly" $"hold person" $"illusory stance" $"inflict serious wounds"
$"insightful stroke" $"lorecall" $"spectral force" $"track monster"
$"vampiric touch";
On Event (37+1000), (48+1000) {
EActor->IdentifyTemp($"twilight huntsman;temp");
return 0;
};
}



Template "shadowdancer;template" : 0x0002 for 87
{
Flags: -3, 57;
CR: +4 (Min 6); HD: +6; Def: +2; Hit: +3; Mov: 100%; Spd: 115%;
Str +4, Dex +6, Con +2, Int +2 ;
Stati[39,31,2];
Stati[39,80,3];
Stati[39,142,1];
Stati[39,100,3];
Stati[113,37,+8];
Feats:
((49 + 1) + 11), (((49 + 1) + 32) + 44), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
44, 4, 5, 18, 22, 32,
33, 36, 38, 39,
16, 47, 14;
Flags: 52, 49;
Spells: $"shadow step", $"summon shadows";
Gear: 25% $"studded leather" of random 2 to 4 else
33% $"leather armor" of random 2 to 4 else
50% $"chainmail shirt" of random 2 to 4 else
$"hide armor" of random 2 to 4,
random 58 of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
25% $"small glass vial" of random 2 to 4,
1d4 $"bag" of $"tanglefoot bag",
25% $"small glass vial" of random 2 to 4,
25% 1d3 $"scroll" of $"identify;scroll",
50% $"cloak" of $"nondetection;item" else
$"ring" of $"nondetection;item" ,
$"wand" of random 1 to 6,
2d1 $"potion" of $"extra-healing";
Desc: "Legends speak of secret fraternal orders joined by rogues
      (and occasionally other adventurers) that teach their members a
      kind of supernatural kinship with the shadows, allowing them to
      phase through shadow, summon living shadows to their aid and
      perform other unearthly feats. This, apparently, is one such
      being.";
On Event (36+1000), (19+1000) {
EActor->IdentifyTemp($"shadowdancer;template");
return 0;
};
}

Template "myrmidon" : 0x0002 for 87
{
Flags: -3;
CR: +7 (Min 8); HD: +5; Def: +2; Hit: +5; Mov: 100%; Spd: 130%;
Str +6, Dex +2, Con +6 ;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((49 + 1) + 32) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 7,
6, 4, 44, 14;
Gear:
random 58 of random 3 to 4,
random 21 of random 3 to 4,
random 51 of random 1 to 2,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
25% 1d3 $"scroll" of $"identify;scroll",
2d3 $"potion" of $"extra-healing";
Desc: "This salted warrior was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
}



Template "ruby initiate" : 0x0002 for 87
{
Flags: -3, 111;
CR: +7 (Min 9); HD: +11; Def: +2; Hit: +5; Mov: 100%; Spd: 125%;
Str -4, Dex +2, Con -2, Int +10, Wis +8;
Stati[39,82,9];
Stati[113,37,+35];
Feats:
(((49 + 1) + 32) + 11), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 17),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 12), ((((49 + 1) + 32) + 50) + 6), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24),
((((((49 + 1) + 32) + 50) + 38) + 30) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3), 8, 43,
34, 44;
Flags: 1, 36, 37, 49, !50,
97, 90, 55;
Gear: $"robes",
50% $"quarterstaff" of random 1 to 4,
random 22 of random 1 to 1,
random 22 of random 3 to 3,
random 22 of random 5 to 5,
$"potion" of random 1 to 4,
$"potion" of random 1 to 4,
$"ring" +2 of $"channeling",
$"wand" of random 3 to 6,
50% 1d4+1 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Desc: "This mage was once an initiate of the Ruby Order, a body that
    governs the formalized study of Evocation. This practitioner has
    traded power for flexibility and will only cast Abjuration, Evocation
    and Thaumaturgy spells. However, it casts such spells very well indeed.";
On Event 156 {
EActor->GainPermStati(38,NULL,7,0,0x00000001);
EActor->GainPermStati(38,NULL,7,0,0x00000010);
EActor->GainPermStati(38,NULL,7,0,0x00000080);
} ;
Lists:
* 21
100 (50) (0x00000001)
100 (50) (0x00000010)
100 (50) (0x00000080);
On Event (37+1000) {
EActor->IdentifyTemp($"ruby initiate");
return 0;
};
}



Template "chieftan" : 0x0020 for 84
{
Image: purple 0;
CR: +2; HD: 200%; Hit: +2; Dmg: +2; Str +4; Con +4;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), 14;
Flags: -3, 107;
Gear:
random 58 of random 2 to 4,
random 21 of random 1 to 3;
Desc: "The chieftan is the toughest, strongest and most
      often simply the meanest of his kind. As such, he manages
      to dominate a clique, tribe or warband beneath him.";
}

Template "shaman" : 0x0040 for 84
{
Image: bright cyan 0;
CR: +2; HD: 150%; Wis +4;
Feats: (((49 + 1) + 32) + 11), 43, 8, 17;
Flags: -3, 107;
Gear:
50% $"potion" of random 1 to 6,
50% $"potion" of random 1 to 6,
50% $"wand" of random 1 to 4,
75% $"potion" of $"healing",
75% $"potion" of $"mana";
Desc: "This dark mystic holds his position of power in the tribe
      through profane knowledge, politically-motivated healing and
      sheer terror. Nonetheless, the goblinoid peoples revere their
      shamans greatly, for they can be the difference between victory
      and death for an entire tribe.";
Stati[39,82,3];
Stati[113,37,+8];
Lists:
* 21
(52 + 1000);
}
#line "mon2.irh" 5063
Template "bandit" : 0x0002 for 87
{
Flags: -3;
CR: +1 (min 1); HD: +1; Mov: 100%; Spd: 105%;
Str +2, Con +1, Cha -2;
Flags: 52, !51, 107, 55;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13),
((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
7, 6, 4, 44, 5, 18,
22, 32, 33, 36, 38,
39, 47;
Desc: "Many common scoundrels infest dungeon and city alike,
      looking to make a quick buck off of weak or infirm passers-by.";
Gear:
random 58 of random 0 to 1,
random 21 of random 0 to 1,
15% $"small glass vial" of random 1 to 2,
1d3 $"potion" of $"healing",
25% 1d2 $"scroll" of $"identify;scroll",
3d6 $"gold piece";
}
#line "mon3.irh" 23
Monster "belabra" : 58
{
Image: bright blue 'X'; Size: 4; Arm: 10;
CR: 4; HD: 4; Hit: +3; Def: 12; Mov: 70%; Spd: 70%;
Str 14, Dex 15, Con 13, Int 2, Wis 12, Cha 11;
Attk: 14 for 1d4 13 and 1d8+2 18 (DC 19),
7 for 1d3 12,
32 for 1d6 13;
Stati[39,42,6];
Feats: 32, 36, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 66, 3, 4, 7, 27,
13;
Spells: $"slow", $"phase door", $"blur";
Desc: "The belabra, or tangler beast, appears as a jellyfish-like
      creature, the soft core of its body being covered by a hard
      shell. Two eyestalks protrude from its body, along with six
      tentacles. The belabra flies magically.";
On Event ((20+2000)+1000) {
if (!EActor->isBeside(EVictim))
return 0;
VPrint(e,"White, sticky blood sprays from your body!",
"White, sticky blood sprays from the <EVictim>'s body!");
if (EActor->SavingThrow(1,15))
DPrint(e, "You avoid being splashed.",
"The <EActor> avoids being splashed.");
else {
EActor->GainTempStati(3,NULL,2d6,6);
DPrint(e, "You are blinded by the blood spray!",
"The <EActor> is blinded by the blood spray!");
}
return 0;
};
}


Monster "cellar dwellar" : 11, 58
{
Image: blue 'h'; Size: 3;
CR: 3; HD: 4; Hit: 4; Def: 14; Mov: 150%; Spd: 120%;
Str 7, Dex 16, Con 13, Int 9, Wis 11, Cha 12;
Attk: 7 for 1d3 12 and 1d4+1 43,
6 for 1d2 11,
6 for 1d2 11,
43 for 1d4 24 (DC 13);
Stati[39,66,1];
Stati[39,42,6];
Feats: ((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 20, 32, 36, 44;
Flags: 36, 55, 76, 55, 92,
52, 49, 53;
Spells: $"cause fear", $"shadow step";
Resists: 0x00000001, 0x00000002;
Immune: 0x00008000, 0x04000000, 0x00020000;
Desc: "Known as the bone crusher for its eating habits, the
      hideous cellar dweller is a malevolent being of pure
      evil. The cellar dweller resembles a small ogre with
      olive flesh and sparkling white pupils. It dwells in
      the dark, cramped spaces in the cellar and under
      furniture, waiting for an opportunity to slay
      innocents and spread mayhem.
        This wicked creature exists only to torment and
      consume other beings. It seems to have been
      created by an evil entity or perhaps a priest, and is
      incapable of breeding. Indeed it is almost never
      found in the company of its own kind.
        A cellar dweller has a number of innate magical
      abilities that make it a highly dangerous foe, in
      spite of its diminutive stature. Staring into the eyes
      of this creature can cause temporary blindness. The
      bite of the blackened fangs of this beast will cause
      a numbing weakness to quickly spread through the
      body.
        While it has an all-consuming, bloodthirsty nature,
      it has no need to consume food and can survive
      indefinitely in all but the most extreme
      environments.";
}

Monster "chuul" : 58, 31, 52
{
Image: blue 'X'; Size: 5;
CR: 10; HD: 11; Hit: +12; Def: 10; Mov: 100%; Spd: 155%; Arm: 10;
Str 20, Dex 16, Con 18, Int 10, Wis 14, Cha 5, Luc 18;
Attk:
6 for 2d6+5 11,
6 for 2d6+5 11,
14 for 1d8+2 18 (DC 19),
14 for 1d8+2 18 (DC 19),
32 for 3d6+5 13;
Stati[39,42,6];
Immune: 0x00000010;
Feats: ((49 + 1) + 5), ((49 + 1) + 25), (((49 + 1) + 32) + 14),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 32, 44, 36;
Flags: 3, 52, 49, 30;
Desc: "A horrible mix of crustacean, insect, and serpent, the chuul is
      an abomination that lurks submerged or partially submerged, awaiting
      intelligent prey to devour. Although amphibious, chuuls are not good
      swimmers and actually prefer to be on land or in very shallow water
      when they attack. A chuul is about 8 feet long and weighs 650 pounds.
      Chuuls speak Common (or Undercommon, for the underground variety).";
}

Monster "cloaker" : 58
{ Image: blue 'X'; Size: 5;
CR: 4; HD: 4; Hit: 3; Def: 15; Mov: 125%; Spd: 100%;
Str 21, Dex 16, Con 17, Int 14, Wis 15, Cha 15;
Attk: 7 for 1d4 11,
24 for 1d6 13,
21 for 66 (DC 15),

47 for 2d1 28 (DC 15),
47 for 1d4+1 17 (DC 15);
Stati[39,42,6];
Immune: 0x00000200;
Feats: 18, 32, 44, 36, 11,
6, 3, ((((49 + 1) + 32) + 50) + 35), (((((49 + 1) + 32) + 50) + 38) + 7);
Flags: 3, 2, 4, 30, 66,
36, 12, 8, 48;
Spells: $"phantasmal force", $"blur", $"mirror image";
Desc: "An intelligent and canny Underdark race, cloakers resemble
      land-dwelling manta rays. Their bodies are surprisingly light,
      and their flight is graceful, belying their great strength. When
      face down and still, a cloaker can resemble a dark navy cloak,
      hence their name. Their innate magic originates in their ability
      to manipulate, animate and shape shadows.";
On Event 213 "wail" / "wails";
}

Monster "disir" : 58, 87
{ Image: grey 'X'; Size: 4;
CR: 5; HD: 5; Hit: 3; Def: 13; Mov: 100%; Spd: 125%;
Str 14, Dex 12, Con 14, Int 13, Wis 11, Cha 7; Arm: 3;
Attk: 6 for 1d6 11 and 60 (DC 14),
6 for 1d6 11 and 60 (DC 14),
7 for 1d8 12 and 60 (DC 14);
Stati[39,42,6];
Resists: 0x00000001;
Feats: 7, 13, 18, 32, 36, 44,
48,
((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 51, 49, 1, 3, 36,
8;
Desc: "The disir are a race of subterranean creatures known for their
    disgusting appearance and hateful disposition.";
Poison: $"disir venom";
}

Poison "disir venom" : 4
{
Level: 2;
cval: 1;
sval: 14;
lval: 2;
xval: 51; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Dexterity damage every 
      <11>turn<7>, and requires <11>2<7> saving throws against <11>DC 14<7> 
      to overcome.";
}

Monster "magori" : 58, 87
{ Image: bright red 'X'; Size: 5;
CR: 9; HD: 8; Hit: 6; Def: 10; Mov: 75%; Spd: 140%;
Str 20, Dex 16, Con 17, Int 12, Wis 14, Cha 6; Arm: 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d4 12 and 60 (DC 19);
Stati[39,79,5];
Stati[39,13,6];
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((49 + 1) + 32) + 50) + 32),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 20, 32, 44, 45;
Flags: 55, 104, 30, 38,
52, 49, 1, 36,
8;
Desc: "This hideous bipedal creature resembles a ten-foot-tall
    crayfish with a bundle of five alien red eyes on stalks, and a long
    flexible snout filled with many jagged rows of fangs. Magori are
    crab-like creatures that known only hate and live to destroy sentient
    life.";
On Event ((20+2000)+1000) {
if (!EActor->isBeside(EVictim))
return 0;
VPrint(e,"Acidic blood sprays from your body!",
"Acidic blood sprays from the <EVictim>'s body!");
if (EActor->SavingThrow(1,17))
DPrint(e, "You avoid being splashed.",
"The <EActor> avoids being splashed.");
else {
ThrowDmg(41,3,2d4,"magori blood",EVictim,EActor);
}
return 0;
};
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) && h->QualityOK(13))
h->AddQuality(13);
}
if (EActor->x > 0) {
ThrowEff(36,$"obscurement",EActor,EActor);
}
};
Poison: $"magori venom";
}

Poison "magori venom" : 4
{
Level: 6;
cval: 1;
sval: 19;
lval: 2;
xval: 52; pval: 2d6;
Desc: "This poison inflicts <11>2d6<7> points of Constitution damage every 
      <11>turn<7>, and requires <11>2<7> saving throws against <11>DC 19<7> 
      to overcome.";
}
#line "mon3.irh" 244
Monster "ethereal filcher" : 48, 58
{
Image: azure 'O'; Size: 4;
CR: 3; HD: 5; Hit: +5; Def: 13; Mov: 150%; Spd: 100%;
Str 10, Dex 18, Con 11, Int 4, Wis 12, Cha 10;
Attk: 7 for 1d4 13,
9 for 36 (DC 18);
Stati[39,61,3];
Stati[39,42,6];
Stati[39,72,6];
Flags: 79, 4, 66, 57, 55;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 38, 44,
36;
Desc: "These freakish interplanar pickpockets have no malign
      intelligence, but have spelled ruin for more than one adventurer
      none the less due to their penchant for stealing (and, one must
      imagine, later eating) magical items. Able to phase in and out
      of the etherial at will, the filcher has a truly bizarre anatomy.
      Standing on a single leg, their grey, bulbous body sports four 
      gangly, long-taloned arms, four tiny eyes on the belly, a thin
      and wormlike head and two mouths -- one of the head, and one on
      the belly. Filchers tend to be more playful than aggressive, and
      will flee an encounter if seriously wounded.";
}

Template "ethereal;template" : 0x0100 for 91
{ CR: +3 (Min 2);
Image: gray 0; MType: 48;
Attk: 9 for 1d2 13;
Flags: 9, -2;
Desc: "Ethereal creatures have been trapped by magical mischance or
      ill fortune in the ethereal plane.";
On Event 155 {
if (EActor->HasMFlag(9) ||
EActor->HasAbility(61))
return -1;
else
return 0;
};
}

Monster "floating eye" : 7
{
Image: grey 'e'; Size: 2; Depth: 2;
CR: 2; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 8;
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Immune: 0x00000080;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks.";
}

Monster "greater floating eye" : 7
{
Image: white 'e'; Size: 2; Depth: 2;
CR: 5; HD: 3; Hit: +0; Def: 15; Mov: 100%; Spd: 100%;
Str 2, Dex 14, Con 12, Int 3, Wis 15, Cha 12;
Attk: 43 for 1d8 18 (DC 16),
43 for 2d4 8,
102 for $"floating eye";
Stati[124,44,9];
Stati[124,41,9];
Stati[39,42,9];
Immune: 0x00000080;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is slightly
      tougher and more perceptive than its peers.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "seven eyes" : 7, 58
{
Image: purple 'e'; Size: 2; Depth: 2;
CR: 11; HD: 7; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 14d4 8;
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Immune: 0x00000080;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular creature is actually
      a ring of seven separate floating eyes revolving in a tight
      formation and linked by short, pulsing veins. Even among eye
      creatures it is an abomination.";
}

Monster "blurry eye" : 7
{
Image: brown 'e'; Size: 2; Depth: 2;
CR: 6; HD: 3; Hit: +0; Def: 15; Mov: 100%; Spd: 100%;
Str 2, Dex 14, Con 12, Int 3, Wis 15, Cha 12;
Attk: 43 for 4d2 26 (DC 16),
43 for 4d2 17 (DC 16),
43 for 4d2 25 (DC 16),
43 for 2d2 61 (DC 16),
43 for 2d4 8,
102 for $"floating eye";
Stati[124,44,9];
Stati[124,41,9];
Stati[39,42,9];
Mana: 50; Spells: $"blur", $"blink", $"mirror image", $"displacement";
Immune: 0x02000000, 0x00010000, 0x01000000;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye has a baleful
      and unsettling visage but lacks the power of true paralysis.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};

}

Monster "eye of the storm" : 7
{
Image: blue 'e'; Size: 2; Depth: 2;
CR: 6; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 4,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"electric loop", $"lightning bolt";
Immune: 0x00000008;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 17);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 45, 39;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is surrounded
      by a small, whirling vortex of storm clouds.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "ice blue eye" : 7
{
Image: azure 'e'; Size: 2; Depth: 2;
CR: 5; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 2,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"icelance", $"chill metal";
Immune: 0x00000002;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 16);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 42;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is surrounded
      by a small, whirling vortex of icicles.";
On Event (49+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "bloodshot eye" : 7
{
Image: red 'e'; Size: 2; Depth: 2;
CR: 1/2; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 90,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"scorcher", $"heat metal";
Immune: 0x00000001;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 15);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 41;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is lined 
      with pulsing, bloodshot veins.";
On Event (41+500) {
if (e.DType == 90) {
e.eID = $"burning blood";
e.vCasterLev = EActor->ChallengeRating();
e.DType = 1;
ReThrow(52,e);
return 1;
}
return 0;
},
209
"Its gaze has the effect of a <1>Burning Blood<7> spell on any
        victim within range, recurring every 1d4+1 rounds.";
On Event (49+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "eye of the abyss" : 7
{
Image: shadow 'e'; Size: 2; Depth: 2;
CR: 3; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 73,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"false life", $"blackmantle";
Immune: 0x00000020;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 14);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is completely
      black.";
On Event (49+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "floating eyesocket" : 7, 60
{
Image: yellow 'e'; Size: 2; Depth: 2;
CR: 5; HD: 2; Hit: +0; Def: 13; Mov: 30%; Spd: 100%;
Str 2, Dex 12, Wis 14, Cha 2;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 8,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,12];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000080;
#line "mon3.irh" 528
Resists: 0x00000800, 0x00000400;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44,
32, 33, 49, 89, 19;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. To make matters worse, this particular floating
      eye has been brought back from the grave and now serves as a
      mindless, undead evil.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Template "three-eyed" : 0x0008 for 91
{ CR: +3;
MType: 7; Flags: 107;
Desc: "This creature has grown or been granted a third eye in the
    center of its forehead.";
Attk: 43 for 1d8 26 (DC 14);
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,3];
On Event (49+1000) {
if (e.AType == 43)
EActor->IdentifyTemp($"three-eyed");
return 0;
},
155 {
if (enFreaky() % 30 != 7)
return -1;
if (EActor->HasMFlag(6) ||
EActor->HasMFlag(4) ||
EActor->HasAttk(43))
return -1;
else
return 0;
};
}

Monster "scryer" : 7
{
Image: green 'e'; Size: 3;
CR: 3; HD: 7; Hit: +2; Def: 14; Mov: 50%; Spd: 70%;
Str 6, Dex 11, Con 8, Int 14, Wis 16, Cha 12;
Attk: 7 for 1d3 12;
Stati[39,42,6];
Spells: $"inflict light wounds;ray", $"cause blindness;ray",
$"magic missile", $"reduce;ray", $"scorcher";
Flags: 3, 4, 12, 2, 66,
97, 90;
On Event 36 {



if (GetHandle(EActor) == GetHandle(EVictim) || !(GetHandle(EVictim)))
DPrint(e,"You fire an eye ray at yourself.",
"The <EActor> fires an eye ray at itself.");
else
TPrint(e,"You fire an eye ray at the <EVictim>.",
"The <EActor> fires an eye ray at you.",
"The <EActor> fires an eye ray at the <EVictim>.");
EActor->Timeout += 3;
return ReThrow(52,e);
};

Desc: "These tiny beings are flawed beholders born with genetic
      abberations. Due to the intense conformity and xenophobic
      focus on blood purity that race possesses, these creatures
      are thaumaturgically frozen eternally in an infant state and 
      used by healthy adult beholders as spies, attendants and lackies. 
      A scryer is notoriously craven, and appears as a baseball-sized 
      fleshy sphere with four tiny eyestalks.";
}

Effect "Reduce;ray" : 3
{ 0x00000080; Base: 85; Cost: 3; Level: 1; qval: 0x0004; sval: 0;
Purpose: 0x00001; xval: 106; yval: 25; pval: -1;
Desc: "Causes a target creature to become smaller, lowering their
      size catagory by one level."; aval: 2; cval: 10;
Flags: 82;
On Event 28 {
if (EVictim->GetAttr(25) == 1)
{
EActor->IPrint("You can't get any smaller!");
return 1;
}
if (EVictim->HasEffStati(106,$"enlarge")) {
EVictim->RemoveEffStati($"enlarge");
return 1;
}
return 0;
};
}

Effect "Inflict Light Wounds;ray" : 1
{ 0x00000040; Base: 90; Cost: 2; Level: 1; aval: 2;
xval: 6; pval: 1d8 + -122; cval: 1;
Purpose: 0x00001; qval: 0x0004; Flags: 82;
On Event 28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 1d8 + caster level (maximum 1d8+5) points of necromantic
      damage on the creatures struck by your eye ray.";
}

Effect "Cause Blindness;ray" : 3
{ 0x00000080; Base: 75%; Cost: 12; Level: 3; qval: 0x0004;
aval: 2; cval: 5; Flags: 82;
xval: 3; sval: 0; Purpose: 0x00004; Flags: 25;
Desc: "Blinds the target creature, assuming that they fail a
      Fortitude save."; }


Monster "frost slug" : 58, 31, 30
{
Image: bright blue 'w'; Size: 2;
CR: 1; HD: 2; Hit: +3; Def: 7; Mov: 30%; Spd: 100%;
Str 13, Dex 7, Con 15, Int 1, Wis 16, Cha 3;
Attk: 7 for 1d6 12,
31 for 2d6 0;
Stati[118,18,50];
Stati[39,95,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00000002;
Flags: 36, 3, 2, 4, 58,
26, 66, 42;
Desc: "These creatures resemble a cross between a slug, a
      leech and a serpent, and can grow to be the size of a
      housecat. They subsist by drinking the blood of living
      creatures, just like leeches, but their true form is
      rarely seen -- they have developed a kind of innate
      magical improved invisibility.";
Stati[100,2];
}

Monster "hook horror" : 58, 31
{
Image: grey 'X'; Size: 5; Arm: 8;
CR: 6; HD: 5; Hit: +4; Def: 12; Hit: 3; Mov: 60%; Spd: 80%;
Str 20, Dex 13, Con 17, Int 7, Wis 13, Cha 12;
Attk: 6 for 1d8 12,
6 for 1d8 12,
7 for 1d10 12;
Stati[39,13,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
44, 32, 7;
Flags: 36, 26, 3, 14, 55;
Desc: "Standing over nine feet tall and weighing more than 350
      pounds, the hook horror is a terrible Underdark predator. 
      Resembling a cross between a beetle and a vulture, the hook
      horror has razor-sharp hooks on the end of each of its arms,
      and three smaller hooks in the position of toes on each foot.
      Its carapice is rock-hard, and while its multifaceted eyes
      are very poor its hearing is simply unearthly.";
}

Monster "mind flayer" : 42, 58
{
Image: purple 'I'; Size: 4; Mana: 15;
CR: 5; HD: 8; Hit: +4; Def: 13; Mov: 100%; Spd: 100%;
Str 12, Dex 14, Con 12, Int 19, Wis 17, Cha 17;
Attk: 14 for 1d4 11,
32 for 2d8 12 and 1d6 46;
Stati[39,42,6];
Stati[118,18,65];
Stati[39,91,10];
Stati[118,13,+1];
Feats: ((((49 + 1) + 32) + 50) + 35), ((49 + 1) + 5), (((49 + 1) + 32) + 44),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 6,
8, 18, 20,
32, 36, 44;
Flags: 1, 49, 51, 8,
86, 12, 36;
Spells:
$"levitation",
$"charm monster",
$"emotion",
$"mind blast",
$"deep slumber";
On Event (41+500) {
if (e.DType == 46) {
if (EVictim->HasMFlag(33))
return 2;
if (e.vDmg >= EVictim->GetAttr(3)) {
TPrint(e,"You extract the <EVictim>'s brain.",
"The <EActor> extracts your brain.",
"The <EActor> extracts the <EVictim>'s brain.");
ThrowDmg(42,46,0,XPrint("having <his:hObj> brain eaten",EVictim),EActor,EVictim);
e.Died = true;
return 1;
}
}
};
}

Effect "Mind Blast" : 3
{ Level: 5; xval: 5; sval: 2; qval: 0x0001;
aval: 2; cval: 13; lval: 6;
Purpose: 0x00001; Flags: 82;
On Event 206 "Fwoomp!" / "Fwoomp!"; }

Monster "nothic" : 58
{ Image: brown 'X'; Size: 5; Mana 70;
CR: 4; HD: 5; Def: 10; Hit: +4; Mov: 135%; Spd: 80%;
Str 18, Dex 12, Con 19, Int 5, Wis 13, Cha 8;
Attk: 43 for 1d8 6,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,42,12];
Resists: 0x00000002; Immune: 0x00000020, 0x04000000;
Feats: (((((49 + 1) + 32) + 50) + 38) + 27), (((49 + 1) + 32) + 44), 44;
Flags: 49, 66, 90, 61;
On Event (41+500) {
if (e.AType == 43)
if (e.DType == 6)
if (EVictim->ResistLevel(6) != -1)
VPrint(e,"Your flesh rots!","The <EVictim>'s flesh rots!");
return 0;
},
165 {
EActor->GainPermStati(124,NULL,3,44,+4,$"nothic");
return 0;
},
209
"It has a +4 racial bonus to Spot checks.";
Desc: "Nothics are a race of subterranian scavengers who dwell in 
      lightless caverns deep beneath the earth and prefer to feed upon
      rotted carrion. They are only vaguely humanoid, with thick tan
      hides, muscular legs, spindly arms and a stooped, awkward posture.
      Their arms are long enough that their hands drag along the ground
      as they walk. The face of a nothic is dominated by a single huge
      eye -- a glossy orb a foot across, with a hypnotic, unnatural
      spiral pattern swirling within the vast pupil.";
}
#line "mon3.irh" 776
Monster "mind flayer warrior" : 42, 58
{
Image: pink 'I'; Size: 4; Mana: 15;
CR: 10; HD: 8; Hit: +8; Def: 13; Mov: 100%; Spd: 140%;
Str 18, Dex 14, Con 18, Int 17, Wis 12, Cha 12;
Attk: 14 for 1d4 11,
14 for 1d4 11,
32 for 2d8 12 and 1d6 46,
102 for $"mind flayer";
Stati[39,42,6];
Stati[118,18,65];
Stati[39,91,10];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 29), (((((49 + 1) + 32) + 50) + 38) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 22),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),

4, 18, 32, 36, 44;

Flags: 1, 49, 51, 8, 86,
36, 12;

Gear: $"kite shield" of random 1 to 2,
$"field plate armor" of random 1 to 2,
5d2 $"potion" of $"extra-healing",
5d2 $"potion" of $"dimension door";

On Event (41+500) {
if (e.DType == 46) {
if (EVictim->HasMFlag(33))
return 2;
if (e.vDmg >= EVictim->GetAttr(3)) {
TPrint(e,"You extract the <EVictim>'s brain.",
"The <EActor> extracts your brain.",
"The <EActor> extracts the <EVictim>'s brain.");
ThrowDmg(42,46,0,XPrint("having <his:hObj> brain eaten",EVictim),EActor,EVictim);
e.Died = true;
return 1;
}
}
},
(20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "mind flayer mage" : 42, 58
{
Image: skyblue 'I'; Size: 4; Mana: 15;
CR: 10; HD: 8; Hit: +4; Def: 13; Mov: 100%; Spd: 100%;
Str 10, Dex 12, Con 14, Int 21, Wis 19, Cha 15;
Attk: 14 for 1d4 11,
32 for 2d8 12 and 1d6 46,
102 for $"mind flayer";
Stati[39,42,6];
Stati[39,82,8];
Stati[118,18,65];
Stati[39,91,10];
Feats:
(((49 + 1) + 32) + 11), (((49 + 1) + 32) + 26), ((((((49 + 1) + 32) + 50) + 38) + 30) + 15), ((((49 + 1) + 32) + 50) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),

8, 18, 32, 36, 44;

Flags: 1, 49, 51, 8, 86,
90, 36, 12, 111;
Spells: $"levitation", $"charm monster", $"suggestion",
$"emotion", $"mind blast";
On Event (41+500) {
if (e.DType == 46) {
if (EVictim->HasMFlag(33))
return 2;
if (e.vDmg >= EVictim->GetAttr(3)) {
TPrint(e,"You extract the <EVictim>'s brain.",
"The <EActor> extracts your brain.",
"The <EActor> extracts the <EVictim>'s brain.");
ThrowDmg(42,46,0,XPrint("having <his:hObj> brain eaten",EVictim),EActor,EVictim);
e.Died = true;
return 1;
}
}
},
(37+1000) {
EActor->IdentifyMon();
return 0;
};
Gear: 5d2 $"potion" of $"extra-healing",
5d2 $"potion" of $"*mana*",
$"wand" of random 3 to 4,
5d2 $"potion" of $"dimension door";
Lists:
* 21
(50 + 1000);
}

Monster "quylthulg" : 50, 58
{ Image: pink 'Q'; Size: 6; Mana: 60; Depth: 7;
CR: 9; HD: 7; Def: 12; Hit: +0; Mov: 0%; Spd: 80%;
Str 5, Dex 4, Con 22, Int 8, Wis 13, Cha 10;
Stati[39,95,12];
Immune: 0x08000000, 0x00800000, 0x02000000, 0x00100000, 0x00008000;
Resists: 0x00000002, 0x00000004, 0x00000020;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 44, 32;
Flags: 2, 3, 4, 52, 43,
28, 29, 44, 66, 90;
Spells: $"blink", $"dimension door", $"monster summoning III";
On Event 32 {
EActor->GainMana(3);
return 0;
},
209
"It regenerates mana at a rate of three points per round. It is
        innately invisible.";
Desc: "When these strange and naturally invisible creatures are 
      actually seen, they appear as a pulsing mound of flesh crusted
      with odd fleshy orbs. They are inherantly magical, defending
      themselves by innate invisibility, teleportation and calling
      other creatures to their aid.";
}

Monster "tentacle stalker" : 58
{ Image: green 'X'; Size: 6;
CR: 7; HD: 9; Hit: +9; Def: 20; Mov: 200%; Spd: 175%;
Str 19, Dex 17, Con 17, Int 2, Wis 14, Cha 12;
Attk: 14 for 1d6 11,
14 for 1d6 11,
32 for 1d8 13;
Stati[39,66,10];
Stati[39,94,12];
Stati[39,42,6];
Stati[39,95,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((49 + 1) + 32) + 14), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
45, 18, 36,
48;
Flags: 3, 4, 7, 31, 8,
73, 14, 66, 55;
Spells: $"obscurement", $"ray of enfeeblement", $"dimension door",
$"monster summoning IV", $"wall of thorns", $"dominate animal";
Desc: "This terrible cephalopod vaguely resembles a giant squid,
      but it's better described as a cloud of fast, strong tentacles
      in the water -- its actual body is rarely seen, obscured by the
      literal dozens of tentacles this creature possesses. Tentacle 
      stalkers are canny predators with an instinctive understanding
      of magic and a xenophobic aggression toward anyone who dares to
      disturb their slumber.";
}

Monster "umber hulk" : 58
{
Image: brown 'X'; Size: 5; Arm: 12;
CR: 7; HD: 8; Hit: +6; Def: 12; Mov: 75%; Spd: 75%;
#line "mon3.irh" 938
Str 23, Dex 13, Con 19, Int 2, Wis 11, Cha 13;
Attk: 43 for 3d4 26 (DC 15),
6 for 1d12 11,
6 for 1d12 11,
7 for 2d8 11;
Stati[39,95,6];
Stati[39,96,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 22, 7, 32;
Flags: 3, 6, 14, 66, 55,
26, 27, 11, 36;
Desc: "Umber hulks are strange subterranian creatures that resemble
      a hybrid of an ape and a beetle. They have a thick, chitinous
      shell and two sets of eyes, the larger ones segmented like a fly's.
      Umber hulks are dangerous and irascible creatures, but are
      sometimes trained or tamed by illithids, drow or other races
      of the Underdark.";
}

Template "pseudonatural" : 0x0200 for 91
{
Desc: "In the spaces between shadows, beyond the edges without
      corners, there lay in wait unimaginable things. Visitors to
      our reality from truly distant lands, pseudonatural creatures
      are inscrutable and arcane, to the point that even looking at
      the true form of such a being can sunder the fragile human
      mind. They are not evil, not truly, but their nature is so
      utterly alien to everything native to Theyra that encounters
      with them most often end in violence. Followers of Kysul have
      some greater understanding of these beings, and may be able
      to negotiate with them. The best anyone else can hope to do
      is survive with body and sanity intact.";
Glyph: pink 0; MType: 48;
CR: +4 (Min 7); HD: +3; Hit: +2;
Caster Level: +2; Power: +2;
Dex +4, Int +8, Wis +6, Cha +4;
Attk: 14 for 1d8 11
and 63 (DC 16),
14 for 1d8 11
and 63 (DC 16),
111 for 66 (DC 16),
37 for 2d6 3,
43 for 6d12 28 (DC 20)
and 1d6 53 (DC 16),
22 for 0d0 27 (DC 16);
Spells: $"true strike", $"distance distortion",
$"evard's black tentacles",
$"displacement", $"confusion";
Stati[39,31,12];
Stati[39,105,+2];
Stati[118,18,35];
Stati[125,2];
Stati[125,3];
Stati[108,27,+6];
Disease: $"blinding sickness", $"cackle fever", $"mindfire";
On Event 49 {
if (e.AType == 43)
if (EVictim->isCharacter())
if (EVictim->GodID == $"Kysul")
return 2;
return 0;
},
(19+1000), (36+1000) {
if (e.Event == 36 || e.AType == 14)
EActor->IdentifyTemp($"pseudonatural");
return 0;
};
Resists: 0x00000004, 0x00000200;
Flags: 8, !49, !51, !52,
!50, !35, 10, 55;
#line "mon3.irh" 1016
}
#line "mon3.irh" 1026
Monster "yellow light" : 29
{
Image: bright yellow 'v'; Size: 3;
CR: 2; HD: 1; Hit: 1; Def: 17; Mov: 160%; Spd: 100%;
Dex 16, Con 10, Int 3, Wis 12, Cha 10;
Attk: 45 for 7d10 24 (DC 17);
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 7, 2, 55, 47,
5, 9, 6, 88, 12, 23;
Desc: "This odd creature results from chaotic magical experimentation.
      A wisp of yellow luminescance, it is attracted to warm-blooded
      creatures within 180 feet (18 squares) and explodes in a blinding
      flash of light when it comes in contact with another creature.";
Stati[134,77,18];
}

Monster "mote of frost" : 29, 38
{
Image: bright blue 'v'; Size: 2;
CR: 3; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 25 (DC 18),
53 for 1d6 2,
52 for 2d6 2 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 23, 4, 42;
On Event 1, 19 {
if (!GetHandle(EActor))
return 0;
if (EActor->isDead())
return 0;
if (!EMap->SolidAt(EActor->x,EActor->y) &&
!EMap->FallAt(EActor->x,EActor->y))
EMap->WriteTerra(EActor->x,EActor->y,$"ice floor");

if (GetHandle(EVictim))
if (!EVictim->isDead())
if(!EMap->SolidAt(EVictim->x,EVictim->y) &&
!EMap->FallAt(EVictim->x,EVictim->y))
EMap->WriteTerra(EVictim->x,EVictim->y,$"ice floor");

} ;
Desc: "This strange quasi-elemental is surrounded by an intense field
    of cold. It leaves a trail of rimey permafrost in its path.";
}

Monster "mote of fire" : 29, 38
{
Image: bright red 'v'; Size: 2;
CR: 4; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 26 (DC 18),
53 for 1d6 1,
52 for 2d6 1 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 41, 23, 4;
On Event 1, 19 {
if (!GetHandle(EActor) || EActor->isDead())
return 0;
if (!EMap->SolidAt(EActor->x,EActor->y)) {
EMap->WriteTerra(EActor->x,EActor->y,$"brimstone");
}
if (GetHandle(EVictim) && !EVictim->isDead() &&
!EMap->SolidAt(EVictim->x,EVictim->y)) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"brimstone");
}
} ;
Desc: "This strange quasi-elemental is surrounded by an intense field
    of heat. It leaves a trail of melted brimstone in its path.";
}

Monster "mote of negative energy" : 29, 38, 48
{
Image: shadow 'v'; Size: 2;
CR: 5; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 28 (DC 18),
53 for 1d6 73,
52 for 2d6 6 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4;
Desc: "This strange quasi-elemental sucks in life from its
    surroundings, leaving only emptiness behind.";
}

Monster "mote of pure magic" : 29, 38
{
Image: purple 'v'; Size: 2;
CR: 4; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14; Depth: 5;
Attk: 9 for 1d2 33 (DC 18),
53 for 1d6 8,
52 for 2d6 8 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000, 0x00000080;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4, 44;
Desc: "This strange quasi-elemental appears to be made of pure magical
    energy. Its can drain mana from nearby creatures and it
    redistributes that energy in a harmful way to its surrounding
    environment.";
On Event ((28+500)+2000) {
e.Immune = true;
return 1;
},
209
"It is completely immune to magical effects.";
}

Monster "mote of vacuum" : 29, 38
{
Image: grey 'v'; Size: 1;
CR: 3; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 17 (DC 18),
53 for 1d6 62,
52 for 2d6 62 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4, 44;
Desc: "This strange quasi-elemental appears to be a pinprick-sized
    complete absence of anything. It draws air into itself at a furious
    rate, causing nearby breathing creatures to choke and suffocate.";
}

Monster "mote of entropy" : 29, 38
{
Image: brown 'v'; Size: 2;
CR: 3; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 8d6 39 (DC 18),
53 for 1d6 52,
52 for 16d6 39 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4, 40;
Desc: "This strange quasi-elemental accelerates the natural process of
    decay and disintegration in its immediate vicinity.";
}

Monster "ball lightning" : 29, 38
{
Image: magenta 'v'; Size: 4;
CR: 8; HD: 2; Hit: 1; Def: 15; Mov: 300%; Spd: 100%;
Dex 20, Wis 14;
Attk: 9 for 1d2 17 (DC 18),
50 for 1d20 4,
52 for 2d20 4 (DC 20);
Stati[39,42,9];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 27);
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 23, 4, 45;
Desc: "This strange quasi-elemental is widely reviled by adventurers.
    A mindless force of nature, it is difficulty to kill and inflicts
    damage with an apparent capriciousness." ;
}

Template "turbulent" : 0x0008 for 29 {
CR: +3;
Size +1 (Min 6); Spd: +5; Mov: +5; HD: +2;
Stati[39,66,1];
Desc: "This particular vortex is larger than normal and swirls with
  immense, thrashing currents of power. It seems to draw substance and 
  force from parts unknown. It spinning size and speed make it
  difficult to escape.";
On Event (19+1000) {
EActor->IdentifyTemp($"turbulent");
return 0;
};
On Event 155 {
if (EActor->HasAttk(45)) return -1;
else
return 1;
} ;
}

Monster "will-o'-wisp" : 29, 58
{
Image: bright white 'v'; Size: 3;
CR: 9; HD: 8; Hit: +6; Def: 19; Mov: 150%; Spd: 145%;
Str 1, Dex 29, Con 10, Int 15, Wis 16, Cha 12;
Attk: 9 for 2d8 4;
Stati[39,42,6];
Feats: 6, 11, 20, 32, 41,
44,
((49 + 1) + 5), ((49 + 1) + 25), (((49 + 1) + 32) + 44), (((((49 + 1) + 32) + 50) + 38) + 27);
Immune: 0x00100000, 0x00400000, 0x00000010, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 5, 12, 88,
73, 4, 45;
Desc: "Will-o'-wisps can be yellow, white, green, or blue. They are
    easily mistaken for lanterns, especially in the foggy marshes and
    swamps where they reside. A will-o'-wisp's body is a globe of spongy
    material about 1 foot across and weighing about 3 pounds, and its
    glowing body sheds as much light as a torch.
    Will-o'-wisps speak Common and Auran. They have no vocal apparatus but
    can vibrate to create a voice with a ghostly sound.
    Will-o'-wisps usually avoid combat. They prefer to confuse and bewilder
    adventurers, luring them into morasses or other hazardous places. When
    they are forced to fight, they loose small electrical shocks, which act
    as melee touch attacks. A will-o'-wisp is immune to most spells or
    spell-like abilities that allow spell resistance, except magic missile
    and maze.";
On Event 156, 32 {
if (!EActor->HasStati(100))
EActor->GainPermStati(100,NULL,3,2);
return 0;
},
209
"It is innately invisible and can turn invisible at will.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"magic missile":
return 0;
default:
e.Immune = true;
return 1;
}
return 0;
};
}
#line "mon3.irh" 1286
Monster "glass golem" : 40, 36
{
Image: white 'G'; Size: 5;
CR: 6; HD: 7; Hit: +5; Def: 13; Mov: 100%; Spd: 100%;
Str 16, Dex 12, Con 0, Int 0, Wis 11, Cha 1;
Attk: 19 for 2d8 11,
54 for 1d4 11;
Stati[39,42,6];
Stati[39,105,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Spells: $"color spray";
Flags: 1, 33, 7, 66, 56,
55;
On Event ((28+500)+2000) {
#line "mon3.irh" 1303
switch(e.eID) {
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
case $"force bolt":
e.vDmg *= 2;
return 0;
case $"color spray":
case $"color burst":
case $"chromatic orb":
e.eID = $"haste";
return 0;
case $"sunscorch":
case $"searing light":
if (EVictim->cHP < EVictim->mHP + EVictim->GetAttr(36))
{
VPrint(e,"You heal completely!",
"The <EVictim> heals completely!");
EVictim->cHP = EVictim->mHP + EVictim->GetAttr(36);
}
else
e.Immune = true;
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
32 {
int32 oHP; oHP = EActor->cHP;
if (EMap->BrightAt(EActor->x,EActor->y))
EActor->cHP = min((EActor->mHP + EActor->GetAttr(36))-EActor->cHP,
EActor->cHP + 3d8);
else if (EMap->LightAt(EActor->x,EActor->y))
EActor->cHP = min((EActor->mHP + EActor->GetAttr(36))-EActor->cHP,
EActor->cHP + 1d8);
if (oHP < EActor->cHP)
VPrint(e, "You regenerate!", "The <EVictim> regenerates!");
return 0;
},
1 {
if (EMap->FieldAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir), 0x00010000))
if (!EMap->FieldAt(EActor->x,EActor->y, 0x00010000))
return 2;
return 0;
},
209
"It is immune to all direct magic spells, save that <9>shatter<7> will
          destroy it outright, <9>color spray<7>/<9>burst<7> will haste it,
          <9>force bolt<7> does double the normal damage and light-based spells 
          heal it fully. It heals 1d8 points of damage in lit areas and 3d8 points
          on damage in bright magical light. It will not willingly enter areas of
          absolute magical darkness.";
}

Monster "flesh golem" : 40, 36
{
Image: pink 'G'; Size: 5;
CR: 6; HD: 9; Hit: +7; Def: 15; Mov: 70%; Spd: 80%;
Str 21, Dex 9, Wis 11, Cha 1;
Attk: 19 for 2d8 13;
Stati[39,42,6];
Stati[39,105,2];

Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Flags: 1, 33, 7, 66, 56,
55, 18;
On Event ((28+500)+2000) {
if (e.eval == 1) {
if (e.xval == 1 || e.xval == 2) {
if (!EVictim->HasEffStati(-1,$"slow")) {
VPrint(e,"You feel yourself slowing down.","The <EVictim> slows down.");
EVictim->GainTempStati(106,EActor,2d6,2,54,-10,$"slow");
EVictim->GainTempStati(106,EActor,2d6,2,26,-10,$"slow");
EVictim->GainTempStati(117,EActor,2d6,2,27,-2,$"slow");
return 1;
}
} else if (e.xval == 4) {
if (EVictim->cHP == EVictim->mHP+EVictim->GetAttr(36))
break;
EVictim->cHP = min(EVictim->mHP+EVictim->GetAttr(36),
EVictim->cHP+e.vDmg);
if (EVictim->cHP == EVictim->mHP)
VPrint(e,"Your wounds heal fully!",
"The <EVictim>'s wounds heal fully!");
else
VPrint(e,"Your wounds heal!",
"The <EVictim>'s wounds heal!");
return 1;
}
}
e.Immune = true;
return 1;
},
209
"It is <9>slow<7>ed by fire or cold damage, healed by lightning, and immune to
    all other direct-effect spells.";
}
#line "mon3.irh" 1412
Monster "stone golem" : 40, 36
{
Image: grey 'G'; Size: 5;
CR: 9; HD: 14; Hit: +10; Def: 18; Mov: 70%; Spd: 100%;
Str 29, Dex 9, Wis 11, Cha 1;
Arm: 10; Attk: 19 for 2d8 13,
19 for 2d8 13;
Stati[39,42,6];
Stati[39,105,2];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Flags: 1, 33, 7, 66,
56, 53, 88;
Desc: "This golem has a humanoid body made from stone. A stone golem is
    9 feet tall and weighs around 2,000 pounds. Its body is frequently
    stylized to suit its creator. For example, it might look like it is
    wearing armor, with a particular symbol carved on the breastplate, or
    have designs worked into the stone of its limbs.
    Stone golems are formidable opponents, being physically powerful and
    difficult to harm.";
Spells: $"slow";
On Event ((28+500)+2000) {
#line "mon3.irh" 1437
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
if (!EVictim->HasEffStati(-1,$"slow")) {
VPrint(e,"You feel yourself slowing down.","The <EVictim> slows down.");
EVictim->GainTempStati(106,EActor,2d6,2,54,-10,$"slow");
EVictim->GainTempStati(106,EActor,2d6,2,26,-10,$"slow");
EVictim->GainTempStati(117,EActor,2d6,2,27,-2,$"slow");
return 1;
}
}
e.Immune = true;
return 1;
},
209
"It is <9>slow<7>ed by <9>transmute rock to mud<7>, <9>soften
      stone<7> and <9>shatter<7> and is immune to all other direct-effect
      spells.",
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
}



Monster "scarecrow" : 36
{
Image: brown 'C'; Size: 4;
CR: 1; HD: 2; Hit: +1; Def: 7; Mov: 75%; Spd: 75%;
Str 16, Dex 7, Con 0, Int 0, Wis 13, Cha 0;
Attk: 19 for 1d4 13,
19 for 1d4 13;
Stati[39,42,9];
Stati[118,18,50];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040,
0x00000002;
Flags: 33, 7, 66, 88, 56, 23,
55;
Spells: $"cause fear";
Desc: "A scarecrow is a magically animated figure composed of
      straw, also sometimes called a wicker man or straw golem
      (though it is not a true golem, being only partially resistant
      to magic).";
On Event (41+2000) {
if (e.AType == 65)
e.vDmg = (e.vDmg * 150) / 100;
return 0;
},
((41+2000)+1000) {
if (e.AType == 65)
if (!EVictim->isDead())
RedirectEff(e,$"Burn",52);
return 0;
},
209
"It takes 150~ damage from fire attacks, and may be set on fire 
        to burn for 1d4 damage per turn thereafter.";
}


Monster "repelling column" : 36
{
Image: grey 'C'; Size: 5;
CR: 4;
HD: 1; Hit: +1; Def: 0; Hit: 0; Mov: 0%; Spd: 60%; Arm: 20;
Str 0, Dex 0, Int 0, Wis 14, Cha 0; Mana: 400;
Stati[39,42,9];
Stati[39,91,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Flags: 33, 7, 66, 88, 56, 23,
55;
Spells: $"force bolt";
Desc: "This difficult-to-understand construct has been imbued with
           magical power and a single purpose: to keep all others away
           from itself. It is immune to most magical effects.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
}

Monster "caryatid column" : 36
{
Image: white 'C'; Size: 5;
CR: 3; HD: 8; Hit: +5; Def:7; Hit: 7; Mov: 0%; Spd: 60%; Arm: 20;
Str 18, Dex 12, Wis 8, Cha 13;
Attk: 1 for 1d8 13,
60 for 12d6 92;
Stati[39,95,6];
Stati[39,66,5];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Gear: cursed $"long sword" of random 1 to 2;
Feats: ((((49 + 1) + 32) + 50) + 13), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 33), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 9);
Flags: 33, 7, 66, 88, 56, 23;
Desc: "It's beautiful, really, in a sad way. The caryatid column
      is a statue of an alluring, introspective maiden, wielding a
      long sword, carved from a stone pillar affixed to the floor and
      ceiling and animated by a wizard's magic.";
On Event ((28+500)+2000) {
#line "mon3.irh" 1561
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
},
209
"It is immune to most magical effects, save for <9>shatter<7>, <9>soften
         stone<7> and <9>transmute rock to mud<7>, which cause it to shatter.";
}

Monster "clockwork horror" : 36
{ Image: bright cyan 'C'; Size: 5;
CR: 6; HD: 7; Def: 10; Hit: 5; Mov: 70%; Spd: 90%;
Str 21, Dex 8, Con 18, Int 2, Wis 8, Cha 10;
Attk: 19 for 1d8 13,
33 for 3d8 13;
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
41, 44, 9, 1;
Flags: 51, 53, 66, 14, 33;
Desc: "These horrors of steel and gears combine a wizard's
      talents with a clock-maker's craft, being ungainly tangles
      of shafts, spinwheels and mechanical limbs. They are
      inhumanly devoted to their commands, and left without a
      master they simply hunt down and crush any biological
      creatures in their area with terrible precision.";
}



Monster "necrophidius" : 36, 52
{
Image: grey 'C'; Size: 4; Mana: 0; Depth: 3;
CR: 5; HD: 5; Hit: +3; Def: 21; Mov: 125%; Spd: 125%;
Str 13, Dex 16, Con 0, Int 0, Wis 11, Cha 12;
Attk: 7 for 1d6 12
and 3d4 18 (DC 13);
Stati[39,42,6];
Stati[124,7,8];
Stati[124,18,8];
Stati[124,36,8];
Stati[39,80,2];
Feats: 7, 18, 36, (((49 + 1) + 32) + 14);
Immune: 0x00400000, 0x00010000, 0x00100000, 0x00000040, 0x00000010,
0x00020000, 0x00008000, 0x04000000, 0x00000020, 0x00010000, 0x00000002;
Flags: 66, 3, 2, 33;
Spells: $"Hypnotic Dance";
Desc: "These skeletal constructs are often mistaken for undead,
      but they are not. A necrophidus has a serpent-like shape,
      but is made from human remains -- human vertabrae from many
      bodies form the flexible chain of the body, topped with a
      human skull. The only inhuman element is the two fangs in the
      skull's mouth, drawn from a viper or vampire.";
}
#line "mon3.irh" 1636
Effect "Hypnotic Dance" : 3
{
xval: 6; sval: 2; qval: 0; cost: 0;
aval: 11; lval: 6; cval: 10; Purpose: 0x00001 | 0x00004;
Flags: 34, 82;
Desc: "A necrophidius can cause its body to sway and weave
      in a hypnotic manner, causing anyone within 60 feet of the
      creature to become confused on a failed saving throw.";
On Event 206
"You sway and weave hypnotically."
"The <EActor> sways and weaves <his:EActor> body hypnotically.";
}
#line "mon3.irh" 1653
Template "celeritous" : 0x0001 for 36 {
CR: +1 (Min 6); Dex +10; Spd: +10; Mov: +10;
Def: +5;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 14), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40),
((((((49 + 1) + 32) + 50) + 38) + 30) + 8), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 33);
Flags: 57;
Desc: "This particular construct has been crafted with speed in mind.
      Quicksilver and adamant alloys ensure improved agility with no extra
      weight.";
On Event (19+1000) {
EActor->IdentifyTemp($"celeritous");
return 0;
};
}

Template "monsterous clockwork" : 0x0008 for 91 {
Image: 'C'; Size: +1; CR: +2 (Min 6);
Str +12, Dex -2, Wis +6 (Min 14), Int = 0, Con = 0, Cha = 0; Arm: 10;
Mov: 80%; Spd: 80%; MType: 36;
Attk: 19 for 1d6 13;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Flags: 33, 7, 66, 88, 56, 23,
107, -1, 55;
Desc: "This coarse automaton has been constructed to closely resemble
         a living creature. Made of gears and clockwork, springs and
         mithril, it is a mindless device bent on destruction. Its jagged
         edges and whirling gears allow it to easily latch onto its prey.
         Possessed
         of incredible brute strength, it is thankfully somewhat lacking
         in speed. It is immune to most magic.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
On Event 155 {
if (EActor->HasMFlag(10) ||
EActor->HasMFlag(5))
return -1;
else
return 1;
};
}

Template "clockwork" : 0x0008 for 91 {
Image: shadow 'C'; CR: +2;
Str +6, Dex -1, Wis +3 (Min 11), Int = 0, Con = 0, Cha = 0; Arm: 5;
Mov: 90%; Spd: 90%; MType: 36;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 33, 7, 66, 88, 56, 23,
107, -1, 55;
Desc: "This coarse automaton has been constructed to closely resemble
         a living creature. Made of gears and clockwork, springs and
         mithril, it is a mindless device bent on destruction. 
         Possessed of brute strength, it is thankfully somewhat lacking in
         speed. It is immune to most magic.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
On Event 155 {
if (EActor->HasMFlag(10) ||
EActor->HasMFlag(5))
return -1;
else
return 1;
};
}
#line "mon3.irh" 1772
Monster "vampire melon" : 49
{
Image: pink 'P'; Size: 2;
CR: -4; HD: 3; Hit: +2; Def: 12; Mov: 75%; Spd: 100%;
Str 7, Dex 7, Con 16, Int 0, Wis 4, Cha 6;
Attk: 12 for 63 (DC 15),
31 for 1d4 52;
Stati[39,95,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1781
Flags: 4, 3, 6, 5,
66, 33, 70;
Desc: "Legends claim that it is not only humanoids who
      can rise from their graves -- melon farmers in distant,
      mist-enshrouded lands claim that if melons are left in
      silence to grow in unclean moonlight for three nights,
      there is a chance they will become vampiric in nature,
      rolling along the ground and ensnaring small mammals
      with an adhesive they secrete in order to drink their
      blood. Vampire melons can be told from the mundane kind
      by examining their surface, where they will be covered
      with a spiderweb-like net of brown veins which, if
      pressed or cut, will bleed human blood.";
}

Monster "deadly nettle" : 49
{
Image: blue 'P'; Size: 3;
CR: 3; HD: 2; Hit: +2; Def: 10; Mov: 15%; Spd: 100%;
Str 10, Dex 18, Con 12, Int 0, Wis 14, Cha 8;
Attk: 10 for 1d3 12;
Stati[124,18,15];
Stati[39,80,3];
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000800;
#line "mon3.irh" 1807
Resists: 0x00001000;
Feats: 18, 36, 32,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), ((49 + 1) + 20);
Flags: 4, 3, 6, 5, 74,
66, 33, 6;
Desc: "An animate thorn, the deadly nettle grows both underground and
    in the wilderness. It possesses an uncanny insight into the vulnerable
    spots of living creatures, and it stining thorns always seem to catch
    foes unware. Victims without the Uncanny Dodge ability or Improved
    Initiative feat are always considered flat-footed when attacked by a
    deadly nettle. Its thin, sinewy stalks are all but impossible to
    hurt with piercing attacks and are quite resistant to bludgeoning.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
On Event (19+500) {
if (EVictim->isCreature()) {
if (!EVictim->HasAbility(100) &&
!EVictim->HasFeat((((((49 + 1) + 32) + 50) + 38) + 27)))
e.isFlatFoot = true;
}
} ;
}

Monster "malyss root" : 49
{
Image: bright blue 'P'; Size: 3;
CR: 2; HD: 2; Hit: +2; Def: 10; Mov: 15%; Spd: 100%;
Str 18, Dex 10, Con 12, Int 0, Wis 14, Cha 8; Arm: 5;
Attk: 21 for 1d3 13
and 1d3 51
and 1d3 14 (DC 20);
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1842
Feats: 18, 36, 32;
Flags: 4, 3, 6, 5, 74,
66, 33, 6;
Desc: "An animate root, the malyss plant is able to damage the nerves
    of living beings and reduce their mobility. It can entangle creatures
    and slowly numb them to death. The malyss root itself it not
    particularly agile, but it is strong, tough and sinewy.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
}

Monster "assassin vine" : 49
{
Image: grey 'P'; Size: 4;
CR: 3; HD: 4; Hit: +3; Def: 13; Mov: 15%; Spd: 100%;
Arm: 3; Str 20, Dex 10, Con 16, Int 0, Wis 13, Cha 9;
Attk: 19 for 1d6+2 13,
30 for 1d6+2 13;
Stati[124,18,10];
Stati[39,95,9];
Stati[39,13,1];
Resists: 0x00000002, 0x00000001;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000008 ;
#line "mon3.irh" 1866
Spells: $"entangle";
Feats: 18, 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 4, 3, 6, 5, 74,
66, 33, 14, 18, 6, 36;
Desc: "An animate root, the assassin vine grows both underground
      and in the wilderness. It is capable of animating enough to
      wrap around its prey and crush it, providing both natural
      defense from herbivores and a grisly source of fertilizer. The
      main trunk can be as thick as a human forearm, but the sprouts
      and sub-vines disguise the plant, allowing it to blend into
      other vegetation easily.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
}

Monster "blood grass" : 49
{ Image: brown 'P'; Size: 6;
CR: 4; HD: 7; Def: 9; Hit: +4; Mov: 0%; Spd: 100%;
Str 22, Dex 14, Con 14, Int 2, Wis 6, Cha 5;
Attk: 19 for 1d6 13,
30 for 2d6 13,
31 for 2d3 45,
31 for 2d8 73;
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1893
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 33, 2, 3, 4, 5,
88, 36, 73, 66, 6, 14, 18;
Desc: "This seemingly benign patch of shoulder-height swamp grass
      is in fact a dangerous carnivorous plant creature. Capable of
      wrapping around its prey and crushing it to death in a reflex
      action, the stalks of blood grass can also bore beneath a victim's
      flesh and suckle its blood in order to sustain itself. It can detect
      creatures with blood within 120 feet (12 squares).";
Stati[134,77,12];
}

Monster "razor-whip vine" : 49
{ Image: green 'P'; Size: 3;
CR: 7; HD: 3; Def: 10; Hit: +3; Mov: 50%; Spd: 300%;
Str 8, Dex 22, Con 14, Int 2, Wis 6, Cha 5;
Attk: 16 for 3d2 11
and 0d0 67 (DC 20)
and 0d0 36 (DC 20);
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1916
Feats:
(((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 25), (((49 + 1) + 32) + 44),
(((49 + 1) + 32) + 30), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((49 + 1) + 32) + 50) + 38) + 30) + 22), 44;
Flags: 33, 2, 3, 4, 5,
88, 73, 66, 6, 14, 56;
Desc: "This distinctive green vine is edged with a continual
      line of shiny thorns. Animated with an uncanny alacrity, it
      lashes out at all nearby creatures, scraping its vines along their
      limbs and lashing about like a whip. Razor-whip vines use the
      trinkets and bones of animals and adventurers to form their
      trellises.  They can drag themselves along at a rate that is slow for
      a human but quite rapid for a plant.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
}

Monster "dark tree" : 49
{ Image: bright black 'P'; Size: 6;
CR: 3; HD: 6; Hit: +4; Def: 10; Mov: 10%; Spd: 70%;
Str 22, Dex 8, Con 21, Int 5, Wis 10, Cha 7;
Attk:
19 for 2d4 13,
19 for 2d4 13;
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1943
Spells: $"confusion", $"entangle";
Resists: 0x00000002;
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
48, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags:
3, 2, 36, 66, 6,
73, 8, 49, 18, 14;
Desc: "Dark trees are twisted cousins of the treants, horrible
      monsters who delight in drinking the blood of demihumans with
      their roots. They use their confusion ability to mislead
      travellers, and spread deciet and dischord in sylvan societies
      whenever they have the opportunity.";
}

Monster "shambling mound" : 49
{ Image: bright green 'P'; Size: 5;
CR: 7; HD: 8; Def: 11; Hit: +6; Mov: 50%; Spd: 130%;
Str 21, Dex 10, Con 17, Int 7, Wis 10, Cha 9;
Attk: 19 for 2d6 13,
19 for 2d6 13,
30 for 2d6+2 13;
Stati[124,18,16];
Stati[124,32,4];
Stati[124,36,4];
Stati[39,57,1];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1971
Resists: 0x00000001;
Stati[118,13,+1];
Feats:
18, 32, 36,
(((((49 + 1) + 32) + 50) + 38) + 26), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 4, 73, 66, 14, 30, 19;
Desc: "Shambling mounds, also called shamblers, appear to be heaps of
    rotting vegetation. They are actually intelligent, carnivorous plants.
    A shambler's brain and sensory organs are located in its upper body.
    A shambler's body has an 8-foot girth and is about 6 feet tall when the
    creature stands erect. It weighs about 3,800 pounds.
    A shambling mound batters or constricts its opponents with two huge,
    armlike appendages. Despite this, they are very difficult to spot.

    Shamblers take no damage from electricity. Instead, any electricity
    attack used against a shambler temporarily grants it 1d4 points of
    Constitution. The shambler loses these points at the rate of 1 per
    hour.";
On Event (41+2000) {
if (e.DType == 4) {
EVictim->GainTempStati(113,EVictim,300,7,2,1d4);
e.Immune = true;
return 1;
}
};
}

Monster "tendriculous" : 49
{ Image: bright green 'P'; Size: 6;
CR: 9; HD: 9; Def: 19; Hit: +6; Mov: 50%; Spd: 130%;
Str 28, Dex 9, Con 22, Int 3, Wis 8, Cha 3;
Attk: 7 for 2d8 12
and 0d0 93 (DC 20),
14 for 1d6 13,
14 for 1d6 13,
30 for 2d6 3
and 3d6 18 (DC 20),
37 for 2d6 3
and 3d6 18 (DC 20);
Stati[39,57,1];
Stati[39,42,6];
Stati[39,66,10]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2015
Feats:
18, 32, 36, 44,
(((((49 + 1) + 32) + 50) + 38) + 26), ((49 + 1) + 5), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 4, 74, 66, 14, 18, 53,
55, 56;
Desc: "A tendriculos can rear up to a height of 15 feet. It weighs
    about 3,500 pounds.
    Animals and other plant creatures are unnerved by the presence of a
    tendriculos; they avoid it and any place it has been within the last 24
    hours.
    Prowling deep forests or waiting in vegetated areas (looking like
    nothing more than a small hillock), a tendriculos attacks savagely,
    showing no fear. It attempts to swallow as much flesh as it can, as
    quickly as it can.";
}

Monster "treant" : 49
{ Image: bright yellow 'P'; Size: 6;
CR: 12; HD: 7; Def: 16; Hit: +5; Mov: 100%; Spd: 140%;
Arm: 6;
Str 29, Dex 8, Con 21, Int 12, Wis 16, Cha 12;
Attk: 19 for 2d6 13,
19 for 2d6 13;
Stati[124,18,16]; Stati[39,57,1];
Stati[39,42,6];
Resists: 0x00000800, 0x00000400;
Spells: $"verdant aid";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2045
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), (((((49 + 1) + 32) + 50) + 38) + 26), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6),
11, 18, 20,
32, 3, 44, 48;
Flags: 50, 74, 66, 14, 19;
Desc: "A treant's leaves are deep green in the spring and summer. In
    the fall and winter the leaves change to yellow, orange, or red, but
    they rarely fall out. A treant's legs fit together when closed to look
    like the trunk of a tree, and a motionless treant is nearly
    indistinguishable from a tree.
    A treant is about 30 feet tall, with a 'trunk' about 2 feet in
    diameter. It weighs about 4,500 pounds.";
}
#line "mon3.irh" 2107
Monster "strange fungus" : 21, 52
{
Image: grey 'F'; Size: 4;
Desc: "Deep beneath the surface of Theyra, many strange forms of fungus
      grow, developing supernatural abilities resulting from the strange
      radiation of the Underdark. While they often vary in color or shape,
      the Knowledge (Nature) skill is needed to identify their nature and
      abilities more completely.";
Flags: 108, 24;
}

Monster "aether sponge" : 39, 58, 48
{
Image: yellow 'F'; Size: 2;
CR: 1; HD: 3; Hit: +0; Def: 10; Mov: 75%; Spd: 125%;
Str 5, Dex 8, Con 15, Int 0, Wis 0, Cha 0;
Stati[39,95,6];
Resists: 0x00000800, 0x00001000;
Attk: 12 for 1d8 4
and 2d6 17 (DC 12);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000080;
#line "mon3.irh" 2128
Flags: 33, 2, 3, 4, 45,
66, 6, 7, 19, 44,
92, 69, 38;
Desc: "This odd creature appears like certain varieties of
      sponges usually found deep undersea; through some unknown
      magical process it is able to support itself on air as if
      that air had the viscosity of water. (Magical scholars claim
      that it exists partially phased into the Elemental Plane of
      Water, and is thus supported by the water on that plane.)
      It can 'swim' by expanding and contracting its body to
      expel nonexistant water behind it, creating thrust, and
      produces bioelectricity which it can use to stun attackers.";
}

Monster "id moss;monster" : 39
{
Image: white 'F'; Size: 4;
CR: 0; HD: 2; Hit: +0; Def: 10; Mov: 5%; Spd: 100%;
Str 0, Dex 10, Con 10, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 1d4 53,
102 for $"strange fungus";
Stati[39,91,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000080;
#line "mon3.irh" 2152
Flags: 33, 2, 3, 4,
66, 6, 7, 19, 44;
Feats: 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc :"The vile id moss has the power to feed off of the intellect from
  living creatures, and it can sense such creatures from a distance. 
  Successful attacks cause it to multiply. Its strange mental acuity allows
  it to act like a manifesting creature in combat, aweing intelligent foes
  and drinking the thoughts of incorporeal attackers. A single patch can
  quickly become a deadly menace.";
On Event (41+1000) {
if (e.DType == 53 && e.vDmg > 0 &&
!e.Immune && ETarget->isCreature()) {
EActor->cHP += e.vDmg * 5;
EActor->mHP += e.vDmg * 5;
EActor->Multiply(1,true);
}
};
Stati[211,(0x0020|0x0004)];
Stati[144];
On Event 209
"As a fungus, it cannot be detected by tremorsense.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "brown mold" : 39
{
Image: brown 'F'; Size: 4;
CR: 5; HD: 3; Hit: +10; Def: 10; Mov: 5%; Spd: 100%;
Str 0, Dex 16, Con 16, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 1d4 25 (DC 18),
22 for 2d4 2,
102 for $"strange fungus";
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000002;
#line "mon3.irh" 2192
Flags: 33, 2, 3, 4,
66, 6, 19, 42;
Feats: 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc :"The dreaded brown mold sucks the heat from nearby creatures.
  External fire damage and successful attacks cause it to multiply. It
  can detect all fire creatures within 180 feet (18 squares).";
On Event (41+1000) {
if (e.DType == 2 && e.vDmg > 0) {
EActor->cHP += e.vDmg;
EActor->mHP += e.vDmg;
if (e.vDmg > 4)
EActor->Multiply(1,true);
}
};
On Event (41+2000) {
if (e.DType == 1) {
EVictim->cHP += e.vDmg;
EVictim->mHP += e.vDmg;
VPrint(e,"You grow!","The <EVictim> grows!");
if (e.vDmg > 4)
EVictim->Multiply(1,true);
return 1;
}
};
Stati[134,95,18];
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "spectral mold" : 39
{
Image: shadow 'F'; Size: 4;
CR: 6; HD: 6; Hit: +10; Def: 10; Mov: 50%; Spd: 100%;
Str 0, Dex 16, Con 16, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 2d4 73,
22 for 1d4 50,
22 for 1d4 51,
22 for 1d4 52,
102 for $"strange fungus";
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2237
Flags: 33, 2, 3, 4,
66, 6, 19;
Feats: 44;
Desc :"This mysterious breed of creeping mold is not truly undead but
  seems to possess a strange connection to the negative material plane.
  Though mindless, it is capable of a number of spell-like abilities, and
  its special spores allow it to draw life and energy from nearby
  creatures. Undead treat patches of spectral mold as allies. Patches
  of spectral mold can detect living creatures within 120 feet (12
  squares).";
Stati[216,76];
Stati[134,75,12];
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "sonic bloom" : 39
{
Image: yellow 'F'; Size: 2;
CR: 6; HD: 2; Hit: 5; Def: 10; Mov: 200%; Spd: 200%;
Str 0, Dex 20, Con 12, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 2d4 10,
22 for 2d4 17 (DC 18),
102 for $"strange fungus";
Stati[124,32,12];
Stati[39,13,16];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000200;
#line "mon3.irh" 2267
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((49 + 1) + 32) + 50) + 23),
32;
Flags: 33, 2, 3, 4,
66, 6, 12, 19, 48;
Desc :"This hated breed of magical fungus manages to keep its particles
  airborne via powerful but localized vortices. It can shoot its spores
  at supersonic speeds, stunning opponents and creating a racket that
  allows it to rival the fabled shrieker mushroom.";
On Event (41+1000) {
if (e.DType == 10 && e.vDmg > 0 && EVictim != NULL) {
EVictim->MakeNoise(e.vDmg * 4);
}
};
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "caustic fungus" : 39
{
Image: purple 'F'; Size: 6;
CR: 7; HD: 5; Hit: 10; Def: 10; Mov: 5%; Spd: 150%;
Str 0, Dex 12, Con 18, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 3d4 3,
60 for 3d4 3 (DC 15),
102 for $"strange fungus";
Stati[39,13,1];
Stati[39,95,16];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000004;
#line "mon3.irh" 2298
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 32), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 33, 2, 3, 4,
66, 6, 19, 43;
Desc :"This despised fungus has a body chemistry based on acids and
  vitriolic fluid. Essentially a vaguely mobile collection of somewhat dry 
  caustic spores, this fungus has the ability to destroy equipment, making
  it a bane of adventurers everywhere. Striking it without a weapon is
  also quite damaging to the assailant. Strangely, only huge patches have
  been observed.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "spore patch" : 39
{
Image: green 'F'; Size: 2; Mana: 30;
CR: -2; HD: 2; Def: 10; Hit: 10; Mov: 0%; Spd: 100%;
Str 0, Dex 0, Con 12, Int 0, Wis 16, Cha 0;
Attk: 22 for 1d6 13,
102 for $"strange fungus";
Stati[39,13,1];
Stati[39,95,12];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2323
Flags: 33, 2, 3, 4,
66, 6, 90, 19;
Feats: ((((49 + 1) + 32) + 50) + 35);
Spells: $"puffball", $"tree stride";
Desc: "These patches of spores reproduce by hurling bursts of seeds
      across the dungeon when triggered by vibrations in the earth.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "shrieker" : 39
{
Image: pink 'F'; Size: 2;
CR: 1/8; HD: 2; Def: 10; Hit: 0; Mov: 0%; Spd: 100%;
Con 13, Int 1, Wis 5, Cha 1;
Attk: 53 for 6d8 90,
102 for $"strange fungus";
Immune: 0x00100000, 0x00010000, 0x02000000, 0x00020000, 0x00400000,
0x00008000, 0x00800000, 0x01000000, 0x04000000, 0x08000000, 0x10000000,
0x00000040, 0x00000010;
Flags: 33, 2, 3, 4,
66, 6, 7;
On Event 27 {
if (e.AType == 53) {
DPrint(e,"You shriek!",
"The <EActor> emits a piercing screech!");
EActor->IdentifyMon();
e.Terse = true;
}
return 0;
},
(41+500) {
if (e.DType == 90) {
EActor->Reveal();
EMap->SetQueue(2);
EActor->MakeNoise(e.vDmg);
EMap->UnsetQueue(2);
return 1;
}
return 0;
},
209
"When disturbed it shrieks, waking all sleeping monsters within
        6d8 squares.";
Desc: "These little toadstools would be all but harmless were it
      not for their natural defense mechinism of emitting a piercing
      shriek when disturbed, drawing the attention of many other far
      more dangerous creatures nearby.";
}

Monster "ascomoid" : 39
{
Image: grey 'F'; Size: 5;
CR: 6; HD: 6; Def: 7; Hit: 7; Mov: 150%; Spd: 70%;
Str 26, Dex 5, Con 14, Int 0, Wis 11, Cha 4;
Attk: 19 for 1d10 13
and 67 (DC 16),
22 for 3d6 24 (DC 16)
and 1d6 52;
Stati[39,95,6];

Resists: 0x00000001, 0x00000008;
Immune: 0x00100000, 0x00010000, 0x02000000, 0x00020000, 0x00400000,
0x00008000, 0x00800000, 0x01000000, 0x04000000, 0x08000000, 0x10000000,
0x00000040, 0x00000010;
Flags: 15, 4, 2, 3, 33,
66, 6, 7;
On Event (20+1000) {
if (e.AType == 19)
if (EVictim->isCreature() && EVictim->HasStati(15)
&& !EVictim->isDead())
{
TPrint(e,"The <EActor> rolls over you, crushing you.",
"You roll over the <EVictim>, crushing <him:EVictim>.",
"The <EActor> rolls over the <EVictim>, crushing <him:EVictim>.");
ThrowDmg(41,13,3d10 + EActor->Mod(0),
"being crushed beneath an ascomoid", EActor,EVictim);
}
return 0;
},
((41+2000)+500) {
switch (e.DType)
{
case 13:
e.Immune = true;
return 1;
case 11:
e.Resist = true;
e.vDmg /= 2;
return 0;
case 12:
if (GetHandle(EItem2) != NULL)
if (EItem2->iID == $"sheaf arrow" ||
EItem2->iID == $"flight arrow")
{
DPrint(e,"Your <EItem2> sinks deep!",
"The <EActor>'s <EItem2> sinks deep!");
e.vDmg *= 2;
e.strDmg += " x2";
}
if (GetHandle(EItem) != NULL)
if (EItem->HasIFlag(20))
{
DPrint(e,"Your <EItem> sinks deep!",
"The <EActor>'s <EItem> sinks deep!");
e.vDmg *= 2;
e.strDmg += " x2";
}
return 0;
}
return 0;
},
209
"It is immune to blunt damage and suffers half damage from slashing
         weapons, but takes double damage from arrows and piercing melee
         weapons with reach. If it knocks over a target with its slam
         attack, or hits an already prone target, it rolls over that
         target for an additional 3d10 + Strength modifier points of
         damage.";
Desc: "Though this strange creature appears to casual examination
      to be a large, pockmarked grey boulder, it is in fact an unusual
      form of rocket-propelled fungal infestation. The ascomoid is a
      mindless, spheroid fungus creature which exudes a slime that 
      hardens over time into a rocky carapice. Beneath the carapice
      is about two feet of spongy white matter covering all the
      creature's most vital internal functions -- this unique anatomy
      making it resistant to blunt impact but vulnerable to long
      weapons that can pierce all the way to its vulnerable innards.\n
      __The ascomoid moves by rolling, propelling itself at considerable
      momentum by firing jets of compressed air out of tiny holes (that
      appear as pockmarks) on its surface. It can fire offensive spores
      from these openings as well.";
}
#line "mon3.irh" 2467
Monster "acid blob" : 16
{
Image: green 'j'; Size: 3; Mana: 3;
#line "mon3.irh" 2472
CR: -2; HD: 2; Hit: 0; Def: 8; Mov: 40%; Spd: 60%;
Str 4, Dex 7, Con 14, Int 0, Wis 7, Cha 0;
Attk: 12 for 2d4 3,
60 for 2d4 3 (DC 13);
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000004;
#line "mon3.irh" 2478
Resists: 0x00001000;
Flags: 3, 2, 4, 66, 10,
31, 33, 6, 36, 43;
Desc: "A rolling green macroscopic single-celled organism, the acid 
      blob of named for the powerful digestive acid that it secretes. Its
      natural diet includes any mammal small and slow enough for it to roll 
      over and digest, including sloths, baby pigs, lizards and the occasional
      goblin.";
}

Monster "bloodbloater" : 16
{
Image: red 'j'; Size: 2; Mana: 3;
CR: -6; HD: 2; Hit: +1; Def: 13; Mov: 120%; Spd: 70%;
Str 2, Dex 13, Con 12, Int 0, Wis 8, Cha 0;
Attk: 5 for 1d6 13,
31 for 1d4+1 0 and
1d1 43;
Stati[124,18,4];
Stati[39,13,6];
Feats: 18, 45, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2500
Resists: 0x00001000;
Flags: 3, 2, 4, 66, 10,
31, 33, 6, 18, 36;
Desc: "An aquatic ooze a foot in diameter, the bloodbloater appears
      not unlike an egg, with a globular, translucent red yolk surronded
      by a clear, thin disc shot through with red veins. It latches on
      to a victim's body and begins to suck their blood just like a
      lamprey or leech.";
}

Monster "bloodsucker" : 16
{
Image: bright red 'j'; Size: 5; Mana: 10;
CR: 6; HD: 6; Hit: +4; Def: 10; Mov: 130%; Spd: 130%;
Str 16, Dex 10, Con 16, Int 0, Wis 0, Cha 0;
Attk: 9 for 2d4+2 13 and
1d3 43,
9 for 2d4+2 13 and
1d3 45,
42 for 90;
Stati[124,18,8];
Stati[39,13,12];
Feats: 18, 45, 36, 44,
((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2525
Resists: 0x00001000;
Flags: 3, 2, 4, 66, 10, 6,
31, 33, 18, 36, 23;
On Event (41+500) {
if (e.DType == 90) {
ThrowEff(52,$"chill blood",EActor,EVictim);
return 1;
}
},
210
"to <9>chill blood<7>";
Stati[134,77,12];
On Event (42+2000) {
rID t;
if (GetHandle(EMap) && GetHandle(EVictim) &&
EMap->InBounds(EVictim->x,EVictim->y)) {
t = EMap->TerrainAt(EVictim->x,EVictim->y);
if (!t->TerrainHasFlag(5) &&
!t->TerrainHasFlag(19))
EMap->WriteTerra(EVictim->x,EVictim->y,$"bloodstain");
}
};
Desc: "This monsterous relative of the bloodbloater appears to be
      a crimson sack of blood covered with a thick, fimly resin. Its touch
      drains vitality from its victims and it can project a ray that
      chills the blood of its enemies. It can detect creatures with blood
      within 120 feet (12 squares).";
}

Monster "stone jelly" : 16, 38
{ Image: brown 'j'; Size: 4; Arm: 10;
CR: 3; HD: 2; Hit: 1; Def: 8; Mov: 50%; Spd: 100%;
Str 18, Dex 8, Con 14, Int 4, Wis 4, Cha 4;
Attk: 12 for 1d6 13 and 67 (DC 15)
and 2d2 14 (DC 15);
Stati[39,112,2];
Stati[39,42,6];
Stati[39,95,6];
Stati[39,30,1];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000020;
#line "mon3.irh" 2565
Resists: 0x00001000;
Feats: 32, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 66, 3, 88, 40, 10,
3, 2, 4, 6, 40;
Desc: "This mysterious para-elemental has taken the form of a roiling
    jelly made of stone. It can passes through earthen barriers more by
    animating them and leaving itself behind than by truly melding with
    the stone. In its path it leaves a trail of rubble.";
On Event 1, 19 {
if (!GetHandle(EActor) || EActor->isDead())
return 0;
if (!EMap->SolidAt(EActor->x,EActor->y)) {
EMap->WriteTerra(EActor->x,EActor->y,$"loose-packed earth");
}
if (GetHandle(EVictim) && !EVictim->isDead() &&
!EMap->SolidAt(EVictim->x,EVictim->y)) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"loose-packed earth");
}
} ;
On Event (42+2000) {
hObj it;
if (GetHandle(EMap) && GetHandle(EVictim) &&
EMap->InBounds(EVictim->x,EVictim->y)) {
it = CreateItem($"boulder");
if (!it)
return 0;
it->SetQuantity(2d4);
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
};
}

Monster "shadow ooze" : 16
{ Image: blue 'j'; Size: 4;
CR: 1; HD: 4; Hit: +2; Def: 10; Mov: 100%; Spd: 100%;
Str 10, Dex 10, Con 10;
Attk: 9 for 1d10 73,
32 for 1d6 13 and 1d10 73;
Stati[124,18,10];
Stati[39,94,6];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000002, 0x00000001;
#line "mon3.irh" 2607
Resists: 0x00001000;
Feats: 18, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 33, 10, 3, 2, 4,
79, 66, 6;
On Event ((20+1000)+2000) {
if (GetHandle(EActor) != GetHandle(EVictim))
if (!EVictim->isDead())
ThrowEff(52,$"shadow step",EVictim,EVictim);
return 0;
};
Stati[134,75,10];
On Event 209
"When struck in combat, if it survives it can use <9>Shadow Step<7> as
       a reflexive action. It detects living things out to a range of 100 feet.";
}

Monster "blue jelly" : 16
{ Image: azure 'j'; Size: 3;
CR: 5; HD: 4; Hit: +3; Def: 8; Mov: 30%; Spd: 75%;
Str 5, Dex 8, Con 13, Int 0, Wis 12, Cha 4;
Attk: 17 for 3d4 2;
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000002;
#line "mon3.irh" 2630
Resists: 0x00001000;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
On Event ((41+1000)+2000) {
if (!(EVictim->isDead()))
if (e->DType != 1 && e->DType <= 13)
EVictim->Multiply(1,true);
return 0;
};
Flags: 3, 2, 4, 66,
10, 33, 6, 42;
Desc: "This freezing ooze is often best left undisturbed: when injured
    by anything other than fire it tends to split and multiply.";
}

Monster "crystal ooze" : 16
{ Image: bright cyan 'j'; Size: 6; Mana: 120;
CR: 6; HD: 10; Hit: +12; Def: 10; Mov: 200%; Spd: 125%;
Str 22, Dex 14, Con 16, Int 0, Wis 1, Cha 1;
Attk: 12 for 6d12 33,
32 for 6d12 33 and 3d6 13;
Stati[39,66,10];
Stati[118,18,50];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000080;
#line "mon3.irh" 2654
Resists: 0x00001000;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 3, 2, 4, 66,
10, 33, 8, 6, 44;
Desc: "This translucent glob of gelatinous material is in fact a
      highly sophisticated thaumavore -- a creature that survives by
      drawing the magical potential out of others. Crystal oozes live
      deep underground and are sometimes created or controlled by
      drow war parties as living war machines.";
Lists:
* 103 $"drow",
* 100 $"drow",
* 101 $"drow";
}

Monster "brown pudding" : 16
{ Image: bright brown 'j'; Size: 5;
CR: 9; HD: 6; Hit: +4; Def: 10; Mov: 30%; Spd: 100%;
Str 15, Dex 1, Con 22, Wis 1, Cha 1;
Attk: 19 for 2d4 13 and 5d6 57,
19 for 2d4 13 and 5d6 57,
32 for 2d4 13 and 5d6 57,
60 for 5d6 57 (DC 19);
Stati[124,7,8];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2680
Resists: 0x00001000;
Feats: 7, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 33, 10, 3, 2, 4,
66, 6;
On Event (41+2000) {
if (!(EVictim->isDead()))
if (e->DType == 11 ||
e->DType == 12 ||
e->DType == 4) {
e.Immune = true;
EVictim->Multiply(1,true);
return 1;
}
return 0;
};
Desc: "Brown puddings are immune to slashing, piercing and electrical
    damage and instead split into two identical jellies when subject to
    them.";
}

Monster "grey ooze" : 16
{ Image: grey 'j'; Size: 4;
CR: 2; HD: 3; Hit: +2; Def: 10; Mov: 50%; Spd: 75%;
Str 12, Dex 1, Con 11, Wis 1, Cha 1;
Attk: 9 for 1d10 3,
32 for 1d6 13 and 1d10 3,
60 for 5d6 3 (DC 19);
Stati[124,18,10];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000002, 0x00000001;
#line "mon3.irh" 2710
Resists: 0x00001000;
Feats: 18, 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 33, 10, 3, 2, 4,
79, 66, 6, 43;
}

Monster "magma creeper" : 16
{ Image: bright red 'j'; Size: 7;
CR: 11; HD: 12; Hit: +9; Def: 10; Mov: 100%; Spd: 150%;
Str 16, Dex 1, Con 22, Wis 1, Cha 1;
Attk: 19 for 4d6 13
and 3d6 3 (DC 22),
60 for 3d6 3 (DC 22),
30 for 10d6 3;
Stati[39,13,9];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000001, 0x00000004, 0x00000008;
#line "mon3.irh" 2726
Resists: 0x00001000;
Feats: 18, 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 33, 36, 10, 3, 2, 4,
79, 66, 14, 6, 43, 41;
Desc: "A magma creeper is a huge ooze that usually lives near areas of
    extreme heat such as a volcano. A magma creeper usually resembles a
    quick-moving flow of magma; however, it often changes course and
    certainly does not follow the path of least resistance to find
    potential prey. The creature can subsist on rocks due to its extremely
    powerful acids, but prefers animal flesh for the greater nutritional
    value. Magma creepers simply flow toward the nearest available animal
    target, not distinguishing among foes, and attempting to slam or
    (preferably) grab the target. If two creatures are an equal distance
    from it, the magma creeper attacks the larger of the two.";
}

Monster "stunjelly" : 16
{
#line "mon3.irh" 2748
Image: white 'j'; Size: 5; Mana: 2;
CR: 5; HD: 4; Hit: 3; Def: 12; Mov: 300%; Spd: 200%;
Str 14, Dex 22, Con 12, Int 0, Wis 4, Cha 1;
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2752
Resists: 0x00001000;
Attk: 14 for 2d4 4
and 66 (DC 15),
37 for 3d4 3;
Stati[39,13,6];
Feats: 18, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35);
Flags: 33, 10, 3, 2, 4,
79, 66, 6, 45;
Desc: "A translucent, amorphious organism resembling an ameoba,
      the stunjelly is almost invisible when viewed against stone
      or other uniform surfaces. It seeks out any organic materials
      to absorb, digest and metabolize. The stunjelly has nearly
      complete control over its form, and its terrible speed makes
      it a dangerous adversary.";
}



Monster "giant wasp" : 31
{
Image: yellow 'x'; Size: 5;
CR: 5; HD: 5; Def: 14; Hit: +3; Mov: 200%; Spd: 115%;
Str 18, Dex 12, Con 14, Int 0, Wis 13, Cha 11;
Poison: $"giant wasp venom";
Attk:
10 for 1d3+2 12
and 0d0 60 (DC 14);
Stati[124,44,8];
Stati[124,48,4];
Stati[39,42,6];
Immune: 0x00100000;
Feats: 44, 48;
Flags: 36, 37, 12, 26, 39,
3, 2, 35,
33, 11, 55;
}

Monster "giant dragonfly" : 31
{
Image: pink 'x'; Size: 3;
CR: 1; HD: 1; Def: 14; Hit: +2; Mov: 400%; Spd: 175%;
Str 7, Dex 20, Con 12, Int 0, Wis 12, Cha 11;
Attk:
7 for 1d3 12,
10 for 1d4 12;
Stati[124,44,4];
Stati[39,42,6];
Stati[145,2,50];
Feats: 44, 48, 18;
Flags: 36, 37, 12, 26, 39,
3, 2, 35, 33, 11,
55, 74;
On Event 209
"Its exceptional agility and body structure allow it to employ Motion 
        Camoflague -- a pattern of rapid movements leaving behind afterimages
        that is uses to stalk other vermin invading its territory, effectively
        duplicating the <9>displacement<7> spell mundanely. This is not an
        illusion and is not negated by <9>true seeing<7>.";
}

Monster "giant bee" : 31
{
Image: yellow 'x'; Size: 4;
CR: 0; HD: 3; Def: 12; Hit: +2; Mov: 250%; Spd: 110%;
Str 11, Dex 14, Con 11, Int 0, Wis 12, Cha 9;
Poison: $"giant bee venom";
Attk:
10 for 1d4 12
and 0d0 60 (DC 11);
Stati[124,44,4];
Stati[124,48,4];
Stati[39,42,6];
Immune: 0x00100000;
Feats: 44, 48;
Flags: 36, 37, 12, 26, 39,
3, 2, 35,
33, 11, 55;
Desc: "Although many times larger, growing to a length of about 5 feet,
    giant bees behave generally the same as their smaller cousins. Giant
    bees are usually not aggressive except when defending themselves or
    their hive. This type of giant bee can sting an opponent without
    killing itself in the process.";
}

Monster "giant praying mantis" : 31
{
Image: green 'x'; Size: 5; Arm: 6;
CR: 4; HD: 4; Def: 14; Hit: +3; Mov: 150%; Spd: 125%;
Str 19, Dex 8, Con 15, Int 0, Wis 14, Cha 11;
Attk:
6 for 1d8 11,
7 for 1d6 12;
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 32, 44; Immune: 0x00100000;
Flags: 36, 27, 3, 35,
33, 11, 55;
Desc: "A fast and agile cousin of the mundane mantis, the
      giant mantis can grow to be as large as a small horse.
      It remains perfectly still while stalking its prey.";
}

Monster "small monsterous centipede" : 31, 124
{
Image: red 'x'; Size: 3; Arm: 3;
CR: -4; HD: 1; Def: 12; Hit: +1; Mov: 100%; Spd: 60%;
Str 5, Dex 15, Con 10, Int 0, Wis 10, Cha 2;
Attk:
7 for 1d4 12 and 60 (DC 11);
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 7, 44;
Immune: 0x00100000;
Poison: $"monsterous centipede venom";
Flags: 36, 27, 3, 35,
33, 66;
Desc: "This centipede is about the size of a hunting dog.
      It has a shiny maroon carapice.";
}

Monster "monsterous centipede" : 31
{
Image: bright red 'x'; Size: 5; Arm: 6;
CR: 3; HD: 4; Def: 10; Hit: +3; Mov: 100%; Spd: 200%;
Str 14, Dex 11, Con 14, Int 0, Wis 10, Cha 2;
Attk:
7 for 1d4 12 and 60 (DC 11);
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 7, 44;
Immune: 0x00100000;
Poison: $"monsterous centipede venom";
Flags: 36, 27, 3, 35,
33, 66;
Desc: "This centipede is larger than a human. It attacks by rearing
    back part of its body and darting forward with its mouth. Surprisingly,
    it can do this quite rapidly. It has a bright maroon carapice.";
}

Poison "monsterous centipede venom" : 4
{
Level: 1;
cval: 5;
sval: 11;
lval: 2;
xval: 51; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Dexterity damage every 
      <11>5<7> turns, and requires <11>2<7> saving throws against <11>DC 11<7> 
      to overcome.";
}

Monster "giant soldier ant" : 31
{
Image: blue 'x'; Size: 4; Arm: 5;
CR: 2; HD: 2; Def: 13; Hit: +2; Mov: 150%; Spd: 125%;
Str 14, Dex 10, Con 13, Int 0, Wis 13, Cha 11;
Attk:
7 for 2d4 12,
10 for 1d4 12 and 1d8 3;
Stati[39,71,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 7, 44, 32, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00100000;
Flags: 36, 27, 3, 35,
33, 11, 64;
Desc: "This ant has a glossy black carapice, a stinger
      dripping with acid and razor-sharp pincers. It is
      about the size of a man.";
}

Monster "large spider" : 26, 31
{
Image: shadow 's'; Size: 2;
CR: -6; HD: 1; Hit: +1; Def: 8; Mov: 30%; Spd: 70%;
Str 1, Dex 4, Con 10, Int 1, Wis 6, Cha 12;
Attk:7 for 1d3 12 and 60 (DC 12);
Stati[39,42,6];
Immune: 0x00002000;
Stati[118,13,+1];
Feats: ((((49 + 1) + 32) + 50) + 8), 18,
(((49 + 1) + 32) + 9),
36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26;
Poison: $"spider venom";
}

Monster "dancing spider" : 26, 31
{
Image: purple 's'; Size: 2;
CR: -2; HD: 1; Hit: +1; Def: 10; Mov: 100%; Spd: 100%;
Str 1, Dex 14, Con 10, Int 1, Wis 6, Cha 12;
Attk:7 for 1d3 12 and 60 (DC 12);
Stati[39,42,6];
Stati[118,13,+1];
Feats: ((49 + 1) + 5),
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40),
18,
36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26, 57;
Immune: 0x00002000;
Poison: $"spider venom";
Desc: "The so-called dancing spider has a distinctive purple pattern of
  coloration and a rapid metabolism. It eschews web-spinning in favor of
  making darting attacks at its prey.";
}

Monster "spitting spider" : 26, 31
{
Image: green 's'; Size: 3;
CR: -4; HD: 2; Hit: +1; Def: 10; Mov: 50%; Spd: 70%;
Str 1, Dex 14, Con 10, Int 1, Wis 6, Cha 12;
Attk: 40 for 0d0 60 (DC 16),
7 for 1d3 12 and 60 (DC 12);
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2),
18, 36, 7, 22, 44, 32;
Flags: 36, 37, 2, 3,
58, 26, 57, 55;
On Event (20+1000) {
if (!EVictim->isDead() && e.AType == 40 && e.DType == 60) {
if (!EVictim->SavingThrow(1,20))
ThrowDmg(41,24,2d2,"spider spit",EActor,EVictim);
}
return 0;
} ;
Immune: 0x00002000;
Poison: $"spider venom";
Desc: "The dreaded spitting spider is reviled for its ability to 
  breathe gobs of venomous ichor at the eyes of its prey. Any opponent
  hit by the spider's spit must make a Reflex saving throw (DC 20) to
  avoid being blinded for 2d2 rounds. A spitting spider is about the size
  of a small dog.";
}

Poison "spider venom" : 4
{
Level: 5;
cval: 20;
sval: 12;
lval: 6;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>20<7> turns, and requires <11>6<7> saving throws against <11>DC 12<7> 
      to overcome.";
}

Monster "giant spider" : 26, 31
{
Image: red 's'; Size: 5;
CR: 3; HD: 6; Hit: +5; Def: 15; Mov: 100%; Spd: 100%;
Str 15, Dex 17, Con 12, Int 2, Wis 10, Cha 2;
Attk: 7 for 1d8 12 and 60 (DC 16);
Stati[39,42,6];
Stati[118,13,+1];
Immune: 0x00002000;
Feats: 18,
(((49 + 1) + 32) + 32),
(((49 + 1) + 32) + 9),
36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26;
Poison: $"giant spider venom";
}

Monster "pike spider" : 26, 31
{
Image: bright red 's'; Size: 5;
CR: 6; HD: 6; Hit: +5; Def: 10; Mov: 100%; Spd: 100%;
Str 12, Dex 20, Con 12, Int 2, Wis 10, Cha 2;
Attk: 10 for 1d8 12 and 60 (DC 16),
10 for 1d8 12 and 60 (DC 16);
Stati[39,42,6];
Immune: 0x00002000;
Stati[118,13,+1];
Feats:
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26, 14;
Poison: $"giant spider venom";
Desc: "The pike spider has two large, piercing stingers that can be used
  to strike unwary foes from a distance. Its attacks are very good at
  penetrating and bypassing armor.";
On Event (41+500) {
e.isBypass = true;
};
}

Poison "giant spider venom" : 4
{
Level: 7;
cval: 8;
sval: 16;
lval: 6;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>8<7> turns, and requires <11>6<7> saving throws against <11>DC 16<7> 
      to overcome.";
}

Poison "elder spider venom" : 4
{
Level: 10;
cval: 6;
sval: 20;
lval: 6;
xval: 50; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Strength damage every 
      <11>6<7> turns, and requires <11>6<7> saving throws against <11>DC 20<7> 
      to overcome.";
}

Poison "collosal spider venom" : 4
{
Level: 10;
cval: 6;
sval: 24;
lval: 6;
xval: 50; pval: 1d10;
Desc: "This poison inflicts <11>1d10<7> points of Strength damage every 
      <11>6<7> turns, and requires <11>6<7> saving throws against <11>DC 24<7> 
      to overcome.";
}

Monster "giant slug" : 31, 58
{ Image: brown 'x'; Size: 6;
CR: 4; HD: 12; Hit: +8; Def: 10; Mov: 50%; Spd: 70%;
Str 19, Dex 10, Con 12, Int 1, Wis 10, Cha 2;
Attk:
42 for 4d8 3 (DC 17),
7 for 2d6 12;
Stati[39,96,3];
Stati[39,13,6];
Immune: 0x00001000; Feats: 32;
Flags: 3, 2, 36, 66, 6,
73, 11, 8, 55;
Desc: "Ranging from 20 to 30 feet long, giant slugs are
      terrible predators and aberrations of nature. They
      dwell amidst rot and darkness, their powerful digestive
      acids allowing them to burrow deep into even the most
      well-fortified structure. They are a light brown in 
      coloration, with a pale white underbelly. As with their
      more mundane counterparts, salt is a terrible poison to
      giant slugs.";
}

Monster "giant blue beetle" : 31
{
Image: blue 'x'; Size: 4; Arm: 6;
CR: 2; HD: 2; Hit: 2; Def: 10; Mov: 130%; Speed: 125%;
Str 16, Dex 7, Con 18, Int 1, Wis 13, Cha 4;
Attk:7 for 2d4 12,
42 for 3d8 1 (DC 13);
Stati[39,42,6];
Flags: 3, 2, 4, 35, 7,
41;
Desc: "This huge, magical beetle has a glossy blue carapace and
      clear, vestigal wings. It can grow to be as large as a rottwieler
      if it feeds well, and the fiery jet it projects can kill nearly
      anything that would prey on it in its native habitat. Despite
      this, the beetle is a scavenger, not a predator, and fights more
      often out of defense then hunger.";
}

Monster "giant crustacean" : 31
{
Image: skyblue 'x'; Size: 6;
CR: 7; HD: 6; Hit: 4; Def: 10; Arm: 10; Mov: 150%; Spd: 125%;
Str 21, Dex 13, Con 19, Int 2, Wis 10, Cha 2;
Attk: 6 for 1d8 11,
6 for 1d8 11,
32 for 2d8 11;
Stati[39,42,6];
Stati[39,62,1];
Stati[39,95,6];
Feats: 7, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 35, 36, 37, 3, 30;
Immune: 0x00400000;
Desc: "These marine crustaceans have multiple legs, a
      thick shell, and a pair of massive pincers. They
      dwell in shallow waters or along beaches, feeding
      on the morsels brought in by the tide.
        When threatened they will wield their claws in a
      threatening manner, and use they to grapple their
      foe and apply a powerful pinch. They will drag a
      surface dweller underwater to drown.
        Due to the simple, redundant anatomy of a giant 
      crustacean, it has a 50~ chance of ignoring additional 
      damage from a sneak attack and is immune to critical 
      hits.";
}

Monster "cave cricket" : 31
{
Image: brown 'x'; Size: 3; Arm: 6;
CR: 1; HD: 2; Hit: +1; Def: 12; Mov: 70%; Spd: 100%;
Str 10, Dex 15, Con 12, Int 0, Wis 10, Cha 2;
Attk: 7 for 1d2 12;
Stati[39,95,3];
Stati[124,22,+10];
Spells: $"Spit Goo";
Feats: 44, 22, 36, 18;
Flags: 36, 27, 3, 35,
33, 11, 66, 54;
Immune: 0x00000010, 0x00100000;
On Event ((41+2000)+1000) {
if (EVictim->isDead())
return 0;
EMap->SetQueue(2);
VPrint(e,"You shriek!", "The <EVictim> shrieks!");
EVictim->MakeNoise(e.vDmg);
EMap->UnsetQueue(2);
return 0;
},
((20+2000)+500) {
if (e.AType == 22)
{
e.Immune = true;
return 1;
}
return 0;
},
209
"It shrieks when struck, waking creatures within 100 feet
        just like a shrieker mushroom patch. Its sealed carapice
        renders it immune to spores and spore-based attacks.";
#line "mon3.irh" 3181
Desc: "Cave crickets are large crickets the size of a hunting
      dog, typically very deep underground. They feed on a variety
      of fungi and the occasional corpse. They are normally docile
      creatures, but can become violent if started or surprised.
      When panicked they shriek loudly and jump about wildly,
      causing tremendous havoc and attracting far more dangerous
      predators.";
}

Effect "Spit Goo" : 3
{ xval: 20; aval: 1; qval: 0x0004;
sval: 0; Purpose: 0x00001; cval: 15;
Flags: 60, 82, 33;
Desc: "Once per hour, a cave cricket can spit a long, thick
      stream of goo at another creature within 20 feet, who must
      then succeed in a Fortitude save (DC 13) or become nauseated 
      for 3d6 rounds.";
On Event
155 {
if (EActor->HasEffStati(72,$"Spit Goo"))
return -1;
if (EVictim->DistFrom(EActor) > 2)
return -1;
return 0;
},
(52+500) {
EActor->GainTempStati(72,NULL,18000,
7,0,0,$"Spit Goo");
return 0;
},
170 {
e.vRange = 2;
e.saveDC = 13;
e.vDuration = 3d6;
return 0;
},
206
"You spit goo!" /
"The <EActor> spits goo!",
200
"glob of goo";
}
#line "mon3.irh" 3246
Monster "white worm mass" : 30, 31
{
Image: white 'w'; Size: 3;
CR: -2; HD: 4; Hit: +1; Def: 13; Mov: 30%; Spd: 70%;
Str 4, Dex 7, Con 13, Int 0, Wis 6, Cha 6;
Attk: 12 for 27 (DC 15);
Stati[39,95,3];
Disease: $"filth fever", $"red ache", $"slimy doom";
Flags: 28, 10, 66, 3, 4,
2, 6, 88;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
On Event ((20+2000)+1000) {
if (e->DType <= 13)
if (!(EVictim->Flags & 0x0008))
EVictim->Multiply(1,false);
};
Desc: "A mass of thin white earthworms twisted by thaumaturgy
      to reproduce literally quicker then the eye can see, these
      horrors can quickly become a plague if fought improperly.";
}
#line "mon3.irh" 3273
Monster "skeleton;mon" : 112
{
Image: white 'Z'; Size: 4;
Desc: "Animated skeletons are common servants of necromancers and evil
      warlords, and can be essentially mundane foes or have unusual abilities
      based on the specific magic used in giving them unlife. The Knowledge
      (Undead) skill is thus useful to identify creatures like this more
      completely.";
Flags: 108, 24;
}

Monster "corporeal undead" : 76
{
Image: brown 'U'; Size: 4;
Desc: "This creature, on casual visual examination, is clearly a rotting
      corpse animated by unknown magic or a malignant curse. Wights, zombies,
      graveborn, revenants and even liches all appear strikingly similar to 
      one not steepled in the lore of the dead. A Knowledge (Undead) check
      would have allowed you to identify this creature more accurately.";
Flags: 108, 24;
}

Monster "spectral undead" : 53
{
Image: green 'W'; Size: 4;
Desc: "This creature, on casual visual examination, is a translucent
      humanoid form, clearly existing partly on this plane and partly on
      some other, lingering on beyond its natural lifespan. Shadows, wraiths,
      ghosts, spectres and poltergeists all appear strikingly similar to 
      one not steepled in the lore of the dead. A Knowledge (Undead) check
      would have allowed you to identify this creature more accurately.";
Flags: 108, 24;
}

Monster "bodak" : 48
{
Image: shadow 'U'; Size: 4; Arm: 10;
CR: 10; HD: 9; Hit: +6; Def: 18; Mov: 75%; Spd: 145%;
Str 13, Dex 15, Con 0, Int 6, Wis 12, Cha 12;
Attk: 19 for 1d8+1 13,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000008;
#line "mon3.irh" 3316
Resists: 0x00000004, 0x00000001;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44),
18, 32, 44, 36;
Flags:
1, 32, 53, 52, 49,
66, 56;
Spells: $"bodak death gaze";
Desc: "Bodaks are the undead remnants of humanoids who have been
      destroyed by the touch of absolute evil.
      A bodak retains fleeting memories of its past life and can speak Common
      (or some other humanoid language).";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Effect "Bodak Death Gaze" : 1
{ 0x00000040; Base: 90; Cost: 10; qval: 0x0004;
Purpose: 0x00001 | 0x01000;
Flags: 104, 63, 4, 61, 82;
tval: 75; aval: 1;
cval: 8;
xval: 6; pval: 0;
On Event 28 {
if (!EVictim->SavingThrow(0,15,0x00000010|0x00000004|0x00000001)) {
ReThrow(42,e);
return 1;
}
return 0;
};
On Event 206
"Your eyes glow with a black aura."
"The <EActor>'s eyes glow with a black aura.";
}

Monster "bonebat" : 3, 112
{
Image: white 'b'; Size: 2;
CR: 0; HD: 2; Hit: +0; Def: 17; Mov: 150%; Spd: 130%;
Str 4, Dex 10, Con 8, Int 0, Wis 10, Cha 8;
Attk: 7 for 1d3 12 and 1d2 47 (DC 14);
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3360
Feats: (((49 + 1) + 32) + 44), 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 32, 3, 2, 12, 66,
52, 53, 19, 33, 56;
}

Monster "crawling claw" : 60
{
Image: grey 'Z'; Size: 2; Mana: 2;
CR: -2; HD: 1; Hit: -1; Def: 14; Mov: 75%; Spd: 75%;
Str 17, Dex 14, Con 12, Int 0, Wis 12, Cha 4;
Attk: 5 for 1d6 13,
30 for 1d2 13;
Stati[39,42,6];
Stati[39,95,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3377
Feats: 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 22, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 32, 3, 2, 4, 66,
104, 53, 19, 55,
33, 56;
Desc: "A severed hand, animated by necromatic magic, the crawling
      claw possesses strength that belies its small size.";
}

Monster "accursed cow" : 55, 24
{
Image: cyan 'q'; Size: 5;
CR: 1; HD: 4; Hit: 0; Def: 10; Mov: 75%; Spd: 60%;
Str 13, Dex 8, Con 0, Int 1, Wis 12, Cha 9;
Attk: 2 for 1d6 13,
53 for 1d6 50;
Stati[39,71,6];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 3, 11, 75, 70,
54, 66;
On Event ((41+2000)+1000) {
if (GetHandle(EActor) != GetHandle(EVictim)) {
VPrint(e,"You glow black.", "The cow glows black.");
ThrowEff(52,$"Bestow Curse",EVictim,EActor);
}
return 0;
},
32 {
if (1d6 == 1)
APrint(e,"'Moo.'");
return 0;
};
Desc: "This is what the elderly wives of superstitious farmers
      say: that sometimes, when a farmer is tremendously cruel to
      his cattle, beating them without surcease, they will rise up
      anew from the grave when they finally pass, wandering the world
      as accursed cattle, spreading weakness in their wake, and that
      whomsoever should injure them shall be subject to a terrible
      curse to haunt them for past cruelty.";
}

Monster "bone delver" : 55
{
Image: blue 'U'; Size: 4;
CR: 0; HD: 2; Hit: +0; Def: 13; Mov: 100%; Spd: 100%;
Str 13, Dex 11, Int 10, Wis 11, Cha 11;
Attk: 6 for 1d4 11,
6 for 1d4 11,
47 for 2d6 28 (DC 11),
53 for 27 (DC 12),
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3433
Feats: 16, 18, 36,
33, 41, 44;
Stati[30,2,0,$"pickaxe"];
Disease: $"grave rot";
Flags: 32, 1, 66, 56,
53, 49, 52, 19;
Gear: $"brass lantern",
$"pickaxe";
Desc: "Bone delvers are grave robbers who have died while performing
    their nefarious tasks. They usually appear as hunched, twisted
    humanoids. They forever carry the tools of their trade.";
On Event 213 "wail" / "wails";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "tomb guardian" : 55
{
Image: white 'U'; Size: 5;
CR: 7; HD: 7; Hit: +7; Def: 15; Mov: 100%; Spd: 135%;
Str 16, Dex 14, Int 12, Wis 14, Cha 15;
Arm: 10;
Attk: 6 for 1d6+4 11,
102 for $"skeleton;mon";
Stati[39,98,5];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3462
Feats:
6, 20, 32, 36,
41, 3, 44,

((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23);

Flags: 1, 32, 61, 53, 107,
66;

Spells: $"wall of stone";

Gear:
75% $"great scythe" of random 2 to 3
else random 58 of random 1 to 3;

Desc:
"Tomb guardians are undead warriors found
    guarding tombs, graves, corpses, and crypts. If left
    alone and the place they are guarding remains
    undisturbed, they will take no actions. However, if
    any actions are taken to disturb the tomb guardian
    or its place of protection, the tomb guardian will use
    all means necessary to remove the offenders.
    A tomb guardian appears as an imposing 10-foot
    tall skeleton with thick, sturdy looking bones and
    red pinpoints of light where its eyes should be.
    Tomb guardians are often seen wielding great
    scythes, though may be found wielding any sort
    weapon.";

On Event 156 {
EActor->StateFlags |= 0x0002;
} ;
}

Monster "crypt thing" : 55, 112
{
Image: brown 'U'; Size: 4; Mana: 45;
CR: 2; HD: 6; Hit: +4; Def: 13; Mov: 100%; Spd: 100%;
Str 10, Dex 16, Con 0, Int 11, Wis 15, Cha 13;
Attk: 9 for 90,
6 for 1d6 11,
6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,98,4];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3509
Stati[118,13,+1];
Feats: (((49 + 1) + 32) + 30), (((((49 + 1) + 32) + 50) + 38) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
6, 11, 13,
20, 32, 3, 44;
Flags: 1, 32, 53, 66;
On Event (41+500) {
if (e.DType == 90) {
if (EVictim->SavingThrow(2,14,0x00000001) ||
EVictim->isMType(40)) {
e.Resist = true;
return 1;
}
EActor->IdentifyMon();
ThrowEff(83,$"dismissal",EActor,EVictim);
return 1;
}
return 0;
},
210
"to teleport enemies away (as <9>dismissal<7>, DC 14)";
Desc: "Crypt things are undead guardians set to watch over a place
      of great importance, appearing as a skeletal figure wrapped in a
      tattered cloak and cowl. Crypt things can be negotiated with and
      avoided, but are absolutely devoted to their task and cannot be
      cowed or easily decieved.";
}

Monster "ghoul" : 55
{
Image: blue 'U'; Size: 4; Depth: 5;
CR: 2; HD: 2; Hit: +1; Def: 12; Mov: 100%; Spd: 100%;
Str 13, Dex 15, Int 13, Wis 14, Cha 16;
Attk: 7 for 1d6 12 and 1d4 18,
6 for 1d3 11,
6 for 1d3 11,
102 for $"corporeal undead";
Stati[39,42,6];
Stati[39,98,2];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3549
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 18,
7, 13, 22, 32, 44,
36, 41;
Flags: 1, 32, 49, 52, 53,
36;
On Event (41+500) {
if (e.AType == 7 && e.DType == 18)
if (EVictim->isMType(62))
{
e.Immune = true;
return 1;
}
},
157 {
if (ETarget->isType(31))
return 120;
},
(20+1000) {
EActor->IdentifyMon();
return 0;
};
Desc: "These undead cannibals seek only to devour the flesh
      of humanoids, living or dead, and are thus typically found 
      around graveyards, slaughterhouses and abatoirs. They appear
      as slavering, emaciated corpses with sharp teeth and claws.";
Lists:
* 100 $"ghast";
}

Monster "ghast" : 55
{
Image: bright blue 'U'; Size: 4; Depth: 5;
CR: 4; HD: 4; Hit: +2; Def: 14; Hit: 4; Mov: 100%; Spd: 130%;
Str 13, Dex 15, Int 13, Wis 14, Cha 16;
Attk: 7 for 1d6 12 and 1d4 18,
6 for 1d3 11,
6 for 1d3 11,
102 for $"corporeal undead";
Stati[39,42,6];
Stati[39,98,2];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3590
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 18,
7, 13, 22, 32, 44,
36, 41;
Flags: 1, 32, 49, 52, 53, 107;
On Event 156 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"ghast stench",EActor);
},
157 {
if (ETarget->isType(31))
return 120;
};
Desc: "The more highly developed form of ghouls, ghasts have
      lived many years and exude a terrible carrion stench that
      sickens their enemies where they stand. Sages speculate that
      ghouls may become ghasts by consuming enough live prey and
      surviving for a long enough period.";
Lists:
* 101 $"ghoul",
* 103 $"ghoul";
}

Effect "ghast stench" : 3
{ aval: 9; rval: 0x00000004 | 0x00000002;
xval: 117; yval: 51; pval: -2;
tval: 75; Flags: 4; Purpose: 0x00010;
Flags: 82;
On Event
43
"The ghastly stench sickens you." /
"The <EActor> seems ready to retch.",
44
"The air seems cleaner now." /
"The <EActor> leaves the area of tainted air.";
}

Monster "burning ghast" : 55
{
Image: bright red 'U'; Size: 4;
CR: 4; HD: 4; Hit: +4; Def: 14; Mov: 100%; Spd: 120%;
Str 13, Dex 15, Int 13, Wis 14, Cha 14; Mana: 10;
Attk: 6 for 1d4 11 and 2d6 1,
6 for 1d4 11 and 2d6 1,
102 for $"corporeal undead";
Stati[39,42,6];
Spells: $"scorcher";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000001;
#line "mon3.irh" 3637
Feats: 7, 13, 18, 22, 32,
36, 41, 44,
((49 + 1) + 25), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22);
Flags: 104, 36, 1, 32, 49,
89, 53, 52, 41;
Desc: "A burning ghast is created when an innocent is unnjustly put to
    death by fire.";
Lists:
* 101 $"ghoul",
* 103 $"ghoul";
On Event (41+2000) {
if (e.DType == 74) {
e.DType = 0;
e.vDmg = e.vDmg * 2;
}
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
},
209
"It takes double damage from soaking attacks.";
}

Monster "icewight" : 55
{
Image: bright cyan 'U'; Size: 4;
CR: 4; HD: 6; Hit: +5; Def: 14; Mov: 100%; Spd: 100%;
Str 12, Dex 12, Int 11, Wis 13, Cha 15;
Attk: 9 for 1d12 32 (DC 16)
and 1d3 44
and 3d12 2,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3673
Resists:0x00000004;
Feats: ((49 + 1) + 25), 36, 32;
Flags: 36, 1, 32, 49,
89, 53, 52, 42, 107;
Desc: "Icewights are a species of undead that are created
      by a human dying of winter's chill with a mission of
      great importance uncompleted. They are similar to, but
      more powerful than, the more common kind of wight.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal foot soldier" : 112, 120
{
Image: green 'Z'; Size: 4;
CR: 2; HD: 1; Hit: +1; Def: 10; Mov: 100%; Spd: 105%;
Str 14, Dex 6, Wis 12;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3696
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 0 to 1
else random 58 of random 0 to 1,
$"chainmail shirt" of random 0 to 1;
Desc: "These undead are raised by an evil priest from
      the remains of a warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and occasionally difficult to dominate, being somewhat
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal trooper" : 112, 120
{
Image: bright green 'Z'; Size: 4;
CR: 3; HD: 2; Hit: +2; Def: 10; Mov: 100%; Spd: 110%;
Str 16, Dex 8, Wis 14;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3726
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 0 to 1
else random 58 of random 0 to 1,
$"chainmail" of random 0 to 1;
Desc: "These undead are raised by an evil priest from
      the remains of a warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and occasionally difficult to dominate, being somewhat
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal skirmisher" : 112, 120
{
Image: red 'Z'; Size: 4;
CR: 4; HD: 3; Hit: +3; Def: 10; Mov: 100%; Spd: 115%;
Str 17, Dex 9, Wis 15;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3756
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((49 + 1) + 32) + 44),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 1 to 1
else random 58 of random 1 to 1,
$"breastplate" of random 1 to 1;
Desc: "These powerful undead are raised by an evil priest from
      the remains of a great warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and notoriously difficult to dominate, being tremendously
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal fighter" : 112, 120
{
Image: bright red 'Z'; Size: 4;
CR: 6; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 120%;
Str 18, Dex 10, Wis 16;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3786
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((49 + 1) + 32) + 44),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 1 to 2
else random 58 of random 1 to 2,
$"banded mail" of random 1 to 2;
Desc: "These powerful undead are raised by an evil priest from
      the remains of a great warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and notoriously difficult to dominate, being tremendously
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal warrior" : 112, 120
{
Image: purple 'Z'; Size: 4;
CR: 7; HD: 7; Hit: +7; Def: 16; Mov: 100%; Spd: 150%;
Str 22, Dex 14, Wis 20;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3816
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 1 to 3
else random 58 of random 1 to 3,
$"field plate armor" of random 1 to 3;
Desc: "These powerful undead are raised by an evil priest from
      the remains of a great warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and notoriously difficult to dominate, being tremendously
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}


Monster "skeletal myrmidon" : 112, 120
{
Image: bright purple 'Z'; Size: 4;
CR: 9; HD: 10; Hit: +10; Def: 16; Mov: 125%; Spd: 150%;
Str 26, Dex 18, Wis 24; Arm: 5;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,66,5];
Stati[39,42,6];
Stati[39,13,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3850
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
14, 18, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 3 to 5
else random 58 of random 3 to 5,
$"full plate armor" of random 3 to 5;
Desc: "These mighty undead are raised by an evil priest from
      the remains of a legendary warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed and
      notoriously difficult to dominate, being tremendously strong-willed
      monsters. Truly potent skeletal myrmidons can reassamble themselves
      from the very dust in the air and are almost impossibly difficult to
      damage.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "poltergeist" : 53
{ Image: green 'N'; Size: 4; Depth: 2;
CR: 2; HD: 3; Def: 15; Hit: 2; Mov: 150%; Spd: 125%;
Dex 14, Int 7, Wis 6, Cha 14;
Attk: 9 for 3d4 28 (DC 17),
102 for $"spectral undead";
Stati[39,42,6];
Stati[39,36,9];
Stati[100,2,0,$"poltergeist"];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Feats: ((((49 + 1) + 32) + 50) + 35), 20, 6,
44;
Flags: 52, 49, 1, 9,
32, 88, 66;
Spells: $"gust of wind", $"phantasmal force";
Desc: "These mischevious spirits are naturally invisible,
      spreading terror and misunderstanding in their wake. They
      tend to be tied to one specific location, and will defend
      that location with all their supernatural cunning. Though
      they cannot actually touch or harm living creatures, they
      can use their abilities to lead the living into mortal
      danger. Most such beings are evil, but some poltergeists
      are merely playful and disoriented.";
On Event 209
"It is naturally invisible.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "slow shadow" : 57
{
Image: green 'W'; Size: 4;
CR: 2; HD:2; Hit: 2; Def: 12; Hit: 3; Mov: 150%; Spd: 150%;
Dex 14, Int 6, Wis 12, Cha 13;
Attk: 9 for 1d4 25 (DC 17),
102 for $"spectral undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Resists:0x00000002, 0x00000004;
Feats: (((49 + 1) + 32) + 44), 18;
Flags: 1, 32, 49, 53, 88,
52, 9, 66, 8, 66,
56;
Desc: "Creatures of living darkness, these restless spirits are
      all that remains of those whose lives were consumed by malevolant
      apathy and silent complicity to evil. Shadows are a favored tool
      of necromancers and grim sorcerors everywhere.";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "shadow" : 57
{
Image: shadow 'W'; Size: 4;
CR: 4; HD:2; Hit: 2; Def: 12; Hit: 3; Mov: 150%; Spd: 150%;
Dex 14, Int 6, Wis 12, Cha 13;
Attk: 9 for 1d6 43 (DC 13),
102 for $"spectral undead";
Stati[39,98,2];
Stati[124,32,2];
Stati[124,44,2];
Stati[124,41,4];
Stati[124,18,4];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3946
Resists:0x00000002, 0x00000004;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), 18, 32, 41, 44;
Flags: 1, 32, 49, 53, 88,
52, 9, 66, 8, 19,
56;
Desc: "Creatures of living darkness, these restless spirits are
      all that remains of those whose lives were consumed by malevolant
      apathy and silent complicity to evil. Shadows are a favored tool
      of necromancers and grim sorcerors everywhere.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "blessed soul" : 53
{
Image: yellow 'N'; Size: 4; Mana: 70; Depth: 2;
CR: 3; HD: 3; Hit: 2; Def: 12; Hit: 3; Mov: 150%; Spd: 150%;
Dex 10, Int 13, Wis 16, Cha 14;
Attk: 9 for 1d4 2,
102 for $"spectral undead";
Stati[39,98,8];
Stati[39,42,6];
Stati[124,44,+4];
Stati[124,32,+4];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3974
Resists:0x00000002, 0x00000004;
Spells: $"Bless", $"Cure Moderate Wounds", $"Remove Curse",
$"Dispel Fatigue";
Feats: (((((49 + 1) + 32) + 50) + 38) + 26), 17, 30, 29,
44, 32;
Flags: 1, 32, 50, 53, 88,
9, 19, 70;
Desc: "Blessed souls are rarely seen outside the peaceful
      afterlife of the Upper Planes, but some remain connected
      to Theyra, unable to move on due to unresolved issues.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "shadow haunt" : 57
{
Image: bright shadow 'W'; Size: 4;
CR: 7; HD: 6; Hit: +3; Def: 15; Mov: 150%; Spd: 130%;
Dex 17, Int 14, Wis 13, Cha 21; Arm: 10;
Attk: 9 for 1d8 48,
43 for 1d2 28 (DC 18);
Stati[118,18,((17*5)-50)];
Stati[39,91,10];
Stati[39,98,4];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4002
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 27),
18, 20, 32, 41, 3,
44;
Flags: 36, 66, 32, 49, 56,
88, 8, 53, 52;
Desc: "This is a menacing cloud of smoke and shadows that coalesces
    into a humanoid shape. Pinpricks of red light serve as eyes and its
    arms ends in grasping, claw-like hands.";
}


Monster "spectre" : 53
{ Image: bright cyan 'N'; Size: 4; Depth: 6;
CR: 8; HD: 7; Def: 12; Hit: 6; Mov: 250%; Spd: 125%;
Dex 16, Int 14, Wis 14, Cha 15;
Attk: 9 for 6d12 32
and 3d4 28 (DC 22),
102 for $"spectral undead";
Stati[39,36,9];
Stati[39,98,2];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4026
Feats: ((49 + 1) + 5), ((49 + 1) + 25), ((((((49 + 1) + 32) + 50) + 38) + 30) + 32),
(((49 + 1) + 32) + 44), 32, 18, 20,
44, 41;
Flags: 51, 49, 53, 1, 9,
8, 32, 8, 88, 13,
19;
Desc: "Powerful essences of selfish will, domination and
          terror, spectres are the restless souls of evil
          individuals whose will to live was so overwhelming
          that it allowed them to linger after death with most
          of their minds intact.";
On Event (41+2000) {
if (e.DType == 9)
{
EVictim->GainTempStati(168,NULL,-2,7);
EVictim->GainTempStati(10,NULL,e.vDmg,7,1);
if (e.vDmg >= EVictim->GetAttr(4))
{
EVictim->IDPrint("You are paralyzed with terror!",
"The <hObj> is paralyzed with terror!", EVictim);
EVictim->GainTempStati(9,NULL,e.vDmg / EVictim->GetAttr(4),
7,0);
}
return 1;
}
return 0;
},
209 "Being exposed to sunlight negates a spectre's special abilities
      for a full day, frightens the creature for one turn per points of damage the
      light would normally inflict and, if the light would do more damage than the
      spectre's Wisdom score, it also paralyzes the creature for one turn per
      [Wisdom] points of damage.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "wight" : 55
{
Image: cyan 'U'; Size: 4;
CR: 2; HD:4; Hit: +2; Def: 14; Mov: 100%; Spd: 100%;
Str 12, Dex 12, Int 11, Wis 13, Cha 15;
Attk: 9 for 1d8 32 (DC 16),
19 for 1d4 13,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4074
Resists:0x00000002, 0x00000004;
Feats: ((49 + 1) + 25), 36, 32;
Flags: 36, 1, 32, 49,
89, 53, 52, 19, 43;
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "wraith" : 57
{
Image: blue 'W'; Size: 4;
CR: 5; HD:5; Hit: +5; Def: 14; Mov: 100%; Spd: 100%;
Dex 16, Int 14, Wis 14, Cha 15;
Attk: 9 for 3d12 32 (DC 17)
and 1d6 52 (DC 17),
53 for 28 (DC 15),
102 for $"spectral undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4096
Resists:0x00000002, 0x00000004;
Feats: ((49 + 1) + 5), ((49 + 1) + 25), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), 36, 32, 20,
41, 3;
Flags: 1, 32, 49, 53, 88,
52, 9, 66, 19;
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
25% $"long sword" +1 with [77]
else 50% $"long sword" of random 1 to 3
else $"long sword",
25% $"plate mail" else
$"chainmail",
50% $"ring" of random 2 to 5,
$"robes";
}

Monster "mummy" : 55
{
Image: yellow 'U'; Size: 4; Mana: 45;
CR: 5; HD: 8; Hit: +6; Def: 16; Mov: 70%; Spd: 75%;
Str 18, Dex 10, Con 0, Int 6, Wis 14, Cha 15;
Attk: 19 for 1d6 13,
9 for 0d0 27 (DC 16);
Stati[39,42,6];
Disease: $"mummy rot";
Spells: $"bestow curse", $"summon swarm";
Desc: "Mummies are undead creatures created by potent magical
      rituals practiced by certain desert-dwelling ancient civilizations.
      Many of these rights have since been unearthed by modern
      spellcasters, though mummification is more popular among clerics
      than mages, since the rituals are highly religious. While most
      mummies are malicious creatures, they are also ordered and
      dutiful beings that adhere vigorously to religious law.
      The priesthoods of Xel and Aiswin frequently creatures mummies, as 
      do some truly ancient members of the Multitude. More benevolent
      mummies are sometimes created by (or from!) priests of Mara or
      Xavias, though these creatures are uncommon.";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4138
Feats: 18, 32, 36, 44, 30,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Flags: 1, 32, 49, 51, 89,
19, 56;
On Event 164 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
},
(41+2000) {
if (e.DType == 1)
e.vDmg = (e.vDmg * 15) / 10;
return 0;
},
209
"It is vulnerable to fire, suffering 150~ damage from fire attacks.
       It projects an aura of despair in a 20 foot radius, causing nearby
       creatures to suffer a -2 general morale penalty.";
Gear:
25% $"amulet" of random 2 to 6,
50% $"longspear" +1;
}

Monster "mummy lord" : 55
{
Image: white 'U'; Size: 4; Mana: 180;
CR: 10; HD: 15; Hit: +12; Def: 16; Mov: 70%; Spd: 75%;
Str 22, Dex 12, Con 0, Int 12, Wis 20, Cha 17;
Attk: 19 for 1d8 13,
9 for 0d0 27 (DC 16),
102 for $"mummy";
Stati[39,42,6];
Stati[39,82,7];
Stati[39,23,7];
Stati[221,0,0,$"Death"];
Stati[221,0,0,$"Guardian"];
Stati[221,0,0,$"Retribution"];
Disease: $"mummy rot";
Spells: $"bestow curse", $"summon swarm";
Desc: "Mummies are undead creatures created by potent magical
      rituals practiced by certain desert-dwelling ancient civilizations.
      Many of these rights have since been unearthed by modern
      spellcasters, though mummification is more popular among clerics
      than mages, since the rituals are highly religious. While most
      mummies are malicious creatures, they are also ordered and
      dutiful beings that adhere vigorously to religious law.
      The priesthoods of Xel and Aiswin frequently creatures mummies, as 
      do some truly ancient members of the Multitude. More benevolent
      mummies are sometimes created by (or from!) priests of Mara or
      Xavias, though these creatures are uncommon.\n
      __The most powerful mummies are known as mummy lords, and augment
      their potent innate abilities with a powerful understanding of
      clerical magic and a far greater degree of intelligence and
      reason then the majority of their kind.";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4192
Feats: 18, 32, 36, 44, 30,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((49 + 1) + 32) + 50) + 38) + 30) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45);
Flags: 1, 32, 49, 51, 89,
19, 56;
On Event 164 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
},
(41+2000) {
if (e.DType == 1)
e.vDmg = (e.vDmg * 15) / 10;
return 0;
},
(37+1000) {
EActor->IdentifyMon();
return 0;
},
209
"It is vulnerable to fire, suffering 150~ damage from fire attacks.
       It projects an aura of despair in a 20 foot radius, causing nearby
       creatures to suffer a -2 general morale penalty.";
Lists:
* 21
(52 + 1000);
Gear:
$"amulet" of random 5 to 10,
50% $"amulet" of random 5 to 10,
75% $"ring" of $"fire resistance",
50% $"cloak" +2 of $"resistance",
50% $"longspear" +3;
}

Monster "revenant" : 55
{
Image: yellow 'U'; Size: 4;
CR: 5; HD: 4; Hit: +4; Def: 15; Mov: 100%; Spd: 100%;
Str 18, Dex 16, Int 14, Wis 16, Cha 14; Arm: 4;
Attk: 1 for 1d2 13,
102 for $"corporeal undead";
Stati[39,98,2];
Stati[39,42,6];
Stati[39,66,3];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4236
Feats:
3, 31, 44, 32,
7, 22, 4,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Flags: 1, 32, 107;
Desc: "Some creatures die with their greatest ambitions in life
      unfulfilled, only to return from the grave as revenants -- either
      through Mara's blessing or the sheer force of their own willpower.
      Revenants are canny undead, driven to the point of obsession to
      fulfill what they failed at in life. Physically strong and possessed
      of unearthly willpower, they can be a frightening threat or steadfast
      ally to a living adventurer.";
Gear:
$"peasant garb",
25% $"chainmail" else
33% $"banded mail" else
50% $"cord armor" else
$"coat of plates",
25% $"halberd" else
33% $"long sword" else
50% $"heavy mace" else
$"large club",
10% $"ring" of random 3 to 8;
}

Monster "mourner" : 55
{
Image: bright cyan 'U'; Size: 4; Mana: 45;
CR: 6; HD: 6; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Str 10, Dex 14, Int 6, Wis 13, Cha 17;
Attk: 1 for 1d2 13,
43 for 1d2 55,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4271
Feats:
44, 32, 37,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 36), ((((49 + 1) + 32) + 50) + 8);
Spells: $"silence", $"creeping cold", $"revenance", $"enthrall";
Flags: 1, 32, 51, 12, 56;
Desc: "Many sages have speculated on the origin and purpose of
      the mourners. Emaciated figures cloaked in black cowled robes
      carrying lengths of magical chain, these creatures, though
      corporeal undead, do not appear to be the remains of creatures
      who once lived. How they come into existance is unknown. What
      is known is that they show up at the sights of great battles
      and massacres to terrorize the guilty and bring about justice
      according to their own, harsh code. Mourners never speak and
      move in utter silence, gliding over the ground with only the 
      trails of their robes brushing the floor.";
On Event 41 {
if (e.DType == 55)
EVictim->IPrint("You experience a soul-draining flashback of
          unresolved violence!");
return 0;
},
36, (49+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
$"robes",
25% $"spiked chain" of random 1 to 6 else
$"spiked chain";
}




Template "vampire" : 0x0010 for 91
{
Glyph: pink 'V'; MType: 56;
CR: +4 (Min 9); HD: +4; Hit: +5; Def: +6;
Caster Level: +2; Power: +2;
Str +9, Dex +6, Con =0, Int +3, Wis +3, Cha +6; Arm +10; Attk: 7 for 1d6 12
and 6d6 32,
31 for 1d4 45 (DC 17),
43 for 3d6 90 (DC 17),
101 for $"bat",
101 for $"wolf";
Stati[39,40,1];
Stati[39,66,5];
Stati[39,42,12];
Stati[39,98,4];
Stati[124,6,8];
Stati[124,18,8];
Stati[124,32,8];
Stati[124,36,8];
Stati[124,41,8];
Stati[124,3,8];
Stati[124,44,8];
Spells: $"spider climb", $"Summon Rats", $"Summon Bats",
$"Summon Wolves";
Feats:
7, 6, 18, 22, 32,
36, 41, 3, 44,
((49 + 1) + 5), (((49 + 1) + 32) + 14), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 12), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4337
Resists: 0x00000002, 0x00000008;
Flags: 32, 49, !50, 52, !51, 53,
8, -1,
-3, 55, !19, 18;
Desc: "Vampires appear just as they did in life, although their
    features are often hardened and feral, with the predatory look of
    wolves.  Like liches, they often embrace finery and decadence and may
    assume the guise of nobility. Despite their human appearance, vampires
    can be easily recognized, for they cast no shadows and throw no
    reflections in mirrors.";
On Event 155 {
if (EActor->isMType(87) &&
EActor->isMType(91))
return 1;
else
return -1;
},
(17+1000) {
if (EActor->mID == EActor->tmID)
EActor->IdentifyTemp($"vampire");
return 0;
},
(41+500) {
if (e.DType == 90)
{
RedirectEff(e,$"dominate monster",52);
EActor->IdentifyTemp($"vampire");
return 1;
}
return 0;
},
210
"dominate its victim";
}

Effect "Summon Rats" : 9
{ 0x00000100; Base: 80; Cost: 8; qval: 0x0002;
Purpose: 0x00100; rval: $"giant rat"; pval: 4;
Desc: "This power allows a vampire to summon a group of
      giant rats worth CR 4.";
Flags: 82, 79, 95;
On Event 206
"You call for aid!" / "The <EActor> calls for aid!"; }

Effect "Summon Bats" : 9
{ 0x00000100; Base: 80; Cost: 8; qval: 0x0002;
Purpose: 0x00100; rval: $"bat"; pval: 4;
Desc: "This power allows a vampire to summon a group of
      bats worth CR 4.";
Flags: 82, 79, 95;
On Event 206
"You call for aid!" / "The <EActor> calls for aid!"; }

Effect "Summon Wolves" : 9
{ 0x00000100; Base: 80; Cost: 8; qval: 0x0002;
Purpose: 0x00100; rval: $"wolf"; pval: 4;
Desc: "This power allows a vampire to summon a group of
      wolves worth CR 4.";
Flags: 82, 79, 95;
On Event 206
"You call for aid!" / "The <EActor> calls for aid!"; }


Monster "vampire spawn" : 56, 87
{
Image: grey 'V'; Size: 4;
CR: 4; HD: 4; Hit: +2; Def: 13; Mov: 100%; Spd: 100%;
Str 16, Dex 14, Con 16, Int 13, Wis 13, Cha 14;
Attk: 7 for 1d6 13
and 3d6 32,
31 for 1d4 45 (DC 17),
43 for 3d6 90 (DC 17),
102 for $"human";
Stati[39,40,1];
Stati[39,42,6];
Stati[39,66,2];
Stati[39,98,4];
Stati[39,105,1];
Spells: $"spider climb";
Feats: 7, 6, 18, 22, 32,
36, 41, 3, 44, ((49 + 1) + 5),
((((((49 + 1) + 32) + 50) + 38) + 30) + 8), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 0),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4421
Flags: 1, 32, 49, 52, 53,
8, 18, 55;
Desc: "Vampire spawn are the result when a vampire tries to bring
      across an individual whose psyche is too weak to survive the
      transformation as a full-fledged vampire. Vampire spawn are 
      cunning predators without any concept of morality, who seek
      to acquire power and feed upon the blood of the living.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
},
(41+500) {
if (e.DType == 90)
{
RedirectEff(e,$"dominate monster",52);
EActor->IdentifyMon();
return 1;
}
return 0;
},
210 "dominate its victim";
}


Template "zombie" : 0x0010 for 91
{
MType: 60; Glyph: brown 'Z'; CR +1;
Str +6, Dex -4, Con =0, Int = 0, Wis -6 (min 2), Cha -6 (min 1);
Def: -2; Arm: +5; Spd: 50%; HitDice: +3 (max 12); Mov: 30%;
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4453
Flags: 32, 33, !50, !49, !51,
!52, 53, 89, !12, !59,
-1, 55, -2, -3,
56;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37)))
return -1;
return 0;
};

}

Template "zombie;visage" : 0x0010 for 91
{
Glyph: brown 'Z'; CR: 0;
Cha -6 (min 1);
Resists: 0x00000002, 0x00000008;
Flags: 24, -4, 20, -2, -3;
On Event 42 {
EActor->RemoveEffStati($"zombie;visage");
};
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37)))
return -1;
return 0;
};
Desc: "The Visage of Death spell allows you to alter your appearance to
    that of a zombie of the same size class. Your body temperature will
    feel cold and your limbs will appear stiff, putrid and rotting; you
    lose six points of Charisma. This spell does not actually make you
    undead or grant the usual undead abilities or resistances. However, it
    does grant resistance to cold and electricity and you do not need to
    breathe while the spell is in effect. Finally and perhaps most
    importantly, the spell makes you neutral to undead by default.";
}

Template "skeleton" : 0x0010 for 91
{
MType: 112; Glyph: white 'Z'; CR +1;
Con =0, Int = 0, Wis -6 (min 2), Cha -6 (min 1);
Spd: 90%; HitDice: 80% (max 5); Mov: 80%;
Attk: 6 for 1d6 11;
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 4507
Resists: 0x00000800, 0x00000400;
Flags: 32, 33, !50, !49, !51,
!52, 53, 89, 33,
!50, 55, !12, !59, -1,
-2, -3, !18, 19,
56;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37)))
return -1;
return 0;
};
}

Template "graveborn;template" : 0x0010 for 91
{
MType: 55; Image: gray 'U';
CR: +0 (Min 2);
Con =0;
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4535
Flags: 32, 36, 19, 23, -2;
Desc: "Graveborn are weak undead, recently raised from
      the grave. Through some magical mischance or divine favor they retain
      their previous intelligence and drive and can advance in any standard
      character class. ";
}


Template "avenging spirit" : 0x0010 for 91
{
MType: 53; Glyph: white 'N'; CR: +3;
Con = 0; Wis +4; Cha +4;
Stati[39,98,8];
Stati[124,18,8];
Stati[124,32,8];
Stati[124,41,8];
Stati[124,44,8];
Feats: (((((49 + 1) + 32) + 50) + 38) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 40);
Flags: 32, !49, 50, 12, 9,
-2, -3, 88, 70;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(37))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (EActor->HasMFlag(49))
return -1;
if (EActor->GetAttr(5) < 6)
return -1;
return 0;
};
Spells: $"searing light", $"holy smite", $"cause fear";
Gear:
$"chainmail" of random 2 to 5,
$"long sword" +2 with [77, 1];
}

Template "ghost" : 0x0010 for 91
{
MType: 53; Glyph: bright blue 'N'; CR +6; Con =0, Cha +4;
Attk:
43 for 2d10 8 (DC 18),
43 for 1d4 55 (DC 18),
9 for 1d6 73,
47 for 2d4 28 (DC 18);
Stati[39,98,4];
Stati[124,18,8];
Stati[124,32,8];
Stati[124,41,8];
Stati[124,44,8];
Feats: (((((49 + 1) + 32) + 50) + 38) + 7);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4590
Flags: 32, 49, !50, 12, 9,
-2, -3, 88;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(37))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (EActor->GetAttr(5) < 6)
return -1;
return 0;
},
213 "wail" / "wails";
}

Template "death knight" : 0x0002 for 87
{
Flags: 32,
53, 51, 49, !52, !50,
61, -3, 107;
CR: +3 (Min 6); MType: 76;
Str +4, Wis +2, Cha +2, Con =0;
Attk: 53 for 28 (DC 14);
Stati[124,20,8];
Stati[124,3,8];
Stati[124,44,8];
Stati[124,40,8];
Stati[39,42,6];
Stati[39,98,4];
Stati[118,18,((16*5)-50)];
Spells: $"desecrate", $"detect good", $"protection from good"
$"symbol of pain";
HD: +0; Def: +3; Hit: +0; Mov: 100%; Spd: 100%;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 49);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4628
Gear: $"kite shield" of random 1 to 2,
$"heavy lance" of random 1 to 2,
$"full plate armor" of random 1 to 2;
On Event 155 {
if (EActor->GetAttr(25) == 4)
return 0;
else
return -1;
} ;
On Event 156 {
hObj h;
h = CreateMonster($"nightmare");
SetSilence();
h->PartyID = EActor->PartyID;
h->CalcValues();
Throw(110,EActor,h);
UnsetSilence();
h->Initialize();
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58))
h->AddQuality(70);
};
Desc: "Doomed to devastate the world they once cherished, death knights
    are cursed paladins.";
}



Template "elder" : 0x0001 for 76
{ CR: +2; Str +1, Int +2, Cha +2; Spd: +5; HD: 150% (min 4);
Power: +3; Caster Level: +2;
Hit: 140%; Def: +2; Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((49 + 1) + 32) + 14), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Stati[39,66,3];
Stati[39,98,3];
Stati[39,18,4];
Desc: "After decades of existence, the elder undead is far
      more cunning, potent, resilient and skillful than its more
      mundane counterparts. It can command its fellows, naturally
      heal injuries and fights with terrifying skill.";
On Event (20+1000), (37+1000) {
EActor->IdentifyTemp($"elder");
return 0;
};
}

Template "ancient" : 0x0001 for 76
{ CR: +3; Str +2, Int +4, Cha +4; Spd: +10; HD: 200% (min 6);
Power: +6; Caster Level: +4;
Hit: 180%; Def: +4; Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13),
(((49 + 1) + 32) + 14), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((49 + 1) + 32) + 50) + 38) + 9);
Stati[39,66,7];
Stati[39,98,6];
Stati[39,18,9];
Desc: "After centuries of existence, the ancient undead is far
      more cunning, potent, resilient and skillful than its more
      mundane counterparts. It can command its fellows, naturally
      heal injuries and fights with terrifying skill.";
On Event (20+1000), (37+1000) {
EActor->IdentifyTemp($"ancient");
return 0;
};
}

Template "spiked;template" : 0x0008 for 0
{ CR: +1; Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31); Flags: -2;
Desc: "The internal structure of this being has been warped and large,
    wickedly sharp spikes have burst forst from its surface. These spikes
    are typically caused by the Skeletal Spikes spell.";
Attk:
23 for 1d6 12,
23 for 1d6 12,
23 for 1d6 12;
On Event 155 {
if (enFreaky() % 30 != 12)
return -1;
if ((EActor->isMType(76) ||
EActor->isMType(36)) &&
!EActor->HasMFlag(5) &&
!EActor->HasMFlag(9) &&
!EActor->HasMFlag(10) &&
EActor->mID != $"crawling claw")
return 1;
else
return -1;
};
}

Template "spellstitched" : 0x0008 for 76
{ CR: +2; Int: +2; Feats: ((((49 + 1) + 32) + 50) + 35);
Desc: "Covered with ornate ritual tattoos, this undead beast has
      been imbued with the ability to use certain spell-like abilities
      by a dark necromantic ritual -- the very essence and formula of
      the magic having been grafted onto its being.";
On Event 156 {
int32 maxlev, i, j, k; rID spID;

maxlev = max(2,EActor->ChallengeRating()/2);
j = 1d4+2;
for (i=0;i!=j;i++)
{
for(k=0;k<=10;k++)
{
spID = theGame->GetEffectID(1,1,maxlev,50);
if (spID)
if (spID->Schools & (0x00000010|0x00000040|0x00000100|0x00000002))
if (spID->Purpose != 0x00000)
{
EActor->GainPermStati(42,NULL,3,0,0,spID,0);
k = 50;
}
}
}
return 0;
},
(36+1000) {
if (EActor->HasEffStati(42,e.eID))
EActor->IdentifyTemp($"spellstitched");
return 0;
},
155 {
if ( EActor->isMType(45) || EActor->isMType(60) )
return -1;
if ( EActor->HasMFlag(9) )
return -1;
return 0;
},
209
"It has 1d4+2 randomly chosen arcane spells from the schools of
         <9>Arcana<7>, <9>Evocation<7>, <9>Necromancy<7> and <9>Weavecraft<7>
         as innate spell-like abilities.";
}
#line "mon4.irh" 15
Monster "fiend" : 37
{
Image: red 152; Size: 4;
Desc: "Fiends are sadistic and monsterous creatures from worlds far
      beyond Theyra. Some, demons, are aligned with chaos, while others
      (devils) are lawful in temperment, but all are inheranty evil, and
      in fact are the living personification of all-consuming darkness.
      Destroying a fiend is a good act for a creature aspiring to a good
      alignment, though there are plenty of selfish reasons to kill them
      too -- such as avoiding being tortured, corrupted or eaten.\n
      __Fiends come in a wide variety of monsterous forms, and only a
      skilled demonologist can identify them all. Learning the specific
      species of a fiend is based on the Knowledge (Infernal) skill.";
Flags: 108, 24;
}
#line "mon4.irh" 38
Monster "manes" : 72
{
Image: cyan 151; Size: 3;
CR: 1; HD: 1; Hit: +1; Def: 10; Mov: 70%; Spd: 90%;
Str 10, Dex 10, Con 10, Int 3, Wis 3, Cha 3;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 12,
52 for 2d6 3,
102 for $"fiend",
99 for 10% 72 (CR 4);
Stati[39,91,6];
Stati[39,42,6];
Stati[39,105,1];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 22, 7;
Resists: 0x00000001, 0x00000002, 0x00000004;
Immune: 0x00000008, 0x00000010;
Flags: 52, 49, 53, 1,
88, 56, 33, 107;
On Event (41+2000) {
if (EActor->mID == $"manes")
if (e.DType == 3 && e.AType == 52)
{
e.Immune = true;
return 1;
}
return 0;
};
Desc: "The lowest of all demons, manes are the wretched souls
      of the damned transformed into a pathetic form. They appear
      as obese grey bags of distended flesh, open wounds filled
      with squirming maggots -- it would be easy to mistake them
      for undead (though they aren't). Manes are driven to madness
      with pain, agony and loss, and are effectively mindless as a
      result. More powerful demons herd them forward in truly vast
      numbers, using them as shock troops and cannon fodder in the
      endless wars that plague the Abyss.";
}

Monster "quasit" : 72, 15
{
Image: blue 'i'; Size: 2; Arm: 3;
CR: 2; HD: 3; Hit: +2; Def: 13; Mov: 150%; Spd: 100%;
Str 8, Dex 17, Con 10, Int 10, Wis 12, Cha 10;
Attk: 7 for 1d4 12,
6 for 1d3 11 and 60 (DC 13),
6 for 1d3 11 and 60 (DC 13),
101 for $"bat",
101 for $"giant rat";
Stati[39,66,2];
Stati[39,105,1];
Poison: $"quasit venom";
Stati[118,13,+1];
Feats: (((49 + 1) + 32) + 44), 18,
32, 36, 41, 43, 44;
Flags: 53, 52, 49, 79, 13,
88, 56;
Desc: "These creatures are among the weakest of demonkind, often
      sent to the prime material plane to serve as familiars to
      chaotic and evil mages. A quasit is a two-foot tall humanoid
      with sharp claws, spiky horns and bat wings.";
}

Poison "quasit venom" : 4
{
Level: 3;
cval: 2;
sval: 13;
lval: 2;
xval: 51; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Dexterity damage every 
      <11>2<7> turns, and requires <11>2<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Monster "rutterkin" : 72
{
Image: grey 151; Size: 5; Arm: 6;
CR: 4; HD: 5; Hit: +4; Def: 10; Mov: 70%; Spd: 90%;
Str 14, Dex 15, Con 14, Int 9, Wis 12, Cha 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
102 for $"fiend",
99 for 10% 72 (CR 4);
Stati[39,91,1];
Stati[39,42,6];
Stati[39,105,1];
Feats: ((49 + 1) + 7), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12), ((((49 + 1) + 32) + 50) + 12),
7, 20, 22, 32, 36,
44, 46;
Resists: 0x00000001, 0x00000002, 0x00000004;
Immune: 0x00000008, 0x00000010;
Flags: 52, 49, 53, 1,
88, 56, 107;
Spells: $"globe of shadow", $"cause fear", $"desecrate",
$"dire charm";
}

Monster "jovoc" : 72
{
Image: red 151; Size: 3; Arm: 3;
CR: 7; HD: 4; Hit: +4; Def: 12; Mov: 100%; Spd: 120%;
Str 12, Dex 15, Con 16, Int 7, Wis 10, Cha 7;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 13,
102 for $"fiend",
99 for 25% 72 (CR 5);
Stati[39,91,10];
Stati[39,42,6];
Stati[39,66,5];
Stati[39,105,1];
Stati[118,18,30];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 18, 32,
3, 44, 41;
Resists: 0x00000001, 0x00000002, 0x00000004;
Immune: 0x00000008, 0x00000010;
Flags: 52, 49, 53, 1,
88, 56, 57, 107;
Desc: "These tiny sadists are able to channel any injury done
      to them to similarly affect anyone nearby. They are humanoids
      with builds similar to a gnome, but their skin is blackened,
      tanned and emaciated, and their features have a feral look. Their
      hands alone are brilliant red, and their fingers curve into long, 
      sharp talons.";
On Event ((41+1000)+2000) {
int32 i; hObj c, m, hJovoc; int32 msg_flag;
msg_flag = 0;
m = GetHandle(EMap);
if (m == NULL || EVictim->isDead())
return 0;
if (e.DType > 13)
return 0;
hJovoc = GetHandle(EVictim);

if (e.aDmg) {
for(c = m->FirstThing();c; c = m->NextThing()) {
if (c->isCreature() && c != hJovoc)
if (dist(hJovoc->x,hJovoc->y,c->x,c->y) <= 4)
if (!c->isMType(72)) {
if (!msg_flag) {
msg_flag = 1;
VPrint(e,"Your injury retributively affects everyone close to you.",
"The jovoc's injuries retributively manifest on everyone nearby it!");
}
if (c->SavingThrow(0,15))
ThrowDmg(41,e.DType,e.aDmg/2,"a jovoc's aura of retribution",EVictim,c);
else
ThrowDmg(41,e.DType,e.aDmg,"a jovoc's aura of retribution",EVictim,c);
}
}
}
},
209
"Any damage done to it is reflected back on any non-demon within 40 feet; a
        Fortitude saving throw (DC 15) halves the reflected damage.";
}

Monster "uridezu" : 72, 25
{
Image: white 151; Size: 4; Mana: 37;
CR: 6; HD: 7; Hit: +7; Def: 10; Mov: 135%; Spd: 125%;
Attk:
6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12
and 1d4 25 (DC 22),
24 for 1d2 13
and 0d0 67 (DC 22),
102 for $"fiend",
99 for 40% 72 (CR 6);
Stati[39,91,10];
Stati[39,42,6];
Stati[39,71,6];
Stati[39,105,1];
Stati[41,((((((49 + 1) + 32) + 50) + 38) + 30) + 22)];
Stati[216,25];
Stati[118,18,25];
Immune: 0x00000010, 0x00000008;
Resists: 0x00000002, 0x00000001, 0x00000004;
Feats: ((49 + 1) + 25), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 7, 22,
32, 36, 18, 44;
Spells: $"globe of shadow", $"desecrate", $"detect monsters",
$"unholy blight", $"vampiric touch", $"rigor mortis",
$"doom", $"pyrotechnics";
Flags: 1, 53, 52, 49, 79,
88, 107;
On Event (41+500) {
if (e.DType == 67 && 1d2 == 1 &&
EVictim->InSlot(2) != NULL)
e.DType = 68;
return 0;
},
209
"Rodents instinctively recognize it as their master. It has a
         +4 racial bonus to disarm attempts.";
Desc: "One of the many weaker ranks of demons in the Abyss, Uridezu
      appear as hairless, emaciated anthropomorphic rats. They have
      leathery white skin, beady red-pink rodent eyes and a prehensile,
      15-foot long tail. Sometimes they grab the length of the latter in
      their hands and wield it as a whip, often using it to trip, disarm
      or ensnare opponents. Uridezu serve Abyssal society (such as it is)
      as pages, gofers and units of light skirmishers, but prefer to skulk 
      in the shadows, flee anything larger or more powerful than them and
      stalk, terroriz and murder anything weaker.";
}

Monster "ghour" : 72, 41
{ Image: brown 154; Size: 6;
CR: 13; HD: 12; Hit: +10; Def: 10; Arm: 14;
Str 28, Dex 8, Con 20, Int 15, Wis 13, Cha 11;
Move: 150%; Spd: 150%;
Attk:
23 for 1d8 12,
23 for 1d8 12,
16 for 2d6 13,
16 for 2d6 13,
42 for 1d6 50 (DC 21),
102 for $"fiend",
47 for 1d4 17 (DC 13);
Stati[118,18,((25*5)-50)];
Stati[39,71,3];
Stati[39,91,10];
Stati[39,94,20];
SPells: $"chaos hammer", $"deeper darkness",
$"desecrate", $"detect good",
$"magic circle vs. good",
$"teleport", $"unholy blight",
$"confusion", $"fear", $"righteous might";
Immune: 0x00000010, 0x00000008;
Resists: 0x00000002, 0x00000001, 0x00000004;
Feats: (((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
6, 7, 8, 11, 18,
22, 32, 36, 44, 48;
Flags: 1, 53, 52, 49, 79, 88,
15, 107;
On Event (49+1000) {
if (e.AType == 47) {
EActor->GainTempStati(72,NULL,10d6,6,47);
}
return 0;
},
200
"cloud of weakening gas";
Desc: "A ghour is a 20-foot-tall humanoid creature that strongly
  resembles an oversized ogre.";
}

Monster "palrethee" : 72
{
Image: bright red 151; Size: 4; Arm: 7;
CR: 9; HD: 8; Hit: +8; Def: 18; Mov: 100%; Spd: 125%;
Str 19, Dex 16, Con 16, Int 13, Wis 12, Cha 11;
Attk: 19 for 1d8 13,
19 for 1d8 13,
54 for 2d8 1,
102 for $"fiend",
99 for 35% 72 (CR 8);
Stati[39,42,6];
Stati[39,91,10];
Stati[117,51,-2];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Spells: $"see invisibility", $"detect monsters", $"fear";
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),
6, 11, 18, 20,
32, 3, 43, 44;
Flags: 1, 53, 52, 49, 79,
88, 41, 107;
Desc: "In the Abyss, failure carries unimaginable costs -- the
      palrethee serve to illustrate this fact in a visceral manner.
      It isn't known what terrible offence they wrought against the
      powers that be so many millenia ago -- perhaps the conspired
      to usurp the station of the balor -- but their punishment is
      unforgettable. The palrethee have been turned into eternal
      torches -- set aflame and kept alive by magic to burn for all
      eternity.\n
      __A palrethee appears as an emaciated, vaguely humanoid being
      with leathery purple skin and the bony remnants of wings long
      since flayed of flesh. Their faces are distended and covetious,
      with long ears and sharp teeth at the end of a mouth that could
      almost be called a muzzle.";
On Event 209
"It suffers a constant -2 circumstance penalty to all rolls as a
        result of the agony of burning alive. Any creature struck by its
        fiery aura attack will be set ablaze, suffering an additional 1d8 
        points of fire damage every turn until they succeed at a Reflex 
        save (DC 17) to put out the flames. Additional contact does not
        increase the damage when a creature is already aflame.",
(41+1000) {
if (e.AType == 54 && e.DType == 1 && e.aDmg != 0)
RedirectEff(e,$"Demonic Burn",52);
return 0;
},
150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(58))
if (h->QualityOK(7))
h->AddQuality(7);
return 0;
};
Gear:
50% $"long sword" +1 else
50% $"halberd" +1 else
50% $"glaive" +1 else
$"greataxe" +1;
}

Effect "Demonic Burn" : 3
{ xval: 79; yval: 32; Flags: 85, 33;
On Event (32+10000) {
int32 saveDC;
if (EActor->SavingThrow(1,17,0x00000010))
{
EActor->IDPrint("You manage to put out the flames.",
"The <hObj> is no longer burning.", EActor);
EActor->RemoveEffStati($"Demonic Burn");
return 1;
}
EActor->IDPrint("You burn!", "The <hObj> burns!", EActor);
ThrowDmg(41,1,1d8,"being burned alive",EActor,
EActor->GetEffStatiObj(79,$"Demonic Burn"));
return 0;
},
28 {
if (EVictim->HasEffStati(79,$"Demonic Burn"))
return 1;
if (EVictim->SavingThrow(1,17,0x00000010))
{
EVictim->IPrint("You avoid being set on fire.");
e.Resist = true;
return 1;
}
EVictim->IDPrint("You catch on fire!",
"The <hObj> catches on fire!", EVictim);
return 0;
};
}
#line "mon4.irh" 380
Monster "babau" : 72
{
Image: skyblue 151; Size: 4; Arm: 10;
CR: 6; HD: 7; Hit: +12; Def: 18; Mov: 100%; Spd: 135%;
Str 21, Dex 12, Con 20, Int 14, Wis 13, Cha 16;
Attk: 7 for 1d6 12,
6 for 1d6 11,
6 for 1d6 11,
60 for 3d8 3 (DC 24),
102 for $"fiend",
99 for 35% 72 (CR 6);
Stati[124,18,8];
Stati[124,32,8];
Stati[124,36,8];
Stati[124,41,8];
Stati[39,80,3];
Stati[39,42,6];
Stati[39,91,10];
Immune: 0x00000008, 0x00000010;
Stati[118,13,+1];
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((49 + 1) + 32) + 7), 18, 32,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 44, 36;
Flags: 1, 53, 52, 49, 79, 88,
43, 107;
Spells: $"globe of shadow", $"dispel magic", $"dimension door",
$"See Invisibility";
Desc: "Babaus are sneaky and sly. They attack the most powerful foe
    first, hoping to eliminate the true threats quickly and then toy with
    the rest. When ambushing their opponents, they make excellent use of
    the combination of multiple attacks and sneak attacks. A slimy red jelly
    coats the babau's skin. ";
}

Monster "nabassu" : 72
{
Image: brown 151; Size: 4; Arm: 9; Mana: 90;
CR: 9; HD: 7; Hit: +7; Def: 15; Mov: 125%; Spd: 125%;
Str 19, Dex 13, Con 14, Int 14, Wis 14, Cha 13;
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12,
102 for $"fiend",
99 for 50% 72 (CR 8);
Stati[118,18,50];
#line "mon4.irh" 428
Stati[39,22,10];
Stati[39,42,6];
Stati[39,61,6];
Stati[39,91,10];
Stati[39,83,6];
Stati[39,80,3];
Stati[124,18,+4];
Stati[124,36,+4];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: 7, 18, 36, 32, 44,
41, 20, 25,
(((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23);
Spells: $"globe of shadow", $"deeper darkness", $"Paralyzing Aura",
$"Summon Ghasts", $"Death Stealing";

Flags: 1, 53, 52, 49, 79, 12,
88, 39, 107;
Desc: "Of all the races of demons, the nabassu are the most likely
      to be found on the Prime Material plane -- they journey to human
      worlds in order to feed upon the flesh of men (or demihumans), 
      and thereby come of age. These sojourns are a source of great
      sport and racuous celebration for nabassu, and they delight in
      their power to take strength from the flesh of others before
      their more serious responsibilities as adult demons come into 
      play. Nabassu are, quite literally, death-dealers -- they possess
      the magical ability to steal the deaths of living creatures and
      pass them on to others. Many nabassu cultivate this inherant
      magic by becoming powerful necromancers or respected assasion,
      and they are known in the Abyss as the undisputed experts of all
      things thanatoic.\n
      __Nabassu are about seven feet tall, with leathery grey skin. They
      are tall and slender with avian features, and can be mistaken for
      gargoyles at a distance. They have elongated, almost batlike heads,
      large tusks emerging from their lower jaw, long slender claws and
      grey feathered wings.";
On Event 150 {
#line "mon4.irh" 467
if (1d2 == 1)
EActor->IncEffStatiMag(189,
$"Death Stealing", 7, NULL, 1d6);
if (EActor->ChallengeRating() >= 11)
{
EActor->GainPermStati(42,NULL,
3,0,0, $"energy drain");
EActor->GainPermStati(42,NULL,
3,0,0, $"teleport");
EActor->GainPermStati(42,NULL,
3,0,0, $"vampiric touch");
EActor->GainPermStati(42,NULL,
3,0,0, $"spell turning");
EActor->GainPermStati(42,NULL,
3,0,0, $"retributive mirror");
EActor->GainPermStati(126,NULL,
3,0,400, $"nabassu");
}
return 0;
},
42 {
EActor->IncEffStatiMag(189,
$"Death Stealing", 7, NULL, 1);
TPrint(e,"You steal the <EVictim>'s death!",
"The <EActor> steals your death!",
"The <EActor> steals the <EVictim>'s death!");
return 0;
},
209
"If it rises to or above Challenge Rating 11 (as the result of
        a template, extra hit dice or any other reason), it gains the
        additional innate spell-like abilities <9>energy drain<7>,
        <9>teleport<7>, <9>vampiric touch<7>, <9>retributive mirror<7>
        and <9>spell turning<7>, as well as the ability to regenerate 
        4 hp per round.";
Constants:
* 108 $"ghast";
Gear:
25% $"wand" of random 5 to 9;
}

Effect "Summon Ghasts" : 9
{ 0x00000040; Cost: 7; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"shadow"; pval: 1d4+4;
Desc: "Summons a group of ghasts worth CR 1d4+4.";
Flags: 79, 82;
On Event 206
"The <EActor> calls upon unholy aid!"; }

Effect "Paralyzing Aura" : 3
{ 0x00000080; Cost: 12; aval: 11; lval: 2; cval: 1;
xval: 9; yval: 0; sval: 2; Level: 6;
Flags: 82, 35;
Desc: "A nabassu can eminate an aura of paralyzation within
      a 10-foot radius of its being, requiring all creatures other
      than it and its allies to succeed in a Fortitude save or be
      paralyzed."; }

Effect "Death Stealing" : 46
{ 0x00000080; Cost: 0; qval: 0x0004; tval: 75;
Flags: 63, 82; sval: 2;
Desc: "When a nabassu kills a victim, they are able to steal that
      victim's death. This causes the victim to continue existing as
      a ghast -- an undead creature bound to serve the nabassu -- in
      spite of their passing on, and their soul remains trapped within
      their now-undead body.\n
      __Additionally, the nabassu can bestow this stolen death on any
      other living creature instantly, with nothing more than a glance.
      This will strike dead any creature who fails a Will saving throw.
      This kind of transferral is a death effect, and is blocked by
      powers that block such effects.";
On Event 155 {

if (EActor->GetEffStatiMag(189,$"Death Stealing") == 0)
return -1;
#line "mon4.irh" 544
return 0;
},
28 {
EActor->IncEffStatiMag(189,
$"Death Stealing", 7, NULL, -1);

ThrowDmg(42,6,0,"a stolen death",EActor,EVictim);
if (EVictim->isDead())
VPrint(e,NULL,"The <EVictim> falls to the ground, dead.");
return 1;
},
206
"You bestow a stolen death on the <EVictim>!" /
"The <EActor> bestows a stolen death on you!" /
"The <EActor> bestows a stolen death on the <EVictim>!";
}

Monster "vrock" : 72, 4
{
Image: purple 151; Size: 5; Arm: 10;
CR: 11; HD: 10; Hit: +9; Def: 21; Mov: 200%; Spd: 150%;
Str 23, Dex 15, Con 25, Int 14, Wis 16, Cha 16;
Attk: 7 for 1d8 12,
6 for 2d6 11,
6 for 2d6 11,
27 for 1d6 11,
27 for 1d6 11,
22 for 60 (DC 24),
102 for $"fiend",
99 for 35% 72 (CR 9);
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,50];
Stati[39,91,10];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((49 + 1) + 32) + 7), (((49 + 1) + 32) + 14),
18, 32,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 44, 36;
Flags: 1, 53, 52, 49, 79, 12,
88, 39, 107;
Spells: $"mirror image", $"dimension door", $"vrock screech", $"heroism",
$"telekinesis", $"dance of ruin";
Desc: "A vrock is about 8 feet tall and weighs about 500 pounds.
      Vrocks are vicious fighters who like to fly down into the enemy and
      cause as much damage as possible. They prance about in battle, taking
      briefly to the air and bringing their clawed feet into play. Despite
      their advantage in mobility, the vrocks' deep love of battle frequently
      leads them into melee combats against heavy odds.";
Poison: $"vrock spores";
On Event 19 {
if (e.AType == 22)
{
if (EActor->HasStati(72,8000 + 22))
return 2;
EActor->GainTempStati(72,NULL,3,7,
8000 + 22);
}
return 0;
};
}

0 Effect "Vrock Screech" : 3
{ xval: 5; aval: 11; lval: 3; sval: 0;
Flags: 82, 89, 88, 58,
55, 34, 23;
Purpose: 0x00001; Cost: 5;
Desc: "A vrock's screech is a horrible, bloodcurdling thing
      to hear, and it stuns all within 30 feet of the demon who
      fail a Fortitude save.";
On Event 206
"You screech!" /
"The <EActor> screeches!"; }

0 Effect "Dance of Ruin" : 1
{ xval: 8; pval: 20d6; lval: 12; aval: 11;
xval: 1; Flags: 82, 11, 55;
Purpose: 0x00001;
Desc: "When three or more vrocks fight together, once every
      thirty turns they can enact the dance of ruin. All three
      creatures dance and gyrate wildly, and then unholy energy
      rains down from above, flaying all creatures in the area
      for 20d6 damage as the vulture-demons' blasphemous prayers
      are answered. A Reflex save for half damage is allowed,
      but lif more then three vrocks participate in the
      dance, the save DC increases by +4 for every participant
      after the first three.";

int32 vrock_count; hObj vrock_caster; int32 the_turn;
On Event 155 {
hObj c;

if (EActor->HasEffStati(72,$"Dance of Ruin"))
return -1;

if (vrock_caster == GetHandle(EActor))
if (theGame->GetTurn() == the_turn)
return (vrock_count >= 3) ? 0 :
-1;

vrock_count = 1;
vrock_caster = GetHandle(EActor);
the_turn = theGame->GetTurn();

for(c = EMap->FirstThing(); c ; c = EMap->NextThing())
if (c->isCreature() && c->mID == $"vrock")
if (c != GetHandle(EActor))
if (dist(c->x,c->y,EActor->x,EActor->y) <= 6)
if (c->isFriendlyTo(EActor))
vrock_count++;
if (vrock_count < 3)
return -1;
return 0;
},
(28+500) {

if (EVictim->isMType(72))
return 2;
return 0;
},
52 {
hObj c;
if (vrock_caster != GetHandle(EActor))
ReThrow(155,e);
for(c = EMap->FirstThing(); c ; c = EMap->NextThing())
if (c->isCreature() && c->mID == $"vrock")
if (dist(c->x,c->y,EActor->x,EActor->y) <= 6)
if (c->isFriendlyTo(EActor))
{
c->GainTempStati(72,NULL,30,7,
0,0,$"Dance of Ruin",0);
if (c != GetHandle(EActor))
c->Timeout += 10;
}
return 0;
},
170 {
e.saveDC += (vrock_count - 3) * 4;
return 0;
},
206
"You and the other vrocks dance. Unholy energies rain from above!" /
"The vrocks dance! Unholy energies rain from above!";
}

Poison "Vrock Spores" : 1
{
Level: 7;
cval: 1;
sval: 24;
lval: 3;
xval: 0; pval: 1d6;
On Event 28
"The vrock spores burrow beneath your skin!" /
"The vrock spores burrow beneath the <EActor>'s skin!";
Desc: "Vrocks can release clouds of spores from their bodies
      that get underneath any nearby victims' skin, burrowing into
      their bodies and growing into thin, piercing grey vines.";
}


Monster "cedar wretch": 72
{
Image: bright black 'P'; Size: 5;
CR: 8; HD: 6; Hit: +5; Def: 10; Mov: 100%; Spd: 130%;
Str 19, Dex 14, Con 17, Int 6, Wis 8, Cha 6; Arm: 8;
Attk: 19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
102 for $"dark tree";
Stati[124,18,10];
Stati[39,79,6];
Stati[39,42,6];
Desc: "Cedar wretches are hateful spirits drawn from the Abyss to
      inhabit the husks of trees.";
Resists: 0x00000004, 0x00000002, 0x00000008, 0x00000200;
Immune: 0x00020000, 0x00080000, 0x00010000, 0x04000000, 0x00000010, 0x00000020, 0x00400000,
0x10000000, 0x00100000;
Feats: (((49 + 1) + 32) + 14), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
13, 18, 20,
36, 48;
Flags: 14, 52, 49, 4, 3, 53,
66, 19, 20;
}

Monster "succubus" : 72
{
Image: bright purple 151; Size: 4;
CR: 9; HD: 6; Hit: +6; Def: 20; Mov: 100%; Spd: 115%;
Str 13, Dex 13, Con 13, Int 16, Wis 14, Cha 20;
Attk: 6 for 1d3 11,
6 for 1d3 11,
102 for $"human",

99 for 10% 72 (CR 15);
Stati[39,42,6];
Stati[39,91,10];
Stati[39,61,3];
Stati[118,18,25];
Spells: $"charm person", $"friends", $"deeper darkness", $"desecrate",
$"doom", $"suggestion", $"teleport", $"unholy blight", $"hypnotism",
$"blur";
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: ((49 + 1) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((49 + 1) + 32) + 50) + 13),
6, 11, 3, 32, 44,
18, 36, 13, 12;
Flags: 1, 53, 52, 49, 79, 12,
88, 107, 65;
Desc: "Appearing to mortals as breathtakingly beautiful, demure women 
      or men of great magnetism and sensuality, succubi and incubi are the
      social agents and sexual predators of the tanar'ri. They procure
      favors from powerful mortals, move unseen among the highest levels
      of society and leads the world into darkness, chaos and corruption
      through its carnal desires.\n
      __The true form of a succubus is a woman with small horns and bat
      wings, while an incubus has tiny horns and cloven hooves. Both breeds
      prefer congress to combat, and will avoid melee unless they have an
      overwhelming advantage. Despite their non-combative nature many
      demons frequently owe these creatures favors, and they are feared
      in the Abyss for their ability to summon aid well outside the range
      of their personal power.";
On Event (17+500), (18+500) {
#line "mon4.irh" 773
if (EVictim->HasStati(62,-1,EActor) ||
EVictim->HasStati(11,-1,EActor))
{
TPrint(e,"You kiss the <EVictim>.",
"The <EActor> kisses you.",
"The <EActor> kisses the <EVictim>.");
ThrowDmg(41,32,10d10, (EActor->StateFlags
& 0x0004) ? "a succubus' embrace" : "an incubus' embrace",
EActor, EVictim);
EActor->Timeout += 40;
return 1;
}
return 0;
},
163 {
e.nBase = (EActor->StateFlags & 0x0004) ? "succubus" : "incubus";
return 0;
},
209
"It can kiss a held victim to steal [10d10 x 50] points of experience.";
Gear:
30% $"whip" else
15% $"whip" of random 3 to 6 else
20% $"spiked chain" of random 3 to 8,
35% $"leather armor" of random 3 to 6,
1d3 $"potion" of $"healing";
}

Monster "buleazu" : 72
{
Image: yellow 151; Size: 5; Arm: 12;
CR: 11; HD: 9; Hit: +9; Def: 12; Mov: 150%; Spd: 150%;
Str 26, Dex 8, Con 24, Int 8, Wis 13, Cha 13;
#line "mon4.irh" 810
Attk: 23 for 2d8 11,
6 for 1d6 11,
6 for 1d6 11,
24 for 1d3 13,
102 for $"fiend",
99 for 25% 72 (CR 6);
Stati[39,42,6];
Stati[39,91,10];
#line "mon4.irh" 820
Stati[39,8,9];
Stati[41,((((((49 + 1) + 32) + 50) + 38) + 30) + 21)];
Stati[41,((((((49 + 1) + 32) + 50) + 38) + 30) + 28)];
Stati[118,18,20];
Spells: $"cause fear", $"bane", $"deeper darkness",
$"fog cloud", $"teleport", $"see invisibility",
$"shout";
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
20, 18, 32, 36,
41, 44;
Flags: 1, 53, 52, 49, 88;
int32 gore_hit;
On Event (17+500)
{ gore_hit = 0; return 0; },
(20+1000) {
if (e.AType == 23)
gore_hit = 1;
return 0;
},
(17+1000) {
int32 time, x, y;
if (gore_hit == 1 && !EVictim->isDead()) {
time = EActor->Timeout;
x = EVictim->x;
y = EVictim->y;
ThrowVal(49,61,EActor,EVictim);
EActor->Timeout = time;
if (x != EVictim->x || y != EVictim->y)
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,15,0x00100000))
EVictim->GainTempStati(5,NULL,3d6,6);
}
return 0;
},
209
"If it hits with its gore attack, it may make a free Bull Rush
        attempt at no time cost at the end of its natural attack
        sequence. If this Bull Rush forces the victim back, the
        victim must also make a Fortitude save (DC 15) or be stunned
        for 3d6 rounds.";
Desc: "Far from the most powerful of the Abyssal hordes, these
      demons may none the less be the toughest and most violent.
      They have a simple purpose in their existance -- they are 
      shock troops -- and they relish everything that job entails.
      Buleazu are strong and fearless, being either to stubborn or
      too stupid to give up.\n
      __Buleazu resemble minotaurs in general form, but they lack
      any hair on their bodies, having a leathery grey hide instead.
      Their massively muscled hands and heavy arms allow them to
      wield weapons larger than they would normally be able to as a
      function of their race. Their hides are most frequently covered
      with weeping sores and discolored patches, and their bloodshot
      eyes burn with an unnatural, undying hatred of all things.";
}
#line "mon4.irh" 904
Monster "wastrilith" : 72, 80
{
Image: bright blue 154; Size: 5;
CR: 10; HD: 12; Hit: +9; Def: 15; Mov: 150%; Spd: 150%;
Str 22, Dex 16, Con 15, Int 12, Wis 10, Cha 15;
Attk: 7 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11,
102 for $"fiend",
42 for 3d10 3;
Stati[39,42,6];
Stati[39,91,10];
Stati[39,113,+2];
Stati[39,66,+7];
Stati[124,20,+8];
Stati[124,45,+8];
Stati[118,18,40];
Immune: 0x00000008, 0x00000010, 0x00000002;
Resists: 0x00000004;
Spells: $"blasphemy", $"deeper darkness", $"desecrate", $"cause fear",
$"dispel magic", $"read magic", $"part water", $"telekinesis",
$"teleport", $"unholy blight", $"wall of ice",
$"waterspout", $"whirlpool";
Feats: ((((49 + 1) + 32) + 50) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), 6, 13, 20,
29, 32, 45, 44;
Flags: 53, 52, 49, 88, 30, 56,
107;
Desc: "Wastriliths are the antediluvian water demons of the Abyss --
      great, coiling sea creatures that live only to cause terror and
      bloodshed. Their habit of dwelling deep beneath the oceans lead
      many scholars to suggest that there might be more wastriliths on
      the prime material than most other kinds of demons, because their
      habitat allows them to evade notice, preying on sailors and
      adventurers in a more isolated environment.\n
      __Wastriliths have diamond-shaped upper bodies with insectile heads
      and two tentacles in place of arms; their lower body tapers off into
      a long, prehensile tail like an eel's.";
}

Monster "chasme" : 72
{
Image: black 154; Size: 5;
CR: 10; HD: 9; Hit: +9; Def: 20; Mov: 100%; Spd: 125%;
Str 19, Dex 16, Con 18, Int 14, Wis 14, Cha 14;
Attk: 6 for 1d8 11
and 2d4 59,
6 for 1d8 11
and 2d4 59,
15 for 1d10 12
and 3d6 59,
47 for 3d8 16,
53 for 2d4 28 (DC 16),
102 for $"fiend",
99 for 40% 72 (CR 10);
Stati[39,42,6];
Stati[39,91,10];
Stati[124,20,+6];
Stati[118,18,50];
Spells: $"contagion", $"deeper darkness", $"dispel magic",
$"insect plague", $"ray of enfeeblement",
$"protection from good", $"see invisibility",
$"telekinesis", $"teleport", $"stinking cloud",
$"unholy aura";
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: ((((49 + 1) + 32) + 50) + 23), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
20, 18, 32, 36,
41, 44;
Flags: 1, 53, 52, 49, 79, 12,
88, 107;
On Event 213 "drone" / "drones";
Desc: "Loathsome and deviant, the chasme are scavengers and torturers,
      demons who specialize in preying on the weak and exploiting emotional
      and physical vulnerabilities. Chasmes serve as a kinds of internal
      affairs among demons, reporting attempts at betrayal to demon lords 
      even as they delight in betraying their own kind. Few beings in all
      creation are as skilled at inflicting pain as the chasme are.\n
      __Chasme resemble giant, Gigeresque anthropomorphic flies. The droning
      sound produced by their wings is eerie and unnatural, and can lull
      other creatures to sleep even in the heated conditions of battle. 
      Chasme exploit this ability for all it is worth -- there's nothing
      they like less than a fair fight.";
}

Monster "hezrou" : 72
{
Image: green 154; Size: 5; Arm: 10;
CR: 14; HD: 9; Hit: +9; Def: 16; Mov: 100%; Spd: 125%;
Str 21, Dex 10, Con 17, Int 14, Wis 14, Cha 14;
Attk: 7 for 4d4 13,
6 for 1d6 11,
6 for 1d6 11,
53 for 3d6 90,
102 for $"fiend",
99 for 35% 72 (CR 14);
Stati[39,42,6];
Stati[39,91,10];
Spells: $"animate objects", $"blasphemy", $"blink", $"chaos hammer",
$"deeper darkness", $"desecrate", $"detect good",
$"detect objects", $"produce flame", $"summon swarm",
$"teleport", $"unholy blight", $"gaseous form";
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,55];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((49 + 1) + 25), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
20, 30, 32, 41, 3,
43, 44;
Flags: 53, 52, 49, 79, 88, 107;
Desc: "The demonic marshalls and troop leaders of the Abyss, hezrou
      are repellent, squat demons with frog-like bodies, flat heads and
      greedy, leering eyes. Rows of spines run along their back, and
      their legs are short, thick and muscular. Triple rows of heavy,
      blunt teeth line their mouths -- a hezrou's bite pulps armor and
      flesh alike. Their most notable feature, however, is their stench
      -- a hezrou's body produces a musk-like phereomone that coats the
      horror when it fights, the scent of which can render mortals all
      but helpless in a fit of gagging and vomiting.\n
      __Hezrous are stolid, lazy demons that indulge much in complicitly
      -- they have a great love of combat, and of devouring their foes
      alive, but they do not normally seek power the way the balors and
      palrethee do, being content in their station so long as they have
      other people around them to bully, molest and eat.";
On Event (41+500) {
if (e.DType == 90)
{
if (EVictim->isMType(72) ||
(EVictim->ResistLevel(60) == -1))
{
e.Immune = true;
return 1;
}
if (EVictim->HasStati(20,0,EActor))
{
EVictim->SetStatiDur(20,0,EActor, max(e.vDmg,
EVictim->GetStatiDur(20,0,EActor)));
return 1;
}
if (EVictim->SavingThrow(0,17,0x00000080|0x00000002))
{
TPrint(e,"The <EVictim> resists the effect of your stench!",
"You resist the effect of the <EActor>'s stench!",
"The <EActor> resists the effect of the <EVictim>'s stench!");
return 1;
}
else
{
TPrint(e,"The <EVictim> is sickened by your stench!",
"You are sickened by the <EActor>'s stench!",
"The <EActor> is sickened by the <EVictim>'s stench!");
EVictim->GainTempStati(20,EActor,e.vDmg,6);
return 1;
}
}
return 0;
},
(41+2000)
{
if ((GetHandle(EItem) != NULL &&
GetHandle(EItem)->isType(58)) ||
(GetHandle(EItem2) != NULL &&
GetHandle(EItem2)->isType(58)))
if (e.DType == 11 || e.DType == 12 ||
e.DType == 13)
e.vDmg /= 2;
return 0;
},
209
"It suffers only half damage from all weapon-based attacks.",
210
"cause nausea (DC 17)";
}

Monster "glabrezu" : 72
{
Image: blue 154; Size: 6; Arm: 7;
CR 15; HD: 10; Hit: +10; Def: 16; Mov: 150%; Spd: 125%;
Str 25, Dex 10, Con 19, Int 16, Wis 16, Cha 16;
Attk: 23 for 2d6 12,
23 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12,
102 for $"fiend",
99 for 50% 72 (CR 13);
Stati[39,42,6];
Stati[39,91,10];
Stati[148];
Spells: $"burning hands", $"chaos hammer", $"charm person",
$"confusion", $"death knell", $"deeper darkness",
$"desecrate", $"detect good", $"dispel magic",
$"enlarge", $"mirror image", $"power word: stun",
$"reverse gravity",$"shatter", $"teleport",
$"thornwrack", $"unholy blight";
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,60];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((49 + 1) + 32) + 50) + 38) + 9),
6, 8, 11, 18, 30,
32, 36, 41, 3, 43,
44;
Flags: 1, 53, 52, 49, 79,
88, 107;
}

Monster "nalfeshnee" : 72
{
Image: brown 154; Size: 6; Depth: 9;
CR: 16; HD: 11; Hit: +11; Def: 17; Mov: 100%; Spd: 150%;
Str 23, Dex 13, Con 19, Int 22, Wis 22, Cha 16; Arm: 7;
Attk: 7 for 2d4 12,
6 for 1d4 12,
6 for 1d4 12,
102 for $"fiend",
99 for 50% 72 (CR 16);
Stati[39,42,6];
Stati[39,91,10];
Stati[101];
Spells: $"Nightmare Smite", $"change self", $"call lightning",
$"chaos hammer", $"chill touch", $"death knell",
$"deeper darkness", $"desecrate", $"dispel magic",
$"feeblemind", $"invisibility", $"mirror image",
$"raise dead", $"slow", $"teleport", $"unholy aura",
$"unholy blight", $"web", $"bladethirst", $"eldritch bolt",
$"symbol of pain";
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,50];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
6, 11, 18, 30, 32,
36, 41, 3, 43,
44;
Flags: 1, 53, 52, 49, 79, 12,
88, 107;
Desc: "Nalfehsnee are huge demons with features resembling both apes
      and boars. They stand upright and are roughly humanoid, though their
      hands end in pincer-like claws and their greasy fur is studded with
      spikes. Large bone plates on their shoulders resemble shoulder-pads,
      and they have shiny black tusks and horns.\n
      __Nalfeshnee judge the souls of the damned, acting as merchants and
      slave-lords of the lower realms, forming the infrastructure that
      herds, tortures and farms the hundreds of millions of damned souls
      chaotic and evil enough to end up in the Abyss.";
}

Effect "Nightmare Smite" : 3
{
Desc: "Nalfeshnee have the ability to draw forth the most secret
      fears and nightmares of others, forcing anyone nearby to experience
      these horrors. When the demon activates this ability, brilliant beams
      of rainbow-colored light play around its body for the remainder of 
      the current turn and the duration of the next, gathering the power
      for this effect. Then, this nimbus of unholy light explodes outwards,
      and any creatures in the area take 10d6 points of unholy damage, 3d6
      points of Charisma damage and are nauseated. A Will saving throw (DC
      18) halves the damage and negates the nausea. Other demons are immune
      to this effect.";
xval: 189; Purpose: 0x00001;
On Event 74 {
DPrint(e,"Your ribbons of light explode outward!",
"The <EActor>'s ribbons of light explode outward!");
RedirectEff(e,$"Nightmare Smite;actual blast", 52, e);
return 0;
},
170 {
e.vDuration = 2;
return 0;
},
155 {
if (EActor->HasEffStati(189,$"Nightmare Smite"))
return -1;
return 0;
},
206
"You are surronded by a nimbus of unholy, coruscating light!" /
"The <EActor> is surronded by a nimbus of unholy, coruscating light!";
}

Effect "Nightmare smite;actual blast" : 1
{ aval: 11; cval: 21; lval: 8;
xval: 72; pval: 10d6; sval: 2 partial; }
and 1
{ aval: 11; cval: 21; lval: 8;
xval: 55; pval: 3d6; sval: 2 partial; }
and 3
{ aval: 11; cval: 21; lval: 8;
xval: 20; sval: 2;
On Event 200 "ribbons of light"; }
#line "mon4.irh" 1205
Monster "lemure" : 73
{
Image: grey 148; Size: 4; Depth: 4;
CR: -2; HD: 2; Hit: +2; Def: 8; Mov: 75%; Spd: 75%;
Str 10, Dex 10, Con 10, Int 0, Wis 11, Cha 5;
Attk: 6 for 1d3 11,
6 for 1d3 11,
102 for $"fiend";
Stati[39,105,1];
Stati[39,42,12];
Immune: 0x00000001, 0x00000010, 0x00100000;
Resists: 0x00000002, 0x00000004;
Flags: 51, 49, 53, 88, 33,
3, 107;
Desc: "The lowest of all devils, lemures of the souls of the
      petty damned, tortured in the Hells for all eternity. Mindless
      and savage, they know only to obey other demons. Lemures appear
      as distended grey blobs of flesh with an obese form that is
      only vaguely humanoid.";
}

Monster "nupperibo" : 73
{
Image: grey 148; Size: 5; Depth 4;
CR: 1; HD: 3; Hit: +1; Def: 8; Mov: 75%; Spd: 75%;
Str 16, Dex 8, Con 14, Int 0, Wis 13, Cha 5;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 0d0 93 (DC 10),
37 for 2d4 3,
102 for $"fiend";
Stati[39,66,2];
Stati[39,105,1];
Stati[39,42,12];
Immune: 0x00000001, 0x00000010, 0x00100000, 0x00400000;
Resists: 0x00000002, 0x00000004;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 51, 49, 53, 88, 33,
3, 10, 7, 107;
Spells: $"inflict light wounds", $"burning hands";
Desc: "Slightly more willful damned souls become nupperibos
      instead of lemures. Obese and amorphious, much like the
      lemures, nupperibo possess a greater degree of physical
      power then the lemures -- though they are still mindless --
      and are sometimes used as hard laborers or press gangs in
      the hells. Their bodies are sticky to the touch, and they
      are eager to devour and absorb any other beings in order
      to increase their own station.";
}

Monster "true imp" : 73, 15
{
Image: grey 'i'; Size: 2; Arm: 3;
CR: 2; HD: 3; Hit: +2; Def: 13; Mov: 150%; Spd: 100%;
Str 8, Dex 17, Con 7, Int 14, Wis 12, Cha 10;
Attk: 10 for 1d6 12 and 60 (DC 13),
101 for $"bat",
101 for $"giant rat";
Stati[39,66,2];
Stati[39,105,1];
Poison: $"imp venom";
Stati[118,13,+1];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18,
32, 36, 41, 43, 44;
Flags: 53, 51, 49, 79, 13,
88;
Spells: $"detect good", $"hypnotism", $"invisibility";
Desc: "True imps are creatures of the Nine Hells, of which quasits
      and mephits are deviant offshoots. They are clever, malicious
      and numerous creatures, given the scutwork of maintaining the
      vast infernal bureaucracy.";
}

Poison "imp venom" : 4
{
Level: 3;
cval: 2;
sval: 13;
lval: 2;
xval: 51; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Dexterity damage every 
      <11>2<7> turns, and requires <11>2<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Monster "advespa" : 73
{
Image: yellow 148; Size: 5;
CR: 7; HD: 4; Hit: +4; Def: 16; Mov: 150%; Spd: 125%;
Str 15, Dex 13, Con 17, Int 8, Wis 11, Cha 10; Arm: 4;
Attk: 6 for 1d6 11,
6 for 1d6 11,
10 for 1d4 12
and 60 (DC 15),
102 for $"fiend",
99 for 30% 73 (CR 4);
Stati[39,105,1];
Stati[39,66,2];
Stati[39,42,12];
Stati[118,18,((15*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 18, 32, 36, 41, 44,
((((49 + 1) + 32) + 50) + 23), (((((49 + 1) + 32) + 50) + 38) + 27),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"command", $"produce flame", $"blur", $"dire charm";
Flags: 51, 49, 53, 88, 12,
14, 65, 107;
Desc: "A horrible hybrid of woman and wasp, the advespa, or
           wasp demons, serve as aerial scouts and snipers in the
           realm of Baator. As venomous in temperment as they are
           in personality, advespa are concerned primarily with
           their own social status and prestige -- and with
           hunting, which they dearly enjoy.";
Poison: $"giant wasp venom";
}

Monster "spinagon" : 73
{
Image: grey 148; Size: 3;
CR: 4; HD: 3; Hit: +4; Def: 17; Mov: 175%; Spd: 125%;
Str 10, Dex 13, Con 11, Int 8, Wis 13, Cha 13; Arm: 5;
Attk: 6 for 1d4 11 and 1d4 1,
6 for 1d4 11 and 1d4 1,
102 for $"fiend",
99 for 35% 73 (CR 6);
Stati[39,42,12];
Stati[118,18,((18*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 11, 18, 32, 44,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9);
Spells: $"blur", $"produce flame", $"phase door";
Flags: 51, 49, 53, 88, 12,
90, 107;
Desc: "Spinagons resemble halfling-sized gargoyles, but their
      bodies are covered with hundreds of thin spikes -- hence their
      nomiker, spined devils. They travel in packs, harrying the 
      weaker beings in the Hells and weaning out the weak in order
      to make the whole stronger.";
Gear: 20d6 $"spinagon spike";
On Event 32 {
hObj h, hSpike; int32 SpikeCount;
hSpike = NULL; SpikeCount = NULL;
#line "mon4.irh" 1349
if (1d10 != 10)
return 0;

for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->iID == $"spinagon spike")
{ hSpike = h; SpikeCount += h->GetQuantity(); }

if (SpikeCount >= 7)
return 0;
if (hSpike)
hSpike->SetQuantity(7);
else {
hSpike = CreateItem($"spinagon spike");
if (!hSpike)
return 0;
hSpike->AddQuality(7);
hSpike->SetKnown(0xFFFF);
hSpike->SetQuantity(7);
EActor->GainItem(hSpike,false);
}
DPrint(e,"You grow more spikes.",
"The <EActor> grows more spikes.");
return 0;
},
(41+2000) {
if (e.DType == 36) {
e.Immune = true;
return 2;
}
return 0;
},

42 {
hObj h2;
#line "mon4.irh" 1386
for(h2=EActor->FirstInv();h2;h2=EActor->NextInv())
if (h2->iID == $"spinagon spike")
{ h2->Remove(true); h2 = EActor->FirstInv(); }
return 0;
},
209
"It grows spinagon spikes out of its body, regenerating them as
         quickly as it can throw them.";
}

Item "spinagon spike" : 58
{ Image: purple 24; Group: 0x00000100; Range: 3;
Mat: 9; Size: 2; Weight: 0; Flags: 27, 1;
SDmg: 1d6; LDmg: 1d6; Acc:+0; Crit: x2; Threat: 2; Spd: 120%;
Cost: 0;
Desc: "Spinagons grow a kind of throwing spike out of their
      diabolic bodies, which continues to burn even after it has
      been thrown."; }

Monster "black abishai" : 73
{
Image: shadow 148; Size: 5; Arm: 4;
CR: 7; HD: 4; Hit: +2; Def: 12; Hit: +4; Mov: 125%; Spd: 100%;
Str 17, Dex 12, Con 13, Int 10, Wis 11, Cha 10;
Attk: 6 for 1d4 11,
6 for 1d4 11,
10 for 1d4 12 and 0d0 60 (DC 13),
102 for $"fiend",
99 for 50% 73 (CR 4);
Stati[39,91,6];
Stati[39,13,6];
Stati[118,18,30];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: ((((49 + 1) + 32) + 50) + 23), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35);
Spells: $"animate dead", $"change self", $"charm person", $"command",
$"desecrate", $"spectral force", $"produce flame", $"fireball",
$"spook", $"suggestion";
Poison: $"black abishai venom";
Flags: 49, 51, 53, 28, 27, 12,
1, 66, 88, 107;
Desc: "Abishai look like gothic gargoyles, with large wings and long,
      barbed prehensile tails. They carry with them the scent of vinegar,
      and the air warms in their presence. In baatezu society, the color
      of an abishai determines its station: black is lowest, then green,
      with red being the highest.";
}

Poison "black abishai venom" : 1
{
Level: 5;
cval: 10;
sval: 13;
lval: 4;
xval: 45; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>4<7> saving throws against <11>DC 13<7> 
      to overcome.";
}


Monster "green abishai" : 73
{
Image: green 148; Size: 5; Arm: 6;
CR: 8; HD: 5; Hit: +3; Def: 13; Hit: +5; Mov: 125%; Spd: 100%;
Str 17, Dex 12, Con 13, Int 10, Wis 11, Cha 10;
Attk: 6 for 1d4 11,
6 for 1d4 11,
10 for 1d4 12 and 0d0 60 (DC 15),
102 for $"fiend",
99 for 50% 73 (CR 5);
Stati[39,91,6];
Stati[39,13,6];
Stati[118,18,35];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: ((((49 + 1) + 32) + 50) + 23), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35), 18,
20, 8, 32, 44, 3;
Spells: $"animate dead", $"change self", $"charm person", $"command",
$"desecrate", $"spectral force", $"produce flame", $"fireball",
$"spook", $"suggestion";
Poison: $"green abishai venom";
Flags: 49, 51, 53, 28, 27, 12,
1, 66, 88, 107;
Desc: "Abishai look like gothic gargoyles, with large wings and long,
      barbed prehensile tails. They carry with them the scent of vinegar,
      and the air warms in their presence. In baatezu society, the color
      of an abishai determines its station: black is lowest, then green,
      with red being the highest.";
}

Poison "green abishai venom" : 1
{
Level: 6;
cval: 10;
sval: 15;
lval: 4;
xval: 45; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>4<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Monster "red abishai" : 73
{
Image: red 148; Size: 5; Arm: 8;
CR: 8; HD: 6; Hit: +4; Def: 14; Hit: +6; Mov: 125%; Spd: 100%;
Str 17, Dex 12, Con 13, Int 10, Wis 11, Cha 10;
Attk: 6 for 1d4 11,
6 for 1d4 11,
10 for 1d4 12 and 0d0 60 (DC 17),
102 for $"fiend",
99 for 50% 73 (CR 6);
Stati[39,91,6];
Stati[39,13,6];
Stati[118,18,40];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: ((((49 + 1) + 32) + 50) + 23), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35), 18,
20, 8, 32, 44, 3;
Spells: $"animate dead", $"change self", $"charm person", $"command",
$"desecrate", $"spectral force", $"produce flame", $"fireball",
$"spook", $"suggestion";
Poison: $"red abishai venom";
Flags: 49, 51, 53, 28, 27, 12,
1, 66, 88, 107;
Desc: "Abishai look like gothic gargoyles, with large wings and long,
      barbed prehensile tails. They carry with them the scent of vinegar,
      and the air warms in their presence. In baatezu society, the color
      of an abishai determines its station: black is lowest, then green,
      with red being the highest.";
}

Poison "red abishai venom" : 1
{
Level: 7;
cval: 10;
sval: 17;
lval: 4;
xval: 45; pval: 1d10;
Desc: "This poison inflicts <11>1d10<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>4<7> saving throws against <11>DC 17<7> 
      to overcome.";
}

Monster "osyluth" : 73
{
Image: shadow 148; Size: 5;
CR: 9; HD: 5; Hit: +5; Def: 19; Mov: 150%; Spd: 150%;
Str 21, Dex 10, Con 15, Int 14, Wis 14, Cha 14; Arm: 5;
Attk: 7 for 1d8 12,
6 for 1d4 11,
6 for 1d4 11,
10 for 3d4 12 and 60 (DC 14),
102 for $"fiend",
99 for 50% 73 (CR 6),
53 for 3d6 28 (DC 14);
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((21*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 32, 36, 41, 3, 44,
((49 + 1) + 5), ((((49 + 1) + 32) + 50) + 35) ;
Spells: $"animate dead", $"charm person", $"dimensional anchor",
$"bane", $"fly", $"invisibility", $"spectral force",
$"suggestion", $"teleport", $"wall of ice";
#line "mon4.irh" 1551
Flags: 51, 49, 53, 88, 1, 14,
107;
Desc: "The secret police of the Nine Hells, osyluths (also called
      bone devils) sniff out corruption and goodness in the armies of 
      the damned. They appear as skeletal humanoids with a long, barbed 
      tail.";
Poison: $"osyluth venom";
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
};
}

Monster "kocrachon" : 73
{
Image: cyan 148; Size: 4;
CR: 8; HD: 6; Hit: +6; Def: 17; Mov: 150%; Spd: 150%;
Str 16, Dex 19, Con 13, Int 17, Wis 14, Cha 16;
Attk: 15 for 1d6 12 and 27 (DC 14),
6 for 1d4 11,
6 for 1d4 11,
102 for $"fiend",
99 for 40% 73 (CR 6);
Stati[39,35,6];
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((17*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 6, 17, 18, 20, 36, 44,
32, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 14);
Flags: 51, 49, 53, 88, 12, 107;
Disease: $"devil chills";
Spells: $"animate dead", $"cure moderate wounds", $"desecrate",
$"detect monsters", $"dispel magic", $"spectral force", $"suggestion",
$"teleport", $"thornwrack", $"emotion", $"pain touch";
Desc: "Kocrachon, or agony devils, are the torturers and interrogators
      of the Hells, justly feared for their skill at inflicting pain. 
      They are usually kept as retainers and household staff by more powerful
      diabolical lords. Insectile in appearance, the kocrachon have glistening
      navy or deep purple carapices and long, serrated proboscises. Their
      limbs are long and spindly (and multi-jointed), and their heads are
      tiny in comparison to the rest of their body.";
}

Poison "osyluth venom" : 4
{
Level: 3;
cval: 7;
sval: 14;
lval: 5;
xval: 43; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>5<7> saving throws against <11>DC 14<7> 
      to overcome.";
}

Monster "barbazu" : 73
{
Image: red 148; Size: 4;
CR: 7; HD: 6; Hit: +6; Def: 15; Mov: 150%; Spd: 125%;
Str 15, Dex 11, Con 13, Int 6, Wis 10, Cha 10; Arm: 8;
Attk: 6 for 1d4 11,
6 for 1d4 11,
102 for $"fiend",
99 for 50% 73 (CR 6);
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((23*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Spells: $"animate dead", $"charm person", $"command", $"desecrate",
$"bladethirst", $"produce flame", $"spectral force",
$"suggestion", $"teleport";
Feats: 32, 3, 36, 44, 20,
(((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 35);
Flags: 51, 49, 53, 88, 1, 107;
int32 claw_hits;
On Event (41+1000) {
int32 i;

if (e.AType == 63)
if (EItem->iID == $"saw-toothed glaive")
if (!(EVictim->ResistLevel(23) == -1)) {
if (i = EVictim->GetEffStatiDur(12,$"saw-toothed glaive"))
EVictim->SetEffStatiDur(12,$"saw-toothed glaive",i + 4d6);
else
EVictim->GainTempStati(12,NULL,4d6,6,2,0,$"saw-toothed glaive");
}
},
(17+500) { claw_hits = 0;
return 0; },
20 { if (e.AType == 6)
claw_hits++;
return 0; },
(17+1000) {
if (claw_hits >= 2 && !EVictim->isDead()) {
TPrint(e,"You ravage the <EVictim> with your wire-sharp beard!",
"The <EActor> ravages you with <his:EActor> wire-sharp beard!",
"The <EActor> ravages the <EVictim> with <his:EActor> wire-sharp beard!");
ThrowDmg(41,11,1d8+EActor->Mod(0),"a barbazu's beard",EActor,EVictim);
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,14,0x00002000))
EVictim->GainPermStati(19,NULL,6, 0, 0, $"devil chills");
}
return 0;
},
(19+500) {
if (!EActor->HasStati(66) && EActor->cFP > -2)
{
DPrint(e,"You fly into a killing fury!",
"The <EActor> flies into a killing fury!");
EActor->GainTempStati(66,NULL,6,7,4);
EActor->LoseFatigue(1);
}
return 0;
},
209
"When a barbazu hits with both claw attacks, it also ravages its
      victim with its wire-sharp beard for 1d8 points of damage. If such a
      victim fails a Fortitude save (DC 14), she also contracts <4>devil
      chills<7>. A barbazu attacking with a glaive inflicts wounds that
      bleed for 4d6 turns, at a rate of 2 points of damage per turn.";
Stati[30,1,0,$"saw-toothed glaive"];
Desc: "The terrifying shock troops of Hell, barbazu -- also known as
    bearded devils -- delight in violence in a manner few other beings
    could comprehend.  Barbazu have scaly crimson hides, long serpentine
    tails, and humanoid faces with sharp beards like wire.";
Disease: $"devil chills";
Gear:
50% $"saw-toothed glaive" of random 1 to 3;
}

Monster "amnizu" : 73
{
Image: bright green 148; Size: 4;
CR: 10; HD: 9; Hit: +9; Def: 13; Mov: 135%; Spd: 125%;
Str 12, Dex 11, Con 13, Int 16, Wis 15, Cha 10; Arm: 10;
Attk: 9 for 3d6 7
and 2d4 46,
102 for $"fiend",
99 for 50% 73 (CR 7);
Stati[39,105,1];
Stati[39,42,12];
Stati[39,66,4];
Stati[118,18,((18*5)-50)];
Stati[39,94,15];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 11, 24, 29, 41, 43,
44, 45, 46, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 47,
((((49 + 1) + 32) + 50) + 35),
(((49 + 1) + 32) + 44);
Flags: 51, 49, 53, 88, 12, 14,
107;
Spells: $"dismissal", $"fireball", $"spectral force", $"choke",
$"displacement", $"wall of ice";
Stati[125,3];
On Event 209
"It is immune to Intelligence damage or drain.";
Desc: "Amnizu are short, stocky and cunning devils charged with
      guarding the gates of Hell. They ensure that none of the souls
      within are ever allowed to escape.";
Gear:
50% $"bracers" +3 of $"defense" else
$"amulet" of $"natural armor",
50% $"ring" of $"evasion",
#line "mon4.irh" 1730
$"wand" of random 4 to 7,
50% $"wand" of random 4 to 7,
50% $"cloak" of random 1 to 6;

}

Monster "hamatula" : 73
{
Image: brown 148; Size: 4;
CR: 9; HD: 9; Hit: +9; Def: 17; Mov: 100%; Spd: 100%;
Str 17, Dex 11, Con 13, Int 12, Wis 14, Cha 10; Arm: 13;
Attk: 6 for 2d4 11
and 3d6 28 (DC 14),
6 for 2d4 11
and 3d6 28 (DC 14),
34 for 3d4 12,
54 for 1d4 12,
102 for $"fiend",
99 for 50% 73 (CR 8);
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((23*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Spells: $"animate dead", $"bane", $"charm person", $"desecrate",
$"hold person", $"order's wrath", $"produce flame",
$"spectral force", $"suggestion", $"teleport", $"unholy blight";
Feats: 18, 32, 36, 3, 44,
20, ((49 + 1) + 5), (((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 51, 49, 53, 88, 1, 107;
Desc: "Hamatula, known commonly as barbed devils, are bulky, muscular 
      creatures whose bodies are covered with sharp barbs. They are the 
      military officers and drill sergeants of the Hells, keeping lower-ranking 
      demons in line and breaking the spirits of the unruly.";
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,6,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,6);
return 0;
},
209
"Once a character has made one successful save against a hamatula's fear,
        that character is immune to that specific hamatula's fear for the remainder
        of the day.";
}

Monster "malebranche" : 73
{
Image: magenta 148; Size: 6;
CR: 12; HD: 16; Hit: +14; Def: 13; Mov: 180%; Spd: 150%;
Str 30, Dex 9, Con 23, Int 10, Wis 9, Cha 10; Arm: 15;
Attk: 23 for 2d6 12,
7 for 2d6 12,
6 for 2d4 11,
6 for 2d4 11,
102 for $"fiend",
53 for 3d6 28 (DC 18);
Stati[39,66,8];
Stati[39,105,1];
Stati[118,18,((20*5)-50)];
Stati[39,42,12];
Feats: 6, 7, 20, 22, 32,
(((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 23), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), ((((49 + 1) + 32) + 50) + 30),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 51, 49, 53, 88, 12, 14,
107;
Desc: "Malebranches are huge, hulking devils with wickedly curving
      horns. The raw power of Hell made manifest, these creatures are
      bruisers, and they know it. They act as enforcers, thugs and
      anthropomorphic seige engines within the armies of Baator. Their
      great bat wings allow them to fly awkwardly, but with great
      speed.";
#line "mon4.irh" 1815
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
},
209
"It is immune to Strength damage or drain.";
Stati[125,0];
}

Monster "narzugon" : 73
{
Image: purple 148; Size: 4;
CR: 11; HD: 10; Hit: +12; Def: 16; Mov: 100%; Spd: 150%;
Str 18, Dex 14, Con 13, Int 12, Wis 13, Cha 19;
Attk: 1 for 1d3 13,
43 for 90,
99 for 30% 73 (CR 9),
102 for $"fiend";
Stati[39,105,3];
Stati[39,42,12];
Stati[124,40,6];
Stati[118,18,((23*5)-50)];
Stati[39,94,15];
Stati[39,66,5];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 20, 24, 29, 40, 41,
3, 44, 48, ((((((49 + 1) + 32) + 50) + 38) + 30) + 30),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 18), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 39), (((((49 + 1) + 32) + 50) + 38) + 9),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 51, 49, 53, 88, 1,
107;
Spells: $"desecrate", $"hold person", $"produce flame", $"haste",
$"bestow curse", $"unholy blight";
Desc: "The elite cavalry of the Nine Hells, narzugons are famous
      for their zeal and twisted honor. Riding nightmares, fiendish
      dire boars, young chromatic dragons or more horrific mounts
      still, the narzugons are sent out of Baator to retrive anyone
      or anything that escapes. They harry the fugitive to exhaustion,
      then close in for the kill. Rumors claim that the gaze of the
      narzugon eclipses reason and brings death. Narzugons appear as
      humanoids with coal-black eyes and leathery grey skin, but their
      bodies are rarely seen beneath their iconic spiked full plate
      armor.";
Gear:
33% $"cloak" of random 2 to 6,
33% $"ring" of random 2 to 6,
33% $"boots" of random 2 to 6,
33% $"helm" of random 2 to 6,
33% $"girdle" of random 2 to 6,
$"field plate armor" of random 5 to 8,
50% $"greatsword" of random 3 to 6 else
50% $"scimitar" of random 4 to 7 else
$"long sword" of random 4 to 7,
#line "mon4.irh" 1882
3d4 $"potion" of $"extra-healing",
2d4 $"potion" of $"dimension door";
On Event (41+500) {
if (e.DType == 90) {
if (EActor->HasStati(72,43,EVictim))
return 2;
EActor->GainTempStati(72,EVictim,1d4+1,7,43);
e.eID = $"phantasmal killer";
e.saveDC = 14 + EActor->Mod2(5);
e.vCasterLev = EActor->ChallengeRating();
ReThrow(52,e);
return 1;
}
return 0;
},
209
"Its gaze has the effect of a <1>Phantasmal Killer<7> spell on any
        victim within range, recurring every 1d4+1 rounds.",
156 {
hObj hMount;
switch (random(10))
{
case 0:
hMount = CreateMonster($"wild boar");
hMount->AddTemplate($"dire");
hMount->AddTemplate($"fiendish");
break;
case 1:
hMount = CreateMonster($"winter wolf");
hMount->AddTemplate($"fiendish");
break;
case 2:
hMount = CreateMonster($"blue dragon");
hMount->AddTemplate($"young");
break;
case 3:
hMount = CreateMonster($"black dragon");
hMount->AddTemplate($"young");
break;
case 4:
hMount = CreateMonster($"purple dragon");
hMount->AddTemplate($"young");
break;
case 5:
hMount = CreateMonster($"greater barghest");
break;
#line "mon4.irh" 1932
case 6:
case 7:
case 8:
case 9:
hMount = CreateMonster($"nightmare");
break;
}

if (hMount == NULL)
return 0;

SetSilence();
hMount->PartyID = EActor->PartyID;
hMount->PlaceAt(EMap,EActor->x,EActor->y);
hMount->Initialize();
hMount->CalcValues();
Throw(110,EActor,hMount);
UnsetSilence();
return 0;

};
}

Monster "cornugon" : 73
{
Image: brown 153; Size: 5;
CR: 11; HD: 11; Hit: +11; Def: 20; Mov: 200%; Spd: 150%;
Str 21, Dex 12, Con 17, Int 14, Wis 14, Cha 14; Arm: 15;
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d4 12,
24 for 1d3 13,
99 for 50% 73 (CR 10),
102 for $"fiend",
53 for 3d6 28 (DC 14);
Stati[39,105,3];
Stati[39,42,12];
Stati[118,18,((24*5)-50)];
Stati[39,66,5];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 6, 7, 32, 36, 3, 44,
20, (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
((((49 + 1) + 32) + 50) + 35), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 31);
Spells: $"animate dead", $"charm person", $"detect monsters", $"ESP",
$"fireball", $"lightning bolt", $"produce flame", $"spectral force",
$"stoneskin", $"suggestion", $"teleport", $"wall of fire";
Flags: 51, 49, 53, 88, 12, 1,
107;
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
if (e.AType == 63)
if (EItem->iID == $"whip")
if (e.isCrit || !EVictim->SavingThrow(0,17))
EVictim->GainTempStati(5, NULL,3d6,6);
if (e.AType == 24)
EVictim->GainTempStati(12, NULL, 3d6, 6, 2, 0);
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
},
209
"It is specialized in the whip. When it hits an enemy with its
        whip, the enemy must make a Fortitude save (DC 17) or be stunned
        for 3d6 rounds. When is scores a critical with the whip, no save
        is allowed against the stun effect. Wounds inflicted by its tail
        bleed for 3d6 rounds, at a rate of 2 points of damage per round.";
Gear:
75% $"whip" of random 5 to 7;
Desc: "The cornugon, or horned devil, is the lowest of the greater
      devils, which means its hardly a creature for any mortal being to
      trifle with casually. Resembling a hybrid between a dragon, a man
      (or woman) and a thornbush, the cornugon has huge wings, reptilian
      brown skin and a fierce temperment. They serve as the elite defense
      forces of the Nine Hells.";
}
#line "mon4.irh" 2026
Monster "hell hound" : 48, 6, 73
{
Image: pink 'd'; Size: 4;
CR: 4; HD: 4; Hit: 4; Def: 15; Mov: 150%; Spd: 125%;
Str 13, Dex 13, Con 13, Int 6, Wis 10, Cha 6;
Attk: 7 for 1d8+1 12
and 1d6 1,
42 for 2d6 1 (DC 13);
Stati[124,18,5];
Stati[124,36,5];
Stati[39,42,6];
Immune: 0x00000001;
Feats: 44, 18, 36,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 51, 49, 88, 3, 41;
}

Monster "yeth hound" : 48, 6, 73
{
Image: grey 'd'; Size: 4;
CR: 6; HD: 3; Hit: 3; Def: 18; Mov: 200%; Spd: 115%;
Str 17, Dex 15, Con 15, Int 6, Wis 14, Cha 10; Arm: 10;
Attk: 7 for 1d8 12
and 0d0 67 (DC 20),
47 for 2d4 28 (DC 11);
Stati[39,71,6];
Stati[39,94,12];
Stati[39,42,6];
Stati[124,48,4];
Feats: 32, 44, 41, 18, 36,
48,
(((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 49, 88, 3, 8;
Desc: "A yeth hound stands 5 feet tall at the shoulder and weighs about
    400 pounds.
    Yeth hounds cannot speak, but understand Infernal.
    Yeth hounds hunt only at night. They fear the sun and never venture out
    in daylight, even if their lives depend on it. ";
On Event 213 "bay" / "bays";
}
#line "mon4.irh" 2138
Monster "tiny" " air elemental" : 38 { Image: white 'E'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4; Def: 12; Mov: 150%; Spd: 150%; Str 8, Dex 15, Con 8, Int 6, Wis 11, Cha 11; Attk: 19 for 1d2 13 and 1d(1) 61 (DC 10), 9 for 0d0 66 (DC 10), 30 for 1d2 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "tiny" " air elemental is about the size " "of a " "pixie" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2139
Monster "small" " air elemental" : 38 { Image: white 'E'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4; Def: 14; Mov: 150%; Spd: 150%; Str 10, Dex 17, Con 10, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13 and 1d(2) 61 (DC 13), 9 for 0d0 66 (DC 13), 30 for 1d4 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "small" " air elemental is about the size " "of a " "halfling" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2140
Monster "medium" " air elemental" : 38 { Image: white 'E'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4; Def: 16; Mov: 150%; Spd: 150%; Str 12, Dex 21, Con 14, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d(4) 61 (DC 16), 9 for 0d0 66 (DC 16), 30 for 1d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "medium" " air elemental is about the size " "of a " "human" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2141
Monster "large" " air elemental" : 38 { Image: white 'E'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4; Def: 18; Mov: 150%; Spd: 150%; Str 14, Dex 25, Con 16, Int 6, Wis 11, Cha 11; Attk: 19 for 2d6 13 and 1d(6) 61 (DC 19), 9 for 0d0 66 (DC 19), 30 for 2d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "large" " air elemental is about the size " "of a " "ogre" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2142
Monster "huge" " air elemental" : 38 { Image: white 'E'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4; Def: 20; Mov: 150%; Spd: 150%; Str 18, Dex 29, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 1d(8) 61 (DC 22), 9 for 0d0 66 (DC 22), 30 for 2d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "huge" " air elemental is about the size " "of a " "covered wagon" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2143
Monster "greater" " air elemental" : 38 { Image: white 'E'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4; Def: 22; Mov: 150%; Spd: 150%; Str 20, Dex 31, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d6 13 and 1d(10) 61 (DC 25), 9 for 0d0 66 (DC 25), 30 for 3d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "greater" " air elemental is about the size " "of a " "tiny house" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2144
Monster "elder" " air elemental" : 38 { Image: white 'E'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4; Def: 24; Mov: 150%; Spd: 150%; Str 22, Dex 33, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d8 13 and 1d(12) 61 (DC 28), 9 for 0d0 66 (DC 28), 30 for 3d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "elder" " air elemental is about the size " "of a " "tiny house" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2177
Monster "tiny" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4+2; Def: 12; Mov: 250%; Spd: 200%; Str (8+4), Dex (15-4), Con 8, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d(1) 61 (DC 10), 9 for 0d0 66 (DC 10), 30 for 1d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "tiny" " air elemental is about the size " "of a " "pixie" "."; }
#line "mon4.irh" 2178
Monster "small" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4+2; Def: 14; Mov: 250%; Spd: 200%; Str (10+4), Dex (17-4), Con 10, Int 6, Wis 11, Cha 11; Attk: 19 for 1d8 13 and 1d(2) 61 (DC 13), 9 for 0d0 66 (DC 13), 30 for 1d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "small" " air elemental is about the size " "of a " "halfling" "."; }
#line "mon4.irh" 2179
Monster "medium" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4+2; Def: 16; Mov: 250%; Spd: 200%; Str (12+4), Dex (21-4), Con 14, Int 6, Wis 11, Cha 11; Attk: 19 for 1d10 13 and 1d(4) 61 (DC 16), 9 for 0d0 66 (DC 16), 30 for 1d10 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "medium" " air elemental is about the size " "of a " "human" "."; }
#line "mon4.irh" 2180
Monster "large" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4+2; Def: 18; Mov: 250%; Spd: 200%; Str (14+4), Dex (25-4), Con 16, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 1d(6) 61 (DC 19), 9 for 0d0 66 (DC 19), 30 for 2d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "large" " air elemental is about the size " "of a " "ogre" "."; }
#line "mon4.irh" 2181
Monster "huge" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4+2; Def: 20; Mov: 250%; Spd: 200%; Str (18+4), Dex (29-4), Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 2d10 13 and 1d(8) 61 (DC 22), 9 for 0d0 66 (DC 22), 30 for 2d10 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "huge" " air elemental is about the size " "of a " "covered wagon" "."; }
#line "mon4.irh" 2182
Monster "greater" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4+2; Def: 22; Mov: 250%; Spd: 200%; Str (20+4), Dex (31-4), Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d12 13 and 1d(10) 61 (DC 25), 9 for 0d0 66 (DC 25), 30 for 3d12 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "greater" " air elemental is about the size " "of a " "tiny house" "."; }
#line "mon4.irh" 2183
Monster "elder" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4+2; Def: 24; Mov: 250%; Spd: 200%; Str (22+4), Dex (33-4), Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d20 13 and 1d(12) 61 (DC 28), 9 for 0d0 66 (DC 28), 30 for 3d20 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "elder" " air elemental is about the size " "of a " "tiny house" "."; }
#line "mon4.irh" 2215
Monster "tiny" " water elemental" : 38 { Image: azure 'E'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4; Def: 10; Mov: 150%; Spd: 150%; Str 12, Dex 10, Con 11, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13 and 1d4 74 (DC 10), 9 for 66 (DC 10), 30 for 1d4 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,1]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "tiny" " water elemental is about the size " "of a " "pixie" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2216
Monster "small" " water elemental" : 38 { Image: azure 'E'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4; Def: 12; Mov: 150%; Spd: 150%; Str 14, Dex 10, Con 13, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d6 74 (DC 13), 9 for 66 (DC 13), 30 for 1d6 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,2]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "small" " water elemental is about the size " "of a " "halfling" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2217
Monster "medium" " water elemental" : 38 { Image: azure 'E'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4; Def: 14; Mov: 150%; Spd: 150%; Str 16, Dex 12, Con 17, Int 6, Wis 11, Cha 11; Attk: 19 for 1d8 13 and 1d8 74 (DC 16), 9 for 66 (DC 16), 30 for 1d8 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,4]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "medium" " water elemental is about the size " "of a " "human" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2218
Monster "large" " water elemental" : 38 { Image: azure 'E'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4; Def: 16; Mov: 150%; Spd: 150%; Str 20, Dex 14, Con 19, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 2d8 74 (DC 19), 9 for 66 (DC 19), 30 for 2d8 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,6]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "large" " water elemental is about the size " "of a " "ogre" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2219
Monster "huge" " water elemental" : 38 { Image: azure 'E'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4; Def: 18; Mov: 150%; Spd: 150%; Str 24, Dex 18, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 2d10 13 and 2d10 74 (DC 22), 9 for 66 (DC 22), 30 for 2d10 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,8]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "huge" " water elemental is about the size " "of a " "covered wagon" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2220
Monster "greater" " water elemental" : 38 { Image: azure 'E'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4; Def: 20; Mov: 150%; Spd: 150%; Str 26, Dex 20, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d8 13 and 3d8 74 (DC 25), 9 for 66 (DC 25), 30 for 3d8 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,10]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "greater" " water elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2221
Monster "elder" " water elemental" : 38 { Image: azure 'E'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4; Def: 22; Mov: 150%; Spd: 150%; Str 28, Dex 22, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d10 13 and 3d10 74 (DC 28), 9 for 66 (DC 28), 30 for 3d10 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "elder" " water elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2257
Monster "tiny" " earth elemental" : 38 { Image: brown 'E'; Size: 2; Mana: (7*1); Arm: 6; CR: 1; HD: 1; Hit: (1*3)/4; Def: 8; Mov: 75%; Spd: 75%; Str 15, Dex 8, Con 11, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13 and 1d4 67 (DC 10); Stati[39,112,2]; Stati[39,30,1]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "tiny" " earth elemental is about the size " "of a " "pixie" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((1d4)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2258
Monster "small" " earth elemental" : 38 { Image: brown 'E'; Size: 3; Mana: (7*2); Arm: 9; CR: 2; HD: 2; Hit: (2*3)/4; Def: 8; Mov: 75%; Spd: 75%; Str 17, Dex 8, Con 13, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d6 67 (DC 13); Stati[39,112,2]; Stati[39,30,2]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "small" " earth elemental is about the size " "of a " "halfling" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((1d6)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2259
Monster "medium" " earth elemental" : 38 { Image: brown 'E'; Size: 4; Mana: (7*4); Arm: 12; CR: 4; HD: 4; Hit: (4*3)/4; Def: 10; Mov: 75%; Spd: 75%; Str 21, Dex 8, Con 17, Int 6, Wis 11, Cha 11; Attk: 19 for 1d8 13 and 1d8 67 (DC 16); Stati[39,112,2]; Stati[39,30,4]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "medium" " earth elemental is about the size " "of a " "human" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((1d8)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2260
Monster "large" " earth elemental" : 38 { Image: brown 'E'; Size: 5; Mana: (7*8); Arm: 15; CR: 6; HD: 8; Hit: (8*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 25, Dex 8, Con 19, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 2d8 67 (DC 19); Stati[39,112,2]; Stati[39,30,6]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "large" " earth elemental is about the size " "of a " "ogre" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((2d8)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2261
Monster "huge" " earth elemental" : 38 { Image: brown 'E'; Size: 6; Mana: (7*16); Arm: 18; CR: 8; HD: 16; Hit: (16*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 28, Dex 8, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 2d10 13 and 2d10 67 (DC 22); Stati[39,112,2]; Stati[39,30,8]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "huge" " earth elemental is about the size " "of a " "covered wagon" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((2d10)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2262
Monster "greater" " earth elemental" : 38 { Image: brown 'E'; Size: 6; Mana: (7*21); Arm: 21; CR: 10; HD: 21; Hit: (21*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 31, Dex 8, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d8 13 and 3d8 67 (DC 25); Stati[39,112,2]; Stati[39,30,10]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), (((((49 + 1) + 32) + 50) + 38) + 9), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "greater" " earth elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((3d8)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2263
Monster "elder" " earth elemental" : 38 { Image: brown 'E'; Size: 6; Mana: (7*24); Arm: 24; CR: 12; HD: 24; Hit: (24*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 33, Dex 8, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d10 13 and 3d10 67 (DC 28); Stati[39,112,2]; Stati[39,30,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), (((((49 + 1) + 32) + 50) + 38) + 9), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "elder" " earth elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((3d10)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2316
Effect "Burn" : 3
{ xval: 79; yval: 32; Flags: 85, 33;
On Event (32+10000) {
int32 saveDC;
saveDC = 10 + EActor->GetEffStatiObj(79,$"Burn")->ChallengeRating();
if (EActor->SavingThrow(1,saveDC,0x00000010))
{
EActor->IDPrint("You manage to put out the flames.",
"The <hObj> is no longer burning.", EActor);
EActor->RemoveEffStati($"Burn");
return 1;
}
EActor->IDPrint("You burn!", "The <hObj> burns!", EActor);
ThrowDmg(41,1,1d4,"being burned alive",EActor,
EActor->GetEffStatiObj(79,$"Burn"));
return 0;
},
28 {
int32 saveDC;
if (EVictim->HasEffStati(79,$"Burn"))
return 1;
if (EVictim->SavingThrow(1,saveDC,0x00000010))
{
EVictim->IPrint("You avoid being set on fire.");
e.Resist = true;
return 1;
}
EVictim->IDPrint("You catch on fire!",
"The <hObj> catches on fire!", EVictim);
return 0;
};
}


Monster "tiny" " fire elemental" : 38 { Image: red 'E'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4; Def: 8; Mov: 150%; Spd: 150%; Str 8, Dex 13, Con 9, Int 6, Wis 11, Cha 11; Attk: 19 for 1d3 13, 54 for 2d(1) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "tiny" " fire elemental is about the size " "of a " "pixie" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2352
Monster "small" " fire elemental" : 38 { Image: red 'E'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4; Def: 10; Mov: 150%; Spd: 150%; Str 10, Dex 13, Con 10, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13, 54 for 2d(2) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "small" " fire elemental is about the size " "of a " "halfling" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2353
Monster "medium" " fire elemental" : 38 { Image: red 'E'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4; Def: 12; Mov: 150%; Spd: 150%; Str 12, Dex 17, Con 14, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13, 54 for 2d(4) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "medium" " fire elemental is about the size " "of a " "human" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2354
Monster "large" " fire elemental" : 38 { Image: red 'E'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4; Def: 14; Mov: 150%; Spd: 150%; Str 14, Dex 21, Con 16, Int 6, Wis 11, Cha 11; Attk: 19 for 2d6 13, 54 for 2d(6) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "large" " fire elemental is about the size " "of a " "ogre" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2355
Monster "huge" " fire elemental" : 38 { Image: red 'E'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4; Def: 16; Mov: 150%; Spd: 150%; Str 18, Dex 25, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13, 54 for 2d(8) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "huge" " fire elemental is about the size " "of a " "covered wagon" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2356
Monster "greater" " fire elemental" : 38 { Image: red 'E'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4; Def: 18; Mov: 150%; Spd: 150%; Str 20, Dex 27, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d6 13, 54 for 2d(10) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "greater" " fire elemental is about the size " "of a " "tiny house" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2357
Monster "elder" " fire elemental" : 38 { Image: red 'E'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4; Def: 20; Mov: 150%; Spd: 150%; Str 22, Dex 29, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d7 13, 54 for 2d(12) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "elder" " fire elemental is about the size " "of a " "tiny house" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2361
Monster "small metal elemental" : 38, 94
{ Image: shadow 'E'; Size: 3; Arm: 10;
CR: 5; HD: 2; Hit: 2; Def: 8; Mov: 120%; Spd: 120%;
Str 16, Dex 8, Con 16, Int 4, Wis 12, Cha 8;
Attk: 19 for 1d6 13,
19 for 1d6 11;
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000001, 0x00000002;
Feats:
32, 44,
(((((49 + 1) + 32) + 50) + 38) + 25),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 66, 3, 88, 40;
On Event ((41+500)+2000) {
if (GetHandle(EItem2)) {
if (EItem2->isMetallic()) { e.Immune = true; return 2; }
} else if (GetHandle(EItem)) {
if (EItem->isMetallic()) { e.Immune = true; return 2; }
} else if (e.DType == 39) {
e.DType = 0;
}
};
Desc: "The metal para-elemental appears as a coagulated hunk of metal
    bludgeons and shape edges. It cannot be harmed by metallic weapons
    but is harmed by rusting effects.";
}

Monster "metal elemental" : 38, 94
{ Image: shadow 'E'; Size: 3; Arm: 10;
CR: 7; HD: 4; Hit: 3; Def: 10; Mov: 150%; Spd: 150%;
Str 18, Dex 10, Con 18, Int 6, Wis 14, Cha 10;
Attk: 19 for 1d6 13,
19 for 1d6 11;
Stati[39,42,6];
Stati[39,105,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000,
0x00000001, 0x00000002;
Feats:
32, 44,
(((((49 + 1) + 32) + 50) + 38) + 25),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 66, 3, 88, 40;
On Event ((41+500)+2000) {
if (GetHandle(EItem2)) {
if (EItem2->isMetallic()) { e.Immune = true; return 2; }
} else if (GetHandle(EItem)) {
if (EItem->isMetallic()) { e.Immune = true; return 2; }
} else if (e.DType == 39) {
e.DType = 0;
}
};
Desc: "The metal para-elemental appears as a coagulated hunk of metal
    bludgeons and shape edges. It cannot be harmed by metallic weapons
    but is harmed by rusting effects.";
}

Monster "small mud elemental" : 38, 17, 94
{ Image: brown 'E'; Size: 3;
CR: 1; HD: 2; Hit: 2; Def: 8; Mov: 80%; Spd: 100%;
Str 14, Dex 10, Con 13, Int 4, Wis 11, Cha 11;
Attk: 19 for 1d6 13 and 1d2 14 (DC 13),
60 for 1d6 39 (DC 15);
Stati[39,112,2];
Stati[39,42,6];
Stati[39,30,1];
Stati[39,66,2];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon4.irh" 2428
Feats:
32, 44,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags:
66, 3, 88, 40,
2, 4, 10, 31;
On Event (42+2000) {
if (GetHandle(EMap))
EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow mud");
};
Desc: "The mud para-elemental appears as an amorphous blob of living
    mud. It quick forms and reforms pseudopods that can entangle foes.";
}



Monster "fire mephit" : 48, 95, 15
{
Image: red 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 10, Dex 13, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 4d4 1 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Immune: 0x00000001;
Resists: 0x00000080;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"produce flame", $"heat metal";
Flags: 1, 12, 79, 41, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Fire mephits look like red-skinned, puckish devils, and
      have a malicious sense of humor to suit.";
}

Monster "ice mephit" : 48, 96, 15
{
Image: cyan 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 10, Dex 17, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 2 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Immune: 0x00000002;
Resists: 0x00000080;
Spells: $"magic missile", $"chill touch";
Flags: 1, 12, 79, 38, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Ice mephits are blue-skinned, with sharp features and
      regal manners. Aloof and distant, they remember petty
      vendettas for centuries.";
On Event 200 "frost breath";
}

Monster "water mephit" : 48, 15
{
Image: blue 'i'; Size: 3;
CR: 4; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 14, Dex 10, Con 13, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 0d0 67 (DC 14) and
1d4 13 and
3d4 74 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Spells: $"water walking", $"obscurement";
Flags: 1, 12, 79, 38, 88,
55, 30;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Resembling tiny fish people, water mephits have cheerful
      (if callous) senses of humor; their enthusiasm gets on the
      nerves of everyone around them.";
On Event 200 "jet of water";
}

Monster "dust mephit" : 48, 15
{
Image: grey 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 14, Dex 10, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 1d4 24 (DC 14) and
3d4 62 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Spells: $"dust devil", $"sandblast";
Flags: 1, 12, 79, 39, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Wizened, gaunt and wrinkly grey skinned humanoids, dust 
      mephits speak slowly and take a morbid, nihilistic attitude 
      to life.";
On Event 200 "cloud of dust";
}

Monster "ooze mephit" : 48, 15
{
Image: green 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 14, Dex 10, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 3;
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Immune: 0x00000004;
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Spells: $"grease", $"stinking cloud";
Flags: 1, 12, 79, 38, 88,
55, 40;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Ooze mephits are squat humanoids with eternally greasy
      skin, giving off an offensive odor and delighting in 
      shocking everyone around them with their perversity.";
On Event 200 "glob of slime";
}

Monster "earth mephit" : 48, 15
{
Image: green 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 17, Dex 8, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 13;
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Spells: $"soften stone", $"enlarge";
Flags: 1, 12, 79, 88,
55, 40;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Stocky and broad-shouldered, earth mephits have a stubborn
      and petty cast to their personalities.";
On Event 200 "spray of tiny stones";
}

Monster "salt mephit" : 48, 15
{
Image: white 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 10, Dex 17, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 1d4 24 (DC 14) and
3d4 62 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080, 0x00000002;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"glitterdust", $"dehydrate";
Flags: 1, 12, 79, 38, 88,
55, 39;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Salt mephits appear as albino humanoids with bleary eyes
      and a bored and apathetic demeanor.";
On Event 200 "spray of salt crystals";
}

Effect "dehydrate" : 4
{
Cost: 3; Flags: 82, 4; 0x00000080;
xval: 0; tval: 75; pval: 2d4; sval: 0 partial;
On Event 28 {
EVictim->LoseFatigue(e.Resist ? 1 : 2, false);
return 0;
};
Desc: "This unique ability of the salt mephit dehydrates a
      living creature, costing it 2d4 hit points (untyped damage)
      and 2 fatigue points. A successful fortitude save halves
      both losses.";
}

Monster "air mephit" : 48, 15
{
Image: light blue 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 8, Dex 17, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 2d4 13 and
0d0 67 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"blur", $"gust of wind";
Flags: 1, 12, 79, 39, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Air mephits are thin, graceful creatures resembling a
      cross between a pixie and an imp. Their hyperactive
      mindset irritates all who must spend time with them.";
On Event 200 "blast of compressed air";
}

Monster "fog mephit" : 48, 15
{
Image: cyan 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 8, Dex 17, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 1;
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080, 0x00000001;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"obscurement", $"color spray";
Flags: 1, 12, 79, 39, 88,
55, 38;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Fog mephits are plump and ponderous, slow to act and
      easily distracted by anything getting in their way.";
On Event 200 "cone of scalding steam";
}



Monster "janni" : 43
{
Image: blue 'J'; Size: 4;
CR: 6; HD: 6; Hit: +6; Def: 11; Mov: 70%; Spd: 100%;
Str 16, Dex 15, Con 12, Int 14, Wis 15, Cha 13;
Attk: 1 for 1d3 13;
Stati[39,61,2];
Stati[39,10,5];
Stati[39,42,6];
Stati[39,91,2];
Flags: 1, 72, 79, 80, 86,
13, 88;
Feats: 11, 9, 8, 13,
32, 36, 40, 3, 44,
(((49 + 1) + 32) + 14), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((49 + 1) + 32) + 50) + 13),
2;
Resists: 0x00000001;
Gear: $"scimitar" of random 0 to 3,
$"long bow", 3d6 $"sheaf arrow",
$"chainmail";
Spells: $"invisibility", $"enlarge", $"reduce", $"create food and water";
Desc: "The weakest of the true genies, jann are formed from the intersection
      of all four elements: earth, air, fire and water. The jann are a cultured
      people, lacking the arrogance of the other genie races yet often unwilling
      to involve themselves in others' struggles. The jann have a very open
      society, with a bent toward responsible individualism and equal privlidge
      for both genders.";
}



Monster "djinni" : 43, 93
{
Image: skyblue 'J'; Size: 5;
CR: 8; HD: 7; Hit: +7; Def: 13; Mov: 200%; Spd: 125%;
Str 18, Dex 19, Con 14, Int 14, Wis 15, Cha 15;
Attk: 19 for 1d8 13,
19 for 1d8 13;
Stati[39,61,2];
Stati[39,40,1];
Stati[39,57,1];
Stati[39,111,1];
Stati[39,42,6];
Stati[39,91,10];
Flags: 1, 72, 79, 80, 86, 43,
13, 14, 88, 52, 50, 53;
Feats: (((49 + 1) + 32) + 14), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13),
11, 9, 8, 13,
32, 43, 36, 40, 3,
44;
Immune: 0x00000004, 0x00000008;
Gear: random 21 of random 1 to 2,
random 47 of random 1 to 2,
random 47 of random 1 to 2;
Spells: $"invisibility", $"obscurement", $"create food and water";
Desc: "The djinn (singular djinni) are genies from the Elemental Plane
      of Air. A djinni is about 10-1/2 feet tall and weighs about 1,000 pounds.
      Djinn disdain physical combat, preferring to use their magical powers
      and aerial abilities against foes. A djinni overmatched in combat
      usually takes flight and becomes a whirlwind to harass those who
      follow.";
}

Monster "efreeti" : 43, 95
{
Image: red 'J'; Size: 5;
CR: 9; HD: 10; Hit: +10; Def: 16; Mov: 200%; Spd: 150%;
Str 23, Dex 17, Con 14, Int 12, Wis 15, Cha 15;
Attk: 19 for 1d8 13 and 1d8 1,
19 for 1d8 13 and 1d8 1;
Stati[39,61,2];
Stati[39,40,1];
Stati[39,42,6];
Stati[39,91,10];
Flags: 1, 72, 79, 80, 86,
13, 14, 88, 51, 49, 53;
Feats: (((49 + 1) + 32) + 14), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13),
11, 9, 8, 13,
32, 43, 36, 40, 3,
44;
Immune: 0x00000001;
Gear: random 21 of random 2 to 3,
random 47 of random 1 to 6,
random 47 of random 1 to 6,
random 47 of random 1 to 6;
Spells: $"invisibility", $"produce flame", $"scorcher", $"wall of fire",
$"polymorph other", $"enlarge", $"reduce";
Desc: "The efreet (singular efreeti) are genies from the Elemental
    Plane of Fire. An efreeti stands about 12 feet tall and weighs about
    2,000 pounds. Efreet love to mislead, befuddle, and confuse their
    foes. They do so for enjoyment as well as a battle tactic.";
}
#line "mon4.irh" 2812
Monster "azer" : 44, 87, 63
{ Image: pink 'K'; Size: 4;
CR: 4; HD: 2; Def: 16; Hit: +2; Mov: 100%; Spd: 100%;
Str 16, Dex 13, Con 13, Int 12, Wis 12, Cha 9; Mana: 20;
Attk: 19 for 1d6 1,
54 for 1d3 1;
Stati[39,42,6];
Stati[118,18,40];
Immune: 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7, 9, 32,
((49 + 1) + 15);
Spells: $"flame blade";
Flags: 1, 41, 51;
Desc: "An offshoot of dwarves native to the elemnental plane of
      fire, the azer are a highly structured and authoritarian race.
      While not evil, they are militaristic and eager for conquest.
      They appear as dwarves with skin of bronze, flames wreathing
      their faces where a beard would normally rest.";
Gear: 33% $"dwarven waraxe" else 50% $"battleaxe" else $"warhammer",
33% $"banded mail" else
50% $"breastplate" else $"field plate armor",
$"kite shield";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(67))
h->AddQuality(67);
}
return 0;
};
}

Monster "azerkin" : 44, 87, 63
{ Image: pink 'K'; Size: 4;
CR: 2; HD: 2; Def: 10; Hit: +2; Mov: 100%; Spd: 100%;
Str 16, Dex 13, Con 13, Int 12, Wis 12, Cha 9;
Attk: 1 for 1d2 13,
54 for 1d3 1;
Stati[39,42,6];
Immune: 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7, 9, 32,
((49 + 1) + 15);
Flags: 1, 41, 51;
Desc: "An offshoot of dwarves native to the elemnental plane of
      fire, the azer are a highly structured and authoritarian race.
      While not evil, they are militaristic and eager for conquest.
      They appear as dwarves with skin of bronze, flames wreathing
      their faces where a beard would normally rest. The azerkin are
      the result of azer breeding with prime material dwarves -- they
      retain the firey aura of the azer but lack their magic resistance and
      innate melee defense.";
Gear: 33% $"dwarven waraxe" else 50% $"battleaxe" else $"warhammer",
33% $"banded mail" else
50% $"breastplate" else $"field plate armor",
$"kite shield";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(67))
h->AddQuality(67);
}
return 0;
};
}


Monster "dust devil;monster" : 29, 44
{
Image: brown 'K'; Size: 3;
CR: 2; HD: 2; Hit: +2; Def: 15; Mov: 150%; Spd: 150%;
Str 8, Dex 15, Con 10, Int 4, Wis 7, Cha 5;
Attk: 19 for 1d4 13 and 67 (DC 14);
Stati[39,111,1];
Stati[39,36,9];
Stati[39,13,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Resists: 0x00000008, 0x00000400, 0x00000800;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27);
Flags: 10, 35, 2, 3,
4, 5, 66, 88, 39,
40, 13, 6;
Desc: "A weak cousin of the true air elemental, the dust devil
      is a miniature whirlwind of sand the size of a halfling.
      Elementally-aspected clerics and druids often send these beings 
      out on errands for them.";
}

Monster "thoqqua" : 44, 95, 79
{ Image: pink 'K'; Size: 4;
CR: 1; HD: 3; Hit: +1; Def: 17; Mov: 70%; Spd: 100%;
Str 15, Dex 13, Con 13, Int 6, Wis 12, Cha 10;
Attk: 19 for 1d6 13,
54 for 2d6 1;
Stati[39,96,10];
Stati[39,95,6];
Feats: 22, 32, 35;
Flags: 66, 3, 4, 2,
6, 7, 27, 41, 40;
Desc: "The thoqqua, or lavaworm, radiates a body heat strong
      enough to melt solid rock. It is native to the elemental
      plane of fire, appears as a large segmented worm with a skin of 
      rock and a pointed tip glowing red with heat. Thoqqua are 
      ill-tempered creatures, but are often found in the company of 
      gnomes, who can use their empathy with burrowing creatures 
      to tame these beasts.";
}

Monster "vampiric mist" : 44, 93
{
Image: red 'K'; Size: 5;
CR: 1; HD: 4; Hit: +4; Def: 10; Mov: 30%; Spd: 70%;
Dex 12, Int 3, Wis 12, Cha 13;
Attk: 9 for 1d8 73
and 66 (DC 16),
37 for 3d4 73;
Stati[39,94,15];
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Resists:0x00000001;
Feats: 32;
Flags: 49, 53, 3, 2, 5,
4, 66, 88, 12, 73,
10, 39, 38, 19;
}

Monster "blinding mist" : 44, 93
{
Image: bright yellow 'K'; Size: 5;
CR: 0; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Dex 18, Int 3, Wis 18, Cha 13;
Attk: 9 for 1d8 24 (DC 18),
9 for 1d8 9;
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000001;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 44, 32;
Flags: 49, 53, 3, 2, 5,
4, 66, 88, 12, 72,
10, 39, 41, 19, 57;
}

Monster "fog elemental" : 44, 93
{
Image: bright white 'K'; Size: 5;
CR: 6; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Dex 18, Int 3, Wis 18, Cha 13; Mana: 50;
Attk: 19 for 1d8 13 and
1d2 61 (DC 15),
53 for 1d2 26 (DC 15);
Stati[39,111,2];
Stati[39,57,1];
Stati[39,42,9];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Spells: $"obscurement", $"wall of fog";
Feats: 44, 32;
Flags: 49, 53, 3, 2, 5, 4,
4, 66, 88, 12,
10, 39, 38, 19, 23,
57, 14;
Stati[100,2];
On Event 209
"It is innately invisible.";
}

Monster "storm elemental" : 44
{
Image: blue 'K'; Size: 5;
CR: 8; HD: 6; Hit: +6; Def: 10; Mov: 150%; Spd: 100%;
Dex 18, Int 3, Wis 18, Cha 13; Mana: 50;
Attk: 19 for 3d4 13 and
3d4 4 and
1d2 61 (DC 18),
53 for 1d2 67 (DC 18);
Stati[39,111,3];
Stati[39,57,1];
Stati[39,42,9];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000008;
Spells: $"rainstorm", $"lightning bolt";
Feats: 44, 32;
Flags: 49, 53, 3, 2, 5, 4,
4, 66, 88, 12,
10, 39, 38, 19, 23,
57, 14, 45;
Stati[177,74];
On Event 156 {
ThrowEff(52,$"rainstorm",EActor,EActor,NULL,NULL);
} ;
}

Monster "ice serpent" : 38, 52
{ Image: white 'E'; Size: 5;
CR: 4; HD: 6; Hit: 3; Def: 10; Mov: 250%; Spd: 115%;
Str 20, Dex 25, Con 16, Int 4, Wis 13, Cha 11;
Attk: 5 for 0d0 63 (DC -1),
32 for 1d8 13,
32 for 2d4 2;
Stati[39,105,1];
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000002;
Feats:
36, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 66, 10, 3, 2, 4,
39, 42, 5, 88;
Desc: "The ice serpent is an unusual variety of air elemental composed
    of frigid air in serpentine motion. Ice serpents do not fly.";
}

Monster "xorn" : 44, 94
{ Image: grey 'K'; Size: 4; Arm: 8;
CR: 6; HD: 7; Hit: 5; Def: 10; Mov: 75%; Spd: 75%;
Str 17, Dex 10, Con 15, Int 10, Wis 11, Cha 10;
Attk: 7 for 4d6 12,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,95,6];
Stati[39,42,6];
Stati[39,30,12];
Immune: 0x00000001, 0x00000002; Resists: 0x00000400, 0x00000008;
Feats: 21, 32, 36, 41,
44, ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 60, 3, 4, 27,
40, 66, 40, 24;
Desc: "Xorn are strange creatures from the elemental plane
      of Earth, composed of both flesh and living rock. 
      Essentially a large, ambulatory maw, the xorn has
      a triply-symmetrical anatomy, with three clawed arms, three 
      eyes and three stubby cloven feet, each equally spaced along
      its cylindrical body. The mouth is as the top, with the
      entire core of the creature as one large stomach. The xorn
      thus has no head or face.";
}

Monster "minor xorn" : 44, 94
{ Image: grey 'K'; Size: 4; Arm: 4;
CR: 2; HD: 3; Hit: 2; Def: 10; Mov: 75%; Spd: 75%;
Str 15, Dex 10, Con 15, Int 10, Wis 11, Cha 10;
Attk: 7 for 2d8 12,
6 for 1d3 11,
6 for 1d3 11,
6 for 1d3 11,
102 for $"xorn";
Stati[39,95,6];
Stati[39,42,6];
Stati[39,30,12];
Immune: 0x00000001, 0x00000002; Resists: 0x00000400, 0x00000008;
Feats: 21, 32, 36, 41,
44, ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 60, 3, 4, 27,
40, 66, 40;
Desc: "Xorn are strange creatures from the elemental plane
      of Earth, composed of both flesh and living rock. 
      Essentially a large, ambulatory maw, the xorn has
      a triply-symmetrical anatomy, with three clawed arms, three 
      eyes and three stubby cloven feet, each equally spaced along
      its cylindrical body. The mouth is as the top, with the
      entire core of the creature as one large stomach. The xorn
      thus has no head or face.";
On Event (19+1000) {
if (e.isHit)
EActor->IdentifyMon();
};
}

Monster "stone sentinel" : 38, 94
{ Image: brown 'E'; Size: 2; Arm: 2;
CR: 1; HD: 1; Hit: 1; Def: 6; Mov: 40%; Spd: 100%;
Str 8, Dex 8, Con 13, Int 3, Wis 11, Cha 11;
Attk: 19 for 1d2 13;
Stati[39,112,2];
Stati[39,42,6];
Stati[39,30,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Feats: 32, 44, (((49 + 1) + 32) + 44);
Flags: 1, 66, 3, 88, 40, 24;
Desc: "A stone sentinel is a very minor elemental creature created
      by a priest's magic; it resembles a foot-high rough stone homonuculous
      and has a playful, inquisitive nature.";
}
#line "mon4.irh" 3100
Monster "torch archon" : 34
{ Image: brown 'A'; Size: 3; Mana: 20;
CR: 0; HD: 1; Hit: +1; Def: 14; Mov: 200%; Spd: 100%;
Str 1, Dex 11, Con 10, Int 6, Wis 11, Cha 10;
Stati[39,105,1];
Stati[39,4,2];
Stati[39,73,5];
Stati[118,18,10];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 35), 4;
Flags: 51, 50, 53, 3, 2,
5, 88, 97, 90, 66,
19, 47, 13;
Spells: $"minor light ray", $"call light", $"aid", $"cure light wounds",
$"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000080|0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "The lowliest of celestials are still potent beings by
      mortal standards. Appearing as glowing globes of yellow
      radiance, these spirits of light and life can aid beleagured
      adventurers or fight the forces of evil with potent rays of
      holy light.";
}

Effect "Minor Light Ray" : 1
{ 0x00000010; Cost: 1; aval: 2; qval: 0x0001; cval: 14;
xval: 9; lval: 8; sval: 1 partial; pval: 1d8;
Purpose: 0x00001; On Event 200 "light ray";
Flags: 82;
Desc: "Projects a ray of light at the archon's enemies inflicting
      1d8 points of damage. A Reflex save halves the damage."; }
#line "mon4.irh" 3141
Monster "protectar" : 34, 87
{ Image: white 'A'; Size: 4; Mana: 12;
CR: 1; HD: 1; Hit: +1; Def: 10; Mov: 100%; Spd: 100%;
Str 15, Dex 12, Con 15, Int 10, Wis 12, Cha 15;
Attk: 1 for 1d2 13;
Stati[39,4,2];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 4, 44, 9,
11, 3, 17, 30,
29;
Spells: $"cure light wounds", $"bless", $"protection from evil";
Flags: 1, 50, 51, 53, 88,
12;
Gear:
25% $"long sword" +1 with [1]
else $"long sword",
50% $"kite shield",
50% $"ring mail" else
$"scale mail";
Desc: "Protectars form the rank and file of celestial armies.
      They are the blessed souls of dead warriors of light: brave,
      loyal, honest, moral and honorable. They appear as idealized
      humans with white feathered wings.";
}

Monster "shining torch archon" : 34
{ Image: yellow 'A'; Size: 3; Mana: 20;
CR: 2; HD: 2; Hit: +1; Def: 14; Mov: 200%; Spd: 100%;
Str 1, Dex 11, Con 10, Int 6, Wis 11, Cha 10;
Stati[39,105,1];
Stati[39,4,2];
Stati[39,73,5];
Stati[118,18,15];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 35), 4;
Flags: 51, 50, 53, 3, 2,
5, 88, 97, 66, 13,
19, 47;
Spells: $"minor light ray", $"call light",
$"aid", $"cure light wounds",
$"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000080|0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,3,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "These low celestials are still potent beings by
      mortal standards. Appearing as glowing globes of yellow
      radiance, these spirits of light and life can aid beleagured
      adventurers or fight the forces of evil with potent rays of
      holy light.";
}

Monster "ramadeen" : 34, 87
{ Image: brown 'A'; Size: 5; Mana: 7;
CR: 3; HD: 4; Hit: +3; Def: 10; Mov: 150%; Spd: 100%;
Str 21, Dex 12, Con 16, Int 12, Wis 14, Cha 17;
Attk: 8 for 1d8 13;
Stati[39,4,2];
Stati[39,42,6];
Stati[39,71,3];
Stati[39,79,4];
Stati[36,103];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 21), 4, 44,
9, 11, 3, 17,
30, 29;
Flags: 1, 50, 53, 88, 15;
Gear:
25% $"scimitar" +1 with [1]
else $"scimitar",
$"plate mail";
Desc: "Ramadeen are second-tier celestial warriors with features
      derived from humans and rams. Clad in heavy armor and wielding
      scimitars forged from divine steel, they lead divine charges
      and rally the heavenly armies of protectars.";
On Event 209
"It can smite evil as a 4th level paladin.";
}

Monster "lantern archon" : 34
{ Image: bright red 'A'; Size: 3; Mana: 20;
CR: 5; HD: 4; Hit: +3; Def: 14; Mov: 200%; Spd: 120%;
Str 1, Dex 15, Con 14, Int 10, Wis 15, Cha 14;
Attk:
9 for 1d2 24 (DC 16) and 1d8 9;
Stati[39,105,1];
Stati[39,4,2];
Stati[39,73,5];
Stati[118,18,20];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 35), 4;
Flags: 51, 50, 53, 3, 2,
5, 88, 97, 66,
19, 47;
Spells: $"major light ray", $"call light",
$"aid", $"cure light wounds",
$"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000080|0x00000004|0x00000002|0x00000020,
EActor->x,EActor->y,4, 15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "These low celestials are still potent beings by
      mortal standards. Appearing as glowing globes of yellow
      radiance, these spirits of light and life can aid beleagured
      adventurers or fight the forces of evil with potent rays of
      holy light.";
}

Effect "Major Light Ray" : 1
{ 0x00000010; Cost: 1; aval: 2; qval: 0x0001; cval: 14;
xval: 9; lval: 8; sval: 1 partial; pval: 3d8;
Purpose: 0x00001; On Event 200 "light ray";
Flags: 82;
Desc: "Projects a ray of light at the archon's enemies inflicting
      3d8 points of damage. A Reflex save halves the damage."; }

Monster "hound archon" : 34, 6, 11
{ Image: grey 'A'; Size: 4;
CR: 6; HD: 6; Hit: +8; Def: 19; Mov: 150%; Spd: 130%; Arm 10;
Str 15, Dex 10, Con 13, Int 10, Wis 13, Cha 12;
Attk: 7 for 1d8+2 12
and 67 (DC 16),
19 for 1d4+1 13,
101 for $"winter wolf";
Stati[39,71,6];
Stati[39,4,6];
Stati[39,42,6];
Stati[118,18,((16*5)-50)];
Stati[39,94,12];
Immune: 0x00000008, 0x00040000;
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
8, 18, 22, 32, 36, 44;
Flags: 1, 51, 50, 53,
5, 88, 97;
Spells: $"flame strike", $"aid", $"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "Hound archons look like well-muscled humans with canine heads.";
}




Monster "barghest" : 48, 6, 19
{
Image: red 'd'; Size: 4;
CR: 6; HD: 6; Hit: 9; Def: 16; Mov: 100%; Spd: 130%;
Str 17, Dex 15, Con 13, Int 14, Wis 14, Cha 14;
Arm: 5;
Attk: 7 for 1d6+3 12
and 0d0 67 (DC 17),
6 for 1d4+1 11,
6 for 1d4+1 11,
101 for $"goblin",
101 for $"wolf";
Stati[124,18,4];
Stati[39,42,6];
Feats: 44, 18, 36,
(((49 + 1) + 32) + 14), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Spells: $"charm monster", $"emotion", $"blink", $"levitation", $"dimension door";
Flags: 51, 49, 88, 11;
Desc: "A barghest is a lupine fiend that can take the shape of a wolf
    or a goblin. In its natural form, it resembles a goblin-wolf hybrid
    with terrible jaws and sharp claws. As whelps, barghests are nearly
    indistinguishable from wolves, except for their size and claws. As they
    grow larger and stronger, their skin darkens to bluishred and
    eventually becomes blue altogether.  A full-grown barghest is about 6
    feet long and weighs 180 pounds. A barghest's eyes glow orange when the
    creature becomes excited.";
}

Monster "greater barghest" : 48, 6, 19
{
Image: pink 'd'; Size: 5;
CR: 8; HD: 9; Hit: 13; Def: 19; Mov: 100%; Spd: 145%;
Str 20, Dex 15, Con 16, Int 18, Wis 18, Cha 18;
Arm: 10;
Attk: 7 for 1d8+5 12
and 0d0 67 (DC 17),
6 for 1d6+2 11,
6 for 1d6+2 11,
101 for $"hobgoblin",
101 for $"wolf";
Stati[124,18,4];
Stati[39,42,6];
Feats: 44, 18, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
(((49 + 1) + 32) + 14), (((49 + 1) + 32) + 11);
Spells: $"charm monster", $"emotion", $"blink", $"levitation", $"dimension door",
$"invisibility", $"bull's strength", $"enlarge";
Flags: 51, 49, 88, 11;
Desc: "A barghest that reaches 9 Hit Dice through feeding becomes a
    greater barghest. These creatures can change shape into a goblinlike
    creature of Large size (about 8 feet tall and 400 pounds) or a winter
    wolf. In hobgoblin form, a greater barghest cannot use its natural weapons
    but can wield weapons and wear armor.";
Gear:
10% random 58 of random 2 to 3;
}

Monster "vaporighu" : 48, 59
{ Image: grey 'O'; Size: 4;
CR: 9; HD: 10; Hit: +10; Def: 10; Mov: 100%; Spd: 100%;
Str 15, Dex 9, Con 16, Int 13, Wis 8, Cha 10;
Attk: 19 for 1d8 13 and 1d8 3,
19 for 1d8 13 and 1d8 3,
60 for 3d6 3,
53 for 2d4 28 (DC 15),
42 for 2d10 3
and 2d10 5
and 1d4 18 (DC 15);
Stati[39,105,1];
Stati[39,42,6];
Stati[39,100,3];
Spells: $"animate objects", $"enlarge", $"fly", $"call light",
$"produce flame", $"sleep",
$"summon night hag";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((49 + 1) + 32) + 50) + 38) + 9), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
5, 8, 29, 20,
32, 43, 44;
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
},
209
"Once a character has made one successful save against a vaporighu's fear,
        that character is immune to that specific vaporighu's fear for the remainder
        of the day.";
Desc: "Native inhabitants of Gehenna, the vaporighu are sometimes
      called slime apes, and the description fits. These repellant
      creatures have a primitive appearance somewhere between a
      neanderthal and a great, obese ape, with curved tusks like a boar or
      an orc. Where their flesh is exposed, it a a thick, rough grey
      hide like an elephant's, but the majority of their body is
      covered with a tangled mass of stringy grey hair and a thick
      layer of ropy, mucus-like slime. They eminate a terrible stench
      of decay and putrescent flesh.\n
      __Vaporighu are technically sapient creatures, but seem to prefer
      living a life of crude  beastiality and forsaking any kind of
      intelligent or civilized conduct. They are solitary and have little
      or no society, living to prey on those weaker then them and enjoy
      the sadistic pleasures of the Lower Planes.";
}

0 Effect "Summon Night Hag" : 9
{ rval: $"night hag"; pval:0; Flags: 82;
On Event 155 {
if (EActor->HasEffStati(72,$"Summon Night Hag"))
return -1;
return 0;
},
52 {
if (EActor->HasEffStati(72,$"Summon Night Hag"))
{
EActor->IPrint("You can only summon a night hag once per day.");
return 2;
}
EActor->GainTempStati(72,NULL,-2,7,0,0,$"Summon Night Hag");
};
Desc: "Once per day, a vaporighu can call upon their ties
      to the plane of Gehenna in order to summon a friendly
      night hag to their aid.";
}

Monster "grid bug" : 31, 48, 117
{ Image: purple 'x'; Size: 3;
CR: -4; HD: 1; Hit: +1; Def: 10; Mov: 80%; Spd: 100%;
Str 10, Dex 14, Con 10, Int 3, Wis 5, Cha 4;
Attk: 7 for 1d3 4;
Stati[39,42,4];
Immune: 0x00100000, 0x00010000, 0x00000008, 0x00008000, 0x00000010, 0x00002000;
Flags: 3, 4, 66, 55, 88,
51, 53, 19;
On Event 1 {
if (e.EDir == 5)
{ if (random(2)) e.EDir = 0; else e.EDir = 3; }
if (e.EDir == 4)
{ if (random(2)) e.EDir = 0; else e.EDir = 2; }
if (e.EDir == 7)
{ if (random(2)) e.EDir = 1; else e.EDir = 3; }
if (e.EDir == 6)
{ if (random(2)) e.EDir = 1; else e.EDir = 2; }
},
(20+1000) {
if (e->AType == 7)
{ DPrint(e,"Fzzt!","Fzzt!"); e.Terse = true; }
return 0;
};
Desc: "These strange beings appear as glowing crystaline spiders,
      perfect in their geometry. They are native to the Clockwork Nirvana
      of Mechanus, where they serve as builders, drones and enforcers.
      When on Therya, they are almost always violent, driven to near-
      insanity by the disorder in the world around them. Grid bugs
      are notorious for their rigidly aligned patterns of movement.";
Lists:
* 100 $"grid bug enforcer";
}

Monster "grid bug enforcer" : 31, 48, 117
{ Image: bright purple 'x'; Size: 4;
CR: 4; HD: 4; Hit: +4; Def: 10; Mov: 150%; Spd: 120%;
Str 14, Dex 18, Con 14, Int 6, Wis 6, Cha 6;
Attk: 7 for 1d6 12 and 3d3 4;
Stati[39,42,9];
Immune: 0x00100000, 0x00010000, 0x00000008, 0x00008000, 0x00000010, 0x00002000;
Flags: 3, 4, 66, 55, 88,
51, 53, 19;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 44, 32;
On Event 1 {
if (e.EDir == 5)
{ if (random(2)) e.EDir = 0; else e.EDir = 3; }
if (e.EDir == 4)
{ if (random(2)) e.EDir = 0; else e.EDir = 2; }
if (e.EDir == 7)
{ if (random(2)) e.EDir = 1; else e.EDir = 3; }
if (e.EDir == 6)
{ if (random(2)) e.EDir = 1; else e.EDir = 2; }
},
(20+1000) {
if (e->AType == 7)
{ DPrint(e,"Fzzt!","Fzzt!"); e.Terse = true; }
return 0;
};
Desc: "These strange beings appear as glowing crystaline spiders,
      perfect in their geometry. They are native to the Clockwork Nirvana
      of Mechanus, where they serve as builders, drones and enforcers.
      When on Therya, they are almost always violent, driven to near-
      insanity by the disorder in the world around them. Grid bugs
      are notorious for their rigidly aligned patterns of movement.
      Enforcers are larger, stronger and capable of slightly more
      autonomous thought than standard grid bugs. They are also quite
      adept at skittering out of the way of potential attacks.";
Lists:
* 101 $"grid bug";
}

Monster "nightmare" : 24, 48
{
Image: red 'q'; Size: 5;
CR: 8; HD: 6; Hit: 6; Def: 23; Mov: 200%; Spd: 130%;
Str 18, Dex 15, Con 16, Int 13, Wis 13, Cha 12;
Attk: 2 for 1d8+4 13 and 1d4 1,
2 for 1d8+4 13 and 1d4 1,
7 for 1d8+2 12;
Stati[39,42,6];
Stati[39,61,2];
Stati[39,61,3];
Feats: 32, 44, 41,
((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21);
Flags: 35, 37, 3, 88,
11;
}

Monster "phase spider" : 26, 48
{
Image: skyblue 's'; Size: 5;
CR: 4; HD: 5; Def: 13; Hit: +4; Mov: 150%; Spd: 120%;
Str 17, Dex 17, Con 16, Int 7, Wis 13, Cha 10;
Attk: 7 for 1d6 12 and 60 (DC 15);
Stati[39,61,3];
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 7, 36, 44,
(((49 + 1) + 32) + 9);
Immune: 0x00002000;
Flags: 7, 3, 36, 57;
Desc: "As large as a small wagon, the phase spider is a fearsome
      arachnid with the ability to slip in and out of the etherial
      plane at will. Its light grey body is covered with deep navy
      splotches and markings, the pattern unique to each individual
      spider.";
Poison: $"phase spider venom";
}

Poison "phase spider venom" : 4
{
Level: 9;
cval: 4;
sval: 15;
lval: 10;
xval: 50; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Strength damage every 
      <11>4<7> turns, and requires <11>10<7> (!!) saving throws against 
      <11>DC 15<7> to overcome.";
}

Monster "rakshasa" : 48, 11, 87
{
Image: red 'O'; Size: 4;
CR: 10; HD: 7; Def: 19; Hit: +7; Mov: 150%; Spd: 135%;
Str 12, Dex 14, Con 16, Int 17, Wis 13, Cha 13;
Arm: 15; Attk: 7 for 1d6 12,
6 for 1d4+1 11,
6 for 1d4+1 11;
Stati[39,42,6];
Stati[39,82,7];
Stati[118,18,((27*5)-50)];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), (((49 + 1) + 32) + 44),
8, 32, 36, 44,
43, 34;
Flags: 51, 49, 1, 88, 111;
Gear:
2d3 $"potion" of $"extra-healing",
2d3 $"potion" of $"*mana*",
$"ring" of random 2 to 13,
$"ring" of random 2 to 13;
Desc: "A closer look at a rakshasa reveals that the palms of its hands
    are where the backs of the hands would be on a human. A rakshasa is
    about the same height and weight as a human.";
Lists:
* 21
(50 + 1000);
}

Monster "rast" : 48, 95
{
Image: bright red 'O'; Size: 4; Mana: 40;
CR: 4; HD: 6; Hit: +6; Def: 14; Mov: 200%; Spd: 130%;
Str 14, Dex 12, Int 3, Wis 13, Cha 12;
Attk: 7 for 1d8+3 12,
43 for 0d0 12 and 1d6 18 (DC 13),
31 for 1d1 45;
Stati[39,42,6];
Stati[39,36,9];
Immune: 0x00000001;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
7, 13, 22, 32, 44,
36, 41;
Flags: 36, 3, 88;
Desc: "A rast has a body about the size of a large dog's, with a head
    almost as large as the body. It weighs about 200 pounds.";
}

Monster "tatterdemalion" : 48
{
Image: grey '@'; Size: 3; Mana: 10;
CR: 7; HD: 4; Hit: +4; Def: +14; Mov: 100%; Speed: 120%;
Str 16, Dex 20, Con 15, Int 12, Wis 14, Cha 10, Luc 10;
Arm: 10;
Attk:6 for 2d4+3 11
and 1d6 18 (DC 15),
6 for 2d4+3 11
and 1d6 18 (DC 15);
Stati[39,48,1];
Stati[39,42,6];
Flags: 36, 1, 88, 49, 52;
Feats:
18, 32, 6, 44,
(((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Immune: 0x00000010, 0x04000000, 0x00100000;
Desc: "Tatterdemalions appear as small, gaunt, starving children
    covered in hooded robes that are tattered and torn and dirty.
    Underneath the robes, however, they are far from children in
    appearance. They are hairless and their skin is oily and smells faintly
    of dead fish. Tatterdemalions are flesh eaters. They use their claws to
    paralyze a victim so that the flesh is still warm. They will not eat
    those that are dead.";
}




Monster "formian worker" : 48, 31, 117
{
Image: brown 'x'; Size: 3; Mana: 20;
CR: 1; HD: 2; Def: 14; Hit: +2; Mov: 150%; Spd: 100%;
Str 13, Dex 14, Con 13, Int 6, Wis 10, Cha 9;
Attk: 7 for 1d4 13;
Stati[39,42,6];
Immune: 0x00000010, 0x00040000, 0x00000002;
Resists: 0x00000001, 0x00000200, 0x00000008;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 9, 7, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 51, 95, 54, 66, 36, 37;
Spells: $"cure serious wounds";
Desc: "The lowest caste of the ant-like formians -- the outer-planar
      personification of lawful existance -- the worker appears as an ant
      creature the size of a doberman. Their mentality is very limited,
      and they tend to be non-hostile unless attacked or provoked, though
      they can easily panic when seperated from their superiors.";
Lists:
* 103 $"formian warrior",
* 100 $"formian warrior" $"formian taskmaster";
}

Monster "formian warrior" : 48, 31, 117
{
Image: yellow 'x'; Size: 4;
CR: 6; HD: 4; Def: 15; Hit: +7; Mov: 150%; Spd: 100%;
Str 17, Dex 16, Con 14, Int 10, Wis 12, Cha 11;
Attk: 7 for 1d4 13,
6 for 1d8 12,
10 for 2d4 12 and 0d0 60 (DC 14);
Stati[118,18,40];
Stati[39,42,6];
Immune: 0x00000010, 0x00040000, 0x00000002;
Resists: 0x00000001, 0x00000200, 0x00000008;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 7, 18, 32,
36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 1, 51, 95, 66, 36, 37;
Poison: $"formian venom";
Desc: "A humanoid ant-creature the size of a horse, the formian
      warrior is the absolute enforcement of outer-planar law, and
      serves as the local militia across the planes of law and 
      neutrality.";
Lists:
* 101 $"formian worker",
* 100 $"formian taskmaster";
}

Poison "formian venom" : 4
{
Level: 1;
cval: 7;
sval: 14;
lval: 6;
xval: 50; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>6<7> saving throws against <11>DC 14<7> 
      to overcome.";
}

Monster "formian taskmaster" : 48, 31, 117
{
Image: yellow 'x'; Size: 4;
CR: 8; HD: 6; Def: 16; Hit: +10; Mov: 150%; Spd: 130%;
Str 18, Dex 16, Con 14, Int 11, Wis 16, Cha 19;
Attk: 6 for 1d6+2 12,
6 for 1d6+2 12,
10 for 2d4+4 12 and 0d0 60 (DC 14);
Stati[118,18,((21*5)-50)];
Stati[39,42,6];
Immune: 0x00000010, 0x00040000, 0x00000002;
Resists: 0x00000001, 0x00000200, 0x00000008;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 7, 18, 32,
36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 1, 51, 95, 66, 36, 37;
Poison: $"formian venom";
Spells: $"dominate person";
Desc: "A humanoid ant-creature the size of a horse, the formian
      warrior is the absolute enforcement of outer-planar law, and
      serves as the local militia across the planes of law and 
      neutrality.";
Lists:
* 101 $"formian worker" $"formian warrior";
}

Monster "modron" : 36, 48, 117
{
Image: bright green 'C'; Size: 3; Mana: 12; Arm: 7;
CR: 1; HD: 2; Hit: +1; Def: 12; Mov: 80%; Spd: 80%;
Str 0, Dex 8, Con 0, Int 6, Wis 6, Cha 3;
Stati[39,42,6];
Stati[39,91,6];
Spells: $"force bolt", $"mending";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 9;
Flags: 3, 2, 4, 51, 53,
86;
Resists: 0x00000002, 0x00000001, 0x00000004;
Immune: 0x00100000, 0x00400000, 0x08000000, 0x02000000, 0x00080000, 0x00000040,
0x00000010;
Desc: "Modrons are the simplest of the naturally occuring geoform
      constructs on the lawful outer planes. Barely intelligent, they
      serve as workers and soldiers capable of completing only the
      simplest tasks unsupervised. A modron appears as a featureless
      cube of translucent emerald, hovering in the air; when on the
      Prime Material plane, they sometimes manifest an anthropomorphic
      face to better communicate with the natives.";
}

Monster "duodrone" : 36, 48, 117
{
Image: white 'C'; Size: 4; Mana: 12; Arm: 7;
CR: 2; HD: 4; Hit: +3; Def: 15; Mov: 120%; Spd: 120%;
Str 0, Dex 14, Con 0, Int 6, Wis 6, Cha 3;
Attk: 54 for 1d4 51;
Stati[39,42,6];
Stati[39,91,6];
Stati[176,10,10];
Spells: $"make whole";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 9;
Flags: 3, 2, 4, 51, 53,
86;
Resists: 0x00000002, 0x00000001, 0x00000004;
Immune: 0x00100000, 0x00400000, 0x08000000, 0x02000000, 0x00080000, 0x00000040,
0x00000010;
Desc: "The more agile duodrones are the second lowest (after the
      modrons) in the naturally occuring hierarchy of geoform
      constructs native to the lawful outer planes. They are capable
      of more complex tasks and tactics in combat. A duodrone appears as 
      a featureless pyramid of translucent quartz, hovering in the air; 
      when on the Prime Material plane, they sometimes manifest an 
      anthropomorphic face to better communicate with the natives.";
}



Monster "red slaad" : 48, 118
{
Image: bright red 'O'; Size: 5; Mana: 34; Arm: 5;
CR: 7; HD: 7; Hit: +5; Def: 15; Mov: 100%; Spd: 125%;
Str 19, Dex 13, Con 17, Int 6, Wis 6, Cha 8;
Attk: 7 for 2d8 12 and 27 (DC 17),
6 for 1d4 11,
6 for 1d4 11,
99 for 40% 118 (CR 7);
Stati[39,42,6];
Stati[39,66,5];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), 7, 22,
32, 44;
Flags: 52, 53, 1, 28, 36,
37, 27, 26, 14;
Resists: 0x00000004, 0x00000008, 0x00000001, 0x00000002, 0x00000200;
Disease: $"red slaad egg infestation"; Spells: $"stunning croak";
Desc: "Slaadi are inhabitants of Pandemonium, the Outer Plane aligned
      with pure, primordial chaos. They are frog-like humanoids with a
      fiercely independant streak, a hatred of domination and a cruel
      disposition.\n
      __Red slaadi are the weakest of their race, possessing limited
      intelligence and a cowardly outlook. They frequently seek to set
      up lairs away from other thinking beings, striving to preserve
      their freedom. More powerful slaadi also sometimes use them as
      shock troops and canon fodder.";
Lists:
* 103 $"blue slaad" $"green slaad",
* 100 $"blue slaad" $"green slaad";
}

Effect "Stunning Croak" : 3
{ xval: 5; sval: 0; Level: 4; aval: 11;
Purpose: 0x00001 | 0x00004;
cval: 4; lval: 3; Flags: 23;
Flags: 82, 34;
Desc: "A creature who hears the thunderous croak of a red slaad
      and fails her saving throw will be stunned for the duration
      of the effect."; }

Disease "red slaad egg infestation" : 4
{
Level: 7;
cval: 30;
sval: 20;
lval: 10;
xval: 52; pval: 1d2;
int32 vx, vy; hObj vmap;
On Event (41+500) {
#line "mon4.irh" 3820
if (EVictim != NULL && !EVictim->isDead()) {
vx = EVictim->x;
vy = EVictim->y;
vmap = EVictim->m;
}
return 0;
},
(41+1000) {
hObj mn;
if (EVictim != NULL && EVictim->isDead())
{
if (EVictim->CasterLev()) {
VPrint(e,NULL,"A green slaad tears its way out of the <EVictim>'s corpse!");
mn = CreateMonster($"green slaad");
}
else {
VPrint(e,NULL,"A blue slaad tears its way out of the <EVictim>'s corpse!");
mn = CreateMonster($"blue slaad");
}
mn->PlaceAt(vmap,vx,vy);
}
return 0;
};
Desc: "Red slaadi reproduce by implanting their eggs within a living
      victim. Once the eggs hatch, they devour the victim from within
      and emerge full-formed. This condition inflicts 1d2 point of 
      Constitution damage every 30 turns, and requires 10 successful
      saves against DC 20 to overcome. If it claims a victim, a new
      blue slaad appears where the victim died. Spellcasting victims 
      instead produce green slaadi.";
}

Monster "blue slaad" : 48, 118
{
Image: bright blue 'O'; Size: 5; Mana: 57; Arm: 5;
CR: 9; HD: 8; Hit: +7; Def: 18; Mov: 100%; Spd: 125%;
Str 19, Dex 15, Con 17, Int 6, Wis 6, Cha 10;
Attk: 7 for 2d8 12 and 27 (DC 17),
6 for 1d4 11,
6 for 1d4 11,
99 for 40% 118 (CR 7);
Stati[39,42,6];
Stati[39,66,5];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6),
7, 22, 36, 32, 44;
Flags: 52, 53, 1, 28, 36,
37, 27, 26, 14;
Resists: 0x00000004, 0x00000008, 0x00000001, 0x00000002, 0x00000200;
Disease: $"blue slaad transformation disease";
Spells: $"hold person", $"passwall",
$"chaos hammer";
Desc: "Slaadi are inhabitants of Pandemonium, the Outer Plane aligned
      with pure, primordial chaos. They are frog-like humanoids with a
      fiercely independant streak, a hatred of domination and a cruel
      disposition.\n
      __Blue slaadi are the most common of their race, and a violent
      and warlike. They form raiding tribes to attack the Prime Material,
      eager to test their mettle against new conquests.";
Lists:
* 103 $"blue slaad" $"green slaad",
* 100 $"green slaad",
* 101 $"red slaad";
}

Disease "blue slaad transformation disease" : 4
{
Level: 7;
cval: 30;
sval: 20;
lval: 10;
xval: 52; pval: 1d2;
int32 vx, vy; hObj vmap;
On Event (41+500) {
#line "mon4.irh" 3895
vx = EVictim->x;
vy = EVictim->y;
vmap = EVictim->m;
return 0;
},
(41+1000) {
hObj mn;
if (EVictim->isDead())
{
if (EVictim->CasterLev()) {
VPrint(e,NULL,"The <EVictim> changes into a green slaad!");
mn = CreateMonster($"green slaad");
}
else {
VPrint(e,NULL,"The <EVictim> changes into a red slaad!");
mn = CreateMonster($"red slaad");
}
mn->PlaceAt(vmap,vx,vy);
}
return 0;
};
Desc: "Blue slaadi reproduce by the means of a supernatural disease
      which changes other beings into red or green slaadi. This 
      condition inflicts 1d2 point of Constitution damage every 30 
      turns, and requires 10 successful saves against DC 17 to overcome. 
      If it claims a victim, a new red slaad appears where the victim 
      died. Spellcasting victims instead produce green slaadi.";
}

Monster "green slaad" : 48, 118
{
Image: bright green 'O'; Size: 5; Mana: 96; Arm: 5;
CR: 11; HD: 9; Hit: +7; Def: 22; Mov: 100%; Spd: 125%;
Str 19, Dex 13, Con 17, Int 10, Wis 10, Cha 10;
Attk: 7 for 2d8 12,
6 for 1d4 11,
6 for 1d4 11,
99 for 40% 118 (CR 7);
Stati[39,42,6];
Stati[39,66,5];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 7),
7, 18, 22, 36, 32,
44;
Flags: 52, 53, 1, 28, 36,
37, 27, 26, 14;
Resists: 0x00000004, 0x00000008, 0x00000001, 0x00000002, 0x00000200;
Spells: $"globe of shadow", $"chaos hammer", $"detect monsters",
$"ESP", $"fear", $"see invisibility", $"mirror image",
$"confusion", $"force bolt", $"cat's grace", $"summon swarm",
$"bull's strength";
Desc: "Slaadi are inhabitants of Pandemonium, the Outer Plane aligned
      with pure, primordial chaos. They are frog-like humanoids with a
      fiercely independant streak, a hatred of domination and a cruel
      disposition.\n
      __Green slaadi possess a human intelligence, and are cunning, patient
      and devious. Arrogant to a fault, they are eager to seek out new
      knowledge and to gain power in the anarchic society of Pandemonium.";
Lists:
* 101 $"blue slaad" $"green slaad",
* 103 $"blue slaad" $"green slaad";
}
#line "mon4.irh" 3963
Template "flame" : 0x0200 for 91
{
MType: 38; Glyph: red 0; CR: +3;
Attk:
54 for 1d10 1;
Stati[39,105,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000001;
Flags: 41, -2, !18, 19;
Desc: "Native to the elemental plane of fire, flame creatures
      appear as their mundane counterparts, but composed of living,
      congealed fire -- just like an elemental.";
On Event 155 {
if (enFreaky() % 10 != 7)
return -1;
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "earthen" : 0x0200 for 91
{
MType: 38; Glyph: brown 0; Arm: +6 (max 21); CR: +3;
Str +4, Dex -2;
Stati[39,105,1];
Stati[39,30,1];
Stati[39,95,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Flags: 40, -2, !18, 19;
Desc: "Native to the elemental plane of earth, stone creatures
      appear as their mundane counterparts, but composed of fluid rock,
      appearing like an animated, perfectly lifelike statue.";
On Event 155 {
if (enFreaky() % 10 != 7)
return -1;
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "gaseous" : 0x0200 for 91
{
MType: 38; Glyph: white 0; Mov: +20; CR: +2;
Dex +6;
Stati[39,105,1];
Stati[39,36,10];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Flags: 39, 13, 10, -2,
!18, 19;
Feats: ((((49 + 1) + 32) + 50) + 23);
Desc: "Native to the elemental plane of air, gaseous creatures
      appear as their mundane counterparts, but composed purely of
      abstract vapours.";
On Event 155 {
if (enFreaky() % 10 != 7)
return -1;
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "aqueous" : 0x0200 for 91
{
MType: 38; Glyph: azure 0; CR: +3;
Attk:
54 for 3d4 74 (DC 20),
19 for 1d4 13
and 66 (DC 20);
Stati[39,105,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Flags: 39, 10, -2,
!18, 19;
Desc: "Native to the elemental plane of water, aqueous creatures
      appear as their mundane counterparts, but composed of supernaturally
      animate water.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "celestial" : 0x0200 for 91
{ MType: 34; CR: +1; Wis +2, Cha +2;
HitDice: 150%;
Stati[39,42,6];
Stati[39,79,5];
Stati[118,18,35];
Resists: 0x00000004, 0x00000002, 0x00000008;
Flags: 50, !49, -2;
Desc: "Celestial creatures are the versions of normal creatures
      that dwell on the Upper Planes, and benefit from some of the
      same inherant traits that true celestials do.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;

if (EActor->HasMFlag(53) && !EActor->HasMFlag(50))
return -1;
return 0;
};
}

Template "fiendish" : 0x0200 for 91
{ CR: +1; Str +2, Con +2;
HitDice: 125%;
Stati[39,42,6];
Stati[118,18,35];
Resists: 0x00000001, 0x00000002;
Flags: !50, 49, -2;
Desc: "Fiendish creatures are the versions of normal creatures
      that dwell on the Lower Planes, and benefit from some of the
      same inherant traits that true fiends do.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;

if (EActor->HasMFlag(53) && !EActor->HasMFlag(49))
return -1;
return 0;
};
}
#line "mon4.irh" 4112
Template "half-celestial" : 0x0100 for 91
{
CR: +2; MType: 34; Def: +2; Spd: +25%;
Str +4, Dex +2, Con +4, Int +2, Wis +4, Cha +4;
Desc: "Celestials often take mates from among the more virtious
      creatures on the Prime Material plane, and their magical nature
      allows these unions to produce offspring -- mortal creatures
      with the blood of angels in their veins. Regardless of the 
      nature of the celestial parent, half-celestials allways appear
      as members of their base species, but with beautiful, white
      feathered wings upon which they can fly.";
Immune: 0x00000002, 0x00000004, 0x04000000, 0x00000008;
Flags: 50, !49, 12;
On Event 156 {
EActor->GainPermStati(123,NULL,3,8,4,$"half-celestial");
EActor->GainPermStati(42,NULL,3,0,0,$"call light");
if (EActor->ChallengeRating() >= 3)
EActor->GainPermStati(42,NULL,3,0,0,$"protection from evil");
if (EActor->ChallengeRating() >= 4)
EActor->GainPermStati(42,NULL,3,0,0,$"bless");
if (EActor->ChallengeRating() >= 5)
EActor->GainPermStati(42,NULL,3,0,0,$"detect evil");
if (EActor->ChallengeRating() >= 6)
EActor->GainPermStati(42,NULL,3,0,0,$"cure serious wounds");
if (EActor->ChallengeRating() >= 7)
EActor->GainPermStati(42,NULL,3,0,0,$"neutralize poison");
if (EActor->ChallengeRating() >= 8)
EActor->GainPermStati(42,NULL,3,0,0,$"holy smite");
if (EActor->ChallengeRating() >= 9)
EActor->GainPermStati(42,NULL,3,0,0,$"cure disease");
if (EActor->ChallengeRating() >= 10)
EActor->GainPermStati(42,NULL,3,0,0,$"holy summoning V");
return 0;
},
155 {
if (!EActor->isMType(85))
return -1;
return 0;
},
209
"It has a +4 racial bonus to saving throws versus poison. Based on its final
        CR, it will have access to some of the following spell-like abilities, in
        the order listed: <1>Call Light<7>, <1>Protection from Evil<7>, <1>Bless<7>,
        <1>Detect Evil<7>, <1>Cure Serious Wounds<7>, <1>Neutralize Poison<7>, 
        <1>Holy Smite<7>, <1>Cure Disease<7> and <1>Holy Summoning V<7>.";
}

Template "half-fiend" : 0x0100 for 91
{
CR: +2; MType: 48; Arm: +4;
Str +4, Dex +4, Con +2, Int +4, Cha +2;
Desc: "Fiends are infamous for using sexuality to corrupt humans --
      especially succubi and erinyes -- but any fiend can have congress
      with a human victim, and due to the fiend's metaphyical nature,
      these unions can produce children. Half-fiends are monsterous
      things, resembling their mortal parent's species but with claws,
      fangs and other monsterous traits, and instinctually driven to acts
      of violence and general psychopathic conduct.";
Immune: 0x00000010; Resists: 0x00000004, 0x00000002, 0x00000001, 0x00000008;
Flags: !50, 49;
On Event 156 {
EActor->GainPermStati(42,NULL,3,0,0,$"globe of shadow");
if (EActor->ChallengeRating() >= 3)
EActor->GainPermStati(42,NULL,3,0,0,$"desecrate");
if (EActor->ChallengeRating() >= 4)
EActor->GainPermStati(42,NULL,3,0,0,$"produce flame");
if (EActor->ChallengeRating() >= 5)
EActor->GainPermStati(42,NULL,3,0,0,$"bestow curse");
if (EActor->ChallengeRating() >= 6)
EActor->GainPermStati(42,NULL,3,0,0,$"unholy blight");
if (EActor->ChallengeRating() >= 7)
EActor->GainPermStati(42,NULL,3,0,0,$"contagion");
if (EActor->ChallengeRating() >= 8)
EActor->GainPermStati(42,NULL,3,0,0,$"animate dead");
if (EActor->ChallengeRating() >= 9)
EActor->GainPermStati(42,NULL,3,0,0,$"enervation");
if (EActor->ChallengeRating() >= 10)
EActor->GainPermStati(42,NULL,3,0,0,$"thornwrack");
return 0;
},
209
"It has a +4 racial bonus to saving throws versus poison. Based on its final
        CR, it will have access to some of the following spell-like abilities, in
        the order listed: <1>Globe of Shadow<7>, <1>Desecrate<7>, <1>Produce
        Flame<7>, <1>Bestow Curse<7>, <1>Unholy Blight<7>, <1>Contagion<7>, 
        <1>Animate Dead<7>, <1>Enervation<7> and <1>Thornwrack<7>.";
}
#line "flavors.irh" 2
Flavor "clear" : 1 { Color: white; }

Flavor "crimson" : 1 { Color: red; }
Flavor "black" : 1 { Color: black; }
Flavor "emerald" : 1 { Color: bright green; }
Flavor "amber" : 1 { Color: brown; }
Flavor "silvery" : 1 { Color: white; }
Flavor "white" : 1 { Color: grey; }
Flavor "tan" : 1 { Color: brown; }
Flavor "orange" : 1 { Color: pink; }
Flavor "violet" : 1 { Color: purple; }
Flavor "red" : 1 { Color: red; }
Flavor "blue" : 1 { Color: blue; }
Flavor "green" : 1 { Color: green; }
Flavor "yellow" : 1 { Color: yellow; }
Flavor "indigo" : 1 { Color: blue; }

Flavor "viscious crimson" : 1 { Color: red; }
Flavor "viscious black" : 1 { Color: black; }
Flavor "viscious emerald" : 1 { Color: bright green; }
Flavor "viscious amber" : 1 { Color: brown; }
Flavor "viscious silvery" : 1 { Color: white; }
Flavor "viscious white" : 1 { Color: grey; }
Flavor "viscious tan" : 1 { Color: brown; }
Flavor "viscious orange" : 1 { Color: pink; }
Flavor "viscious violet" : 1 { Color: purple; }
Flavor "viscious red" : 1 { Color: red; }
Flavor "viscious blue" : 1 { Color: blue; }
Flavor "viscious green" : 1 { Color: green; }
Flavor "viscious yellow" : 1 { Color: yellow; }
Flavor "viscious indigo" : 1 { Color: blue; }

Flavor "glowing crimson" : 1 { Color: red; }
Flavor "glowing black" : 1 { Color: black; }
Flavor "glowing emerald" : 1 { Color: bright green; }
Flavor "glowing amber" : 1 { Color: brown; }
Flavor "glowing silvery" : 1 { Color: white; }
Flavor "glowing white" : 1 { Color: grey; }
Flavor "glowing tan" : 1 { Color: brown; }
Flavor "glowing orange" : 1 { Color: pink; }
Flavor "glowing violet" : 1 { Color: purple; }
Flavor "glowing red" : 1 { Color: red; }
Flavor "glowing blue" : 1 { Color: blue; }
Flavor "glowing green" : 1 { Color: green; }
Flavor "glowing yellow" : 1 { Color: yellow; }
Flavor "glowing indigo" : 1 { Color: blue; }

Flavor "metallic crimson" : 1 { Color: red; }
Flavor "metallic black" : 1 { Color: black; }
Flavor "metallic emerald" : 1 { Color: bright green; }
Flavor "metallic amber" : 1 { Color: brown; }
Flavor "metallic silvery" : 1 { Color: white; }
Flavor "metallic white" : 1 { Color: grey; }
Flavor "metallic tan" : 1 { Color: brown; }
Flavor "metallic orange" : 1 { Color: pink; }
Flavor "metallic violet" : 1 { Color: purple; }
Flavor "metallic red" : 1 { Color: red; }
Flavor "metallic blue" : 1 { Color: blue; }
Flavor "metallic green" : 1 { Color: green; }
Flavor "metallic yellow" : 1 { Color: yellow; }
Flavor "metallic indigo" : 1 { Color: blue; }

Flavor "syrupy crimson" : 1 { Color: red; }
Flavor "syrupy black" : 1 { Color: black; }
Flavor "syrupy emerald" : 1 { Color: bright green; }
Flavor "syrupy amber" : 1 { Color: brown; }
Flavor "syrupy silvery" : 1 { Color: white; }
Flavor "syrupy white" : 1 { Color: grey; }
Flavor "syrupy tan" : 1 { Color: brown; }
Flavor "syrupy orange" : 1 { Color: pink; }
Flavor "syrupy violet" : 1 { Color: purple; }
Flavor "syrupy red" : 1 { Color: red; }
Flavor "syrupy blue" : 1 { Color: blue; }
Flavor "syrupy green" : 1 { Color: green; }
Flavor "syrupy yellow" : 1 { Color: yellow; }
Flavor "syrupy indigo" : 1 { Color: blue; }

Flavor "vile-smelling crimson" : 1 { Color: red; }
Flavor "vile-smelling black" : 1 { Color: black; }
Flavor "vile-smelling emerald" : 1 { Color: bright green; }
Flavor "vile-smelling amber" : 1 { Color: brown; }
Flavor "vile-smelling silvery" : 1 { Color: white; }
Flavor "vile-smelling white" : 1 { Color: grey; }
Flavor "vile-smelling tan" : 1 { Color: brown; }
Flavor "vile-smelling orange" : 1 { Color: pink; }
Flavor "vile-smelling violet" : 1 { Color: purple; }
Flavor "vile-smelling red" : 1 { Color: red; }
Flavor "vile-smelling blue" : 1 { Color: blue; }
Flavor "vile-smelling green" : 1 { Color: green; }
Flavor "vile-smelling yellow" : 1 { Color: yellow; }
Flavor "vile-smelling indigo" : 1 { Color: blue; }

Flavor "pasty crimson" : 1 { Color: red; }
Flavor "pasty black" : 1 { Color: black; }
Flavor "pasty emerald" : 1 { Color: bright green; }
Flavor "pasty amber" : 1 { Color: brown; }
Flavor "pasty silvery" : 1 { Color: white; }
Flavor "pasty white" : 1 { Color: grey; }
Flavor "pasty tan" : 1 { Color: brown; }
Flavor "pasty orange" : 1 { Color: pink; }
Flavor "pasty violet" : 1 { Color: purple; }
Flavor "pasty red" : 1 { Color: red; }
Flavor "pasty blue" : 1 { Color: blue; }
Flavor "pasty green" : 1 { Color: green; }
Flavor "pasty yellow" : 1 { Color: yellow; }
Flavor "pasty indigo" : 1 { Color: blue; }

Flavor "bubbly crimson" : 1 { Color: red; }
Flavor "bubbly black" : 1 { Color: black; }
Flavor "bubbly emerald" : 1 { Color: bright green; }
Flavor "bubbly amber" : 1 { Color: brown; }
Flavor "bubbly silvery" : 1 { Color: white; }
Flavor "bubbly white" : 1 { Color: grey; }
Flavor "bubbly tan" : 1 { Color: brown; }
Flavor "bubbly orange" : 1 { Color: pink; }
Flavor "bubbly violet" : 1 { Color: purple; }
Flavor "bubbly red" : 1 { Color: red; }
Flavor "bubbly blue" : 1 { Color: blue; }
Flavor "bubbly green" : 1 { Color: green; }
Flavor "bubbly yellow" : 1 { Color: yellow; }
Flavor "bubbly indigo" : 1 { Color: blue; }

Flavor "foul crimson" : 1 { Color: red; }
Flavor "foul black" : 1 { Color: black; }
Flavor "foul emerald" : 1 { Color: bright green; }
Flavor "foul amber" : 1 { Color: brown; }
Flavor "foul silvery" : 1 { Color: white; }
Flavor "foul white" : 1 { Color: grey; }
Flavor "foul tan" : 1 { Color: brown; }
Flavor "foul orange" : 1 { Color: pink; }
Flavor "foul violet" : 1 { Color: purple; }
Flavor "foul red" : 1 { Color: red; }
Flavor "foul blue" : 1 { Color: blue; }
Flavor "foul green" : 1 { Color: green; }
Flavor "foul yellow" : 1 { Color: yellow; }
Flavor "foul indigo" : 1 { Color: blue; }

Flavor "speckled crimson" : 1 { Color: red; }
Flavor "speckled black" : 1 { Color: black; }
Flavor "speckled emerald" : 1 { Color: bright green; }
Flavor "speckled amber" : 1 { Color: brown; }
Flavor "speckled silvery" : 1 { Color: white; }
Flavor "speckled white" : 1 { Color: grey; }
Flavor "speckled tan" : 1 { Color: brown; }
Flavor "speckled orange" : 1 { Color: pink; }
Flavor "speckled violet" : 1 { Color: purple; }
Flavor "speckled red" : 1 { Color: red; }
Flavor "speckled blue" : 1 { Color: blue; }
Flavor "speckled green" : 1 { Color: green; }
Flavor "speckled yellow" : 1 { Color: yellow; }
Flavor "speckled indigo" : 1 { Color: blue; }

Flavor "smoky crimson" : 1 { Color: red; }
Flavor "smoky black" : 1 { Color: black; }
Flavor "smoky emerald" : 1 { Color: bright green; }
Flavor "smoky amber" : 1 { Color: brown; }
Flavor "smoky silvery" : 1 { Color: white; }
Flavor "smoky white" : 1 { Color: grey; }
Flavor "smoky tan" : 1 { Color: brown; }
Flavor "smoky orange" : 1 { Color: pink; }
Flavor "smoky violet" : 1 { Color: purple; }
Flavor "smoky red" : 1 { Color: red; }
Flavor "smoky blue" : 1 { Color: blue; }
Flavor "smoky green" : 1 { Color: green; }
Flavor "smoky yellow" : 1 { Color: yellow; }
Flavor "smoky indigo" : 1 { Color: blue; }

Flavor "translucent crimson" : 1 { Color: red; }
Flavor "translucent black" : 1 { Color: black; }
Flavor "translucent emerald" : 1 { Color: bright green; }
Flavor "translucent amber" : 1 { Color: brown; }
Flavor "translucent silvery" : 1 { Color: white; }
Flavor "translucent white" : 1 { Color: grey; }
Flavor "translucent tan" : 1 { Color: brown; }
Flavor "translucent orange" : 1 { Color: pink; }
Flavor "translucent violet" : 1 { Color: purple; }
Flavor "translucent red" : 1 { Color: red; }
Flavor "translucent blue" : 1 { Color: blue; }
Flavor "translucent green" : 1 { Color: green; }
Flavor "translucent yellow" : 1 { Color: yellow; }
Flavor "translucent indigo" : 1 { Color: blue; }

Flavor "milky crimson" : 1 { Color: red; }
Flavor "milky black" : 1 { Color: black; }
Flavor "milky emerald" : 1 { Color: bright green; }
Flavor "milky amber" : 1 { Color: brown; }
Flavor "milky silvery" : 1 { Color: white; }
Flavor "milky white" : 1 { Color: grey; }
Flavor "milky tan" : 1 { Color: brown; }
Flavor "milky orange" : 1 { Color: pink; }
Flavor "milky violet" : 1 { Color: purple; }
Flavor "milky red" : 1 { Color: red; }
Flavor "milky blue" : 1 { Color: blue; }
Flavor "milky green" : 1 { Color: green; }
Flavor "milky yellow" : 1 { Color: yellow; }
Flavor "milky indigo" : 1 { Color: blue; }

Flavor "murky crimson" : 1 { Color: red; }
Flavor "murky black" : 1 { Color: black; }
Flavor "murky emerald" : 1 { Color: bright green; }
Flavor "murky amber" : 1 { Color: brown; }
Flavor "murky silvery" : 1 { Color: white; }
Flavor "murky white" : 1 { Color: grey; }
Flavor "murky tan" : 1 { Color: brown; }
Flavor "murky orange" : 1 { Color: pink; }
Flavor "murky violet" : 1 { Color: purple; }
Flavor "murky red" : 1 { Color: red; }
Flavor "murky blue" : 1 { Color: blue; }
Flavor "murky green" : 1 { Color: green; }
Flavor "murky yellow" : 1 { Color: yellow; }
Flavor "murky indigo" : 1 { Color: blue; }

Flavor "oily crimson" : 1 { Color: red; }
Flavor "oily black" : 1 { Color: black; }
Flavor "oily emerald" : 1 { Color: bright green; }
Flavor "oily amber" : 1 { Color: brown; }
Flavor "oily silvery" : 1 { Color: white; }
Flavor "oily white" : 1 { Color: grey; }
Flavor "oily tan" : 1 { Color: brown; }
Flavor "oily orange" : 1 { Color: pink; }
Flavor "oily violet" : 1 { Color: purple; }
Flavor "oily red" : 1 { Color: red; }
Flavor "oily blue" : 1 { Color: blue; }
Flavor "oily green" : 1 { Color: green; }
Flavor "oily yellow" : 1 { Color: yellow; }
Flavor "oily indigo" : 1 { Color: blue; }

Flavor "thick crimson" : 1 { Color: red; }
Flavor "thick black" : 1 { Color: black; }
Flavor "thick emerald" : 1 { Color: bright green; }
Flavor "thick amber" : 1 { Color: brown; }
Flavor "thick silvery" : 1 { Color: white; }
Flavor "thick white" : 1 { Color: grey; }
Flavor "thick tan" : 1 { Color: brown; }
Flavor "thick orange" : 1 { Color: pink; }
Flavor "thick violet" : 1 { Color: purple; }
Flavor "thick red" : 1 { Color: red; }
Flavor "thick blue" : 1 { Color: blue; }
Flavor "thick green" : 1 { Color: green; }
Flavor "thick yellow" : 1 { Color: yellow; }
Flavor "thick indigo" : 1 { Color: blue; }

Flavor "Velex Tharut" : 2 { }
Flavor "Velex Ascid" : 2 { }
Flavor "Velex Cirre" : 2 { }
Flavor "Velex Damhan" : 2 { }
Flavor "Velex Jadis" : 2 { }
Flavor "Vox Tharut" : 2 { }
Flavor "Vox Golag" : 2 { }
Flavor "Vox Damhan" : 2 { }
Flavor "Vox Jadis" : 2 { }
Flavor "Vox Lignis" : 2 { }
Flavor "Ridis Velex" : 2 { }
Flavor "Ridis Virix" : 2 { }
Flavor "Ridis Erdush" : 2 { }
Flavor "Ridis Imran" : 2 { }
Flavor "Ridis Jadis" : 2 { }
Flavor "Olnam Virix" : 2 { }
Flavor "Olnam Kadash" : 2 { }
Flavor "Olnam Ascid" : 2 { }
Flavor "Olnam Jessek" : 2 { }
Flavor "Olnam Jadis" : 2 { }
Flavor "Lux Golag" : 2 { }
Flavor "Lux Balrut" : 2 { }
Flavor "Lux Ascid" : 2 { }
Flavor "Lux Fenrig" : 2 { }
Flavor "Lux Jessek" : 2 { }
Flavor "Golag Ridis" : 2 { }
Flavor "Golag Orvok" : 2 { }
Flavor "Golag Dethak" : 2 { }
Flavor "Golag Damhan" : 2 { }
Flavor "Golag Imran" : 2 { }
Flavor "Temov Solan" : 2 { }
Flavor "Temov Kadash" : 2 { }
Flavor "Temov Cirre" : 2 { }
Flavor "Temov Jessek" : 2 { }
Flavor "Temov Vigsag" : 2 { }
Flavor "Tharut Ridis" : 2 { }
Flavor "Tharut Orvok" : 2 { }
Flavor "Tharut Ultas" : 2 { }
Flavor "Tharut Damhan" : 2 { }
Flavor "Tharut Nul" : 2 { }
Flavor "Solan Vox" : 2 { }
Flavor "Solan Colash" : 2 { }
Flavor "Solan Dethak" : 2 { }
Flavor "Solan Cirre" : 2 { }
Flavor "Solan Nul" : 2 { }
Flavor "Virix Vox" : 2 { }
Flavor "Virix Temov" : 2 { }
Flavor "Virix Damhan" : 2 { }
Flavor "Virix Damhan" : 2 { }
Flavor "Virix Fenrig" : 2 { }
Flavor "Ascid Ridis" : 2 { }
Flavor "Ascid Solan" : 2 { }
Flavor "Ascid Kadash" : 2 { }
Flavor "Ascid Jessek" : 2 { }
Flavor "Ascid Vigsag" : 2 { }
Flavor "Orvok Lux" : 2 { }
Flavor "Orvok Tharut" : 2 { }
Flavor "Orvok Dethak" : 2 { }
Flavor "Orvok Lariat" : 2 { }
Flavor "Balrut Lux" : 2 { }
Flavor "Balrut Virix" : 2 { }
Flavor "Balrut Damhan" : 2 { }
Flavor "Balrut Erdush" : 2 { }
Flavor "Balrut Lariat" : 2 { }
Flavor "Kadash Ridis" : 2 { }
Flavor "Kadash Temov" : 2 { }
Flavor "Kadash Cirre" : 2 { }
Flavor "Kadash Cirre" : 2 { }
Flavor "Kadash Jessek" : 2 { }
Flavor "Colash Virix" : 2 { }
Flavor "Colash Tharut" : 2 { }
Flavor "Colash Damhan" : 2 { }
Flavor "Colash Erdush" : 2 { }
Flavor "Colash Imran" : 2 { }
Flavor "Cirre Virix" : 2 { }
Flavor "Cirre Orvok" : 2 { }
Flavor "Cirre Dethak" : 2 { }
Flavor "Cirre Ultas" : 2 { }
Flavor "Cirre Fenrig" : 2 { }
Flavor "Dethak Golag" : 2 { }
Flavor "Dethak Orvok" : 2 { }
Flavor "Dethak Ultas" : 2 { }
Flavor "Dethak Jadis" : 2 { }
Flavor "Dethak Fenrig" : 2 { }
Flavor "Damhan Golag" : 2 { }
Flavor "Damhan Colash" : 2 { }
Flavor "Damhan Colash" : 2 { }
Flavor "Damhan Himrath" : 2 { }
Flavor "Damhan Nul" : 2 { }
Flavor "Erdush Golag" : 2 { }
Flavor "Erdush Virix" : 2 { }
Flavor "Erdush Kadash" : 2 { }
Flavor "Erdush Ultas" : 2 { }
Flavor "Erdush Imran" : 2 { }
Flavor "Ultas Velex" : 2 { }
Flavor "Ultas Tharut" : 2 { }
Flavor "Ultas Cirre" : 2 { }
Flavor "Ultas Jadis" : 2 { }
Flavor "Fenrig Olnam" : 2 { }
Flavor "Fenrig Virix" : 2 { }
Flavor "Fenrig Orvok" : 2 { }
Flavor "Fenrig Ultas" : 2 { }
Flavor "Fenrig Imran" : 2 { }
Flavor "Himrath Temov" : 2 { }
Flavor "Himrath Ascid" : 2 { }
Flavor "Himrath Orvok" : 2 { }
Flavor "Himrath Jessek" : 2 { }
Flavor "Himrath Lariat" : 2 { }
Flavor "Imran Golag" : 2 { }
Flavor "Imran Solan" : 2 { }
Flavor "Imran Orvok" : 2 { }
Flavor "Imran Jessek" : 2 { }
Flavor "Jadis Tharut" : 2 { }
Flavor "Jadis Ascid" : 2 { }
Flavor "Jadis Erdush" : 2 { }
Flavor "Jadis Cirre" : 2 { }
Flavor "Jadis Imran" : 2 { }
Flavor "Jessek Velex" : 2 { }
Flavor "Jessek Temov" : 2 { }
Flavor "Jessek Kadash" : 2 { }
Flavor "Jessek Dethak" : 2 { }
Flavor "Jessek Fenrig" : 2 { }
Flavor "Nul Golag" : 2 { }
Flavor "Nul Orvok" : 2 { }
Flavor "Nul Cirre" : 2 { }
Flavor "Nul Jadis" : 2 { }
Flavor "Nul Fenrig" : 2 { }
Flavor "Lariat Vox" : 2 { }
Flavor "Lariat Orvok" : 2 { }
Flavor "Lariat Colash" : 2 { }
Flavor "Lariat Erdush" : 2 { }
Flavor "Lariat Himrath" : 2 { }
Flavor "Lignis Tharut" : 2 { }
Flavor "Lignis Colash" : 2 { }
Flavor "Lignis Cirre" : 2 { }
Flavor "Lignis Cirre" : 2 { }
Flavor "Asmodex Lux" : 2 { }
Flavor "Asmodex Virix" : 2 { }
Flavor "Asmodex Colash" : 2 { }
Flavor "Asmodex Damhan" : 2 { }
Flavor "Asmodex Jadis" : 2 { }
Flavor "Vigsag Velex" : 2 { }
Flavor "Vigsag Ascid" : 2 { }
Flavor "Vigsag Orvok" : 2 { }
Flavor "Vigsag Jessek" : 2 { }
Flavor "Vigsag Fenrig" : 2 { }
Flavor "Vugnug Lux" : 2 { }
Flavor "Vugnug Tharut" : 2 { }
Flavor "Vugnug Erdush" : 2 { }
Flavor "Vugnug Imran" : 2 { }
Flavor "Vugnug Imran" : 2 { }
Flavor "Elbib Temov" : 2 { }
Flavor "Elbib Tharut" : 2 { }
Flavor "Elbib Ascid" : 2 { }
Flavor "Elbib Cirre" : 2 { }
Flavor "Elbib Jadis" : 2 { }
Flavor "Elam Tharut" : 2 { }
Flavor "Elam Tharut" : 2 { }
Flavor "Elam Balrut" : 2 { }
Flavor "Elam Ultas" : 2 { }
Flavor "Elam Imran" : 2 { }
Flavor "Tharr Olnam" : 2 { }
Flavor "Tharr Golag" : 2 { }
Flavor "Tharr Colash" : 2 { }
Flavor "Tharr Damhan" : 2 { }
Flavor "Tharr Asmodex" : 2 { }
Flavor "Yed Golag" : 2 { }
Flavor "Yed Balrut" : 2 { }
Flavor "Yed Ultas" : 2 { }
Flavor "Yed Erdush" : 2 { }
Flavor "Yed Nul" : 2 { }
Flavor "Azram Velex" : 2 { }
Flavor "Azram Orvok" : 2 { }
Flavor "Azram Colash" : 2 { }
Flavor "Azram Jessek" : 2 { }
Flavor "Azram Himrath" : 2 { }
Flavor "Kirje Virix" : 2 { }
Flavor "Kirje Orvok" : 2 { }
Flavor "Kirje Kadash" : 2 { }
Flavor "Kirje Dethak" : 2 { }
Flavor "Kirje Jessek" : 2 { }
Flavor "Noxon Ridis" : 2 { }
Flavor "Noxon Colash" : 2 { }
Flavor "Noxon Orvok" : 2 { }
Flavor "Noxon Cirre" : 2 { }
Flavor "Noxon Jadis" : 2 { }
Flavor "Oculon Golag" : 2 { }
Flavor "Oculon Colash" : 2 { }
Flavor "Oculon Cirre" : 2 { }
Flavor "Oculon Ultas" : 2 { }
Flavor "Oculon Asmodex" : 2 { }
Flavor "Pasix Solan" : 2 { }
Flavor "Pasix Orvok" : 2 { }
Flavor "Pasix Damhan" : 2 { }
Flavor "Pasix Jessek" : 2 { }
Flavor "Pasix Jadis" : 2 { }
Flavor "Praedit Lux" : 2 { }
Flavor "Praedit Virix" : 2 { }
Flavor "Praedit Dethak" : 2 { }
Flavor "Praedit Dethak" : 2 { }
Flavor "Praedit Jessek" : 2 { }
Flavor "Qixl Golag" : 2 { }
Flavor "Qixl Kadash" : 2 { }
Flavor "Qixl Cirre" : 2 { }
Flavor "Qixl Ultas" : 2 { }
Flavor "Qixl Nul" : 2 { }
Flavor "Rashem Ridis" : 2 { }
Flavor "Rashem Orvok" : 2 { }
Flavor "Rashem Colash" : 2 { }
Flavor "Rashem Himrath" : 2 { }
Flavor "Rashem Asmodex" : 2 { }
Flavor "Sardox Olnam" : 2 { }
Flavor "Sardox Solan" : 2 { }
Flavor "Sardox Balrut" : 2 { }
Flavor "Sardox Dethak" : 2 { }
Flavor "Sardox Nul" : 2 { }
Flavor "Tuliv Ridis" : 2 { }
Flavor "Tuliv Ascid" : 2 { }
Flavor "Tuliv Kadash" : 2 { }
Flavor "Tuliv Jadis" : 2 { }
Flavor "Tuliv Jessek" : 2 { }
Flavor "Ugnux Vox" : 2 { }
Flavor "Ugnux Orvok" : 2 { }
Flavor "Ugnux Damhan" : 2 { }
Flavor "Ugnux Himrath" : 2 { }
Flavor "Ugnux Lignis" : 2 { }
Flavor "Gornach Vox" : 2 { }
Flavor "Gornach Kadash" : 2 { }
Flavor "Gornach Balrut" : 2 { }
Flavor "Gornach Jessek" : 2 { }
Flavor "Gornach Fenrig" : 2 { }
Flavor "Vedas Velex" : 2 { }
Flavor "Vedas Balrut" : 2 { }
Flavor "Vedas Kadash" : 2 { }
Flavor "Vedas Ultas" : 2 { }
Flavor "Vedas Himrath" : 2 { }
Flavor "Mugmug Vox" : 2 { }
Flavor "Mugmug Temov" : 2 { }
Flavor "Mugmug Ascid" : 2 { }
Flavor "Mugmug Imran" : 2 { }
Flavor "Mugmug Nul" : 2 { }
Flavor "Grabnor Golag" : 2 { }
Flavor "Grabnor Tharut" : 2 { }
Flavor "Grabnor Colash" : 2 { }
Flavor "Grabnor Imran" : 2 { }
Flavor "Grabnor Lignis" : 2 { }

Flavor "blackened" : 4 { }
Flavor "teak" : 4 { }
Flavor "ornate" : 4 { }
Flavor "rosewood" : 4 { }
Flavor "glass" : 4 { }
Flavor "oak" : 4 { }
Flavor "thin" : 4 { }
Flavor "gnarled" : 4 { }
Flavor "engraved" : 4 { }
Flavor "crooked" : 4 { }
Flavor "iron-shod" : 4 { }
Flavor "steel-shod" : 4 { }
Flavor "gem-encrusted" : 4 { }
Flavor "fragile" : 4 { }
Flavor "sturdy" : 4 { }
Flavor "short" : 4 { }
Flavor "long" : 4 { }


Flavor "tapering" : 3 { }
Flavor "ruby" : 3 { }
Flavor "filigreed" : 3 { }
Flavor "plain" : 3 { }
Flavor "twisted" : 3 { }
Flavor "star-tipped" : 3 { }
Flavor "thick" : 3 { }
Flavor "long" : 3 { }
Flavor "pointed" : 3 { }
Flavor "topaz" : 3 { }
Flavor "mithril" : 3 { }
Flavor "adamant" : 3 { }
Flavor "darkwood" : 3 { }
Flavor "huge" : 3 { }
Flavor "rune-covered" : 3 { }
Flavor "black" : 3 { }
Flavor "forked" : 3 { }
Flavor "intertwining" : 3 { }
Flavor "sharpened" : 3 { }
Flavor "fragile" : 3 { }
Flavor "cracked;flavor" : 3 { }
Flavor "truly old" : 3 { }
Flavor "glowing" : 3 { }
Flavor "steel" : 3 { }
Flavor "copper" : 3 { }
Flavor "curved" : 3 { }
Flavor "flexible" : 3 { }
Flavor "orichalchum" : 3 { }
Flavor "moonsilver" : 3 { }


Flavor "inlaid" : 3 { }
Flavor "ivory" : 3 { }
Flavor "obsidian" : 3 { }
Flavor "forged" : 3 { }
Flavor "translucent" : 3 { }

Flavor "ruby-tipped" : 3 { }
Flavor "ruby-studded" : 3 { }
Flavor "diamond-tipped" : 3 { }
Flavor "diamond-studded" : 3 { }
Flavor "emerald-tipped" : 3 { }
Flavor "emerald-studded" : 3 { }
Flavor "sapphire-tipped" : 3 { }
Flavor "sapphire-studded" : 3 { }
Flavor "onyx-tipped" : 3 { }
Flavor "onyx-studded" : 3 { }
Flavor "star-tipped" : 3 { }



Flavor "steel" : 5 { }
Flavor "regal" : 5 { }
Flavor "carved" : 5 { }
Flavor "intertwined" : 5 { }
Flavor "copper" : 5 { }
Flavor "obsidian;flavor" : 5 { }
Flavor "plain" : 5 { }
Flavor "heavy" : 5 { }
Flavor "thin" : 5 { }
Flavor "lead" : 5 { }
Flavor "long" : 5 { }
Flavor "flanged" : 5 { }
Flavor "forged" : 5 { }
Flavor "telescoping" : 5 { }
Flavor "ceremonial" : 5 { }
Flavor "fur-covered" : 5 { }
Flavor "rune-covered" : 5 { }
Flavor "chipped" : 5 { }
Flavor "mithril" : 5 { }
Flavor "short" : 5 { }


Flavor "agate" : 13 { }
Flavor "amber" : 13 { }
Flavor "amethyst" : 13 { }
Flavor "ancestral" : 13 { }
Flavor "blood-stained" : 13 { }
Flavor "brass" : 13 { }
Flavor "bronze" : 13 { }
Flavor "bloody" : 13 { }
Flavor "carved" : 13 { }
Flavor "diamond;flavor" : 13 { }
Flavor "double-banded" : 13 { }
Flavor "dwarven" : 13 { }
Flavor "electrum" : 13 { }
Flavor "elven" : 13 { }
Flavor "emerald" : 13 { }
Flavor "engraved" : 13 { }
Flavor "gem-studded" : 13 { }
Flavor "glass" : 13 { }
Flavor "grass" : 13 { }
Flavor "gold" : 13 { }
Flavor "hand-made" : 13 { }
Flavor "inscribed" : 13 { }
Flavor "iron" : 13 { }
Flavor "jade" : 13 { }
Flavor "kinship" : 13 { }
Flavor "large" : 13 { }
Flavor "moonstone" : 13 { }
Flavor "onxy" : 13 { }
Flavor "opal" : 13 { }
Flavor "ornate" : 13 { }
Flavor "plain" : 13 { }
Flavor "platinum" : 13 { }
Flavor "ruby" : 13 { }
Flavor "rune-covered" : 13 { }
Flavor "sapphire" : 13 { }
Flavor "silver" : 13 { }
Flavor "steel" : 13 { }
Flavor "stylized" : 13 { }
Flavor "tarnished" : 13 { }
Flavor "thick" : 13 { }
Flavor "thin" : 13 { }
Flavor "topaz" : 13 { }
Flavor "wooden" : 13 { }
Flavor "woven vine" : 13 { }
Flavor "beryl" : 13 { }
Flavor "obsidian;1" : 13 { }
Flavor "electrum" : 13 { }
Flavor "monogrammed" : 13 { }
Flavor "adamant" : 13 { }
Flavor "slender" : 13 { }
Flavor "translucent" : 13 { }
Flavor "crudely made" : 13 { }
Flavor "crystal" : 13 { }
Flavor "sigil" : 13 { }
Flavor "black" : 13 { }

Flavor "tooled" : 31 { }
Flavor "plain" : 31 { }
Flavor "rune-covered" : 31 { }
Flavor "ivory" : 31 { }
Flavor "leather" : 31 { }
Flavor "large" : 31 { }
Flavor "sturdy" : 31 { }
Flavor "wood" : 31 { }
Flavor "copper" : 31 { }
Flavor "bass" : 31 { }
Flavor "treble" : 31 { }
Flavor "carved" : 31 { }

Flavor "tight" : 34 { }
Flavor "thin" : 34 { }
Flavor "gem-inset" : 34 { }
Flavor "royal" : 34 { }
Flavor "rune-covered" : 34 { }
Flavor "thick" : 34 { }
Flavor "brass" : 34 { }
Flavor "cloth" : 34 { }
Flavor "leather" : 34 { }
Flavor "wavy" : 34 { }
Flavor "adamant" : 34 { }
Flavor "heavy" : 34 { }


Flavor "outmoded" : 8 { }
Flavor "boxy" : 8 { }
Flavor "brass" : 8 { }
Flavor "bronze" : 8 { }
Flavor "ceremonial" : 8 { }
Flavor "copper" : 8 { }
Flavor "electrum" : 8 { }
Flavor "fancy" : 8 { }
Flavor "gem-encrused" : 8 { }
Flavor "green" : 8 { }
Flavor "heavy" : 8 { }
Flavor "hide" : 8 { }
Flavor "horned" : 8 { }
Flavor "iron" : 8 { }
Flavor "ornate" : 8 { }
Flavor "plain" : 8 { }
Flavor "plumed" : 8 { }
Flavor "red" : 8 { }
Flavor "rune-covered" : 8 { }
Flavor "spiked" : 8 { }
Flavor "steel" : 8 { }
Flavor "winged" : 8 { }


Flavor "hand-made" : 29 { }
Flavor "silk" : 29 { }
Flavor "reinforced" : 29 { }
Flavor "satin" : 29 { }
Flavor "jeweled" : 29 { }
Flavor "thick black" : 29 { }
Flavor "dark crimson" : 29 { }
Flavor "thick" : 29 { }
Flavor "expensive" : 29 { }
Flavor "dark navy" : 29 { }
Flavor "long" : 29 { }
Flavor "stylized" : 29 { }
Flavor "tattered" : 29 { }
Flavor "ragged" : 29 { }
Flavor "fur-trimmed" : 29 { }
Flavor "glossy black" : 29 { }
Flavor "winter" : 29 { }
Flavor "rune-trimmed" : 29 { }
Flavor "star-covered" : 29 { }
Flavor "patterned" : 29 { }
Flavor "heraldic" : 29 { }



Flavor "fashionable" : 33 { }
Flavor "black" : 33 { }
Flavor "blue" : 33 { }
Flavor "buckled" : 33 { }
Flavor "clasped" : 33 { }
Flavor "delicate" : 33 { }
Flavor "gem-encrusted" : 33 { }
Flavor "green" : 33 { }
Flavor "heavy" : 33 { }
Flavor "hemp" : 33 { }
Flavor "iron" : 33 { }
Flavor "leather" : 33 { }
Flavor "leather" : 33 { }
Flavor "pliant" : 33 { }
Flavor "red" : 33 { }
Flavor "reinforced" : 33 { }
Flavor "rune-covered" : 33 { }
Flavor "shiny" : 33 { }
Flavor "studded" : 33 { }
Flavor "thick" : 33 { }
Flavor "thin" : 33 { }
Flavor "tight" : 33 { }
Flavor "tooled" : 33 { }
Flavor "white" : 33 { }


Flavor "adamant-gilded" : 10 { }
Flavor "banded" : 10 { }
Flavor "chipped" : 10 { }
Flavor "cloth" : 10 { }
Flavor "copper-gilded" : 10 { }
Flavor "firm" : 10 { }
Flavor "gold-gilded" : 10 { }
Flavor "heavy" : 10 { }
Flavor "heavy" : 10 { }
Flavor "inscribed" : 10 { }
Flavor "jeweled" : 10 { }
Flavor "leather" : 10 { }
Flavor "light" : 10 { }
Flavor "loose" : 10 { }
Flavor "mithril-gilded" : 10 { }
Flavor "ornate" : 10 { }
Flavor "ornately carved" : 10 { }
Flavor "plate" : 10 { }
Flavor "pliant" : 10 { }
Flavor "polished" : 10 { }
Flavor "rune-covered" : 10 { }
Flavor "rusted" : 10 { }
Flavor "sharp-edged" : 10 { }
Flavor "silver-gilded" : 10 { }
Flavor "spiked" : 10 { }
Flavor "stained" : 10 { }
Flavor "steel-gilded" : 10 { }
Flavor "sturdy" : 10 { }
Flavor "tight-fitting" : 10 { }
Flavor "well-worn" : 10 { }

Flavor "adamant-gilded" : 7 { }
Flavor "banded" : 7 { }
Flavor "chipped" : 7 { }
Flavor "cloth" : 7 { }
Flavor "copper-gilded" : 7 { }
Flavor "firm" : 7 { }
Flavor "gold-gilded" : 7 { }
Flavor "heavy" : 7 { }
Flavor "heavy" : 7 { }
Flavor "inscribed" : 7 { }
Flavor "jeweled" : 7 { }
Flavor "leather" : 7 { }
Flavor "light" : 7 { }
Flavor "loose" : 7 { }
Flavor "mithril-gilded" : 7 { }
Flavor "ornate" : 7 { }
Flavor "ornately carved" : 7 { }
Flavor "plate" : 7 { }
Flavor "pliant" : 7 { }
Flavor "polished" : 7 { }
Flavor "rune-covered" : 7 { }
Flavor "rusted" : 7 { }
Flavor "sharp-edged" : 7 { }
Flavor "silver-gilded" : 7 { }
Flavor "spiked" : 7 { }
Flavor "stained" : 7 { }
Flavor "steel-gilded" : 7 { }
Flavor "sturdy" : 7 { }
Flavor "tight-fitting" : 7 { }
Flavor "well-worn" : 7 { }


Flavor "leather" : 9 { }
Flavor "steel-toed" : 9 { }
Flavor "sturdy" : 9 { }
Flavor "decorative" : 9 { }
Flavor "soft-solved" : 9 { }
Flavor "tanned" : 9 { }
Flavor "primitive" : 9 { }
Flavor "tall" : 9 { }
Flavor "deerskin" : 9 { }
Flavor "well-worn" : 9 { }
Flavor "rune-covered" : 9 { }
Flavor "ankle-high" : 9 { }
Flavor "work" : 9 { }
Flavor "blacksmith's" : 9 { }
Flavor "finely crafted" : 9 { }


Flavor "agni mani" : 14 { }
Flavor "sparkling" : 14 { }
Flavor "andar" : 14 { }
Flavor "black opal" : 14 { }
Flavor "bloodstone" : 14 { }
Flavor "bone" : 14 { }
Flavor "chrysoberyl" : 14 { }
Flavor "clasped" : 14 { }
Flavor "coral" : 14 { }
Flavor "cracked" : 14 { }
Flavor "emerald" : 14 { }
Flavor "fragile" : 14 { }
Flavor "gold" : 14 { }
Flavor "hand-carved" : 14 { }
Flavor "heavy" : 14 { }
Flavor "high" : 14 { }
Flavor "iol" : 14 { }
Flavor "ivory" : 14 { }
Flavor "jade opal" : 14 { }
Flavor "jasper" : 14 { }
Flavor "large" : 14 { }
Flavor "moonsilver" : 14 { }
Flavor "moonstone" : 14 { }
Flavor "obsidian;flavor" : 14 { }
Flavor "painted" : 14 { }
Flavor "pearl" : 14 { }
Flavor "primitive" : 14 { }
Flavor "ruby" : 14 { }
Flavor "ruby-inset" : 14 { }
Flavor "runic" : 14 { }
Flavor "sapphire" : 14 { }
Flavor "scented" : 14 { }
Flavor "shamanic" : 14 { }
Flavor "silver" : 14 { }
Flavor "skull" : 14 { }
Flavor "skydrop" : 14 { }
Flavor "sphere" : 14 { }
Flavor "steel" : 14 { }
Flavor "sunstone" : 14 { }
Flavor "tchazar" : 14 { }
Flavor "water opal" : 14 { }
Flavor "waterstar" : 14 { }
Flavor "wrought iron" : 14 { }
Flavor "ziose" : 14 { }
Flavor "zircon" : 14 { }

Flavor "crimson-tinted" : 37 { Color: red; }
Flavor "black-tinted" : 37 { Color: black; }
Flavor "emerald-tinted" : 37 { Color: bright green; }
Flavor "amber-tinted" : 37 { Color: brown; }
Flavor "silvery-tinted" : 37 { Color: white; }
Flavor "white-tinted" : 37 { Color: grey; }
Flavor "tan-tinted" : 37 { Color: brown; }
Flavor "orange-tinted" : 37 { Color: pink; }
Flavor "violet-tinted" : 37 { Color: purple; }
Flavor "red-tinted" : 37 { Color: red; }
Flavor "blue-tinted" : 37 { Color: blue; }
Flavor "green-tinted" : 37 { Color: green; }
Flavor "yellow-tinted" : 37 { Color: yellow; }
Flavor "indigo-tinted" : 37 { Color: blue; }
Flavor "brass-rimmed" : 37 { Color: brown; }
Flavor "iron-rimmed" : 37 { Color: grey; }
Flavor "circular" : 37 { }
Flavor "square-lensed" : 37 { }
Flavor "rose-tinted" : 37 { Color: red; }
Flavor "ornate" : 37 { }
Flavor "cracked" : 37 { }
Flavor "thin-lensed" : 37 { }
Flavor "thick-lensed" : 37 { }

Flavor "speckled" : 11 { }
Flavor "toadstool" : 11 { }
Flavor "dark" : 11 { }
Flavor "tiny" : 11 { }
Flavor "crimson" : 11 { }
Flavor "smelly" : 11 { }
Flavor "crooked" : 11 { }
Flavor "colorful" : 11 { }

Flavor "Diver" : 57 { }
Flavor "Ramoth" : 57 { }
Flavor "Rocky" : 57 { }
Flavor "Ruth" : 57 { }
Flavor "Star" : 57 { }
Flavor "Anjou" : 57 { } Flavor "Aunis" : 57 { }
Flavor "Bearn" : 57 { }
Flavor "Berry" : 57 { }
Flavor "Cerf" : 57 { }
Flavor "Colmar" : 57 { }
Flavor "Dauphine" : 57 { }
Flavor "Lambel" : 57 { }
Flavor "Murale" : 57 { }
Flavor "Rohan" : 57 { }
Flavor "Sarlat" : 57 { }
Flavor "Sinople" : 57 { }
Flavor "Vair" : 57 { }

Flavor "Cahleed" : 57 { }
Flavor "Dace" : 57 { }
Flavor "Farstrider" : 57 { }
Flavor "Fluffy" : 57 { }
Flavor "Izzy" : 57 { }
Flavor "Keeper" : 57 { }
Flavor "Seeker" : 57 { }
Flavor "Shadow" : 57 { }
Flavor "Shadowfax" : 57 { }
Flavor "Shorven" : 57 { }
Flavor "Striker" : 57 { }
Flavor "Taith" : 57 { }
Flavor "Vervain" : 57 { }
Flavor "Whisper" : 57 { }
Flavor "Wixel" : 57 { }
#line "religion.irh" 1
43 Effect "Aiswin;symbol" : 46
{ Desc: "Aiswin's holy symbol is a crimson heart-shape with a 
      blade driven through the center.";
Flags: 18; }

God "Aiswin"
{
Domains: $"Fate", $"Knowledge", $"Night", $"Planning",
$"Retribution", $"Trickery";
Desc: "<15>God of Secrets, Vengeance and Shadows<11>\n
      __Fate, Knowledge, Night, Planning, Retribution, Trickery. 
      The Short Sword. Weapons of Balance. <2>\n
      __Aiswin the Whisperer lurks in the hearts of all men and women.
      Filled with venom and hurt, he offers succor to those who have
      been wounded by the wrongful acts of others, but his edict demands
      an eye for an eye, and a life for a life. A born manipulator,
      Aiswin teaches the weak to use treachery and poison (literal
      and metaphorical) to fell the strong, and believes that the
      greatest possible sin a thinking being can commit is to forgive
      an enemy who has genuinely and knowingly wronged her.\n
      __Aiswin holds as his protectorate all who work at night, or
      work alone, and is revered by many thieves and assasins'
      guilds. Yet, his favor is a fickle thing for any guildmaster
      to try to hold, because he hates the oppression or degradation
      of the weak -- one who wishes to hold his favor had best not
      treat their underlings poorly or encourage victimization of the
      innocent. Aiswin has cults rather then a priesthood, forming
      loyal cliques from those who have been rejected by their peers
      or alienated from society. A common cliche states that Aiswin
      has dominion over everyone who has nobody else.\n
      __Aiswin is the god of vengeance, not the god of all-consuming
      vengeance for imagined slights. His favor comes upon those who
      have been genuinely hurt, though he is lax in enforcing morality
      upon his clerics and many pursue very destructive, over-reaching
      schemes against their enemies. Some even end up going insane for
      having nurtured their bitterness for so long. When clerics of
      Aiswin are not pursuing their personal vendettas, they tend to
      find work as spies, assasins, political advisors and vigilantes.\n
      __Aiswin is True Neutral, and his clerics may be of any alignment.
      Good clerics of Aiswin pursue just vengeance on behalf of those
      who cannot protect themselves, while evil ones blame groups for
      the acts of individuals and carry out vengeance upon entire family
      lines, nations, genders or races to sate their bigotry. The majority
      fall in between these two extremes, being bitter, self-absorbed and 
      vengeful without becoming truly depraved. Aiswin's chosen weapon is
      the short sword, and his holy symbol is a crimson heart-shape with a
      blade driven through the center. He grants access to the domains of
      Fate, Knowledge, Night, Planning, Retribution and Trickery.\n
      __<10>Worship:<2> Aiswin accepts sacrifice only of creatures killed as
      blood vengeance -- hostile creatures who wounded the petitioner before
      the petitioner killed them. Sapient creatures sacrificed in accord with
      blood vengeance are far more valued than others. He is angered when 
      his followers attack creatures who are not hostile to them, or when they
      use magical effects with the [Light] descriptor. He also expects his
      followers to slay any creature who gravely wounds them before they move
      forward in their lives (in game terms, leveling up, or delving deeper 
      into the dungeon). Conversely, 
      however, he is exacting and gives his followers no allowance for such 
      transgressions before he becomes angry.\n
      __While Aiswin places
      few restrictions on his followers, other then expecting them not to
      betray or kill friendly creatures, and he offers a number of useful
      secrets and artifacts long thought lost, but is subject to a serious
      restriction: he can only offer direct divine aid to his followers
      between sunset and sunrise. When the sky is bright, Aiswin has no
      direct influence in the world. Areas deep underground are typically
      considered to be eternal night, but even there Aiswin cannot offer
      aid in areas of bright (magically produced) sunlight.\n
      __<10>Blessings:<2> Aiswin is always willing to strike at the enemies
      of his followers, should they ask for his aid. He will also transport
      worshippers to safety when called upon, heal or ressurect them or identify
      their items. For more devoted petitioners, he may purify the body, clear
      the mind or even remove fatigue. However, Aiswin cannot offer any aid to 
      followers when they are in areas of bright light. Aiswin does not take 
      converts lightly, however, and it takes a great deal of effort on a 
      petitioner's part to bring him to accept a new worshipper. He does not 
      casually aid lay worshippers, but will ressurect even a comparatively
      unskilled loyalist.\n
      __His more permanent blessings include an affinity for hiding in shadows,
      magic to conjure darkness or command the shadows, a preternatural insight 
      into weaknesses and a silvered tongue.";
Lists:
* 28
76
"The air grows sharply cold, and all the hairs on the back of your
               neck stand up straight!"
3
"A soft red glow surronds you, and you hear a whispered voice in
               the back of your mind: |Ideal.|"
6
"A silky, dangerous voice whispers into your mind: |Prove your
               devotion.|"
21
"A silky whisper mindspeaks: |Insufficient.|"
50
"A silky whisper speaks into your mind: |I will make you one with
               shadows!|"
51
"A silky whisper speaks into your mind: |I grant you intimacy with
              the night!|"
52
"A silky whisper speaks into your mind: |I gift you with secret lore!|"
53
"A silky whisper speaks into your mind: |I will open your eyes to
              the weakness of your enemies!|"
54
"A silky whisper speaks into your mind: |I name you master over all
              shadows!|"
55
"A silky whisper speaks into your mind: |I gift you with words of
              silk and malice!|"
56
"A silky whisper speaks into your mind: |I teach you now to glory in
               the lamentations of those who have wronged you!|"
57
"A silky whisper speaks into your mind: |I teach you now to strike
              by surprise and inflict pain with a touch!|"
58
"A silky whisper speaks into your mind: |To you I open the most
              secret shadow paths, and grant words to call forth a thousand
              knives!|"
61
"A silky whisper speaks into your mind: |I crown you the Harbringer
              of Ruin!|"
21
"A sinuous voice intones: |Insufficient.|"
17
"A silky voice hisses angrily: |Abomination!|"
46
"|I offer to you a chance to avenge yourself from beyond death!|"
34
"|Blessed be those who walk the path of shadows!|",
* 26
85 10
85 10
85 10
85 10
0 2
0 2
125 (-103)
126 (-101),
* 31
(-20) 3 0
$"Hesani" 5 1
$"Mara" 0 0,
#line "religion.irh" 151
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
3 4 0
5 4 100
1 5 500
13 3 500
10 (-4) 500
2 5 1500
12 5 1500
8 5 2000
17 3 3000;
Constants:
* 120 1,
* 121 1,
* 130 $"Aiswin;symbol",
* 135 $"short sword",
* 136 5,
* 122 4,
* 123 6,
* 131 5,
* 124 5,
* 125 5,
* 126 750,
* 127 10,
* 128 5,
* 129 0,
* 132 10,
* 133 20,
* 139 0,
* 134 10;
Grants:
Stati[124,18,+4] at 1st level,
Ability[44,$"deeper darkness"] at 2nd level,
Ability[140,$"spellbook [Lore of Murder I]"] at 3rd level,
Ability[44,$"Bestow Curse"] at 3rd level,
Stati[124,14,+10] at 4th level,
Ability[44, $"globe of shadow"] at 5th level,
Ability[44, $"animate shadows"] at 5th level,
Stati[124,11,+5] at 6th level,
Stati[124,6,+5] at 6th level,
Ability[35,+1] at 7th level,
Stati[41,((49 + 1) + 20)] at 8th level,
Stati[44,$"Pain Touch"] at 8th level,
Stati[44,$"Shadow Step"] at 9th level,
Stati[44,$"Ring of Blades"] at 9th level;
On Event 142 {
hObj hEnemy;
if (e.EParam == 3)
{
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor))
{
hEnemy->IDPrint("Shadows rise up and tear at your body!",
"Shadows rise up and tear at the <hObj>!",hEnemy);
ThrowDmg(41,0,6d6,"the vengeance of Aiswin",
hEnemy, hEnemy);
}
return 1;
}
return 0;
},
138 {
EActor->IDPrint("Shadows rise up and tear at your body!",
"Shadows rise up and tear at the <hObj>!",EActor);
ThrowDmg(41,0,(e.EParam)d6,"the vengeance of Aiswin",
EActor, EActor);
return 1;
},
((20+500)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isFriendlyTo(EActor))
EActor->Transgress($"Aiswin",4,false,"betrayal of a friend");
else if (!EVictim->isHostileTo(EActor))
EActor->Transgress($"Aiswin",2,false,"attacking neutral creature");
return 0;
},
(((41+2000)+500)+20000) {
#line "religion.irh" 243
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (!EActor->HasEffStati(97,$"Aiswin"))
EActor->GainPermStati(97,EVictim,7,0,0,$"Aiswin",0);
return 0;
},
((52+1000)+20000) {
if (e.eID != ((rID)0) && !(e.isTrap || e.isActOfGod))
if (e.eID->Schools & 0x00020000)
if (EActor->getGod() == $"Aiswin")
EActor->Transgress($"Aiswin",3,false,"using light-magic");
return 0;
},
(153+20000) {
if (EActor->getGod() == $"Aiswin")
if (EActor->HasStati(210))
EActor->Transgress($"Aiswin", 2, false, "failing to avenge grave wounding");
EActor->RemoveStati(210);
},
(50+20000) {
if (EActor->getMaxDepth(EMap->dID) > EMap->Depth)
return 0;
if (!ETarget->EnterDir(10))
return 0;
if (EActor->getGod() == $"Aiswin")
if (EActor->HasStati(210))
EActor->Transgress($"Aiswin", 2, false, "failing to avenge grave wounding");
EActor->RemoveStati(210);
return 0;
},
(1+20000) {
int32 tx, ty;
if (EActor->getGod() != $"Aiswin")
return 0;
tx = EActor->x + DirX(e.EDir);
ty = EActor->y + DirY(e.EDir);
if (EMap->FallAt(tx,ty) && !EActor->isAerial() &&
!EMap->FallAt(EActor->x, EActor->y))
{
if (EActor->HasStati(210))
EActor->Transgress($"Aiswin", 2, false, "failing to avenge grave wounding");
EActor->RemoveStati(210);
}
return 0;
},
(134+500) {
if (EMap->BrightAt(EActor->x,EActor->y))
{
EActor->IPrint("Aiswin can only offer you aid in areas that have
            at least some shadows. In this brightly-lit region, you cannot
            reach him.");
return 2;
}
return 0;
},
(135+500) {
if (GetHandle(EItem) == ((hObj)0))
{
if (!EVictim->HasEffStati(97,$"Aiswin"))
e.EParam = 125;
if (EVictim->HasStati(231))
e.EParam = 126;
}
else
{
if (!EItem->HasEffStati(97,$"Aiswin"))
e.EParam = 125;
if (EItem->HasStati(231))
e.EParam = 126;
}
return 0;
},
139 {
rID spID; hObj it; int32 i, x, y; String s1, s2;
EActor->IPrint("Aiswin whispers a secret to you!");
switch (1d4)
{
case 1: case 2:
i = 0;
do {
it = GenDungeonItem(0, ((rID)0), 20, 10);
if (it->isType(47) || it->isType(50) ||
it->isType(57) || it->isType(52) ||
it->isType(49) || it->isType(20) ||
it->isType(48) || it->isType(33) ||
it->isType(25) || it->isType(23) ||
it->isType(28) || it->isType(41) ||
it->isType(40))
if (!it->isKnown(0x04))
i = 200;
if (i != 200) {
it->Remove(true);
i++;
}
}
while (i < 100);
if (i == 100)
break;
it->SetKnown(0);
it->SetInherantPlus(0);
it->IFlags = 0;
it->SetQuantity(1);
s1 = Pluralize(it->Name(0x4000));
s2 = Pluralize(it->Name(0x1000));
EActor->IPrint("You now know that <hText1> are really <hText2>!",s1,s2);
it->MakeKnown(0x04);
it->Remove(true);
break;
case 3:
spID = theGame->GetEffectID(1,0,
(EActor->ChallengeRating()+3)/2,50);
EActor->GainTempStati(189,NULL,-2,2,
theGame->SpellNum(spID),0,$"Aiswin's Lore",e.vCasterLev);
EActor->setSpellFlags(spID, EActor->getSpellFlags(spID)
| 0x0001 | 0x0010);
EActor->IPrint("Mystical knowledge of <9><Res><7> imprints
              itself on your mind!", spID);
break;
case 4:
for (x = EActor->x - 30; x!= (EActor->x + 30 + 1); x++)
for (y = EActor->y - 30; y!= (EActor->y + 30 + 1); y++)
if (x > 1 && y > 1 && x+1 < EMap->SizeX() && y+1 < EMap->SizeY())
if (dist(x,y,EActor->x,EActor->y) <= 30)
if (EMap->SolidAt(x,y))
if (!(EMap->SolidAt(x+1,y) && EMap->SolidAt(x-1,y) &&
EMap->SolidAt(x,y+1) && EMap->SolidAt(x,y-1) &&
EMap->SolidAt(x+1,y+1) && EMap->SolidAt(x-1,y-1) &&
EMap->SolidAt(x-1,y+1) && EMap->SolidAt(x+1,y-1)))

EMap->MarkAsSeen(0,x,y,0);
ETerm->RefreshMap();
break;
}
return 1;
},
149 {
if (EActor->HasStati(10))
return 0;
EActor->IPrint("You catch vague glimses of nightmarish, obscene shapes
        menacing you from the shadows!");
EActor->GainTempStati(10,NULL,200,7,1,0,$"Aiswin");
return 1;
};
Flags: 14, 18;
}

Effect "Aiswin's Lore" : 46
{ 0x00000004;
Desc: "Aiswin has blessed you with knowledge of a single specific
      dwenomer for one full day.";
On Event 84 {
rID spID2;
spID2 = theGame->SpellID(e.vVal);
EActor->IPrint("The knowledge of <9><Res><7> fades from your mind.",spID2);
EActor->setSpellFlags(spID2,EActor->getSpellFlags(spID2) &
~(0x0010|0x0001));
return 0;
};
}

43 Effect "Asherath;symbol" : 46
{ Desc: "Asherath's holy symbol is an iron gauntlet clasping the planet
   of Therya, with an open book behind it, and his chosen weapon is the
   long sword." ;
Flags: 18; }

God "Asherath"
{
Domains: $"Strength", $"Knowledge", $"Planning",
$"Time", $"Trickery", $"War";
Desc: "<15>God of War, Scholarship, Time and History<11>\n
      __Knowledge, Planning, Strength, Time, Trickery, War. The Long
      Sword. Weapons of Accuracy.<2>
      \n__Asherath is a distant, callous diety, but many rulers claim to
      find wisdom in his words. His faith is ironically two-sided, for he
      is the divine protector and patron of both scholars and warriors. His
      actual clergy are not many in number, for his faith demands not only
      a strong will but strength of spirit. Still, all sages, generals,
      historians and knowledge seekers all propitiate him at one time or
      another. Civilizations rise and fall, he teaches; war is ultimately
      meaningless, and time rights all wrongs. Might does not make right,
      but a righteous cause demands might to serve it, for only war can
      truly change the world. A wise warrior is the supreme force because
      he understands history and has the force of arms to craft what comes
      ahead to his will. Only a being with the personal strength to shape
      the future though violence can be fulfilled; only one with the wisdom
      to discern where war can be used to truly meaningful effect is worthy
      of leading armies. Asherath advocates fighting to protect and provide
      for the worthy (those of strong spirit, even if they are physically
      weak), to increase personal power and to leave a mark on history. He
      also demands that his followers fight to defend all practical
      knowledge, and promote its accessability to the common man. To
      Asherath, the only knowledge that has real value is that which has
      utility; he has no patience for the abstract studies, prefering
      applicable wisdom and hard numbers.
      \n__Asherath's clergy are an unusual lot. While thugs, bullies and
      murderers may pay homage to him, those who he sees fit to grant his
      blessings are neither sadistic nor compassionate, but simply scarred,
      resolute and unfeeling.  Asherath's ethos demands a certain
      callousness, a complete acceptance of the inherant brutality of life;
      his clergy tend to be bitter and more than a little nihilistic. They
      are among the strongest supporters of Empire, valuing the impact it
      has on history, but also show respect for and sometimes even aid
      resistance movements in distant provinces out of admiration for their
      fortitude.  Their services consist of battlefield blessings and
      recitations of ancient military sagas; while not scholarly per se,
      they are also incredible historians of both general and military
      history. Priests of Asherath tend to be older on average than other
      priests; the bitter experience and resolute callousness of the
      elderly veteran suit him far more than youthful exuberance and
      idealism.  Many orcs are turning away from Khasrach in order to
      worship the more studied, tactical Asherath -- especially those who
      see themselves as a grand general in their own eyes.
      \n__Asherath is the son of Abbadon and Erich. It is said he wrested
      the portfolio of time from Abbadon in a visceral, bloody duel at the
      edge of the Abyss; this fight also cost him his right eye. Asherath
      is said to have moved from the Outlands to the Grey Wastes and
      conquered a territory therein because he hated the moral indecision
      of the typical Outlander and favoured a harsher homeland. The other
      dieites often fear Asherath; he has a reputation for never losing,
      largely due to his proclivity for securing the outcome of any battle
      in his favor before he even enters it. Honor is something Asherites
      view as just delightful -- at least, as long as it is	something
      the enemy possesses that allows them to be easily manipulated.  This
      outlook has led the churches of Asherath and Erich into a
      centuries-old tradition of military conflict. 
      \n__Asherath is True Neutral in alignment, but places no alignment
      restriction on his priests or followers. His holy symbol is an iron
      gauntlet clasping the planet of Therya, with an open book behind it,
      and his chosen weapon is the long sword. He offers his priests the
      Domains of Knowledge, Planning, Strength, Time, Trickery and War.\n
      __<10>Worship:<2> Asherath is a pragmatic god who has little use for
      sacrifices. Worshippers gain favor with him when they triumph over their
      betters in combat, and as they improve their own inherant abilities (in
      the manner at which humans specifically excel). He is a lenient god, but 
      obvious stupidity draws anger from him (for example, the use of unidentified 
      items that turn out to be cursed). Followers of Asherath are sworn never to
      destroy knowledge, and a follower of Asherath allowing books to be
      damaged also angers this god. Finally, his followers are sworn to end every
      single day more experienced than they were when they awoke, and idleness
      in this regard offends Asherath. Since he does not desire sacrifices, his
      anger can be difficult to ease, but it does fade as a character's skill in
      their chosen calling increases.\n
      __<10>Blessings:<2> Asherath does not normally intercede on behalf of his followers:
      he expects them to succeed on their own skill, and thus usually does not
      answer prayers for aid, nor will he ressurect the fallen. While he is easy for most
      competant adventurers to stay in favor with, he is much less willing
      to offer aid or intervention to his followers, given his distinctly
      Darwinist approach to life. However, for very
      loyal followers he has been known to smite enemies, heal wounds or purify
      the body; asking these favors of him costs a follower greatly, however. He
      is very distant from lay worshippers.\n
      __He does not grant supernatural powers as permanent blessings as the other
      gods do; however, his theology places followers on a relentless path of self-
      testing and disciplined improvement, that allows them to gain certain subtle
      mundane benefits as favor with him rises. This philosophy allows a follower
      to develop an insight toward causing damage, increased strength and intellect,
      skill at finding others' weaknesses and greater proficiency with the magical
      schools of Divination and Evocation.";
Lists:
* 28
34
"|Go forth; gain strength and knowledge to shape the world!|"
76
"You feel that Asherath is gravely displeased with you."
48
"The air grows sharply cold, and you realize you have made a serious mistake."
35
"|Do you really believe I could not have predicted your betrayal? Fool.|"
41
"There is no response from Asherath, but you have a sense of acceptance."
36
"You know that Asherath expects His clerics to succeed with little
               aid, and you feel gravely uneasy about your frequent requests."
37
"Time seems to slow down around you briefly... or is it just the fog of war?"
38
"As is often the case, Asherath apparently expects you to solve this
              matter yourself."
39
"Asherath will no longer aid you."
40
"You feel certain Asherath grows tired of your entreaties."



50
"Your training in the Ways of Asherath teaches you to strike true
              against your enemies."
51
"Your training in the Ways of Asherath helps you to preserve your
               mental and physical might."
52
"Your training in the Ways of Asherath brings you closer to mental
               and physical perfection. You also improve your knowledge of the
               arts of Divination and Evocation."
53
"Your training in the Ways of Asherath expands your horizons."
54
"Your training in the Ways of Asherath brings you closer to mental
               and physical perfection."
55
"Your training in the Ways of Asherath allows you to push your body
              and mind beyond previously-understood limits. You also improve your 
              knowledge of the arts of Divination and Evocation."
56
"Your training in the Ways of Asherath brings you closer to mental
               and physical perfection."
57
"Your training in the Ways of Asherath allows you to push your body
              and mind beyond previously-understood limits."
58
"Your training in the Ways of Asherath brings you closer to mental
               and physical perfection.  You also improve your knowledge of the
               arts of Divination and Evocation."
61
"|I crown you the Psyche of War!|",
* 31
(-20) 1 0
$"Erich" 5 1
$"Hesani" 2 1
$"Ekliazeh" 0 0
$"Sabine" 0 0
$"Khasrach" 0 0
$"Zurvash" 0 0,
* 29
$"Nine Lives Stealer",
* 27
1250
4500
9600
18000
24000
54000
96000
102000
250000
500000,
* 30
3 5 2000
1 5 3000
2 5 4000;
Constants:
* 120 3,
* 121 3,
* 130 $"Asherath;symbol",
* 135 $"long sword",
* 136 23,
* 122 20,
* 131 10,
* 124 50,
* 126 0,
* 127 15,
* 128 2,
* 129 3,
* 139 0,
* 134 15;
Grants:
Stati[108,53,+1] at every level starting at 1st,
Stati[32,14] at 1st level,
Stati[125,3,5] at 2nd level,
Stati[125,0,5] at 2nd level,
Stati[108,0,+1] at 3rd level,
Stati[108,3,+1] at 3rd level,
Stati[152,0x00000004,+1] at every 3rd level starting at 3rd,
Stati[152,0x00000010,+1] at every 3rd level starting at 3rd,
Feat[(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 1)] at 4th level,
Stati[108,0,+1] at 5th level,
Stati[108,3,+1] at 5th level,
Ability[43,+1] at 6th level,
Stati[108,0,+1] at 7th level,
Stati[108,3,+1] at 7th level,
Ability[43,+1] at 8th level,
Stati[108,0,+1] at 9th level,
Stati[108,3,+1] at 9th level;
int32 lastRestXP;
On Event 142 {
hObj hEnemy;
if (e.EParam == 3)
{
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor))
{
ThrowEff(52,$"Asherath Smite",EActor,hEnemy);
}
EActor->IPrint("Your devotion to Asherath gives you the strength to continue!");
EActor->GainTempStati(109,NULL,150,7,36,max(40,EActor->mHP/2),
$"Asherath");
return 1;
}
return 0;
},
138 {
EActor->IPrint("You feel threatened.");
if (EActor->HasEffStati(107,$"Asherath Smite",51))
EActor->IncEffStatiMag(107,$"Asherath Smite",12,NULL,-2);
else
EActor->GainPermStati(107,NULL,12,51,-4,$"Asherath Smite");
return 1;
},
((41+1000)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isType(22))
EActor->Transgress($"Asherath",EVictim->isDead() ? 2 : 1,false,
"damaging books");
return 0;
},
(13+20000), (35+20000), (7+20000) {
if (GetHandle(EItem) != ((hObj)0))
if (EItem->isCursed())
if (!EItem->isKnown(0x02))
EActor->Transgress($"Asherath", 2, false,
"lack of caution");
return 0;
},
((42+1000)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isCreature())
if (EActor->getGod() == $"Asherath")
if (EVictim->ChallengeRating() >= EActor->ChallengeRating())
{
EActor->IPrint("You feel challenged.");
EActor->gainFavor($"Asherath",30*EVictim->ChallengeRating(),true,true);
}
return 0;
},
141 {
int32 mult;
mult = 50;
mult += EActor->SumStatiMag(113,-1,NULL);
e.EParam = (e.EParam * mult) / 50;
return 0;
},
(153+20000) {
EActor->lowerAnger($"Asherath",3);
return 0;
},
((45+1000)+20000) {
if (!EActor->isCharacter())
return 0;
if (EActor->getGod() != $"Asherath")
return 0;
if (lastRestXP > EActor->TotalXP())
EActor->Transgress($"Asherath",3,false,"lost experience");
else if (lastRestXP == EActor->TotalXP())
EActor->Transgress($"Asherath",1,false,"idleness");
lastRestXP = EActor->TotalXP();
return 0;
},
(135+500) {
e.EParam = (-103);
return 0;
};
}

Effect "Asherath Smite" : 3
{ xval: 119; yval: 51; pval: -6;
Flags: 25;
On Event 28
"You feel threatened." /
"The <EVictim> suddenly seems vulnerable.";
}

43 Effect "Ekliazeh;symbol" : 46
{ Flags: 18;
Desc: "Ekliazeh's holy symbol is a tiny adamant anvil." ; }

God "Ekliazeh"
{
Domains: $"Craft", $"Community", $"Earth", $"Law",
$"Strength", $"Protection;domain";
Desc: "<15>God of Stone and Strength<11>
      \n__Craft, Community, Earth, Law, Strength, Protection. The
      Warhammer. Lawful Weapons. <2>
      \n__Ekliazeh, the patron diety of the dwarves, is a resolute and
      stubborn being who has endured unchanging for millenia. Devoted
      to preserving the dwarven race and heritage, Ekliazeh is often
      seen as a harsh and unfeeling god. Defensive to the point of
      being xenophobic, the dogma of Ekliazeh demands that the dwarven
      people endure whatever hardships the world throws at them -- 
      Ekliazeh is a firm believer in growth through ordeal. Ekliazeh
      is prayed to by members of all the goodly races who want strength 
      and endurance (mental or physical) in a coming trial, but his favor 
      is won only by those who have lived truly in accord with the ways
      of their people and honored all who have come before them. Ekliazeh
      is not a bigoted god, and has shown his favor to humans, halflings,
      gnomes and even rare elves in the past, but the standards he holds
      people to are exacting and unforgiving.
      \n__In dwarven mythology, it is Ekliazeh who hammers the soul of every
      newborn child from the primal energies of creation at his great forge
      beneath the earth, tempering it to endure whatever hardships the world
      will throw at it, and it is the chosen warriors of Ekliazeh who hold
      the line against the primordial forces of chaos that dwell deep below
      even the citadels of the dwarves, striving to tear their way up to the
      surface world. Unsurprisingly, clerics of Ekliazeh tend to have
      something of a martyr complex, and hold surface peoples in a degree
      of contempt -- they are fighting an ageless war against the darkness
      below so that the 'soft' surface folk could live in decadance, after
      all!
      \n__Ekliazeh takes obligations to family very seriously -- a son is
      expected to obey his father in all things, and to follow the same
      career path as his father did before him; individuality is not a
      virtue that Ekliazeh rates highly. Ekliazeh is also highly patriarchal;
      while he has a very healthty respect for the physical and spiritual
      strength that women may possess, he does expect them to defer to
      men wherever there is not a good reason to do otherwise. Ekliazeh
      is prayed to by all who must delve beneath the earth, and miners,
      spelunkers and demihuman underdwellers all propitiate him, regardless
      of their patron diety. There is a distinct mystical branch to
      Ekliazeh's priesthood that focuses on mystical kinship to stone,
      dealing frequently with pech and learning to sing the great Earthsong.
      Clerics of this tradition tend to be more liberal then most Ekliazites,
      and many become geomancers at some point in their career.  
      \n__Ekliazeh's holy symbol is a tiny adamant anvil, and he offers
      his clerics the domains of Craft, Community, Earth, Law, Strength and
      Protection. His chosen weapon is the warhammer. Ekliazeh accepts the 
      sacrifice of rare gemstones gladly, and also favors the blood of evil 
      creatures of the deep Underdark -- both the monsterous aberrations and 
      more recognizable races like drow, goblins and mind flayers. He is Lawful 
      Neutral in alignment, and his priests may be of any non-Chaotic alignment.\n
      __<10>Worship:<2> All dwarves have the option to worship Ekliazeh, even if
      they do not follow a normally religious path. Ekliazeh delights in the sacrifce
      of drow, goblinoids and giants -- the traditional enemies of the dwarven
      people -- but also accepts the sacrifce of any evil creatures (other than
      dwarves). He is angered when his followers commit unlawful acts or attack
      non-hostile creatures that are not traditional enemies of the dwarves. He
      is also gravely angered when a follower kills a dwarf or a member of their
      family, for any reason. Any character (other than goblinoids, elves, drow or 
      lizardfolk) can worship Ekliazeh, but dwarves recieve the greatest favor in 
      his eyes.\n
      __<10>Blessings:<2> Ekliazeh will heal his followers, purify their bodies,
      cure blindness or maiming quite casually and lift curses or smite enemies with
      only a little more devotion. For more deeply favored followers, he can identify
      weapons, armor and shields. It requires a great deal of both personal 
      accomplishment and favor with Ekliazeh for him to raise a fallen hero.\n
      __His more permanent blessings bring a follower closer to the earth: increased
      health and endurance, skill with craftwork and even a kind of natural resistance
      to harm wrought by hardening of the skin.";
Flags: 8, 11;
Lists:
* 28
34
"|By the forge and the hammer, we stand united!|"
76
"A deep voice thunders, |Thou hast broken the ancient Law!|"
3
"A deep voice thunders, |Great riches are these!|"
6
"A deep voice intones, |Any aspirant must first prove <EActor:his> mettle!|"
7
"A deep voice scorns, |Thou art no child of mine!|"
48
"A deep voice thunders, |Unclean creature! Betrayer of the Law!|"
35
"A deep voice thunders, |Thou turns back on our covenant? Then suffer!|"
41
"|Uphold my Law, and I will carry you through all of life's hardships.
              Honor the ways of my people, and you will discover tremendous strength!|"
45
"A deep voice thunders, |Thou art a traitor to the Law, and art forever
              anathema to all my people!|"
36
"A deep voice intones, |<EActor>, you rely overmuch on my aid! You must
               survive on your own.|"
37
"The earth seems to rumble in time to your heartbeat!"
38
"A deep voice speaks sorrowfully, |I have no further aid to grant unto
               you, my child.|"
39
"A deep voice speaks sorrowfully, |I have given you all the aid even a
               champion may recieve in one lifetime!|"
40
"A deep voice speaks sorrowfully, |Soon I will no longer be able to aid
               you, my child. Be ready!|"
33
"Your sacrifice dissolves in a rich golden light!"
21
"A deep voice thunders, |This is the paltry portion you reserve for 
              your god?!|"
24
"A deep voice thunders, |You honor the Law with your offering.|"
23
"A deep voice thunders, |Great glory be upon you for the sacrifice 
               you have wrought!|"
31
"You feel as though your sins have been lessened in Ekliazeh's eyes."
32
"You feel as though your sins have been washed away in Ekliazeh's eyes."
10
"A deep voice thunders, |You dare to offer me the blood of my chosen 
              people?!|"
11
"A deep voice thunders, |You dare to offer me the blood of goodly folk?!|"
46
"I offer you the chance to return to life, to me my champion and guide
              my people on the path to righteousness!"
50
"|I gift you with the fortitude to endure all of life's ordeals!"
51
"|I gift you with the endurance of a perfect worker-soldier!"
52
"|I gift you with the ability to shape metal, and to speak with the
                spirits of the earth!|"
53
"|I gift you with unearthly resilience!|"
54
"|I shall render your flesh as hard as the stone itself!|"
55
"|I gift you with unearthly resilience!|"
56
"|I shall render your flesh as hard as the stone itself!|"
57
"|I gift you with unearthly resilience!|"
58
"|I shall render your flesh as hard as the stone itself!|"
61
"|I crown you the Warrior of the Law!|"

63
"|You whose people have slain my children for millenia now
                appeal to me? Suffer!|"
64
"|Your people are too distant from the Earth to follow my ways.|"
65
"|I bless thy workings of the earth!|";
* 26
63 (-101)
125 (-100)
66 15
84 15
41 15
103 7
103 7,
* 31
(-20) 3 1
$"Immotian" 0 0
$"Asherath" 0 0
$"Zurvash" 6 1
$"Xel" 6 1
$"The Multitude" 6 1
$"Maeve" 6 1,
#line "religion.irh" 897
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
1 3 100
2 3 100
11 3 100
4 3 300
17 3 300
3 3 500
10 58 2000
10 21 2000
10 51 2000
13 0 3000;
Constants:
* 120 6,
* 121 6,
* 130 $"Ekliazeh;symbol",
* 135 $"warhammer",
* 136 4,
* 122 12,
* 123 20,
* 131 4,
* 124 12,
* 125 8,
* 126 300,
* 127 15,
* 128 3,
* 129 2,
* 132 20,
* 133 25,
* 139 (0x0001),
* 134 7;
Grants:
Stati[125,2] at 1st level,
Stati[41,((((49 + 1) + 32) + 50) + 8)] at 2nd level,
Stati[124,9,+4] at 3rd level,
Ability[44,$"stone tell"] at 3rd level,
Ability[140,$"spellbook [Earthsong]"] at 3rd level,
Stati[107,2,+2] at every 2nd level starting at 4th,
Stati[107,17,+2] at every 2nd level starting at 5th;
On Event 142 {
hObj hEnemy;
if (e.EParam == 3)
{
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor))
{
ThrowEff(52,$"Earthmaw",EActor,hEnemy);
}
if (EActor->isThreatened())
{
EActor->IPrint("Ekliazeh gifts you with a burst of strength!");
EActor->GainTempStati(107,NULL,150,7,0,8,$"Asherath");
}
return 1;
}
return 0;
},
138 {
ThrowEff(52,$"Earthmaw",EActor,EActor);
return 1;
},
139 {
hObj h; int32 i; int32 fixed;
fixed = false;
for (h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->GetHP() != h->MaxHP())
if (h->isMetallic())
{
h->MendHP(3000);
EActor->IPrint("Your <hObj> looks as if it was never damaged!", h);
fixed = true;
}
if (fixed)
return 1;
for (i=0;i!=50;i++)
{
h = EActor->RandInv();
if (h == ((hObj)0))
return 1;
if (h->isMetallic() &&
h->GetInherantPlus() &&
h->GetInherantPlus() <
min(5,EActor->getGodLevel($"Ekliazeh") - 2))
{
h->SetInherantPlus(h->GetInherantPlus() + 1);
EActor->IPrint("Your <hObj> glows with a brilliant silver light!", h);
EActor->GodMessage($"Ekliazeh",65);
return 1;
}
}
return 1;
},
149 {
hObj h;
h = EActor->RandGoodInv(1000);
if (h == ((hObj)0))
return 0;
EActor->IPrint("Your <hObj> dissolves into a pile of gravel!");
h->Remove(true);
},
((20+500)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (!EVictim->isHostileToPartyOf(EActor))
if (!(EVictim->isMType(66) || EVictim->isMType(41) ||
EVictim->isMType(84) || EVictim->isMType(103)))
EActor->Transgress($"Ekliazeh",1,false,"unprovoked attack");
return 0;
},
(42+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isMType(63) && !(EVictim->isMType(76)
|| EVictim->isMType(36)) && EVictim->isMType(85))
EActor->Transgress($"Ekliazeh",5,false,"killing a dwarf");
if (EVictim->isMType(66) || EVictim->isMType(41) ||
EVictim->isMType(84))
EActor->gainFavor($"Ekliazeh",EVictim->ChallengeRating() * 25,false,true);
return 0;
},
(145+20000) {
if (e.EParam & 0x0010)
EActor->Transgress($"Ekliazeh",e.vMag,false, "unlawful act");
return 0;
},
151 {
if (EActor->isMType(84) || EActor->isMType(66))
{
EActor->GodMessage($"Ekliazeh", 63);
return 3;
}
if (EActor->isMType(62) || EActor->isMType(67))
{
EActor->GodMessage($"Ekliazeh", 64);
return 3;
}
return 0;
},
(135+500) {
if (EItem->HasStati(231))
e.EParam = 125;
return 0;
},
141 {
if (EActor->isMType(63))
e.EParam = ((e.EParam*4)/3) + 200;
e.EParam = (e.EParam * (40 + EActor->SkillLevel(9))) / 40;
return 0;
};
}

43 Effect "Erich;symbol" : 46
{ Flags: 18;
Desc: "Erich's holy symbol is a stylized iron scepter." ; }

God "Erich"
{
Desc: "<15>God of Chivalry, Honor and Social Hierarchy<11>\n
      __Domination, Guardian, Law, Nobility, Protection, War. The
      Light Lance. Adamant Items.<2>\n
      __Erich is a deceptively honest diety, for though he stands proudly
      amidst the ranks of the Pantheon of Light, he is at his core as evil
      as any horror spawned by the Sorcery Wars. Erich's most commonly
      preached teachings include moral rigor and honesty in war -- he is
      the patron of knights, and demands support of one's nation unto death,
      absolute obedience to one's liege, the defense of the innocent from
      creatures of darkness and the exposure of any and all hidden sins to
      the light of day. Yet, his theology also demands unquestioning obedience
      to authority, the willingness to commit the blackest acts in service
      to a higher power and the advancement of nobility, militarism and
      commerce at the expense of the common man -- essentially, Erich is
      the god of fascism.\n
      __All men are not born equal in Erich's eyes -- one's social station
      is determined at birth, and attempting to question that order is among
      the greatest crime one can commit. Peasants exist to perform manual
      labour and die on the fields of war, and any attempt to transcend that
      station must be punished with a painful death. For a priest of Erich
      to even speak to a commoner, let alone support them, is viewed by the
      church as a sin. Erich's theology calls the Good-Evil alignment axis the
      'peasant morals', and is based almost entirely upon the Law-Chaos axis.
      A disturbing number of paladins revere Erich, at least until their
      theology comes into conflict with their alignment requirement and they
      must choose between Erich and Good.\n
      __Erich's holy symbol is a stylized iron scepter. He is Lawful Evil, 
      though neither he nor his priests fully comprehend this fact. His 
      clerics may be of any Lawful alignment -- many are Good, emphasizing
      the honesty, chivalry and nobility aspects of his portfolio. His weapon 
      of choice is the light lance, and his Domains are Domination, Guardian,
      Law, Nobility, Protection and War. He appreuciates the offerings of the 
      bodies of ignoble enemies (chaotic thinking beings or unnatural beasts) 
      slain in fair combat. Followers of Erich can always claim the right of hospitality, 
      sleeping in a castle or lordly manor, resting the night without cost. Erich 
      is a demanding and inflexible god, but has been known to reward his most 
      honorable followers lavishly, even lending out powerful magical weapons and 
      armor.\n
      __<10>Worship:<2> Erich accepts the sacrifice of dragons, beasts, chaotic 
      demihumans and evil outsiders (which must be live-sacrified, since they
      do not leave corpses). He is gravely offended by the sacrifice of goblinoids,
      since he considers them to be vermin; their extermination is a chore, not an
      accomplishment worthy of chivalrous accord. Cowing enemies earns favor with
      him, however; he considers it part of the enforcement of the natural order
      of the world.\n
      __He places a very strict code of conduct upon his followers: they must not be 
      craven (by being afraid, or by skulking in the shadows), nor may they use poison, 
      utilize base trickery such as distractions or fast-talking or surrender -- especially
      not to base creatures. They may not enlist the aid of non-demihumans, especially
      not goblinoids, chaotics or evil outsiders, nor may they attempt to resolve
      their differences peacefully with such creatures. Finally, unlawful acts in
      general offend Erich, and his followers must always follow the code of chivalry,
      even when unmounted and unarmored.\n
      __Goblinoids are not considered people in Erich's theology, and thus certain
      strictures are lifted when fighting them: they may be attacked while fleeing,
      poisoned or defeated with base trickery. In Erich's cosmology, the ideals of
      chivalry and law apply only to humans, demihumans and similarly refined
      creatures. Note that Erich's worldview does not influence a worshipper's
      objective alignment, only their standing with Erich.\n
      __<10>Blessings:<2> Erich will heal, ease hunger or smite enemies
      for any follower. More loyal servants find that he will (in order
      of increasing favor) purify the body, remove fatigue, identify
      weapons, armor and shields, lift curses, replace lost spellbooks,
      replenish mana and even raise the dead.\n
      __Erich's more permanent blessings include courage and protection
      from treacherous attacks, skill at horsemanship, landkeeping and
      cowing the peasantry, the ability to conjure a phantom steed
      and a fearsome warcry.";
Domains: $"Domination", $"Guardian", $"Law", $"Nobility", $"Protection;domain", $"War";
Flags: 2, 11;
Lists:
* 28
34
"|Let there be zeal in your heart, truth in your words, honor in 
               your deeds and blood upon your sword!|",
#line "religion.irh" 1200
* 26
37 20
(48 + (103*256)) 20
35 10
(69 + (105*256)) 10
84 (-101),
* 31
(-20) 3 0
$"Immotian" $"Xavias" $"Mara" $"Ekliazeh" 0 0
$"Kysul" $"Xel" $"Khasrach" $"The Multitude" 7 1,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
1 5 0
7 4 0
3 3 0
2 4 100
8 3 100
10 58 200
10 21 200
10 51 200
4 3 500
15 5 500
16 4 1000
13 4 2000;
Constants:
* 120 5,
* 121 5,
* 130 $"Erich;symbol",
* 135 $"light lance",
* 136 70,
* 122 7,
* 123 15,
* 131 5,
* 124 12,
* 125 8,
* 126 200,
* 127 10,
* 128 7,
* 129 0,
* 132 30,
* 133 10,
* 139 (0x0001|0x0008),
* 134 10;
Grants:
Ability[58,+1] at every 2nd level starting at 1st,
Stati[123,11,+4] at 1st level,
Stati[32,40] at 2nd level,
Stati[32,42] at 2nd level,
Stati[32,20] at 2nd level,
Stati[125,5] at 3rd level,
Stati[125,2] at 3rd level,
Ability[44,$"Phantom Steed"] at 4th level,
Stati[41,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 20)] at 5th level,
Stati[124,20,+4] at 6th level,
Ability[44,$"Righteous Might"] at 7th level,
Stati[41,((49 + 1) + 21)] at 8th level,
Stati[41,(((49 + 1) + 32) + 7)] at 8th level,
Ability[44,$"Order's Wrath"] at 9th level;
On Event 142 {
int32 found; hObj hMon;
found = false;
if (e.EParam == 3) {
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && EActor->DistFrom(hMon) <= 12)
if (hMon->isHostileTo(EActor) && hMon->isMType(84))
{
if (!found)
EActor->GodMessage($"Erich",63);
found = true;
hMon->IDPrint("You are consumed in a column of searing flame!",
"The <hObj> is consumed in a column of searing flame!", hMon);
ThrowDmg(41,1,(EActor->ChallengeRating()+3)d10,
"the wrath of Erich", hMon, hMon);
}
if (!found)
EActor->GodMessage($"Erich",64);
return 1;
}
return 0;
},
138 {
EActor->IDPrint("A great, spectral mailed fist appears and smites you!",
"A great, spectral mailed fist appears and smites the <hObj>!",EActor);
ThrowDmg(41,13,(e.EParam)d10,"the fury of Erich",
EActor, EActor);
return 1;
},
139 {
hObj hItem; rID iID;
switch (1d20)
{
case 1: case 2: case 3:
iID = $"long sword";
break;
case 4:
iID = $"field plate armor";
break;
case 5:
iID = $"plate mail";
break;
case 6: case 7: case 8:
iID = $"kite shield";
break;
case 9:
iID = $"ring mail";
break;
case 10:
iID = $"scale mail";
break;
case 11:
iID = $"banded mail";
break;
case 12:
iID = $"greatsword";
break;
case 13: case 14:
iID = $"light lance";
break;
case 15:
iID = $"morningstar";
break;
case 16:
iID = $"heavy mace";
break;
case 17:
iID = $"bastard sword";
break;
case 18:
iID = $"broadsword";
break;
case 19:
iID = $"bolas";
break;
case 20:
iID = $"long bow";
break;
}
hItem = GenDungeonItem(0x0002,iID,EActor->ChallengeRating()+4,20);
EActor->GodMessage($"Erich", 65);
EActor->GainItem(hItem,false);
return 1;
},
149 {
if (EActor->HasEffStati(107,$"Erich's Disfavor"))
return 0;
EActor->GodMessage($"Erich", 66);
ThrowEff(52,$"Erich's Disfavor",EActor,EActor);
return 1;
},
151 {
if (EActor->isMType(84))
{
EActor->GodMessage($"Erich", 67);
return 3;
}
return 0;
},
(175+20000) {
if (e.EParam == 10)
EActor->Transgress($"Erich",2,false,"becoming afraid");
if (e.EParam == 65)
EActor->Transgress($"Erich",2,false,"skulking in shadows");
return 0;
},
((19+500)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (GetHandle(EItem) != ((hObj)0))
if (EItem->HasStati(2) && !EVictim->isMType(84))
EActor->Transgress($"Erich",1,false,"using poison");
if (GetHandle(EItem2) != ((hObj)0))
if (EItem2->HasStati(2) && !EVictim->isMType(84))
EActor->Transgress($"Erich",1,false,"using poison");
return 0;
},
(145+20000) {
if (e.EParam & 0x0010) {
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->isCreature() && !(EVictim->isMType(69) ||
EVictim->isMType(61) || EVictim->isMType(34) ||
EVictim->isMType(37) || EVictim->isMType(46)))
return 0;
EActor->Transgress($"Erich",(e.vMag+1)/2,false,"unlawful act");
}
return 0;
},
(61+20000), (59+20000) {
if (!EVictim->isMType(84))
EActor->Transgress($"Erich",2,false,"base treachery");
return 0;
},
(66+20000) {
if (EVictim->isMType(84) || EVictim->isMType(48+(103*256)) ||
EVictim->isMType(105))
EActor->Transgress($"Erich",10,false,"surrendering to filth");
else
EActor->Transgress($"Erich",3,false,"surrendering");
return 0;
},
(64+20000), (60+20000) {
if (EVictim->isMType(84) || EVictim->isMType(48+(103*256)) ||
EVictim->isMType(105))
EActor->Transgress($"Erich",7,false,"showing mercy to filth");
else if (!EVictim->isMType(69))
EActor->Transgress($"Erich",2,false,"showing mercy to subhumans");
return 0;
},
((65+1000)+20000) {
switch (e.EParam)
{
case 20:
break;
case 6:
if (!EActor->isMType(84))
EActor->Transgress($"Erich",2,false,"base treachery");
break;
case 11:
if (EVictim->isMType(84) || EVictim->isMType(48+(103*256)) ||
EVictim->isMType(105))
EActor->Transgress($"Erich",5,false,"associating with filth");
break;
}
return 0;
},
((57+1000)+20000) {
if (EVictim->HasStati(10) && !EVictim->HasEffStati(189,$"Erich"))
{
EVictim->GainPermStati(189,EActor,7,0,0,$"Erich");
EActor->gainFavor($"Erich",10*max(1,EVictim->ChallengeRating()));
}
return 0;
};
Flags: 14;
}

Effect "Erich's Disfavor" : 3
{ xval: 107; yval: 51; pval: -4;
Flags: 85;
Desc: "Erich's disfavor causes you to suffer a -4 penalty on all
      rolls while in combat.";
On Event 28
"You feel threatened.";
}


43 Effect "Essiah;symbol" : 46
{ Flags: 18;
Desc: "Essiah's holy symbol is a tiny clay statue of two humanoid figures 
      (of any combination of genders) intertwined in an erotic embrace." ; }

God "Essiah"
{
Domains: $"Beauty", $"Good", $"Liberation", $"Luck", $"Passion", $"Travel";
Desc: "<15>Goddess of Life, Journeys, Joy and Erotic Love<11>
      \n__Beauty, Good, Liberation, Luck, Passion, Travel. The Scourge. Warning Weapons.<2>
      \n__Portrayed as a jovial and nurturing (albiet carnally-minded and
      crass-mouthed) older woman, Essiah is the goddess who governs all the
      parts of life which are most worth treasuring. Existance is too short
      and too valuable, she teaches, to squander it upon banalities like
      status games, provincial tunnel-vision or complacent obedience.  She
      favors those who choose to take risks in pursuit of a dream or
      desire, as long as those risks aren't foolhardy enough to show a lack
      of respect for life. She is the patron goddess of gnomes (along with
      Xavias) and
      adventurers -- especially those who choose to adventure simply for
      the joy of seeing wonderous things rather then more mercenary souls.
      Her clerics are free spirits that cannot be tied down to any one
      locale, seeing a new adventure on every horizon and having a man (or
      woman) waiting in every port.
      \n__Essiah is Mara's older sister, and her counterpoint in all
      things.  The two goddesses, extreme extrovert and extreme introvert,
      have very different viewpoints on love, and on what is valuable in
      life, but support each other loyally none the less. Essiah is also a
      staunch ally of Semirath, and frequently defends him against the
      harsh accusations of Erich in Immotian's grand celestial palace.
      Maeve favors Essiah, but Essiah does not return that friendship --
      Essiah's brood take responsibility for their actions, while Maeve's
      could care less. Her priesthood has no formal temples or ranks,
      gathering together in the wilderness on nights of a full moon for
      wild baccanals where stories of exotic lands are shared and priests
      drive themselves into an ecstatic state in the hopes of recieving a
      vision from their goddess.
      \n__Essiah asks that her clerics constantly seek out new experiences,
      always yearning for the land that can be seen on the horizon. The
      greatest sin in Essiah's theology is the betrayal of a true friend,
      and the greatest virtue is embracing (and, equally importantly,
      understanding) one's own passions. Essiah does not deny the darker
      passions like hate, grief, hurt or anger, nor does she sugar-coat
      them. She encourages her followers to embrace their feelings, dark or
      light, and to act on and through them (within the bounds of moral
      conduct), provided that the darker passions are never allowed to
      overwhelm or extinguish joy or delight. Sometimes even the nicest
      people have to do something ugly, after all.
      \n__Essiah's holy symbol is a tiny statue of two humanoid figures (of any
      combination of genders) intertwined in an erotic embrace. Her chosen weapon is
      the scourge -- her clerics do not do violence lightly, but when they do
      they aim to <10>hurt<2>! She grants access to the domains of Beauty,
      Good, Liberation, Luck, Passion and Travel. She is Chaotic Good,
      and accepts followers of any Good alignment.\n
      __<10>Worship:<2> Essiah accepts as sacrifices anything evil that is
      killed in accordance with the strictures of a Good alignment, though
      she especially glories in the offering of the bodies of creatures
      who degrade sexuality or represent sexual predation, such as
      vampires, succubi and incubi, evil nymphs or satyrs and so forth.
      She is pleased when her followers engage in activities that
      push them to their personal limits and leave them hot and sweaty,
      even in the unusual case where they don't take place in the
      bedroom. She is also pleased by exploration and discovery; the
      very act of traversing a lost city or ancient ruins pleases her.
      (Characters can monitor what percent of an area they've explored
      by checking their Journal). Finally, simple acts of goodness also
      please Essiah, as does resolving conflicts without violence.\n
      __Essiah is angered by evil acts, especially attacking non-hostile 
      creatures. She also dislikes her followers remaining in one place 
      for too long -- in game terms, her favor can be lost if a character 
      levels up more then twice in the same geographic area. (This clause 
      is not implemented in <9>Halls of the Goblin King<2>, for obvious 
      reasons.)\n
      __<10>Blessings:<2> Essiah cheerfully aids her followers after
      only a nominal sacrifice, healing their wounds, purifying their
      bodies, lifting curses, transporting them to safety, easing hunger,
      removing fatigue, replenishing the spirit, curing blindness and
      permanent wounds and deflecting especially lethal blows. She will
      also ressurrect the rare follower who has served her ethos with
      exceptional devotion.\n
      __Essiah grants her followers tutelage in alchemy and the physician's
      arts (that they might manufacture herbal contraceptives and 
      abortifacients to gain control over their own bodies), and the 
      ability to understand other people, making them better able to give 
      and recieve consent and be empathetic lovers. She gifts more
      experienced followers with magically swift movement and freedom
      of action, preventing them from being restrained or paralyzed.
      (Since she has already given this gift as a racial blessing to
      the gnomish race, gnomes recieve bonus feats instead.) She is
      also known to grant beauty, wisdom and influence over dreams.";
Flags: 1;
Lists:
* 28
34
"|The horizon awaits...|"
#line "religion.irh" 1602
,
* 26
103 5
103 10
103 10
125 20
125 20,
* 31
(-20) 0 0
$"Zurvash" $"Xel" $"Maeve" $"The Multitude" 5 1,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
1 3 100
2 3 100
4 3 100
5 4 100
7 3 100
8 3 100
9 3 100
11 3 100
17 3 100
13 3 2500;
Constants:
* 120 13,
* 121 9,
* 130 $"Essiah;symbol",
* 135 $"scourge",
* 136 17,
* 122 4,
* 123 15,
* 131 5,
* 124 4,
* 125 8,
* 126 100,
* 127 10,
* 128 3,
* 129 5,
* 132 20,
* 133 20,
* 139 (0x0002|0x0004),
* 134 4;
Grants:
Stati[32,3] at 1st level,
Stati[32,1] at 1st level,
Stati[32,17] at 1st level,
Stati[124,3,+4] at 1st level,
Stati[107,26,+4] at 2nd level,
Ability[118,+4] at 2nd level,
Stati[107,26,+1] at every level starting at 3rd,
Ability[118,+1] at every level starting at 3rd,
Stati[107,5,+1] at every 2nd level starting at 3rd,
Stati[107,4,+1] at every 2nd level starting at 3rd,
Stati[177,18] at 4th level,
Ability[44,$"Dream"] at 5th level,
Stati[41,((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 36)] at 6th level,
Ability[44,$"Lifesight"] at 7th level,
Stati[41,((((49 + 1) + 32) + 50) + 34)] at 8th level;
int32 oldExploreFavor;
On Event 138 {
EActor->IPrint("You feel afflicted.");
EActor->GainPermStati(107,NULL,12,5,-6,$"Essiah");
EActor->GainPermStati(107,NULL,12,38,-4,$"Essiah");
return 1;
},
139, 149 {
if (EActor->HasEffStati(189,$"Essiah Dream"))
return 2;
EActor->GainPermStati(189,NULL,7,0,0,$"Essiah Dream");
return 1;
},
(45+1000) {
if (EActor->isThreatened())
return 0;
if (!EActor->HasEffStati(189,$"Essiah Dream"))
return 0;
EActor->RemoveEffStati($"Essiah Dream");
if (EActor->getGodAnger($"Essiah") > 5)
{
EActor->IPrint("In your dreams, you relive all the suffering
            you have wrongfully brought to others!");
ThrowDmg(41,52,1d4,"the wrath of Essiah", EActor, EActor);
EActor->cFP = -2;
EActor->LoseMana(EActor->cMana()/2);
EActor->Abuse(2,3d10);
EActor->CalcValues();
}
else if (1d12 <= EActor->getGodLevel($"Essiah"))
{
EActor->IPrint("Essiah appears to you in your dreams in the form
            you find most appealing, and beckons seductively.");
if (!EActor->yn("Accept the embrace?"))
{
EActor->IPrint("The goddess shrugs, smiles warmly without
                condemnation to you, and vanishes.");
return 1;
}
EActor->IPrint("You experience a feverish, erotic dream of
            great intensity. That was certainly a learning experience!");
EActor->GainXP(10 * EActor->TotalLevel() *
(EActor->getGodLevel($"Essiah") + 4));
EActor->Exercise(5,5d12,7,70);
EActor->Exercise(2,5d12,7,70);
}
return 1;
},
141 {
int32 newExploreFavor;
newExploreFavor = EActor->TotalExploreFavor();
if (newExploreFavor > oldExploreFavor)
{
EActor->gainFavor($"Essiah", newExploreFavor -
oldExploreFavor, false, true);
oldExploreFavor = newExploreFavor;
}
e.EParam = (e.EParam * (10 + EActor->Mod(5))) / 10;
return 0;
},
135 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;

if (!EVictim->isMType(103))
return (-100);

if (EVictim->isMType(56) ||
EVictim->tmID == $"succubus" ||
EVictim->tmID == $"nymph" ||
EVictim->tmID == $"grey nymph" ||
EVictim->tmID == $"satyr")
{ e.EParam = 125;
return 0; }

if ( EVictim->HasStati(231) &&
!EVictim->HasMFlag(53) )
return (-100);

return 0;
},
(145+20000) {
if (e.EParam & 0x0004)
EActor->gainFavor($"Essiah",25*e.vMag);
if (e.EParam & (0x0040|0x0008))
EActor->Transgress($"Essiah",(e.vMag + 1)/2,false,
"evil act");
return 0;
},

((20+500)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;

if (EVictim->isFriendlyTo(EActor) && !EVictim->HasMFlag(33))
EActor->Transgress($"Essiah",6,false,"betraying a friend");
return 0;
},
((64+1000)+20000) {
if (!EVictim->isHostileTo(EActor))
if (!(EVictim->isMType(103) && EVictim->HasMFlag(53)))
EActor->gainFavor($"Essiah",max(1,EVictim->ChallengeRating())*20);
return 0;
},
147 {
#line "religion.irh" 1780
if (EActor->getGodLevel($"Essiah") == 4)
if (EActor->isMType(64))
EActor->GainFeat(6);
return 0;
};
}

Effect "Essiah Dream" : 46 { }

43 Effect "Hesani;symbol" : 2
{ Flags: 18; Level: -91;
Desc: "Hesani's holy symbol is a topaz carved with the image of a moebius
      strip. This symbol shields its wearer from negative energy, granting
      +2 levels of necromantic damage resistance and a +1 bonus to save versus 
      death effects per magical plus it is imbued with. It also grants a +1 
      bonus to Turn checks for every two plusses. The symbol only functions
      for a worshipper of Hesani.";
xval: 104; yval: 6; pval: -92; Flags: 44; }
and 2
{ xval: 123; yval: 5; pval: -93; }
and 2
{ xval: 33; yval: 76; pval: -106; }
and 2
{ xval: 34; yval: 76; pval: -106;
On Event 28 {
if (EActor->getGod() != $"Hesani" &&
!(EActor->HasAbility(130) &&
((EActor->SkillLevel(47) +
EActor->SkillLevel(6)) > 20)))
return 1;
return 0;
};
}
#line "religion.irh" 1831
God "Hesani"
{
Domains: $"Fate", $"Weather", $"Healing;domain",
$"Magic", $"Succor", $"Sun";
Desc: "<15>God of Light, Balance and Cycles<11>
      \n__Fate, Healing, Magic, Succor, Sun, Weather. Positive Energy.<2>
      \n__Everything, Hesani argues, is a cycle. Life, magic, seasons,
      sunrise and sunset -- all must have balance. Hesani is a compassionate
      god, perhaps the one diety most truly empathic to the sufferings of
      mortal beings. He seeks to preserve life at all costs, though undead
      are anathema to him. Hesani's power waxes an sunrise and sunset, when
      the cycle of the day comes to its natural zeniths. Clerics of Hesani
      often preside over childbirth, seeing it as the ultimate expression
      of the cyclic nature of human life.
      \n__Hesani was the patron of midwives in the years past, but his
      relation with the Midwives Guild and their politics has soured
      in recent years. He protects and provides for any who seek to
      preserve life, whether physician or midwife, though his clerics
      do not discuss this policy overly vocally. Hesani has a close
      relationship with Mara, and teaches his clergy that death is a
      necessary element of life -- to simply be accepted rather then 
      feared or sought out. Her practice of creating undead is highly
      distasteful to the god of life, however. Hesani's pacifistic morals,
      combined with his clerics' vocal opposition to the use of mindless
      undead in industry and civic maintenance, tends to cause his church
      to be seen as a fringe faith with ideals far out of touch with 
      reality.
      \n__Hesani's holy symbol is a topaz carved with the image of a moebius
      strip. He has no chosen weapon, but offers his priests the Domains of
      Fate, Healing, Magic, Succor, Sun and Weather. Hesani is Neutral Good 
      in alignment, and accepts clerics of any Good alignment.\n
      __<10>Worship:<2> Hesani does not accept the sacrifice of any living
      things, but treasures offerings of gold based on their symbolic
      similarity to the sun. Unlike most gods, repeated sacrifices of gold
      increasingly please Hesani. He is also pleased when his followers
      destroy undead (in a manner not contradicting a good alignment) or 
      peacefully resolve conflicts with other living things.\n
      __Hesani expects his followers to move in harmony with the natural
      flows of the world rather than fighting against them in dissonance.
      Violence against any living things increases this dissonance so 
      Hesani's worshippers are very reluctant to engage in it. Certain
      kinds of magic are more harmonious than others as well. Divination,
      Abjuration and Theurgy are naturally balanced arts and do not create
      disharmony. Enchantment, Thaumaturgy and Arcana are reasonably easy
      to perform in a manner harmonious with the interconnectedness of
      all things, assuming that the practicioner has taken time to gain
      knowledge of the natural world and its balances. Evocation, Weavecraft
      and Illusion are more difficult to perform in a balanced manner, but
      a very knowledgable mage can use them safely. Necromancy and spells
      with the Force descriptor, however, will always increase disharmony.\n
      __Hesani does not become angry over the creation of minor disharmony;
      a worshipper will feel increasing tension around him as he slips out
      of balance with the world, until finally the situation becomes serious
      enough that Hesani is angered. Growing tension dissipates as the
      follower spends days contemplating his place in the world and realigning
      himself with the harmonious flow of vital energies.\n
      __Hesani also expects his followers not to be reckless by moving 
      forward to quickly and challenging tasks beyond their level of skill.
      Patience and knowledge of limitations is highly valued by Hesani's
      clergy.\n
      __Though some very careful warriors can find favor with Hesani, he
      would never patronize those whose lives are ruled by rage and barbarity.
      Blind anger offends Hesani greatly.\n
      __<10>Blessings:<2> Hesani is quick to intervene on any petitioner's
      behalf, and will heal the injured, purify the body, carry followers
      away from harm, amelorate hunger, deflect especially deadly blows,
      clear the mind and replenish mana for any follower. After relatively
      minor sacrifices in his name, he will also remove curses, restore
      spent fatigue and cure blindness or permanent wounds, and slightly
      later replace lost spellbooks as well. His veteran followers can
      expect him to replenish the spirit and even ressurect them should
      they die. Hesani gives aid very casually in contrast with other
      gods; asking aid costs a petitioner comparatively very little favor.
      Being raised from the dead is far more costly, however, given the
      extent to which it disrupts the natural cycle.\n
      __Loyal followers of Hesani find that their lifestyle of natural
      harmony greatly increases the volume of mystical energy they can
      channel through their bodies. All Hesani worshippers also are
      exposed to his teachings concerning nature, interacting peacefully
      with other poeple, meditation and healing living things. Moving in
      harmony with the world also leads to the world upraising you in
      kind, and those who follow Hesani's path well find benefit from many
      lucky coincidences and general good fortune. More experienced 
      followers defend themselves through intuition, study alchemy and
      magical devices, learn spells to end conflict without violence and
      find themselves in increasing harmony with the natural world.";
Flags: 1;
Lists:
* 28
34
"|Walk in harmony with the world, and your prosperity shall
               multiply a thousand-fold. Fight against its tides, and
               they will tear your life asunder.|"
63
"|To embrace the path of harmony, one must first turn away
                from barbarism.|"
#line "religion.irh" 1969
,
* 26
(-29 ) 20
125 (-103),
* 31
(-20) 0 0
$"Khasrach" $"Sabine" $"Zurvash" $"Xel" $"The Multitude"
$"Asherath" $"Erich" 3 0,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
48000
64000
92000
128000,
* 30
1 3 0
2 3 0
4 3 100
5 3 0
7 3 0
17 3 0
8 3 100
9 3 1000
11 3 100
12 3 0
13 3 1500
15 4 250
16 3 0;
Constants:
* 120 14,
* 121 11,
* 130 $"Hesani;symbol",
* 122 1,
* 123 10,
* 131 3,
* 124 4,
* 125 5,
* 126 100,
* 127 10,
* 128 12,
* 129 5,
* 132 10,
* 133 10,
* 139 (0x0004),
* 134 5;
Grants:
Stati[107,37,+4] at every level starting at 1st,
Stati[32,27] at 1st,
Stati[32,11] at 1st,
Stati[32,17] at 1st,
Stati[32,8] at 1st,
Stati[107,6,+1] at 1st,
Ability[44,$"Sanctuary"] at 2nd,
Stati[41, (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42)] at 2nd,
Ability[126,+1] at every 3rd level starting at 3rd,
Ability[44,$"Deep Slumber"] at 3rd,
Stati[125,6,+1] at every level starting at 3rd,
Stati[32,47] at 4th,
Stati[32,1] at 4th,
Stati[214,49] at 4th,
Stati[214,2] at 4th,
Ability[44,$"Ethereal Jaunt"] at 5th,
Ability[44,$"Benevolence"] at 5th,
Ability[105,+1] at 6th,
Ability[44,$"Cure Serious Wounds"] at 7th,
Ability[105,+1] at 8th;
int32 tension;
#line "religion.irh" 2047
On Event 138 {
EActor->IPrint("You feel very depleted.");
EActor->LoseMana(2000,true);
EActor->cFP = min(EActor->cFP,-2);
EActor->GainTempStati(107,NULL,7,-2,0,-6);
return 1;
},
139, 149 {
if (EMap->Depth > 1 && EActor->TotalLevel() < 11)
if (EMap->Depth > (EActor->TotalLevel() - 2))
EActor->Transgress($"Hesani",1,false,"lack of patience");
if (e.Event == 139)
{
EActor->IPrint("Natural flows replenish you.");
EActor->GainMana(10d10);
}
else
{
EActor->IPrint("Moving against the currents of the world, you
                    feel depleted.");
EActor->LoseMana(EActor->cMana()/2,true);
EActor->cFP = max(EActor->cFP-2,-2);
}
return 1;
},
135 {
if (GetHandle(EItem) != ((hObj)0))
if (EItem->Material() != 15)
e.EParam = 125;
return 0;
},
151 {
if (EActor->LevelAs($"barbarian") == EActor->TotalLevel())
{
EActor->GodMessage($"Hesani", 63);
return 3;
}
return 0;
},
(42+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isMType(76) &&
EVictim->isMType(103) &&
EVictim->HasMFlag(53))
EActor->gainFavor($"Hesani",25*max(1,EVictim->
ChallengeRating()), false, true);
if (EActor->GodID != $"Hesani")
return 0;
if (EVictim->isMType(75))
{
tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2100
tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2101
if (EVictim->isMType(85))
{ tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; } }
#line "religion.irh" 2103
if (tension >= 20) EActor->Transgress($"Hesani",1,false,"living out of harmony");
}
return 0;
},
(145+20000) {
if (e.EParam & 0x0040)
EActor->Transgress($"Hesani",e.vMag,false,"evil act");
return 0;
},
(37+20000), (36+20000) {
if (EActor->GodID != $"Hesani")
return 0;
if (e.eID->Schools & (0x00000040|0x00010000))
{
tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2118
tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2119
tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2120
if (tension >= 20) EActor->Transgress($"Hesani",1,false,"living out of harmony");
}
else if (e.eID->Schools & (0x00000010|0x00000100|0x00000020))
{
if (!EActor->SkillCheck(27,15,false))
{ tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2126
tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2127
if (tension >= 20) EActor->Transgress($"Hesani",1,false,"living out of harmony"); }
}
else if (e.eID->Schools & (0x00000008|0x00000080|0x00000002))
{
if (!EActor->SkillCheck(27,10,false))
{ tension++; switch(tension) { case 5: EActor->IPrint("You feel a certain tension."); break; case 10: EActor->IPrint("You feel somewhat out of sync with the harmonies of the world."); break; case 15: EActor->IPrint("You feel strongly out of sync with the harmonies of the world."); break; }
#line "religion.irh" 2133
if (tension >= 20) EActor->Transgress($"Hesani",1,false,"living out of harmony"); }
}
else
{
#line "religion.irh" 2143
}
return 0;
},
((45+1000)+20000) {
if (tension && !EActor->isThreatened() &&
!(EActor->getGodFlags($"Hesani") & (0x0002|0x0020)))
{
tension = max(0,tension-6);
EActor->IPrint("You feel <hText>your equilibrium return.",
tension ? "some of " : "");
}
return 0;
},
((64+1000)+20000) {
if (!EVictim->isHostileTo(EActor))
EActor->gainFavor($"Hesani",max(1,EVictim->ChallengeRating())*40);
return 0;
},
175 {
if (e.EParam == 66)
EActor->Transgress($"Hesani",2,false,"entering a rage");
return 0;
},
141 {

e.EParam = (e.EParam * (EActor->TotalLevel()*2 - EActor->LevelAs($"barbarian")))
/ EActor->TotalLevel()*2;
return 0;
};
}

43 Effect "Immotian;symbol" : 46
{ Flags: 18;
Desc: "Immotian's holy symbol is a ruby (or red glass globe, for peasants)
      encased in a thick band of cold-wrought iron."; }


God "Immotian"
{
Domains: $"Community", $"Fire", $"Knowledge", $"Law", $"Protection;domain", $"Succor";
Desc: "<15>God of Purity and Community Cleanliness<11>\n
      __Community, Fire, Knowledge, Law, Protection, Succor. The Heavy Mace. Flaming Weapons.<2>\n
      __An austere and distant deity, Immotian is the head of the Kinlands
      pantheon, and his (or, on alternating occasions, her) worship has
      grown beyond a simple priesthood to become an integral part of the
      existance of every Kinlander. All good peoples must pay homage to
      the immaculate purity and correctness of Immotian -- to do otherwise
      is heresy, and Immotian's church has enough political power to force
      even the clergy of other gods to toe the line, at least on the
      surface. Demanding and judgemental, the core theology of Immotian's
      worship is a set of rigorous codes governing hygene, dietary restrictions,
      sexual practices and agricultural standards. Immotian's theology
      places him above all other gods not only in terms of power, but in
      the sense of being a qualitatively different being -- most gods are
      fallible servants of true divinity, but Immotian itself is perfect,
      having been generated by the union of fire and light, never having
      been tainted by the touch of matter (or, metaphorically, worldly
      desires of any kind).\n
      __Immotian has no humanoid form, and his church is strictly aniconic,
      viewing any attempt to anthropomorphize their diety as blasphemy.
      He is metaphorically represented by the consuming power of flame,
      and fire plays a central part in his worship, from the vast bonfire
      that burns eternally at the heart of every one of his temples to the
      red-hot irons his clergy use to burn impurities bothh from themselves
      and from any sinners they can convince to undergo this 'purification'.
      More then anything, Immotian hates Maeve, who represents deviance from
      the Law, selfish desires and chaos. While the church officially condemns
      such acts, individual clerics of Immotian have been known to commit hate
      crimes against elves, and to openly advocate the genocide of all the
      darkling races (drow, orcs, goblins, kobolds, etc). Clerics of Immotian
      adventure in the hopes of scouring (whatever they percieve as) evil from
      the planet utterly and relentlessly.\n
      __The church of Immotian is centered around the ideal of community, and
      attempts to involve everyone nearby in its services and rituals. The
      strength (and homogenity) of a community is very important to Immotian,
      and his clerics are always expected to think in terms of doing what is
      best for the group, rather then the individual. Filial piety is very
      important to Immotites; the purpose of a child is to serve the agenda
      of his parents to the best of his ability, without quention. It is the
      duty of every member of the community to excise any impure elements
      from the body of the community as a whole, before they can lead the
      whole group into sin. The most famous aspect of this is the church's
      continual attempt to force cities to bring about a prohibition on
      mead and ales.\n
      __Immotian's holy symbol is a ruby (or red glass globe, for peasants)
      encased in a thick band of cold-wrought iron. Immotian is (barely) Lawful
      Neutral, though his church frequently veers to the darker side of the
      alignment scale in its politics. His chosen weapon is the heavy mace,
      and his Domains are Community, Fire, Knowledge, Law, Protection and Succor.\n
      __<10>Worship:<2> As a being of perfect purity, Immotian does not accept 
      the sacrifice of living things on his altars. Instead, he encourages his 
      clerics to sacrifice arcane spellbooks, wands, staves and other instruments 
      of sorcery or profane magic. He is also pleased when his followers destroy
      undead, fiends and aberrations, though even these are not to be given as
      sacrifices. His clerics must adhere to a very strict code -- they must 
      remain chaste, free of diseases, never cast arcane spells, avoid gambling 
      or drinking and preferably enforce these values on anyone else around them. 
      Creatures with ties to elemental fire (other than dragons and fiends) are 
      sacred to Immotian, and worshippers should also avoid destroying them
      under any circumstances. Finally, disease is deeply anathema to Immotian,
      and his followers must never become diseased.\n
      __<10>Blessings:<2> Immotian will purify the body of anyone who prays to
      him, provided they haven't angered him by violating his ethos. He will
      heal and cure blindness or permanent wounds for a casual follower, and
      replenish the spirit or restore fatigue for a mire loyal one. True 
      devotees can expect him to, in order, lift curses, raise them should
      they die, protect them from deadly blows and smite their enemies.\n
      __Immotian grants a loyal follower kinship to flame, allowing them to
      resist injury from it and wield flame magic more skillfully. Devoted
      worshippers also gain healing powers, allowing them to heal wounds as
      paladins do, as well as curing disease and poison. Curing the disease
      of a neutral creatures pleases Immotian, though using magic or weapons
      which cause disease conversely angers him greatly.";
Flags: 2, 11;
Lists:
* 28
34
"|The flame of purity lights the path to righteousness!|"
69
"You feel Immotian is pleased with the community you have built
              and will not strain it further by enlarging it."
17
"|Barbarian! Thou hast stained My altar with blood! This is an
               abomination of the highest order!|"

65
"|Blessed is thee who shares kinship with the spirits of flame!|"
66
"|Let no unlawful villain lay hands upon my follower!|"
63
"|Accursed be those who strike at believers!|"
67
"|I curse thee, wayward follower: let thy sweetest water taste as
                bitter as a clotted blood of thine enemies!|"
68
"|I curse thee, wayward follower: a plague upon thy fields!|"
#line "religion.irh" 2321
,
* 26
(-22) 10
(-22) 10
(-22) 10
(-57) 10
(-57) 10
125 10
125 10
77 (-101),
* 31
(-20) 3 0
$"Asherath" $"Aiswin" $"Xel" 1 0
$"Xavias" $"Erich" $"Ekliazeh" $"Hesani" 0 0,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
2 3 0
1 3 100
11 3 100
8 4 500
9 4 500
4 3 1000
13 3 1500
17 3 1500
3 5 2500;
Constants:
* 120 12,
* 121 4,
* 130 $"Immotian;symbol",
* 135 $"heavy mace",
* 136 7,
* 122 9,
* 123 7,
* 131 3,
* 124 7,
* 125 6,
* 126 100,
* 127 15,
* 128 4,
* 129 2,
* 132 10,
* 133 15,
* 139 (0x0001),
* 134 3;
Grants:
Stati[104,1,+5] at 1st level,
Stati[104,1,+2] at 2nd level,
Stati[104,1,+2] at 3rd level,
Stati[104,1,+2] at 4th level,
Stati[104,1,+2] at 5th level,
Stati[152,0x00004000,+1] at every 2nd level starting at 2nd,
Ability[49,+1] at every level starting at 2nd,
Ability[44,$"Cure Disease"] at 3rd level,
Ability[44,$"Neutralize Poison"] at 3rd level,
Ability[69,+1] at every level starting at 4th,
Ability[44,$"Celestial Aid"] at 4th level,
Ability[44,$"Fire Shield"] at 5th level,
Stati[177,1] at 6th level,
Stati[107,18,+5] at 7th level,
Stati[107,18,+3] at every level starting at 8th,
Stati[177,27] at 8th level,
Stati[177,60] at 9th level;
On Event 142 {
hObj hMon; int32 found;
found = false;
if (e.EParam == 3) {
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && EActor->DistFrom(hMon) <= 12)
if (hMon->isHostileTo(EActor))
{
if (!found)
EActor->GodMessage($"Immotian",63);

found = true;
if (hMon->ResistLevel(19) == -1)
hMon->IDPrint("You are unaffected.",
"The <hMon> is unaffected.");
if (!hMon->SavingThrow(0,25,0x00000010|0x00000001|0x00000040)) {
hMon->IDPrint("You are turned into a pillar of salt!",
"The <hObj> is transformed into a pillar of salt!", hMon);
hMon->Remove(true);
}
else
hMon->IDPrint("You resist the transformation.",
"The <hMon> resists Immotian's wrath.", hMon);
}
return 1;
}
return 0;
},
138 {
#line "religion.irh" 2427
EActor->SetEffStatiVal(104,$"Immotian",2);
EActor->SetEffStatiVal(177,$"Immotian",2);
EActor->IDPrint("You are enveloped in a pillar of flame!",
"The <hObj> is enveloped in a pillar of flame!",EActor);
ThrowDmg(41,1,(e.EParam)d6,"the fury of Immotian",
EActor, EActor);
EActor->SetEffStatiVal(104,$"Immotian",1);
EActor->SetEffStatiVal(177,$"Immotian",1);
return 1;
},
139 {
int32 enCR;
if (EActor->isThreatened())
{
EActor->GodMessage($"Immotian",66);
e.MM = 0x00000200|0x00010000|0x00000400;
e.isLoc = true;
e.EXVal = EActor->x;
e.EYVal = EActor->y;
e.vCasterLev = 20;
e.eID = $"Order's Wrath";
ReThrow(52, e);
return 1;
}
enCR = EActor->FixSummonCR(EActor->getGodLevel($"Immotian")+2,2);
if (enCR <= 0) {
EActor->GodMessage($"Immotian", 69);
EActor->gainFavor($"Immotian",4d50,false,true);
return 1;
}
e.vDuration = 30 + EActor->Mod(5)*5;
EActor->GodMessage($"Immotian", 65);
EMap->GenEncounter(0x00008000|0x00000400|0x00000010|0x00000004|
0x00000040, enCR, EMap->Depth,
95+(38*256), 0, ((rID)0), EActor->x, EActor->y, EActor);
return 1;
},
149
{
int32 found; hObj it;
switch (1d2)
{
case 1:
#line "religion.irh" 2472
found = false;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->isType(47))
{
if (!found) {
EActor->GodMessage($"Immotian",67);
found = true;
}
it->ieID = $"vial of blood;potion";
it->SetKnown(0);
}
if (found)
return 1;

case 2:
EActor->GodMessage($"Immotian",65);
ThrowEff(52,$"Insect Plague",EActor,EActor);
return 1;
}
return 1;
},
(145+20000) {
if (e.EParam & 0x0010)
EActor->Transgress($"Immotian",(e.vMag + 1)/2,false,"unlawful act");
return 0;
},
(42+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isMType(95) && !(EVictim->isMType(103) &&
(EVictim->HasMFlag(53) || EVictim->isMType(37))))
EActor->Transgress($"Immotian",EVictim->HasStati(231) ? 5 : 2,
false, "harming a sacred fire creature");

if (EVictim->isMType(76) || EVictim->isMType(58) ||
EVictim->isMType(72) || EVictim->isMType(73))
EActor->gainFavor($"Immotian",max(1,EVictim->ChallengeRating())*10,false,true);
return 0;
},
(37+20000), (36+20000) {
if (EActor->getSpellFlags(e.eID) & (0x0004|0x0000|0x0010))
if (EActor->GodID == $"Immotian")
EActor->Transgress($"Immotian",1,false,"using arcane magic");
#line "religion.irh" 2519
if (e.eID == $"contagion" || e.eID == $"poison") {
EVictim->GainPermStati(189,EActor,7,0,0,$"Immotian");
EActor->Transgress($"Immotian",3,false,"unclean magic");
}
return 0;
},
141 {
int32 ml, tl;
ml = EActor->LevelAs($"mage") +
EActor->LevelAs($"loremaster") +
EActor->LevelAs($"alienist") +
EActor->LevelAs($"bard") / 2;
tl = EActor->TotalLevel();

e.EParam = (e.EParam * (tl - ml)) / tl;
return 0;
},
(20+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (GetHandle(EItem) != ((hObj)0))
if (EItem->HasStati(2) || EItem->HasQuality(57))
EVictim->GainPermStati(189,EActor,7,0,0,$"Immotian");
if (GetHandle(EItem2) != ((hObj)0))
if (EItem2->HasStati(2) || EItem2->HasQuality(57))
EVictim->GainPermStati(189,EActor,7,0,0,$"Immotian");
return 0;
},
(28+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
(GetHandle(ETarget) == ((hObj)0)) ||
!ETarget->isCreature())
return 0;
if ((e.eID == $"Cure Disease" && EVictim->HasStati(19)) ||
(e.eID == $"Neutralize Poison" && EVictim->HasStati(2)))
if (!EVictim->HasEffStati(189,$"Immotian"))
if (!(EVictim->isMType(76) || EVictim->isMType(58) ||
EVictim->isMType(72) || EVictim->isMType(73) ||
EVictim->isMType(84)))
{
EActor->gainFavor($"Immotian",EActor->
ChallengeRating()*25,false,true);
EVictim->GainPermStati(189,EActor,7,0,0,$"Immotian");
}
return 0;
},
(175+20000) {
if (e.EParam == 19)
EActor->Transgress($"Immotian",3,false,"becoming unclean");
return 0;
},
135 {
if (GetHandle(EItem) != ((hObj)0))
if (EItem->iID == $"staff")
if (EItem->eID != ((rID)0))
e.EParam = 125;
return 0;
};
}

Effect "Celestial Aid" : 9
{ qval: 0x0002; Purpose: 0x00100; xval: 34;
Flags: 25, 82, 95;
On Event 170 {
e.vDmg = EActor->getGodLevel($"Immotian") - 3 +
EActor->Mod(5);
return 0;
},
(52+500) {
if (!EActor->LoseFatigue(2,true))
return 2;
if (EActor->getGodAnger($"Immotian"))
{
EActor->IPrint("Nothing happens.");
return 1;
}
};
Desc: "By invoking Immotian's name, a favored follower can call
      upon the services of celestials in a time of need, at the cost
      of two Fatigue Points. Not all such creatures view Immotian's
      favorably, but they are compelled by His purity, and by ancient
      pacts, to obey the invoker.";
}



1 Effect "flask of fine mead" : 3
{
xval: 6;
Flags: 25, 33, 20;
Desc: "Expensive stuff, this is.";
On Event 28 {
EActor->IdentByTrial(EItem);
EActor->Transgress($"Immotian",3,false,"drunkenness");
EActor->Transgress($"Erich",1,false,"drunkenness");
EActor->Transgress($"Hesani",1,false,"drunkenness");
EActor->gainFavor($"Maeve", 50);
EActor->gainFavor($"Essiah", 50);
return 0;
};
}

1 Effect "flask of fey wine" : 3
{
xval: 7; Level: 6;
Flags: 25, 20;
On Event 28 {
EActor->IdentByTrial(EItem);
EActor->Transgress($"Immotian",3,false,"drunkenness");
EActor->Transgress($"Erich",1,false,"drunkenness");
EActor->Transgress($"Hesani",1,false,"drunkenness");
EActor->gainFavor($"Maeve", 250);
EActor->gainFavor($"Essiah", 250);
return 0;
};
Desc: "Fey wines are known to render into deep slumber any
      non-faerie who partakes of them.";
}

1 Effect "vial of blood;potion" : 3
{
xval: 20;
Flags: 23, 20, 18;
On Event 28 {
if (EItem->isKnown(0x04))
{
EActor->IPrint("You have no desire to drink blood.");
return 2;
}
EActor->IPrint("Bleagh! This tastes like blood!");
SetSilence();
EActor->IdentByTrial(EItem);
UnsetSilence();
EActor->Transgress($"Immotian",4,false,"drinking blood");
return 0;
};
Desc: "Once a potion, this vial has been transmuted into
      thick, worthless, clotted blood.";
}


43 Effect "Khasrach;symbol" : 46
{ Flags: 18;
Desc: "Khasrach's holy symbol is an iron hoop wrapped with tanned
      leather, with a splatter of the follower's own blood in the center.";
}

God "Khasrach"
{
#line "religion.irh" 2675
Domains: $"Hatred", $"Destruction", $"Mysticism", $"Strength", $"Pain", $"War"; Desc: "<15>Goddess of the Blood<11>
      \n__Destruction, Hatred, Mysticism, Strength, Pain, War. The
      Longspear. Weapons of Terror.<2>
      \n__Patron of the orcs and goblinoids, most civilized people view
      Khasrach as a scourge upon the land -- a bloodthirsty barbarian bitch
      who seeks only the downfall of the demihuman races. There is some
      truth to this -- Khasrach is a harsh diety who demands constant
      sacrifice in her name, but she is also nurturing and supportive to
      those who are strong enough to be worthy, regardless of their race or
      creed. At her basest, Khasrach is the patron diety of anyone who is
      willing to bleed for what they believe in. She demands that her
      followers never surrender their independance or their dignity, even
      upon pain of death. (Of course, what humans call dignity can be very
      different from the similar concept for orcs.) Her rites of worship
      are primitive and ecstatic, featuring frenzied blood-letting, wild
      tribal dances and even ritualistic combat. Khasrach demands that her
      followers 'stare down the world', shaping it to their desires through
      sheer force of will.
      \n__There is a strong dichotomy between Khasrach as she once was, and
      Khasrach as she is now. Some goblinoid shamans believe Khasrach has
      become somehow debased, aspects of her godhead having been worn away
      and lost over time in reflection of the degeneration of her patron
      peoples. There is evidence that the ancient Khasrach had a more
      mystical side to her spirituality, an element of nature worship and a
      much greater emphasis on cycles, prophecy and personal
      transformation. In the modern world, however, Khasrach is falling
      into the thrall of Abbadon, being slowly consumed from within by
      blind hatred and fits of insanity. Some even fear (or hope) that the
      goddess of the orcs is slowly dying from a kind of metaphysical
      decay.
      \n__Khasrach has an ancient and bloody emnity with Ekliazeh, the
      patron god of the dwarves, and their followers rarely miss a chance
      to make war upon each other. Essiah, however, has a guarded respect
      for Khasrach in her saner moments, and the two goddesses of primal
      passions share a kind of kinship. The rest of the Theryan pantheon
      just quietly wishes she would quit trying to tear down civilization
      and go finish dying in a corner somewhere.
      \n__Khasrach's theology would purport that she tries to be Chaotic
      Neutral, but in the depths of her insanity her actions place her more
      in line with being Chaotic Evil. She accepts followers of any
      alignment. Her chosen weapon is the longspear, and her clerics gain
      access to the domains of Destruction, Hatred, Mysticism, Strength, 
      Pain and War. Her holy symbol is an iron hoop wrapped with tanned
      leather, with a splatter of the follower's own blood in the center.\n
      __<10>Worship:<2> Khasrach accepts the sacrifice of any being of
      equal or greater personal power than the worshipper. The only
      exception is her own people, goblinoids and especially orcs; such
      sacrifices infuriate her. She is also pleased when her clerics
      manage to intimidate their enemies, but highly displeased when they
      surrender or are overtaken with fear on the battlefield. Khasrach
      accepts that orcs and goblinoids war among themselves, so does not
      become angered when her followers kill the rank and file of such.
      However, she demands that priests loyal to her not kill orcs who
      have attained an exceptional level of prowess, as a deferance to
      racial unity.\n
      __Khasrach will not accept elves, dwarves or human mages as followers,
      since those groups have traditionally exploited her people. Humans
      who become mages after pledging to her are not rejected, however.\n
      __<10>Blessings:<2> Khasrach is, in her own violent way, a maternal
      goddess, and will aid her people in several ways. Casual followers
      can expect her to heal them in combat or purify their bodies, while
      slightly more loyal followers can expect that she will smite their
      enemies, remove fatigue, ease hunger and deflect especially deadly
      blows. For a truly exceptional follower, she will (in order)
      replenish the spirit, remove curses and raise the follower should
      he die, though the latter carries great cost in favor.\n
      __Khasrach's gifts increase a follower's strength of will, teach
      him to develop personal fearsomeness and give him a canny insight
      into other people. She teaches her petitioners to channel fearsome
      force into war-cries, gifts them with sacred strength and teaches
      them magic to vindictively curse (and later sense the presence of) 
      enemies.\n
      __Khasrach is known to metaphysically birth hordes of orcs, and
      often sends clutches to aid loyal followers in combat, or punish
      those who stray from her way. She also favors trial by ordeal
      when followers offend her, casting them into situations out of
      their depth.";
Flags: 13;
Lists:
* 28
34
"|Smite now your slave-chains with the primal fire of my wrath!|"
10
"|Thou dares to offer me the blood of mine own people?! SUFFER!|"
11
"|Thou dares to offer me the blood of our allies?!|"
63
"|Thou hast sinned against my way; now, prove thy loyalty in
                this trial by ordeal!|"
64
"|Know always that our people have strength in numbers!|"
65
"|Destroy the infidel, my children!|"
66
"|Thou art an enemy of my people! Suffer, infidel!|"

50
"|So I bless thee: that thou shalt turn aside all charms and
                compulsions, and see clearly past the machinations of
                others to determine thy future!|"
#line "religion.irh" 2822
,
* 26
22 (-101)
84 (-100)
0 10
0 10
0 10
0 10
0 10,
* 31
(-20) 1 0


$"Aiswin" $"Essiah" $"Semirath" $"Sabine" $"Zurvash" $"Asherath" 0 0


$"Erich" $"Ekliazeh" 7 1
$"Immotian" $"Maeve" 5 1


$"Xavias" $"Hesani" $"Mara" 3 0,
* 29
$"Bloodspear",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
1 3 100
2 3 100
3 3 250
8 3 250
7 3 250
17 3 250
9 5 750
4 3 1500
13 3 2500;
Constants:
* 120 4,
* 121 4,
* 130 $"Khasrach;symbol",
* 135 $"longspear"
* 136 28,
* 122 3,
* 123 20,
* 131 3,
* 124 8,
* 125 7,
* 126 200,
* 127 10,
* 128 2,
* 129 5,
* 132 20,
* 133 30,
* 139 (0x0002|0x0008),
* 134 10;
Grants:
Stati[107,30,+4] at 1st level,
Stati[124,3,+4] at 1st level,
Stati[32,20] at 1st level,
Stati[41,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 20)] at 2nd level,
Stati[107,0,+1] at every 2nd level starting at 2nd,
Ability[44,$"Bestow Curse"] at 3rd,
Stati[177,24] at 4th level,
Ability[44, $"Primal Scream"] at 5th,
Ability[44, $"Detect Monsters"] at 6th,
Stati[41,(((49 + 1) + 32) + 34)] at 7th level,
Stati[41,(((((49 + 1) + 32) + 50) + 38) + 9)] at 7th level,
Ability[44, $"Shadow Monsters"] at 8th,
Ability[44, $"Venom of Khasrach"] at 9th;
On Event 142 {
hObj hEnemy;
if (e.EParam == 3)
{
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor) && hEnemy->isMType(77) &&
!hEnemy->isMType(84))
{
hEnemy->IDPrint("Your blood ruptures out of your body!",
"The <hObj>'s blood is torn out of <her:EVictim> body!", hEnemy);
ThrowDmg(41,0,10d6,"the power of Khasrach",
hEnemy, hEnemy);
}
if (EActor->isThreatened())
{
EActor->IPrint("Khasrach gifts you with divine invulnerability!");
EActor->GainTempStati(39,NULL,3d6,2,
105,+3,$"Khasrach's Aegis",30);
}
return 1;
}
return 0;
},
138, 139 {
int32 n, i; hObj hOrc; rID tID;

if (EActor->ChallengeRating() >= 9)
tID = $"elite";
else if (EActor->ChallengeRating() >= 7)
tID = $"veteran";
else if (EActor->ChallengeRating() >= 5)
tID = $"experienced";
else if (EActor->ChallengeRating() >= 3)
tID = $"skilled";
else
tID = ((rID)0);

n = (e.Event == 139) ?
EActor->getGodLevel($"Khasrach") + 1 :
1 + e.EParam / 3;

EActor->GodMessage($"Khasrach", (e.Event == 139) ?
64 : 65);
for (i=0;i!=n;i++)
{
switch (1d3)
{
case 1:
hOrc = CreateMonster($"cave orc");
break;
case 2:
hOrc = CreateMonster($"hill orc");
break;
case 3:
hOrc = CreateMonster($"black orc");
break;
}
if (i == 0 && n > 3) {
hOrc->AddTemplate($"chieftan");
hOrc->IdentifyTemp($"chieftan");
}
else if (i == 1 && n > 5) {
hOrc->AddTemplate($"shaman");
hOrc->IdentifyTemp($"shaman");
}
if (tID != ((rID)0)) {
hOrc->AddTemplate(tID);
hOrc->IdentifyTemp(tID);
}
hOrc->PlaceAt(EMap,EActor->x,EActor->y);
if (e.Event == 139) {
hOrc->GainPermStati(45,NULL,7);
hOrc->MakeCompanion(EActor,6);
}
else
hOrc->TurnHostileTo(EActor);
}
return 1;
},
149 {
if (EMap->Depth > min(9,EActor->TotalLevel()+2)) {
e.EParam = EActor->getGodAnger($"Khasrach") / 2;
ReThrow(138, e);
return 1;
}
EActor->GodMessage($"Khasrach", 63);
EActor->IPrint("You are cast down!");
EActor->MoveDepth(min(10,EMap->Depth + 1 +
(EActor->getGodAnger($"Khasrach") - 8) / 5), true);
return 1;
},
135 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (!EVictim->isMType(84) &&
EVictim->ChallengeRating() <
EActor->ChallengeRating())
return (-103);
return 0;
},
151 {
if (EActor->isMType(62) || EActor->isMType(63) ||
(EActor->isMType(61) && EActor->LevelAs($"mage")))
{
EActor->GodMessage($"Khasrach", 66);
return 3;
}
return 0;
},
((42+1000)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (!EVictim->isDead())
return 0;
if (EVictim->isMType(22) && EVictim->isMType(85) &&
(!EVictim->isMType(36)) && EVictim->ChallengeRating() >= 2) {
EActor->Transgress($"Khasrach",1,false,"killing a skillful orc");
return 0;
}
if (EVictim->isMType(62) || EVictim->isMType(63) ||
(EVictim->isMType(61) &&
EVictim->HasStati(230, 0x0004)))
EActor->gainFavor($"Khasrach",max(1,EVictim->ChallengeRating())*10,false,true);
else
EActor->gainFavor($"Khasrach",max(1,EVictim->ChallengeRating()),false,true);
return 0;
},
(66+20000) {
EActor->Transgress($"Khasrach",5,false,"surrendering");
return 0;
},
(175+20000) {
if (e.EParam == 10)
EActor->Transgress($"Khasrach",2,false,"cowardice");
return 0;
},
151 {
if (EActor->isMType(62) || EActor->isMType(63) ||
(EActor->isMType(61) && EActor->LevelAs($"mage") &&
EActor->GodID != $"Khasrach"))
return 2;
return 0;
};
}

Effect "Khasrach's Aegis" : 46
{ Flags: 61, 82; }

Effect "Primal Scream" : 1
{ Level: 7; aval: 11; cval: 4; lval: 8;
Flags: 82, 35;
xval: 10; pval: 2d6; sval: 3;
Desc: "At the cost of a fatigue point, a favored servant of Khasrach
      can emit a primal scream, which affects all hostile or neutral
      creatures within 80 feet -- the screamer and any allies are immune.
      The scream inflicts 2d6 points of sonic damage, stuns anyone who
      hears and fails a Will save and knocks down anyone who fails a 
      Fortitude save.";
On Event
52 {
if (!EActor->LoseFatigue(1,true))
return 2;
return 0;
},
200
"primal scream",
206
"You scream a primal howl of fury with an almost physical
           force behind it!" /
"The <EActor> screams a primal howl of fury with an almost physical
           force behind it!";
}
and 1
{ xval: 17; pval: 3d6; sval: 2; }
and 1
{ xval: 67; sval: 0; }

Effect "Venom of Khasrach" : 1
{ 0x00000010; Base: 90; Level: 6; aval: 1; qval: 0x0001|0x0004;
xval: 3; lval: 4; sval: 1 partial; pval: (-101)d10;
Purpose: 0x00001; cval: 10;
Desc: "The most favored champions of Khasrach can spit a jet of acid --
      the metaphorical personification of Khasrach's rage -- at their
      enemies, inflicting 1d10 points of acid damage per character level
      and allowing the victim a saving throw for half damage. The cost is
      two fatigue points.";
On Event 52 {
if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
};
}

43 Effect "Kysul;symbol" : 46
{ Flags: 18;
Desc: "Kysul's holy symbol is a wide, lidless eye surronded by a corona
   of tentacles."; }

God "Kysul"
{
Domains: $"Fate", $"Good", $"Mysticism", $"Planning", $"Slime", $"Water;domain";
Flags: 6 | 19;
Desc: "<15>The Watcher Beneath the Waves<11>
      \n__Fate, Good, Mysticism, Planning, Slime, Water. The Trident. Sleep
      Weapons.<2>
      \n__Unspeakably strange, Kysul is a god from a world long since forgotten,
      a truly timeless being. It has travelled the skies for millenia untold,
      and watched the whole universe it once knew be destroyed around it. Now,
      it is determined not to allow the same thing to happen to this new world 
      that is has adopted as its own. Kysul is the progenitor of many aberration
      races such as the beholders, mind flayers and avolakia, and has abandoned
      each as they fell into the grasp of wickedness and destructive, selfish
      impulses. Kysul is also revered by (and intricately involved in the history
      of) the lizardmen, though he did not create them and the majority of their 
      race worship nature in the abstract (as druids) rather then any one specific 
      god. Immotian hates and fears Kysul, considering it a great impurity and
      blemish upon the perfection of the world.
      \n__Kysul is nothing if not a long-term planner. Patient beyond human
      imagining, it has spent the last six milennia subtly nudging forward its
      eldritch master plan to save Therya from a metaphysical armageddon that most
      humans would not even percieve, let alone understand. Often, the actions
      and objectives of this plan are not comprehensible to Kysul's followers,
      let alone casual observers, but they are none the less necessary. The Watcher 
      has access to a font of gnosis from its old world, a source of secret 
      knowledge that, if conveyed directly, will shatter the mind of any human-like 
      being. Indeed, Kysul's mere presence, and the rituals and ceremonies of its 
      clergy, have been known to cause madness in the uninitiated. For this reason, 
      its clerics form tiny, secretive cults, dwelling in the shadows outside of 
      mundane sight, in order to recieve Kysul's revelations at whatever rate their
      minds can withstand the strain. There is an extremely strict ethical code
      among followers of Kysul concerning exposing mundanes to the many things its
      followers deal with that could damage minds.
      \n__Kysul itself appears as a vast, tentacled horror with many eyes, vaguely
      resembling a cephalopod. It dwells, as its moniker suggests, deep beneath the
      sea somewhere on the prime material plane; Kysul has no ties to the Outer Planes
      or any other aspects of the human afterlife. He is stringently hostile to
      demons and devils, and his relations with celestials, surprisingly, are not
      that much better. The reason for its extreme mistrust of the Higher Planes
      is unknown. Sailors and seamen often use scraps of old chants and arcane
      gestures to propitiate Kysul, in the hopes of recieving smooth weather for
      a journey. When it percieves these, it obliges as best it can, but Kysul is
      a very alien, primordial being, and any interaction it has with humanity is
      severely limited by the radical differences in perspective.
      \n__Kysul is Lawful Good, and accepts worshippers of any non-evil alignment.
      Many evil creatures, especially aberrations, still practice ancient rituals
      and sacrifices in Kysul's name, harkening back to the ancient history of
      their race, even though Kysul no longer responds to such entreaties. It
      offers to its clerics the domains of Fate, Good, Mysticism, Planning, Slime
      and Water. Its holy symbol is a wide, lidless eye surronded by a corona of
      tentacles, and its chosen weapon is the trident. It frequently grants its 
      chosen followers access to a wide variety of ancient artifacts long 
      forgotten by history.\n
      __<10>Worship:<2> Kysul accepts any evil creature as a sacrifice, but
      is most moved by the offering of evil aberrations and any hostile outsiders as 
      sacrifices. The latter do not leave corpses, and thus must be live-sacrificed. 
      The sacrifice of non-evil aberrations offends Kysul greatly. Damaging the
      sanity (mental attributes) of sapient creatures that are not evil
      angers Kysul, as does any evil act. Killing evil aberrations pleases
      Kysul; killing non-evil aberrations, hostile or otherwise, angers it.\n
      __<10>Blessings:<2> Kysul will clear any follower's mind, and will heal,
      purify the body, lift curses, teleport to safety or cure blindness and
      permanent wounds for followers after a nominal show of loyalty. For
      more devout followers, it will replenish mana, replace lost spellbooks,
      identify items and even raise an especially loyal follower from the
      dead. Kysul penalizes intervention very strongly, however, because it
      weakens the fabrics of reality when it reaches directly into the prime 
      material plane to help a worshipper.\n
      __Kysul grants many gifts to a loyal cultist. First, students are taught
      to discipline their mind, the better to withstand contact with such an
      alien god. Shortly after, they learn about the nature of magic, the
      planes of existance and many long-dead languages of arcane power. Their
      bodies transform into something ever so slightly inhuman, granting them
      the ability to breathe water. They also gain a preternatural awareness,
      allowing them to avoid blows through uncanny intuition. A truly devout
      follower of Kysul might gain the ability to melt space and time, unearthy
      senses and command over dreams and aberrations.";
Lists:
* 28
34
"|Seek now thine antediluvian progenitors that in sunken cities 
                for eons have lain.|"
(81 + 5)
"Kysul guides you to safety through the cracks and flaws 
              between dimensions."
63
"An inhuman emanation vaguely imitates language: |This, my 
              child: a relic of civilizations long since engulfed by the 
              flow of eons!|"
64
"You feel profane."
65
"You feel you are surely facing the ire of Kysul..."
#line "religion.irh" 3237
,
* 26
(58 + 113*256) (-101)
48 15
48 15
48 15
(58 + 103*256) 10
(58 + 103*256) 10
(58 + 103*256) 10
103 10,
* 31
(-20) 0 0


$"Maeve" $"The Multitude" $"Xel" $"Zurvash" 5 1


$"Erich" $"Immotian" $"Ekliazeh" 2 0


$"Aiswin" $"Sabine" $"Asherath" $"Khasrach" 1 0

,
* 29
$"Nine Lives Stealer",
* 27
300
750
1500
3000
12000
24000
48000
64000
96000
128000,
* 30
1 4 100
2 4 100
4 4 100
5 4 100
11 4 100
12 4 0
10 (-4) 2500
13 0 6000
15 3 400
16 4 250;
Constants:
* 120 2,
* 121 2,
* 130 $"Kysul;symbol",
* 135 $"trident",
* 136 29,
* 122 20,
* 123 30,
* 131 6,
* 124 12,
* 125 8,
* 126 300,
* 127 17,
* 128 5,
* 129 4,
* 132 20,
* 133 10,
* 139 (0x0001|0x0004),
* 134 30;
Grants:
Stati[125,3,+1] at every 2nd level starting at 1st,
Stati[125,4,+1] at every 2nd level starting at 1st,
Stati[125,5,+1] at every 2nd level starting at 1st,
Stati[41,(((((49 + 1) + 32) + 50) + 38) + 26)] at 1st level,
Stati[132] at 2nd level,
Stati[32,25] at 2nd level,
Stati[32,29] at 2nd level,
Stati[32,10] at 2nd level,
Stati[124,10,+4] at 2nd level,
Stati[108,27,+4] at 3rd level,
Ability[44,$"Distance Distortion"] at 4th level,

Stati[141,1,+3] at 5th level,
Stati[141,1,+1] at every level starting at 6th level,
Ability[44,$"Nightmare"] at 6th level,
Stati[35,58,+7] at 6th level,
Stati[35,58,+3] at every level starting at 7th level,
Ability[44,$"Premonition"] at 7th level,
Ability[44,$"Phantasmal Killer"] at 7th level,
Ability[44,$"Pseudonatural Transformation"] at 8th level,
Ability[44,$"Banishment"] at 9th level;
On Event 138 {
if (!EActor->isMType(103))
return 1;
EActor->IDPrint("Obscene, alien visions tear apart your mind!",
"The <hObj> screams as <her:hObj> mind is rent!",EActor);
ThrowDmg(41,53,(e.EParam/3+1)d6,"the visage of Kysul",
EActor, EActor);
if (!EActor->isDead())
ThrowDmg(41,54,max(1,(e.EParam-1)/3+1)d6,"the visage of Kysul",
EActor, EActor);
return 1;
},
139 {
hObj hGift;
int32 isBad;
if (EActor->getGodLevel($"Kysul") < 3)
return 0;
EActor->GodMessage($"Kysul", 63);
do {
isBad = false;
hGift = GenDungeonItem(0x0002,((rID)0),EActor->getGodLevel($"Kysul")+3,20);
if (hGift->isType(60) ||

hGift->isType(47) ||
hGift->isType(50))
isBad = true;
if (hGift->isType(58) ||
hGift->isType(21) ||
hGift->isType(51))
if (EActor->WepSkill(hGift->iID) == 0)
isBad = true;
if (!hGift->isMagic())
isBad = true;
if (hGift->HasQuality(2) ||
hGift->HasQuality(3) ||
hGift->HasQuality(6))
isBad = true;

if (hGift->isType(22))
if (!EActor->LevelAs($"mage"))
isBad = true;
if (isBad)
hGift->Remove(true);
}
while (isBad);
EActor->GainItem(hGift,false);
return 1;
},
149 {
hObj hEnemy; int32 first;
first = false;
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor) && !hEnemy->isMType(85) &&
(hEnemy->isMType(35) || hEnemy->isMType(2)) &&
hEnemy->isMType(91) && hEnemy->CanAddTemplate($"pseudonatural"))
{
if (!first) {
first = true;
EActor->GodMessage($"Kysul", 65);
}
hEnemy->AddTemplate($"pseudonatural");
hEnemy->IdentifyTemp($"pseudonatural");
}
if (first)
return 1;
EActor->GodMessage($"Kysul", 64);
EActor->GainTempStati(215,NULL,-1,7,0);
return 1;
},
135 {
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->isMType(106) || EVictim->HasStati(231,-1,EActor))
return (-101);
return 0;
},

(42+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isMType(58) && !EVictim->isMType(36))
{
if (EVictim->isMType(103))
EActor->gainFavor($"Kysul",EVictim->ChallengeRating()*10,false,true);
else if (EVictim->HasStati(231,-1,EActor))
EActor->Transgress($"Kysul",5,false,"killing a friendly aberration");
else
EActor->Transgress($"Kysul",1,false,"killing a non-evil aberration");
}
else if (EVictim->isMType(48))
if (!EVictim->HasStati(231,-1,EActor))
EActor->gainFavor($"Kysul",EVictim->ChallengeRating()*5,false,true);
return 0;
},
(145+20000) {
if (e.EParam & (0x0040|0x0008))
EActor->Transgress($"Kysul",(e.vMag + 1)/2,false, "evil act");
return 0;
},
(41+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isMType(85) && !EVictim->isMType(103))
if (e.DType == 53 || e.DType == 54 || e.DType == 55)
EActor->Transgress($"Kysul",6,false,"damaging others' sanity");
return 0;
},
(50+20000) {
if (EActor->getGod() != $"Kysul")
return 0;
if (EActor->getGodAnger($"Kysul") <= 4)
return 0;
#line "religion.irh" 3441
if (EMap->Depth == 1)
return 0;
if (GetHandle(ETarget) == ((hObj)0))
return 0;
if (!ETarget->EnterDir(10))
return 0;
EActor->IPrint("Overcome with an inexplicable alien dread, you
        find yourself unable to descend.");
return 2;
},
(1+20000) {
int32 tx, ty;
if (EActor->getGod() != $"Kysul")
return 0;
if (EActor->getGodAnger($"Kysul") <= 4)
return 0;
tx = EActor->x + DirX(e.EDir);
ty = EActor->y + DirY(e.EDir);
if (EMap->FallAt(tx,ty) &&
!EMap->FallAt(EActor->x, EActor->y))
{
EActor->IPrint("Overcome with an inexplicable alien dread, you
            find yourself unable to proceed.");
return 2;
}
return 0;
};
}

Effect "Pseudonatural Transformation" : 46
{
Cost: 75; Flags: 82, 78; qval: 0x0004;
Desc: "Kysul grants his most trusted followers the ability to transform
      native living creatures into powerful pseudonatural servants touched
      by the Outer Realms. Kysul only allows non-sapient creatures to be so
      transformed, and the creature must be of an original Challenge Rating
      equal to or lower than half the follower's own Challenge Rating. The
      intended subject must also be an ally of the follower's.";
On Event 155 {
if (!EVictim->isMType(91))
return -1;
if (EVictim->isMType(85))
return -1;
if (EVictim->HasEffStati(71,$"pseudonatural"))
return -1;
if (!EVictim->CanAddTemplate($"pseudonatural"))
return -1;
if (EVictim->ChallengeRating() > (EActor->ChallengeRating()/2))
return -1;
return 0;
},
28 {
EVictim->AddTemplate($"pseudonatural");
return 1;
};
}

43 Effect "Mara;symbol" : 46
{ Flags: 18;
Desc: "Mara's holy symbol is a tiny bag of dust worn around one's neck,
   drawn from the powdered bones on an ancestor."; }

God "Mara"
{
Domains: $"Beauty", $"Death", $"Good", $"Healing;domain", $"Night", $"Succor";
Desc: "<15>Goddess of Death, Stillness and Romantic Love<11>
      \n__Beauty, Death, Good, Healing, Night, Succor. The Scythe. Keen
      Weapons.<2>
      \n__As the goddess of death and emotional closure, Mara is
      responsible for maintaining the Twilight Realm and ushering souls
      of the dead on to the afterlife. Mara teaches that life exists so 
      that we may care about those around us, develop attachments, undertake 
      quests and experience joy; ultimately, however, unending life has 
      no meaning without death. Every goal must eventually be reached or 
      failed, every relationship must come to an end and every life must 
      pass on to make room for the new. It is cruical that one's goals and 
      emotional affairs be resolved peaceably by the time of death; to die 
      unfillfilled is a great tragedy. A compassionate soul will therefore 
      help others accept their feelings, achieve their goals and go into 
      the next cycle peacefully. It is not immoral acts that bind one's 
      soul to the hells as much as bitterness and unfinished affairs. War 
      and violence end many lives before they have the chance to fulfill 
      themselves; therefore these things are great horrors and a good man 
      will strive for the peace that allows people to reach spiritual and 
      emotional resolution. To fear death is to expend energy against 
      yourself, preventing closure; treasure life but understand that death 
      is the natural peace and relaxation that is just reward - and it is a 
      reward - for a life well lived.
      \n__Along with death, Mara has been given dominion over romantic love.
      Her ethos aspects her to the rituals and ceremonies of romance more
      then the more carnal or familial aspects -- many epic paens have been
      written of comparitively chaste lovers making tremendous sacrifices in
      each other's names. Mara treasures all things of beauty, though as one
      might expect of a death-goddess her beauty is a pale and wan image of
      the world rather then the more vibrant tones on her sister Essiah.
      Clerics of Mara often nurse great, unrequited crushes on others that
      are never so much as vocalized; indeed, Mara teaches, unconsummated
      love can be the purest form, longing and loyalty untainted by the banalities
      of a real relationship. Unsurprisingly, critics accuse the faith of
      fetishizing the idea of love until it is out of touch with the real
      human condition -- often, clerics of Mara claim as their lover a
      figure who was dead centuries before they were born, or even an abstract
      ideal that does not exist in the corporeal world. Yet, the central point
      is that they accept perfect romance, just like immortality, as being
      unattainable, and are at peace with striving for the sake of striving. 
      \n__Mara's clerics are not all the black-shrouded mourners that stereotype 
      paints them - they treasure life and enjoy revelry and gaity as much as 
      anyone around them, despite their serene anticipation of their own end. 
      They serve as diplomats, counsellors, confessors and advisors to nobles 
      and commoners alike, striving to teach people the acceptance that will 
      allow them to find closure by the time they die. Her clerics intentionally 
      expose themselves and any others who are willing to the physical aspects 
      of death - not to shock or disturb, but in the hopes that by acclimating 
      others to death they will learn not to fear it and even to welcome it when 
      its time has come. Because of this practice, many of her clergy earn wages 
      as gravediggers, embalmers, plague healers and vivisectionists. Finally, 
      clerics of Mara bring peaceful, painless death to those who have resolved 
      all of their ties to life - in the case of good-aligned members of her clergy, 
      this is always done with the subject's consent; with others, it depends on the 
      priest in question.
      \n__Mara is Lawful Good, and her clerics may be of any non-evil alignment.
      Her holy symbol is a tiny bag of dust worn around one's neck, drawn from the
      powdered bones on an ancestor; her chosen weapon is the scythe. She grants
      her clerics access to the Domains of Beauty, Death, Good, Healing, Night,
      and Succor.\n
      __<10>Worship:<2> Mara would never stain her altars with the blood
      of creatures killed by her clergy, but if an adventuring
      follower should discover the corpse on an innocent
      creature killed in a desolate locale far from its home
      (such as a dungeon), this corpse might be offered on
      one of her altars so that she might give it a proper
      burial in her Celestial Graveyard and escort the soul
      on to its proper afterlife, as is Her metaphysical duty.
      Respecting the dead in this manner pleases Mara greatly.\n
      __Mara is deeply offended by her clerics killing any friendly 
      creatures; however, she is pleased when her clerics put to 
      rest the tormented souls of inherantly evil undead (and gravely 
      displeased if her clerics create such beings, though she has no 
      objection to undead in general). Evil acts in general also
      offend Mara, while good acts grant favor with her. Leading
      incorporeal undead to peaceful rest pleases Mara; this can be
      achieved by slaying them in a graveyard area, or by using
      special Marite training and the Diplomacy skill to Quell
      them. She likes her followers to be able to understand the
      natures of other thinking beings, but does not want them to
      cause fear, either mundanely or with magic.\n
      __Mara is a very exacting and unforgiving god -- she knows
      that the powers of death and necromancy can easily lead to
      tragedy, and as a result she sets an unwaveringly high moral
      standard for her followers to adhere to. Only the most
      responsible and ethical beings can be allowed to handle the
      powers of her domain!\n 
      __<10>Blessings:<2> Mara will heal any follower or transport
      them to safety, and will ressurect, grant mental clarity to
      or lift curses on the behalf of followers with even minimal
      favor. For more favored followers, she will remove fatigue
      and restore the spirit, or even purify the body. Of all the
      gods in Incursion, Mara is the freest in ressurecting her
      followers (followed by Aiswin), as her entire ethos revolves
      around the opportunity to resolve issues left unresolved at
      one's time of death.\n
      __Her more permanent blessings include resistance to fear,
      the ability to understand other thinking creatures, resistance
      to necromantic and death magics, increased potency when using
      necromancy effects and the ability to calm others' feelings 
      and animate the dead. Her greatest champions are said to be
      able to befriend the dead, and to call upon the aid of powerful,
      intelligent undead called Mourners.";
Flags: 1, 12, 16;
Lists:
* 28
34
"|May you find beauty in endings.|"
10
"A solemn voice thunders: |You have stained my altar with
              conquest-blood! You shall suffer for this grievous misjudgement!|"
63
"A solemn voice speaks crossly: |Learn now why death is never
                 to be lightly dispensed!|"
64
"A solemn voice intones: |This soul seeks to make atonement for past
                 misdeeds, and will travel with you to aid you on your quest.|"
65
"A solemn voice intones: |This soul seeks find closure lacking in life, 
              and will travel with you to aid you on your quest.|",
#line "religion.irh" 3670
* 26
125 5
125 5
125 5
125 5
125 5
125 5
125 5
125 5
126 (-101),
* 31
(-20) 1 0
$"Hesani" 0 0
$"Essiah" 0 0
$"Khasrach" $"Zurvash" $"Xel" $"Sabine" $"The Multitude" 7 1,
#line "religion.irh" 3687
* 27
100
500
1250
4500
12000
24000
48000
64000
92000
128000,
* 30
5 3 0
1 3 0
13 3 100
12 3 100
4 3 100
8 3 1000
9 3 1000
2 5 2000;
Constants:
* 120 3,
* 121 15,
* 130 $"Mara;symbol",
* 135 $"scythe",
* 136 13,
* 122 5,
* 123 3,
* 131 5,
* 124 15,
* 125 3,
* 126 900,
* 127 12,
* 128 3,
* 129 2,
* 132 20,
* 133 10,
* 139 (0x0001|0x0004),
* 134 10;
Grants:
Stati[123,11,+2] at 1st level,
Stati[32,3] at 1st level,
Stati[104,6,+2] at every level starting at 2nd,
Stati[123,5,+1] at every level starting at 2nd,
Ability[44,$"calm emotions"] at 3rd level,
Stati[152,0x00000040,+1] at every 3rd level starting at 2nd,
Ability[44,$"animate dead"] at 4th level,
Stati[214,76] at 5th level,
Ability[44,$"summon mourner"] at 6th level,
Ability[44,$"Dark Crossing"] at 7th level,
Ability[44,$"slay living"] at 8th level;
On Event 138, 149 {
if (!(EActor->isMType(75) || EActor->isMType(76)))
return 1;
EActor->GodMessage($"Mara", 63);
DPrint(e,"Your body decomposes!", "The <EActor>'s body decomposes!");
ThrowDmg(41,50,1d4+1,"the vengeance of Mara",
EActor, EActor);
ThrowDmg(41,51,1d4+1,"the vengeance of Mara",
EActor, EActor);
ThrowDmg(41,52,1d4+1,"the vengeance of Mara",
EActor, EActor);
ThrowDmg(41,55,1d4+1,"the vengeance of Mara",
EActor, EActor);
return 1;
},
139 {
hObj hComp;
if (EActor->calcFavor($"Mara") >= 1500)
{
hComp = CreateMonster($"revenant");
if (EActor->ChallengeRating() >= 5)
switch(1d10)
{
case 1: hComp->AddTemplate($"barbarian;template"); break;
case 2: hComp->AddTemplate($"bard;template"); break;
case 3: hComp->AddTemplate($"druid;template"); break;
case 4: hComp->AddTemplate($"rogue;template"); break;
case 5: hComp->AddTemplate($"paladin;template"); break;
case 6: hComp->AddTemplate($"warrior;template"); break;
case 7: hComp->AddTemplate($"ranger;template"); break;
case 8: hComp->AddTemplate($"monk;template"); break;
case 9: hComp->AddTemplate($"mage;template"); break;
case 10: hComp->AddTemplate($"priest;template"); break;
}
hComp->GainPermStati(222,NULL,7,0x0001|0x0004);
hComp->StateFlags |= 0x0008;
hComp->PlaceAt(EMap,EActor->x,EActor->y);
hComp->MakeCompanion(hComp,6);
hComp->Initialize();
EActor->GodMessage($"Mara",1d2==1 ? 64 : 65);
}
return 1;
},
(145+20000) {
if (e.EParam & (0x0008|0x0040))
EActor->Transgress($"Mara",(e.vMag+1) / 2,false,"evil act");
else if (e.EParam & 0x0004) {
EActor->gainFavor($"Mara",50*e.vMag,true,true);
EActor->lowerAnger($"Mara",1);
}
return 0;
},
((42+1000)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (!EVictim->isDead())
return 0;
if (EVictim->HasStati(231) && EVictim->isMType(85))
if (!(EVictim->HasMFlag(53) && EVictim->isMType(103)))
EActor->Transgress($"Mara",4,false,"murder");
if (EVictim->isMType(76) && EVictim->HasMFlag(9) &&
!EActor->isMType(103))

if (EMap->TerrainAt(EActor->x,EActor->y) == $"Ancient Tomb" ||
EMap->TerrainAt(EActor->x,EActor->y) == $"Graveyard" ||
EMap->TerrainAt(EActor->x,EActor->y) == $"Orderly Graveyard")
{
if (EActor->getGod() == $"Mara")
EActor->IPrint("You have allowed the restless spirit to find a
                              peaceful end. You feel Mara is most pleased.");
EActor->gainFavor($"Mara",50*EVictim->ChallengeRating(),true,true);
}
return 0;
},
(37+20000), (36+20000) {
if (ResourceHasFlag(e.eID,70))
EActor->Transgress($"Mara",1,false,"spreading fear");
return 0;
},
(57+20000) {
if (EVictim->isMType(85))
EActor->Transgress($"Mara",2,false,"intimidation");
return 0;
},
((41+500)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;


if (EVictim->isMType(76))
if (e.DType == 6)
return 0;
if (!EActor->HasEffStati(97,$"Mara"))
EActor->GainPermStati(97,EVictim,7,0,0,$"Mara",0);
return 0;
},
(135+500) {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (!EVictim->isMType(85))
return 0;
if (!EItem->HasEffStati(97,$"Mara"))
e.EParam = 126;
e.EParam = 125;
return 0;
},
141 {
e.EParam = (e.EParam * (10 + EActor->SkillLevel(3) -
EActor->SkillLevel(20))) / 10;
return 0;
},
(64+20000) {
if (!EActor->isCharacter())
return 0;
if (EActor->GodID != $"Mara")
return 0;

if (EVictim->isHostileTo(EActor) &&
EVictim->isMType(76) &&
EVictim->HasMFlag(9)) {
if (EActor->getGodFlags($"Mara") & (0x0002|0x0010|0x0020))
{
EActor->IPrint("Your own spiritual status prevents you from
              offering succor to ghosts at this time.");
return 2;
}
if (EVictim->HasEffStati(189,$"Mara"))
{
EActor->IPrint("You've already tried to put that creature to rest.");
return 2;
}
EActor->Timeout += 30;
if (EActor->SkillCheck(3,10+EVictim->ChallengeRating()*2,true))
{
TPrint(e,"You speak softly to the <EVictim>, sensing its
                      desires and using the presence of Mara to put it to
                      peaceable rest.", "",
"The <EActor> speaks softly to the <EVictim>, sensing its
                      desires and using the presence of Mara to put it to
                      peaceable rest.");
EVictim->Remove(true);
EActor->KillXP(EVictim,100);
EActor->gainFavor($"Mara",50*EVictim->ChallengeRating(),true,true);
}
else
{
EVictim->GainPermStati(189,EActor,7,0,0,$"Mara");
TPrint(e,"You try to put the <EVictim> to rest, but its rage
                        overcomes you!", "",
"The <EActor> tries to put the <EVictim> to rest,
                        but its rage overcomes <her:EActor>!");
EActor->GainTempStati(5,NULL,3d4,7);

EActor->gainFavor($"Mara",25*EVictim->ChallengeRating(),false,true);
}
return 1;
}
return 0;
};
Flags: 14;
}


Effect "Summon Mourner" : 9
{
rval: $"mourner"; pval: 6; Flags: 95;
On Event 28 {
if (!EActor->LoseFatigue(2,true))
return 1;
if (EActor->getGodAnger($"Mara"))
{
EActor->IPrint("Nothing happens.");
return 1;
}
return 0;
};
Desc: "This unique ability allows a character highly favored by
      Mara to call upon the aid of a Mourner, a unique kind of undead
      creature created by Mara to mourn and avenge tragedy. Using
      this ability costs two Fatigue points.";
}

Effect "Dark Crossing" : 3
{
Desc: "This power allows the most loyal champions of Mara to
      cross over into her domain -- the negative material plane --
      for a brief period of time, at the cost of two Fatigue
      Points.";
xval: 102; yval: 5;
Flags: 66, 61;
On Event (52+500) {
if (!EActor->LoseFatigue(2,true))
return 2;
if (EActor->getGodAnger($"Mara"))
{
EActor->IPrint("Nothing happens.");
return 1;
}
return 0;
},
28
"You cross into the negative material plane.",
84
"You return to the material plane.";
}

43 Effect "Maeve;symbol" : 46
{ Flags: 18;
Desc: "Maeve's symbol is a stylized rose."; }


God "Maeve"
{
Domains: $"Beauty", $"Chaos", $"Magic", $"Moon", $"Nobility", $"Trickery";
Desc: "<15>Queen of the Faeries<11>
      \n__Beauty, Chaos, Domination, Magic, Moon, Nobility. The Short Bow.
      Chaotic Bows.<2>
      \n__Maeve, beautiful and terrible, holds dominion over all the
      realms of faerie. Her portfolio encompasses dreams, magic, awe,
      beauty, creativity, elvenkind... and utter, amoral chaos. She
      is the patron diety of all elves, and though most sincerely wish
      she wasn't, very few elves willingly pray to another diety for
      fear of evoking her wrath. Her aegis rests over the hearts and
      souls of the elven people like a shadow; a silent, private burden
      that all elves must bear in silence. The elven courts do not
      discuss their fealty to Maeve in modern society, and no formal
      records exist of the things done to pacify Maeve. Yet a few
      human souls dwell in insane asylums across Therya, screaming of
      how they were seduced by elves and stolen away to a realm where
      years pass in a day, taken as the playthings of the Shining Lady...
      \n__Maeve is not a true power, or at least not a true member of
      Therya's divine pantheon. Older than the world itself, she dwells
      on the fringes of the plane of Pandemonium, in a perfectly sculpted
      domain of bright colors, beautiful flowers, cheerful music and
      inhuman grandeur. To mortals, her motives are inscrutable and
      her hungers insatiable, and she might as well be a real god for
      all that it matters. Her temples are always richly decorated,
      elegantly beautiful and utterly deserted, for no one wishes to
      draw her eyes onto them. Her clerics are elves chosen against
      their will by the high elven council and groomed for this
      station, along with the rare members of other races -- artists,
      playwrights, dreamers and musicians -- who are for whatever
      reason willing to make a quite literal Devil's Deal and surrender
      their soul and their sanity in exchange for an inhuman, mind-searing
      muse, a channel of pure dreams and creativity quite unlike anything
      else a mortal could ever know.
      \n__Maeve's symbol is a stylized rose. Her alignment is Chaotic
      Evil, with the evil aspect representing not so much true malevolance
      as an utter disregard for anything other then her own desires. Her
      Domains are Beauty, Chaos,  Magic, Moon, Nobility and Trickery, and 
      her chosen weapon is the short bow. Her clerics must be Chaotic and 
      cannot be Good.\n
      __<10>Worship:<2> Maeve appreuciates the sacrifice of 
      art, gemstones, jewelry and cloaks, finely crafted adornments and anything 
      else that is beautiful, especially if the sacrifice is still screaming 
      as it is being given (i.e., the charismatic creature is killed while 
      standing directly on top of Maeve's altar). Drow are also especially
      pleasing to her as sacrifices, since they have turned their backs on
      her patronage. She is pleased when her children kill drow, displeased
      if the make peace with them or surrender to them, and gravely displeased
      if they try to enlist their aid. She is also angered by her followers
      committing unchaotic acts.\n
      __<10>Blessings:<2> For any follower, Maeve will replace lost spellbooks,
      replenish mana and use the Wyrdways to carry them to safety should they
      be in mortal danger. For the slightly more favored, she will remove
      fatigue, imbuing the subject with a kind of feverish creativity so much
      coveted by artists. For those more loyal still, she will identify items
      of beauty (cloaks, rings and amulets), as well as bows. For truly favored
      followers, she can replenish the spirit, and she has even been known to
      raise truly treasured playthings from the dead.\n
      __More permanent blessings from Maeve imclude increased grace and beauty,
      talent as a performer, magic being more difficult to resist, friendship
      from the Fair Folk and inherant magic for sowing discord, conjuring
      beautiful (but destructive) music and similat abilities. Some of her
      most treasured followers are said to be able to use any magic items
      regardless of restrictions, just as rogues do.\n
      __Maeve is mercurial and wild, however, and when she intervenes in a
      follower's life, the result may be either lavish blessings or 
      terrible fury, regardless of how much of her favor a worshipper 
      possesses or whether she is offended -- though of course negative
      interventions are more likely when she is angry, and positive ones
      when she is pleased.";
Flags: 3, 18;
Lists:
* 28
34
"|And there shall be laughter and magic and blood, and we shall dance 
              our dance until the end of time...|"
63
"A mellifluous voice titters, |Oh, what a pretty <hText>! I simply
                must have it!|"
64
"A mellifluous voice titters, |Now, my precious acolate, entertain 
                me with your wonderous displays of warcraft!|"
65
"A mellifluous voice titters, |Now, on this moonless eve, the Faerie 
                Queen works her wiles: so what's fair is foul, and foul's fair!|"
66
"A mellifluous voice titters, |Let discord and misrule reign eternal!|"
67
"A mellifluous voice intones, |Now, my beautiful plaything, drink 
                deeply of my well of ancient fey dwenomers!|"
68
"A mellifluous voice intones, |To you, my loyal knight of the trees, I 
                bequithe this ancient faerie magick!|"
69
"A mellifluous voice intones, |A gift I bequeath to thee, for my most
                loyal and <hText> of champions!|"
70
"A mellifluous voice titters, |Let their be dance and music and 
                merryment!|"
71
"A mellifluous voice howls, |Now, my loyal huntsm<hText>n, destroy the
              traitor!|"
#line "religion.irh" 4100
,
* 26
62 (-100)
66 10
125 10
126 5
126 5
126 5
126 5
126 5
126 5,
* 31
(-20) 3 1,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
48000
96000
128000
256000,
* 30
15 3 0
16 3 0
5 3 0
8 3 200
10 28 500
10 48 500
10 20 500
10 24 500
9 3 1000
13 4 1500;
Constants:
* 120 21,
* 121 10,
* 130 $"Maeve;symbol",
* 135 $"short bow",
* 136 3,
* 137 76,
* 122 2,
* 123 6,
* 131 5,
* 124 4,
* 125 6,
* 126 200,
* 127 12,
* 128 7,
* 129 2,
* 132 25,
* 133 7,
* 139 (0x0002|0x0008),
* 134 2;
Grants:
Stati[107,5,+1] at 1st level,
Stati[107,1,+1] at 1st level,
Stati[32,37] at 1st level,
Stati[124,37,+2] at 1st level,
Ability[115,+1] at every 2nd level starting at 2nd,
Ability[44,$"sign of discord"] at 3nd level,
Stati[107,5,+1] at 4th level,
Stati[107,1,+1] at 4th level,
Stati[214,9] at 4th level,
Ability[44,$"Music of the Spheres"] at 5th level,
Stati[107,5,+1] at 6th level,
Stati[107,1,+1] at 6th level,
Ability[130,+1] at 6th level,
Ability[44,$"Immortal Grandeur"] at 7th level,
Stati[107,5,+1] at 8th level,
Stati[107,1,+1] at 8th level,
Ability[44,$"Othello's Irresistable Dance"] at 9th level;
On Event 139, 149 {
hObj h; rID mID, spID; int32 first; int32 i;
EActor->Exercise(6,4d12,6,80);
if (e.Event == 139 && EActor->isThreatened() && 1d2 != 1)
{
EActor->GodMessage($"Maeve", 70);
e.eID = $"Othello's Irresistable Dance";
e.MM |= 0x00000400;
e.isLoc = true;
e.EXVal = EActor->x;
e.EYVal = EActor->y;
ReThrow(52,e);
return 1;
}

switch(e.Event == 139 ? 1d8 : 1d4)
{
case 1:
ClearCandidates();
if (EActor->InSlot(11) != NULL &&
EActor->InSlot(11)->isMagic())
AddCandidate((int32) EActor->InSlot(11));
if (EActor->InSlot(12) != NULL &&
EActor->InSlot(12)->isMagic())
AddCandidate((int32) EActor->InSlot(12));
if (EActor->InSlot(13) != NULL &&
EActor->InSlot(13)->isMagic())
AddCandidate((int32) EActor->InSlot(13));
if (EActor->InSlot(14) != NULL &&
EActor->InSlot(14)->isMagic())
AddCandidate((int32) EActor->InSlot(14));
if (!nCandidates())
return 0;
h = (hObj) RandCandidate();
EActor->GodMessage($"Maeve",63,
h->isType(48) ? "ring" :
h->isType(20) ? "amulet" : "cloak");
EActor->IDPrint("Your <hObj> vanishes.",
"The <hObj2>'s <hObj> vanishes.",
h, EActor);
return 1;
case 2:
EActor->GodMessage($"Maeve",64);
EMap->GenEncounter(0x00001000|0x00040000|0x00000040,
EActor->ChallengeRating()+2, EMap->Depth,35,0,
((rID)0),EActor->x,EActor->y, ((hObj)0));
return 1;
case 3:
EActor->GodMessage($"Maeve",65);
e.eID = $"Maeve's Whimsy";
ReThrow(52,e);
return 1;
case 4:
first = false;
for(h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isCreature() && h->isFriendlyTo(EActor)
&& h != GetHandle(EActor))
{
if (!first) {
first = true;
EActor->GodMessage($"Maeve",66);
}
h->TurnHostileTo(EActor);
EActor->IPrint("The <hObj> turns on you in besotted anger!", h);
}
return first ? 1 : 0;
case 5:
first = false;
for (h=EActor->FirstInv();h;EActor->NextInv()) {
if (h->isMagic() && (!h->isCursed()) && (h->GetInherantPlus() != 0) &&
(h->GetInherantPlus() < 5)) {
if (h->ItemLevel() <= (3 + EActor->getGodLevel($"Maeve") +
EActor->Mod(5)))
{
if (!first) {
first = true;
EActor->GodMessage($"Maeve",66);
}
EActor->IPrint("Your <hObj> glows with a silvery light!", h);
h->SetInherantPlus(h->GetInherantPlus()+1);
#line "religion.irh" 4257
return 1;
}
}
}
return first ? 1 : 0;
case 6:
EActor->GodMessage($"Maeve", 68);
if (1d3 == 1)
spID = theGame->GetEffectID(1,0,
(EActor->ChallengeRating()+3)/2,53);
else
spID = theGame->GetEffectID(1,0,
(EActor->ChallengeRating()+3)/2,50);
EActor->IPrint("Knowledge of the dwenomer <Res> imprints itself
              on your mind!", spID);
EActor->GainTempStati(189,NULL,-2,2,
theGame->SpellNum(spID),0,$"Maeve's Lore",e.vCasterLev);
EActor->setSpellFlags(spID, EActor->getSpellFlags(spID)
| 0x0001 | 0x0010);
return 1;
case 7:
EActor->GodMessage($"Maeve", 69, (EActor->StateFlags &
0x0004) ? "beautiful" : "handsome");
do {
h = GenDungeonItem(0x0002,((rID)0),EActor->ChallengeRating() +
EActor->Mod(5) + 2, 10);
if (h == ((hObj)0))
return 1;
if (h->isCursed() || !h->isMagic() ||
(h->Size() >= 5 && EActor->isSmallRace()) ||
h->isType(29) || h->isType(47) || h->isType(50))
{
h->Remove(true);
h = ((hObj)0);
}
}
while (h == ((hObj)0));
EActor->GainItem(h,false);
return 1;
case 8:
EActor->IDPrint("You are surronded in a corona of rainbow
              light!", "The <hObj> is surronded in a corona of rainbow
              light!", EActor);
for (h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isCreature() && h->isHostileTo(EActor))
if (h->Percieves(EActor) && h->DistFrom(EActor) <= 12)
if (!h->isMType(36) && h->ResistLevel(21) != -1)
{
h->IPrint("The <hObj>'s heart is forever ensnared!", h);
h->GainPermStati(6,NULL,7,0,0,$"Maeve");
h->MakeCompanion(EActor,1);
}
return 1;
}
return 1;
},
138 {
int32 n, i; hObj hHuntsman;
n = 1 + e.EParam / 3;
EActor->GodMessage($"Maeve",71, n == i ? "a" : "e");
for (i=0;i!=n;i++)
{
hHuntsman = CreateMonster($"elf");
hHuntsman->AddTemplate($"twilight huntsman;temp");
hHuntsman->PlaceAt(EMap,EActor->x,EActor->y);
hHuntsman->TurnHostileTo(EActor);
}
},
151 {
if (EActor->isMType(84) ||
EActor->isMType(67))
return 2;
if (EActor->isMType(106))
if (EActor->LevelAs($"priest") ||
!EActor->isMType(62))
return 2;
return 0;
},
(42+20000) {
if (EVictim->isMType(66))
EActor->gainFavor($"Maeve",EVictim->ChallengeRating() * 50,false,true);
return 0;
},
(145+20000) {
if (e.EParam & 0x0020)
EActor->Transgress($"Maeve",e.vMag,false,"unchaotic act");
return 0;
},
(64+20000), (66+20000) {
if (EVictim->isMType(66))
EActor->Transgress($"Maeve",4,false,"yielding to drow");
return 0;
},
(60+20000) {
if (EVictim->isMType(66))
EActor->Transgress($"Maeve",8,false,"befriending drow");
return 0;
},
135 {
if (GetHandle(EVictim) == ((hObj)0))
{
if (EItem->isType(28) || EItem->isType(48) ||
EItem->isType(39) || EItem->isType(20))
e.EParam = 125;
return 0;
}
if (EVictim->GetAttr(5) <= 12)
return 0;
if (EVictim->isMType(58) ||
EVictim->isMType(84) ||
EVictim->isMType(62) ||
EVictim->isMType(66))
return 0;
e.vMag = 25 * (EVictim->GetAttr(5) - 12)
* (EVictim->GetAttr(5) - 12);
if (GetHandle(EItem) == ((hObj)0))
e.vMag *= 3;
return 126;
};
}

Effect "Maeve's Whimsy" : 32
{ Flags: 85;
On Event 28 {
e.rval = theGame->GetMonID(3, -4, 6, 1, 91);
return 0;
};
Desc: "A fit of whimsy of the part of Maeve, the Queen of the
      Faeries, has transformed this follower into a shape not his
      own until the next sunrise, when fae dwenomers traditionally
      shatter.";
}

Effect "Maeve's Lore" : 46
{ 0x00000004;
Desc: "Maeve has blessed you with knowledge of a single specific
      dwenomer for one full day.";
On Event 84 {
rID spID2;
spID2 = theGame->SpellID(e.vVal);
EActor->IPrint("The knowledge of <9><Res><7> fades from your mind.",spID2);
EActor->setSpellFlags(spID2,EActor->getSpellFlags(spID2) &
~(0x0010|0x0001));
return 0;
};
}


43 Effect "Sabine;symbol" : 46
{ Flags: 18;
Desc: "Sabine's holy symbol is a forking bolt of lightning, representing
	choice and the metaphorical 'road not taken'. " ; }

God "Sabine"
{
Domains: $"Air", $"Chaos", $"Destruction", $"Luck", $"Time", $"Weather";
Desc: "<15>God of Storms, Athletics, Prophecy and Transformations<11>
        \n__Air, Chaos, Destruction, Luck, Time, Weather. The Javelin.
        Returning Weapons.<2>
	\n__Furious, capricious and destructive, Sabine blows away the old in
	order to make room for the new. Representing renewal and regeneration,
	Sabine's clerics tear apart their own lives and those of others in order
	to reinvent themselves continually. Sabine appreciates upheaval,
	revolution and schisms, but also grants those with foresight the luck
	they need to survive in such chaotic times. He is a capricious god, but
	unlike Maeve he at least has compassion for those souls his acts destroy.
	Still, Sabine's fury cannot be restrained or limited, only guided and
	channelled. Sabine is much hated by his younger brother Immotian, who
	never could control him, and the official doctrine of Immotian's church
	is that Sabine is a dangerous terrorist and his clergy should be purged
	whenever they are discovered. However noble their reasons might be, there
	is more truth in this then most Stormbringers would care to admit.
	\n__Sabine appears as an effeminate young man of pale skin, dark hair and
	great beauty, and he carries with him a crook that gives him absolute
	authority over the weather on Therya, both good and bad. His priests
	call themselves Stormbringers, and are most frequently either sailors
	or athletes of some kind. Sabine will grant visions of the future to
	those who are willing, but recieving these revelations from him requires
	great ordeal and physical exertion, driving one's body to its limits in
	order to induce a fugue state. In Theryan mythology, Sabine plays the
	role of Cassandra: he is predestined to destroy the world at the end of
	time, so that a new one may be born, but no one will heed his warnings
	of the end times until it is too late and his grimmest duty is upon him.
	\n__Sabine's holy symbol is a forking bolt of lightning, representing
	choice and the metaphorical 'road not taken'. He is Chaotic Neutral, and
	his clerics may be of any alignment. His chosen weapon is the javelin,
	and his priests may choose from the domains of Air, Chaos, Destruction,
	Luck, Time and Weather.\n
	__<10>Worship:<2> Sabine appreuciates the sacrifice of creatures killed
	in a state of shock (i.e., when flat-footed), creatures killed by
	lightning, previously uninjured creatures killed with a single attack
	and creatures killed by a worshipper when the worshipper is in an
	altered state of consciousness (such as berserk rage, confusion or a
	trance). The more of these factors can be met in a single kill, the
	more pleasing the kill is to Sabine. He is pleased when his followers
	develop and use their athletic abilities -- running, jumping, climbing,
	swimming and tumbling -- and when they perform challenging feats of
	metamagic to increase the raw power output of their magic in times
	when they are in genuine danger.\n
	__Sabine expects his followers to be risk-takers, and is angered
	when they act overly cautiously. He is also angered when they perform
	unchaotic acts or rely on aid from allies -- followers of Sabine are
	expected to be independant and solitary.\n
	__<10>Blessings:<2> For a follower who has gained a minimal degree of
	favor, Sabine will strike at enemies with lightning, remove fatigue,
	replenish the spirit, clear the mind and offer ressurection in case 
	of death -- if the follower is sufficiently skilled, Sabine will
	raise her with even minimal favor. For more favored worshippers, 
	Sabine will (in order of increasing favor) remove curses, refill mana
	and purify the body.\n
	__Sabine's more permanent blessings include athletic aptitude, the
	ability to use wands -- the most elementally destructive of magical
	devices -- more effectively, the ability to see clearly though fog
	and for the more experienced follower, the ability to change one's
	own shape. Sabine's most famous granted power, however, is the ability
	to throw bolts of lightning, which increase in power as the follower
	increases in favor with the god. The most treasured followers of Sabine
	find that if they push themselves to their limits, they can exceed what
	they would have previously thought possible.";
Lists:
* 28
34
"|Life is a whirlwind. Cast free your tethers, dive forward
               and watch as you soar!|"
56
"|I grant thee the potential for excellence!|"
63
"A resonant voice speaks: |Thou hast grown too static --
                 be changed!|"
64
"<11>You are struck by a bolt of inspiration!<7>"
#line "religion.irh" 4533
,
* 26
125 5
125 5
125 5,
* 31
(-20) 1 0
$"Ekliazeh" 7 1
$"Hesani" $"Erich" $"Xel" $"The Multitude" 5 1
$"Essiah" $"Semirath" $"Maeve" $"Khasrach" 0 0,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
48000
64000
92000
128000,
* 32 4 7 22
45 46,
* 30
3 3 100
8 3 100
9 3 100
12 3 100
13 3 100
4 3 300
16 3 500
2 3 750;
Constants:
* 120 20,
* 121 11,
* 130 $"Sabine;symbol",
* 135 $"javelin",
* 136 8,
* 122 3,
* 123 14,
* 131 5,
* 124 7,
* 125 7,
* 126 200,
* 127 8,
* 128 0,
* 129 3,
* 132 10,
* 133 30,
* 139 (0x0002),
* 134 4;
Grants:
Stati[32,4] at 1st level,
Stati[32,7] at 1st level,
Stati[32,22] at 1st level,
Stati[32,45] at 1st level,
Stati[124,4,+4] at 1st level,
Stati[124,47,+4] at 2nd level,
Ability[44,$"lightning bolt;of sabine"] at 3rd level,
Ability[57] at 4th level,
Ability[44,$"polymorph self"] at 5th level,
Ability[44,$"premonition"] at 6th level,
Ability[43,+1] at 7th level,
Ability[44,$"polymorph other"] at 5th level,
Ability[43,+1] at 9th level;
int32 was_uninjured; int32 riskBalance;
On Event 142 {
hObj hEnemy;
if (e.EParam == 3)
{
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor))
{
hEnemy->IDPrint("You are engulfed in a pillar of lightning!",
"The <hObj> is engulfed in a piller of lightning!", hEnemy);
ThrowDmg(41,4,10d6,"the fury of Sabine",
hEnemy, hEnemy);
}
if (EActor->isThreatened())
{
EActor->IPrint("Sabine gifts you with a burst of divine speed!");
EActor->GainTempStati(107,NULL,150,7,26,20,$"Sabine");
EActor->GainTempStati(107,NULL,150,7,54,20,$"Sabine");
}
return 1;
}
return 0;
},
138 {
EActor->IDPrint("You are engulfed in a pillar of lightning!",
"The <hObj> is engulfed in a piller of lightning!", EActor);
ThrowDmg(41,4,(e.EParam)d6,"the fury of Sabine",
EActor, EActor);
return 1;
},
((41+500)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->cHP >= EVictim->mHP + EVictim->GetAttr(36))
was_uninjured = true;
else
was_uninjured = false;
return 0;
},
(42+20000) {
int32 factor;
factor = 0;
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (e.isSurprise && e.isFlatFoot)
factor++;
if (e.DType == 4 ||
(GetHandle(EItem) != ((hObj)0) &&
EItem->HasQuality(8)) ||
(GetHandle(EItem2) != ((hObj)0) &&
EItem2->HasQuality(8)))
factor++;
if (was_uninjured)
factor++;
was_uninjured = false;
if (EActor->HasStati(66) || EActor->HasStati(6) ||
EActor->HasStati(93) || EActor->HasStati(147))
factor++;
if (factor)
EVictim->GainPermStati(97,EActor,7,factor,0,$"Sabine");
return 0;
},
135 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (EVictim->HasEffStati(97,$"Sabine"))
{
e.vMag = ((EVictim->ChallengeRating()+3)*(EVictim->ChallengeRating()+3)*(EVictim->ChallengeRating()+3)) *
EVictim->GetEffStatiVal(97,$"Sabine");
e.EParam = 125;
}
return 0;
},
(37+500) {
if (EActor->isThreatened() && e.eID->Purpose == 0x00001)
{
if (e.MM & (0x00010000|0x00000200|0x00004000))
EActor->gainFavor($"Sabine",((MMFeatLevels(e.MM)+3)*(MMFeatLevels(e.MM)+3)*(MMFeatLevels(e.MM)+3))/10,false,true);
}
return 0;
},
139 {
hObj h; int32 found_ally;

found_ally = false;
if (EActor->GodID == $"Sabine")
for (h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isCreature() && h != GetHandle(EActor) &&
h->isFriendlyTo(EActor) && h->PartyID == EActor->PartyID)
{
EActor->Transgress($"Sabine",1,false,"relying on others");
found_ally = true;
}
if (found_ally)
return 1;

if (EActor->getGodLevel($"Sabine") < 3)
return 1;

EActor->GodMessage($"Sabine", 64);
EActor->GainXP(10 * EActor->TotalLevel() *
EActor->getGodLevel($"Sabine"));
EActor->Exercise(3,5d12,5,70);
return 1;
},
149 {
EActor->GodMessage($"Sabine", 63);
EActor->SwapAttributes(1 + (EActor->getAnger($"Sabine")-3)/5);
return 1;
},
141 {
e.EParam = (e.EParam * (20 + EActor->
SkillLevel(4) + (
EActor->SkillLevel(45) +
EActor->SkillLevel(22) +
EActor->SkillLevel(7) +
EActor->SkillLevel(46))/4))/20;
return 0;
},
(60+20000) {
if (EActor->GodID == $"Sabine")
EActor->Transgress($"Sabine",2,false,"relying on others");
return 0;
},
(19+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (e.AType == 67 && EActor->isThreatened())
EActor->gainFavor($"Sabine",10 * EVictim->ChallengeRating());
return 0;
},
(145+20000) {
if (e.EParam & 0x0020)
EActor->Transgress($"Sabine",(e.vMag + 1) / 2,false,"unchaotic act");
return 0;
},
((41+1000)+20000) {
if (!EActor->isCharacter())
return 0;
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->ChallengeRating() > EActor->TotalLevel())
riskBalance += EVictim->ChallengeRating() - EActor->TotalLevel();
else if (EActor->TotalLevel() - 2 >= EMap->Depth)
riskBalance -= EActor->TotalLevel() - 2 >= EMap->Depth;
return 0;
},
((45+1000)+20000) {
if (riskBalance < -10) {
if (EActor->GodID == $"Sabine") {
EActor->IPrint("You fear you are working overly cautiously for
                    one seeking Sabine's favor.");
EActor->Transgress($"Sabine",1 - riskBalance/20,false,
"overly cautious");
}
riskBalance = 0;
}
return 0;
};
}

Effect "Lightning Bolt;of Sabine" : 1
{ 0x00000010; Cost: 17; sval: 1 partial; Flags: 82, 89;
xval: 4; pval: (-101)d6; Purpose: 0x00001;
aval: 2; qval: 0x0001 | 0x0004; cval: 14; lval: 15;
On Event (52+500) {
e.vCasterLev = EActor->getGodLevel($"Sabine") * 2;
if (EActor->getGodAnger($"Sabine") > 3)
{
EActor->IPrint("Nothing happens.");
return 1;
}
return 0;
},
170 {
e.vCasterLev = EActor->getGodLevel($"Sabine") * 2;
SetPVal(e,0,e.vCasterLev,6);
return 0;
};
Desc: "Sabine grants his followers the ability to cast lightning
      bolts inflicting a number of d6's worth of damage commensurate
      with that follower's favor with him. A Reflex saving throw
      halves the damage inflicted.";
}


43 Effect "Semirath;symbol" : 46
{ Flags: 18;
Desc: "Semirath's holy symbol is a crystalline chakram." ;
}

God "Semirath"
{
Domains: $"Chaos", $"Good", $"Liberation",
$"Luck", $"Retribution", $"Trickery";
Desc: "<15>God of Justice, Laughter and Freedom<11>
      \n__Chaos, Good, Liberation, Luck, Retribution, Trickery. The
      Chakram. Weapons of Distance.<2>
      \n__Much maligned by the more solemn dieties, Semirath is the
      patron deity of jesters, guards and anyone who appreuciates
      the joyful absurdity of life. He entreats his followers to
      protect the individual rights and freedoms of thinking creatures
      of every sort, irregardless of race, social station or outlook.
      Semirath is an incorrigable trickster, but his games always
      target those who have done something deserving, whether they
      take the form of gentle chastisement or brutal guerilla warfare.
      Beneath his casual demeanor, Semirath harbors a deep devotion to
      equal justice, and a desire to punish those who have wrongfully
      taken joy or freedom from others. His clergy work tirelessly to
      bring down corrupt autocracies, punish domination and liberate
      the oppressed, and their schismatic touch has collapsed more
      than one evil empire.
      \n__Optimism is a central virtue to the clergy of Semirath --
      his notion of freedom emcompasses not only the removal of
      external restrictions, but freedom from the limits that despair,
      pragmatism and cynicism place upon a soul. A very few paladins
      serve Semirath, though many find it difficult to reconcile the
      paladin's devotion to law with a god to whom dirty tricks are
      just a way of life.
      \n__Semirath's holy symbol is a crystalline chakram, and that
      is also his chosen weapon. He offers his clerics the powers and
      spells from the Domains of Chaos, Good, Liberation, Luck, Retribution
      and Trickery. He is Chaotic Good, though he cheerfully accepts 
      clerics of any Good alignment.\n
      __<10>Worship:<2> Semirath will accept any evil creature as a
      sacrifice, though he especially appreuciates the sacrifice of 
      creatures who embody tyrrany (such as illithids or beholders 
      and their creations) as well as common bandits, outlaws and 
      brigands that lurk in the shadows in cities, bringing fear to
      honest folk. He also accepts the sacrifice of magical items used
      to mentally enslave or control others.\n
      __Semirath is a tolerant and forgiving god, but can be angered
      if his followers commit evil acts repeatedly. He is also gravely
      angered if his followers kill a good member of a normally evil
      species, seeing this as essentially a hate crime. Killing any
      non-evil sapient creature is also to be avoided, though less
      serious -- Semirath prefers his followers to trick and finangle
      rather than slay when not dealing with evil. Outsiders (including
      elementals) are exempt from this restriction, because they can be
      exceptionally alien and difficult to communicate with, and do not
      truly 'die' when slain on the Prime Material Plane, instead 
      returning to their natural homes.\n 
      __Semirath approves of risk-takers and dislikes caution in the
      same sense that Sabine does.\n
      __It's said that a silver tongue and skill as an entertainer
      amplify favor with Semirath; in a more general sense, competance
      and skillfully larcenous solutions to problems please him.\n
      __<10>Blessings:<2> Semirath is more willing to come to the aid
      of his followers more frequently than most gods. He will heal,
      purify the body, teleport to safety, ease hunger or fatigue or
      replace spellbooks for followers with only minimal favor. For
      those who have followed him longer and done more in his name, he
      will cure blindness and permanent wounds, lift curses and grant
      incredible luck and grace in combat. He has also been known to
      ressurect those that have served him more loyally still.\n
      __His permanent blessings include the ability to develop certain
      larcenous skills, inherant magic suited to trickery and pranks
      and augmented agility and intellect.";
Flags: 1, 15, 13, 14;
Lists:
* 28
34
"|Now, my child, go forth and teach the legions of ignorance 
              that there are many fates worse than death, and some even 
              involve radishes!|"
63
"A boyish voice speaks: |Leave my follower alone, you cretins!|"
64
"A boyish voice speaks: |Gratuitous nudity is *always* appropriate!|",
#line "religion.irh" 4918
* 26
42 10
7 10
103 5
103 5
125 15
125 15
126 12
126 12,
* 31
(-20) 0 0
$"Erich" $"Immotian" $"Ekliazeh" 2 0
$"Zurvash" $"Xel" $"The Multitude" 5 1,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 32
6 10
37 10
12 10
33 5
16 5
5 5
22 5
34 5
43 5
46 5
47 5,
* 30
1 3 100
2 3 100
14 4 1000
4 4 1000
5 5 100
7 3 100
17 3 100
8 3 100
11 4 1000
13 5 2000
15 3 100;
Constants:
* 120 13,
* 121 13,
* 130 $"Semirath;symbol",
* 135 $"chakram",
* 136 21,
* 122 3,
* 123 12,
* 131 5,
* 124 5,
* 125 5,
* 126 100,
* 127 8,
* 128 6,
* 129 5,
* 132 10,
* 133 20,
* 139 (0x0002|0x0004),
* 134 5;
Grants:
Stati[32,6] at 1st level,
Stati[32,37] at 1st level,
Stati[32,12] at 1st level,
Ability[44,$"Change Self"] at 2nd level,
Ability[44,$"Stinking Cloud"] at 2nd level,
Stati[107,1,+1] at 3rd level,
Stati[107,3,+1] at 3rd level,
Stati[107,1,+1] at 4th level,
Stati[107,3,+1] at 4th level,
Ability[44,$"Dimension Door"] at 5th level,
Stati[41,(((49 + 1) + 32) + 44)] at 6th level,
Stati[41,((49 + 1) + 20)] at 7th level,
Ability[44,$"Othello's Irresistable Dance"] at 8th level,
Ability[44,$"Power Word: Stun"] at 9th level;
int32 riskBalance, rbTimer;
On Event 142 {
if (e.EParam == 14) {
ThrowEff(52,$"Semirath's Aid",EActor,EActor);
return 1;
}
return 0;
},
138 {
EActor->IDPrint("Rancid milk and animal entrails rain down upon you!",
"Rancid milk and animal entrails rain down upon the <hObj>!",EActor);
ThrowDmg(41,74,(e.EParam)d6,"the vengeance of Semirath",
EActor, EActor);
EActor->GainTempStati(20,NULL,3d6,7);
ThrowEff(52,$"Bestow Curse",EActor,EActor);
return 1;
},
139 {
#line "religion.irh" 5022
int32 found; hObj hMon;
found = false;
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && EActor->DistFrom(hMon) <= 12)
if (hMon->isHostileTo(EActor) && EMap->LineOfFire(
hMon->x, hMon->y, EActor->x, EActor->y, hMon))
{
if (!found)
{
found = true;
EActor->GodMessage($"Semirath",63);
}
hMon->GainPermStati(15,NULL,7);
hMon->GainTempStati(5,NULL,3d6,7);
hMon->IDPrint("You collapse in a fit of uncontrollable laughter!",
"The <hObj> collapses in a fit of uncontrollable 
                            laughter!", hMon);
}
return 1;
},
149 {
hObj hItem; int32 x, y, n, i;
if (EActor->getAnger($"Semirath") <= 10)
ReThrow(138,e);
EActor->GodMessage($"Semirath",64);
ClearCandidates();
for (hItem=EActor->FirstInv();hItem;hItem=EActor->NextInv())
if (!(hItem == EActor->InSlot(3) ||
hItem == EActor->InSlot(23)))
AddCandidate((int32)hItem);
n = nCandidates();
for (i=0;i!=n;i++)
{
hItem = (hObj)GetCandidate(i);
hItem->Remove(false);
do {
x = 1d(EMap->SizeX()-1);
y = 1d(EMap->SizeY()-1);
}
while (EMap->SolidAt(x,y) || EMap->FallAt(x,y) ||
ResourceHasFlag(EMap->TerrainAt(x,y),6) ||
ResourceHasFlag(EMap->TerrainAt(x,y),7) ||
ResourceHasFlag(EMap->TerrainAt(x,y),16));
hItem->PlaceAt(EMap,x,y);
}
return 1;
},
(145+20000) {
if (e.EParam & (0x0040|0x0008))
EActor->Transgress($"Semirath",(e.vMag+1)/2,
(1d6 == 1) && (EActor->getGod() == $"Semirath"),
"evil act");
return 0;
},
(42+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (ResourceHasFlag(EVictim->mID,49) &&
!EVictim->isMType(103) &&
EVictim->isMType(85) &&
!EVictim->isMType(36))
EActor->Transgress($"Semirath",8,false,
"killing a heroic member of a normally evil race");
else if (EVictim->isMType(85) &&
!EVictim->isMType(103) &&
!EVictim->isMType(48) &&
!EVictim->isMType(38))
EActor->Transgress($"Semirath",4,false,
"killing a non-evil, thinking creature");
return 0;
},
141 {
e.EParam = (e.EParam * (20 + EActor->GetSkillRanks(37) +
EActor->GetSkillRanks(6))) / 20;
return 0;
},
((19+1000)+20000) {
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->isMType(103) && e.isSurprise)
EActor->gainFavor($"Semirath",10*max(1,EVictim->
ChallengeRating()),false,true);
return 0;
},
((41+1000)+20000) {
if (!EActor->isCharacter())
return 0;
if (GetHandle(EActor) == GetHandle(EVictim) ||
!ETarget->isCreature())
return 0;
if (EVictim->ChallengeRating() > EActor->TotalLevel())
riskBalance += EVictim->ChallengeRating() - EActor->TotalLevel();
else if (EActor->TotalLevel() - 2 >= EMap->Depth)
riskBalance -= EActor->TotalLevel() - 2 >= EMap->Depth;
return 0;
},
((45+1000)+20000) {
if (riskBalance < -10) {
if (EActor->GodID == $"Semirath")
EActor->IPrint("You fear you are working overly cautiously for
                    one seeking Semirath's favor.");
EActor->Transgress($"Semirath",1 - riskBalance/20,false,
"overly cautious");
riskBalance = 0;
}
return 0;
},
(135+500) {
if (GetHandle(EItem) != ((hObj)0))
if (EItem->ieID == $"Surtur" ||
EItem->ieID == $"Beast Control" ||
EItem->ieID == $"Undead Control" ||
EItem->ieID == $"Elemental Control" ||
EItem->ieID == $"Outsider Control" ||
EItem->ieID == $"the Abyss" ||
EItem->ieID == $"the Chameleon" ||
EItem->ieID == $"Elemental Command (Air)" ||
EItem->ieID == $"Elemental Command (Earth)" ||
EItem->ieID == $"Elemental Command (Fire)" ||
EItem->ieID == $"Elemental Command (Water)" ||
EItem->ieID == $"Medallion of Mental Domination")
e.EParam = 125;
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->isCreature())
if (EVictim->HasEffStati(71,$"bandit"))
e.EParam = 126;
return 0;
};
}

Effect "Semirath's Aid" : 3
{
On Event 206
"You are overcome with a sublime feeling of grace and luck!",
74
"The feeling of grace and luck fades.";
xval: 107; yval: 27; pval: +8;
}
and 3
{ xval: 107; yval: 52; pval: +8; }


43 Effect "Xavias;symbol" : 46
{ Flags: 18;
Desc: "The holy symbol of Xavias is a pyramid overlaid with an eye-like
      glyph." ;
}

God "Xavias"
{
Domains: $"Craft", $"Fate", $"Knowledge", $"Magic", $"Mysticism", $"Planning";
Desc: "<15>God of Science and the Mysteries<11>
      \n__Craft, Fate, Knowledge, Magic, Mysticism, Planning. The Arbalest. Quick-Loading Bows.<2>
      \n__If Erich is Immotian's mailed right fist of enforcement, then Xavias
      serves as his open left hand of revelation. Embodying the holiness in
      things which are unknowable as well as humanity's quest to understand all
      that can be known, Xavias is the patron of scientists, rationalists,
      architects and mystics -- and he sees no contradiction in this. While
      Xavias is strictly loyal to Immotian, he's certainly more open-minded
      and liberal then his superior, viewing arcane magic as a natural part
      of the world, albiet one that must be handled cautiously and patiently
      to avoid corruption. Xavias is rumored to have been involved in the
      founding of the guilds, especially the stonecrafters' guild, but of
      course there are many secret and archaic legends surronding him, since
      his priesthood is essentially a large-scale mystery cult.\n
      __Outsiders accuse clergy of Xavias of using high ritual and mysticism
      to cow the masses into accepting Immotian's power and authority, and
      perhaps there is some truth in this. But Xavias wants nothing more then
      for his followers to examine, scrutinize and face the world with eyes
      wide open. Ineffibility certainly does play a part in his teachings,
      but only in the sense that some secrets cannot be told, only experienced.
      Xavias' priesthood is wealthy and influential, connected to the guilds
      far more closely then Immotian's is, and being possessed of a much more
      politically adept mindset. There is much ceremony for the sake of
      ceremony within Xavias' ranks, with great importance placed upon titles,
      initiation rites and concealed mysteries.\n
      __The holy symbol of Xavias is a pyramid overlaid with an eye-like
      glyph, and his chosen weapon is the arbalest. His Domains are Craft, Fate,
      Knowledge, Magic, Mysticism and Planning. Xavias is Neutral Good.\n
      __<10>Worship:<2> Xavias accepts the sacrifice of any evil creatures, 
      though what he truly delights in is the offering of blood from any 
      creature who embodies destructive ignorance, such as trolls or ogres. 
      He is also pleased when his followers perform alchemy or craftwork,
      evoke magical devices, translate old script or successfully gain insight
      into the true nature of other creatures. Xavias values knowledge very
      highly. He dislikes his priests destroying enchanted items or other works 
      of great craft, such as art or masterwork weapons. He is also, predictably,
      angered when his children commit evil acts, though he is also tolerant of
      occasional mistakes.\n
      __Xavias' church is an esoteric faith, and his worshippers must possess
      a certain minimum level of intellect and spiritual insight in order to
      be initiated into the higher mysteries. His priests sometimes try to
      altar their state of consciousness or enter an ecstatic trance to
      become closer to him.\n
      __<10>Blessings:<2> Xavias is quite free with aid, being willing to
      intercede with reasonable frequency and not holding pleas against
      followers for long provided they continue to progress in their lives.
      He will ease hunger, clear the mind, replace spellbooks and remove
      fatigue from anyone who petitions him. For a casual follower, he will
      identify magical items; for a moderately devoted disciple, he will
      purify the body; for a devoted student of his path he will uncurse
      items, replenish mana or grant ressurection. He has been known to 
      offer instantaneous transport away from danger for his followers; the
      more loyal the follower, the less severe the danger must be to warrant
      his aid.\n
      __Xavias' more permanent blessings include the ability to develop
      skill with craftwork, language and magical artifice, an occult veil
      to conceal his followers' mysteries from magical perceptions,
      augmented intellect and perception and the ability to see clearly
      past obscurements literal as well as metaphorical. His most loyal
      followers are said to be able to craft magical arms and armor in much
      the same way dwarves do, and to have access to occult hideaways outside
      the bounds of normal reality.";
Flags: 6, 14;
Lists:
* 28
34
"|And the path of the Golden Lion, the Philosopher's Treasure, the
               Glory of Transmutation shall soon be lain clear before thee!|"
63
"An elderly voice speaks sadly, |Forgive me, my child: thou lacks the
               depth of vision to truly explore the Holy Mysteries.|"
64
"An eldery voice speaks slowly: |I gift you with Hermetic wisdom!|"
65
"An elderly voice speaks slowly: |Thy mind is too feeble to be 
                  initiated into thine Holy Mysteries.|"
#line "religion.irh" 5296
,
* 26
125 10
125 10
103 5
103 5
103 5,
* 31
(-20) 1 0

$"Immotian" $"Erich" $"Ekliazeh" $"Kysul" $"Mara" $"Hesani" 0 0


$"Semirath" $"Xel" $"Essiah" $"Aiswin" $"Asherath" 1 0


$"Sabine" $"Khasrach" 6 1


$"Zurvash" $"Maeve" $"The Multitude" 3 1,
#line "religion.irh" 5319
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
12 3 0
7 3 0
8 3 0
15 3 0
10 (-4) 50
2 4 200
5 5 200
4 4 750
5 4 1000
16 4 1750
13 4 2000
5 3 3500
17 3 3500,
* 32
1 9 10 15
47 26 25
30 29 3;
Constants:
* 120 11,
* 121 7,
* 130 $"Xavias;symbol",
* 135 $"arbalest",
* 136 45,
* 122 4,
* 123 10,
* 131 5,
* 124 5,
* 125 6,
* 126 500,
* 127 15,
* 128 3,
* 129 5,
* 132 20,
* 133 20,
* 139 (0x0004),
* 134 4;
Grants:
Stati[32,9] at 1st level,
Stati[32,47] at 1st level,
Stati[32,10] at 1st level,
Stati[124,10,+1] at every level starting at 1st,
Stati[211,(0x0004|0x0008|0x0020|0x0100|0x0080|0x0010)] at 2nd level,
Stati[125,3,+2] at 3rd level,
Stati[125,4,+2] at 3rd level,
Ability[57,+1] at 4th level,
Ability[44,$"Rope Trick"] at 5th level,
Ability[44,$"Insightful Stroke"] at 6th level,
Ability[136,+1] at 7th level,
Stati[148] at 8th level,
Ability[44,$"Dispel Evil"] at 9th level
Ability[44,$"Open the Third Eye"] at 9th level;
On Event 138 {
EActor->IDPrint("You feel marked.",
"The <hObj> seems inexplicably loathsome to you.",EActor);
EActor->GainPermStati(215,NULL,12,85,0,$"Xavias",15);
return 1;
},
139 {
EActor->IPrint("<3>Your mind is filled with dreamlike images and cryptic 
        symbolism -- you are enlightened!<7>");
EActor->Exercise(3,5d12,5,70);
EActor->Exercise(4,5d12,7,70);
EActor->GainXP(max(1,EActor->Mod(3)+EActor->Mod(4))*100);
return 1;
},
149 {
EActor->IPrint("<3>Your mind is filled with dreamlike images and cryptic 
        symbolism -- you can't comprehend it!<7>");
EActor->Abuse(3,5d12);
EActor->Abuse(4,5d12);
ThrowDmg(41,54,1d3,"a harrowing vision from Xavias", EActor, EActor);
EActor->GainTempStati(6,NULL,400,7);
return 1;
},
151 {

if (EActor->GetAttr(3) <= 1)
return 0;
if (EActor->GetAttr(3) + EActor->GetAttr(4) < 26)
{
EActor->GodMessage($"Xavias", 65);
return 3;
}
return 0;
},
(147+1000) {
rID bkID; hObj hBook;
if (EActor->LevelAs($"mage") || EActor->LevelAs($"bard"))
{
do {
bkID = theGame->GetItemID(1,0,
EActor->getGodLevel($"Xavias")+2,22);
}
while (bkID == $"spellbook [Lore of Murder I]" ||
bkID == $"spellbook [Lore of Murder II]");
if (bkID == ((rID)0))
return 0;
hBook = CreateItem(bkID);
EActor->GodMessage($"Xavias", 64);
EActor->GainItem(hBook,false);
}
return 0;
},
135 {
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->isMType(103) && (EVictim->isMType(54) ||
EVictim->isMType(22) ||
EVictim->mID == $"minotaur" ||
EVictim->mID == $"ogre" ||
EVictim->mID == $"merrow" ||
EVictim->mID == $"hill giant" ||
EVictim->mID == $"frost giant" ||
EVictim->mID == $"saqualaminoi" ||
EVictim->HasEffStati(71,$"barbarian;template") ||
EVictim->HasEffStati(71,$"reaver")))
e.EParam = 125;
return 0;
},
(41+20000) {
if (EVictim->isType((-4))) {
if (EVictim->HasIFlag(0x0008))
EActor->Transgress($"Xavias",3,false,
"damaging a masterwork");
else if (EVictim->isMagic())
EActor->Transgress($"Xavias",1,false,
"damaging a magical item");
}
return 0;
},
(145+20000) {
if (e.EParam & (0x0040|0x0008))
EActor->Transgress($"Xavias",(e.vMag + 1) / 2,false,
"evil act");
return 0;
},
(175+20000) {

if (e.EParam == 6 && e.vDuration != 400) {
if (EActor->HasEffStati(189,$"Xavias",-1,EVictim))
return 0;
EActor->GainTempStati(189,EVictim,
(GetHandle(EVictim) == ((hObj)0)) ? -2 : 0, 7,0,0,$"Xavias");
EActor->gainFavor($"Xavias",50,false,true);
}
return 0;
},
151 {
if (EActor->IAttr(4) + EActor->IAttr(3) < 28)
return 2;
return 0;
};
}

43 Effect "Xel;symbol" : 46
{ Flags: 18;
Desc: "Xel's holy symbol is a sheaf of wheat.";
}

God "Xel"
{
Domains: $"Community", $"Death", $"Evil", $"Plant", $"Pain", $"Trickery";
Desc: "<15>God of the Harvest<11>\n
      __Community, Death, Evil, Pain, Plant, Trickery. The Sickle. Vampiric
      Weapons.<2>\n
      __Xel is an old, old thing that has been the patron diety of farmers
      and peasant families for as long as there have been farmers and peasant
      families. Predating the rest of the Theryan pantheon by about four
      millenia, Xel's formal holy scriptures are a compliation of folklore,
      elder rituals, wives' tales and even children's nursery rhymes whose
      history often equals that of the languages they were first written in.
      Much beloved by the peasantry, the clergy of Xel bring with them the
      tidings of good harvest, plentiful grain and merry celebration. While
      the majority of priests have a distinct bias toward nobility -- that's
      where the majority of the affluence is to be had, after all -- Xel's
      priests have always been the champions of the everyman, the poor and
      the downtrodden. Even lepers recieve the favor of this diety -- indeed,
      Xel's followers have a very special place in their hearts for the
      diseased. Yet, in spite of all of this, there is a sinister meaning
      hidden within Xel's playful children's songs that does not escape the
      more educated scholar.
      \n__Xel is hungry, slavering with an insatiable need for the life
      force of sentient beings. While most of Theyra's gods, good and evil
      alike, accept the offering of a foe's body who needed to be slain for
      reasons in accord with the god's ethos and alignment, that is a very 
      different thing from randomly dragging innocent people to an altar to 
      be slain for the purpose of human sacrifice alone. Yet, the lot of a
      peasant remains harsh, and few heros are willing to stand up for the
      lower classes. Xel has become so much a staple of hearth wisdom that
      most villages see no wrong in the favors its clergy ask, and in return
      its clerics take very seriously their roles as village defenders,
      protectors of the downtrodden and the political muscle of rural 
      communities. The arrival of a travelling priest of 'the Old Goat in
      the Woods', as Xel is known, in a village is a cause for a festival
      and night of revelry not unlike Mardi Gras, and in truth everybody
      knows that the allegations of blood sacrifice are propaganda cooked
      up by manipulative nobles anyway -- at least, it's never been proven!
      Still, the fact remains that many villages have a crude basalt stone
      caked with blood in a shadowed valley a few miles outside their 
      boundry, and so long as the blood flows the crops will not fail.
      \n__Xel is nothing if not dependable, after all.
      \n__Xel's alignment is Lawful Evil; its followers can be of any non-Good
      alignment. Its holy symbol is a sheaf of wheat, though the symbols that
      Xel is most known for are the ancient stone circles its clerics congregate
      at, and its chosen weapon is the sickle. Xel itself is a weary
      diety, sleeping peacefully through the millenia, and does not keep
      a careful eye on its priests, as long as the blood flows. The clergy
      as an organization, however, expects every priest to always honor
      two central precepts: always help a peasant or peasant community in
      need, and never reveal the darker practices of the sect to those who
      cannot be trusted. In return for this, Xel grants its priests
      access to the Domains of Community, Death, Evil, Plant, Pain
      and Trickery.\n
      __<10>Worship:<2> In order to perform a proper sacrifice to Xel, a
      priest must kill a monster while that monster is standing directly
      over one of Xel's altars. While Xel is content with one sacrifice
      every new moon from its pedestrian rural followers, powerful adventurers
      who serve it must offer it fresh blood every night. Xel desires the
      blood of sapient creatures most of all, but will accept lesser beasts
      if need be. However, woe be to the worshipper who fails to offer Xel
      tribute for three nights, for at that point it will begin to consume 
      the follower's life in place of thte tribute, until the lives of 
      thinking, bleeding beings are offered in atonement. As long as the 
      blood flows, however, Xel has absolutely no concern for anything else 
      its followers do.\n
      __<10>Blessings:<2> Xel will heal, ease hunger, restore mana, dispel
      fatigue and replenish the spirit for any follower that gives it tribute
      as tradition demands. Followers who have sacrificed creatures with more
      powerful life force find that Xel will replace lost spellbooks, transport
      them to safety in times of need and purify their bodies. Xel has even
      been known to raise those offering truly impressive sacrifices from
      the dead!\n
      __Xel's cult offers rich supernatural rewards to those
      who sate the elder thing's thirst: the first lesson the cult teaches is
      social elegance and deception. Next the initiate is taught how to raise
      altars to Xel magically. More experienced cultists learn to paralyze
      their foes, drain their life energy to heal themselves and strike with
      deadly precision in combat. Those closest to Xel also find that the
      god's aegis prevents plants from harming them.";
Flags: 7, 13, 18;
int32 dailySac;
Lists:
* 28
34
"You feel an aching, primordial hunger. |Blood for the blood god!|"
#line "religion.irh" 5617
,
* 26
(85+(77*256)) 10
(85+(77*256)) 10
(85+(77*256)) 10
(85+(77*256)) 10
77 5
77 5
77 5
125 (-103),
* 31
(-20) 0 0,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
1 3 1
7 3 1
2 3 1000
5 5 1000
8 3 1
9 3 1
13 5 4000
15 4 1000
16 3 1;
Constants:
* 120 4,
* 121 4,
* 130 $"Xel;symbol",
* 122 7,
* 123 15,
* 131 0,
* 124 10,
* 125 7,
* 126 10,
* 127 10,
* 128 3,
* 129 3,
* 132 10,
* 133 10,
* 139 (0x0001|0x0008),
* 134 3;
Grants:
Stati[32,6] at 1st level,
Stati[32,11] at 1st level,
Ability[44,$"Hallow"] at 2nd level,
Ability[44,$"Hold Person"] at 3rd level,
Ability[44,$"Vampiric Touch"] at 4th level,
Stati[41,(((((49 + 1) + 32) + 50) + 38) + 9)] at 5th level,
Stati[214,49] at 6th level,
Ability[44,$"Verdant Aid"] at 7th level,
Ability[44,$"Burning Blood"] at 8th level,
Ability[44,$"Earthmaw"] at 9th level;
On Event 138, 149 {
int32 oHP;
EActor->IDPrint("Xel drinks your life!",
"The <hObj> looks deathly pale!",EActor);
oHP = EActor->cHP;
ThrowDmg(41,6,(e.EParam)d6,"the hunger of Xel",
EActor, EActor);
if (EActor->cHP == oHP) {
EActor->IPrint("You feel Xel is angrier now.");
EActor->Transgress($"Xel",1,false,"frusterating Xel");
}
return 1;
},
139 {
if ((EActor->cHP * 4)/3 >= EActor->mHP + EActor->GetAttr(36))
return 0;
EActor->IDPrint("Stolen vitality heals your injuries!",
"The <hObj>'s wounds heal fully!", EActor);
EActor->cHP = EActor->mHP + EActor->GetAttr(36);
return 1;
},
((45+500)+20000) {
if (EActor->GodID != $"Xel")
return 0;
if (!dailySac)
if (!EActor->yn("You have not yet offered tribute to Xel today. Continue?"))
return 2;
return 0;
},
((45+1000)+20000) {
if (EActor->GodID != $"Xel")
return 0;
if (!dailySac)
EActor->Transgress($"Xel",1,false,
"failing to offer blood to Xel daily");
dailySac = 0;
return 0;
},
(135+500) {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (e.DType == 0 && !(EVictim->Flags & 0x0008))
{
e.EParam = 125;
return 0;
}
if (EVictim->isMType(77)) {
dailySac = 1;
if (EVictim->isMType(85))
EActor->lowerAnger($"Xel", 1);
}
return 0;
};
}

43 Effect "Zurvash;symbol" : 46
{ Flags: 18;
Desc: "Zurvash's holy symbol is a trophy necklace made of bones and
      teeth taken from all of the follower's greatest kills." ;
}

God "Zurvash"
{
Domains: $"Animal", $"Night", $"Domination",
$"Passion", $"Pain", $"Strength";
Desc: "<15>God of Animals and the Hunt<11>\n
      __Animal, Night, Domination, Passion, Pain, Strength. Vicious Weapons.<2>\n
      __Zurvash has been given dominion over all things that crawl upon the
      earth and fly through the skies -- and to him, man is just another
      animal, albiet a particulairly clever one. Zurvash's dogma denies the
      very existance of morality; his faith is one of indulgence, brutality
      and instinctive response. Zurvash is the patron diety of hunters,
      stalkers and evil rangers; his temples are located in distant
      wilderness areas secreted away from the public eye. His priesthood is
      charactized by license, but maintains a strict chain of dominance and
      submission, not unlike a wolf pack. The strong rule the weak until
      they no longer are able to assert dominance, at which time they are
      killed and devoured.
      \n__Zurvash's faith resembles that of the Multitude in many ways, but
      it is better organized and more philosophically grounded -- while the
      followers of the Multitude cheerfully embrace the idea that they are
      'evil', Zurvash's children see good and evil only as concepts created
      by Immotian to cheat people out of the things that are worth having
      in life. The clergy is very active in the slave trade, and often acts
      as bounty hunters for hire, given their skill in forestcraft and
      hunting. They are also responsible for breeding many dangerous and
      predatory creatures (such as bulettes, panthers or otyughs), most of
      which they breed and torture to increase their feral rage, then
      release upon the world for their own amusement or for sport hunting.
      \n__Zurvash is revered by different names by many barbarian tribes,
      while others shun him. His touch has a socially destructive impact on
      a barbarian tribe, leading to increasingly bloodthirsty raids and
      acts of depravity on nearby communities, until the tribe is either
      destroyed or, at minimum, has alienated many of it's former allies.
      Priests of Zurvash don't care, being creatures that live in the
      present and rarely consider long-term consequences; all that matters
      to them is satiation of their most immediate desires. In this, they
      are acting exactly as Zurvash desires, becoming more and more like
      the savage beasts he believes all men to be.
      \n__Zurvash's holy symbol is a trophy necklace made of bones and
      teeth taken from all of the follower's greatest kills. He is Chaotic
      Evil in alignment, and his followers can be Chaotic or Neutral Evil.
      He offers his clerics the Domains of Animal, Destruction, Domination,
      Pain, Passion and Strength, and is militant in his intervention on
      their behalf. His chosen weapon is a set of bolas,
      usually with razor-wire binding them together.\n
      __<10>Worship:<2> Zurvash most favors the sacrifice of wild, predatory
      beasts on his altars, and also the remains of other sapient beings 
      bested in fair combat. He is angered when his followers spare their 
      fallen enemies, or when they show self-restraint in any situation that 
      it is not in their immediate benefit to do so. He expects his followers
      to depend on their own personal might, and is angered when they rely
      on allies or summoned creatures (though illusions, as manifestation
      of magic, are fine). Animals are the only acceptable allies to Zurvash.
      Surrendering rather than fighting to the death angers Zurvash greatly, 
      whereas cowing enemies grants favor in his eyes.\n
      __<10>Blessings:<2> Zurvash will clear any follower's mind, as well
      as imbuing them with a kind of berzerk anger, both when they prey and
      when the whim strikes him; this quality makes him a difficult god for
      conventional mages. For a more favored follower, he will purify the
      body, deflect deadly blows, remove fatigue, replenish the spirit,
      lift curses, heal injuries and raise the dead, in the order of 
      increasing favor required.\n
      __His more permanent blessings include increasing a folllower's
      toughness and agility, granting a preternaturally sharp sense of
      smell, mystical authority to command animals and a complete lack
      of scent. His most treasured servants are said to be blessed with
      constant regeneration of all injuries. Followers with claws and
      teeth are also said to be able to enchant them to bite deeper.
      Slashing wounds inflicted by the favored of Zurvash are also said
      to bleed more profusely than normal.";
Flags: 9, 4, 13, 14;
Lists:
* 28
34
"May your hunt be fruitful, and your plunder rich and succulent!"
63
"A growling voice hisses: |Destroy the infidel, my beautiful children!|"

50
"A growling voice speaks: |Only the strong will survive!|"
51
"A growling voice speaks: |Be you the hunter and not the hunted!|"
#line "religion.irh" 5865
,
* 26
35 10
35 10
35 10
85 10
85 10
85 10,
* 31
(-20) 3 0
$"Khasrach" $"Asherath" $"Aiswin" $"Xel" 0 0,
* 29
$"Nine Lives Stealer",
* 27
100
500
1250
4500
12000
24000
54000
96000
102000
250000,
* 30
14 3 0
12 3 0
2 3 100
17 3 100
8 3 250
9 5 750
4 3 750
1 3 2500
13 3 6000;

Constants:
* 120 4,
* 121 4,
* 130 $"Zurvash;symbol",
* 135 $"bolas",
* 136 40,
* 122 12,
* 123 20,
* 131 5,
* 124 10,
* 125 8,
* 126 100,
* 127 10,
* 128 2,
* 129 3,
* 132 10,
* 133 10,
* 139 (0x0002|0x0008),
* 134 3;
Grants:
Stati[41,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)] at 1st level,
Stati[211,0x0004] at 2nd level,
Stati[107, 1, +1] at every 3rd level starting at 3rd,
Stati[107, 2, +1] at every 3rd level starting at 3rd,
Ability[18, 2,+2] at every level starting at 3rd,
Ability[44,$"Magic Fang"] at 4th level,
Ability[71,+3] at 5th level,
Ability[71,+1] at every level starting at 6th,
Stati[126,0,+1] at every level starting at 7th,
Ability[44,$"Divine Agility"] at 8th level,
Ability[44,$"Heroism"] at 9th level;
On Event 142 {
int32 dur;
if (e.EParam == 14)
{
EActor->IDPrint("You go berserk! You feel flush with a supernatural
            endurance!", "The <hObj> goes berserk!", EActor);
dur = 5d8;
EActor->GainTempStati(66,NULL,dur,7,8,20);
EActor->GainTempStati(107,NULL,dur,7,36,100);
return 1;
}
return 0;
},
147 {
if (EActor->getGodLevel($"Zurvash") == 4)
EActor->GainPermStati(79,NULL,13,0,
(41+1000),$"Cruelest Cut");
return 0;
},
138 {
hObj hBeast; int32 i;
EMap->GenEncounter(0x00040000|0x00001000|0x00000010|0x00000040,
EActor->ChallengeRating() + 2, EMap->Depth, (35+(91*256)),
0, ((rID)0), EActor->x, EActor->y, EActor);
for (i=0;hBeast=EMap->GetEncounterCreature(i);i++)
hBeast->AddTemplate($"fiendish");
EActor->GodMessage($"Zurvash",63);
return 1;
},
139 {
int32 bonus, dur;
hObj h; int32 found_ally;

found_ally = false;
if (EActor->GodID == $"Zurvash")
for (h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isCreature() && h != GetHandle(EActor) && !h->isIllusion() &&
h->isFriendlyTo(EActor) && !h->isMType(2))
{
EActor->Transgress($"Zurvash",1,false,
"relying on others");
found_ally = true;
}
if (found_ally)
return 1;

if (EActor->AbilityLevel(8) >= 16)
bonus = 8;
else if (EActor->AbilityLevel(8) >= 10)
bonus = 6;
else if (EActor->AbilityLevel(8) >= 3 ||
(EActor->LevelAs($"barbarian") == EActor->TotalLevel()))
bonus = 4;
else
bonus = 2;

bonus += EActor->getGodLevel($"Zurvash") / 2;

EActor->IDPrint("You go berserk! You feel flush with a supernatural
        endurance!", "The <hObj> goes berserk!", EActor);
dur = 3d8;
EActor->GainTempStati(66,NULL,dur,7,bonus,
EActor->AbilityLevel(8) +
EActor->getGodLevel($"Zurvash") * 2);
EActor->GainTempStati(107,NULL,dur,7,36,
EActor->getGodLevel($"Zurvash") * 10);
return 1;
},
149 {
switch(1d3)
{
case 1:
EActor->IPrint("You are stricken with fear!");
EActor->GainTempStati(10,NULL,3d8,7);
break;
case 2:
EActor->IPrint("You are stricken with weakness!");
EActor->GainTempStati(107,NULL,3d8,7,0,-8);
break;
case 3:
EActor->IPrint("You are inexplicably struck blind!");
EActor->GainTempStati(3,NULL,3d8,7);
break;
}
return 1;
},
(60+20000) {
if (EActor->GodID == $"Zurvash")
EActor->Transgress($"Zurvash",2,false,
"relying on others");
return 0;
},
(66+20000) {
EActor->Transgress($"Zurvash",5,false,
"surrendering");
return 0;
},
135 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (EVictim->ChallengeRating() <
EActor->ChallengeRating())
return (-103);
return 0;
},
((57+1000)+20000) {
if (EVictim->HasStati(10) && !EVictim->HasEffStati(189,$"Zurvash"))
{
EVictim->GainPermStati(189,EActor,7,0,0,$"Zurvash");
EActor->gainFavor($"Zurvash",10*max(1,EVictim->ChallengeRating()));
}
return 0;
};
}

Effect "Cruelest Cut" : 46
{
Flags: 82;
On Event ((41+1000)+10000) {
if (e.DType == 11 && !EVictim->isDead())
EVictim->GainTempStati(12, EActor, 1d6+2, 2, 0,
(EActor->getGodLevel($"Zurvash") - 2) / 2);
return 0;
};
}

43 Effect "The Multitude;symbol" : 46
{ Flags: 18;
Desc: "The holy symbols used by demon ghosts of the Multitude are
     twisted runes with a strange, alien shape to them; each ghost has a
     unique rune all to itself. ";
}

God "The Multitude"
{
Desc: "<15>Gods of Darkness, Blood, Cruelty, Power, Atrocity, Murder, etc.<11>\n
      __Evil. Animal, Chaos, Death, Domination, Hatred, Luck,
      Magic, Mysticism, Night, Pain, Passion, Retribution, Strength,
      Trickery, and War.<2>\n
      __The Multitude, also called the Demon Ghost Horde or the Thousand
      Voices, is not a single diety but a vast congregation of evil spirits
      once human -- incorporeal undead -- that have been imbued with the
      power to give out clerical magics by the demon Demogorgon, and have
      since swelled their ranks to become a plague upon the world. Hardly
      true divine beings, a single demon ghost is well within the capability
      of powerful mortals to slay, and the adventurers of legend could have
      decimated their ranks just as a master warrior might tear through a
      swarm of goblins. Worse, their priests live up to all the worst
      stereotypes of demon worshippers -- slovenly social outcasts with
      selfish and petty vendettas, unhealthily obsessive tendances and
      emotional insecurities that make them easy prey for any experienced
      demon hunter.\n
      __None of this matters.\n
      __The Multitude is just that, and for all their lack of concrete
      superenatural power or the incompetance of their average servitors,
      their influence is constantly growing. There's just so damned many
      of them, dwelling in vast cities in the Negative Energy Plane and
      roaming the howling void beyond, and there's always stupid, selfish
      demihumans willing to take them up on their offers of power, wealth
      and petty vengeance. When a cultist of the Multitude dies, he becomes
      a demon ghost himself, bound to decieve and cow the living into
      worshipping him or wither away in starvation in the depths of the
      Negative Plane. The Multitude has worshippers in a suprising number
      of places, and if they had any degree of organization (or even sanity)
      in their ranks, they would easily be a political power on the level
      of the High Guilds.\n
      __The holy symbols used by demon ghosts are twisted runes with a 
      strange, alien shape to them; each ghost has a unique rune all to
      itself. The demon ghosts are utterly and inherantly Chaotic Evil,
      and unlike those true gods of Therya, they don't hide or whitewash
      that fact in any way. An aspiring cultist has better be ready to
      stomach what their worship entails. 
      The demon ghosts to not have enough of an established
      priesthood to have chosen weapons. Most demon ghosts have only
      one altar, reward their followers with potent, blasphemous gifts
      and appreuciate the sacrifice of good, friendly creatures who are
      significantly weaker then the worshipper.\n
      __Every demon ghost grants the Evil domain and two other domains.
      The two additional domains are chosen from a list of five domains
      that are sacred to that demon ghost (and are, effectively, drawn at
      random from complete list of possible Multitude domains shown above).\n
      __<10>Worship:<2> The spirits of the Multitude will accept as
      sacrifices the corpse of any creature killed specifically to be a
      sacrifice -- in other words, a creature that was once friendly -- or
      any good creature. However, what the most glory in is the sacrifice
      of incorporeal undead -- the specific demon ghost can tear apart and
      consume the essence of other spirits, thereby increasing its own
      power. This can be difficult to achieve, since incorporeal undead
      do not leave corpses. They can be sacrificed by being killed while 
      standing directly on an altar, however.\n
      __Good acts anger the Multitude, while evil acts please them. Other
      than this, there is no specific conduct a worshipper must abide by.\n
      __<10>Blessings:<2> The demon ghosts offer several forms of aid to
      anyone who so much as pledges himself to them: healing, purifying
      the body and smiting enemies. More loyal followers can also gain
      the following types of aid, in order of increasing favor: replenishment
      of mana, replacement of lost spellbooks, deflection of especially
      lethal blows, identification of any items and even ressurection for
      a truly favored follower.\n
      __The demon ghosts are truly diverse beings, no two alike. As such,
      the more permanent blessings they grant to followers are very
      diverse. These usually take the form of inherant magical abilities
      similar to spells, chosen randomly based on the areas a specific
      evil ghost has influence over. The more loyal the worshipper,
      however, the more powerful the granted abilities have the potential
      of becoming.";
Domains: $"Evil", $0, $0, $0, $0, $0;
Flags: 4;
Lists:
* 28
34
"|killemflayemburnemhurtemmakeemscreammakeemBLEED...|"
69
"|Goodhordegrownhordebloodyhordeghostspleased...|"
65
"|aidhimservehimlovehimkillforhim...|"
66
"|traitortraitortraitorDIEtraitortraitor...|"
#line "religion.irh" 6192
,
* 26
125 20
125 20
125 20
125 20
91 7
91 7
91 7
91 7
126 (-103),
* 31
(-20) 0 0,
* 29
$"Nine Lives Stealer",
* 27
50
250
500
1250
4500
12000
36000
54000
102000
290000,
* 30
1 3 0
2 3 0
3 4 0
17 3 1500
10 (-4) 1500
13 3 3500
15 3 750
16 3 125;
Constants:
* 120 23,
* 121 8,
* 130 $"The Multitude;symbol",
* 136 2,
* 122 3,
* 123 7,
* 131 2,
* 124 5,
* 125 9,
* 126 50,
* 127 15,
* 128 3,
* 129 0,
* 132 7,
* 133 7,
* 139 (0x0002|0x0008),
* 134 30;
On Event 142 {
hObj hEnemy;
if (e.EParam == 3)
{
EActor->IPrint("You are infused with demonic resilience!");
EActor->GainTempStati(39,NULL,3d6,2,
105,+3,$"Demonic Resilience",30);
for (hEnemy=EMap->FirstThing();hEnemy;hEnemy=EMap->NextThing())
if (hEnemy->isCreature() && hEnemy->DistFrom(EActor) < 15)
if (hEnemy->isHostileTo(EActor))
ThrowEff(52,1d2 == 1 ? $"Thornwrack" : $"Burning Blood",
EActor, hEnemy);
return 1;
}
return 0;
},
138 {
ThrowEff(52,1d2 == 1 ? $"Thornwrack" : $"Burning Blood",
EActor, EActor);
return 1;
},
139 {
int32 enCR;
enCR = EActor->FixSummonCR(EActor->getGodLevel($"The Multitude")+1,2);
if (enCR <= 0) {
EActor->GodMessage($"The Multitude", 69);
EActor->gainFavor($"The Multitude",4d50,false,true);
return 1;
}
e.vDuration = 30 + EActor->Mod(5)*5;
EActor->GodMessage($"The Multitude", 65);
EMap->GenEncounter(0x00008000|0x00000400|0x00000010|0x00001000|
0x00000040, enCR, EMap->Depth,
72, 0, ((rID)0), EActor->x, EActor->y, EActor);
return 1;
},
149 {
e.vDuration = 200;
EActor->GodMessage($"The Multitude", 66);
EMap->GenEncounter(0x00008000|0x00000400|0x00000010|0x00001000|
0x00040000|0x00000040, EActor->ChallengeRating() + 1, EMap->Depth,
72, 0, ((rID)0), EActor->x, EActor->y, EActor);
return 1;
},
147 {
rID spID;
if (1d3 == 1)
spID = theGame->GetEffectID(1,0,
EActor->getGodLevel($"The Multitude")+1,52);
else
spID = theGame->GetEffectID(1,0,
EActor->getGodLevel($"The Multitude")+1,50);
EActor->setSpellFlags(spID, EActor->getSpellFlags(spID)
| 0x0080);
return 1;
},
(145+20000) {
if (e.EParam & (0x0008|0x0040))
EActor->gainFavor($"The Multitude",10*e.vMag,false,true);
if (e.EParam & 0x0004)
EActor->Transgress($"The Multitude",(e.vMag+1)/2,false,
"good act");
return 0;
},
135 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (EVictim->isMType(76) &&
(EVictim->HasMFlag(9) ||
EVictim->isMType(57)))
{
e.EParam = 125;
return 0;
}
if (!(EVictim->isMType(106) ||
EVictim->HasStati(231)))
e.EParam = 126;
return 0;
},
(135+20000), (134+20000),
(176+20000) {
#line "religion.irh" 6329
if (EActor->GodID == $"The Multitude" &&
e.eID != $"Xel" && e.eID != $"The Multitude")
{
EActor->Transgress(e.eID,5,true,
"worshipping the Multitude");
return 1;
}
return 0;
};
}

Effect "Demonic Resilience" : 46
{ Flags: 61, 82; }
#line "domains.irh" 1
Domain "Air" : 0 {
Desc: "__<15>Granted Power:<7> You can command air creatures 
    just as an evil priest commands undead, and you gain
    the ability to fall without suffering damage (as per
    <9>feather fall<7>) -- the air naturally buffers your 
    descent.";
Grants:
Ability[18,93] at 1st level,
Ability[77] at 1st level;
Spells:
$"Wall of Fog",
$"Wind Wall",
$"Gaseous Form",
$"Air Walk",
$"Cloudkill";
#line "domains.irh" 21
}

Domain "Animal" : 0 {
Desc: "__<15>Granted Power:<7> Animals are naturally neutral to you.";
Grants:
Stati[214,2] at 1st level;
Spells:
$"Magic Fang",
$"Hold Beast",
$"Dominate Animal",
$"Commune With Nature",
$"Animal Growth";
#line "domains.irh" 37
}

Domain "Beauty" : 0
{
Desc: "__<15>Granted Power:<7> You have the power of beguiling magic -- you
      add your Charisma bonus (if any) to the DC of all of your mental
      spells. You also recieve a permanant sacred bonus to your Charisma - +1 
      for every three priest levels.";
Grants:
Ability[7] at 1st level,
Stati[107,5,+1] at every 3rd level;
Spells:
$"Charm Person",
$"Enthrall"
$"Suggestion",
$"Charm Monster",
$"Music of the Spheres",
$"Immortal Grandeur";
#line "domains.irh" 57
}
#line "domains.irh" 75
Domain "Chaos" : 0 {
Desc: "__<15>Granted Power:<7> You have a bonus to save against compulsions equal 
    to your priest level and you gain the Transmute Spell feat for free. Your
    individuality and independence are honed to a supernatural level, sustaining
    your Charisma at a level equal to your priest level.";
Grants:
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 7)] at 1st level,
Stati[125,5,+1] at every level starting at 1st,
Stati[123,15,+1] at every level starting at 1st;
Spells:
$"Miscast Magic",
$"Sign of Discord",
$"Confusion",
$"Chaos Hammer",
$"Animate Objects",
$"Misdirection";
#line "domains.irh" 95
On Event 151 {
if (EActor->isMType(105))
return 1;
return -1;
};
}

Domain "Community" : 0
{
Desc: "__<15>Granted Power:<7> Diplomacy is a treated as a class skill for you. 
      Any allies standing within 30 feet (3 squares) of you receive a +2 circumstance 
      bonus to Defense, +1 per three priest levels.";
Grants:
Stati[32,11] at 1st level,
Ability[74,+2] at 1st level,
Ability[74,+1] at every 3rd level starting at 3rd;
Spells:
$"Valor",
$"Chant",
$"Prayer",
$"Invocation",
$"Resist the Elements";
#line "domains.irh" 122
}

Domain "Craft" : 0
{
Desc: "__<15>Granted Power:<7> Craft is treated as a bonus class skill for 
      you. When crafting items, you reduce the cost in gold pieces by five percent 
      per priest level, up to a maximum of 80% at 16th level. You never need a skill
      kit to use a skill that normally requires such, including Craft, Heal, 
      Disguise, Alchemy, Mining and Lockpicking.";
Grants:
Ability[141] at every level starting at 1st,
Stati[32,9] at 1st level,
Stati[44,9] at 1st level,
Stati[44,17] at 1st level,
Stati[44,12] at 1st level,
Stati[44,1] at 1st level,
Stati[44,35] at 1st level,
Stati[44,33] at 1st level;
Spells:
$"Mending",
$"Detect Objects",
$"Keen Edge",
$"Major Creation",
$"Wall of Stone";
#line "domains.irh" 151
}

Domain "Death" : 0
{
Desc: "__<15>Granted Power:<7> You are supernaturally resistant to negative energy,
      and have inherent necromantic damage resistance equal to half your level as a
      priest. You may also perform a <9>Death Touch<7> as an innate spell-like
      ability, killing any creature with fewer hit points then your roll of
      (caster level)d8. Each touch costs you one fatigue point, and the ability
      can be shut off with the cancel command ('x').";
Grants:
Stati[104,6,+1] at every 2nd level starting at 1st,
Ability[44,$"death touch"] at 1st level;
Spells:
$"Rigor Mortis",
$"Bladethirst", $"Animate Dead",
$"Death Ward",
$"Slay Living";
#line "domains.irh" 174
}

Effect "Death Touch" : 46
{ 0x00000040; aval: 6; pval: (-101)d8;
lval: -94; tval: 75;
Flags: 61, 4, 63, 25,
82, 66;
On Event 206
"Your hands glow black!" /
"The <EActor>'s hands glow black!",
28 {
EActor->LoseFatigue(1,false);
if (EVictim->cHP > e.vDmg)
e.Immune = true;
else {
VPrint(e,"Your soul is snuffed out!",
"The <EVictim> collapses, dead.");
ThrowDmg(42,6,0,"a priest's death touch",EActor,EVictim);
}
return 1;
};
Desc: "You may perform a <9>Death Touch<7> as an innate spell-like
      ability, killing any creature with fewer hit points then your roll of
      (caster level)d8. Each touch costs you one fatigue point, and the ability
      can be shut off with the cancel command ('x').";
}

Domain "Destruction" : 0 {
Desc:"__<15>Granted Power:<7> You gain the smite ability. Whenever you make a 
      Great Blow attack, your Charisma bonus (if any) is added to the attack 
      roll, and your priest level is added to the damage inflicted.";
Grants:
Ability[79] at every level starting at 1st;
Spells:
$"Shatter",
$"Scorcher",
$"Tremor",
$"Explosive Runes",
$"Cloudkill",
$"Disintegrate";
#line "domains.irh" 218
}

Domain "Domination" : 0
{
Desc: "__<15>Granted Power:<7> You gain the feat School Focus (enchantment) for free 
      at 1st level. The CR of summoned, controlled or commanded creatures you can 
      safely manage increases by +1 every 4th priest level.";
Grants:
Ability[120,+1] at every 4th level starting at 4th,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 23),0x00000008] at 1st level;
Spells:
$"Command",
$"Ray of Enfeeblement",
$"Hold Person",
$"Crushing Despair",
$"Dominate Person";
}
Domain "Earth" : 0
{
Desc: "__<15>Granted Power:<7> You can command earth creatures just as an evil 
      priest commands undead. You have a bonus to save against petrification
      equal to your priest level; starting at 7th level, you are immune.";
Grants:
Ability[18,94] at 1st level,
Stati[123,7,+1] at every level starting at 1st,
Stati[177,19] at 7th level;
Spells:
$"Magic Stone",
$"Stone Tell",
$"Meld into Stone",
$"Transmute Rock to Mud",
$"Stoneskin";

}

Domain "Evil" : 0 {
Desc: "__<15>Granted Power:<7> You cast evocation spells at +1 caster level. You
    can command demons or devils, as suits your alignment, just as other evil 
    clerics command undead.";
Grants:
Stati[152,0x00000010,+1] at 1st level;
Spells:
$"Malignance",
$"Desecrate",
$"Armor of Darkness",
$"Unholy Blight",
$"Fiendform";
#line "domains.irh" 270
On Event 153 {
if (EActor->isMType(105))
EActor->GainAbility(18,72,$"Evil",10);
else
EActor->GainAbility(18,73,$"Evil",10);
return 0;
},
151 {
if (EActor->isMType(103))
return 1;
return -1;
};

}
Domain "Fate" : 0
{
Desc: "__<15>Granted Power:<7> You have an insight into the weave of destiny, and can 
      identify the blessed / uncursed / cursed state of an item upon picking it up. 
      This ability also grants you a +4 bonus to Intuition checks. You cast Divination
      spells at +1 caster level.";
Grants:
Ability[33] at 1st level,
Stati[152,0x00000004,+1] at 1st level;
Spells:
$"True Strike",
$"Minor Malison",
$"Bestow Curse",
$"Nemesis Spell",
$"Nightmare;spell";
}

Domain "Fire" : 0
{ Desc: "__<15>Granted Power:<7> You command fire creatures just as an evil 
      priest commands undead. You gain one level of innate fire resistance 
      with every odd priest level that you gain.";
Grants:
Ability[18,95] at 1st level,
Stati[104,1,+1] at every 2nd level starting at 1st;
Spells:
$"Burning Hands",
$"Produce Flame",
$"Flaming Sphere",
$"Wall of Fire",
$"Flame Strike";
#line "domains.irh" 319
}

Domain "Good" : 0
{
Desc: "__<15>Granted Power:<7> You are surrounded by a sacred aura. Evil creatures
      that touch you directly (such as with natural attacks) suffer 1d4 points
      of damage at first level, increasing to 2d4 at 4th, 3d4 at 7th, and so
      forth.";
Grants:
Ability[69] at every 3th level starting at 1st level;
Spells:
$"Benevolence",
$"Divine Sacrifice",
$"Bolts of Glory",
$"Holy Smite",
$"Dispel Evil";
#line "domains.irh" 340
On Event 151 {
if (EActor->isMType(106))
return 1;
return -1;
};
}

Domain "Guardian" : 0
{
Desc: "__<15>Granted Power:<7> You treat Spot and Listen as bonus priest class skills 
      and gain a +1 bonus to them every 3rd priest level. You are also ever wakeful,
      being immune to sleep effects.";
Grants:
Stati[32,44] at 1st level,
Stati[32,32] at 1st level,
Stati[124,44,+1] at every 3rd level starting at 3rd level,
Stati[124,32,+1] at every 3rd level starting at 3rd level,
Stati[177,16] at 1st level;
Spells:
$"Find Traps",
$"See Invisibility",
$"Glyph of Warding",
$"Dimensional Anchor",
$"Energy Buffer";
#line "domains.irh" 369
}

Domain "Hatred" : 0 {
Grants:
Ability[34,129] at every level starting at 1st;
Spells:
$"Brand of Hatred",
$"Dire Charm",
$"Bestow Curse",
$"Blackmantle",
$"Thornwrack";
Desc: "__<15>Granted Power:<7> You are able to choose a hated enemy, much like a ranger
      does, and gain bonuses in combat against that enemy similar to a ranger's.";
}

Domain "Healing;domain" : 0
{
Desc: "__<15>Granted Power:<7> All healing spells that you cast are automatically 
      considered to be maximized. You never need to have a healing kit to use any of
      the functions of the Heal skill.";
Grants:
Ability[56] at 1st level,
Stati[44,17] at 1st level;
Spells:
$"Lifesight", $"Cure Moderate Wounds",
$"Cure Serious Wounds",
$"Cure Critical Wounds",
$"Heal;spell";
#line "domains.irh" 403
}

Domain "Knowledge" : 0
{
Desc: "__<15>Granted Power:<7> You get all Knowledges as bonus class skills. You gain 
      the Scribe Scroll feat as a bonus feat at 1st level, and gain one extra
      skill point at every priest level.\n";
Grants:
Stati[32,23] at 1st level,
Stati[32,24] at 1st level,
Stati[32,25] at 1st level,
Stati[32,26] at 1st level,
Stati[32,29] at 1st level,
Stati[32,28] at 1st level,
Stati[32,27] at 1st level;
Spells:
$"Read Magic",
$"Identify",
$"Lorecall",
$"Clairvoyance",
$"Wizard Sight",
$"True Seeing";
#line "domains.irh" 430
On Event 153 {
EActor->GainBonusSkills($"priest",1);
return 0;
};
}

Domain "Law" : 0
{
Desc: "__<15>Granted Power:<7> The ordered nature of your mind gives you a bonus to save 
      versus confusion and stunning equal to your priest level, and sustains your
      Intelligence at a level equal to your priest level. Furthermore, you gain the 
      Sure Spell feat for free at 1st level.";
Grants:
Stati[123,13,+1] at every level starting at 1st,
Stati[123,21,+1] at every level starting at 1st,
Stati[125,3,+1] at every level starting at 1st,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 47)] at 1st level;
Spells:
$"Protection from Theft",
$"Hold Person",
$"Iron Sword",
$"Order's Wrath",
$"Mark of Justice";
#line "domains.irh" 458
On Event 151 {
if (EActor->isMType(104))
return 1;
return -1;
};
}
Domain "Liberation" : 0
{
Desc: "__<15>Granted Power:<7> You are able to release creatures summoned by other
      spellcasters from the control their master has over them; at this point
      they will usually turn on their summoner. Using this power costs two
      fatigue points, and affects a group of creatures whose combined CR is
      less than or equal to you priest level.";
Grants:
Ability[122] at every level starting at 1st;
Spells:
$"Valor",
$"Passwall",
$"Free Action;spell",
$"Restoration",
$"True Seeing";
}

Domain "Luck" : 0
{
Desc :"__<15>Granted Power:<7> You gain a +1 sacred bonus to your Luck score every 
      4th level, starting at 1st. Additionally, you have a 25% chance, +5% per 
      odd priest level, to negate critical hits against you due to sheer luck.";
Grants:
Ability[123,+4] at 1st level,
Ability[123,+1] at every 2nd level starting at 1st,
Stati[107,6,+1] at every 4th level starting at 1st;
Spells:
$"Entropic Shield",
$"True Strike",
$"Warning",
$"Premonition",
$"Energy Buffer";
#line "domains.irh" 505
}
Domain "Magic" : 0
{
Desc: "__<15>Granted Power:<7> You gain Use Magic Device and Decipher Script as bonus 
      class skills. You gain a bonus to them equal to one-third your priest level.";
Grants:
Stati[124,47,+1] at every 3rd level starting at 3rd,
Stati[124,10,+1] at every 3rd level starting at 3rd,
Stati[32,47] at 1st level,
Stati[32,10] at 1st level;
Spells:
$"Nystrom's Magical Aura", $"Mana Theft",
$"Dispel Magic",
$"Wandwierd",
$"Magic Resistance";
}

Domain "Moon" : 0 {
Grants:
Stati[218,19] at 1st level,
Ability[44,$"faerie fire"] at 1st level;
Spells:
$"Silversheen;spell",
$"invisibility",
$"polymorph self",
$"spectral force",
$"mooncloak";
Desc: "__<15>Granted Power:<7> When you turn Undead you also turn
      Lycanthropes. In addition, you gain <9>Faerie Fire<7> as an
      innate spell-like ability.";
}
Domain "Mysticism" : 0
{
Grants:
Stati[101] at 1st level;
Spells:
$"Divine Favor",
$"Hypnotism",
$"displacement",
$"Lesser Aspect of Divinity",
$"wizard sight";
Desc: "__<15>Granted Power:<7> Your affinity for the Higher Mysteries allows you to 
      see things no other being can -- you innately perceive invisible creatures.";
}

Domain "Night" : 0
{
Desc: "__<15>Granted Power:<7> You have infravision out to a range of 30 feet, or 
      your existing infravision has its range extended by 30 feet. Starting at
      5th level, you can use <9>Deeper Darkness<7> as an innate spell-like
      ability at will.";
Grants:
Ability[42,+3] at 1st level,
Ability[44,$"deeper darkness"] at 5th level;
Spells:
$"Sleep",
$"Globe of Shadow",
$"Nightmare;spell", $"Summon Shadows",
$"Phantasmal Killer";
#line "domains.irh" 571
}

Domain "Nobility" : 0
{
Desc: "__<15>Granted Power:<7> You are protected from treachery and ambush by
     a noble aegis, receiving a +4 bonus to your defense class against 
     surprise attacks. Against you, the bonus damage from a rogue's sneak 
     attack is reduced by two points per priest level, to a minimum of 
     zero. Additionally, you recieve Ride as a priest class skill.";
Grants:
Ability[58] at every level starting at 1st,
Stati[32,40] at 1st;
Spells:
$"Mount",
$"Enthrall",
$"Phantom Steed",
$"Dismissal",
$"Righteous Might";
#line "domains.irh" 594
}


Domain "Pain" : 0
{
Desc: "__<15>Granted Power:<7> You can feed upon the pain you inflict upon
      others, healing 1 hit point for every 10 that your attacks inflict.";
Grants:
Ability[35] at 1st level;
Spells:
$"Pain Touch",
$"Wrack",
$"Blackmantle",
$"Thornwrack",
$"Vitriolic Sphere";
#line "domains.irh" 613
}

Domain "Passion" : 0
{
Grants:
Ability[117,+1] at every 3rd level starting at 3rd;
Spells:
$"hideous laughter",
$"dire charm",
$"emotion",
$"shout",
$"dream";
Desc: "__<15>Granted Power:<7> Your joy for life gives you a boundless
      vigor, allowing you to regenerate fatigue in the same manner
      that dwarves do, starting at 3rd level and increasing every
      3rd level thereafter.";
}

Domain "Planning" : 0
{
Desc: "__<15>Granted Power:<7> You are able to prepare buff spells more
      effectively then most spellcasters -- every even priest level 
      reduces the mana cost of buffs by 5%, to a maximum of 25% reduction at
      10th level. You also recieve the Extend Spell feat for free at 1st
      level.";
Grants:
Feat[((((49 + 1) + 32) + 50) + 15)] at 1st,
Ability[121,+1] at 2nd,
Ability[121,+1] at 4th,
Ability[121,+1] at 6th,
Ability[121,+1] at 8th,
Ability[121,+1] at 10th;
Spells:
$"Call Companions",
$"Detect Objects",
$"Detect Monsters",
$"Insightful Stroke",
$"Lower Resistance";
#line "domains.irh" 655
}


Domain "Plant" : 0
{
Desc: "__<15>Granted Power:<7> You can command plant creatures just as an evil
      priest commands undead. Wilderness Lore is considered a class skill
      for you.";
Grants:
Stati[32,48] at 1st level,
Ability[18,49] at every level starting at 1st;
Spells:
$"entangle",
$"barkskin",
$"forestation",
$"verdant aid",
$"wall of thorns";
#line "domains.irh" 677
}

Domain "Protection;domain" : 0
{
Desc: "__<15>Granted Power:<7> You can create a protective ward that gives a
      target creature a resistance bonus to their next saving throw equal
      in magnitude to your priest level. Additionally, you gain a sacred
      bonus to your saving throws every 4th priest level, starting at 4th.";
Grants:
Ability[63] at every level starting at 1st,
Stati[107,52,+1] at every 4th level starting at 4th;
Spells:
$"Alarm",
$"Shield",
$"Endure the Elements",
$"Spell Immunity",
$"Magic Resistance";
}

Domain "Retribution" : 0
{
Desc: "__<15>Granted Power:<7> No enemy can hide from you for long -- you gain
      Search and Find Weakness as bonus priest class skills. Additionally,
      you have the power of Retributive Strikes - once a foe has injured you
      in combat recently for more then 10~ of your total hit points, you gain 
      a +1 bonus to all melee attack rolls against that foe, and twice that to
      damage. This bonus increases to +2 for 20~ at 4th level, +3 for 30~ at 
      7th, +4 for 40~ at 10th and so forth.";
Grants:
Stati[32,41] at 1st level,
Stati[32,14] at 1st level,
Ability[67] at every 3rd level starting at 1st;
Spells:
$"Gaze Reflection",
$"Retributive Mirror",
$"Bestow Curse",
$"Fire Shield",
$"Righteous Might";
}

Domain "Slime" : 0
{
Grants:
Ability[18,17] at 1st level,
Ability[60] at 1st level,
Stati[104,3] at every 3rd level starting at 1st;
Spells:
$"grease",
$"blur",
$"choke",
$"solid fog",
$"Conjure Oozes";
#line "domains.irh" 731
Desc: "__<15>Granted Power:<7> You can command oozes just as an evil priest
      commands undead. Additionally, you gain Acid Resistance 1, and this
      increases by one level every third priest level (at 4th, 7th, etc.).
      Finally, you are able to move over terrain squares that contain
      slime without becoming stuck as a constant, innate ability.";
}

Domain "Spider;domain" : 0
{
Grants:
Ability[18,26] at every level starting at 1st;
Spells:
$"Spider Climb",
$"Summon Swarm",
$"Spectral Spider",
$"Giant Vermin",
$"Insect Plague";
}

Domain "Strength" : 0
{
Desc: "<15>Granted Power:<7> You gain a sacred bonus to your Strength every
      five priest levels. Additionally, at the cost of four fatigue points, 
      you can gain a sacred bonus to your strength equal to your full priest 
      level that lasts for one single turn.";
Grants:
Stati[107,0,+1] at every 5th level starting at 1st,
Ability[37] at every 4th level starting at 1st;
Spells:
$"Enlarge",
$"Bull's Strength",
$"Force Bolt",
$"Shout",
$"Telekinesis";
#line "domains.irh" 769
}


Domain "Succor" : 0
{
Desc: "__<15>Granted Power:<7> You can speak a soothing word, which causes all
      hostile, non-intelligent living creatures that fail a Will save in 
      your vicinity (60 feet) to become friendly, provided you have not 
      already harmed them. Additionally, you can use <9>sanctuary<7> as an
      innate spell-like ability at will.";
Grants:
Ability[81] at every level starting at 1st,
Ability[44,$"sanctuary"] at 1st level;
Spells:
$"Calm Emotions",
$"Create Food and Water",
$"Aura of Abjuration",
$"Heroes' Feast",
$"Antilife Shell",
$"Find the Path";
#line "domains.irh" 792
}

Domain "Sun" : 0
{
Desc: "__<15>Granted Power:<7> You can perform a Greater Turning,
      wherein all creatures that would normally be frightened are destroyed
      outright instead. A Greater Turning costs three times as much mana as a
      normal turning.";
Grants:
Ability[39,76] at every level starting at 1st;
Spells:
$"Call Light",
$"Heat Metal",
$"Searing Light",
$"Dispel Fatigue",
$"Fire Shield";
#line "domains.irh" 813
}

Domain "Time" : 0
{
Desc: "__<15>Granted Power:<7> You have a limited insight into the future,
      granting you premonitions that have a 50~ chance of negating
      surprise or flat-footedness on any attack made against you.";
Grants:
Ability[62] at 1st level;
Spells:
$"Moment",
$"Slow",
$"Premonition",
$"Haste",
$"Divine Agility";
#line "domains.irh" 833
}

Domain "Travel" : 0
{
Desc: "__<15>Granted Power:<7> You gain a +5~ class bonus to your base movement
      rate every 3rd priest level. Additionally, you have the power of limited 
      free action, automatically resisting one paralysis attack per day at 1st 
      level, and one additional automatic resistant every four levels thereafter.";
Grants:
Ability[41,+1] at every 3rd level starting at 1st,
Ability[52] at every 4th level starting at 1st;
Spells:
$"Longstrider",
$"Magic Mapping",
$"Fly",
$"Dimension Door",
$"Teleport";
}

Domain "Trickery" : 0 {
Desc: "__<15>Granted Power:<7> Bluff, Hide, Move Silently and Pick Pocket are considered
      to be priest class skills for you.";
Grants:
Stati[32,6] at 1st level,
Stati[32,18] at 1st level,
Stati[32,36] at 1st level,
Stati[32,38] at 1st level;
Spells:
$"Change Self",
$"Invisibility",
$"Nondetection",
$"Confusion",
$"Displacement";
#line "domains.irh" 871
}

Domain "War" : 0
{
Desc: "__<15>Granted Power:<7> You gain proficiency with heavy armor and
      shields, as well as a free weapon focus in your diety's chosen weapon.
      You recieve a bonus feat from the Warrior list at 7th, 14th and 20th
      levels.";
Grants:
Feat[4] at 7th level,
Feat[4] at 14th level,
Feat[4] at 20th level;
On Event 153 {
rID wID;
if (EActor->GodID != ((rID)0)) {
wID = (rID) EActor->GodID->GetConst(135);
if (wID != ((rID)0))
if (EActor->WepSkill(wID) < 2)
EActor->GainPermStati(30,NULL,4,2,0,wID);
}
EActor->Proficiencies |= 0x80000000 | 0x10000000;
return 0;
};
Spells:
$"magic weapon",
$"spiritual hammer",
$"magic vestment",
$"divine power",
$"flame strike";
#line "domains.irh" 904
}

Domain "Water;domain" : 0
{
Desc: "__<15>Granted Power:<7> You can command water creatures, including
      fish, just as an evil priest of your level commands undead. 
      Additionally, you treat Swim as a bonus priest class skill, and have an
      increased chance of a positive result when using a fountain.";
Grants:
Ability[18,92] at every level starting at 1st,
Ability[18,80] at every level starting at 1st,
Stati[32,45] at 1st level;
Spells:
$"Resist Water",
$"Create Water",
$"Water Walking",
$"Whirlpool",
$"Watery Double";
#line "domains.irh" 927
}

Domain "Weather" : 0
{
Desc: "__<15>Granted Power:<7> At 1st level you gain the Nature Sense
      special ability and may see through fog and mist.";
Grants:
Ability[57] at 1st level;
Spells:
$"wall of fog",
$"gust of wind",
$"ice storm",
$"lightning bolt",
$"Control Winds";
}
#line "help.irh" 1
Text "help::mainmenu"
{ "<13>=======================================
       \n= INCURSION: HALLS OF THE GOBLIN KING =
       \n=======================================
       \n<5>__The manual for Incursion is divided into the following
       different sections. Use [TAB] and [ENTER] to select one of
       the links below, or simply type the number of the chapter
       that you want to view.\n\n

       \n<15>__THE INCURSION MANUAL<5>
       \n__*_{1:intro} Introduction to Incursion 
       \n__*_{2:chargen} Character Generation
       \n__*_{3:interface} The User Interface
       \n__*_{4:commands} Command Listing
       \n__*_{5:adventuring} Adventuring in Incursion
       \n__*_{6:combat} Combat in Incursion
       \n__*_{7:magic} Magic and Spellcasting
       \n__*_{8:overland} The Overland Map
       
       \n\n<15>__REFERANCE LISTS<5>
       \n__*_{M:custom} My Character
       \n__*_{R:races} Races and Subraces
       \n__*_{C:classes} Class and Prestige Classes
       \n__*_{F:feats} Feat Descriptions
       \n__*_{S:skills} Skill Descriptions
       \n__*_{G:pantheon} The Theyran Pantheon
       \n__*_{D:domains} Domain Descriptions
       \n__*_{I:spell index} Spell Index
       \n__*_{A:arcane spells} Wizard Spell Listings
       \n__*_{P:divine spells} Priest Spell Listings
       \n__*_{U:druid spells} Druid Spell Listings
       \n__*_{O:other spells} Other Spell Listings
       \n__*_{X:powers} Alchemy, Psionics and Poisons

       \n\n<15>__EXTRAS<5>
       \n__*_{E1:strategy} Westley Weimer's Strategy Guide
       \n__*_{E2:example} Example of Play Tutorial
       \n__*_{E3:spoilers} Spoilers
       \n__*_{LI:OGL}  The Open Gaming Liscence
       \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n
       \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n

   "; }

Text "help::intro"
{ "<6>__Welcome to <7>Incursion: Halls of the Goblin King<6>,
     a promo game for the upcoming roguelike epic <7>Incursion: Return of
     the Forsaken<6>. This version of Incursion is still in alpha testing,
     and has limited character advancement and some unimplemented skills and
     features, but remains a fully playable roguelike game.
     \n__<14>You can type '?' at any time to bring up Incursion's online
     help system.\n
     -- {MM:mainmenu} Return to the Main Help Menu\n\n

     <14>THE GOAL OF THE GAME\n
     ====================<6>\n
     __The Forsaken -- primordial mage-lords who made pacts with things
     beyond the rim of creation -- were sealed into a ceaseless, ageless
     slumber eons ago during the sorcery wars. Now, their sleep grows
     restless and troubled, and the thirteen signs and omens the holy
     texts claim will presage their awakening have begin to come to pass.
     Trees grow crooked and bend, seven nations have fallen to the hand
     of one, and a crimson fire rained from the sky for three days and
     three nights over the town of Akrenstone. The fourth sign is a great
     goblin horde boiling forth from the bowels of the Earth to overwhelm
     a good king, and to preempt this many would-be adventurers are making
     the long and harsh journey to war-torn Mohandi, which holds the one
     known entrance to the labyrinthine underground citadel known as the
     Goblin Caves.\n 
     __In order to win Incursion, you must create a character and advance
     him (or her) from 1st to 11th level, accumulating enough class abilities 
     and magical items to be able to delve down to the tenth and final level
     of the Goblin Caves, wherein can be found the fortress of Murgash, the
     Goblin King. Slay Murgash, and the hordes of goblinoids will disperse
     on their own. Fail, and they will boil across the surface of Therya like
     a plague upon the land. Even should you succeed, you must escape with
     your life and return to the surface world. Do these things and you will
     receive the fame and glory of a hero of legend, but beware! Rumors claim
     Murgash is dealing with things far fouler then just goblinoids in the
     shadowed caverns deep beneath the stone...\n\n

     <14>NOTES ON GAMEPLAY\n
     =================<6>\n
     __Incursion plays significantly differently then existing roguelikes,
     and it's recommended that players have some experience with at least
     one other roguelike game before trying Incursion. Beyond this, some
     basic recommendations include playing a physically tough character to
     get a handle on the game before adventuring into the more nuanced
     classes. Orcs, lizardmen, dwarves, druids, rangers and paladins
     all make ideal choices for a new player. Halflings begin with a lot
     of food, which can be useful to a newbie who finds they keep running
     out due to resting frequently.\n
     __It is wise to map out a single level fully before diving lower, and
     ideally a character's level should equal or exceed the dungeon level
     he's currently in. Note that in Incursion, 'scumming' serves very 
     little purpose; good items are only generated at the same time as new 
     dungeon levels.\n\n
          
     <7>Ten Points for Experienced Roguelike Players<6>\n
     __Players who have experience with other roguelike games would do well
     to take the following points of divergance into account:\n
     __<14>1. <6> Characters in Incursion do not heal simply by the passage
     of game turns -- instead, they must use the Rest command ('z') to rest
     and recover, which means finding a way to be safe from encounters while 
     you sleep. The design intent behind this is to make hit point loss a
     serious detriment to a player, rather than simply a nuisance. The time
     cycle in Incursion is different from that found in games like NetHack
     and Crawl, where every turn bleeds off valuable food. Players can take
     the time to explore and experiment, because individual turns are not
     that valuable, but whenever you rest, more monsters are generated in
     the dungeon (until it reaches equilibrium), so there is a definite 
     pressure to accomplish as much as possible in a day.\n
     __Finding safe ways to rest is a prominent goal of any character in
     Incursion. Initially, a character can rest safely by returning to the
     surface world, and in the mid-levels of the dungeon there are special
     areas where one can rest safely -- but eventually a character will need
     to rest in unsafe locales, and should strive to find a means to survive
     doing so.\n
      __<14>2. <6> List your special abilities. Most characters in Incursion 
      have a lot of them, and they can be complex. Forgetting you have them
     will get you killed. They're all useful if used right. The design of 
     Incursion is that character abilities matter more than magic items, 
     though the latter still matter. Every ability has advantages and costs;
     determine how frequently you can use it and which problems it is best
     suited to.\n
      __<14>3. <6> Fountains are a valuable resource; use them wisely. A
      fountain can cure poison or disease and remove curses, as well as many
      other effects. Dipping magical items in a fountain can improve their
      magical plus. However, fountains can have a wide variety of negative
      effects as well. The behaviour of fountains is influenced by the Luck
      attribute; every +1 of your Luck bonus removes one possibe negative
      effect from fountain use, starting with the most severe. Characters
      with a Luck bonus of +2 or higher can use a fountain without risking
      truly dire and irresistable consequences, though it can still provoke
      several dangerous effects; characters with lower Luck risk effects that
      can seriously mess up their game in the long term, especially in the
      late game.\n
      __<14>4. <6> Set up shortcuts. You can designate a default melee weapon, 
      ranged weapon and ammo, and them switch between them with '-'. Once you
      have done this, you can fire in a cardinal direction with SHIFT+Arrow. 
      This makes ranged combat much less tedious. Likewise, Incursion spellcasters
      typically operate with a wide variety of defensive spells active at any
      given time; use the AutoBuff feature to keep defensive spells constantly
      active. Likewise, assign Quick Keys to spells, Yuse verbs, Tactical Options 
      and other functions you repeat frequently. All these features are discussed
      more throughly in the Interface section.\n
      __<14>5. <6> Incursion opposes scumming by design. This isn't meant as any
      kind of contempt against people who enjoy patience gaming, but it's worth
      being aware of -- we had to cater to /some/ tastes over others, after all.
      When you rest, more monsters are generated, but no new treasure is generated
      beyond occasional items given to monsters to make them more of a threat. If
      you clean out dungeon levels 1-3, and have sufficient experuience to move on,
      it's in your benefit to do so -- you aren't going to keep getting more items
      treading water.\n
      __<14>6. <6> The early game in Incursion can be very difficult -- you will
      probably die frequently -- and character generation is quite detailed. The
      design intent behind the character generation system is that every character,
      even of the same race and class, will be different in some non-trivial way
      from others. The counterpoint of this is that its very unfair to get a really
      nice character (or just a truly /unique/ one), and then die to random chance
      right away. Likewise, much can be learned from repetition under controlled
      circumstances.\n
      __To accomodate this while preserving the intent for character uniqueness,
      Incursion implements the ability to 'reincarnate' your character after you
      die, starting again at level 1 with exactly the same stats, perks and
      random equipment you had at the beginning of the last game. A character
      can only be reincarnated if they died before reaching character level 5 and
      before descending to dungeon level 5.\n
      __<14>7. <6> Armor and shields both work substantially differently than they
      do in any of Incursion's parent systems. Armor gives a character truly 
      significant protection, but has significant costs associated with it as well.
      Shields are /very/ strong, but also take up a character's active hand,
      preventing two-weapon fighting or wielding a weapon two-handed for increased
      damage. When you create a Warrior, consider very carefully what /kind/ of
      warrior you want to create. Incursion automatically starts very Dexterity-
      dependant characters with light armor, and very Strength-dependant ones with
      heavier armor.\n
      __Read the combat chapter in the manual carefully to understand all the
      implications of the armor system.\n
      __<14>8. <6> Gods are useful. Very useful. Cultivating a relationship with
      one in the early game will strongly help you in the later game, both in
      terms of the permanent forms of blessings and bonuses you recieve from your
      diety, and in terms of being able to pray for divine aid if you ever find
      yourself in a truly difficult situation. Understand the religion system,
      and remember that in Incursion, a few quality sacrifices count a great deal,
      whereas quantity accomplishes nothing.\n
      __<14>9. <6> Monsters are not always what they seem in Incursion. Humanoids
      can have classes (a dwarf rogue, for example) that aren't apparent when you
      first meet them; likewise, very similar or easily confused monsters cannot
      be told apart without special knowledge -- for example, the Knowledge (Nature)
      skill is used to tell different breeds of dangerous fungus apart, and Sense
      Motive helps you determine a character's profession and skills. A 'human'
      might very well be a 'human scarlet disciple', and the game isn't going to
      tell you that until he does something to make it obvious.\n
      __The overall most dangerous and dynamic monsters in Incursion are probably 
      your fellow humanoid adventurers -- some of them are evil mercenaries serving 
      the Goblin King, while others may provide aid to a respectable hero.\n 
      __<14>10. <6> Plan your character build ahead of time. Choosing the right
      feats, spells and combination of class levels can be key to success in
      Incursion. We often compare Incursion to a custom-car racing game, and the
      analogy is apt: success depends as much on how you build your character as
      what you do with the character once built. Before you choose to advance in
      level (which you must actively do -- it doesn't just happen when you get 
      enough experience), you should already know where any feats and skill points
      you will recieve will be placed. If you don't, you're either still learning
      the game, or you haven't thought ahead enough.\n\n
     
	 <7>A Note on Balance and Stability<6>\n
	   __Truthfully, Incursion is still very much a game in development and
     has not yet found its equilibrium in regard to game balance. For all
     I know at present, it could be nearly unbeatable without cheating, or
     it could become trivially easy when certain unforeseen combinations are
     exploited. As the developer, I welcome any feedback on how the balance
     issues can be addressed to produce a better game. I can be reached at
     incursion@shaw.ca. My life is very busy at various times, however, and
	   I cannot promise to respond to all e-mail in a timely fashion.\n
	    __As it stands, if this version of Incursion proves difficult or
	    unplayably hard due to game balance limitations, the wizard mode can
	    be used to adjust the difficulty of gameplay by obtaining needed items 
	    or otherwise skewing the game in favor of the player. The primary intent
	    of this release is not to be a fully polished game, but to stand as a
	    proof of concept for Incursion's overall design, and to provide a
	    teaser for what's to come in the future. I encourage players to 
	    experiment with the game, try out the features and get in touch with
	    me to offer suggestions for any future versions.\n
	    __<6>Incursion is still is very early alpha testing. It has several known
	    game stability bugs that cause it to crash, hopefully elegantly enough to
	    bring up a registry error dialog box, but sometimes badly enough to crash
	    completely. Fortunatly, Incursion does not delete save files until it is
	    ready to overwrite them, so if Incursion does crash (at some place other
	    then in the save game routines), you can recover your game from the last
	    place you saved. What this means is that it is also in your benefit to 
	    save your game frequently, so that you don't lose a great deal when the
	    game does crash. Incursion provides an AutoSave option for this purpose.\n\n

     \n\n
     <14>FREQUENTLY ASKED QUESTIONS {FQ}\n
     ==========================<6>\n
     __<14>Is Incursion based on, y'now, that popular tabletop RPG?<6> Yes,
     it is, and we think that this is one of its stronger selling points.
     The only reason this isn't mentioned more clearly is that the actual
     names are all trademarks that we can't legally use per the rules of the
     Open Gaming License.\n
     __<14>Then why didn't you follow its rules more exactly?<6> Because that
     tabletop RPG was one influence of many on Incursion, not the sole
     guiding principle. In fact, before the OGL Incursion was imagined as
     a sort of unofficial sequel to the older Roguelike game <14>Omega<6>. This
     influence can still be seen in the format of the game screen, the percentile
     speed system and in other areas. All of the sources listed on the title
     page were influences on Incursion in one way or another.\n
     __<14>Why is Incursion so buggy?<6> Because it's still in early alpha testing.
     This version was released to receive feedback, adjust game balance and
     polish rough edges. It's not a fully stable game yet.\n
     __<14>Why is Incursion so slow?<6> My development philosophy as a programmer
	 is that algorithms are complex enough to confuse without optimization being
	 in the picture in an early stage of development. Premature optimization makes
	 an already difficult task harder. Thus, for the purposes of development there
	 are several algorithms presently in use that are decidedly suboptimal,
	 especially in the monster AI. Incursion also performs a lot of superfluous
	 processing each turn that will (hopefully) be eliminated in future versions.
	 As as result, Incursion runs very, very slowly	at this stage in its development. 
	 Now that the game engine is reasonably complete, greater effort will be placed 
	 toward making it run faster.\n
	 __There's nothing <14>inherantly<6> slow about Incursion's structure, it's
	 just that code was written with an eye to clarity over speed, and 'lazy
	 algorithms' make the game nearly unplayable on slower computers. If your
	 processor speed is below 400 MHz, chances are that the game will become
	 unplayable in the deeper levels, where many, many objects are onscreen at
	 the same time. Future versions should correct this, and be fully playable
	 on lower-end computer systems. Regardless, please try out Incursion on your
	 system and tell me how it runs. I'm interested in how severe the slowdowns
	 are on lower-end systems.\n
     __<14>Is Incursion open-source?<6> The source will be released along with 
     the final, true version of the game. It won't be released until then so that
     I can ensure exclusivity of development -- in other words, I've put a
     tremendous amount of time and effort into writing a complex game engine,
     and I don't want to fully open the source right away for fear of being
     'scooped' on my own game and having someone else improve/finish it their
     way before I have the chance to do so.\n
     __This said, it WILL be open-source eventually. You can take this as a
     gentleman's promise. I look forward to seeing what other people will
     do with my work, and would be flattered if my game was popular enough to
     inspire variants. I just want first crack at my own 'variant', so to
     speak. My expectation is that the source will thus be released around
     2012, though of course dates cannot be exact.\n
     __<14>Where can I reach the author?<6> My name is Julian Mensch, and the
     best way to get a hold of me is by e-mail at incursion@shaw.ca. If for
     some reason that address isn't working, you can find my current e-mail
     address by Googling for newer posts by on Usenet; I use my real name
     there.\n
     __<14>Where can I post messages about Incursion?<6> Strictly gameplay
     messages for any miscellaneous roguelike game are on-topic in the
     Usenet newsgroup rec.games.roguelike.misc. Questions relating to the
     development (or bugs within) Incursion can be posted to the newsgroup
     rec.games.roguelike.development.\n
     __<14>What's the 'resource compiler' option for?<6> I use it to compile
     the resource files (.IRC) contained in the \\lib directory after editing
     them. If you just want to play Incursion, you don't need to do anything
     with it. If you want to try editing the resource files, you can then
     recompile MAIN.IRC and see what happens. Chances are that this won't be
     very fulfilling, however, as there's currently no documentation on how
     the IncursionScript language works, and I'm explicitly <7>not<6> providing
     technical help with scripting at this time.
     
     \n\n
     <14>CREDITS\n
     =======<6>\n
     __All of the source code for Incursion, save what is noted below, is
     the work of Julian Mensch, and is fully copyright 1999-2006. However,
     it terms of design and gameplay Incursion owes a great deal to the
     other roguelike games that have come before it. The primary inspiration
     was Omega, and I thus owe gratitude to both Laurence R. Brothers and
     Erik Max Francis, for creating the only roguelike that inspired me to
     genuine curiosity about its world, secrets and quests. (The influence
     of Omega may seem tertiary at the moment; it will show more clearly
     once Incursion includes cities, wilderness and quests. Of course, the
     other major roguelikes (Angband, ToME, NetHack and ADOM) all influenced
     elements of Incursion as well.\n
     __The game system that Wizards of the Coast has released under the Open
     Game License has been greatly beneficial as well, as it forms the basis
     for the rules system that Incursion uses. I'd thus like to thank Gary
     Gygax, Monte Cook, Skip Williams, Sean K Reynolds and all of the others
     for producing one of the greatest hobbies in the world. Finally, a very
     few more specific attributions:\n
     __<14>*<6>_Westley Weimer has been extensively playtesting Incursion for
     me, doing some coding, helping me balance the game and generally being
     exceedingly useful. Thanks, Westley!\n
     __<14>*<6>_Incursion now has close to 30 playtesters, all of whom I'm
     very thankful to. However, I've had a truly prodigious amount of feedback
     from Terje S. Bo, Aaron Lambert, Adam Smith, Jussi Ylikahri, Frumple and 
     Ivan Tomas, and the game would not have reached the state it has without 
     their support!\n
     __<14>*<6>_David H. Hovemeyer placed into the public domain C++ source
     code for manipulating fractional values without floating-point math that
     proved to be most useful in the vision system.\n
     __<14>*<6>_Bjorn Bergstrom runs the roguelike development archive on
     the web, which has continually proven to be a useful resource in writing
     Incursion's monster AI, vision code and dungeon generator.\n
     __<14>*<6>_More specifically, the dungeon generator was influenced by
     articles written by R. Alan Monroe, Josh Tippets, Radomir Dopieralski, 
     and others that I tragically can no longer locate to attribute.\n
     __<14>*<6>_Martin Minow wrote the Decus CPP C++ preprocessor and placed
     it in the public domain; with just a little bit of hacking this became
     the IncursionScript preprocessor used by the resource compiler.\n
     __<14>*<6>_Friedrich Wilhelm Schroeer wrote the ACCENT compiler compiler
     tool (similar, but far superior to, YACC) that I used writing the 
     IncursionScript compiler, and he too deserves credit, if only for
     delivering me from the purgatory of shift/reduce conflicts.\n
     __<14>*<6>_Jeff Heikkinen and Bradd W. Szonye developed a system for
	   handling armor in a tabletop RPG, <7>Draft Armor System for Cytherea<6>,
	   that heavily influenced how Incursion's armor works. I want to thank
	   them for sharing this.\n
	   __<14>*<6>_Many friendly people on the rec.games.roguelike.development
     newsgroup have offered both technical advice and moral support to the
     roguelike development community; Timo Viitanen stands out in particular
     for advice for dungeon-themed roguelikes.\n
     __<14>*<6>_Many interesting Netbooks contain a wealth of Open Gaming
     Content. Incursion may contain material from: 
     <7>The Book of Beasts<6>, edited by Robert J. Hall; 
     <7>The Netbook of Creatures<6>, edited by Spencer Cooley; 
     <7>The Netbook of Feats<6>, edited by Sigfried Trent; 
     <7>The Netbook of Spells & Magic<6>, edited by Dennis Przybyla; 
     <7>The Netbook of Traps<6>, edited by Adam Nave. Credit goes to the
     original authors and contributors.\n
     __<14>*<6>_The Mersenne Twister random number generator code was written
     by Makoto Matsumoto and Takuji Nishimura, for which I am grateful; their
     original copyright notice is preserved after the OGL.\n
     __<14>*<6>_Finally, the greatest thanks go to my father Fred Mensch, for
     continued support over the time that I developed this game."; }

Text "help::chargen"
{ "<15>========================\n
         = CHARACTER GENERATION =\n
         ========================\n<5>
      <5>-- {R}  Race\n
         -- {C}  Class\n
         -- {A}  Attributes\n
         -- {ST} __Strength\n
         -- {DE} __Dexterity\n
         -- {CO} __Constitution\n
         -- {IN} __Intelligence\n
         -- {WI} __Wisdom\n
         -- {CH} __Charisma\n
         -- {LU} __Luck\n
         -- {F}  Feats\n
         -- {P}  Personality Architype\n
         -- {E}  Starting Equipment\n
         -- {CT} Calculated Traits\n
         -- {CS} The Character Sheet\n
         -- {MM:mainmenu} Return to Main Help Menu\n
     __<5>Characters in Incursion are generated in five steps.

     \n\n
     <13>RACE {R}\n
     ====<5>\n
     __Every character in Incursion belongs to one of nine species of
     intelligent humanoids that populate Therya. These races each offer
     unique advantages and disadvantages in gameplay. A character's race
     alters four types of traits:\n
     __<13>Attribute Modifiers:<5> Each race has a set of modifiers to
     their attribute scores. For example, dwarves are more hardy then
     humans, orcs stronger and elves more charismatic. These modifiers
     stack with all other bonus types, and are permanent and always in
     effect.\n
     __<13>Racial Skills:<5> Each race has certain skills that they have
     a particular aptitude for. These skills are treated as if they were
     class skills for every class the character has. Some races also grant
     racial bonuses to certain skills.\n
     __<13>Favored Classes:<5> Each race (except humans) have two classes
     as their favored classes. If a multiclass character's highest class
     (or one of his equally high classes) is not a racial favored class, then
     she receives a 20~ penalty to all experience points earned.\n
     __Humans treat all classes as favored classes, and thus never receive
     an experience penalty for multiclassing.\n
     __<13>Special Abilities:<5> Each race offers a few unique powers or
     abilities; examples include a gnome's innate illusion magic, an elf's
     ability to meditate instead of sleeping, or an orc's ability to take
     an enemy's power by devouring his corpse. Some of these can be actively 
     used in the game by pressing 'u' and choosing the relevant ability
     from the menu, while others are always active and simply alter the
     way the game operates at different times.
     \n<7> See Also: <5> -- {RD:races} Race Descriptions
  
     \n\n
     <13>CLASS {C}\n
     =====<5>\n
     __A character enters play at level one and gains more levels throughout
     the game. These levels can be distributed among any 3 of Incursion's
     classes in any amounts the player desires. For example, a level 7
     character -- the highest that can be achieved in the current version of
     the game -- could be a Fighter 7, a Fighter 3 / Mage 4 or even a Monk 1 /
     Paladin 2 / Fighter 4. The class you choose at the beginning of the game
     is the class that your first level will be invested into, as well as the
     class that all other levels will by default be invested into if you do
     not choose the 'M'ulticlass option on the character sheet screen.\n
     __Classes grant a wide variety of different abilities as the character
     advances in level, including bonus feats, skill points and class features.
     These are described in more detail under each individual class's description.\n
     __<13>Experience:<5> You gain experience points for killing monsters and
     overcoming other challenges; the amount of experience that overcoming
     a challenge grants is determined by the toughness of the challenge in
     relation to your own power. When you have achieved enough experience
     to gain a new level, the game will notify you of this with a special
     message. Your character is not yet changed in any way. When you want to
     level up, you can do so from the character sheet screen. If you have
     more than one class, the game will ask you which of your classes you
     want to invest the level into.\n
     __Note that when two classes offer the same ability, that ability
     stacks between them. For example, both the rogue and the barbarian
     gain the Uncanny Dodge class feature, and so levels of that feature
     gained from each class add together. <13>In Incursion, the same is
     true of spellcasting chart levels.<5> For example, a mage gains one
     arcane casting chart level for every class level, while a bard gains
     one arcane casting chart level for every second class level. Thus, a
     Mage 3 / Bard 4 casts arcane spells identically to a 5th level pure
     mage.
     \n<7> See Also: <5> -- {CD:classes} Class Descriptions
  
     \n\n
     <13>ATTRIBUTES {A}\n
     ==========<5>\n
     __Attributes determine the basic capabilities of your character in
     Incursion. They are rolled at the beginning of the game by a method
     of your choice, and then adjustments are applied to them based on
     the race you choose. Attributes can be raised in several different
     manners during the game -- every four character levels, you gain
     a +1 inherant bonus to increase a single attribute as you wish. Your god might
     increase attributes related to his portfolio if you've been a loyal follower, and 
     in the full-release version of Incursion, you
     can train attributes in places in the city, such as the gymnasium
     or library. Powerful magic-users can amplify their attributes with
     the <9>wish<5> spell, activities which train an attribute will
     increase it over time and many uncommon magical items and effects can amplify
     your character's attributes. However, all these methods are considered
     to be <13>inherent<5> bonuses, and any given attribute can have
     a maximum inherent bonus of +5. This makes the attributes you start
     the game with, along with your racial bonuses and the bonuses granted
     by attribute feats and divine blessings (none of which are inherent bonuses)
     very important in the later stages of the game, when you will likely
     have maxed out your inherents.
     \n__There are seven attributes in total. Note that there are no real
     'prime requisites' in Incursion; while some attributes are of
     truly crucial importance to a given character class, every attribute
     impacts every character in a significant way. Each attribute has two
     modifiers - the first increases by one for every even point in the
     attribute, the second by one for every odd point. Each modifier is
     applied to roughly half the tasks that a given attribute impacts in
     the game.\n\n

     <7>Strength<5> {ST}
     \n__Strength is the most straightforward of the attributes, determining
     your raw physical power. It increases your ability to hit with melee
     weapons, and high strength improves the damage you inflict with all
     weapons (other than firearms, of course). Strength also determines the
     amount by which armor reduces damage from your blows -- higher Strength
     means greater penetration and more damage. Strength also determines the
     level of encumbrance you face from a given load, which can be very
     important in play, as encumbrance gives a wide variety of penalties
     and contributes to determining how quickly you get hungry. Finally,
     Strength impacts your chance of breaking down doors, your facility
     with mining and other feats of raw physical power.\n
     <13>Primary:<5>___Damage, Feats of Strength\n
     <13>Secondary:<5> +Hit, Encumbrance\n\n

     <7>Dexterity<5> {DE}
     \n__Dexterity describes your character's manual agility, precision,
     motor skill, reflexes and hand-eye coordination. It impacts your
     ability to hit with ranged weapons, and to a lesser extent with
     melee weapons. High-Dexterity combatant characters may decide to
     look at the Weapon Finesse feat, which increases Dexterity's impact
     on melee combat. Dexterity is the primary factor in determining
     a character's Defense. Dexterity also modifies a character's Reflex
     saving throw, which allows her to dodge a wide variety of attacks,
     beams and magical spells. Finally, Dexterity impacts the chance of
     being affected by most traps.\n
     <13>Primary:<5>___Attack rolls, Defense\n 
     <13>Secondary<5>: Saving Throw, Traps, Skills\n\n

     <7>Constitution<5> {CO}
     \n__Constitution rates your character's overall toughness, resilience,
     ability to withstand damage, health and susceptibility to diseases.
     It figures in computing your character's hit points, and also modifies
     your Fortitude saving throw, which is rolled against such
     attacks as breath weapons, petrification, polymorph and paralysis.
     Constitution also helps in casting spells that carry a tremendous
     strain on the body, or using the blood magic abilities of a witch
     or druid.\n
     <13>Primary:<5>___Hit Points\n 
     <13>Secondary:<5> Everything Else\n\n

     <7>Intelligence<5> {IN}
     \n__Intelligence governs a character's mental acuity, ability to learn,
     academic prowess and general reasoning ability. It comes into play in
     determining the number of skill points gained every level, and some
     combat Feats have intelligence prerequisites -- the highest forms of
     martial skill are as much mental as physical. Intelligence is also
     very valuable to spellcasters, as bonus spells are granted based on
     it, and it influences spell failure rates as well. Finally, Intelligence
     is a factor in the successful use of magical devices, and many
     non-physical skills are based on Intelligence. Obviously, a character
     with a high intelligence is very flexible, having more skills and
     spells to choose from then otherwise possible.\n
     <13>Primary:<5>___Skill Points, Spell Failure\n 
     <13>Secondary:<5> Everything Else\n\n

     <7>Wisdom<5> {WI}
     \n__Wisdom is a combination of spiritual devotion, willpower, perceptual
     acuity, canniness and basic common sense. It governs a character's
     ability to search and spot, figures (along with Dexterity) into the
     avoidance of traps and the spotting of hidden beings. Wisdom is the 
     basis for most skills relating to animals, such as Animal Empathy or 
     Ride. Its integral to spellcasters as well, governing the sheer power 
     (save DC) of their spells as much as Intelligence determines finesse. 
     Wisdom is also a primary factor in the calculation of a character's Mana, 
     and finally it forms the basis of the Will saving throw, aiding characters 
     in resisting fear, confusion and mind control.\n 
     <13>Primary:<5>___Mana, Will save\n 
     <13>Secondary:<5> Everything Else\n\n

     <7>Charisma<5> {CH}
     \n__Charisma determines a character's social prowess, force of presence,
     leadership potential, comeliness and understanding of human relations.
     It influences the prices shopkeepers offer her for goods and services,
     and is used for calculating the save DC for mind-affecting spells and
     magic effects. More importantly, however, it is used in the calculation
     of the maximum amount of allies of any type a character may have --
     whether they are a ranger's animal companions, a fighter's followers,
     a sorceror's summoned creatures or a necromancer's undead minions does
     not matter. Charisma also influences the chance that a party member
     will do what they are told when the protagonist gives them an order.
     Finally, it determines the chance that an ally -- whether summoned
     creature, pet or party member -- will betray the hero.\n
     <13>Primary:<5>___Allies & Reaction\n 
     <13>Secondary:<5> Shopkeepers, Everything Else\n\n

     <7>Luck<5> {LU}
     \n__The least obvious of the characteristics, Luck describes the basic
     degree of serendipity an adventurer experiences throughout her career.
     High Luck increases the chance of good magical items and treasure
     being generated in the dungeon, and decreases the chance of 'out of
     depth' monsters being created. Obviously, these are slight skewings -- 
     even the luckiest character will meet difficult monsters, and a very 
     unlucky character will still find a reasonable share of magic. Luck 
     also plays into the effects of chaotic magic, making it highly valuable 
     to sorcerors -- their wild magic surges are strongly influenced by Luck.\n
     <13>Primary:<5>___Items\n 
     <13>Secondary:<5> Monsters, Wild Magic
  
     \n\n
     <13>FEATS {F}\n
     =====<5>\n
     __By default, all characters receive two feats at first level, and one feat
     at every third character level (3rd, 6th, 9th, etc.) Certain races and
     classes also grant bonus feats at a given level, which are often chosen
     for a more limited list thematically tied to the class in question.\n
     __Feats play a very significant role in personalizing your character, and
     in you overall tactics in the game. Buying certain feats opens the path to 
     buy others that have higher prerequisites. Remember that whenever you are 
     choosing a feat from the feat menu, you can press '?' to view the help 
     information on feat trees to help you choose intelligently.
     \n<7> See Also: <5> -- {FD} Feat Descriptions

     \n\n
     <13>PERSONALITY ARCHETYPE {P}\n
     =====================<5>\n
     __Finally, you are prompted to choose a personality archetype from a list
     of 16 options. Currently, this is purely a color choice; in future versions
     of Incursion, it will impact which NPCs are willing to join your group,
     which quests and guilds are available and how different plotlines conclude
     for your character.

     \n\n
     <13>STARTING EQUIPMENT {E}\n
         ==================<5>\n
     __A character's starting equipment is defined by her race, class and perks.
     Characters proficient with armor begin with armor suitable to their character
     build -- a Dexterity-based finesse warrior will recieve light armor despite
     being proficient with all armor. Characters that take two-weapon fighting
     feats will recieve an offhand weapon, and those with shield-related feats
     will start with a kite shield. If a character's perks grant her a powerful
     weapon, that may subsume some of the abilities of her class-based initial
     weapons -- for example, a paladin starting with the Perk: +3 scimitar of
     accuracy will start with a +3 holy scimitar of accuracy rather than a
     seperate additional holy sword. The game tends to be fairly intelligent
     about assigning sensible starting equipment to new characters based on
     character-design choices.\n\n
     
     <13>CALCULATED TRAITS {CT}\n
     =================<5>\n
     __Your character has a number of values that are calculated based upon the
     choices you have made, as follows:\n
     __<13>Hit Points:<5> In Incursion, all player characters and pre-named NPCs start 
     off with a base of 20 hit points, just for the virtue of being hardy, skilled, daring and lucky.
     To this is added the result of a single die roll, plus your primary Constitution
     modifier, for every level you possess. The size of the die rolled is determined
     by the class you invested the given level in -- barbarians receive a 1d12 hit
     die, for example, while bards receive only 1d6. Options on the options panel allow
     a player to set maximum hit points, always average hit points or reroll if below
     average for hit points.\n
     __<13>Mana Points:<5> Mana is determined in exactly the same manner as hit points,
     but the base value is 10, not 20, and the mana die types for every class are
     different from the hit die types. All mana gained from the dice alone is then
     multiplied by a fixed multiplier based on total character level. These multipliers
     are listed on the level table under Experience and Advancement in the Adventuring
     chapter.\n
     __<13>Fatigue Points:<5> A character's total number of fatigue points is equal
     to 3 plus her Constitution bonus, plus a bonus for each class level she has
     of +1 for every 12 accumulated 'sides' of hit dice; thus, a barbarian 3 with 
     3d12 HD would have (3 x 12 / 12 =) +3 FP, and a mage 3 with 3d4 HD would have 
     (3 x 4 / 12 =) +1 FP.\n
     __<13>Encumbrance:<5> The amount of equipment and treasure a character can carry
     is determined by her Strength; the higher a character's strength, the lower her
     encumbrance level will be when carrying a certain mass of equipment.
     There are four levels of encumbrance in
     Incursion. Light encumbrance makes your movement rate 90~ of normal.
     Moderate encumbrance makes your movement 80~ of normal, lowers your
     maximum fatigue by one and gives you a -1 penalty to defense class.
     Heavy encumbrance gives you 70~ normal movement, 90~ normal speed and a
     -2 encumbrance penalty to defense class, Reflex saves, and maximum
     fatigue points. Extreme encumbrance gives you 50~ movement, 75~ speed,
     a -4 encumbrance penalty to defense class and Reflex saves and a -3
     encumbrance penalty to maximum fatigue.

     \n\n
     <13>THE CHARACTER SHEET {CS}\n
     ===================<5>\n
     __You can bring up your character sheet at any time during play by pressing
     'c'. This displays all of your characters' primary and figured characteristics,
     as well as breaking the total numbers down to show you how they were calculated.
     The character sheet screen also displays a list of commands on the bottom row,
     allowing you to level up ('<15>G<5>'), learn new spells ('<15>L<5>'), add a new
     class to your repertoire  ('<15>M<5>') or bring up the skill manager to advance
     your skills  ('<15>S<5>').
     __<13>Bonus Types:<5> All bonuses in Incursion have a type assigned to them,
     even if that type is 'base' -- i.e., a class give you your base bonus to attack
     rolls, saving throws and so forth. For example, the clerical spell <9>bless<5>
     gives you a +1 sacred bonus to hit, a +2 sword gives you a +2 magic bonus to
     hit and damage, and a Cloak of Resistance +3 gives you a +3 resistance bonus to
     all your saving throws. Bonuses of different types almost never stack, the only
     exception being bonuses of the types 'base', 'dodge' or 'circumstance'. Thus,
     for example, you can't cast bless four times in a row to get a +4 sacred bonus
     to hit, but the +1 dodge bonus from the Dodge feat stacks with a +4 dodge bonus
     dwarves get when fighting giants. More significantly, since base bonuses all
     stack, a Paladin 3 / Mage 2 has a base bonus to his Reflex saving throw equal
     to the base bonus of a 3rd-level Paladin plus the base bonus of a 2nd-level
     Mage.\n
     __For reference, the following bonus and penalty types exist in Incursion:
     base, attribute, magic (a.k.a. enhancement), sacred, morale, insight, artifact,
     feat, weapon, negative (i.e., negative levels), competence, size, deflection,
     damage (i.e., attribute damage penalty), rage, status, inherent, grace, dodge,
     armor, natural, skill, dual, fatigue, template, circumstance, shield, luck,
     encumbrance and resistance."; }

Text "help::interface"
{ "<5>__Incursion uses a window and menu-based user interface for most functions,
     and it should be fairly intuitive to navigate it under most circumstances.
     This section explains some of the more intricate methods in which the user
     interacts with the game.\n
      <5>-- {SL} Screen Layout\n
         -- {UH} Using the Help System\n
         -- {MS} Menus and Scrolling\n
         -- {QK} Quick Keys\n
         -- {SP} The Selection Prompt\n
         -- {IM} The Inventory Manager\n
         -- {OP} The Options Panel\n
         -- {MA} Macros and AutoBuff\n
         -- {LS} Loading and Saving\n
         -- {MM:mainmenu} Return to the Main Help Menu\n\n

     <13>SCREEN LAYOUT {SL}\n
        ==============<5>\n
     __Incursion displays in the 80x50 terminal mode, and must have a
     display screen capable of supporting this; fortunately, all modern
     Windows systems do this. The display is a normal Windows terminal
     window, and the size of the font used can be changed by selecting
     the Properties command from the system menu, which can be brought
     up by pressing [Alt + SPACE]. Pressing [Alt + ENTER] toggles the
     display between fullscreen and windowed mode. Note that the game
     is designed to be played using Raster Fonts; selecting Lucida
     Console will cause characters to be displayed incorrectly in many
     cases, since TrueType fonts often do not represent all of the
     extended ASCII characters Incursion uses in the conventional way.\n
     __In normal Incursion gameplay, the screen is divided into five distinct
     areas. The largest area is the map, which displays an overhead view of
     the area your character is exploring as represented by symbolic ASCII
     characters. This area is essentially self-explanatory. The other four
     areas are as follows:\n
     __<13>Traits Window:<5> The rightmost strip of the screen is called
     the Traits Window, and is seperated from the map by a blue line. Here
     you see several different pieces of information about your character
     for quick reference: your name, race, classes and levels, experience
     total and attributes. The current time is also displayed here, as are
     several status conditions: your readyness (Exploring, Fighting or
     performing an extended action), hunger state, method of locomotion,
     health state and fatigue state. Attributes are shown in bright green 
     if increased by magic, brown if decreased by a spell effect or fatigue
     penalty and red if damaged by an attribute-damage attack.\n
     __Beneath your attributes are listed your combat values: combat mode,
     to-hit bonus, damage, attack speed, encumbrance level, defense class
     (and armor coverage, if applicable), armor ratings and movement rate.
     The meaning of all these terms is defined in depth in the combat 
     chapter. Beneath the combat values is displayed a legend of all the
     creatures and objects currently within your line of sight, showing
     you exactly what each symbolic character on screen represents. If there
     are many things in your field of view, their names may be truncated to
     allow more to be shown.\n
     __The final two lines of the Traits Window show two 'video game life
     meter' style gauges for your current mana and current hit points as
     proportional to their totals. When you cast spells that drain mana for
     as long as they remain active, that lost mana is shown as brown on the
     mana meter. When you cast spells costing mana that can be regenerated,
     that lost mana is shown in green. Injuries are always shown in the life
     meter in red.\n
     __Several options allow you to customize what information is displayed
     in the Traits Window, suppressing common information that rarely changes
     or replacing the list of object in view with other kinds of quick
     referance data.\n
     __<13>Status Window:<5> The two-line status window is shown at the bottom
     of the screen. The lowest line shows your current and total hit points,
     mana and fatigue points, as well as the total value in gold pieces of all
     the coins (of any type) you possess. After this, the line lists any spell
     effects currently affecting you or any other status conditions not shown
     in the Traits Window. If you have a number of protective spells is your
     AutoBuff list, they won't all be listed seperately here when active; instead,
     the status line will simply read BUFFED (to indicate all protective or
     augmentation spells have been cast), SEMIBUFF (to indicate some such spells
     are active but not others) and UNBUFFED (to indicate that none of your
     listed spells are active on you at this time.\n
     __The line immediately above the lowest line shows your current location: 
     the name of the area you inhabit, the current region in that area, the
     terrain and objects in the square your character is standing in and the
     depth you are at when in a dungeon.\n
     __<13>Message/Prompt Windows:<5> The topmost three lines of the display are
     devoted to the message window. The game will display prose text here to
     tell you what is happening as the game progresses. The message window
     clears automatically every time a new message needs to be displayed and
     the user has given input since the last message was displayed. If enough
     messages are displayed that the message window becomes full, a 
     <12>-- more --<5> prompt will be displayed, and the game will wait for the
     user to press [SPACE] before the remaining messages are displayed. This
     behaviour can be turned off using the Options Manager, causing new batches
     of messages to automatically overwrite old ones; this can be useful in the
     later game when combats involve many creatures and a great deal of text is
     shown for every turn. The 'v' command can be used to review recent messages 
     if any are missed.\n
     __Beneath the Message Window is the one-line prompt window, which is normally
     empty but is used to display various input prompts, such as the yes/no
     confirmation prompt or the spell targeting prompt.\n
     __<13>Number Windows:<5> When the game makes a dice roll for you, the results
     of that roll are displayed in one of the game's number windows. These rolls
     include attack rolls (either your attacks against other creatures or their
     attacks against you), damage rolls, saving throws, skill checks and other, 
     less common rolls such as magic resistance checks. There are two, two-line  
     number windows; one for rolls your character makes and and for rolls made
     by other creatures as a result of your spells or attacks. Both of these windows
     can be turned off in the Options Manager; their screen-space is then used to
     display more of the map.\n
     __Some rolls are not shown, either because they happen very frequently or
     because they would give away information the player should not have. In
     other cases, the numbers shown will not match the actual result of an
     action in game -- for example, if a player is wearing an unidentified magical
     item that grants her a +4 bonus to Strength (and thus a +2 bonus to melee
     attack rolls), a percieved attack roll result of 13 will hit a monster with
     a defense class of 15 -- the increased Strength will be taken into account
     by the game even though the character is unaware of it. This information 
     might be useful to character seeking to determine the function of unknown 
     magical items.\n
     __When a roll needs to be displayed, the number window it should be displayed
     in will automatically be cleared, even if there is another roll there that
     the player has not yet had a chance to see. This is a fairly frequent 
     occurance in Incursion; the overwritten rolls can be examined using the 'v'
     command. Additionally, sometimes all the modifiers for a roll cause its
     listing to be longer than the width of the numbers window it is displayed in;
     in this case its text will simply be truncated, but again the full roll can
     be viewed using the 'v' command.\n\n
  
     <13>USING THE HELP SYSTEM {UH}\n
         =====================<5>\n
     __The '?' command will display context-sensitive help at any time in Incursion;
     in normal gameplay it brings up a menu window listing all of the gameplay commands
     and the keystrokes bound to them, as well as allowing the user to choose one of
     several chapters of the manual to navigate to. The '/' command brings up a legend
     listing all the characters displayed on the Incursion map and what they represent
     in actual gameplay.\n 
     __Help is always displayed in a pop-up window in front of whatever else was
     on the screen when it was requested. It can be scrolled using the [PGUP] and
     [PGDN] keys; the [UP] and [DOWN] arrow keys scroll more rapidly. [ESC] dismisses
     the help window and returns to the game. Incursion help includes hyperlinks, but 
     since Incursion does not use the mouse, a different means of navigating them is
     needed. A hyperlink is displayed as a two-character code enclosed in curly 
     braces; note for example the 'UH' hyperlink displayed at the top of this
     section.\n
     __A hyperlink can be selected in one of two ways. First, the [TAB] key can be
     used to jump among all the hyperlinks displayed in the current help window,
     and then [ENTER] can be pressed to jump to a currently selected hyperlink.
     More directly, you can simply type the two-character code associated with the
     hyperlink, automatically jumping to it even if it is not visible on the 
     current help page.\n
     __The hyperlinks can be used to quickly navigate long help pages. For example,
     the Wizard Spells chapter of the help has hyperlinks named according to school
     and spell level -- typing '3N' will automatically navigate to the third-level
     necromancy spells, and '2V' will send you to the 2nd-level evocation spells.
     Likewise, the feats are listed in alphabetical order, so typing the first two
     letters in any feat's name will scroll to the first feat with those two letters
     as the first letters in its name.\n\n
     
     <13>MY CHARACTER<5>\n
     The 'My Character' chapter of the manual is special in that it is customized to
     display only the help pertinent to the character you are currently playing. For
     example, if you are playing a chaotic neutral dwarven barbarian with the Power
     Attack feat, this chapter of the manual will contain the descriptions of dwarves, 
     barbarians, the chaotic neutral alignment and the Power Attack feat. Multiclass 
     spellcasters will find this chapter useful, because it lists all the spells they 
     have access to in a neat, ordered list.\n\n

     <13>MENUS AND SCROLLING {MS}\n
         ===================<5>\n
     __Incursion displays a menu in a pop-up window whenever it needs the user to
     select something from a list of choices. These menus can be navigated using
     the cursor keys, and a choice made by pressing [ENTER]; alternatively, every 
     option on a menu is assigned a letter of the alphabet in either upper or lower
     case; typing the letter in question will automatically select that item from
     the menu.\n
     __Some menus can be dismissed by pressing [ESC], cancelling the command that
     brought them up; others require a selection and cannot be closed until one
     has been made. For some menus, every option has a description associated with
     it. In this case, only the currently selected item's description will be
     displayed, and it will be shown directly beneath the listing of choices.\n
     __Frequently, Incursion displays a large amount of text in an area smaller
     than can contain that text, such as the help windows, the listing of the
     contents of a container in the inventory window or the descriptions of
     choices in a menu. This is indicated by the display of a green down-arrow
     in the area the text in displayed in. Whenever this green arrow appears,
     the text can be scrolled by pressing [PGDN] and [PGUP]. A green down arrow
     indicates that text can be scrolled further downward, while a green up
     arrow indicates that text can be scrolled further upwards.\n\n
     
     <13>QUICK KEYS {QK}\n
        ==============<5>\n
     __Quick Keys are a feature of Incursion that allows commonly used spells, verbs
     or combat options to be bound to a single keystroke. The number keys on the
     keyboard are considered Quick Keys in Incursion, and the user can bind them to
     commonly used commands, allowing those commands to be selected with a single
     keystroke. QuickKeys can be assigned to a spell in Spell Manager by moving the
     seelction arrows so that the desired spell is selected, then pressing the number
     key you wish to bind to that spell. Similarly, combat options or use-verbs
     (from the 'y' command) can be bound to a Quick Key by moving the menu cursor
     to that option and pressing the number key you wish to bind.\n
     __Thereafter, the number key can be pressed at any time in normal gameplay to
     cast that spell, use that combat option or issue that verb in a single
     keystroke.\n
     __Quick Keys are associated with a specific character; they are saved when the
     character is saved, but do not apply to any other character. This is because
     different characters will rely on different techniques -- a character who
     takes the Master Disarm feat will probably use the Disarm combat option a lot,
     whereas one who doesn't, won't.\n\n

     <13>THE SELECTION PROMPT {SP}\n
     ====================<5>\n
      __The selection prompt comes up whenever you cast a spell or use a
	  special ability that can affect something other then yourself, or
	  whenever you use the Look ('l') command. It allows you to aim your
	  effects at other targets on the map, or simply to examine what is
	  around you. The selection prompt is usually accompanied by a white
	  block-cursor that highlights whatever is currently selected. The 
	  cursor keys are used to select a target as desired, while other keys 
	  can be used to examine your surrondings.\n\n 

	  <13>SELECTION TYPES\n
      ===============<5>\n
      __Four different types of input can be given using the selection
	  prompt. By pressing the associated keys, you can input a direction,
	  location, target or inventory item. Not all of these types of input
	  are accepted by every selection prompt, depending upon what spawned
	  it. For example, the spell <9>bless<5> can be cast on either an
	  inventory item or a location, but the spell <9>hideous laughter<5>
	  can specifically be cast only on a living creature. You can press
	  [ENTER] at any time to confirm the selection of a target, or [ESC]
	  to cancel the selection prompt completely. The selection modes are 
	  as follows:\n
	  __<13>Select a Direction ('d'):<5> Wands, breath weapons, some tactical
	  options and spells which produce a beam, bolt or ball can be fired
	  in a specific cardinal direction. When selecting a direction, pressing
	  an arrow key is considered to be making a choice, and the spell is
	  fired in that direction. Some abilities (such as <9>magic missile<5>)
	  can also be targeted at a specific creature, while others (such as a
	  polymorphed character's breath weapon) can <13>only<5> be fired in a
	  cardinal direction. You can press '*' to aim a bolt or beam at yourself.\n
	  __<13>Select a Location ('l'):<5> This selection mode allows you to select
	  a given map square as a target for a spell or ability, irregardless
	  of whether there is anything in it or not. This can be useful for
	  spells like <9>dispel magic<5>, which have a circular area of effect 
	  that you are choosing the center point of. By carefully choosing the
	  focus of such effects, you can hit a maximum number of desired targets
	  while avoiding hitting targets you don't desire to affect.\n
	  __<13>Select a Target ('t'):<5> You can select a monster or unattended
	  item as a target using this method. The arrow keys are used to jump to
	  the nearest item in question in the direction chosen. If you can't manage
	  to reach the target you want, you can also always use the 'l' location
 	  selection mode to select a target, even if	the game won't let you select
	  an empty square in response to this specific prompt.\n
	  __<13>Select from Inventory ('i'):<5> Some spells can effect either
	  external targets or items you are carrying. Pressing 'i' presents you
	  with a menu list of items in your inventory that are applicable to this
	  ability. You can cancel this list and return to selecting an external
	  target by pressing [ESC].\n\n 

	  <13>Looking<5>\n
	  __The prompt for the Look ('l') command is simply the standard selection
	  prompt, but the game ignores whatever you select. In other words, 'l'
	  brings up the selection prompt just so that you can examine things around
	  you. In addition, four other keystroke options are explicitly listed under
	  the Look command prompt to allow you to examine things more carefully, but
	  are available from any effect prompt as well.\n
	  __<13>Examine Target ('x'):<5> This option displays a window describing the
	  target you have currently selected in greater detail, or a list of all the
	  examinable things in the square. For monsters, this
	  shows the monster memory entry in question; for weapons, it lists the weapon's
	  combat statistics. Descriptions of things will be more fleshed out in later
	  releases of Incursion.\n
	  __<13>Examine Region ('r'):<5> This option displays the descriptive text for
	  the room, corridor or sub-area the cursor is currently positioned over.\n
	  __<13>Examine Terrain ('f'):<5> This option displays a more detailed description
	  of the terrain type the cursor is positioned over, including things like rock
	  types, webbing, piles of trash and so forth.\n
	  __<13>Map Overview ('o'):<5> This option displays the parts of the map that you
	  have seen, zoomed out to allow you to view (most of) an entire dungeon level at
	  the same time.\n
	  __<13>Examine Map ('m'):<5> This option redisplays the descriptive text you see
	  when you enter a given map for the first time, such as the overall nature of a
	  city or the origin of the dungeon you are currently in.\n\n
   
     <13>Other Selection Keys<5>\n
     __<13>Next Target ('n'):<5> On a square that contains more than one object,
     the 'n' command can be used to cycle through them sequentially, for example
     to target a <9>magic missile<5> at a specific creature in a square with more
     than one creature in it.\n
     __<13>Target Mount ('h'):<5> When the currently displayed target is mounted,
     this option can be used to target an effect at the creature's mount rather
     than directly at the creature.\n
     __<13>All Allies ('a'):<5> This option allows the player to target all of her
     visible allies and summoned creatures, usually to give them orders as a collective
     group. It is only available when using the Talk ('t') command, and automatically
     defaults the command to giving orders.\n
     __<13>Wizard View ('w'):<5> The wizard view command brings up a pop-up window 
     listing all of the debug information for the currently selected object; it is
     obviously available only in Wizard Mode.\n\n
   
     <13>THE INVENTORY MANAGER {IM}\n
         =====================\n
     <5>__Using the inventory manager is fairly straightforward and 
     self-explanatory. You can move the <12>>><5> cursor by pressing the
     up or down arrow keys, or jump immediately to the slot you want to
     alter by typing the letter listed beside it. Pressing [SPACE] will
     swap the item currently in that slot with the item 'in the air'.\n
     __You can type 'x' to examine the currently selected item, or 'd'
     to drop it on the ground where you are standing. Examining a weapon
     will describe its full combat statistics and the effects of any
     magical qualities it has.\n
     __<13>Containers:<5> If you have a container in one of your inventory
     slots, its contents will appear listed directly below the contents of
     the slots. If this list is longer then the available screen space, you
     can scroll it up and down by using the [PGUP] and [PGDN] keys. To take
     an item out of the container, type the item's number directly as it
     appears on the screen, counting the '0' in front of the first nine
     items listed. This will place it in your 'in the air' slot. To place
     an item into a container, put it in your 'in the air' slot and type
     's'. It will be transferred to the container listed below, if that is
     possible.\n
     __If you have more then one container in your inventory slots, you
     can flip between them by pressing [TAB]. This switches the listing
     to the next container available to you sequentially. If you opened
     the inventory screen by electing to loot a chest, that chest will be
     one of the containers you can flip to, even though it isn't truly in
     your inventory.\n
     __Containers have different properties. It takes more time to remove
     an item from some containers then it does from others. Specialized
     containers (like the ivory scroll case) generally offer much faster
     access to items then the backpack, which can store anything but takes
     more time to sort through.\n
     __<13>Wielding Weapons:<5> You can wield any weapon on your own size
     category or less in one hand, unless that weapon is of a type that
     specifically requires two hands regardless of size, like a long bow.
     If you use both hands, you can wield a weapon of one size category
     larger then you are.\n
     __<13>Locked Slots:<5> When your character has changed shape (as from
     a <9>polymorph self<5> spell or the druid's Wild Shape ability) you
     may not have access to some of your inventory slots; an eagle has no
     hands, for example. These slots appear in dark blue. If there is an
     item in the slot in question, it has merged into your body and, while
     you gain its benefits, you cannot manipulate it until you return to a
     form that gives you access to the slot in question.\n 
     __<13>Dividing Piles:<5> Multiple items can be grouped into a single
     entry, referred to as a pile or stack. You can perform a Drop, Stow
     or Swap inventory action on part of a pile, dividing it into two
     piles, by holding [ALT] while initiating the action. For example, if
     you have 50 gold pieces and want to drop 30, select the gold and press
     ALT-d and you will be prompted for a number to drop.\n
     __If you try to put a stack of items into a slot that can only hold
     singular items, the stack will be automatically divided, with one
     being put into that slot and the remainder staying where they are.\n\n
     
     <13>Default Weapons\n
     __<5>Incursion allows you to choose four weapons as your default weapons:
     a melee weapon, an offhand weapon (or shield), a ranged weapon (bow, 
     sling or crossbow) and a missile (arrow, bolt, rock, dagger, etc.) These
     defaults are used to determine the outcome of the Swap Weapons command,
     which allows you to toggle between ranged and melee combat easily, and
     also with the [SHIFT] + [DIR] ranged attack shortcut -- this always uses
     your default ammo, rather then having you choose a projectile from a
     menu like the 'f' command.\n
     __To select a weapon as your default weapon in one of these four catagories,
     first move the inventory cursor over to the slot that currently holds the
     weapon in question, then type a capital letter representing the catagory
     in question: 'M' to set the chosen weapon as your default melee weapon,
     'R' for the default ranged weapon, 'O' for the offhand weapon, and 'A'
     for the default ammunition or thrown weapon.\n
     __If you type the appropriate letter over a weapon that is currently set
     as the default already, that will blank the default slot in question. This
     might be useful if you don't want the [SHIFT] + [DIR] command to work (to
     avoid dangerous typos) or if as a monk you want to set your default melee
     weapon to nothing, allowing you to use the Swap Weapons command to toggle
     between ranged and unarmed combat.\n\n

     <13>THE OPTIONS PANEL {OP}\n
     =================<5>\n
     __Incursion has a number of optimizations that can be customized to suit
     a specific player's tastes; these can all be manipulated from the Option
     Manager, brought up in gameplay with the '=' command. The player is also
     offered the choice of changing options at character creation, and they
     can be altered from the main menu on the splash screen.\n
     __The Option Manager divides options into categories, which can be scrolled
     through using the [LEFT] and [RIGHT] arrow keys; individual options can
     be selected with [UP] and [DOWN] arrows. The space bar toggles a YES/NO
     option, or scrolls through the list of choices for an option with more
     possible values.\n
     __The Option Manager also allows macros to be bound to the function keys
     in the Macro Binding page. Simply press the function key you want to bind
     a macro to, then select the macro you want to attach from the popup menu. 
     \n\n
     <list options>
     \n

     <13>MACROS AND AUTOBUFF {MA}\n
         ===================<5>\n
     __Incursion has some built-in macros to automate repetitive tasks. These
     can be bound to function keys, as described above. Currently, only the
     following macros are implemented:\n\n
     <list macros> 

     <13>LOADING AND SAVING {LS}\n
     ==================<5>\n
     __Incursion allows you to save your game at any point, but by default
     when your character dies, the game is over. If you wish to play without
     this restriction, it is easy enough to circumvent -- either by backing
     up the save files, playing in Wizard Mode or using a batch file or 
     third-party utility. That said, the game is designed to be played with
     the challenge of not dying at all.\n
     __Pressing [ESC] during gameplay brings up the system menu, which gives
     you the option of saving and continuing to play, saving and quitting or
     ending the game.\n\n
     
     <13>RECOVERING A GAME<5>\n
     __Incursion is still early in its development cycle and thus is not
     entirely stable -- it does crash on occasion. To help offset this, the
     game automatically saves every 20 turns; a crashed game can be recovered
     from this backup using the Recover a Crashed Game option on the intro
     screen. This option allows you to recover a game from the most recently-made
     backup in the event of a crash.\n\n
     
     <13>REINCARNATING A CHARACTER<5>\n
     __The Incursion character creation process is both very complex and
     designed deliberately to ensure that it produces unusual and unique
     characters as a result of Perks. However, characters can die very
     quickly and sometimes arbitrarily in the early game. To allow players
     to truly experiment with any given character, and avoid the randomness
     of character creation becoming an annoyance, the game allows characters
     to be reincarnated when they die.\n
     __When a character dies before reaching character level 5 and before
     having descended below the 5th level of the dungeon, that character is
     eligable for reincarnation. Selecting the Reincarnate a Character
     option from the main splash screen will restart the game with an exact
     copy of the selected character, including random perks, store contents,
     known alchemical formulas and random starting equipment. The character
     is first level and has no experience, however, and the dungeon itself
     will be different than it was in the prior game.\n
     __A single character can be reincarnated at most ten times."; }

Text "help::commands"
{ "<14>COMMAND LISTING\n
         ===============<6>\n
     -- {MM:mainmenu} Return to the Main Help Menu\n
     __In comparison to most roguelike games, Incursion has a small
     list of commands. Only lowercase letters represent game commands;
     future versions will allow the player to assign the upper-case
     letters to specific items or macros for quick use. Of these,
     several are either shortcuts to a skill or different letters
     for activating a different type of magic item in essentially the
     same way. Many of the commands bring up menus and submenus which 
     will eventually allow the player to access lesser-used specific 
     functions like dissecting corpses, mixing potions or performing 
     combat maneuvers. Incursion thus has a small number of very flexible
     commands, rather then a large number of extremely specific ones.
     This was a specific design choice, intended to make the keystrokes
     easier to learn and the game simpler to play.\n
     __The command set of Incursion is as follows:\n\n  

     <15>Activate an Item ('<13>a<15>')<6> {A}
     \n__Presents you with a menu listing all of the magic items you
     possess that can be activated, provided they are in a state that
     allows activation (i.e., not out of charges, wielded if necessary,
     etc.) All items that must be actively used (rather then conveying
     a passive benefit) and are not potions, scrolls, staves or wands
     are utilized by this command.\n
     __Note that you can read an unknown scroll, drink an unknown potion
     or blast an unknown wand, but activation is presumed to involve
     command words, and thus you cannot activate an item until it has
     been formally identified.\n\n

     <15>Blast Wand or Staff ('<13>b<15>')<6> {B}
     \n__This command is used to trigger the effects of wands or staves,
     and otherwise functions identically to the Activate ('a') command.\n\n

     <15>Combat Options ('<13>c<15>')<6> {C}
     \n__The Combat Options command brings up a menu listing a variety
     of special maneuvers and combat choices available to your character,
     such as performing a Great Blow, Fighting Defensively, Sprinting or
     making a Called Shot.\n\n

     <15>Display Character Sheet ('<13>d<15>')<6> {D}
     \n__Takes you to the character sheet screen, where you can examine
     your character's traits in more detail then the main game screen
     lists. The character sheet gives breakdowns of your statistics,
     showing the different types of modifiers which stack to form each
     value, as well as listing all your feats and special abilities.
     \n__There are options at the bottom of the character sheet screen
     for developing your character. When you have enough experience to
     level up, you do so from here. The character sheet screen also
     allows you to learn spells and select similar options.\n\n
     
     <15>Eat Something ('<13>e<15>')<6> {E}
     \n__This command allows you to eat any object in your inventory that
     is edible to you in your current form, as chosen from the menu it
     presents listing such items. Note that eating takes time, and thus
     it isn't wise to do in combat.\n\n     

     <15>Fire Ranged Weapon ('<13>f<15>')<6> {F}
     \n__Uses whatever ranged weapon you have the most easily accessible
     to attack in a direction that you select. The weapon used in the
     one that is currently in the inventory slot closest to the top on
     the inventory screen. In the case of archery, you must wield the
     projector (bow or crossbow) in your hands before you can use it to
     fire arrows or bolts.\n\n

     <15>Get Item ('<13>g<15>')<6> {G}
     \n__Causes your character to pick up an item on the floor, immediately
     bringing up the inventory screen and allowing you to place it where
     you want. You much occupy the square where an item rests in order to
     be able to pick it up. If there is more than one item in your square,
     the game will display a menu allowing you to choose which one you want
     to pick up.\n\n

     <15>Hide in Shadows ('<13>h<15>')<6> {H}
     \n__This command is simply a shortcut to allow you to 'u'se the Hide in
     Shadows skill, as per the Use Ability command.\n\n

     <15>Inventory ('<13>i<15>')<6> {I}
     \n__This command brings up the inventory screen, allowing you to exchange
     equipment, take off items, search through your pack, and manipulate your
     inventory in any other way you desire.
     \n__<13>IMPORTANT NOTE:<5> Every inventory action you take has a time cost
     in segments. Future versions of Incursion will report to you what is happening
     around you as you perform inventory actions, but the current one does not.
     As such, if you open the inventory screen in the middle of combat and perform
     200 segments of inventory actions, as soon as you close it again your character
     will proceed to be inactive for 200 segments as the monsters attack him. Thus,
     be very cautious of inventory manipulation in combat!\n\n

     <15>Jump ('<13>j<15>')<6> {J}
     \n__This command is simply a shortcut to allow you to 'u'se the Jump
     skill, as per the Use Ability command.\n\n

     <15>Kick Something ('<13>k<15>')<6> {K}
     \n__This command allows you to kick a door or monster. Against an enemy,
     kicking is like punching, but it's slower and allows you to apply 1.5
     times your Strength modifier to damage. Its primary use, however, is
     for opening locked doors.\n\n

     <15>Look Around ('<13>l<15>')<6> {L}
     \n__Brings up an object selection prompt, allowing you to examine anything
     nearby you. Type '?' at this prompt for a more detailed description of
     how to use the look command's various options.\n\n

     <15>Cast Magic Spell ('<13>m<15>')<6> {M}
     \n__This command brings up the Spell Manager window, which lists all of the
     spells you know along with their success rate, mana cost and other parameters.
     This window can be used to select a spell to cast, turn Metamagic Feats on or
     off, and attack spells to Spellkeys for quick use.\n\n

     <15>Name an Object ('<13>n<15>')<6> {N}
     \n__This command allows you to assign any proper name of your choice to any
     item in your inventory, or object (monster, item or dungeon feature) of your
     choice currently visible on the map board. You can use it to rename your 
     character, assign a suspected effect to an unidentified item (i.e., metallic
     blue potion named Healing) or give your pets or followers a personal identity.
     The latter is recommended, otherwise it becomes very difficult to tell the
     kobold ally you hit with <9>charm monster<6> from the enemy kobolds that are
     attacking you in messages.\n\n

     <15>Open/Close Something ('<13>o<15>')<6> {O}
     \n__This command is used to open or close a door that is within one square of
     you. If there is more then one door nearby, the command will prompt you to
     choose a direction. It can also be used to open a chest in the square that
     you are currently in, taking items out of it (or putting new ones in) using
     the Inventory Manager.\n\n

     <15>Pray to your God ('<13>p<15>')<6> {P}
     \n__This command allows you to receive aid from your god when in dire
     straits, offer a sacrifice when standing on an altar, or simply learn what
     your present standing is on your god's eyes.\n\n

     <15>Quaff Potion ('<13>q<15>')<6> {Q}
     \n__This command is used to trigger the effects of potions,
     and otherwise functions identically to the Activate ('a') command.\n\n

     <15>Read Scroll ('<13>r<15>')<6> {R}
     \n__This command is used to trigger the effects of scrolls,
     and otherwise functions identically to the Activate ('a') command.
     Note that scrolls are normally usable only by spellcasters who have
     the scroll's spell on their spell list, or by characters with ranks
     in the Decipher Script skill.\n\n

     <15>Search the Area ('<13>s<15>')<6> {S}
     \n__This command causes your character to search the area for traps
     and secret doors. This works differently in Incursion then it does
     in most other Roguelike games. You only get one chance to find a
     given trap or secret door, and if you fail you must rest before you
     can try again.\n\n 

     <15>Talk to Creature ('<13>t<15>')<6> {T}
     \n__This command allows the player to select a nearby creature to try
     to converse with, bringing up a prompt allowing the player to greet,
     distract, attempt to intimidate, trade with or surrender to the
     target creature. If the creature is friendly, this command can also
     be used to ask it if it will join your party. If the creature is an
     ally, commands can be issued.\n
     \n__When using this command, you can type 'a' at the selection prompt
     to give orders to all of your allies at the same time; this only works
     for giving orders rather than any other type of social interaction.\n\n
     
     <15>Use Ability ('<13>u<15>')<6> {U}
     \n__This command brings up a menu listing your character's actively
     usable skills, feats, racial abilities, class features and any other 
     ancillary powers your character might have, such as a divine gift
     or the special ability of a monster you have polymorphed into. If
     an ability requires an active choice to use on the player's part and
     is inherent to the character rather then coming from an item, it
     will be listen here.\n\n

     <15>View Recent Messages ('<13>v<15>')<6> {V}
     \n__This command brings up a window displaying a history of all the
     messages recently shown in the upper message window. This can be
     useful if you want to review the recent events in a combat, or if
     you accidentally struck a few keys and messages flashed by too quickly
     for you to read properly.\n\n

     <15>Wizard Mode Options ('<13>w<15>')<6> {W}
     \n__If you are not in wizard mode, this command brings up a prompt
     offering you the option of entering wizard mode. If you are, it
     brings up a menu allowing you to influence the behavior of the
     game on a direct level -- viewing creatures stats, identifying
     items automatically, creating game objects and even viewing dumps
     of the assembly code the script engine runs. Wizard mode can be
     used to debug the game or new resources you have added to it, to
     experiment and learn about the functions of various monsters or
     items, or to add 'handicaps' such as superior magic items to make 
     the game easier for less skilled players.\n\n
     
     <15>Cancel Active Power ('<13>x<15>')<6> {X}
     \n__This command allows you to turn off any standing power, spell,
     item effect or ability on your character that you can stop at will.
     Most spells have a set duration and can't be shut off, but a few
     can. Use this command to get your druid to shapeshift back to his
     natural form, you bard to stop singing or your psionicist to turn
     off one of his active powers.\n\n
     
     <15>'Yuse' an Item ('<13>y<15>')<6> {Y}
     \n__This command allows you to access the nonstandard functions 
     of an item in your
     inventory. It can be used to apply a mundane item such as using
     rope to climb down a chasm or filling your lantern with oil, or
     to perform an unusual secondary action with a magical item --
     breaking a wand, pouring a potion over another object, dipping
     an item in a fountain you are standing over, and hopefully many
     other applications.\n
     \n__The command brings up a list of every single item in your
     inventory, whether or not they have secondary functions, because
     it is not the intent of the game design to reveal all the possible
     secondary functions of items without experimentation. When you
     select one, the game will display a prompt allowing you to
     choose the secondary function you want for that item, assuming
     any are even available.\n\n
     
     <15>Rest and Recover ('<13>z<15>')<6> {Z}
     \n__This command allows you character to rest in a relatively safe
     place in order to recover lost mana points and fatigue points, and 
     heal a few hit points worth of injuries as well. Resting has many
     advantages, requirements and dangers, and is described in full
     detail in the introduction.\n\n

     <15>Move or Attack ([CURSOR KEY])<6>
     \n__The arrow keys allow you to move your character in any horizontal,
     vertical or diagonal direction. Running into a monster causes you to
     make a melee attack against that monster.\n\n

     <15>Move Only ([CTRL] + [CURSOR KEY])<6>
     \n__Using [CTRL] with the cursor keys, you can cause your character to
     move without attacking, such as when you want to close with a creature
     that you could hit with a reach weapon. To move <14>past<6> a hostile
     creature, you must use the Bull Rush tactical option.\n\n

     <15>Wait One Turn ('<13>.<15>')<6>
     \n__This command causes your character to wait for 30 phases, allowing
     monsters and allies to act or catch up.\n\n

     <15>Swap Weapons ('<13>-<15>')<6>
     \n__This command allows you to toggle your character between wielding
     your default ranged weapon and your default melee weapon (along with
     your default offhand weapon or shield, if any). You can set your
     default weapons using the Inventory Manager.
     \n__Note that using the swap weapons command has a lower timecost then
     performing these actions manually using the Inventory Manager. If you
     have the feat Quick Draw, it takes you 10 segments to swap weapons;
     otherwise, it takes 30 segments.\n\n

     <15>Fire Ranged Weapon ([SHIFT] + [CURSOR KEY])<6>
     \n__This shortcut for the 'f' command allows you to fire your default
     missile in a direction of your choice with a single keystroke. You
     can set your default weapons using the Inventory Manager.\n\n

     <15>Ascend / Descend ('<13>\<<15>'/'<13>\><15>')<6>
     \n__Using these commands, you can climb a set of stairs that you are
     standing directly on top of. The symbol you type is exactly the same
     as the one that appears on screen. They can also be used to climb up
     into trees, climb up or down a chasm or so forth, as described under
     the Climb skill.\n\n

     <15>System Menu ([ESC])<6>
     \n__Pressing [ESC] brings up the system menu, which offers options 
     allowing you to save or quit the game.\n\n

     <15>Online Help ('<13>?<15>')<6>
     \n__Pressing '?' brings up the online help window, showing a quick
     reference to the Incursion keybindings and also offering you a menu
     of further help topics to choose from.\n\n

     <15>Display Legend ('\\')<6>
     \n__This command brings up a legend showing what all of the various different
     glyphs that can appear on screen represent in the game."; }

Text "help::adventuring"
{
"<15>============================\n
         = ADVENTURING IN INCURSION =\n
         ============================<1>\n
         -- {MM:mainmenu} Return to the Main Menu\n
         -- {EA} Experience and Advancement\n
         -- {RF} Resting and Fatigue\n
         -- {TM} Terrain and Movement\n
         -- {DH} Dungeon Hazards\n
         -- {LV} Light and Vision\n
         -- {AL} Allies and Leadership\n
         -- {TA} Training Attributes\n
         -- {AC} Alignment and Conduct\n
         -- {PA} Prayer and Altars\n
         -- {SB} Shops and Barter\n\n
         
         <9>EXPERIENCE AND ADVANCEMENT {EA}\n
            ==========================\n<1>
         __Much like in all roguelikes, an Incursion character starts out as a
         competant but comparatively weak young adventurer and develops through
         experience over time into a very powerful, legendary hero -- provided
         she can stay alive for that long! Incursion differs from many roguelikes
         in that an Incursion character's inherant abilities are more significant
         to her overall power level than her magical equipment, which is more
         transient. A character's overall inherant competance is reffered to as 
         her <9>level<1>, which begins at 1 and increases over time.\n
         __Creating an Incursion character has already been discussed in the
         previous chapter. Once a character has been created, he is placed into 
         the Goblin Caves to fight against the many menaces therein. Whenever
         the character overcomes a challenge, he gains experience points to
         represent what he learned. Overcoming a challenge can be killing a
         monster, but in Incursion in can also include resolving a conflict
         socially, disarming a trap, picking a lock and so forth. Characters
         need a certain number of experience points in order to attain each
         level above the 1st, as per the following chart:\n
         
         <15>_Character_Experience_Base__Attribute_Mana\n  
             ___Level____Required__Feats___Gains___Mult<1>\n
             _____1___________0______2______--______x1\n
             _____2________1000______2______--______x2\n
             _____3________2250______3______--______x2\n
             _____4________4500______3______+1______x3\n
             _____5_______10000______3______--______x3\n
             _____6_______15000______4______--______x3\n
             _____7_______21000______4______--______x4\n
             _____8_______28000______4______+1______x4\n
             _____9_______36000______5______--______x4\n
             _____10______45000______5______--______x4\n
             _____11______55000______5______--______x5\n
             
         __The highest character level that can be attained in this version of
         Incursion is 11; <9>Return of the Forsaken<1> will feature character
         advancement all the way up to level 20. When you attain enough experience
         points to qualify for a higher level, you do not immediately advance to
         that level. Instead, you must go to the character sheet and press 'G' to
         invoke the Gain Level command.\n
         __<9>Think very carefully about your character before advancing a level.<1>
         Once you press the 'G' key, you must immediately make any character-design
         choices (such as feat selection, attribute gains, which class to invest the
         level in, etc.) required to gain a level. Not only are these choices
         permanent, you cannot even abort the selection prompt if you change your
         mind as you can most other prompts in Incursion.\n
         __The choices you make in designing your character will play a strong part
         in your success in the game. Think about them carefully before advancing
         -- a skillful Incursion player will already know what feats she wants and 
         which classes in which combinations before actually advancing.\n
         \n

        <9>RESTING AND FATIGUE {RF}\n
           ===================<1>\n
        __In Incursion, the simple passage of time does not restore lost hit
        points, mana points or fatigue points. Instead, the player must use
        the rest ('z') command to achieve this. However, resting has a wide
        variety of consequences, and so it's important that it be done
        tactically. Resting has the following effects:\n
        __<9>*<1>_Your character recovers all of his mana points.\n
        __<9>*<1>_Your character heals a number of hit points of damage equal to
        [(character level + 3) x Constitution] / 8.\n
        __<9>*<1>_Your character recovers all of his fatigue points unless
        he is exhausted, in which case resting once only causes him to
        recover his Constitution modifier (minimum 1) worth of fatigue points.\n
        __<9>*<1>_You may have an encounter. The chance of this is strongly
        influenced by how many monsters are nearby, how close they are, and
        how many doors are closed (and preferably locked) between you and them.
        Additionally, the deeper you are in the dungeon, the larger a radius
        it is that constitutes 'nearby'.\n
        __<9>*<1>_New monsters are added to the dungeon, on the current level
        and every level above it. This only occurs when you rest. Note that this 
        makes it unsafe to rest twice in a row without killing the new monsters 
        that may be nearby.\n
        __There is a certain amount of monsters that is considered to be a given
        dungeon level's monster equilibrium. When it is reached, no new monsters
        will be generated. This number is always higher then the number of monsters
        a level starts with, and higher the deeper into the dungeon you go. This
        makes it more dangerous to rest frequently deeper into the dungeon, as 
        the player can end up swamped in monsters.\n
        __<9>*<1>_Eight hours pass, and thus all timed magical effects wear off. 
        This means that an encounter will occur without any prepared magical defenses, 
        which can be Bad.\n\n 
        
        <9>Encounters<1>\n
        __Encounters are much more dangerous then normal fights
        for several reasons. The encounter normally starts off with multiple monsters
        in melee range with the player, and the player only just waking up. Thus,
        the monsters have time to attack before the player does. Deeper into the
        dungeon, this can be lethal.\n
        __If a character has an encounter when resting, the full normal number of
        hit points and mana points are not restored. Instead, only a fraction are
        regained, based on the number of hours that character was able to rest for
        peacefully before the encounter occurred.\n\n
        
        <9>Resting Safely<1>\n
        __An encounter can quite easily kill even a very powerful character,
        especially in consideration for the rules for the Coup de Grace maneuver.
        Fortunately, there are many ways in Incursion to rest safely, negating or
        lessening the risk posed by encounters. One of foremost goals a character
        must achieve in the game is to secure a safe method of resting so that
        they can recover from injuries and other maladies; without the ability
        to rest safely, a character is surely doomed.\n
        __Incursion includes the following methods of resting safely or at least
        reducing encounter risk:\n
        __<3>*<1> At the very beginning of the game, characters can ascend the
        stairway out of the dungeon to rest with perfect safely on the surface
        world. This allows characters a 'growth margin' to uncover supplies or
        gain a few levels they need to develop a more long-term resting plan.\n
        __<3>*<1> Certain rooms in the dungeon, referred to as Places of
        Sanctuary, allow a character to rest safely in them with no chance of
        an encounter occuring. Unfortunately, these rooms do not occur frequently
        enough to cover all the resting a character will need to do, /unless/ a
        character can user her expendable resources (hit points, mana, fatigue)
        very efficiantly and sparingly.\n
        __<3>*<1> Some spells -- <9>rope trick<1> and <9>alarm<1>, notably, allow
        safe or safer resting.\n
        __<3>*<1> Characters with allies or animal companions can take watches
        when they rest. An alert group is much less likely to be attacked than
        a single, sleeping individual; the exact mechanics of this are described
        under the Spot skill.\n
        __<3>*<1> Characters with the Diplomacy skill can [R]equest that neutral
        NPCs take watches with them just as allies would, persuading them to act
        in an agreement of mutual benefit.\n
        __<3>*<1> The Uncanny Dodge ability allows barbarians and rogues of
        sufficient level to wake instantly when threatened -- it does not prevent
        enocunters from happening, but does prevent monsters from using the
        Coup de Grace maneuver on the sleeping player, or getting rounds of
        free attacks.\n
        __<3>*<1> Elves have a racial ability called Reverie that allows them to
        meditate rather than sleeping.\n
        __<3>*<1> Halflings begin play with Hearthstones of Onanda, a limited
        supply of one-use magical items that allow guaranteed safe resting.\n\n
        
        <9>Losing Fatigue<1>\n
        __Characters spend or lose fatigue for a wide variety of reasons. 
        Performing the special maneuvers, berserking, using metamagic feats
        and getting poisoned or diseased all cost a character Fatigue Points.
        Some spells and supernatural abilities also drain fatigue.\n
        __Further, characters also lose fatigue gradually over time as a result
        of swinging a weapon in combat. An unarmored character loses
        a fraction of a fatigue point equal to [(10 + weapon weight) /
        10000] with every swing; when the total loss adds up to a whole
        fatigue point, a message will be displayed stating that your
        character feels more fatigued from fighting.
          Armored characters gain fatigue much more quickly based on
        the type of armor they wear; instead of the fatigue point
        fraction having a denominator of 10000, the denominator is
        specified by the armor. Armor with the featherlight quality
        has a denominator three times greater than normal, meaning
        characters in featherlight armor gain fatigue three times
        more slowly.\n\n

         <9>TERRAIN AND MOVEMENT {TM}\n
            ====================\n<1>         
        __All Incursion characters have a base percentile movement rate determined 
        by their Size: Small races have a base 75~, while Medium races have a base
        100~ movement. Dwarves are the exception, having the base movement of a 
        Small race even though they are Medium-sized. Barbarians and monks both
        gain inherant increases to their movement rate; there are also spells and
        magical items that affect movement rate, and encumbrance and fatigue can
        both lessen it. The exact manner in which your current movement rate has
        been calculated is shown on the character sheet, as with all other
        calculated values.\n
        __There are many different kinds of terrain and natural obsticles in 
        Incursion; terrain-based modifiers to movement will show up on the status
        bar, but are not listed on the character sheet. Terrain can have many other
        effects as well. Here is a sampling of the rules governing terrain in
        Incursion; just like any other object in the game, unusual terrain can be 
        examined with the 'L'ook command to determine its effects.\n\n
        
        <9>Fog<1>\n
        __Fog obscures vision but not movement (though some claim there are special
        magical fogs which impede movement as well). Characters cannot see further
        than 10 feet (one square) past a square with fog in it. Thus, they can
        percieve creatures they are in melee with, but not anything more than one
        square distant from them. Fog does not (normally) impede tremorsense,
        blindsight, telepathy or magical detection abilities.\n\n
        
        <9>Chasms and Pits<1>\n
        __Chasms are large areas of open space with no floor. Characters who move
        into a chasm square will fall to the next dungeon level; if there is a chasm
        at the same spot on that level as well, they will continue falling. Many of
        these rifts are very deep, covering several levels. Monsters are also capable
        of using the Bull Rush maneuver to force a character into a chasm.\n
        __A character suffers 3d6 points of damage per dungeon level she falls, if
        she lands on a hard surface. The Balance skill, the Slow Fall ability possessed
        by monks and the <9>feather fall<1> spell all help to reduce falling damage.\n
        __If the area of the level directly above the character corresponding to her
        location on her current level has a chasm, normal floor squares will be colored
        light cyan to indicate this, and the Location line will include the text 
        '(open above)'. In these areas, a character with the Climb skill can attempt
        to ascend to the level above her, as described in that skill's writeup; Climb
        can also be used to descend a chasm safely without suffering falling damage.\n\n
        
        <9>Slick Surfaces<1>\n
        __Slick ground, such as ice or greased stone, requires a Balance check to
        fight on, or sometimes even to move across; failing the check causes the
        character to become prone, just as if they had been tripped. Flying or
        levitating characters are unaffected by slick sufraces.\n\n
        
        <9>Water<1>\n
        __Water has varying depths in Incursion -- shallow water is safe to wade
        through; deep water requires the Swim skill to cross safely, as described
        in greater detail in said skill's writeup.\n
        __Thrown weapons are ineffective against targets in
        the water. Fire damage is ineffective against targets in the water
        unless the attacker makes a DC 20 Spellcraft check. Aquatic creatures in the
        water attacked by creatures not in a water square gain a +8 defense
        bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
        creatures in the water (unless the attacker has Free Action).
        Blunt and slashing attacks do half damage to creatures in the water
        (again, unless the attacker has Free Action).\n\n
        
        <9>Tight Spaces<1>\n
        __Some areas of the dungeon, such as the warrens wherein kobolds live, can
        be very constricting to human-sized characters. When such characters enter
        a confined space, they recieve a message warning them of such, and then
        lose their Dexterity bonus to their defense class. In addition to losing
        their bonus, such characters are subject to the Sneak Attack special ability
        of rogues and some monsters. This penalty ends as soon as the character
        leaves the confined space.\n
        __Large-sized creatures such as ogres suffer similar confinement in tunnels that
        are comfortable for human-sized creatures, and cannot even enter areas that
        are sized for kobolds, halflings and their kin.\n\n
        
         <9>DUNGEON HAZARDS {DH}\n
            ===============\n<1>         
        __Beyond the obvious monsters, there are many other threats to a character's
        survival in a dungeon. Some of these are discussed in greater depth below.\n\n
        
        <9>Attribute Loss<1>\n
        __Attributes determine a character's raw, fundamental capabilities; almost
        every roll in Incursion is modified by an attribute. It's not surprising,
        then, that there are several powers and effects in the game which target
        attributes directly. Attributes can be artificially lowered in three
        different ways in Incursion:\n
        __<9>Attribute Penalties:<1> Several status conditions apply a penalty to
        one or more attributes. Being Stunned lowers Dexterity by six for as long
        as the character remains Stunned, for example, representing dizzyness and
        inability to move accurately. Likewise, being fatigued reduces a character's
        Strength, Dexterity and Charisma by two each. Attribute penalties apply for
        as long as the condition lasts and the attribute returns to its normal level
        when the condition ceases. Attribute penalties can never kill a character,
        instead reducing an attribute to a minimum of 1.\n
        __<9>Attribute Damage:<1> Some spells and special attacks of monsters damage
        an attribute. These effects have a normal damage roll, but instead of
        subtracting hit points, they remove points from an attribute. If an attribute
        is reduced to zero or lower as a result of attribute damage, the subject dies.
        Normal healing spells and potions do not heal damaged attributes, but the
        clerical spell <9>restoration<1> and certain specific potions can heal
        attribute damage. Most characters heal one point of attribute damage every
        night of undisturbed rest, as well. Halflings heal attribute damage more
        quickly, and the Heal skill can also be used to treat attribute damage.\n
        __<9>Attribute Drain:<1> Attribute drain is similar to attribute damage,
        but rarer and far more dangerous. Attribute drain lowers an attribute from
        a damage roll just like attribute damage, and if any attribute reaches zero
        from any combination of drain and damage, the character dies. However,
        attribute drain does not heal naturally. Instead, it is essentially a curse,
        and lasts until a <9>remove curse<1> spell or any equivalent magical effect
        is applied to the character. Attribute drain can also be cured by magical
        effects designed specifically designed to restore attributes, such as a
        <9>Potion of Restore Intelligence<1>.\n\n
        
        <9>Poison and Disease<1>\n
        __Poisons and diseases work similarly in Incursion: both normally inflict 
        attribute damage over a period of time until cured or overcome. If a character
        makes an initial saving throw successfully, they are not considered to be
        poisoned or infected at all. Otherwise, the character will normally suffer 
        immediate damage
        to one or more attributes, and then this damage will recur every set number
        of turns. Every time the damage occurs, a Fortitude save is allowed against
        the poison's save DC; success negates the damage. Once a certain number of
        successful saves have been made, the damage will stop occuring permanently
        and the character will be said to have overcome the poison. Some very strong
        poisons require the character to make a certain number of successful saving
        throws all in a row, with even one failed save negating any progress made.\n
        __The mechanics of poisoning a weapon and using poisoned weapons are 
        discussed in the writeup for the Poison Use skill.\n
        __Diseases work similarly to poisons, with the following exceptions: the
        number of turns between saves are usually much longer, since diseases
        progress much more slowly than poisons. Additionally, a character cannot
        rest while poisoned, but can rest while diseased. If a character chooses
        to rest while diseased, a single iteration of the disease's effects
        automatically occurs, regardless of the number of turns left before the
        next normal iteration, but the character recieves a +4 rest bonus to the
        Fortitude saving throw.\n
        __Certain spells can be used to cure diseases and poisons; the Heal skill
        also allows them to be treated. You can always view the exact game effects
        of a specific disease, as well as learn how many successful saving throws
        you have made against it to date, by using the [C]onditions option on the
        character sheet screen.\n\n
        
        <9>Traps<1>\n
        __While the primary threat to an adventurer's well-being in dungeons is
        monsters, traps also present serious hazards not to be underestimated.
        Traps in Incursion are assumed to be pressure-plate based, so flying or
        levitating characters don't trigger them. They occupy an entire floor
        square and are triggered by moving on to that square, and are invisible
        until detected. Discerning the presence of a trap requires a Search
        check against a base DC of 15 (for a mundane trap) or 20 (for a magical
        trap), +1 per level of the trap. Characters can only attempt to detect
        a given trap once per day. When a character is going to move into a
        trapped square, a detection check is automatically made, mostly to 
        avoid the meniality of the player having to constantly search for traps
        manually. The 's'earch command can also be used to uncover the presence
        of any traps in the nearby area, which can be useful to search a room
        without walking over every single square.\n
        __When a character walks into a square with an untriggered trap in it, 
        she makes a saving throw (usually Reflex) against a DC of 15 + the trap's
        level. Success allows her to avoid the effects of the trap, while failure
        causes her to suffer them. Regardless, the trap is both revealed and
        sprung -- while some traps work repeatedly, the majority work only once.
        Kobolds sometimes reset some of the traps in the dungeon overnight,
        however. A known, armed trap is represented by the <14><char:GLYPH_TRAP><1>
        symbol, while a sprung or disarmed trap is represented by
        <14><char:GLYPH_DISARMED><1>.\n
        __Traps can be disarmed, dismantled, reset or even set up using the
        Handle Device skill, as described in that skill's writeup. The Jump
        skill can also prove useful for leaping over traps, thereby avoiding
        them -- but a failed Jump roll may cause a character to land on the
        square containing the trap, triggering it!\n\n
        
        <9>States of Being<1>\n
        __A wide variety of physical and mental conditions can bedevil an adventurer
        while exploring the dungeon. Here is a list of some of the most common,
        along with their game-mechanical effects:\n
        __<9>Blind:<1> A blind adventurer can't see. When the character is blind, all
        movable objects are removed from the map, and only the glyph of the player's
        character and her memory of wall and floor squares remain shown -- if you are 
        blind (either naturally or by some effect), your Light, Shadow, Sight and 
        Infravision ranges are all 0. All monsters
        are described as 'something', and no warnings will be given for attacking
        friendly or neutral creatures, walking over traps or hazardous terrain and so
        forth. Blindness negates normal sight and infravision, but not tremorsense,
        blindsight, telepathy, scent or detection magics.\n
        __Blindness can last for a relatively short duration measured in turns, or can
        be a much more serious affliction that can only be cured magically. Fortunately,
        the latter is rare. The Healing skill can be used to treat blindness. Blind
        characters also obviously always suffer the combat penalties for attacking
        unseen creatures, and being attacked by unseen creatures.\n
        __<9>Stunned:<1> Stunned characters suffer a -6 status penalty to Dexterity and
        a -50~ status penalty to attack speed and movement rate. Their spellcasting 
        success chance has a -50~ penalty.\n
        __<9>Confused:<1> Confused characters suffer a -4 status penalty to Intelligence
        and Wisdom, as well as a -75~ modifier to spell success chance. When they try to
        move, they must make a Balance check (DC 18) or move in a randomly selected
        direction instead of their intended one, possibly placing them over dangerous
        terrain.\n
        __<9>Nauseated:<1> A nauseated character suffers the same penalties as a stunned
        one (-6 Dexterity, -50~ Mov/Spd, -50~ spell success) and is additionally unable
        to make attacks until the nausea passes, barring an exceptional Concentration
        score allowing this to be bypassed.\n
        __<9>Fatigued:<1> A fatigued character has spent or lost all their fatigue 
        points. Such a character suffers a -2 fatigue penalty to Strength, Dexterity
        and Charisma, as well as a -10~ penalty to attack speed and movement rate.\n
        __<9>Exhausted:<1> Exhausted is the next stage beyond fatigued; an exhausted
        character has reached a negative total of current fatigue points equal to or
        exceeding their normal positive maximum. Such a character suffers a -6 fatigue
        penalty to Strength, Dexterity and Charisma, as well as a -25~ penalty to
        attack speed and movement rate.\n 
        __<9>Prone:<1> A prone character has been knocked from his feet. He suffers a
        -4 status penalty to his attack rolls and defense class, and he must stand up
        before he is able to move; standing up takes about as much time as making an
        attack, modified by Dexterity -- 25 segments for a character with Dexterity 10.\n
        __<9>Afraid:<1> Afraid characters are unable to make any attacks, and may not
        take movement actions that place them closer to the source of their fear than
        they would otherwise be.\n 
        __<9>Shaken:<1> Being shaken is a lesser form of fear. Shaken characters can
        move and attack freely, but suffer a morale penalty (often -2, but not always)
        to attack rolls, defense class and saving throws.\n\n
        
        <9>Vaults and Complexes<1>\n
        __Some areas of the dungeon are notably more dangerous than others. Complexes
        are regions of closely interconnected rooms. These can be very dangerous,
        because while your character fights the monsters in one room, the monsters
        in nearby rooms can hear you and come to join the melee; thus it is very easy
        to be swamped in such a region -- always have an escape route ready! Complexes
        can appear on any dungeon level, and are not uncommon.
        __Vaults are much rarer and more dangerous, and appear only later in the
        dungeon. Monsters in a vault are held in perfect stasis and cannot act until
        the vault doors are opened or your character (or some other creature from outside
        the vault) enters the vault by some other means. Vaults contain many monsters in
        a small area; far more seriously, the monsters they contain can be far more
        dangerous than those found elsewhere at the same dungeon depth. Vaults only
        occur in the deeper parts of the dungeon.\n\n
        
        <9>Fountains<1>\n
        __Deep below the earth, some natural springs absorb the magical
        radiations of the Underdark. Magical fountains are large, immobile
        magical items built to harness the energy of these springs, usually
        for the purposes of healing or item enchantment. Though useful, these
        magics are deeply chaotic and unpredictable, and using them represents
        a great risk for a significant possible reward.\n
        __To drink from a fountain, use the Quaff ('q') command whilr standing
        on the square that contains the fountain. Drinking from a fountain can 
        be both very beneficial and very risky. When a character drinks, a roll 
        of (1d20 + Luck modifier) is made, with various random, useful or 
        debilitating results; the higher the roll, the more positive the result.
        A high roll can, in increasing order of unlikelyness, restore fatigue, 
        heal wounds, cure diseases, neatralize poisons, restore attribute damage 
        and even remove curses. Low rolls can have very bad effects -- the worst 
        possible effect being possible only if a character has a Luck modifier 
        less than +1, the second worst possible only with a Luck modifier less 
        than +2, and so forth. Characters with very high Luck (such as many
        halflings) can use fountains largely reliably to recover from a wide 
        variety of afflictions.\n
        __Some folks say that dipping magical items in a fountain can increase
        the strength of their enchantment. Perhaps this is true, but it would
        also be a risky endeavor best undertaken only by the Lucky. The greater
        the dungeon depth a fountain is found at, the higher it would be able
        to raise an item's enchantment, relative to the overall power of the
        item. Since fountains are magical items in their own right, they can
        be blessed or cursed, and the exact strength of their dwenomer can be
        determined by identification magic. To dip an item in a fountain, use
        the Dip verb from the Yuse ('y') command.\n\n
        
        <9>LIGHT AND VISION {LV}\n
           ================\n<1>         
        __In Incursion, a character's sensory abilities can be very important
        to her overall survival. There are a number of ways to sense terrain, 
        creatures and objects. At any time your character may have any subset 
        of them.\n\n

        <9>Light Range<1>\n     
        __A light source allows you to see creatures within a certain 
        radius (e.g., 40 feet for a torch or minor magical light,
        60 for a brass lantern). Your light range is increased by
        your lowlight vision, if any (e.g., elves start with 20
        feet of lowlight vision).\n\n 

        <9>Shadow Range<1>\n     
        __Your shadow range is typically twice your base light range. 
        Within it you can see dungeon features (e.g., walls, doors)
        clearly but you see creatures as vague, unidentified
        shadowy forms and you do not see items at all.\n\n

        <9>Sight Range<1>\n     
        __Your sight range is 150 feet, plus 30 feet per point of
        your Wisdom modifier, plus 20 feet per point of Sharp
        Senses. You can see things up to this far away provided
        that they are illuminated for some reason. For example, you
        could see a monster near a wall torch on the other side of
        a great empty chamber within this range. To see a hiding
        creature your Spot skill is contested against its Hide
        skill. Sight is blocked by obscuring terrain (e.g., fog,
        trees).\n\n

        <9>Infravision<1>\n     
        __Your infravision range is determined by your race (usually
        60 feet for most races that have it, or 120 feet for deep
        dwellers like dark elves and gray dwarves). Within this
        range you can see creatures, items and dungeon features
        perfectly. In Incursion, infravision is 'darksight' rather
        than 'heatsight'. Infravision does not automatically
        reveal hiding creatures, you still need a Spot check.
        Infravision is not blocked by light sources. Infravision is
        blocked by obscuring terrain (e.g., fog, trees).\n\n

        <9>Telepathy<1>\n     
        __The telepathy ability allows a character to sense the
        minds of other creatures and thereby determine their nature
        and location, out to a specified range. Within this range 
        you can detect creatures that are neither mindless (such as
        constructs) nor undead. Telepathy does not reveal terrain 
        or items.\n\n

        <9>Tremorsense<1>\n     
        __Tremorsense allows you to sense creatures, terrain and
        items through vibrations in the ground and is commonly
        possessed by magical plants. You can sense all creatures
        within your tremorsense range provided that they are
        neither paralyzed nor flying nor incorporeal nor phased.
        Tremorsense also allows you to detect all solid structures
        (e.g., walls, doors, items) within its radius (based on how
        sound travels through them).\n\n

        <9>Blindsight<1>\n     
        __Blindsight represents a sonar-like aural perception. Within
        your blindsight range you can detect any non-hiding
        creature, or any hiding creature if your skill level in
        Listen is greater than or equal to its skill level in Move
        Silently. You can also detect items and terrain. Creature
        or items inside a field of silence are not detected by
        blindsight. Creatures on a different plane are not detected
        by blindsight. Unlike normal vision, Blindsight is not
        stopped by obscuring terrain (like fog) but it is stopped
        by all solid terrain (even transparent walls of ice). Your
        blindsight range is cut in half if you wear a metal helmet,
        and it is reduced by 1 for every size category greater than
        Tiny of items you are holdin your hand (e.g., a medium
        shield would reduce it by 2).\n\n

        <9>Scent<1>\n     
        __You can detect a creatures within your scent range,
        provided that it is on the same plane as you (e.g., it is
        not ethereal) and that no solid objects are between the two
        of you (e.g., you cannot smell through stone walls). Scent
        does not detect items or terrain.\n\n

        <9>Wizard Sight<1>\n     
        __This magical ability allows you to see everything within
        its range, even through solid walls.\n\n

        <9>Tracking<1>\n     
        __Once you have seen a creature through one of the above
        methods you automatically (if you have the tracking ability --
        usually rangers only) begin to track it. Thereafter, as
        long as it is within your tracking range and too much time
        has not elapsed (depending on your ability level) you can
        sense it. Tracking does not reveal items or terrain.\n\n

        <9>Detection<1>\n     
        __You may also have the ability to detect all creatures or
        (more commonly) a certain creature type within a given
        range. For example, a 1st level paladin can detect evil
        creatures within about 250 feet. It is also possible to
        detect all items or (less commonly) all items of a certain
        type within a given range.\n\n

        <9>Shared Senses<1>\n     
        __If you have a sacred mount or an animal companion, you
        share perceptions. You can sense everything it senses
        and vice-versa. In addition, you are always aware of its
        exact location.\n\n

        <9>Non-Detection<1>\n     
        __Certain cloaking magics or abilities can also hide you from
        the senses of others on a case-by-case basis. For example,
        a ring of mind shielding will prevent telepathy or
        detection from sensing you. Some monsters have natural
        nondetection abilities -- darkmantles cannot be sensed by
        Scent and dark nagas are immune to Telepathy, for example.
        Non-Detection can be very valuable to rogues, because it
        allows them to sneak up on creatures (such as orcs with
        Scent) they could not otherwise surprise.\n\n

        __The option 'Show Perception Modes' will reveal the combination of
        perception modes (e.g., infravision and telepathy) that is allowing you to
        sense a creature using the Look command.\n\n

        __Finally, with one exception the rules are the same for the players and the
        monsters. The exception: monsters with no hands for torches and no other
        perception modes get 60 feet of infravision for free. This usually applies
        to mundane animals (e.g., bison, boa constrictors, ...) that really have no
        place in the dark dungeon but are there for variety and to give druids and
        animal spells something to do. The lack of symmetry is that if you, the
        player, polymorph or wildshape into such a creature you do not get the free
        infravision.\n\n

         <9>TRAINING ATTRIBUTES {TA}\n
            ===================\n<1>
         __Characters in Incursion can gain bonuses to their attributes in
         several ways -- there are spells that boost attributes for a brief
         period of time, and magical items that increase them for as long
         as they are worn. Most of these forms of magic grant a magic bonus
         to an attribute, and are both impermanent and external to the
         character. For this reason (and also because they stack with magic
         bonuses), it's desirable to seek out inherant bonuses to attributes.
         Inherant bonuses represent a growth to the character's internal
         capabilities; once gained, they are permanent and nonmagical. Inherant
         attribute bonuses cannot be dispelled or stolen by circumstance.\n
         __There are several ways to gain inherant bonuses. Rare magical tomes
         might grant them when read, barbarians gain them just for being
         barbarians and advancing in level, and orcs can sometimes gain them
         by devouring the bodies of slain foes. However, the most reliable
         way to gain them is simply through adventuring and development -- as
         a character performs actions which strain and push her attributes,
         she works her way toward higher inherant bonuses. Unlike most types
         of bonuses, inherant bonuses stack with each other -- a single character
         can gain a large inherant bonus from a mixture of training, tomes,
         class features and eating monster corpses. However, there is an
         absolute limit on how high the inherant bonus to a single attribute can
         reach; this limit is +5 for most characters, and +8 for humans.\n\n
         
         <9>Percentile Attributes<1>\n
         __To represent the continued pushing and development of an attribute,
         characters have a percentile score indicating how close they are to
         gaining their next inherant +1 to that attribute. This percentile score
         is listed immediately after the attribute on the character sheet. Actions
         which challenge and leverage the attribute increase this percentile score
         over time. Conversely, it decreases with the passage of time -- every day
         the character rests removes 1d4 points from the percentile score for each
         attribute. Thus, characters who push themselves tend to increase their
         attributes more quickly, while characters who move very slowly and rest
         frequently aren't challenging themselves as harshly and find that their
         attributes do not increase as easily.\n\n
         
         <9>Skills and Training Attributes<1>\n
         __Some skills improve a character's ability to develop her attributes.
         These skills are Athletics, Perform, Concentration and the highest
         Knowledge skill the character has. The character's skill rating is
         subtracted from 100 to determine how many percentile points the
         character must gain in order to merit the gaining of a +1 inherant bonus
         to the attribute in question.\n
         __This is described in greater detail in the writeup to the Athletics
         skill.\n\n
         
         <9>Attribute Development<1>\n
         __Different attributes are challenged in different ways. The following
         actions all have the potential to allow a character to gain percentile
         points to an attribute. Note, however, that there is a finite limit to
         the number of percentile points that can be gained from a given action.
         For example, picking a lock might give a character 3 percentile points
         toward Dexterity, but the most percentile points a character can gain
         from lockpicking is 60, so once she has 60 points from lockpicking, she
         must seek out other sources to increase her Dexterity. Many actions have
         a much lower minimum than this, so characters need diverse activities
         that depend on a given attribute rather than just one activity to gain
         inherant bonuses reliably. Most activities that can be repeated over
         and over again have low maximum point gains, and some activities require
         that they character be at risk (i.e., be near hostile monsters) when she
         performs them, otherwise they merit no gain.\n\n

         <3>General<1>\n
         __<3>*<1>_Succeeding in a saving throw trains the attribute that modifies
         that save -- Constitution for Fortitude, Dexterity for Reflex and Wisdom
         for Will. The degree of gain is based on the save DC.\n
         __<3>*<1>_Succeeding in a skill check trains the attributes associated with
         that skill; again, the degree of gain is based on the skill check DC. Some
         skills train attributes more strongly in a single use than others.\n
         
         \n
         <3>Strength<1>\n
         __<3>*<1>_Kicking open a door in a single try trains Strength.\n
         __<3>*<1>_Scoring a critical hit with a weapon larger than you, or with a
         weapon of your size wielded two-handed, trains Strength.\n
         __<3>*<1>_Succeeding in a grapple check against a creature stronger than
         you trains Strength, provided you are not using Escape Artist but are
         depending on Strength for the grapple.\n
         __<3>*<1>_Working at a forge to create or repair metal items trains Strength.\n
         __<3>*<1>_Digging tunnels in the dungeon with the Mining skill trains Strength
         very heavily.\n
         __<3>*<1>_Tearing free once you become stuck (in some types of terrain or the
         effects of a <9>web<1> spell, for example) trains Strength.\n
         __<3>*<1>_Adventuring while your encumbrance is Heavy trains strength; doing so
         while it is Extreme trains it even further.\n
         __<3>*<1>_Adventuring while wearing heavy armor trains both Strength and
         Constitution, but abuses Dexterity.\n
         \n
         <3>Dexterity<1>\n
         __<3>*<1>_Tumbling trains Dexterity.\n
         __<3>*<1>_Using the Evasion, Defensive Roll or Flawless Dodge abilities successfully
         trains Dexterity.\n
         __<3>*<1>_Being missed by monsters while Fighting Defensively trains Dexterity.\n
         __<3>*<1>_Scoring critical hits with a Light weapon trains Dexterity.\n
         __<3>*<1>_Using thrown weapons can train Dexterity even if you don't score a crit.\n
         \n
         <3>Constitution<1>\n
         __<3>*<1>_Overcoming poison or disease trains Constitution.\n
         __<3>*<1>_Surviving a critical hit from an enemy trains Constitution.\n
         __<3>*<1>_Eating foods specially designated as healthy (relative to your race)
         trains Constitution. Most rations aren't healthy -- they're made to last a long
         time, not be nutritious -- and rotten food is never healthy.\n
         __<3>*<1>_Staying Content or Peckish trains Constitution weakly. Staying Hungry trains
         Constitution if you have the Fasting class ability. However, starvation abuses
         Constitution, as does being Satiated (weakly) or Bloated (strongly).\n
         __<3>*<1>_Spending fatigue points through conscious actions trains Constitution.\n
         __<3>*<1>_Adventuring while wearing heavy armor trains both Strength and
         Constitution, but abuses Dexterity.\n
         \n
         <3>Intelligence<1>\n
         __<3>*<1>_Successfully casting a spell with a base success chance of 60~ while
         threatened trains Intelligence; if the base chance is 30~ or lower, Intelligence 
         is trained more strongly.\n
         __<3>*<1>_Successfully using metamagic while threatened also trains Intelligence,
         based on the number of metamagic levels used.\n
         __<3>*<1>_Identifying items via experimentation trains Intelligence.\n
         __<3>*<1>_Identifying monsters with Sense Motive trains Intelligence.\n
         __<3>*<1>_Doing research in a library trains Intelligence strongly.\n
         __<3>*<1>_Reading scrolls successfully trains Intelligence.\n
         __<3>*<1>_Creating magical, alchemical or mundane items, or repairing
         items, trains Intelligence.\n
         \n
         <3>Wisdom<1>\n
         __<3>*<1>_Successfully turning or commanding undead (or other creatures) trains 
         Wisdom.\n
         __<3>*<1>_Praying and recieving a divine blessing trains Wisdom.\n
         __<3>*<1>_Angering your god or violating his edicts abuses Wisdom.\n
         __<3>*<1>_Trying to resolve conflict with other creatures trains Wisdom, whether
         it is successful or not.\n
         __<3>*<1>_Donating money to priests or charity (in the cities in the full release
         game) trains Wisdom for a good-aligned character and abuses it for an evil
         character.\n
         __<3>*<1>_Creating magical items trains Wisdom.\n
         __<3>*<1>_Converting an altar trains Wisdom strongly.\n
         \n
         <3>Charisma<1>\n
         __<3>*<1>_Performing a social action -- cowing, quelling, taunting, etc. creatures
         -- trains Charisma. This falls under skill use (noted under general, above), but it
         is worth noting specifically here as well.\n
         __<3>*<1>_Causing creatures to be charmed or to become afraid with magic trains
         Charisma.\n
         __<3>*<1>_Summoning creatures trains Charisma.\n
         __<3>*<1>_If an evil character kills a frightened creature, this adds to her 
         reputation as a fearsome force to be reckoned with, and trains her Charisma.\n
         __<3>*<1>_Sitting in a throne trains Charisma.\n
         \n
         <3>Luck<1>\n
         __<3>*<1>_Adventuring at a dungeon depth higher than your character level trains
         luck -- it's dangerous and involves great risk-taking!\n
         __<3>*<1>_Using an item with a random effect (such as a <9>wand of wonder<1>) and
         getting a beneficial effect trains Luck.\n
         __<3>*<1>_Using a magical fountain and gaining a beneficial effect trains Luck.\n
         __<3>*<1>_Surviving a critical hit from an enemy trains Luck.\n\n
         
         <9>ALIGNMENT AND CONDUCT {AC}\n
            =====================\n<1>
         __In Incursion, as in many systems inspired by the OGL system,
         alignment is used as a tool for measuring a character's morals and
         ethics along two distinct axis: good vs. evil and law vs. chaos.
         Incursion characters choose their alignment at the beginning of
         the game, subject to certain restrictions based on their choice
         of class and diety. Actions taken later in the game can cause an
         invoulantary change in a character's alignment.\n\n
         
         <9>DESIRED ALIGNMENT<1>\n
         __Intent matters. An evil character can freely donate money to
         the poor without any chance of her alignment changing -- why
         shouldn't she, if it will improve her reputation and allow her
         to acclimate more power in the long run? While some actions 
         carry a weight in terms of alignment regardless of the intent
         behind them -- for example, killing innocent people always
         draws a character closer to an Evil alignment -- for other
         actions this is not the case.\n
         __Therefore, Incursion requires a player to state the alignment
         that their character <9>desires<1> to embody, as well as telling
         him into which alignment his character's actions actually place
         said character. Thus, an evil character <9>who desires to be
         good<1> and donates money to the needy will find his alignment
         changing, whereas one who is content to be evil will not.\n
         __At the beginning of the game, the player chooses her character's
         alignment, and that choice is assumed to be her desired alignment
         as well. When a character's desired alignment comes into variance
         with her actual alignment, the player can select the 'A'lignment
         option on the character sheet to choose a new desired alignment.
         Her actual alignment does not change at all when this choice is
         made, but the game will evaluate all of her further actions in
         light of the new alignment she is trying to live up to.\n\n
         
         <9>COSMOLOGICAL FORCES<1>\n
         __Good, evil, law and chaos are not merely philosophical ideals in
         the world of Incursion; instead, they are concrete and tangible
         metaphysical forces with direct supernatural effects on the world.
         A magical sword wounds Chaotic creatures especially deeply, a warding
         circle might keep out only Evil creatures, and so forth.\n
         __Certain spells and magical items are inherantly good, evil, lawful
         or chaotic. Using items of this nature that conflict with a character's
         alignment will inevitably draw that character toward the item's 
         alignment, even if the item is used in a manner that otherwise reflects
         the character's normal alignment -- using an unholy sword to kill an
         evil creature strengthens the force of the unholy in the world, and is
         therefore an evil act.\n\n
         
         <9>GOOD<1>\n
         __Incursion defines goodness as being a respect for life and virtue
         combined with the courage and altruism needed to protect the innocent
         from harm. Good characters protect the weak, respect other good
         characters, seek to redeem evil and bring about justice and improve
         the quality of life of all feeling creatures.\n
         __Good and evil are opposing forces, but are not mirror images of each
         other; they are very different in nature. Good characters face a great
         many restrictions on their actions, while evil characters face very
         few or none. Good is harder than evil. Conversely, however, good 
         characters find advantages in that other good creatures will not be
         as likely to be hostile to them and will be more willing to deal
         fairly with them or even offer selfless aid -- after all, their cause
         is good. Good characters also benefit from holy items more than evil
         characters benefit from unholy ones, because good character most
         typically fight against evil monsters, while evil character most
         typically also fight evil monsters, or fight amongst themselves.\n
         __A good alignment is strengthened by killing inherantly evil creatures
         such as demons and devils, healing neutral creatures and giving gold to
         the needy. The following acts contravene a good alignment:\n
         __<3>*<1> Good characters must not hurt or kill non-hostile creatures, even
         evil ones. Good characters are expected to show regard for the lives
         of others.\n
         __<3>*<1> Good character should not make use of acid attacks against
         living creatures -- Incursion considers acid to be a sadistic form
         of attack employed by those with more interest in inflicting pain
         and mutilating their foes than disposing of them to protect the
         world.\n
         __<3>*<1> Good characters should not steal from non-evil characters,
         though stealing impacts the law/chaos side of the alignment scale more
         strongly than the good/evil one.\n
         __<3>*<1> Good characters should not recruit evil creatures to join
         their party freely.\n
         __<3>*<1> Good characters should not use spells or magical items
         designed specifically to summon demons or devils, or other items
         or spells that are unholy or have the [Evil] descriptor.\n\n
         __<3>*<1> Good characters should not pray evil gods.\n
         __<3>*<1> Using the Exploitation ability of the Bluff skill in an
         act contrary to a Good alignment.\n 
         __<3>*<1> Only good characters who worship Mara can animate the
         dead without it being considered an evil act as a result of desecrating
         the bodies of the dead; Mara teaches rituals and philosophies that
         allow this to be done respectfully.\n\n
         
         <9>EVIL<1>\n
         __In the context of a character's alignment, evil is the absence of
         morals, or more accurately the absence of <9>correct<1> morals --
         some Evil characters have very complex, deluded codes of moral
         conduct. Combined with this is often selfishness -- the desire to
         put one's own well-being above that of others, and to injure,
         victimize or exploit others in order to better oneself.\n
         __In Incursion, evil characters have less restrictions on their
         actions, but find that they lack for support and are surronded by
         enemies. The Bluff skill is very valuable to evil characters,
         because it allows them to conceal their evil nature -- without
         Bluff, the game assumes that other creatures will have heard about
         the character's treacherous or hateful acts, and Good creatures
         will thus be more likely to be hostile.\n
         __There are no restrictions on the actions an evil character can
         take in Incursion based on the Evil component of their alignment 
         alone. If an evil character commits good acts based on a desire
         to become good (as defined by their desired alignment), they will
         slowly, over time, become good. If a character's desired alignment
         is evil, however, no amount of good acts will change it, since the
         game assumes they are all being done with selfish motives.\n\n
                  
         <9>LAW<1>\n
         __A lawful alignment represents the belief that a structured society
         is beneficial and as such, the character is obligated to follow the 
         standards set down by society. Lawful neutral characters follow laws
         with the best interests of their society in mind, lawful good characters
         follow laws with the best interests of all societies even theoretically
         capable of good in mind, and lawful evil characters preserve the laws
         of society because they recognize them as the root of their own power.
         The dominant society of Theyra emphasizes a code of conduct based on 
         chivalty, warrior's honor, respect for the structure of the class system 
         and support for the community as a whole, as strongly influenced by the f
         aith of Immotian.\n
         __The following actions contravene a Lawful alignment:\n
         __<3>*<1> Poison can fell even the strongest warrior, and thus has the
         potential to disrupt the hierarchy of power; as such, its use is an
         unlawful act. Drow are an exempt from this stricture, as poisonings are
         considered to be part of the proper order of their society.\n
         __<3>*<1> Attacking cowering or fleeing people is considered to be a
         base act and a strong breech of honor, and condemned accordingly. If
         terms have been offered and refused, however, a fugitive can be
         slain lawfully.\n
         __<3>*<1> Attacking creatures who have surrendered to you is also a
         deeply treacherous act that goes against the law of war.\n
         __<3>*<1> Attacking prone, paralyzed or stuck characters is similarly
         considered to be base behaviour. Characters with rogue levels are
         exempt from this restriction.\n
         __<3>*<1> Eating the flesh of humanoid creatures is considered to be
         an unlawful act, even if the victim is a goblinoid or other kind of
         creature not considered a person under law. Cannibalism is an especially
         serious form of this. Orcs can eat other orcs without suffering any
         penalty, due to the unique standards of their society -- eating a
         fallen foe is considered an honorable act, because their soul lives
         on within you and shares in your glories.\n
         __<3>*<1> Stealing from those legally considered 'people' is always an 
         unlawful act, regardless of the victim's alignment.\n
         __<3>*<1> Lawful characters normally should not recruit chaotic creatures 
         to join their party freely; however, lawful good creatures can associate 
         with chaotic good freely -- the commonality of good overrides a lawful
         loyalty in this circumstance.\n\n
         
         <3>The Code of Chivalry<1>\n
         __In addition to the normal requirements of a lawful alignment, certain
         characters are required to adhere to the standards of fair combat as set
         out in the Theyran code of chivalry: not attacking prone, paralyzed,
         stuck or blinded opponents. The rules of chivalry do not apply to all
         combatants -- the Theyran nobility would never hobble their armies that
         way. Instead, they only apply to characters considered to be knights or
         participants in noble combat under law: paladins, worshippers of Erich
         and characters who are either mounted or wearing heavy armor (which is
         traditionally reserved for nobles).\n
         
         <3>The Applicability of Law<1>\n
         __Most of Theyra has different standards as to who is awarded the protection
         of law. In the mainstream human/halfling dominated society, demihumans are considered
         people by law; goblinoids are not. Lawful Neutral and Lawful Evil characters
         follow the law as it is, the latter interpreting it more in the benefit of
         keeping the peasants down and the former more impartially. Lawful Good
         characters interpret the law as it should be in an objectively good
         society, meaning all the restrictions applied to demihumans, they must
         instead apply to all sapient beings.\n
         __Likewise, to goblinoids, only other goblinoids are considered people;
         the lizardfolk, however, recognize all thinking beings as people, just
         as lawful good characters must.\n
         __Inherantly evil creatures -- fiends, energy-draining undead and so
         forth -- are recognized as inherantly destructive to all societies, and
         no society (other then devils) awards such beings protection under
         law.\n\n
         
         <9>CHAOS<1>\n
         __A chaotic alignment represents a belief in individual freedom and liberty
         being more important than the needs of society. Chaotic characters have
         little regard for law, instead following personal codes of ethics. Chaotic
         evil characters only recognize the validity of their own freedom, and thus
         essentially do whatever they want; chaotic neutral characters respect the freedom
         of all thinking creatures as sacrosanct, and are forbidden from acts which
         contravene that freedom. Chaotic good characters go one step further, being
         willing to fight selflessly to defend the liberties of others.\n
         __The following acts contravene a chaotic good or chaotic neutral alignment
         along the law/chaos axis:\n
         __<3>*<1> Chaotic characters should not use magic with the Compulsion
         descriptor against sapient creatures under any circumstances. This includes
         spells like <9>dominate person<1> and magical items like the <9>Medallion
         of Mental Domination<1>.\n
         __<3>*<1> The trade guilds and merchant cartels on Theyra are deeply
         corrupt, imposing and economic tyrrany that reinforces the class system by
         any means available. As such, while trade itself is acceptable to chaotic
         characters, they should not buy or sell items to merchants affiliated with
         the guilds, such as Roark Ironbeard.\n
         __<3>*<1> Chaotic creatures should not invite lawful neutral or lawful evil
         creatures to join their group, because these creatures oppress others as a
         part of their normal methodology.\n
         __<3>*<1> Chaotic characters should not coerce non-evil creatures by using the
         Intimidate skill to Cow or Issue Requests. They are free to negotiate with
         them using Diplomacy or to trick them with Bluff, however.\n\n
         
         <9>CHANGING ALIGNMENT<1>\n
         __When you desire to change alignment and have stated a new alignment,
         you must begin working up a tally of acts in favor of that alignment.
         The presence of inherantly aligned creatures in Incursion is especially
         valuable for this purpose. Killing an inherantly aligned creature such
         as a demon or modron when you desire the opposite alignment will move
         you closer to your desired alignment. Killing any hostile creature of 
         opposing alignment is useful in moving toward a new alignment, but 
         risking your life to kill an inherantly aligned creature is far more 
         valuable than doing so to kill a mortal being whose alignment simply
         happens to oppose your own.\n\n
                  
         <9>ALIGNMENT BONUSES<1>\n
         __Holding to a specific alignment can be very
         difficult, but the very conviction that fuels
         it gives a character strength. All bonuses
         derived from alignment vary in magnitude based
         on the strength of the character's devotion to
         that component of his alignment.\n
         __Good characters are deeply offended by cruelty,
         hatred and narrow-minded malice, and that righteous
         anger bleeds through when they enter combat: they
         recieve a morale bonus to hit evil creatures, or a
         bonus to the save DC of spells cast at evil creatures.\n
         __Lawful characters follow a strict code of conduct
         imposed by society, and in so doing develop a greater
         degree of self-discipline and focus then other
         characters, allowing them to devote their will more
         fully to improving themselves -- they recieve a small
         bonus to experience gained upon reaching character 
         level 3.\n
         __Chaotic characters believe in the freedom of the
         individual and the sacred value of liberty, and these
         values give them a greater strength when fighting to
         resist coercion: they recieve a morale bonus to their
         Will saving throw.\n
         __Evil characters recieve no special bonuses, but then
         also have few or no restrictions on their actions.
         Chaotic evil characters recieve the chaotic bonus without
         having to adhere to the normal chaotic restrictions, but
         have a corresponding penalty: they have difficulty
         inspiring trust in others due to their vicious,
         treacherous and often randomly cruel behaviour.
         Allied creatures are much more likely to turn
         on a chaotic evil associate than they are to turn
         on a neutral evil one, who can use the structure
         of society, trust and honor to ease others' fears
         when it benefits him to do so.\n\n   
                  
         <9>PRAYER AND ALTARS {PA}\n
            =================\n<1>
         __Incursion makes use of a fairly complicated system of religion
         wherein players can devote themselves to one or more gods and in
         so doing gain blessings both in the form of emergency aid and more
         lasting, long-term divine gifts. The system of prayer and worship 
         is one of very few aspects of Incursion that is not entirely 
         transparent to the player, by design.\n\n

         <9>Choosing a God<1>\n
         __Characters in Incursion can make sacrifices to, and recieve
         blessings from, more than one god. However, they must choose one
         specific god (or none) to devote themselves to. This chosen god
         is the one who will answer any prayers they make when they are
         not standing over an altar; to recieve aid or blessings from any
         other god requires access to the appropriate altar.\n
         __Certain classes -- priests, paladins and monks -- begin
         play devoted to a specific god which they will be allowed to choose
         at character creation. All gods have priests, whereas paladins and 
         monks may follow only a subset of the available gods in the game;
         druids also have a restricted selection of gods available, even
         though they do not start play devoted to a diety.        
         Converting in play to a different religion will prevent the player
         from advancing further in these classes until he switches back to a
         god suitable to the class in question. Monks may follow Aiswin, Essiah,
         Hesani, Immotion, Mara, the Multitude or Xavias. Druids may follow
         Essiah, Hesani, Kysul, Mara, Maeve, Sabine, Xel or Zurvash. Paladins
         may follow Ekliazeh, Erich, Immotian, Kysul, Mara, Semirath or
         Xavias.\n
         __Characters from other classes normally do not start affiliated with
         a god, having to convert in gameplay. However, dwarves and orcs have
         the elective of worshipping Ekliazeh or Khasrach respectively if they
         choose a class that does not offer a choice of gods. Elves begin play
         worshipping Maeve if they choose an irreligious class; if they recieve
         a choice of gods from their class and do not pick Maeve, they begin the
         game with her angry at them.\n
         __<9>Personal Conversion:<1> Characters who do not have a god, or wish to convert
         to a god other than the one they presently worship, must find an altar
         attuned to the desired diety. They then pray while standing in the same
         square as an altar, and if asked choose to pray to the altar's diety rather
         than their current one. Most gods have alignment restrictions, and some have
         racial or other restrictions. Furthermore, no god will accept a petitioner
         whom she is angry at. Finally, some gods require followers to accrue a
         certain minimum level of favor with them before allowing a petitioner to
         convert; this favor is lost upon conversion. If all the requirements are
         met, the character is not a devoted follower of the altar's god, and can
         pray to that god without needing an altar.\n\n
         
         <9>Altars<1>\n
         __In the world of Incursion, an altar is not just a symbolic adornment,
         but instead a powerful and sacred magical item that acts as a conduit
         between the mortal world and the realms of the gods. The gods of the
         Theyran pantheon are, in a way, not unlike vampires: they can only go
         where they are invited. A god can exercise divine power in the world in
         only one of two circumstances: through an altar or through a petitioner
         (or ex-petitioner) who has interacted with them using an altar. This
         makes praying at an altar a very dangerous choice: a paladin, for example,
         can slaughter the followers of an evil god and the god will be impotent
         to act directly, but if the paladin prays to that evil god and then turns
         away, the god will be considered involved in the paladin's life; the link
         is forged and the god can send negative interventions to the paladin
         forevermore. Maeve is always considered to be 'involved' with elves, who
         are taught to pray at her altars from early childhood. Certain methods of
         breaking this involvement exist, such as the <9>contact other plane<1>
         spell.\n\n
         __<9>Altar Conversion:<1> Having an altar to one's patron god close by is
         a powerful advantage: it allows a character to bless items, create holy
         water and make sacrifices to improve one's standing with the diety in
         question. However, altars are not always easily available; for this reason,
         an adventurer may want to convert an altar discovered in the dungeon into
         an altar to her own god. Doing this requires a complex theological ritual
         that takes 4 hours and drains 2 faitgue points.\n
         __Converting an altar requires two rolls. The first in a Knowledge (Theology)
         check against DC 15 to see if the ritual is performed correctly. If this
         check is failed, the time and fatigue is lost, but nothing else occurs and
         the attempt may be made again. The second roll represents a contest of the
         petitioner's faith against the altar's current god, and is represented in
         the game by a 1d20 roll, to which is added the petitioner's Favor Level
         with her god (rated from 0 to 10) and her Wisdom modifier, against a DC of
         15. If the altar's current god is friendly to the petitioner's god, and is
         also not a jealous god, he may choose to cede the altar, granting a +4 bonus
         to the conversion roll. Otherwise, he will surely become angry at the
         petitioner whether the conversion succeeds or fails, and will strike back
         with potentially lethal vengeance!\n
         __If the conversion check succeeds, the altar is converted into an altar
         to the petitioner's god. If the check fails, but still exceeds DC 12, the
         altar remains as it was. If the check result is 11 or lower, the altar
         will explode, vanishing and inflicting 2d10 blunt damage and 2d10 fire
         damage to the petitioner.\n\n
         
         <9>Sacrifice and Favor<1>\n
         __A character's stature in their god's eyes is measured by a quantity
         called favor. The player cannot directly see her character's favor rating,
         but internally to the game it functions in much the same way as experience
         points do. Favor can be gained in a number of ways specific to a given
         god -- Asherath appreuciates winning difficult fights, Erich approves of
         the slaughter of goblinoids, Hesani likes characters resolving conflicts
         -- but the most common way to gain favor with a diety is to offer
         sacrifices to that diety.\n
         __Most of the gods of Theyra, good and evil,
         accept blood sacrifices made at their altars; those that do not typically
         accept some items as sacrifices instead. Each god has very specific rules
         on what constitutes an acceptable sacrifice to them; only Asherath does
         not take any kind of altar sacrifices whatsoever. Making a sacrifice 
         requires an altar, and the sacrifice can only be made to the god the
         altar is associated with.\n
         __The system of sacrifice and favor in Incursion is designed to avoid
         repetition and monotony while still providing a strong challenge. Each
         god has (on average) six 'slots' to recieve sacrifices in, each with a
         weight assigned to it. Erich, for
         example, has four slots: one for dragons, one for beasts, one for
         chaotic humanoids and one for evil outsiders, with the dragons and
         outsiders being weighed at double what beasts and chaotic humanoids
         are. Essiah, on the other hand, has two slots for creatures that
         represent a perversion of sexuality and three slots for general evil
         creatures; the perversions, being far rarer, are weighted much more
         heavily than generic evil creatures. The value of
         a sacrificed creature is usually based on its Challenge Rating and the 
         value of a sacrificed item is based on its market value. The favor with 
         a god that a character recieves from sacrifice is based on the best 
         possible sacrifces fit into those slots, so quality of sacrifices matters
         whereas, by and large, quantity does not. When a character makes a sacrifice
         it is placed in the slot where it would grant the most favor; weak 
         sacrifices never over-write stronger ones, which means that if all
         suitable slots are filled with better sacrifices, a new sacrifice will
         not increase a character's favor at all. When a sacrifice increases favor,
         the game will tell you that the god is 'impressed'; when it is a suitable
         sacrifice but does not increase favor, the god will be 'satisfied'.\n
         __In order to make a sacrifice, a character must carry a creature's corpse
         to the altar; as a result of this, Strength plays a part in gaining divine
         favor, by design. However, for very weak characters, and for gods who
         favor the sacrifice of creatures that do not normally leave corpses (such
         as the Multitude, who favor incorporeal undead sacrifices), there is an
         alternative. If a creature is slain while it is standing exactly on a
         square containing an altar, that creature will automatically be considered
         to a a sacrifice to the altar's god by its killer. This is referred to as
         <9>live sacrifice<1>; it can be very difficult to conduct, but also very
         rewarding in terms of favor. Note that live sacrifice occurs any time a
         player character kills a creature standing on an altar, even if the player
         may not want to offer a sacrifice to that altar's god; this can make live
         sacrifice very much a double-edged sword!\n
         __When a god is angry, a suitable sacrifice can also be used as a form of
         penitence, lessening or removing completely the divine anger. Suitable
         sacrifices made to an angry god do not increase favor, instead lessening
         the god's anger. Sacrifices made to decrease anger do not have to be potent
         enough to increase favor, but they do have to be notable relative to the
         character level of the character making them.\n
         __<9>Favor Levels and Permanent Blessings:<1> When characters make sacrifices 
         (or gain favor, for gods that do not accept sacrifices), their total favor 
         is recalculated and compared to an internal favor table specific to each god. 
         This table works much like the experience table, determining a character's 
         favor level. If the total is enough for them to be at a higher favor level
         than they are, the god in question will grant them a permanent blessing. This
         works in many ways like gaining a level in a prestige class: the character
         gains certain special abilities for their new favor level, though favor does
         not grant base qualities such as BAB, hit dice or saving throw modifiers.
         There are ten levels of favor possible with each god; characters can only be
         raised above the third level of favor with the god they have specifically
         devoted themselves to. Your current level of favor with your god is
         indicated by a line on the 'Spiritual State' section of the character
         sheet, as follows:\n
         __<3>*<1>_'[God] is noncommital.' (no favor level)\n
         __<3>*<1>_'[God] has noticed your worship.' (level 1)\n
         __<3>*<1>_'[God] is cautiously pleased with your worship.' (level 2)\n
         __<3>*<1>_'[God] is pleased with your worship.' (level 3)\n
         __<3>*<1>_'[God] is very pleased with your worship.' (level 4)\n
         __<3>*<1>_'[God] is exalted by your worship.' (level 5)\n
         __<3>*<1>_'You are a minor champion of [God].' (level 6)\n
         __<3>*<1>_'You are a champion of [God].' (level 7)\n
         __<3>*<1>_'You are among the greatest of [God]'s champions.' (level 8)\n
         __<3>*<1>_'You are the hand of [God] on Theyra.' (level 9)\n
         __<3>*<1>_'You have been crowned by [God].' (level 10)\n
         __At present, the highest level of favor one can recieve with a god
         is favor level 9; characters will be able to be crowned in <9>Return of
         the Forsaken<1>. Also note that it is, by design, considerably harder to 
         attain favor level 9 with many gods than it is to defeat Murgash and
         beat the game!\n\n
         
         <9>Conduct and Penance<1>\n
         __Every god places upon her followers a specific standard of behaviour
         they are expected to adhere to. Violating this code of conduct will
         anger the god, making it impossible to recieve aid from her and causing
         her to send negative interventions instead of positive. The specific
         rules that each god places before her followers are listed in the
         'Worship' section of each god's writeup. Some rules may apply only to
         those who devote themselves to the diety in question, while others apply
         to everyone. All the gods are omniscient, silently watching all people
         on Theyra, though they are impotent to act upon the lives of anyone who
         hasn't prayed to them, they still note the acts that all people take,
         and form opinions accordingly.\n
         __The message <9>'You feel uneasy.'<1> signifies that your patron god
         has become angry at you; no such message is given, however, when any
         other god becomes angry.\n
         __When a god who is involved in a character's life becomes angry, that
         diety will send negative interventions to trouble the character. When
         a character is devoted to a god and angers them, they must soothe the
         anger by making sacrifices. When a different involved god becomes angry,
         the anger may be soothed over time, but will also dissipate after a
         number of negative interventions depending upon the strength of the
         anger. Some gods are more tolerant, and will grant worshippers a certain
         lattitude in violating their rules before they are counted as being
         angry; others are very strict and will become angry at even a single
         transgression.\n
         __It is possible for repeated transgressions without atonement to make
         one's patron god so angry that they will reject the character utterly,
         stripping all their blessings from her and leaving her to fend for
         herself, usually also consistantly sending negative interventions
         against her without surcease.\n
         __<9>'Risk-Taking':<1> Some gods grant favor or become angry on the
         basis of the degree of risk aversion or patience a follower shows.
         This manifests in game terms by gauging the characer level a character
         reaches before descending to a given dungeon level. The baseline is
         that a character's level will be two higher than the dungeon level
         she is on, so a character who has to avoid being overly cautious
         should descend to dungeon level 2 before reaching character level
         4, while a character who does not want to be seen as impatient or
         reckless should not descend to dungeon level 2 <9>until<1> she
         reaches character level 4. Characters are never penalizing for
         being on dungeon level 1, and likewise are never penalized if their
         character level is maxed out.\n\n
         
         <9>Divine Relations<1>\n
         __The pantheon of Theyra has complex dynamics among itself; some members
         are close friends and allies, while others are bitter enemies. Characters
         can pray to any god, given a suitable altar, as well as making sacrifces
         and recieving aid and blessings. Some gods offer very useful services to
         characters who do not worship them directly: Immotian will cure diseases,
         Xavias can identify items and so forth. However, praying to a god other
         than your patron can anger your patron if the god you are praying to is
         not an ally of your patron. The relations between gods can be gleaned
         through experimentation, but are often obvious from common sense simply 
         as a result of reading the various gods' writeups.\n\n
         
         <9>Seeking Insight<1>\n
         __Characters will always be offered the option to
         seek insight when they pray; this allows them to learn about their
         standing with a given god. Seeking insight is never an aligned act,
         nor do gods react to it in any way. It is 'safe'. Successfully gleaning
         insight requires a Knowledge (Theology) skill check against DC 15.
         Success reveals whether the god is question is angry, how they would
         aid you in a time of need and how strongly they favor you. If the check
         is failed, it can be re-attempted after resting.\n
         __Some gods will also identify some or all magical items as divine
         aid when a follower seeks insight. The game will ask whether you want
         to seek insight into your possessions when you seek insight in general;
         if you do the god you pray to will identify some or all of your items,
         with all the normal penalties for recieving divine aid.\n
         
         <9>Divine Aid<1>\n
         __Any character devoted to a specific diety can pray for divine aid
         from that god at any time. Prayers for aid on Theyra are very ritual
         and complex, and structure and correct enunciation are necessary to
         allow a god to aid a petitioner without an altar to act as a conduit.
         As such, to have a prayer for aid answered, a character must make a
         successful Knowledge (Theology) check. The DC varies between 8 and 15
         depending on how exacting and ritualistic the faith of the god in
         question is.\n
         __Each of the gods in Incursion grants several
         different forms of aid; sometimes gods will only grant aid depending
         upon how severe a situation is (for example, only healing the character
         if she is severely wounded, or only teleporting her away if she is
         badly outnumbered); furthermore, most gods require characters to
         attain a certain level of favor before they will give specific forms
         of aid to the character. A character can learn exactly what forms of
         aid are available to them at present by using the seek insight option
         on the pray command. Each god writeup lists the forms of aid a diety
         is capable of giving, whereas the insight option will tell you what
         your diety would be willing to give you now, at your current level of
         favor.\n 
         __There are many different forms of divine aid; most are self-explanatory
         based on their message in the seek insight results. <9>Clearing you mind<1>
         refers to removing stunning, confusion, enchantment and paralysis, and also
         allowing the character to see invisible creatures if she is currently being
         menaced by them, while
         <9>purifying the body<1> refers to curing poison, disease, petrificaton
         and paralysis. <9>Replenishing your spirit<1>, conversely, restores all
         drained experience and heals all attribute damage. <9>Deflecting lethal
         blows<1> indicates that the god will intercede automatically to lessen
         the damage from a critical hit that would kill the player or leave her
         with less than 1/5th of her normal hit points. This reduces the hit to
         non-critical damage level, but does not add to prayer timeout.\n
         __Divine aid comes with a price, however; the gods help those who help
         themselves, and bless most highly those servants who call upon their
         aid only rarely. Whenever you pray and recieve aid (or are protected
         from a crit), a percentile penalty is applied to your total favor with the diety
         in question, culmulative with all such penalties in the past. Your favor 
         level never goes down, but the more you rely on divine aid, the harder 
         it becomes to gain further permanent blessings from your god. This
         penalty can never exceed 100~; if recieving aid would make it do so,
         your god is no longer able to give you aid. Some gods lower this penalty
         whenever you gain a character level as a kind of 'aid allowance', while 
         others do not. In Wizard Mode, you can see this penalty listed in the
         Spiritual State section of the character sheet.\n
         __Furthermore, the gods can offer aid only infrequently; when a player
         calls upon a god's aid, they will not be able to recieve further aid
         for a pre-set time period, referred to as a <9>prayer timeout<1>. This
         period varies from god to god; a player can determine if they currently
         are in a prayer timeout using the seek insight option. Prayer timeout is
         measured in 'XP clicks' -- individual instances of the character gaining
         (any amount of) experience -- and as a result it cannot be 'waited out'; 
         the player will have to continue adventuring to run out the prayer 
         timeout and again be eligable to recieve divine aid.\n
         __<9>Ressurection:<1> For an especially favored servant, the gods will
         even raise the dead. This is essentially just a special case of divine
         aid; it is recieved when a character dies rather than when she prays
         for aid. In addition to the normal minimum favor requirement, characters
         must be of a certain minimum character level (determined by their god)
         to be important enough to be ressurected. Ressurection usually carries
         a stiffer percentile favor penalty than other forms of divine aid.\n
         __A ressurected character loses a full character level and re-appears
         on the first level of the dungeon with a limited supply of emergency
         equipment and a new, fully healed body. Their normal equipment remains 
         with their corpse at the location they died, unless the monsters they
         were fighting pick it up and make use of it. A character can theoretically
         be raised in this manner any number of times, provided that doing so will 
         not put her favor penalty above 100~. However, there is a chance that a 
         character will not survive repeated ressurections...\n\n
         
         <9>Blessing Items<1>\n
         __Characters with at least minimal favor with a god can also use an altar to 
         bless items. To do this, drop one or more items on the altar, pray and select 
         the blessing option. The items will glow with a silvery light, and become blessed.
         This, like ressurection, is a specialized form of divine aid, and increases
         the character's percentile penalty to favor by one percent for each item
         so blessed. Blessing a stack of items accords a penalty of 1~ plus 1~ per
         five items in the stack.\n
         __Characters with stronger favor with their god may be able to have a weapon
         divinely enchanted with a special quality specific to the god in question.
         Mara, for example, favors keen weapons, whereas Immotian favors flaming ones.
         Whether this occurs depends on the petitioner's favor level with the altar's
         god, the petitioner's Wisdom modifier, the power of the quality and the depth 
         the item would typically be found at: it's harder for a god to grant a quality
         to a +5 sword than to a +1 sword. Gods are more favorable to enchanting their
         chosen weapons; conversely, some qualities cannot belong to some weapons: only
         bladed weapons can be keen, for example.\n\n
         
         <9>Divine Interventions<1>\n
         __In addition to sending divine aid when implored by an adventurer, the
         gods all (except Asherath) interact with their mortal followers on their
         own initiative. When a character has a god angry at her, she will recieve
         negative interventions; when she is in favor with her diety, she will
         instead recieve beneficial interventions. (Maeve is something of an
         capricious exception, being fond of doing obnoxious things to her
         followers even if they haven't done anything to anger her, and conversely
         rarely doing beneficial things for followers who have angered her.) 
         The player has no control over when these interventions occur; they
         are timed with 'xp clicks' and randomness in the same manner as the
         prayer timeout described above.\n
         __Every god has different interventions. Erich is famous for giving his
         followers magical arms and armor when pleased with them, while Kysul
         shows anger by causing her followers' bodies to decompose!\n\n

          <9>ALLIES AND LEADERSHIP {AL}\n
            =====================\n<1>         
          __Your character need not face the rigors of the dungeon alone. Characters
          with strong social skills can recruit aid to fight at their side in the
          dungeon -- convincing neutral monsters they encounter to join their party,
          or even turning foes neutral, then recruiting them as a two-step process.
          Sapient beings can be recruited with the Diplomacy skill, while animals (and
          with the right feats, other beasts) can be recruited using the Animal
          Empathy skill.\n\n
              
          <9>Party CR (PCR)<1>\n
          __In Incursion, by default a player character can lead a party with a total
          Challenge Rating equal to her own character level, adjusted by her Charisma
          modifier. A single creature has a Challenge Rating equal to its effective
          level as shown in its monster memory page, whereas multiple creatures have
          a calculated total challenge rating that makes their strength equivalent to
          a single creature of the same CR.\n
          __(For the curious, the CR of a group is calculated as being the cube root
          of the sum of all the cubed CRs of each creature in the party. Don't worry
          too much about this, though -- you don't need to follow the math, and the
          game blurs the rules in some places to get sensible results anyway.)\n
          __Certain types of characters are able to lead a larger party of more 
          creatures, gaining special abilities that give them an extra pool of 
          party CR for a specific kind of ally. This pool is added to the main
          allotment in the same manner that the CR of two creatures is added
          together.
          __The Leadership feat increases the PCR of your base party pool by +3.\n\n 
          
          <3>The Magic Pool<1>\n
          __All characters have a magic pool that can absorb the CR of summoned
          creatures, animated undead, conjured force constructs and so forth. This 
          pool is equal to the average of your character level and your caster 
          level -- in other words, a straight spellcaster will have a pool equal to 
          their character level and a character with no casting ability will have a 
          pool equal to half their character level. All magically created or 
          transported creatures, from spells, innate abilities or magical items, 
          draw from this pool; if their PCR exceeds it, the excess bleeds over into 
          the general Party CR normally.\n
          __Some summoning effects summon creatures which are 'freebies' and do not
          count towards this pool.\n\n
          
          <3>The Commanded Undead Pool<1>\n
          __Characters with the Rebuke/Command Undead gain a pool specifically
          for commanded undead equal to their level in the Rebuke/Command Undead
          ability -- in other words, their priest level. Any excess commanded undead
          bleed over into the Party CR pool normally. Rebuked undead are not allies,
          merely afraid, and thus do not count toward any pool.\n\n
          
          <3>The Undead Horde Pool<1>\n
          __In addition to the magic pool, specialist necromancers recieve a second
          pool that applies only to animated undead. This pool has a CR equal to 
          the character's Mage level. Animated undead subtract PCR first from this
          pool, then from the magic pool, and finally from the general party pool.
          As a result, a necromancer can control a quite substantial number of
          undead creatures...\n\n
          
          <3>The Animal Companion Pool<1>\n
          __Characters with the Animal Companion ability recieve a pool that can
          only be used for animal companions; this pool is equal in CR to the
          character's rating in the Animal Companion ability -- usually the sum
          of the character's ranger and druid levels.\n
          __This pool applies to any non-magical animal allies of the character, 
          whether they are the actual single animal companion granted by the
          Animal Companion ability, or other animals befriended and recruited
          using the Animal Empathy skill.\n\n
          
          <3>The Diplomacy Bonus<1>\n
          __The Diplomacy skill does not grant a seperate pool like the above
          abilities; instead, for every +5 by which your Diplomacy rating
          exceeds +5, you recieve a +2 bonus to the CR of your base party
          pool. Thus, Diplomacy +10 increases your base PCR by +2, Diplomacy
          +15 increases it by +4, and so forth.\n\n

          <3>That Special Heroic Quality<1>\n
          __Incursion does not currently include a monster experience system
          -- allies do not advance. Thus, to make companions gained with the
          Diplomacy skill viable medium-term allies, they recieve the same
          'heroic quality' that player characters have, giving them 20 base
          hit points in addition to those gained from Hit Dice and Constitution
          bonus. This benefit only applies to races that can recieve class
          templates, not to monsterous creatures, and does not apply to
          animal companions, summoned creatures, illusions, animated dead,
          and so forth. This helps to balance the fact that other types of
          companions are normally easier to replace than mundane NPC allies
          if they should die.\n\n

         <9>SHOPS AND BARTER {SB}\n
            ================\n<1>         
         __Incursion characters can visit shops in order to purchase items,
         or barter with other creatures in order to buy and sell gear. The
         prices in shops will be very bloated for the majority of characters
         -- selling magical gear to adventurers is a very risky business and
         shopkeepers demand rather extreme premiums from their customers.
         As a result, most characters will be able to use the shops only to
         buy potions, skill kits and other low-cost items; powerful magic
         will remain outside their financial range.\n
         __The price of items in shops is determined by a character's Diplomacy
         skill rating, so characters with ratings of +10 or higher in Diplomacy
         will be better able to make use of shops than normal characters,
         potentially being able to buy powerful magical items from them. As
         always, in Incursion characters excel at the things they were
         designed to do, and are poor at most other things; this effect is very 
         much intentional.\n
         __Characters with Diplomacy as a class skill or a Charisma of 13+ can 
         also barter with other non-hostile sapient creatures in the dungeon, 
         buying or selling goods. This works in exactly the same manner as with 
         shops, except that most wandering NPCs will have only very limited funds 
         to buy items from the PC, and in turn can sell only the items they have 
         as gear. However, their prices will be much more reasonable since they 
         are not trying to make a living merely selling goods in an exceedingly 
         hazardous enviornment, but are instead fellow adventurers present for 
         much the same reasons your own character is.\n\n
         
         <9>Service Spells<1>\n
         __NPC spellcasters such as priests, dragons or nagas can also sell 
         services in the form of spells they are capable of casting. Most
         spells are difficult to pass on in this way, but some, especially
         curatives and abjurations like <9>neutralize poison<1>, <9>remove
         curse<1>, <9>identify<1> and <9>cure disease<1> can make very
         useful commodities.\n
         __When an NPC is able to cast such a spell, that spell will appear
         along with their gear in the bartering window, and can be purchased
         accordingly. When you purchase a service spell, it will be cast 
         immediately, and you will recieve an effect prompt to target it
         when the barter screen closes -- so make sure that whatever or
         whoever you want it cast on is in range!\n\n
          
         <9>The Bartering Interface<1>\n
         __Bartering is initiated either by entering a store or by using the
         Talk ('t') command on a neutral NPC willing to barter with you;
         either of these actions bring up the store interface, listing all
         the available goods along with their prices.\n
         __You can scroll through the listed goods using the [UP] and [DOWN]
         cursor keys, and the Examine ('x') command will allow you to
         scrutinize an item in more depth. The list of items can be
         scrolled up and down without changing the selected item using
         the [PGUP] and [PGDN] keys. All items in the barter window
         are listed fully identified, if you buy an item, all items of the
         exact same type will be identified as well, just as if you had
         identified such an item on your own.\n
         __Hitting [ESC] cancels the barter window, returning to normal
         gameplay. Typing the number listed beside an item will purchase
         that item; pressing [ENTER] will purchase the currently highlighted
         item. Purchases always ask for confirmation, and if the store or NPC
         has more than one of the item in question, you will also be asked
         whether you want to purchase one, some or all. Rope is sold in
         increments of five feet; uneven numbers of feet will be rounded
         up!\n\n
         
         <9>Selling Items<1>\n
         __Items can be sold with the Sell ('s') command, which allows you
         to select any item from your inventory and offer it to whoever you
         are bartering with. Most people won't be interested in most items,
         however. Roark Ironbeard will always buy the valuable gems gained
         from mining, however, and will also purchase powerful magical arms
         and armor from persuasive characters -- those with a Diplomacy
         rating modified by any social modifiers of +12 or higher.\n
         __Shopkeepers will only purchase a finite number of items from any
         given character over the course of an entire game. This prevents
         'grinding', encouraging players to sell only a rare few valuable
         items rather than spending endless time carting large amounts of
         loot up to sell to shopkeepers to scum for gold. The number of items
         a shopkeeper will buy is always a character's Diplomacy score,
         adjusted by any social modifiers, divided by a set constant -- four,
         in the case of Roark Ironbeard.";
}

Text "help::combat"
{ "<15>======\n
      COMBAT\n
      ======\n
      <3>-- {CB} Combat Basics\n
         -- {RC} Ranged Combat\n
         -- {TT} Timing Table\n 
         -- {EF} Exploring and Fighting\n 
         -- {AR} Armor and Resistances\n
         -- {FP} Fatigue Points\n
         -- {SB} The Strength Bonus\n
         -- {CR} Critical Hits\n
         -- {AO} Attacks of Opportunity\n
         -- {RE} Reach\n
         -- {LE} Leaving a Threatened Area\n
         -- {TO} Tactical Options\n
         -- {2W} Two-Weapon Combat\n
         -- {MC} Mounted Combat\n
         -- {CH} Charging\n
         -- {WT} Weapon Table\n
         -- {AT} Armor Table\n
         -- {MM:mainmenu} Return to Main Help Menu\n
      <3>__Combat in Incursion is resolved in much the same way as it
      is in its parent OGL system, but with the distinct differences
      caused by the percentile speed and movement rates, and the lack
      of initiative or round-based ordering of actions.

      \n<11>
      \nCOMBAT BASICS {CB}\n
      =============<3>\n
      __Whenever one character attacks another in Incursion, the game
      makes an attack roll to determine if the attack is a hit, miss
      or critical hit. The attack roll is the sum total of the attacker's
      base attack bonus in the relevant category (archery, brawl, melee
      or throwing), any modifiers due to weapon, magic, feats, ability
      scores or circumstances, and the result of a single twenty-sided 
      dice. If this value is equal to or higher then the opponent's Defense
      Class, the attack is a hit. If it is lower, the attack is a miss.\n
      __<11>Timing:<3> A single attack at 100% speed takes 30 segments to
      complete. This value is modified by the percentile speed exactly
      as one might expect -- a character with 200% speed requires 15 segments
      to perform an attack, while one with 50% speed requires 60 segments.
      In comparison, it takes 10 segments for a character with 100%
      movement rate to move ten feet (one square), seven segments for a
      character with Dexterity 10 to pick up an object, and ten segments
      for a character to cast a spell or use most special abilities.\n
      __Actions occur on a timeline scheme. If you perform an action
      that takes six segments, your next action will occur six segments further
      down on the timeline. One consequence of this is that if you have a
      faster speed then another character, they will never be able to
      attack you more then once in combat without you having an action
      in the interim.\n
      __<11>Natural Attacks:<3> Monstrous creatures have natural attacks --
      claw rakes, fanged bites, tentacles that lash and ensnare, and so
      forth. Often, they will have more then one form of attack. Creatures
      can make all of their natural attacks in a single sequence at the
      same time -- for example, many creatures have a bite/claw/claw pattern.
      The first attack is at no penalty, but all the latter attacks suffer a
      -5 penalty to hit, or -2 if the creature has the Multiattack feat. All
      of these individual attacks occur at the same time, and the whole
      sequence costs segments only as per a single attack.

      \n<11>
      \nRANGED COMBAT {RC}\n
      =============<3>\n
      __Ranged combat is handled in largely the same way as melee combat, with
      a few notable exceptions. Running into a monster with arrow keys obviously
      always represents a melee attack. To make a ranged attack, you can either
      use the 'f' command, or the [SHIFT]+Arrow Key keyboard shortcuts.\n

      __<11>Cover:<3> When making a ranged attack -- with a bow or crossbow, 
      a thrown weapon or a ray spell -- it becomes more difficult to hit
      targets who are behind cover. The game considers this to be the case
      whenever there is a solid stone block directly beside the intended
      target in the horizontal or vertical direction that points closest to 
      the attacker. For example, the hill giant below receives cover against
      the adventurer's archery:
      \n____<7>########################
      \n____#_______________<15>@<7>_______
      \n____#<6>H<14>#<7>#####################
      \n____#_######################<3>
      \n__A target that has cover is assigned a miss chance of 50~. This means
      that the attack has a 50~ chance of simply having been determined to
      have missed without the attack roll even having been made. The game will
      notify you of a miss that is due to a percentile miss chance by telling
      you that you missed 'wildly'.
      \n__There are some magical effects that also grant a percentile miss chance,
      such as the <9>blink<3> spell or a Cloak of Displacement. If more then one
      miss chance applies, each is rolled separately.\n


      \n<11>
      \nCOMBAT TIMING TABLE {TT}\n
      ===================<3>\n
      <15>Action____________________________Timecost<1>\n
      __Move One Square_________________(10 x Mod) segments\n
      __Use the Jump skill______________20 segments\n
      __Disarm a trap or pick a lock____50 segments\n
      __Use Animal Empathy______________50 segments\n
      __Turn or Command Undead__________30 segments\n
      __Open or close a door____________10 segments\n
      __Make a Melee Attack_____________(30 x Spd) segments\n
      __Mave a Natural Attack Seq_______(30 x Spd) segments\n
      __Make a Two-Weapon Attack________(30 x higher Spd) +\n
      __________________________________(30 x lower Spd) / 2\n
      __Perform a Grapple Maneuver______30 segments        \n
      __Get an item from your pack______(15 / Dex) segments\n
      __Cast a normal spell_____________30 segments\n
      __Cast a quickened spell__________12 segments\n
      __Use an innate spell ability_____20 segments\n
      __Read a scroll___________________30 segments\n
      __Drink a potion__________________30 segments\n
      __Activate a Wonderous Item_______30 segments\n
      __Fire a wand or staff____________20 segments\n
      __Wield / put away an item________(20 / Dex) segments\n
      __Pick up an item_________________(15 / Dex) segments\n
      __Drop an item____________________(10 / Dex) segments\n
      __Insert/remove item from pack*___50 segments\n
      __Reload a Crossbow_______________30 segments\n
      ____(with Rapid Reload)___________10 segments\n
      __Use a Breath Weapon_____________30 segments\n
      __Perform a Great Blow or Kick____(50 / Spd) segments\n
      __Perform a Whirlwind Attack______(50 / Spd) segments\n
      __Perform a Coup de Grace_________30 segments\n
      __Perform a Touch Attack__________(20 / Spd) segments\n
      __Make an Attack of Opportunity___0 segments (free)\n
      __Stand up from being prone_______(15 / Dex) segments\n
      <3>__*_Placing items in or taking items out of other 
      containers has a timecost in segments that varies with the
      container. Special purpose containers, such as the ivory
      scroll case that mages begin play with, are often much
      faster in this regard then the leather backpack.\n

      \n<11>
      \nEXPLORING AND FIGHTING {EF}\n
      ======================<3>\n
      __Your character's first status line on the status panel always reads
      either 'Exploring' or 'Fighting'. This describes the character's state
      of combat readiness in relation to the situation around him. As soon
      as a character is either attacked, or attacks another character (with
      a spell or weapon), the status will change from Exploring to Fighting,
      and will remain that way for several rounds thereafter -- the exact
      number of rounds a character remains alert is based on his Wisdom score.\n
      __A character who is attacked while Exploring is said to have been
      caught <11>flat-footed<3>. Such a character loses their Dexterity
      bonus to their defense class, as the attack caught them partially
      unexpectedly and they did not have time to fully ready themselves
      for combat. Essentially, a minor advantage goes to whichever characters
      strike the first blow in a given combat, and against those who are
      struck before they can strike.\n
      __This may seem like a trivial penalty, and usually it is. It can be
      much more deadly when fighting rogues or other characters with the
      Sneak Attack ability, however, as they gain significant amounts of
      bonus damage when attacking flat-footed characters.\n\n
      
      \n<11>SURPRISE ATTACKS {SA}\n
        ================<3>\n
      __When a character attacks another character, and the victim is 
      cannot percieve the attacker -- as a result of invisibility, hiding
      in shadows, the victim being blind or any other cause -- an opposed 
      Move Silently versus Listen check is made. If the victim succeeds, 
      she hears the attacker and negates surprise. If the attacker 
      succeeds, however, she has scored a surprise attack. Any attack
      made against a sleeping creature is also considered a surprise
      attack.\n
      __Surprise attacks recieve a +4 surprise bonus to hit, and the
      attacker can substitute her Dexterity for Strength when determining
      damage, if doing so benefits her. The victim is also denied her
      Dexterity bonus to defense, as with being flat-footed above --
      thus allowing a rogue to gain Sneak Attack damage. Obviously,
      setting up surprise attacks is very valuable especially to rogues,
      but also to any high-Dexterity character.\n 

      \n<11>
      \nARMOR AND RESISTANCES {AR}\n
      =====================<3>\n
      __In Incursion, armor reduces damage rather then just adding a set value
      to defense that must be beaten on the attack roll. Every type of armor
      has three ratings -- resistance to slashing, piercing and blunt damage.
      Similarly, all weapons inflict one of these types of damage, determining
      which armor value is used against them. Some weapons inflict two types
      of damage -- slashing and piercing, for example. In this case, whichever
      damage type is more beneficial to the attacker is used.\n
      __The amount of damage a given armor type removes is calculated based on
      an internal table by the game. In practice, you can quickly get a feel
      for how much damage armor of a given type will protect you from. Note 
      that armors of lower ratings are less effective against greater amounts
      of damage -- an armor level that takes 50% of the damage off of a 27-point
      hit might only take 30% off of a 46-point hit.\n
      __Resistances are gained from magical items. They work exactly the same
      as armor ratings, but instead of applying against slashing, piercing or
      blunt damage, resistances lower damage from the elemental types: fire,
      cold, acid, lightning, toxic damage or sonic damage. Resistances are 
      typically a little higher then armor values, simply because elemental
      damage is usually doled out in larger amounts at once, coming from sources
      such as a wizard's spell or a dragon's breath weapon, and thus needs a
      higher value to protect against it effectively.\n
      __<11>Stacking Armor:<3> Armor and resistances can be gained from multiple
      sources in Incursion -- for example, a lizardman in a chainmail hauberk 
      has both his natural armor rating and the armor values of the chainmail.
      Similarly, a mage might have fire resistance both from an amulet he wears
      and from a spell he just cast. In these cases, the final applicable value
      is determined by taking the largest armor or resistance value and adding 
      to it half of the second largest value, a third of the third largest, a
      fourth of the fourth largest, and so forth.\n
      __Note that like all things in Incursion, values from similar sources 
      overlap, rather than stacking. Specifically, resistances may benefit at
      most from A) one permanent item granting that resistance, and B) one
      spell, potion or scroll granting that resistance. Thus, the fire resistance
      of a Ring of Fire Resistance does not stack with a second ring, but it
      would stack with a Resist Fire spell.\n
      __<11>Coverage:<3> Coverage is an addition to defense class that describes
      the amount of the body covered by armor. Every suit of armor has a coverage
      rating, and coverage can be increased by wearing protective items such as
      armored helmets and boots. If an attack roll exceeds the sum of the armor
      wearer's defense class and coverage, that attack has bypassed the armor
      completely, and the armor ratings from physical armor are ignored when 
      calculating damage. Natural armor and other sources of resistance to physical
      damage still apply normally, however.\n
      __<11>Penetration:<3> While energy is energy, weapons are driven by their
      wielder's strength, and a powerful blow can cleave through armor's protection.
      In game terms, a positive secondary Strength modifier reduces armor's effective
      protection by its magnitude, to a maximum reduction of half. For example, if a
      character with 20 Strength (secondary modifier +4) strikes a character with 5
      points of armor rating against the relevant type of damage, that character has
      an effective armor of 3 after Penetration is factored in.\n
      __Certain weapons are able to penetrate armor (natural or otherwise) more
      effectively then most. These weapons grant a +2 bonus to Penetration, and this
      bonus is applied after the half-only cap is applied, meaning that such a weapon
      can negate more than half of an enemy's armor rating.\n\n
      
      <11>Armor vs. Special Attacks<3>\n
      __If a physical attack (a claw or sting, for example) carries with it
      a special form of damage or deleterious effect (such as poison, experience
      or attribute draining or so forth -- but not elemental damage), the
      victim will only suffer that damage if the attacker's attack roll is
      higher than the victim's Defense Class + (Coverage - 4). If the attack
      roll is higher than DC but not DC + (Coverage - 4), then the attack
      will inflict only hit point damage.\n
      __If a character has armor with the <11>sacred<3> quality, that armor
      will block touch attacks with special effects the same way it blocks
      claws and other physical attacks.

      \n<11>
      \nFATIGUE POINTS {FP}\n
      ==============<3>\n
      __Adventurers consistently attempt difficult and tiring actions, not the
      least of which is brutal combat. Some activities strain the body and spirit
      even more than these trials, however. The berserk fury of a barbarian, a
      priest's ability to channel sacred energies from the positive material
      plane through his own body to drive off the undead, or even the titanic
      strike of a warrior praying to down a terrible foe with a single mighty
      blow -- all these things place strain on an adventurer far beyond what
      they normally experience.\n
      __This strain is represented by fatigue points. A number of different actions
      cost fatigue, as shown on the table below. If a character drops below 0
      fatigue points, they are considered to be fatigued, and will suffer a
      reduction in effective Strength and Constitution. If they continue to
      expend fatigue until they reach negative fatigue points equal to their
      normal positive maximum, they are considered to be exhausted. Spending
      any further fatigue points when exhausted entails a risk of passing out
      for several turns, leaving the character effectively helpless. If this
      risk is accepted, a Fortitude save is made to determine whether the
      character can remain conscious whenever more fatigue points are spent.\n
      __<11>Recovering Fatigue<3>: Normal magical healing does nothing to
      restore lost fatigue; the primary way to recover it is simply to rest.
      A character who is not fatigued when they rest regains all of their
      fatigue points immediately. A character who is fatigued recovers all
      of their fatigue points only if the night passes uneventfully; in the
      case of an encounter, only a portion of the fatigue points lost will
      be recovered. An exhausted character recovers only one fatigue point
      when resting, requiring several nights to fully recover from the
      effects.\n
      __<11>Fatigue Costs:<3> The following actions all cause a character to
      expend fatigue. Actions marked with an asterisk are not currently
      implemented in this version of Incursion, but will appear in a future
      release.\n
      <15>__Action__________________________Fatigue Cost<1>\n
      __Turn or Command Undead__________2 FP\n
      __Use Berserk Rage________________3 FP\n
      ____(as an orc)___________________2 FP\n
      __Cast a metamagicked spell_______(MM Levels) FP\n
      __Perform a Great Blow____________1 FP\n
      __Being Stunned___________________1 FP\n
      __Being Poisoned__________________1 FP\n
      __Being Diseased__________________1 FP\n
      __Using the Tumble skill__________1 FP\n
      __Going to negative HP and living_3 FP\n
      __Moving under Extreme encumb.____1 FP / 20 squares\n
      __Using a Breath Weapon___________2 FP\n
      __Suffering a critical hit________1 FP\n
      __Digging a Tunnel________________1 FP / square\n
      __Sprinting_______________________1 FP\n
      __Climbing up/down a chasm_*______1 FP\n

      \n<11>
      \nTHE STRENGTH BONUS {SB}\n
      ==================<3>\n
      __All attacks gain an attribute bonus to hit -- by default, melee and 
      brawling attacks are modified by Strength, whereas archery and thrown
      weapons are modified by Dexterity. (The Combat Finesse feat allows
      characters to substitute Dexterity for Strength on most brawl and melee
      attack rolls).\n
      __However, normally only Strength grants a bonus to damage, and this bonus is
      granted on nearly all types of attacks. There are several factors which 
      influence exactly what bonus is granted based on Strength, however:\n      
      __<15>*<3>_If a character wields a weapon in both hands, they are able to
      place greater force behind their attacks, and receive 1.5 times their
      normal strength bonus to attack.\n
      __<15>*<3>_If a character is fighting with two weapons, the weapon in their
      off hand receives only half of the character's normal Strength bonus
      to damage.\n
      __<15>*<3>_When making a natural attack sequence, creatures receive their
      full Strength bonus to damage on the first attack and only half their
      Strength bonus to damage on the remainder of their attacks.\n
      __<15>*<3>_Characters using a bow receive their Strength bonus to damage
      only if their bow has the Mighty quality. Characters using a crossbow
      never receive a Strength bonus to damage.\n
      __<15>*<3>_A normal punch by a humanoid character receives full Strength
      bonus; a kick receives 1.5 times the normal Strength bonus, but also has
      the attack time in segments increased from 30 to 50.\n

      \n<11>
      \nCRITICAL HITS {CR}\n
      =============<3>\n
      __Every attack in Incursion has the potential to be a critical hit. When
      the attack roll scores very high before any modifiers are applied to the
      roll, and hits the creature's defense class, a second identical attack roll 
      is immediately made to see if the attack is a critical hit. If the second
      attack roll also hits the creature's defense class, the attack is considered
      to be a critical hit.\n
      __<11>Threat Range:<3> The threat range of a weapon or attack determines
      what must be rolled on the first attack roll before any modifiers are
      applied for that roll to be a potential critical hit, or a <11>threat<3>.
      For example, the long sword has a threat range of 19-20, meaning that it
      scores a threat whenever the 1d20 rolled for the attack roll comes up as
      a 19 or 20. In other words, 10% of all attacks rolled with a long sword
      will be threats. Unless otherwise noted, all attacks have a threat range
      of 20 -- normally only weapon attacks benefit from an increased threat 
      range.\n
      __Several factors can increase the threat range of an attack. The <11>keen<3>
      weapon quality and the <15>Improved Crit<3> feat are the most common. Both
      of these abilities double the threat range of an attack. Multiple doublings
      triple or quadruple rather than growing exponentially, however; thus, the
      threat range of a keen long sword in the hands of a character with Improved
      Crit is 15-20, or three times the base threat range of a long sword.\n
      __<11>Crit Multiplier:<3> All attacks also have a crit multiplier; if not
      noted elsewhere, the default crit multiplier for an attack is x2. This is
      the figure by which the damage the attack inflicts is multiplied by on a
      critical hit. Since the battleaxe has a x3 crit multiplier, it inflicts
      three times its normal damage when a critical hit is scored.\n
      __The damage multiplier affects all the damage a weapon inflicts, including
      damage bonuses due to skill, magic and Strength. The only exception to this
      is that bonus dice of damage -- such as those from a flaming sword or a
      rogue's sneak attack ability -- are not multiplied by a critical hit, though
      they are added in once normally.\n
      __<11>Crit Immunity:<3> Critical hits most often depend upon striking a
      vital area or landing a particularly solid blow. Creatures with no
      discernable anatomy -- golems, oozes and jellies, elementals and similar
      beings -- are immune to critical hits for this reason, though they still
      suffer normal damage from an attack that would have been a crit. Undead
      are immune to critical hits only from piercing weapons, as they have no
      functioning internal organs to puncture.\n

      \n<11>
      \nATTACKS OF OPPORTUNITY {AO}\n
      ======================<3>\n
      __In certain circumstances, creatures are allowed to make bonus attacks on
      other creatures, usually due to those creatures taking some action that
      leaves a hole in their defenses. Holding a sword, an adventurer can keep
      the pointy end leveled at his adversaries and hold them at bay on risk
      of impalement. However, if the adventurer instead decides to ready his
      longbow and shoot an arrow while a monster is standing right next to him,
      that choice leaves him open to attack, and the monster is allowed to make
      a free bonus attack against him. This attack is called an attack of opportunity,
      and such attacks can be distinguished from normal attacks because the attack
      message that results is usually (but not always) prefixed with 'Seeing an
      opportunity, '. Both the player character and the monsters are allowed to
      make attacks of opportunity. The following situations provoke these attacks:\n
      __<15>*<3>_When a character casts a spell, he provokes an attack of opportunity
      from any creature that has him in their threatened area. The Defensive Spell
      feat can be used to negate this.\n
      __<15>*<3>_When a character makes a ranged attack, either by firing a bow,
      sling or crossbow, or throwing something, attacks of opportunity are similarly
      provoked.\n
      __<15>*<3>_When a character is within another creature's threatened area and
      attempts to leave that area by fleeing, they provoke an attack of opportunity
      from each creature whose threatened area they are leaving.\n
      __<15>*<3>_When a creature is held or paralyzed, they provoke one attack of
      opportunity from every creature whose threat range they are in every round.\n
      __<15>*<3>_When a creature without the Martial Mastery feat (or the monk's 
      Unarmed Strike class feature, which supercedes the feat) punches or kicks
      an enemy, they provoke an attack of opportunity from that specific enemy.\n
      __<15>*<3>_When a creature uses certain tactical options (such as Bull Rush
      or Disarm) and does not have the feat that improves their skill with those,
      they provoke an attack of opportunity.\n
      __<15>*<3>_When a creature invokes an innate spell-like ability, they provoke
      an attack of opportunity from all creatures threatening them, unless they have
      the Guarded Invocation feat.\n
      __<15>*<3>_When a creature attacks an enemy who is wielding a weapon two or more
      size categories larger than her own, the enemy recieves an attack of opportunity
      -- it is hard to fight a sword-wielder with a dagger! This does not apply if the
      attacker uses a martial arts weapon, or the defender is surprised, caught flat-
      footed or unable to percieve the attacker.
      __Note that Incursion is slightly nicer about attacks of opportunity then its
      parent system: using magic items generally does not provoke an attack of
      opportunity, nor does moving around within another creature's threatened area,
      so long as you aren't leaving it.\n
      __<11>Making the Attack:<3> Attacks of opportunity are in most ways exactly
      like any other attack. They are always a true single attack - creatures with
      a natural attack sequence make only their first attack as an attack of
      opportunity, not the whole sequence. Similarly, when wielding two weapons,
      creatures do not get an offhand attack on an attack of opportunity, and feats
      like Cleave do not affect opportunity attacks. In Incursion, opportunity 
      attacks are always normal attacks -- you can't perform a disarm or other 
      tactical option as an attack of opportunity.\n
      __There is a set limit to the number of attacks of opportunity that a character
      can make in one round (60 segments). For most characters, this limit is a single
      attack; for characters with the Combat Reflexes feat, the limit is 1 + the
      character's Dexterity modifier.\n
      __<11>Threatened Area:<3> When a creature does something that provokes attacks
      of opportunity, usually only creatures that have the character in their
      threatened areas can make an attack of opportunity on him. A character's
      threatened area describes the area where other creatures must be standing
      in order for him to be able to make melee attacks on them. For most character,
      this is the eight squares immediately surrounding the character's current
      location. For characters with reach, the threatened area may be larger,
      as described below.

      \n<11>
      \nREACH {RE}\n
      =====<3>\n
      __Some weapons are longer then others. Reach weapons are long enough to allow
      characters to attack opponents who are one square distant from them, rather
      then those that are right beside them. Usually, this means that the wielder
      of a reach weapon can only attack creatures at this range -- once they have
      slipped closer, his current weapon is useless and he must first wield something
      else or move back if he wishes to make an attack. Some rare weapons, such as
      the spiked chain, allow a wielder to attack creatures both close up and up
      to one square away.\n
      __<11>Closing:<3> Reach weapons can be used to prevent a creature from closing 
      to normal melee range. When a creature attempts to move up beside an enemy who 
      wields a reach weapon, they must make a Reflex saving throw against a DC equal 
      to 10 + half the wielder's BAB (melee or brawl, as suitable), plus her Dexterity 
      modifier, plus the parry modifier of the weapon used, if any. If the save is 
      successful, the movement is completed normally. If the save fails, however, the 
      movement is halted, the creature attempting to move is delayed for 30 segments 
      and provokes an attack of opportunity from the creature he was attempting to 
      close with.\n
      __<11>Natural Reach:<3> Some creatures -- usually giants -- are born with natural
      reach as a result of the length of their arms. They can attack as if with a
      reach weapon regardless of what (if anything) they are wielding. Creatures with
      natural reach can always attack creatures right next to them as well, in a
      manner similar to spiked chain wielders.\n


      \n<11>
      \nLEAVING A THREATENED AREA {LE}\n
      =========================<3>\n     
     __Creatures (including the player) threaten the space around 
     them, meaning that attempting to leave their vicinity can be 
     dangerous. (Creatures with reach weapons, special abilities
     or different feats may threaten a larger area.) When you make 
     a movement that would take you out of one or more creature's 
     threatened areas, the game offers you three options:\n
     __* <14>Disengage<7> -- You try to withdraw from melee tactically 
     without exposing yourself to danger. If you win an opposed
     contest with each threatening creature of your Base Attack 
     Bonus + 1d20 (Brawl or Melee bonus, whichever is higher),
     you are able to complete the movement action without provoking
     an attack of opportunity. If you fail, you both provoke an
     attack of opportunity from each creature you failed against,
     and you don't move at all.\n
     __* <14>Flee<7> -- You automatically escape melee and complete
     the selected movement action, but provoke an attack of opportunity
     from every creature whose threatened area you leave.\n
     __* <14>Abort<7> -- You elect to re-think things, and do not
     move at all. Use this option if you didn't realize you were
     threatened, and want to do something other than retreat.\n
     __Note that disengage, if successful, gives you a slight head
     start as you distract the enemy, but flee does not. Thus, flee
     is useless if the enemy is has a faster Mov than you -- you give
     them an attack of opportunity, and they'll just close with you
     again immediately after your move.

      \n<11>
      \nTACTICAL OPTIONS {TO}\n
      ================<3>\n
      __Incursion offers the player a number of different possible options in combat.
      Simple melee or unarmed attacks can be performed by running into a monster,
      while ranged weapons can be fired by pressing SHIFT and an arrow key. However,
      there is also a menu of more involved combat maneuvers that can be accessed by
      pressing 'c'. These choices are as follows:\n
      __<11>Attack:<3> Use this option to perform a normal attack against a creature 
      who is not yet hostile to you (Walking into these characters will normally just 
      displace them) or is invisible or otherwise imperceptible.\n
      __<11>Break Grapple:<3> You attempt to break out of an enemy's grab or grapple 
      with a grapple check. If successful, this maneuver takes no time to complete, 
      giving you an opportunity to get out of melee range, but if failed it takes up 
      a full round.\n
      __<11>Bull Rush:<3> You attempt to force an opponent back one square by charging 
      into them. This is resolved with an opposed Strength roll modified by +4/-4 for 
      every difference in size category between you and your opponent. A bull rush 
      normally provokes an attack of opportunity from the target.\n
      __<11>Called Shot:<3> You aim an attack at a specific part of an opponent's body, 
      hoping to inflict a debilitating injury rather then just going for the kill. 
      <13>Not implemented yet.<2>\n
      __<11>Charge:<3> You run in a straight line, accumulating plusses to hit and 
      damage due to momentum as you move. See below for more information.\n 
      __<11>Charge, Automatic:<3> As <11>Charge<3> above, but whenever you
      change directions you automatically start charging in the new direction if
      an enemy is visible that way (the <11>Ride-by-Attack<3> feat helps here). You 
      will not be asked confirmation questions about breaking off charges and
      starting new ones. This option is handy, but dangerous, for mounted combatants.\n
      __<11>Coup de Grace:<3> You deliver a killing blow to a paralyzed or sleeping 
      living humanoid opponent within 10 feet of you. The attack is an automatic critical, 
      and even if the foe survives the damage they must make a Fortitude save (DC 10 + 
      half of the damage dealt) or die anyway. Performing a Coup de Grace  provokes 
      attacks of opportunity from every non-paralyzed or sleeping enemy within 1 square.\n
      __<11>Disarm:<3> You cause an opponent to lose their  weapon. An opposed attack 
      roll is made, modified by both Strength and Dexterity, as well as +/- 4 for weapon 
      size differences, and using the weapon's parry modifier instead of its accuracy. 
      Success causes the opponent to lose their weapon; failure means they are allowed 
      to make an immediate Disarm attempt against you, without it costing them an action. 
      A Disarm attempt normally provokes an attack of opportunity.\n
      __<11>Fight Defensively:<3> By devoting your full attention to defense, you can 
      gain a +4 circumstance bonus to your defense class  at the expense of suffering a -4 
      circumstance penalty to attack rolls,  -2 to damage, 75~ normal movement rate and a 
      -20% spell success chance.  Once fighting defensively, you can stop by using the 
      'x' command.\n
      __<11>Grapple:<3> You grab your opponent and initiate a grapple with him. Grappling 
      is resolved with grapple checks, which are opposed contests of Brawl attack bonus 
      plus Strength modifier plus or minus 4 for every divergence in size category, 
      favoring the larger character. To begin grappling, however, you must hit your
      target's DC as per a normal attack. Initiating a grapple provokes an attack of 
      opportunity from your target.\n
      __<11>Great Blow:<3> You execute a titanically powerful blow with your weapon, 
      allowing you to double your Strength modifier to attack and damage, and lowering 
      the threat range of your attack by 3 (i.e., 19-20 becomes 16-20). However, a 
      great blow takes 1 1/2 times as long as a normal attack, costs two Fatigue points 
      and leaves you off-balance and Exposed for a full round after you finish it.\n
      __<11>Sprint:<3> You put on a desperate burst of speed, and increase you movement 
      rate by 50% for [1 + Constitution modifier] rounds (minimum 1) at the cost of two 
      fatigue points. Since you are running full out, Sprint also decreases your defense 
      class by two.\n
      __<11>Sunder Weapon:<3> You strike an opponent's weapon (or, at your option, any 
      unattended object) and attempt to damage or destroy it. This provokes an attack 
      of opportunity from the person using the weapon. Weapons with a magical plus can
      not be destroyed by any weapon with a lower magical plus then their own.\n
      __<11>Throw:<3> You throw an enemy you are grappling with already one or more 
      squares away from you. You must succeed in a grapple check against them, and this 
      action ends the grapple. You inflict your normal unarmed damage value in subdual 
      damage, plus one point per square the enemy is thrown.\n
      __<11>Trip:<3> You attempt to knock an opponent prone. You must first make a 
      successful attack roll against his DC, and then you make a Strength check opposed 
      by his Strength or Dexterity,  whichever favors him more. Success knocks the target 
      prone. Failure allows the target to make an immediate, free attempt to trip you in
      return. Some weapons grant a bonus to trip attempts, such as the quarterstaff.\n
      __Note that if you have them, the Spring Attack and Whirlwind Attack feats
      also appear on this menu.

      \n<11>
      \nTWO-WEAPON COMBAT {2W}\n
      =================<3>\n
      __Characters in Incursion can fight with two weapons at once. To do this, wield
      one weapon in your ready hand slot and the other in your weapon slot; you'll then
      automatically fight in two-weapon style. This means that you get to make one
      attack with each weapon, using up total segments equal to a single attack with
      whichever weapon in slower plus half the segments of a single attack with the
      faster weapon. However, you also suffer penalties to the attack rolls with each 
      hand, starting at -4 / -6. These penalties are reduced, however,
      by taking the Two-Weapon Style and Ambidexterity feats, and if the weapon in your
      offhand is one or more size categories smaller then the weapon in your primary
      hand.\n

      \n<11>
      \nMOUNTED COMBAT {MC}\n
      ==============<3>\n
      __Incursion allows characters to ride horses and stranger creatures, gaining
      a combat advantage by so doing. A creature must be allied to be a suitable
      mount; to mount a creature, select the Mount verb from the Yuse ('y') command
      menu. Characters built around mounted combat might find it beneficial to bind
      a Quick Key to this verb. The Dismount command is also found on the Yuse menu,
      or you can dismount using the Cancel ('x') command\n
      __Some weapons (e.g., the heavy lance and great lance) cannot be used unless
      mounted (or unless you are really huge). Paladins start with mounts and 
      eventually gain sacred mounts. Mages can summon them with, for example, the 1st
      level spell 'Mount'. Druids can eventually summon animal companions that will 
      serve as mounts. A very handy (and very dangerous) command for mounted players 
      is the 'Charge, Automatic' command in the Combat Options menu. The Mounted Combat 
      feat tree allows characters to make the best use of their mount in combat.\n
      __Casting a spell with somatic gestures while mounted requires 15 phases extra,
      since the character must control her mount. This does not apply if the spell
      is Stilled, or the character has a Balance skill of 20+.\n\n 

      <11>Mounts and Terrain<3>\n
      __Difficult terrain will pay attention to whether you are mounted or not. If
      you are mounted, your mount makes the balance check on grease or ice. Your
      mount takes the fire damage from brimstone. If your mount has the Woodland
      Stride ability, it carries you through safely even if you don't. Note that
      some magical items (e.g., girdles of the inferno) specifically say that
      they protect both you and your mount. If your mount is a paladin's sacred
      mount or a ranger or druid's animal companion, spells you cast on yourself
      (e.g., resist fire, resist water) will also affect it, which may make some
      terrain easier.\n
      __If you would be knocked prone while you are mounted, you can made a Ride
      skill check (DC 20) to keep steady on your mount. Otherwise you fall off. 
      If your mount would be knocked prone while you are mounted, you can make a
      Ride check (DC 40) to keep your mount from falling. Otherwise you also fall
      off.\n
      __Deep (or turbulent) water is the only truly complicated case. Both of you
      have to survive the water somehow. If you are OK with water but your mount
      is not (e.g., lizardfolk riding a horse), your mount will still need swim
      checks and may drown out from under you. If your mount does not need to
      breathe air but you do (e.g., human riding a giant shark), you can still
      drown. If you both don't care about the water, however, everything is fine
      (e.g., graveborn necromancer riding a zombie warhorse).  Finally, if your
      mount carries you completely above the water (e.g., because it is flying or
      has water-walking) then you don't even need to make the swim checks and
      will not drown.\n\n

      <11>CHARGING {CH}\n
          ========<3>
      __Characters can charge in combat using the Combat Options panel,
      allowing them to inflict greater damage as a result of gained
      momentum. Some weapons double or triple the damage bonus that 
      charging grants, and being mounted also increases the effect. You can
      only charge if you have a visible opponent in the direction you wish
      to charge in -- you can't charge at hypothetical enemies.\n
      __As you charge, you accumulate a Charge Bonus shown at the bottom of
      the screen in the Status Window. This bonus increases the more squares
      you charge. When you make an attack at the end of a charge, you will
      recieve a flat +2 bonus to hit; if you do hit, this charge bonus will
      be added to your damage.\n
      __While charging, you can only move in the direction you started the
      charge in and the two directions immediately next to that direction
      -- for example, if you charge north, you can only move north, northeast
      or northwest; any other direction will cause you to break off the
      charge and lose any existing charge bonus.\n
      __While you are charging you move at 150~ of your normal rate, but suffer
      a -2 penalty to Defense. You can Charge and Sprint at the same time, but
      thde higher Sprint movement bonus replaces the Charge movement bonus rather 
      than stacking with it. You are considered to be exposed while charging, and 
      for one turn thereafter.\n
      __As you charge, you accumulate a damage bonus determined by your movement 
      rate and the combined mass of you and your mount. The bonus per set is
      calculated internally from a table inside the game, and ca become quite
      substantial with a long charge on a heavy, fast mount.\n
      __While you are charging you do not get to make attacks of opportunity. You
      are denied your dexterity bonus to your defense class. You are subject to
      sneak attacks as if you were flat footed or flanked. After your first step,
      every step you take while charging provokes an attack of opportunity
      (movement) from all nearby foes. If you attempt mounted archery, your
      penalty is doubled while charging.\n 
      __If you have the Power Charge feat, your threat range is increased by
      one third of your charge bonus. If you hit with a lance, spear or polearm
      while charging you do double damage. If you have the Spirited Charge feat
      and you are mounted, you do triple damage instead (or double damage with a
      non-lance). On one in four successful hits, your weapon takes blunt damage 
      equal to your charge bonus.\n
      __Notably, this means that if you charge with a non-magical (or even weakly
      magical) lance it will eventually break. Read up on actual jousting if this
      seems unrealistic to you. Realism aside, the game balance reason is that
      charging is quite powerful, especially at low levels, and should not be
      undertaken lightly or used constantly. That said, the 'Charge, Automatic'
      option in the Combat Options menu makes it much easier.\n 
      __Closing with an opponent that has a reach weapon normally requires a Reflex
      save. If you are charging, you generally close automatically. However, if
      when you close with something while charging that thing gets a free attack
      of opportunity (movement) against you. If you take any damage in that
      attack you must DC 30 Reflex save to avoid tripping. If any part of this
      stops you from charging, you fail to close.\n
      __An opponent making a movement-based attack of opportunity against you while
      you are charging also adds your charge bonus to damage against you (and
      deals double damage with an appropriate weapon) -- momentum is symmetric.
      The Guarded Stance feat provides bonuses in this area. Charging into a set
      of braced polearms is not a good idea.\n\n
      
      <11>WEAPON TABLE {WT}\n
          ============<3>\n
      __The following table summarizes the traits of the various weapons found in
      Incursion. Type specifies the type of damage inflicted; [S]lashing, [P]iercing
      or [B]lunt; weapons that can inflict multiple types of damage are always
      treated as inflicting the most favorable type. SDmg is the base damage against
      creatures of Medium size or smaller; LDmg is the damage against Large or larger
      creatures. Acc is a modifier to the attack roll, while Parry is a modifier to
      the wielder's Def against attacks made with slashing weapons. Speed is a percentile
      multiple to attack speed, while Threat specifies what range must be rolled on an
      attack roll naturally before any modifiers to score a threat. Crit is the damage
      multiplier on critical hits. Traits specifies any special qualities possessed
      by the weapon. Exotic weapons are marked with an asterisk.\n
      <weapon table>\n\n
      <11>Weapon Saving Throws<3>\n
      __Some weapons have special effects that occur on a failed saving throw, such as
      stunning. The formula for calculating a weapon's saving throw DC is 10 + half the
      wielder's melee BAB, plus either the wielder's Strength modifier (knockdown,
      stunning) or Dexterity modifier (entangling, reach closing DC). The entangle DC
      also adds the weapon's Acc modifier, closing DC adds the weapon's Parry modifier
      and stun or knockdown add a custom modifier based on the weapon's size or weight.
      Characters not proficient with the weapon have a -4 penalty to this save DC,
      while weapon focus, specialization, mastery, high mastery and grand mastery
      each increase the DC by +2, culmulatively.";
}

Text "help::magic"
{ "<15>======================\n
         = MAGIC IN INCURSION =\n
         ======================\n<3>
         -- {LE} Learning Spells\n
         -- {SM} The Spell Manager\n
         -- {MA} Mana\n
         -- {ME} Metamagic\n
         -- {SC} Schools of Magic\n
         --______{AB} Abjuration\n
         --______{AR} Arcana\n
         --______{DI} Divination\n
         --______{EN} Enchantment\n
         --______{EV} Evocation\n
         --______{IL} Illusion\n
         --______{NE} Necromancy\n
         --______{TH} Thaumaturgy\n
         --______{WE} Weavecraft\n
         -- {MU} Multiclass Spellcasters\n
         -- {IT} Using Magical Items\n
         -- {AL:arcane spells} Arcane Spell List\n
         -- {TL:divine spells} Theurgic Spell List\n
         -- {DL:druid spells} Druidic Spell List\n
         -- {MM:mainmenu} Return to the Main Help Menu\n\n

     <11>LEARNING SPELLS {LE}\n
     ===============<3>\n
     __You can learn spells by typing 'L' on the character
     sheet screen. This brings up a menu with all the possible spells you could
     learn at the moment; for clerics and druids, this is every unlearned spell
     of a level for which you currently have a free spell slot. For wizards, however,
     this list shows only the spells that you have a spellbook for somewhere in your
     inventory. If, after surveying the list, you don't find a spell you want, you
     can press [ESC] to cancel the menu and not learn any spell.\n\n
  
     <11>THE SPELL MANAGER AND SPELLCASTING {SM}\n
     ==================================<3>\n     
     __Pressing 'm' on the main gameplay screen brings up the spell manager
     window (assuming that the character knows at least one spell). This
     lists every spell known to the character at present, along with a brief
     description of the currently selected spell. The names of bonus spells
     granted by domains are shown in purple, while the names of all the other
     spells are grey.  The list can be scrolled through using the arrow keys, 
     and pressing either [ENTER] or the letter in the box causes the spell
     selected to be cast. Pressing [ESC] causes the spell manager window to
     vanish without casting a spell.\n
     __<11>Metamagic:<3> You can toggle the on/off state of any metamagic feat
     you have learned with regard to a single spell by typing the capital
     letter shown associated with it in the legend at the bottom of the spell
     manager window. The game remembers which metamagic feats you have turned
     on for any given spell between castings, so if you turn on Maximize Spell
     for a <9>fireball<3>, you need to turn it back off again on your next 
     casting if you don't want it. The total number of metamagic levels
     currently associated with a given spell are shown in square brackets beside
     the feat list, and the spell success rate is recalculated dynamically as
     you add or remove metamagic feats, to help you decide if you want to cast
     the spell that way or not.\n
     __<11>Spellkeys:<3> By pressing a number key (0-9) while a given spell is
     selected, you can assign that key to the spell in question as a keyboard
     shortcut. Then, on the main game panel you can press that key to cast the
     spell in question at any time without needing to bring up the spell manager
     first. The letter in the box beside the spell will change to a number to
     confirm the assignment of the spellkey.\n
     __<11>Casting Requisites:<3> In order to cast a spell, some classes need to
     have a certain item. Mages must have a spellbook that contains the spell in
     question somewhere in their inventory, while priests must have their holy
     symbol equipped in their amulet slot in order to cast spells. In addition,
     a caster must have one hand free in order to perform the somatic components
     of spellcasting, and since spells also have verbal incantations, they cannot
     be cast in areas of magical silence. These requirements can be negated by
     using the Inherent Spell, Still Spell and Vocalize Spell feats respectively.\n
     __<11>Spell Success Rate:<3> All spells have a base chance of succeeding
     when cast; this value is usually somewhere between 70~ and 90~. This value
     is adjusted by +/-5~ for every point of your primary Intelligence modifier,
     and +2~ for every caster level you have above the minimum caster level required
     to cast the given spell. The spell success chance for arcane spells is heavily
     penalized by wearing armor, and conditions that make it difficult to concentrate
     (such as being grappled, or being inside the area of effect of an <9>insect plague<3>
     spell) penalize spellcasting of all types.\n
     __If the final chance of spell success is above 90~, it is adjusted downward.
     Every 10~ above 90~ becomes an additional +1~ chance of spell success, so a
     spell with a calculated 130~ chance of succeeding would be adjusted down to
     have a success rate of 94~. No spell can ever have a success rate above 98~,
     regardless.\n\n
     
     <11>MANA {MA}\n
     ====<3>\n
     __Incursion differs from its parent system (but hews to roguelike convention)
     in that spells are cast by spending mana -- a form of magical energy -- rather
     than depending on spell preparation and spells per day. Mana is measured in a
     manner similar to hit points, with a permanent maximum and a current total.
     Characters gain new mana every level; mages also begin with a magical item that
     increases the size of their maximum mana pool, because they have to depend on
     spellcasting more than other character types. Casting spells, using innate
     spell-like abilities and blasting wands all consume a character's mana supply.
     Every spell has a mana cost associated with it, and most characters simply pay
     that cost whenever they cast that spell. Mages, however, find the mana cost of
     spells adjusted by their specialty school modifiers, as described under Schools
     of Magic, below.\n
     __Mana normally replenishes fully when characters rest for the night. Further,
     mana may regenerate slowly over time. If a character's mana pool is half or
     more empty, it will not regenerate at all until she rests. If it is more than
     half full, however, the character will regain mana over time at a speed based 
     on the proportion of her total mana she has spent. In other words, a character
     down only a little mana will recover quickly, whereas one down more will take
     exponentially longer to recover. The AutoRest macro can be used to rest until
     mana is recovered safety -- holding down the Rest key risks being attacked by
     surprise and being unable to respond, resulting in seemingly random death.\n
     __Some spells, such as <9>resist fire<3> and <9>bull's strength<3>, offer
     protection or enhancement that lasts a full day. Mana spent on these spells
     is referred to as <11>held mana<3> and never regenerates, and the character's 
     total pool is counted as being that many points lower for determining if and 
     how quickly a character regenerates mana. For example, if a character with 100 
     mana spends thirty points on self-enhancement spells, she can spend another 35 
     mana points on attack or miscellaneous spells before her pool reaches the point 
     it will no longer regenerate, because her total mana pool not counting held 
     mana is 70. On the mana bar in the traits window, held mana is shown in brown.
     \n\n

     <11>METAMAGIC {ME}\n
     =========<3>\n
     __Metamagic allows the hero to modify the effects of spells that she casts. The
     first step to using metamagic is to learn one or more of the metamagic feats.
     All of the metamagic feats end in 'Spell' (Maximize Spell, Still Spell, Warp
     Spell, etc.), so they are easy to recognize in the feat list. Every metamagic
     feat added to a spell costs a certain number of metamagic levels, as shown on 
     the table below. Metamagic levels stack for multiple feats, and have the
     following effects:\n
     __<7>*<3>_Every metamagic level a spell has attached to it costs the caster 
     one fatigue point whenever the spell is cast.\n
     __<7>*<3>_The spell success rate for a given spell is decreased by 10~ for every
     metamagic level placed on it. This is done before the adjustment for spell
     success rates above 90~ is made, so a spell that shows a 94~ spell success
     rate in the spell manager window can afford to have 4 metamagic levels attached
     to it without dropping the adjusted success rate below 90~.\n
     __<7>*<3>_The mana cost for casting a spell increases by 50~ or 3 points,
     whichever is higher, for every metamagic level attached to the spell.\n
     __High rating in the Metamagic skill can reduce the mana increase and the fatigue
     cost of metamagicked spells. The number of metamagic levels that each feat adds
     are shown in the following table:<15>
     \n__Metamagic Feat_________Lev__Metamagic Feat_________Lev<1>
     \n__Amplify Spell___________2___Inherant Spell__________1
     \n__Augment Summoning_______2___Maximize Spell__________3
     \n__Bind Spell______________1___Persistant Spell________3
     \n__Consecrate Spell________2___Project Spell___________2
     \n__Control Spell___________3___Quicken Spell___________4
     \n__Defensive Spell_________2___Repeat Spell____________3
     \n__Discerning Spell________2___Still Spell_____________1
     \n__Empower Spell___________2___Sure Spell______________2
     \n__Enlarge Spell___________1___Transmute Spell_________1
     \n__Extend Spell____________1___Unseen Spell____________2
     \n__Focus Spell_____________1___Vile Spell______________2
     \n__Fortify Spell___________1___Vocalize Spell__________1
     \n__Heighten Spell__________2___Warp Spell______________2
    \n\n 
    
    <15>Schools of Magic {SC}\n
    ================\n
    <3>__Arcane magic in Incursion is grouped into nine schools, of which a
    mage character may choose to specialize in one. Every school choice
    makes for a mage with a distinctly different flavor.\n\n

    <11>Spell Failure Modifiers\n
    =======================\n
    <3>__Each specialist type has a distinct set of modifiers toward
    casting spells from different schools; of course, the best value
    always rests in the school that the specialist chose as his primary
    school. These modifiers are as follows:<15>

    \n____________Abj__Arc__Div__Enc__Evo__Ill__Nec__Tha__Wea__
    \n<7>Abjurer_____<1>+25~_+15~_+15~_---__-10~_---__-30~_-15~_+10~_
    \n<7>Arcanist____<1>---__+25~_+10~_---__---__+10~_---__---__+10~_
    \n<7>Diviner_____<1>---__+10~_+25~_---__-15~_-10~_---__---__---__
    \n<7>Enchanter___<1>+15~_-10~_---__+25~_-15~_+10~_---__+10~_---__
    \n<7>Evoker______<1>+10~_---__-20~_-15~_+25~_-20~_-15~_+5~__---__
    \n<7>Illusionist_<1>---__+20~_+10~_+10~_-25~_+25~_-15~_-10~_+15~_
    \n<7>Necromancer_<1>-10~_---__+15~_-10~_---__-20~_+25~_+15~_---__
    \n<7>Thaumaturge_<1>+5~__---__-10~_+10~_-10~_-15~_+15~_+25~_+5~__
    \n<7>Weaver______<1>+15~_+10~_+10~_-10~_---__---__-15~_-15~_+25~_
    \n\n__<3>In addition to affecting the spell success chance, the school
    modifiers have two other impacts on casting. A positive modifier
    decreases the mana cost by 5~ for every 5~ of the modifier, but a
    negative modifier increases the mana cost by <11>50~<3> for every
    five percent of the modifier. Thus, a Thaumaturge suffers doubled
    mana costs when casting Illusion spells. Furthermore, a negative
    school modifier acts as a percentile chance that casting the spell
    in question will be draining, costing the caster a point of fatigue
    in the process of casting.
    
    \n\n
    <11>Abjuration<3> {AB}\n
    __This school focuses on protection, banishment and warding. Its a
    good specialty for those who want a highly defensive, cautious style
    of play. High-level Abjurers tend to be nearly impossible to harm,
    but lack the powerful offensive and miscellanea spells that other
    mages typically have. Abjurers are often also called White Wizards,
    given the benevolent nature of their magic, and are the most trusted
    of mages by the common people. Spells which best represent the nature 
    of this school include <9>dispel magic<3>, <9>resist fire<3>, 
    <9>banishment<3> and <9>globe of invulnerability<3>.\n
    __Abjurers are also strong in the schools of Weavecraft, Divination
    and Arcana, but are weaker than average wielding spells of Evocation,
    Necromancy and Thaumaturgy.\n
    __<11>Specialist Bonus:<3> Abjurers gain a +1 insight bonus to all
    three of their saving throws at 4th, 8th, 12th, 16th and 20th levels.
    Additionally, because of the defensive and protective nature of their
    magic, Abjurers recieve access to several spells from the priest spell
    list: <9>sanctuary<3>, <9>detect evil<3>, <9>shield other<3>, <9>glyph
    of warding<3>, <9>remove curse<3> (as a 3rd-level spell), <9>negative
    plane protection<3>, <9>death ward<3>, <9>free action<3>, <9>spell
    immunity<3>, <9>magic resistance<3>, <9>dispel evil<3>, <9>antilife
    shell<3> and <9>glyph of warding, greater<3>. They cast these spells
    as arcane spells, recieving a special spellbook containing them at the
    beginning of the game.\n\n

    <11>Arcana<3> {AR}\n
    __Certainly the most diverse of the nine schools, Arcana concerns
    those spells which manipulate the environment or change the parameters
    of a situation indirectly. Arcana spells are rarely powerful
    per se, but they are highly useful; Arcanists are the generalists
    of the mage world, with a number of unusual tricks up their sleeves.
    Archetypical Arcana spells include <9>wall of fog<3>, <9>web<3>, 
    <9>animate objects<3> and <9>major creation<3>.\n
    __Arcanists are also mildly above average performing spells from
    the schools of Illusion, Divination and Weavecraft, but their
    greatest edge is that they are not <11>below<3> average in any of the
    schools at all!\n
    __<11>Specialist Bonus:<3> The strength of the Arcanist is not power
    but diversity. Arcanists are competant with every school, having no
    negative modifiers on the spell chart.\n\n   

    <11>Divination<3> {DI}\n
    __Divination spells reveal information to the caster -- they can be
    very difficult to base a character around, but can make the game
    much, much easier in many places. A Diviner is able to track down
    powerful magic items, avoid encounters she feels she can't win, and
    mystically discern what form of attacks will be the most effective
    against any given threat. Typical spells include <9>detect monsters<3>,
    <9>perception<3>, <9>clairvoyance<3> and <9>true seeing<3>.\n
    __Diviners also excel at spells of Weavecraft, Arcana and Thaumaturgy, 
    but are mediocre when handling Evocations and Illusions.\n
    __<11>Specialist Bonus:<3> Drawn from the ranks of sages and scholars,
    Diviners recieve three extra skill points at every mage level, and gain
    a +1 insight bonus to Intelligence at 4th, 8th, 12th, 16th and 20th
    levels. They gain access to the spell <9>detect monsters<3> as a 2nd,
    not 3rd, level spell. (Once more priestly Divinations are implemented, the
    Diviners will also have access to spells like <9>augury<3> and of course
    <9>divination<3>, just like Abjurers do now.)\n\n

    <11>Enchantment<3> {EN}\n
    __These spells imbue a target's internal nature with magic -- either
    they affect a living target's mind, or they imbue an object (typically
    a weapon) with purely magical properties, without changing its
    physical nature. An Enchanter is very effective in turning enemies
    into allies, boosting his weapons and convincing others to fight
    for his cause, but is in grave danger when facing undead and mindless
    creatures. Typical spells include <9>charm person<3>, <9>hold monster<3>, 
    <9>minor malison<3> and <9>eyebite<3>.\n
    __Enchanters find that Illusion, Thaumaturgy and Abjuration are
    natural compliments to their chosen school, but lack skill with the
    more blunt magics of Evocation and Arcana.\n
    __<11>Specialist Bonus:<3> Enchanters gain the Beguiling Magic ability,
    which allows them to add their primary Charisma modifier to the save DC
    of their mind-affecting spells. They also gain Diplomacy as a bonus
    class skill, allowing them to convince creatures they charm into doing
    things to serve their agenda.\n
    __Enchanters also have access to the priest spell <9>enthrall<3>, which
    they cast as arcane magic.\n\n

    <11>Evocation<3> {EV}\n
    __Wanna blow stuff up? This is the school for you, and because it
    has the most powerful offensive spells in the game, it grants a very
    straightforward playing style, making it a good choice for players
    new to Incursion. Evocations manipulate or create energy and natural
    forces; infamous Evocation spells include <9>magic missile<3>, <9>fireball<3>,
    <9>wall of force<3> and <9>shield<3>.\n
    __Evokers find the subtler magics of Divination, Illusion, Necromancy
    and Enchantment difficult to manage, but are very comfortable with
    the powerful and direct spells of Abjuration and Thaumaturgy.\n
    __<11>Specialist Ability:<3> Evokers channel raw magical energies
    through their bodies far more frequently then other mages, relying
    on draining metamagic feats like Empower, Quicken and Maximize. To
    support this penchant, their maximum total Fatigue Points increases
    by one every even mage level.\n\n

    <11>Illusion<3> {IL}\n
    __Illusion magic is indirect and deceptive, creating images of things
    that aren't real and, at the higher levels of power, weaving shadow
    matter into quasi-real constructs of will. Illusionists are similar to
    Weavers in that they fight indirectly, relying on keeping their enemy
    occupied at a distance. The illusionist gains some very powerful
    miscellanea spells, but lacks the direct power of the evoker or the
    necromancer. Its a choice best suited to a patient and tactical
    player. Spells typical of the Illusion school include <9>invisibility<3>,
    <9>phantasmal force<3> and <9>shadow monsters<3>.\n
    __Illusionists excel at Weavecraft, Divination, Arcana and Enchantment, 
    but are weaker in the schools of Evocation, Necromancy and Thaumaturgy.\n
    __<11>Specialist Ability:<3> To complement their penchant for trickery and
    ability to utilize <9>invisibility<3>, Illusionists recieve Bluff, Move
    Silently, Pick Pockets and Disguise as bonus mage class skills. They also
    receive a +1 competence bonus to the Illusioncraft skill every even mage
    level.\n\n

    <11>Necromancy<3> {NE}\n
    __Long viewed as the darkest of the schools, this profane art relates
    to the manipulation of negative energy -- the causes and effects of
    death, and the creation of undead. Necromancers are widely feared, but
    they are also tremendously useful -- much of the manual labor on Therya
    is performed by raised undead, no matter how much the Church of Immotian
    might protest. Thus, like the mortician that came before him, the 
    Necromancer is a scorned but nonetheless essential element of modern 
    society. Spells typical of the school of Necromancy include <9>chill touch<3>,
    <9>horrid wilting<3> and of course, <9>animate dead<3>.\n
    __Necromancers are strong in Thaumaturgy and Divination, and weaker only
    in Enchantment, Illusion and Abjuration.\n
    __<11>Specialist Bonus:<3> Necromancers recieve a bonus pool of hit dice
    worth of created undead they can control that do not count toward the
    normal maximum of summoned/charmed/animated/etc. creatures a mage may
    have under his control before they start to break free. Necromancers
    also recieve a +1 bonus to save vs. death magic at every 3rd level, gain
    a +2 bonus to save vs. fear at 1st level (due to the exceptionally...
    grim situations they are exposed to and treat Poison Use as a bonus 
    class skill.\n
    __Finally, Necromancers gain access to certain signature spells at
    lower levels than other mages: <9>animate dead<3> as a 3rd level
    spell, <9>create corporeal undead<3> at 5th and <9>create spectral
    undead<3> at 6th.\n\n

    <11>Thaumaturgy<3> {TH}\n
    __Thaumaturgy is magic that alters the composition or properties of 
    living creatures. Because so many of its spells focus on physical
    self-empowerment, it makes an ideal specialization for multi-classed
    Warrior-Mages. Spells typical of the school include <9>bull's strength<3>,
    <9>polymorph self<3>, <9>enlarge<3> and <9>Tenser's transformation<3>.\n
    __Thaumaturges are also skilled with the schools of Abjuration, Enchantment,
    Weavecraft and Necromancy, but find the magics of Evocation, Illusion and
    Divination more difficult to grasp.\n
    __<11>Specialist Bonus:<3> Thaumaturges embrace life in all its splendour,
    shattering the stereotype of the mage as an ivory tower academic. Their
    penchant for physical combat and hardier lifestyle give them 1d8 hit points
    every mage level instead of 1d4. Furthermore, they are proficient with all
    light weapons, instead of the normal, more limited choices available to
    mages.\n\n

    <11>Weavecraft<3> {WE}\n
    __Weavecraft spells deal with distance, location and the innate nature
    of magic; they can summon creatures or augment other spells. The school
    lends itself to a 'cheap tricks' style of play, so players may choose
    or avoid it based on whether they prefer such to a more normal game.
    Definitive spells include <9>monster summoning<3> (any one), <9>teleport<3>, 
    <9>rope trick<3> and <9>contingency<3>.\n
    __Weavers are strong with Abjuration, Arcana and Divination, but not 
    as skilled using Enchantment, Necromancy or Thaumaturgy.\n
    __<11>Specialist Bonus:<3> Weavers are able to control their destination
    when they cast teleportation spells like <9>phase door<3>, <9>dimension
    door<3> or <9>teleport<3>, just as if they had used the Control Magic
    feat.\n\n
    
    
    <15>Multiclass Spellcasters {MU}\n
    =======================\n    
    __<3>Incursion handles multiclass spellcasters in a somewhat more nuanced
    way than its parent game system. To single-classed mages, clerics or druids,
    these differences are effectively invisible, but when playing a spellcaster
    with more than one class, understanding how to use them effectively becomes
    very important. To understand this, it's important to distinguish between
    the following two concepts -- the difference is imperceptable to single-
    classed spellcasters, but significant to multiclassed ones.\n
    __<15>Caster Levels:<3> A caster level represents one stage of skill in
    spellcasting, abstract of any specific kind of spellcasting (such as bardic
    magic, paladin magic, etc.) Different classes gain caster levels at a
    different rate -- a mage gains one caster level for every mage level,
    while a paladin gains one caster level for every even paladin level
    starting at 4th. Caster levels, once gained, are independant of whatever
    class they were gained from, and caster levels from different classes
    always stack. Thus, for example, a mage 5 / paladin 4 has six total
    caster levels; 5 from mage and one from paladin. The Intensive Study
    feat can be used to gain more caster levels in some circumstances.\n
    __Caster levels determine two things: the power of a caster's spells
    and the spell slots she has access to. For example, the spell <9>fireball<3>
    inflicts 1d6 points of damage per caster level -- thus, the mage/paladin
    example above would be able to throw a <9>fireball<3> inflicting 6d6
    points of damage (saving throw abiding, of course). Caster levels also
    affect most spells' range and duration. Secondly, caster levels determine
    the number of spell slots characters have which they can spend to learn
    spells. The following chart shows how many spell slots for every spell
    level a character with a given number of caster levels has access to:\n
    <15>__Caster________Spell Slots By Level\n
        __Levels_________1_2_3_4_5_6_7_8_9__\n
     <1>____1____________1_-_-_-_-_-_-_-_-\n
        ____2____________2_-_-_-_-_-_-_-_-\n
        ____3____________2_1_-_-_-_-_-_-_-\n
        ____4____________3_2_-_-_-_-_-_-_-\n
        ____5____________3_2_1_-_-_-_-_-_-\n
        ____6____________4_3_2_-_-_-_-_-_-\n
        ____7____________5_4_3_1_-_-_-_-_-\n
        ____8____________6_5_3_2_-_-_-_-_-\n
        ____9____________6_6_3_3_1_-_-_-_-\n
        ____10___________7_6_4_3_2_-_-_-_-\n
        ____11___________7_7_5_4_3_-_-_-_-\n
        ____12___________7_7_5_4_4_1_-_-_-\n
        ____13___________8_8_6_5_4_2_-_-_-\n
        ____14___________8_8_6_6_5_3_1_-_-\n
        ____15___________8_8_7_6_5_4_2_-_-\n
        ____16___________8_8_7_7_6_5_3_1_-\n
        ____17___________8_8_8_7_7_6_4_2_-\n
        ____18___________8_8_8_8_7_7_5_4_1\n
        ____19___________8_8_8_8_8_7_6_4_2\n
        ____20___________8_8_8_8_8_8_7_6_4\n
    __<3>This table is modified by bonus slots gained from Intelligence and
    other factors, and does not include bones slots gained from the Mage
    Magical Diversity class feature or the free domain spells clerics gain.
    Regardless of Intelligence, however, note that no character can begin
    casting spells of a given level until they have enough caster levels to
    gain their first slot for that spell level on the above chart -- thus,
    for example, no character can cast 4th level spells until they have
    accumulated 7 caster levels from any combination of classes.\n
    __<15>Spell Access:<3> Distinct from the concept of caster levels is
    the idea of spell access, though because spell access usually advances
    faster than caster levels this distinction is normally imperceptable to
    single-class casters. While caster levels are uniform -- the same no
    matter what class they are gained from -- spell access is specific to
    a given class. Paladin magic is different from bardic magic; every class
    has associated with it a list of spells that its members gain access to.
    Paladins have spells associated with righteous might, bards with knowledge,
    trickery and social influence, clerics with protection and community, and
    so forth. A single spell's level can vary on different spell lists -- for
    example, <9>call light<3> is a first-level priest spell and a second-level
    mage spell.\n
    __Mages are a special case -- because their spell list is so huge and broad,
    and represents such a major element of their class abilities, it is broken
    up into to parts to determine spell access. Mages gain access to all the
    spells from their specialty school at a mage class level equal to the level
    of the spell in question. They then gain access to all the rest of their
    spells at the mage class level that equals the caster level when they first
    gain a slot for a spell of that level. Thus, a 5th-level Thaumaturge has
    access to all first through fifth-level Thaumaturgy spells as well as all
    other 1st, 2nd and 3rd-level arcane spells.\n
    __Bards, clerics and druids gain access to the spells on their class spell 
    lists at a rate of one spell level per class level; this is basically the
    standard approach, and applies to most prestige classes with their own spell
    list as well. Thus, a fifth-level druid has access to all first through
    fifth level druid spells, even though a <11>single-classed<3> fifth-level
    druid will only have the spell slots to learn spells from the first through
    third spell levels. The 'minor casters' - paladins and rangers - gain access
    to their spell lists at a rate of one spell level per class level starting at
    third level -- so a fifth level ranger has access to 1st, 2nd and 3rd-level
    ranger spells, despite only having enough caster levels from ranger to be
    able to cast 1st-level spells.\n
    __In addition to determining what spells a character can place in her spell
    slots, spell access determines what restrictions a character has on casting
    those spells. For example, clerics must have a holy symbol to cast a spell,
    but can cast spells in armor, while mages suffer severe penalties for casting
    spells in armor, have their success chances adjusted by specialist modifiers
    and must possess a spellbook with the spell in it to cast it. So consider the
    cast of a priest 1/mage 1 who knows <9>chromatic orb<3>, <9>bless<3> and
    <9>magic weapon<3>. <9>Chromatic orb<3> is a mage spell, so she must have a spellbook
    to cast it, gains the specialist modifier regardless of whether it's good or
    bad and suffers penalties to her casting if she does it in armor. When she
    casts <9>bless<3>, however, she gains no specialist bonus or penalty, is
    able to cast freely in armor and needs a holy symbol.\n
    __<9>Magic weapon<3> is an odd case, since it is on both the mage and priest
    spell lists as a 1st-level spell. When this is the case, the caster gains
    the best of both (or all) worlds -- she can cast the spell in armor without
    penalty, gains either her mage specialist modifier or a 0~ modifier (whichever
    favors her more) and can choose to use either a spellbook or a holy symbol as
    her focus for the spell.\n\n
    
    <15>Practical Examples<3>\n
    __Consider the following characters to illustrate how multi-class spellcasters
    function in practice in Incursion.\n
    __<11>Dominus, Mage (Necromancer) 3 / Priest 4:<3> Dominus has 7 caster levels,
    so according to the chart above he knows 5 1st level spells, 4 2nd leve, 3 3rd
    level and 1 4th level. Since his level as a priest is 4th, he has access to the
    priest spell list up to 4th level. As a 3rd-level mage, he has access to all
    arcane Necromancy spells up to 3rd spell level, as well as all other arcane
    spells up to 2nd level (because a 3rd-level single class mage could cast only
    1st and 2nd level spells). Therefore, he chooses his 1st and 2nd level spells
    from the full combined mage and priest lists, and he can choose his 3rd-level
    spells from both the mage Necromancy spells or any priest spells. His single
    4th-level spell must be chosen from the priest list, however, unless he wants
    to save the slot until he goes up another level as a mage, in which case he
    could also place a 4th-level Necromantic mage spell in that level.\n
    __Despite this tremendous flexibility, however, Dominus certainly does pay a
    price for his multiclassing -- it's important to remember that class features
    are determined only by class level, not by caster level or character level. So,
    Dominus only has the ability to cast 1st and 2nd level domain spells -- he'll
    gain third-level domain spells when he takes his 5th priest level. Likewise,
    he has the 2 bonus slots mages get only for 1st and 2nd level spells (though
    he can use them for any spells he wants, including priest spells), and he does
    not gain the bonus metamagic feat a single-classed mage would have gained at
    mage class level 5.\n
    __<11>Lady Sarah, Thaumaturge 3 / Warrior 5:<3> In order to enhance her
    ability as a spellcaster, Lady Sarah has bought the Intensive Study feat
    three times to increase her caster levels, giving her six total caster
    levels. However, this feat does not affect her spell access at all. As
    such, she has 4/3/2 known spells. As a Thaumaturge 3, she can choose the
    1st and 2nd level spells from the full mage list, but she can only choose
    Thaumaturgy spells for her third-level slots. Note that she's effectively
    reached the point of diminishing returns with Intensive Study -- she could
    take more warrior levels and buy the feat again,and it would give her a
    fourth-level spell slot -- but because she has no spell access to fourth
    level spells of any kind, the slot would remain unspent and useless to her.\n
    __Likewise, a character design of Mage 3 / Priest 3 / Druid 3 would be highly
    suboptimal -- such a character would have caster level 9 and thus access to
    4th and 5th level spell slots, but would have no spell access to any spells
    above spell level 3, so those slots would be wasted. Obviously, only so much 
    diversity and mixing is possible before it becomes simply dilution.\n\n
    
    <15>Using Magical Items {IT}\n
    ===================\n<3>    
    __There are many different classes of magical items in Incursion, and some
    have hidden elements or features. This discusses the basics of using the
    more common classes.\n\n
    
    <15>Identifying Items<3>\n
    __When items are first found in the dungeon, your character will have no
    idea what their purpose is. She can try using them, though that carries
    with it a risk -- there exist items that bear powerful curses that can
    weaken or endanger your character. Alternatively, she can wait until she
    locates a source of magic that identifies items, such as the relatively
    common Scrolls of Identify. The Intuition skill also aides in learning
    about magical items.\n
    __Sometimes unidentified items have an adjective before their name -- a
    'bronze wand' or 'murky potion'. All items of a given type described in
    this manner usually appear the same way, so if one crimson potion is a
    Potion of Healing, every crimson potion will be a Potion of Healing.
    Once your character tries out a crimson potion and discovers what it is,
    no more 'crimson potions' will appear; instead, they will be known as
    Potions of Healing when you first see them.\n
    __This knowledge isn't constant across different games, however -- just
    because a 'crimson potion' was Healing in one game doesn't mean that it
    won't be a Potion of Poison in the next.\n\n 

    <15>Depth and Plusses<3>\n
    __Some magical items have a plus associated with them -- a Wand +1 of
    Scouring, or a short sword +2. A plus is a measure of a magical item's
    power; items with higher plusses tend to show up at a deeper depth in
    dungeons than items with lower plusses. All items of the same type
    have the same function, but those with higher plusses perform that
    function with a greater magnitude -- more damage, higher DCs to saving
    throws, more powerful creatures summoned, etc.\n\n
    
    <15>Weapons, Armor and Shields<3>\n
    __In order to benefit from a magical weapon or suit of armor, all that
    you need to do is equip the item in the proper inventory slot, and their
    benefit will last until the item is removed. Some weapons or armor only 
    grant their benefits to a wielder or wearer who is proficient with the
    weapon or class of armor in question.\n
    __The plus of a magical weapon is added directly to attack and damage
    rolls made with that weapon, making the wielder more likely to hit foes
    and causing her to inflict more damage when she does. The magical plus
    of armor is added to the armor rating of the armor in all three categories.
    The magical plus of a shield is added to the Def bonus it grants.\n
    __The information below concerning worn items can also apply to weapons
    and armor in some cases.\n\n
    
    <15>Helms, Bracers, Boots, Cloaks, Lenses, Headbands, Rings, etc.<3>\n
    __Most wearable items are activated simply by putting an item on. If you
    wear an item you have not identified and it grants you some form of bonus,
    that bonus will not show up on your character sheet, but it will be used
    by the game behind the scenes. If you are fighting or otherwise making
    rolls and you notice that the numbers don't add up, chances are you may
    be wearing an unidentified item that is giving you a bonus (or penalty)
    of some kind.\n
    __Some of these sorts of items can be activated by a spoken command
    word to perform an effect, rather than bestowing a constant bonus. In
    this case, they can't be used until they have been conclusively identified
    using magic -- until this is done, the character has no way to know what
    the command word is, even if Intuition gives the player basically all the
    information needed to conclusively identify the item. To activate such an
    item, use the Activate ('a') command.\n
    __Normally, only one item of a given type can be worn -- if the character
    tried to wear two cloaks or two pairs of bracers, neither would function.
    The exceptions are rings (one ring can be worn on the ring finger on each
    hand), and cloaks and robes (the character can wear either a magical cloak
    <11>or<3> a magical robe, not both, despite there being different inventory
    slots for each).\n
    __A few powerful worn items (often rings, armor or weapons) grant benefits
    that do not take effect until the character has rested with them on, or
    worn them for a full day, or what have you -- their benefits would be too
    easy to exploit if they could be easily swapped in and out with other
    items. The <11>Ring of Regeneration<3> is an example of such an item.\n\n 
    
    <15>Stones<3>\n
    __Stones work in most ways like worn items, granting their bearer a
    continual benefit. However, to gain this benefit the wearer needs to
    simply carry the stone with them -- either in her hands or in one of
    the belt inventory slots -- rather than wearing it. The magic of a
    stone is ineffective if it is placed within a backpack or other such
    container, however.\n\n
    
    <15>Potions<3>\n
    __Any character can benefit from a magical potion; it requires no special
    skill to do so. Potions can be drunk using the Quaff ('q') command. Some
    potions are meant for other uses than drinking, however, and drinking them
    at the very least wastes them and can have a detrimental effect on the
    character. The most common case of this is Oils, which are meant to be
    applied to weapons or armor to enhance their function. These can be used
    by selecting the Apply option from the Yuse ('y') menu.\n\n
    
    <15>Scrolls<3>\n
    __Reading a scroll is based on the Decipher Script skill, and the writeup
    for that skill contains the specific mechanics. However, even a character
    without ranks in Decipher Script has a resonable chance to successfully
    read a low to mid-level scroll. To try to read a scroll, use the Read ('r')
    command.\n\n
    
    <15>Wands<3>\n
    __Using a wand is based on the Use Magic skill, and the writeup for that 
    skill contains the specific mechanics. However, even a character without 
    ranks in Use Magic has a resonable chance to successfully use a low-level 
    wand. To try to use a wand, use the Blast ('b') command.\n
    __Almost all wands have a magical plus associated with them. If the wand
    inflicts damage, it will typically do a set amount of damage with the 
    number of dice rolled multiplied by its plus. If it requires a saving
    throw, the DC typically increases by +2 for every plus the wand has.\n
    __Gnomes are extremely proficient with wands and begin play with
    several of them.\n\n
    
     <15>Staves<3>\n
     <3>__Staves are typically the province of higher-level mages,
     and are one of the more powerful classes of items found in the
     game. Normally, a character must have a certain minimum number
     of levels as a mage before they can access the powers of a
     given staff, ranging from a single mage level (for weaker staves
     like the <9>staff of size alteration<3>) to a maximum of seven
     mage levels (to access the full powers of a <9>staff of the 
     magi<3>). Some staves, notably the <9>staff of the woodlands<3>,
     are attuned to other classes (in this case the druid). As always,
     rogues of sufficient level can use the Trick Magic ability to
     handle staves effectively.    
     <3>__A staff's most common power is granting access to a number
     of spells, often tied to a theme related to the staff in question.
     If the staff-bearer does not actually know these spells, she may
     cast them just as if she did -- the normal mana cost applies, but
     like the innate magical abilities of certain monsters, there is
     no chance of failure. Casting spells from a staff in this manner
     does consume charges from the staff, however. The caster level is
     the better of the wielder's own or the staff's item level.\n
     <3>__If the staff-bearer is normally able to cast a spell granted
     by a staff, however, the staff augments the casting. The bearer
     has a 100% success chance with that spell, even if metamagic feats
     are applied to it (though it does not remove the increased mana
     cost or fatigue cost of the metamagic), and casting the spell does
     not consume charges from the staff, nor require any somatic action.\n
     <3>__Spells can be cast from a staff using the Spell Manager the
     same way that a spellcaster normally casts them. Spells from a staff
     appear in the listing in green -- dark green if granted exclusively
     by the staff, or bright green if the staff augments existing
     knowledge of the spell. In order to make effective use of a staff's
     spells (and other powers), however, a mage must have it in his hands
     -- in the Weapon Hand or Ready Hand slots (or both) in the Inventory
     Manager. Fortunately, most staves are magical weapons in their own
     right, acting as a cudgel or quarterstaff with a magical bonus to
     strike and damage, usually +1 or +2.\n
     <3>__Certain staves have other powers beyond augmenting spells,
     sometimes granting constant benefits like resistances, attribute
     boosts or the ability to see invisible creatures just by being
     held. Others grant completely unique magical abilities that work
     like spells, but are on no class's spell list (such as the
     <9>whirlwind<3> ability of the <9>staff of power<3>). A few
     staves can also be activated for some kind of unique effect,
     such as the infamous, catastrophic Retributive Strike.\n\n
     
     <15>Rods<3>\n
     __Rods can have functions similar to wands, staves or wonderous
     items, but are typically geared toward more militant characters
     than staves, which have requirements on caster level or spell
     access. Some rods can be used by anyone, while others might
     require a certain Base Attack Bonus to use successfully. Most
     rods can't be used until identified, but some might grant an
     effect just by being held.\n
     __Some rods are used via the Activate ('a') command, while others
     add extra effects to Spell Manager ('m') the same way that staves
     do.\n\n
     
     <15>Tomes<3>\n
     __Tomes are tremendously rare, valuable items. They must be
     identified magically to be usable, but once they have been they
     can be read using the Activate ('a') command. Tomes may only be
     read once, and vanish once read. However, they are much treasured
     because they grant permanent benefit to a character in the form
     of innate abilities, free experience points, or most commonly
     inherant bonuses to an attribute. Any given attribute cannot have
     an inherant bonus exceeding +5, regardless of the number of tomes
     read -- unless the reader is human, in which case the maximum
     bonus rises to +8.\n\n
     
     <15>Wonderous Items<3>\n
     __Some items defy all attempts to characterize them -- bowls which
     summon elementals, beads that aid a priest in his spellcasting,
     carpets that fly through the sky... the possibilities are endless.
     These items typically need to be identified to be used, and some
     are subject to the Activate ('a') command -- check the specific
     item for details on how it is used."; }

Text "help::overland"
{
"<9>THE OVERLAND MAP {OM}\n
        ================\n<1>    
     __In this version of Incursion, <9>Halls of the Goblin
     King<1>, all of the action takes place in a dungeon. However, the
     later, complete version of the game, <9>Return of the Forsaken<1>,
     will feature an overland map that characters can traverse, quests to
     complete, guilds to join (much like in Omega) and many of the other 
     features associated with rich worlds in computer RPGs.\n
     __For now, in this game, the player character can interact with a
     'simulated overworld' by ascending the stairs in the entry chamber
     of the Goblin Caves. A simple selection allows the player to retire,
     make use of an inn to rest in perfect safety for a night, shop at a
     nearby adventurers' store run by Roark Ironbeard or return to the
     dungeon to adventure further.\n
     -- {MM:mainmenu} Return to the Main Help Menu\n
     
     ";
}
#line "help.irh" 4327
Text "help::feats"
{ "<13>FEATS\n
      =====\n
      -- {MM:mainmenu} Return to the Main Help Menu\n
      <5>__Feats represent the extraordinary abilities of a legendary hero.
      A warrior who can strike down all the foes around him at once, a wizard
      who can cast his spells without making a sound, or a rogue whose reflexes
      are just fast enough to give him an unbeatable edge -- all of these
      characters benefit from feats.\n
      __Choosing a combination of feats that make for an effective character
      is essential in Incursion. Some feats merely give a singular perk to
      the character that chooses them, while others are the prerequisites to
      more advanced feats that will become available only when the character
      has mastered the basics. A series of feats linked to each other by
      shared prerequisites, is called a feat tree. Warriors receive more
      bonus feats than any other character type in the game, and thus will
      have the opportunity to master several feat trees over the course of
      play. Any character, however, should choose feats with an eye not only
      to what they give him now, but what doors they will open later.\n
      __The feats in Incursion, and the prerequisites needed to obtain them,
      are listed below.\n\n

      <13>SKILL ENHANCER FEATS\n
      ====================<5>\n
      __These feats each enhance one or two of a character's skills, usually
      granting a +2 bonus. None of these feats have prerequisites.\n\n
      <7>* Acrobatic\n
      * Alertness\n
      * Artificer\n
      * Athletic\n
      * Captivating\n
      * Clear-Minded\n
      * Deciever\n
      * Detective\n
      * Educated\n
      * Graceful\n
      * Landed Noble\n
      * Larcenous\n
      * Murderous\n
      * Perceptive\n
      * Physician\n
      * Sneaky\n
      * Talented\n
      * Woodsman\n
      \n
      * Alluring\n
      * Natural Aptitude\n
      * Skill Focus\n
      \n
      <13>ATTRIBUTE FEATS\n
      ===============<5>\n
      __These feats each give a character a +1 feat bonus to one attribute.
      Each can be bought only once.\n\n
      <7>* Improved Strength\n
      * Improved Dexterity\n
      * Improved Constitution\n
      * Improved Intelligence\n
      * Improved Wisdom\n
      * Improved Charisma\n
      * Improved Luck\n\n

      <13>SAVING THROW FEATS\n
      ==================\n<5>
      __Each of these feats improves one of your character's saving throw
      categories by +3. In the later game, each saving throw feat will
      also open up a tree of two or three defensive feats related to that
      save, but these later feats don't exist yet in the promo game.\n
      <7>
      \n* Iron Will\n
      * Great Fortitude\n
      * Lightning Reflexes\n
      \n
      <13>PROFICIENCY FEATS\n
      =================\n<5>
      __These feats expand a character's combat capabilities by giving her
      proficiencies in weapons, armor or equipment not granted naturally
      by her class.<7>\n\n

      * Armor Proficiency, Light\n
      ____Armor Proficiency, Medium\n
      ______Armor Proficiency, Heavy\n
      ________Armor Optimization\n
      * Weapon Proficiency\n
      * Exotic Weapon\n
      * Combat Casting <6>(Caster Level 1+)<7>\n
      * Counterspell <6>(Caster Level 1+)<7>\n
      * School Focus <6>(Caster Level 1+)<7>\n
      * Loadbearer <6>(Str 13+)<7>\n\n

      <13>SHIELD FEATS\n
          ============\n<5>
      __Using these feats, a character can make use of a shield in combat in
      increasingly more skillful ways. Later versions of Incursion will flesh
      out this tree with feats to improve the upcoming Shield Bash maneuver,
      allowing characters to trip or stun an opponent with their shield.\n\n
      <7>* Shield Proficiency\n
      ____Missile Proof <6>(Combat Reflexes)<7>\n
      ____Shield Focus\n
      ____Shield Expert\n
      ____Spear and Shield\n\n

      <13>METAMAGIC FEATS\n                      
      ===============\n<5>
      __All these feats have caster level of 1st or above (arcane or divine)
      as a prerequisite unless otherwise noted. Further information on their
      use can be found in the help screen for the Spell Manager.<7>\n\n

      * Amplify Spell\n
      * Augment Spell\n
      * Bind Spell\n
      * Control Spell\n
      * Consecrate Spell <6>(Divine Caster 1+)<7>\n
      * Defensive Spell\n
      * Empower Spell\n
      * Enlarge Spell\n
      * Extend Spell\n
      * Focus Spell\n
      * Fortify Spell\n
      * Heighten Spell\n
      * Inherent Spell\n
      * Judicious Spell\n
      * Maximize Spell\n
      * Project Spell\n
      * Quicken Spell\n
      * Still Spell\n
      * Sure Spell\n
      * Transmute Spell\n
      * Unseen Spell\n
      * Vocalize Spell\n
      * Warp Spell\n\n

      <13>ITEM CREATION FEATS\n
      ===================\n<5>
      __Item creation feats allow a spellcaster to craft minor magical
      items. Crafting such items requires the character to have a certain 
      threshold level, and to expend both gold and life energy (experience 
      points) in the enchantment process.\n\n
      <7>* Artificer\n
      * Brew Potion\n
      * Scribe Scroll\n\n

      <13>DIVINE FEATS\n
      ============\n<5>
      __Divine feats allow a character who can already channel positive
      energy to turn undead to also channel this sacred force to perform
      other feats. Only characters with the ability to turn undead can
      gain divine feats. All also require a minimum Charisma of 13.<7>\n\n
      
      * Divine Armor\n
      * Divine Might <6>(Power Attack)<7>\n
      * Divine Resistance <6>(Endurance)<7>\n
      * Divine Vigor\n\n

      <13>DUAL WEAPON FEATS\n
      =================\n<5>
      __These feats allow a character to fight using one weapon in each
      hand (or 'double' weapons, which are wielded in both hands but can
      be used as if they were two separate weapons) and attack once with
      each weapon in each attack.<7>\n\n
      
      * Ambidexterity <6>(Dex 15+)<7>\n
      * Double Weapon Fighting <6>(Dex 15+, BAB +1)<7>\n
      ____Power Double Weapon\n
      * Two Weapon Style\n
      ____Florentine Style\n
      ____Defensive Synergy <6>(Expertise, Melee BAB 3+)<7>\n
      ____Two Weapon Tempest <6>(Melee BAB 9+)<7>\n\n 

      <13>THE 'MIGHTY FIGHTER' TREE\n
      =========================\n<5>
      __This tree contains feats designed for fighters who rely most
      heavily on their Strength, and on the power behind their blows
      putting their foes down.<7>\n\n

      * Power Attack <6>(Str 13+)<7>\n
      ____Cleave\n
      ______Great Cleave <6>(Melee BAB 3+)<7>\n
      ________Supreme Cleave <6>(Melee BAB 7+)<7>\n
      ____Knock Prone\n
      ____Master Bull Rush\n
      ____Master Great Blow\n
      ____Monkey Grip <6>(Melee BAB 5+)<7>\n
      ____Power Charge\n
      ____Sunder\n
      ______Cleave Asunder <6>(Cleave)<7>\n
      \n
      
      <13>Strong Fighter Capstone Feats: <4>(Unimplemented)<7>\n
      * <14>Devastating Critical <6>(Str 21+, BAB 12+, 6+ Mighty feats)<7>\n
      * <14>Greater Power Attack <6>(Str 21+, BAB 12+, 6+ Mighty feats)<7>\n
      \n

      <13>THE 'AGILE FIGHTER' TREE\n
      ========================\n<5>
      __The agile fighter may be a swashbuckler, a martial artist or
      a street-bred scrapper, but nobody is faster or, more importantly,
      harder to hit, then he is. Most agile fighters don't wear heavy
      armor, to avoid mitigating the benefit their Dexterity grants to
      defense.<7>\n\n
      
      * Combat Reflexes <6>(Dex 13+)<7>\n
      ____Close-Quarters Fighter\n
      ____Deft Opportunist <6>(or Expertise)<7>\n
      ____Hold the Line\n
      ____Missile Proof <6>(Shield Proficiency)<7>\n
      ____Rapid Reload <6>(Dex 15+, Archery BAB +3)<7>\n
      * Dodge <6>(Dex 13+)<7>\n
      ____Dash <4>(Unimplemented)<7>\n
      ____Featherfoot\n
      ____Partial Evasion\n
      ____Instant Stand\n
      ____Mobility\n
      ______Mantis Leap <6>(Jump +10)<7>\n
      ______Spring Attack\n
      ______Whirlwind Attack <6>(Expertise, BAB 4+)<7>\n
      ____Elusive Target <4>(Unimplemented)<7>\n
      ______Redirect Attack <4>(Unimplemented)<7> <6>(Bluff +10)<7>\n
      ____Reed in the Wind <6>(Evasion, Tumble 12+, Dex 15+)<7>\n
      ____Slipaway\n
      * Lightning Reflexes\n
      * Weapon Finesse\n
      ____Riposte <6>(Expertise, Melee BAB +6)<7>\n\n

      <13>Agile Fighter Capstone Feats: <4>(Unimplemented)<7><7>\n
      * <14>Blinding Speed <6>(Dex 21+, BAB 12+, 6+ Agile feats)<7>\n
      * <14>Elegant Defense <6>(Dex 21+, BAB 12+, 6+ Agile feats)<7>\n
      \n

      <13>THE 'TOUGH FIGHTER' TREE\n
      ========================\n<5>
      __Some people just won't die when they're supposed to. This tree
      contains feats that increase a hero's resilience, capacity to
      withstand injury and will to live. It will be expanded significantly
      in the full release game.<7>\n\n

      * Great Fortitude\n
      ____One Body, One Soul <6>(Iron Will)<7>\n
      * Roll With It <6>(Con 13+)<7>\n
      * Endurance <6>(Con 13+)<7>\n
      ____Diehard\n
      ____Toughness <6>(Roll With It)<7>\n
      ______Ignore Wound <6>(Roll With It, Con 15+)<7>\n
      ______Iron Skin <6>(Roll With It, Con 15+, Base Fort +8)<7>\n
      ______Living Wall <6>(Roll With It)<7>\n
      ______Resilient <6>(Roll With It, Con 17+)<7>\n
      ____Hardiness\n
      ______Resist Death\n
      ______Resist Paralysis\n
      ____Weather Blast\n\n

      <13>Tough Fighter Capstone Feats: <4>(Unimplemented)<7>\n
      * <14>Greater Resilience <6>(Con 21+, BAB 12+, 6+ Tough feats)<7>\n
      * <14>Withstand Blows <6>(Con 21+, BAB 12+, 6+ Tough feats)<7>\n
      \n

      <13>THE 'SMART FIGHTER' TREE\n
      ========================\n<5>
      __Intelligence and tactics certainly play a role in combat prowess,
      and this feat tree represents that, containing feats that govern
      advanced maneuvers, tactical advantage and reasoned combat skill.
      <7>\n\n
      * Expertise <6>(Int 13+)<7>\n
      ____Chink in the Armor <6>(Find Weakness 10+)<7>\n
      ______Aim for the Eyes\n
      ____Deft Opportunist <6>(or Combat Reflexes)<7>\n
      ____Expert Tactician <6>(Melee BAB 3+)<7>\n
      ____Mage Slayer <4>(Unimplemented)<7>\n
      ____Master Disarm\n
      ____Master Trip\n
      ____Riposte <6>(Weapon Finesse, Melee BAB +6)<7>\n
      ____Tactical Withdrawal\n
      ____Whirlwind Attack <6>(Mobility, Melee BAB 4+)<7>\n\n

      <13>Smart Fighter Capstone Feats: <4>(Unimplemented)<7>\n
      * <14>Anticipate Strike <6>(Int 21+, BAB 12+, 6+ Smart feats)<7>\n
      * <14>Tactical Supremacy <6>(Int 21+, BAB 12+, 6+ Smart feats)<7>\n
      \n

      <13>THE 'INTUITIVE FIGHTER' TREE\n
      ============================\n<5>
      __Peerless alertness, mental focus and good instincts characterize
      the intuitive fighter. These feats allow an adventurer to use his
      Wisdom score to its maximum possible benefit in a fight.<7>\n\n

      * Iron Will\n
      ____One Body, One Soul <6>(Great Fortitude)<7>\n
      * Improved Initiative\n
      ____Dirty Fighting <6>(BAB +2)<7>\n
      * Blind-Fight <6>(Wis 13+)<7>\n
      ____Blindsight <6>(Listen 15+, Wis 19+)<7>\n
      ____Deflect Arrows <6>(Dex 13+)<7>\n
      ______Deflect Magic\n
      ____Dirty Fighting <6> (BAB 2+, Find Weakness 10+)<7>\n
      ____Zen Archery <6>(Far Shot)<7>\n
      ____Zen Defense <6>(Expertise)<7>\n\n

      <13>Intuitive Fighter Capstone Feats: <4>(Unimplemented)<7>\n
      * <14>Combat Trance <6>(Wis 21+, BAB 12+, 6+ Intuitive feats)<7>\n
      * <14>Karmic Strike <6>(Wis 21+, BAB 12+, 6+ Intuitive feats)<7>\n
      \n

      <13>THE 'COMMANDING FIGHTER' TREE\n
      =============================\n<5>
      __Some warlords and heroes of legend have a force of personality so
      great that it draws allies to their side even as it strikes fear
      into their enemies -- they are the commanding fighters. This feat
      tree will contain feats that allow a character to improve the
      combat potential of NPC allies in a fight, frighten weak or craven
      adversaries, drive opponents backward physically through a combination
      of brutal strikes and intimidation and even to strike creatures with
      weapons that could not normally affect them, inflicting pure psychic
      trauma.<7>\n\n

      * Leadership <6>(Cha 13+)<7>\n
      * Battlefield Inspiration <6>(Cha 13+)<7>\n
      ____Coordinated Tactics <6>(or Expertise)<7>\n
      ____Dance of Tukima <6>(Alluring, Perform +10)<7>\n
      ____Soulblade  <6>(Cha 15+)<7>\n
      ______Greater Soulblade\n
      ____Improved Demoralize <6>(Intimidate +8)<7>\n
      ______Warcry\n
      ____Terrible Mein <6>(Intimidate +12)<7>\n
      \n

      <13>Commanding Fighter Capstone Feats: <4>(Unimplemented)<7>\n
      * <14>Lord of Woe <6>(Cha 21+, BAB 12+, 6+ Commanding feats)<7>\n
      * <14>Strength of One <6>(Cha 21+, BAB 12+, 6+ Commanding feats)<7>\n
      \n

      <13>THE 'MOUNTED FIGHTER' TREE\n
      ==========================\n<5>
      __A mount can give a fighter a wide variety of additional options in
      combat. These feats allow mounts to be used the most effectively in
      combat.<7>\n\n

      * Mounted Combat <6>(Ride Skill)<7>\n
      ____Mounted Archery\n
      ____Overrun\n
      ____Ride-By Attack\n
      ______Spirited Charge <6>(Power Charge)<7>\n
      * Improved Mount <6>(Paladin Level 5+)<7>\n\n
      
      <13>THE 'RANGED FIGHTER' TREE\n
      =========================\n<5>
      __Also called the archer's tree, these feats grant a warrior additional
      proficiency and abilities when using bows, crossbows or other ranged
      weapons.<7>\n\n

      * Far Shot\n
      ____Zen Archery <6>(Blind-Fight)<7>\n
      * Point Blank Shot\n
      ____Defensive Shot\n
      ____Precise Shot\n
      * Rapid Shot <6>(Far Shot -or- Point Blank Shot)<7>\n
      * Aimed Shot <6>(Far Shot -or- Point Blank Shot)<7>\n\n

      <13>THE 'UNARMED FIGHTER' TREE\n
      ==========================\n<5>
      __Most of these feats are designed with the Monk in mind, though a
      Warrior can certainly also make an effective martial artist character.
      Note that the class ability of Monks, Unarmed Strike, is superior to
      the Martial Mastery feat, and thus supercedes it. Monks cannot take
      Martial Mastery, and do not need to have it in order to advance 
      further in the unarmed fighter tree.<7>\n\n

      * Martial Mastery\n
      ____Fists of Iron <6>(Brawl BAB +2)<7>\n
      ____Lightning Fists <6>(Dex 13+)<7>\n
      ______Chi Strike <6>(Unarmed Strike, Find Weakness +7, Brawl BAB +8\n 
      _______________________-or- Find Weakness +10, Brawl BAB +8)<7>\n
      ______Falling Star Strike <6>(Find Weakness +10, Brawl BAB +4)<7>\n
      ______Freeze the Lifeblood <6>(Find Weakness +12, Brawl BAB +6)<7>\n
      ______Pain Touch <6>(Stun Attack, Find Weakness +7, Wis 19+, Brawl BAB +2)<7>\n
      ____[=Master Grapple=]\n
      ________Choke Hold <6>(Unarmed Strike,  Brawl BAB +4 -or- Brawl BAB +5)<7>\n
      ________Earth's Embrace <6>(Unarmed Strike, Brawl BAB +4 -or- Brawl BAB +5)<7>\n
      ________Defensive Throw <6>(Master Trip)<7>\n
      __________Great Throw <6>(Str 15+, Brawl BAB +6)<7>\n
      ____Power Kick <6>(Power Attack, Athletics +7)<7>\n
      ______Circle Kick <6>(Jump +10, Brawl BAB +3)<7>\n
      ______Flying Kick <6>(Jump +13, Brawl BAB +5)<7>\n\n

      <13>THE 'WEAPON EXPERT' TREE\n
      ========================\n<5>
      __These feats govern skill with a specific weapon, chosen when the feat
      is selected. They can all be bought multiple times, each time being to
      govern a different weapon. Weapon Focus is available to anyone, but after
      this the feats have a special prerequisite of the Weapon Skill class
      feature, effectively limiting them to characters with a certain number
      of levels in the Warrior class.<7>\n\n

      * Weapon Focus\n
      ____Weapon Specialist <6>(Warrior Level 4+)<7>\n
      ______Weapon Mastery <6>(Warrior Level 7+)<7>\n\n
      
      <13>INDIVIDUAL FEAT DESCRIPTIONS\n
      ============================\n<5>";
}

Text "help::skills"
{ "<14>CHARACTERS AND SKILLS\n
     =====================<6>\n
     -- {MM:mainmenu} Return to the Main Help Menu\n
     __Skills work slightly differently in Incursion then they do in its
     parent system. Characters can gain access to different skills in
     three ways: by having one or more levels in a class which has a given
     skill as a class skill, by selecting a race that has the skill as a
     racial skill or by choosing the Natural Aptitude feat, allowing the
     player to choose any skill as an extra skill. Some functions of some
     skills can be performed untrained (such as using Intuition to get a
     feeling about items, or using Jump to cross a distance by leaping),
     while most others actually require a character to have the skill,
     regardless of whether it comes from race, class or feat.\n
     __In addition to the binary state of either having a skill or not,
     every skill has a skill rating associated with it, being a sum total
     of various bonuses associated with the skill. Characters recieve a
     +2 training bonus to every skill they have; if they have a given
     skill as both a race and class skill, this bonus increases to +3.\n\n

     <14>Skill Ranks and Points<6>\n
     __For every level a character has in
     a class, they recieve an alottment of skill points that may be distributed
     among the skills of that class, or any class-independant skills the
     character has from race or feats. The base number of available skill
     points gained per level in a class in then adjusted by the character's
     Intelligence modifier; if the character gains 8 or more skill points
     per class level, the Intelligence modifier is doubled (if positive).
     A point invested in a skill becomes a rank in
     that skill; the maximum number of ranks a character can have in any
     class skill is determined by the sum total levels a character has in
     classses which have that skill as a class skill. For racial skills and
     skills gained from feats, the maximum number of ranks is determined
     based upon total character level.\n
     <15>___Levels__Max Ranks__|_Class______Skill Points<1>\n
     _____1________2_______<15>|<1>_Barbarian__[4__+ Int] SP/Level\n
     _____2________4_______<15>|<1>_Bard_______[6__+ Int] SP/Level\n
     _____3________6_______<15>|<1>_Druid______[4__+ Int] SP/Level\n
     _____4________7_______<15>|<1>_Mage_______[2__+ Int] SP/Level\n
     _____5________8_______<15>|<1>_Monk_______[4__+ Int] SP/Level\n
     _____6________9_______<15>|<1>_Paladin____[2__+ Int] SP/Level\n
     _____7________10______<15>|<1>_Priest_____[2__+ Int] SP/Level\n
     _____8________10______<15>|<1>_Ranger_____[6__+ Int] SP/Level\n
     _____9________11______<15>|<1>_Rogue______[10 + Int] SP/Level\n
     _____10_______12______<15>|<1>_Warrior____[2__+ Int] SP/Level\n
     _____11_______12______<15>|<1>_\n
     _____12_______13______<15>|<1>_\n
     __<6>When a character is initially created, all the points gained for the
     first level in their chosen class must be spent before play begins.
     Thereafter, however, any additional levels gained give additional
     skill points that can be saved and spent at any time the player
     desires. Points from different classes are stored in different totals,
     because they can only be spent on skills associated with the class
     that granted them.\n\n
     
     <14>Familiar Skills<6>\n
     __Certain skills below are tagged as [Familiar]. While there are some
     races and classes that excel at these, they are things that any
     adventurer may find need to learn to some extent. As such, any
     character can invest up to their character level in ranks (maximum 5)
     in any of these skills, even if they do not have that skill as a class
     skill. Multiclass characters use their normally calculated max ranks
     or their character level, whichever favors them more, but the allowed
     ranks from familiarity do not stack with the rank cap from having the
     skill as a class skill.\n\n

     <14>Skill Rating and Skill Checks<6>\n
     __Your total proficiency with
     any given skill is called your Skill Level (sometimes 'Skill Rating')
     in that skill. It is the sum of an attribute modifier, your skill ranks
     and any other modifiers.\n
     __Each skill has an associated attribute and the secondary modifier
     for that attribute is part of your Skill Level. Some skills use
     the best or the worst of two attributes, others are always tied to a
     single attribute. The attribute that is currently modifying any given
     skill is always shown on your Character Sheet.\n
     __Every Skill Rank in a skill adds a +1 bonus to your Skill Level in
     that skill.\n
     __Other bonuses or penalties may apply. For example, Kobolds have a
     +4 racial bonus to Handle Device skill checks. As a second example,
     wearing full plate armor will apply a -6 armor penalty to Balance
     skill checks.\n
     __When you try to perform an action based on a skill, the game will
     roll 1d20 and add your skill rating, comparing the result to a set
     value called the Skill Check DC. If you equal or exceed the value,
     you pass the check; otherwise you fail. Often, the effectiveness of
     the action is determined by how high your skill roll is, rather than
     simply a binary pass/fail based on the skill DC. Some skill checks
     are shown at the bottom of the screen (and placed in the game log if
     the proper option is set), while others are made silently behind the
     scenes by the game, either to avoid revealing something to the player
     or simply to avoid 'message spam'.\n
     When rolling an Animal Empathy, ... check, the roll is made twice and
     the better result taken; the same benefit applies for any skill you
     have chosen the Skill Focus feat for. If you choose Skill Focus for
     one of the above-listed skills, you roll three times and take the best
     result. This is significant because being able to gain semi-reliable
     skill checks can be very valuable in a roguelike game.\n\n

     <14>Synergy Bonuses<6>\n    
     __Characters recieve synergy bonuses to skills based on having invested
     ranks in skills related to the skill in question -- for example,
     learning Jump improves one's ability to Tumble as well. The synergy
     bonus is taken by taking the skill ranks of the influencing skill,
     dividing it by a set factor, and applying the result as a bonus to
     the original skill. All of the synergy bonuses in Incursion are
     listed in the table below:\n
     <15>__Skill_____________Synergy Bonus Granted<1>\n
     __Bluff_____________[Sense Motive Ranks / 3]\n
     __Climb_____________[Athletics Ranks / 4],\n
     ____________________[Balance Ranks / 3]\n
     __Diplomacy_________[Sense Motive Ranks / 3]\n
     __Disguise__________[Bluff Ranks / 3]\n
     __Handle Device_____[Concentration Ranks / 3]\n
     __Heal______________[Wilderness Lore Ranks / 5]\n
     __Intimidate________[Sense Motive Ranks / 3]\n
     __Jump______________[Athletics Ranks / 4],\n
     ____________________[Tumble Ranks / 5]\n
     __Know. (Infernal)__[Know. (Planes) Ranks / 3]\n
     __Know. (Magic)_____[Know. (Planes) Ranks / 5],\n
     ____________________[Spellcraft Ranks / 5]\n
     __Know. (Planes)____[Know. (Theology) Ranks / 4]\n
     __Lockpicking_______[Concentration Ranks / 4],\n
     ____________________[Handle Device Ranks / 3]\n
     __Listen____________[Concentration Ranks / 4]\n
     __Metamagic_________[Know. (Magic) Ranks / 4]\n
     __Perform___________[Sense Motive Ranks / 3]\n
     __Pick Pocket_______[Bluff Ranks / 4]\n
     __Ride______________[Animal Empathy Ranks / 3]\n
     __Spellcraft________[Know. (Magic) Ranks / 5]\n
     __Spot______________[Concentration Ranks / 4]\n
     __Swim______________[Athletics Ranks / 4]\n
     __Tumble____________[Balance Ranks / 3]\n
     ____________________[Jump Ranks / 5]\n\n
    
     <14>Differences from the OGL System<6>\n
     __Veteran gamers will note a few differences from Incursion's base
     system here. Points cannot be invested in 'cross-class' skills, maximum
     ranks grow rapidly initially and then slow down, no more points are
     gained at 1st character level than any other, and so forth. All of
     this is quite intentional -- Incursion characters are intended to
     start out specialized with ranks in only a few skills, and then grow
     to master more as the game progresses.\n\n

     <14>THE SKILL MANAGER {SM}\n
     =================<6>\n
     __The skill manager is relatively simple and straightforward to use.
     Your character has a pool of unspent skill ranks for the currently displayed
     class shown as asterisks at the top of the window. Skill points tentatively
     invested into skills are instead shown as asterisks in that skill's listing
     instead.\n
     __Press [Up] and [Down] to move up and down the skill list, and press
     [Right] to assign a single rank to a skill, or [Left] to remove an assigned
     rank from a skill. Pressing [Enter] will make the assigned ranks permanent
     and leave the skill manager after asking for confirmation, while pressing
     [Esc] will cancel any changes made and close the skill manager. A
     multiclass character can cycle through all the classes she has one or more
     levels in by pressing [Tab].\n
     __Pressing [PgDn] or [PgUp] will scroll the description of the currently
     selected skill shown, as usual with scrolling in Incursion.\n\n

     <14>THE SKILLS PROPER\n
     =================<6>\n
     __Here follows the full descriptions, with game effects, of all the
     skills in Incursion. Skills can have three types of uses:\n
     __<14>Active:<6> The player must actively choose to use the skill
     for it to come into play. Normally, this means that the skill will
     be listed by name on the Use Special Ability ('u') command's menu.\n
     __<14>Passive:<6> These skill uses are rolled (or modifiers applied)
     whenever an appropriate situation arises; they work for the player
     on a constant basis and no action needs to be taken to use them.\n
     __<14>Talking:<6> These skill uses are used to resolve the outcome
     of social actions initiated with the Talk ('t') command, but are
     otherwise like Active applications.\n";
}

Text "help::pantheon"
{ "__<7>There are many gods and spirits worshipped across the different
     lands of Therya. The thirteen true gods listed here form the primary
     pantheon which was first worshipped by the Vanyir, the human subrace
     that first settled in the Kinlands and has since spread to every
     corner of the land. Other pantheons exist, governing the far-off lands
     of Angla Maua, Arasaki, Kinsith Raegil and Koryama. There are alien
     powers of ooze, terror and darkness worshipped by the terrors of the
     Underdark, and the forever warring demon lords, archdevils and high
     celestial lords. But it is these 15 deities -- along with Maeve, the
     Queen of Faerie, and the foul spirits of the Demon Ghost Horde -- that
     are commonly known and worshipped in the Kinlands area.\n\n";}

Text "help::OGL"
{
"<15>OPEN GAME LICENSE<7> Version 1.0a\n\n
<4>
The following text is the property of Wizards of the Coast, Inc. and 
is Copyright 2000 Wizards of the Coast, Inc ('Wizards'). All Rights 
Reserved.\n\n

<12>1.<4> Definitions: (a)'Contributors' means the copyright and/or 
trademark owners who have contributed Open Game Content; (b)'Derivative 
Material' means copyrighted material including derivative works and 
translations (including into other computer languages), potation, 
modification, correction, addition, extension, upgrade, improvement, 
compilation, abridgment or other form in which an existing work may be 
recast, transformed or adapted; (c) 'Distribute' means to reproduce, 
license, rent, lease, sell, broadcast, publicly display, transmit or 
otherwise distribute; (d)'Open Game Content' means the game mechanic and 
includes the methods, procedures, processes and routines to the extent 
such content does not embody the Product Identity and is an enhancement 
over the prior art and any additional content clearly identified as Open 
Game Content by the Contributor, and means any work covered by this License,
including translations and derivative works under copyright law, but 
specifically excludes Product Identity. (e) 'Product Identity' means 
product and product line names, logos and identifying marks including 
trade dress; artifacts; creatures characters; stories, storylines, plots, 
thematic elements, dialogue, incidents, language, artwork, symbols, designs,
depictions, likenesses, formats, poses, concepts, themes and graphic, 
photographic and other visual or audio representations; names and 
descriptions of characters, spells, enchantments, personalities, teams, 
personas, likenesses and special abilities; places, locations, environments,
 creatures, equipment, magical or supernatural abilities or effects, logos, 
symbols, or graphic designs; and any other trademark or registered trademark 
clearly identified as Product identity by the owner of the Product Identity,
and which specifically excludes the Open Game Content; (f) 'Trademark' 
means the logos, names, mark, sign, motto, designs that are used by a 
Contributor to identify itself or its products or the associated products 
contributed to the Open Game License by the Contributor (g) 'Use', 'Used' 
or 'Using' means to use, Distribute, copy, edit, format, modify, translate 
and otherwise create Derivative Material of Open Game Content. (h) 'You' or 
'Your' means the licensee in terms of this agreement.\n\n

<12>2.<4> The License: This License applies to any Open Game Content that contains 
a notice indicating that the Open Game Content may only be Used under and 
in terms of this License. You must affix such a notice to any Open Game 
Content that you Use. No terms may be added to or subtracted from this 
License except as described by the License itself. No other terms or 
conditions may be applied to any Open Game Content distributed using this 
License.\n\n

<12>3.<4> Offer and Acceptance: By Using the Open Game Content You indicate Your 
acceptance of the terms of this License.\n\n

<12>4.<4> Grant and Consideration: In consideration for agreeing to use this 
License, the Contributors grant You a perpetual, worldwide, royalty-free, 
non-exclusive license with the exact terms of this License to Use, the Open 
Game Content.\n\n

<12>5.<4> Representation of Authority to Contribute: If You are contributing 
original material as Open Game Content, You represent that Your 
Contributions are Your original creation and/or You have sufficient rights 
to grant the rights conveyed by this License.\n\n

<12>6.<4> Notice of License Copyright: You must update the COPYRIGHT NOTICE portion 
of this License to include the exact text of the COPYRIGHT NOTICE of any 
Open Game Content You are copying, modifying or distributing, and You must 
add the title, the copyright date, and the copyright holder's name to the 
COPYRIGHT NOTICE of any original Open Game Content you Distribute.\n\n

<12>7.<4> Use of Product Identity: You agree not to Use any Product Identity, 
including as an indication as to compatibility, except as expressly 
licensed in another, independent Agreement with the owner of each element 
of that Product Identity. You agree not to indicate compatibility or 
co-adaptability with any Trademark or Registered Trademark in conjunction 
with a work containing Open Game Content except as expressly licensed in 
another, independent Agreement with the owner of such Trademark or 
Registered Trademark. The use of any Product Identity in Open Game Content 
does not constitute a challenge to the ownership of that Product Identity. 
The owner of any Product Identity used in Open Game Content shall retain 
all rights, title and interest in and to that Product Identity.\n\n

<12>8.<4> Identification: If you distribute Open Game Content You must clearly 
indicate which portions of the work that you are distributing are Open Game 
Content.\n\n

<12>9.<4> Updating the License: Wizards or its designated Agents may publish 
updated versions of this License. You may use any authorized version of 
this License to copy, modify and distribute any Open Game Content 
originally distributed under any version of this License.\n\n

<12>10.<4> Copy of this License: You MUST include a copy of this License with every 
copy of the Open Game Content You Distribute.\n\n

<12>11.<4> Use of Contributor Credits: You may not market or advertise the Open 
Game Content using the name of any Contributor unless You have written 
permission from the Contributor to do so.\n\n

<12>12.<4> Inability to Comply: If it is impossible for You to comply with any 
of the terms of this License with respect to some or all of the Open Game 
Content due to statute, judicial order, or governmental regulation then 
You may not Use any Open Game Material so affected.\n\n

<12>13.<4> Termination: This License will terminate automatically if You fail to 
comply with all terms herein and fail to cure such breach within 30 days 
of becoming aware of the breach. All sublicenses shall survive the 
termination of this License.\n\n

<12>14.<4> Reformation: If any provision of this License is held to be 
unenforceable, such provision shall be reformed only to the extent 
necessary to make it enforceable.\n\n

<12>15.<4> COPYRIGHT NOTICE\n
<12>__Open Game License v 1.0<4> Copyright 2000, Wizards of the Coast, Inc.\n
<12>__System Reference Document<4> Copyright 2000, Wizards of the Coast, Inc.;
Authors Jonathan Tweet, Monte Cook, Skip Williams, based on original
material by E. Gary Gygax and Dave Arneson.\n
<12>-----------<4>\n
__All of the game mechanics used in Incursion, along with the names
of monsters, items and spells, are designated as open game content.
The setting, plot and flavor text, as well as the computer code used to
intrepret and apply the game mechanics, are considered to be Product
Identity of Incursion and are not released under the OGL.\n
__All Incursion Product Identity may be freely distributed provided
that it is unaltered, but is otherwise in the majority copyright
1999-2007 Julian Mensch, with some portions copyright 1999-2003
Westley Weimer.\n
<12>-----------<4>\n
Mersenne Twister Random Number Generator Code Copyright Notice:\n
Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,
All rights reserved.\n
{MM:mainmenu} Return to Main Help Menu"; }
#line "sk_descs.irh" 1
Text "help::animal empathy"
{
"The Animal Empathy skill represents a primal, empathic link with
    wild beasts, and has the following use:\n
    __<15>* <11>Influence Animals (Passive):<3> This skill allows you 
    to communicate with animals and magical beasts. You can pacify angry 
    animals, making them nonhostile. You can cow angry animals, making 
    them afraid of you. You can soothe allied animals, removing sleep 
    and fear. Finally, you can befriend nonhostile animals, turning them 
    into temporary party members. The DC for an Animal Empty skill check 
    is 15 + the challenge rating of the animal.";
}

Text "help::appraise"
{ "__The Appraise skill has the following Passive uses.
     All represent new information that shows up in the window
     when you examine a monster:\n
    __<15>* <11>Discern Hiding Awareness (Passive):<3> When you are Hiding
    in Shadows and you examine a creature, the game will tell you if that
    creature is aware or unaware of your presence if your [Appraise - 4]
    is equal to or higher than the subject's Bluff. Otherwise, you do not
    recieve any indication.\n
    __<15>* <11>Identify Monsters (Passive):<3> The primary utility of Appraise
    is the ability to appraise monsters. By carefully observing other
    creatures and noting tell-tale signs in their behaviour, a character with
    a high Appraise skill can learn a great deal about intelligent creatures.
    Appraise is the primary skill that is used to identify the true nature
    of monsters who initially appear as other kinds of monsters -- a character
    might spot a vampire, dragon or wererat posing as a normal human, or discern
    that a kobold is in fact a skilled kobold rogue merely be watching the way
    she moves. Appraise is not the only skill that helps to identify monsters
    -- many Knowledge skills aid as well, and Appraise affects only intelligent
    creatures, but it is the only skill that allows a character to determine if a
    monster has class levels, or to tell a human priest apart from a human mage.\n
    __The check to identify a monster is made automatically the very first time
    the player character sees the monster. The DC of a check to identify a 
    creature's fundamental nature (telling a vampire apart from a normal human)
    is DC 10 + the subject's CR, whereas discerning a creature's class or level
    of skill is DC 15 + CR. This check is only ever made once; if it is successful,
    the game will tell the player that her character's knowledge aided in identifying
    the creature in question.\n 
    __<15>* <11>Sense Motivation (Passive, <4>Unimplemented<11>):<3> The Appraise skill can be used
    to determine what a creature desires, and how it feels about other creatures
    around it. Learning this information requires that the character possess a Sense
    Motive skill of 7, plus the subject's CR, plus 1 per 10 feet currently between 
    the subject and the PC; it's harder to discern motives at a great range, since 
    it involves observing body language. If the player character's Appraise level
    is sufficient, this information will automatically appear in the monster's
    description when it is examined.\n 
    __<15>* <11>Discern Strain (Passive, <4>Unimplemented<11>):<3> Strain represents the status of a
    follower's relationship with her leader. If a character has an Appraise
    skill of [10 + a subject's CR], she can see how much strain that creature's
    leader has accumulated toward it -- the higher a creature's strain, the more
    likely it is to snap and turn on its leader if something happens that should
    offend it.\n
    __<15>* <11>Psionic Combat (Passive, <4>Unimplemented<11>):<3> The Sense
    Motive skill is useful for discerning the psychological weaknesses of
    other characters, and thus plays a strong role in psionic combat. The
    threat range of a character's psionic attack modes increases by +1 for
    every full +5 Appraise a psychic character possesses.\n";
}


Text "help::athletics"
{
"The Athletics skill has the following effects:\n
      __<15>* <11>Increased Movement (Passive):<3> The Athletics skill increases a
      character's base movement rate. For every +2 worth of a character's
      overall Athletics rating, her movement rate increases by 5~.\n
      __<15>* <11>Increased Fatigue (Passive):<3> Athletic activity also improves
      endurance and general health. A character with this skill adds
      [Athletics / 3] to her maximum total Fatigue points.\n
      __<15>* <11>Train Attributes (Passive):<3> A character with a high Athletics
      skill maintains a regular program of calisthenics, dietary
      management, body training and so forth in order to improve her
      physical prowess. In game terms, this makes it easier for her
      to exercise her physical Attributes to gain inherant Attribute
      bonuses. A character that has the Athletics skill needs only
      [100 - Skill Rating] percentile points to successfully gain a
      +1 inherant bonus to Strength, Dexterity or Constitution rather
      than the full 100.";
#line "sk_descs.irh" 91
}

Text "help::alchemy"
{
"The Alchemy skill has the following effects:\n
      __<15>* <11>Identify Potions (Passive):<3> Characters with exceptional 
      ratings in the Alchemy skill can identify potions. This requires a 
      check against a DC of 15 + twice the depth the potion is usually found 
      at, and is only made one per potion, ever.\n
      __<15>* <11>Create Alchemical Items (Active):<3> The primary purpose of the
      Alchemy skill is the manufacture of alchemical items. A character with
      the Alchemy skill and access to an alchemy kit can create a number of
      different items equal to their Alchemy skill rating, albiet with a cost
      in both experience and time.\n
      __<15>* <11>Potion Formulas (Passive):<3> A character with the Brew Potions 
      feat is able to create potions; the number of formulas for potions she knows
      is based on the average of her skill ratings in Alchemy and Knowledge
      (Magic). This total does not include any potions she may be able to
      manufacture as a result of knowing the spell the potion is based on.
      __<15>* <11>Identify Potions (Passive):<3> When your character drinks an 
      unknown potion, and the effect is not immediately obvious, an Alchemy check 
      is allowed against a DC of 10 + the potion's depth in order to identify the 
      effect that potions of that type contain.";
}

Text "help::balance"
{
"The Balance skill has the following effects:\n
      __<15>* <11>Resist Knockdown (Passive):<3> The balance skill 
      aids you in resisting knockdown and knockback in combat; you 
      gain a bonus to the saving throw equal to half your Balance 
      skill rating if you have Balance as a class skill.\n
      __<15>* <11>Tightrope Walking (Active):<3> Characters with a 
      rating of 10 or higher in the Balance skill are able to do 
      tightrope walking. Using the skill at the edge of a chasm or
      other dangerous terrain will create a rope walk-line from your
      current position to the nearest wall in the specified direction.
      Every square so affected consumes 10 feet of rope. You must
      thus have both sufficient rope and a crossbow (to use to fire
      the rope, like a grappel gun) to do this. Creating a tightrope
      bridge does not require a skill check, but you do have to have
      Balance 10+ to do it.\n
      __Moving while on a tightrope requires a Balance check (DC 15)
      for every square covered. If you suffer damage while on the
      tightrope, you must make a Balance check against DC 20 + 2 per
      5~ of your total hit points suffered. Failing either of these
      checks causes you to suffer the effects of the terrain you fall
      onto, to become prone and to be unable to use the tightrope bridge 
      again until you reach solid flooring.\n
      __<15>* <11>Terrain Effects (Passive):<3> Some types of terrain -- 
      notably ice -- require a Balance check to cross or fight on without 
      suffering some side effect, as described in the terrain in
      question.\n
      __<15>* <11>Invisibility to Tremorsense (Passive):<3> Characters 
      with a Balance score of 20+ are able to move so carefully and 
      softly as to be immune to Tremorsense whenever they are Hiding.
      At 30+, they are immune to Tremorsense at all times, whether they
      are hiding or not.\n
      __<15>* <11>Mounted Casting (Passive):<3> Casting while mounted
      normally takes a character 15 phases more than usual; characters
      with Balance 20+ are exempt from this restriction.\n
      __<15>* <11>Aeriel Casting (Passive):<3> Characters using magic
      to fly or levitate must succeed in a Balance check to correctly
      perform the somatic components of a spell. The DC of this check
      is 7 + (Spell Level x 3).";
}

Text "help::bluff"
{
"__The Bluff skill has these uses:\n
        <15>* <11>Exploitation (Talking):<3> Characters can use the Bluff 
      skill to exploit others, convincing them that damage inflicted 
      wasn't a hostile act and causing creatures who have become hostile 
      as the result of being attacked or suffering damage to become 
      neutral again. Thus, a character with high Bluff can convince
      summoned creatures to set off traps, use allies as cannon fodder,
      etc. and still manage to retain their loyalty. This can't be 
      used to change the attitude of creatures who begin play hostile 
      (use Diplomacy for that) -- it is only effective on creatures 
      who began friendly or neutral and became hostile as a result of 
      later events. The DC for this ability varies based on many 
      different circumstances. Exploitation is an evil act -- unless
      it is used on an inherantly evil creature.\n
      __<15>* <11>Create Distraction (Active):<3> The Bluff skill can
      be used to create a distraction, misleading creatures observing
      the skill user. If this use is successful, creatures watching
      the skill user are not counted as witnesses for the purposes of
      Hiding -- the character can draw the attention of others away
      from her and slip into the shadows even when surronded by foes.
      If the character beats a given observer's distraction DC by 10
      or more, that observer is so distracted that they are considered
      flat-footed against the Bluff user's attacks for a full round, in
      addition to the normal effect.\n
      __Every previous distraction attempt against the same creature
      increases the DC of future attempts by +2 if successful, or +5 if
      it fails. A character can elect to try and distract everyone
      watching her at the same time, but this increases the DC by +5.
      The base DC of a distraction attempt is 10 + the target's Will
      save modifier or Concentration skill rating, whichever is
      superior -- for multiple targets, the highest DC from the group
      determines if a distraction is successful.\n
      __<15>*_<11>Conceal Alignment (Active):<3> Some creatures are hostile 
      to other creatures based on alignment, and in some cases alignment
      affects other skill checks, usually giving penalties; furthermore,
      characters with radically different alignments than a party leader's
      count as higher effective CR when they join a party. In all these
      cases, the creatures are assumed to be familiar with the player's
      alignment based on her reputation and past actions -- however, a
      character with Bluff as a class skill is assumed to be covert
      enough in her behaviour and activities that other creatures will
      not easily be able to percieve her alignment. Such a character
      suffers alignment-based penalties or hostility only if the subject
      creature's Sense Motive skill exceeds her Bluff skill. If it does
      not, creatures percieve her as whatever alignment favors her most
      -- devils will percieve her as Lawful Evil, for example, and thus
      be non-hostile to her and eager to deal.\n
      __<15>* <11>Trick Magic (Passive):<3> A rogue's special ability
      to use class or race-specific magic is based on the sum of her
      Bluff and Use Magic scores.\n
      __<15>* <11>Issue Requests (Talking):<3> Characters that lack a
      strong rating in the Diplomacy skill can choose to use their
      Bluff skill in place of Diplomacy to Issue Requests. This works
      exactly as with Diplomacy, except that if the check fails, the
      target creature will become hostile as a result. Because of this
      added factor of danger, characters whose Bluff skill exceeds
      their Diplomacy skill will always be asked which they want to
      use when issuing a request -- they can then choose to use their
      lower Diplomacy score and have less chance of success, but not
      risk causing the creature to become hostile.\n
      __Using Bluff to issue requests (i.e., trick people into doing
      things for you) is an unlawful act unless it is used on
      monsterous creatures that aren't well recognized as people by
      human society, and is an evil act if used on non-evil creatures.\n
      __<15>* <11>Deceptive Diplomacy:<3> In certain circumstances use
      of the Diplomacy skill is considered to be deceptive, and it thus
      requires the Bluff skill to support it. In these cases, the 
      Diplomacy skill check suffers a -1 penalty for every point by
      which the target's Sense Motive skill exceeds the skill user's
      Bluff skill.\n
      __<15>* <11>Taunt (Talking):<3> The Bluff skill can be used to taunt other
      characters, causing them to run up and attack you in melee as if
      affected by the spell <9>dire charm<3>. This requires a successful
      skill check against a DC of 10 + twice the target's Will save
      bonus.\n\n

      <8>Unimplimented Uses:\n
      __<15>* <11>Exclusive Guilds (Passive):<3> Certain guilds do not allow
      members of other guilds to join them, as a result of competitive
      practices or old enimities between them -- the Thieves and
      Assassins, Justicars and Templars, the different mercenary
      orders, etc. A very high (15+) Bluff skill can allow a character
      to circumvent most of these restrictions by leading a kind of
      double-life using alternate identities. There is no check
      involved here; all that is required is a certain level of Bluff
      on a case-by-case basis.\n
      __<15>* <11>Evade Justice (Passive):<3> When a player character angers the
      guard in a town or city through criminal activities, a Bluff
      check can be used to deny evidence and get off the hook. These
      checks start relatively easy, but every such check made increases
      the DC of all future checks for the same town or city by +2. This
      modifier is culmulative and never goes away.\n
      __<15>* <11>Reputation Buffer (Passive):<3> When a character
      performs actions that would normally permanently damage his
      reputation and leave him with penalties to social interactions
      (notably killing friendly creatures outside of a dungeon), the
      Bluff skill gives that character a kind of buffer, allowing him
      to wheedle his way out of otherwise incriminating and damaging
      situations. Enough psychopathic behaviour will still end up with
      the character being unable to take allies and being shunned by
      all but the most chaotic and evil, but a character with Bluff
      as a high-rated class skill has much more leeway in this regard
      than most characters do.";
}

Text "help::climb"
{
"The Climb skill can be used in several different ways. Most of the
    passive applications can be invoked with the Ascend and Descend
    commands -- the same ones used to climb up and down stairs.\n
    __<15>* <11>Climb Vines/Trees (Passive):<3> A character with a Climb
    skill rating of 7+ can climb trees (or giant mushrooms) and move about 
    above the ground in a wooded area by standing in a square with a tree
    in it ans using the Ascend command. This does not require a skill check,
    merely the listed skill rating. The Descend command returns the character
    to ground level. If you are struck for damage while climbing in trees, 
    you must make a Climb check against DC 10 + 2 per 5~ of your total hit 
    points suffered. Failure means you suffer falling damage, the terrain 
    effects of whatever square you are climbing over and you become prone.\n
    __A skill check against DC 13 allows a character to move from tree to tree
    while elevated in this manner; with a skill check against DC 25, the character
    is even able to use the Jump skill as if she were on the ground. When climbing
    in trees, a character gains a bonus to hit and to her defense class equal to
    2 + 1/6th of her Climb skill, and also benefits from 25~ cover against missile
    attacks.\n
    __Casting a spell while climbing in trees requires a Climb check against DC
    15; failure causes you to fall, and to botch the spell.\n
    __<15>* <11>Descend Chasm Safely (Passive):<3> With a Climb check against DC
    15, a character standing on the edge of a chasm can attempt to descend
    to the level below safely, coming to rest in the nearest safe square
    one dungeon level below where she began.\n
    __<15>* <11>Ascend Level (Passive):<3> If you fall down a chasm or trapdoor
    trap, you can attempt a Climb roll to climb back up to the level 
    you were on. You need to have a Climb score of at least +12 to 
    attempt this, you must have rope equal to the distances to the nearest
    ledge and you need to succeed on a Climb check versus DC 20. Failure means 
    that you suffer the falling damage again. Anytime you are underground and 
    the game tells you there is no ceiling, you can climb up to the level 
    above -- you can recognize these areas because the floor will be cyan,
    and the status bar will include '(open above)'.\n
    __Failing the Climb check causes falling damage. The <9>fly<3> spell
    allows you to ascend in such areas automatically, but <9>levitate<3>
    is insufficient, as you cannot use it to rise very far above the
    ground.\n
    __<15>* <11>Escape Pit Trap (Passive):<3> Attempting to get out
    of a pit trap requires a Climb check, usually against DC 20.
    Failing the check causes you to suffer the effects of the trap
    (falling damage, poisoned spikes, etc.) again, as you climb
    partially out and then fall.\n
    __<15>* <11> Climb Along Ceiling (Passive):<3> If you have an 
    Climb skill rating of 20+ (probably throuh <9>spider climb<3>), 
    you can climb on the roof of the dungeon. You can ascend 
    whenever you're standing next to a wall. On the ceiling, you 
    get a bonus to Hide equal to +6 +1/3 your Climb skill, can walk 
    over creatures undetected, are at a higher layer and gain the 
    same combat benefits as a character climbing in trees, save for 
    the cover. You also avoid traps and terrain effects.\n
    __You have no Dex bonus when climbing on the ceiling, and it 
    costs 1 Fatigue to make the climb up. Your movement rate is 30~
    normal, +5~ per point of Climb above 20. On one in thirty movement 
    actions while climbing on the ceiling you must make a Climb check 
    against DC 25. If you fail, you fall; if you score less than 35, 
    the effort costs you one fatigue. Furthermore, if you are struck 
    for damage while on the ceiling, you must make a Climb check 
    against DC 25 + 2 per 5~ of your total hit points suffered.
    Failure means you suffer falling damage, the terrain effects
    of whatever square you are climbing over and you become 
    prone.\n
    __Casting a spell while climbing on the ceiling requires a Climb 
    check against DC 25; failure causes you to fall, and to botch the 
    spell. Even if you succeed, the casting requires 15 phases more
    than usual, unless the spell is Stilled and thus does not require
    somatic gestures.\n\n
      
    <8>Unimplimented Uses:\n
    __<15>* <11>Climb Structures (Passive):<3> On the city map, you can 
    use the Climb skill to climb up on top of any building or barrier,
    including the city walls (which is counted as criminal if the
    city guard sees you). Climbing buildings may also allow you to
    enter some buildings by upper floor windows, which it rumored to
    be the only way to enter certain locations (such as the thieves'
    guild and some wizards' towers). The DC of the Climb check is 
    determined by the structure in question.\n
    __Characters who have ascended buildings have significant bonuses
    to Hide and to attack and damage rolls, and if not standing near
    the edge of a building they simply cannot be seen by other creatures
    withour exceptional sense abilities.\n
    __<15>* <11>Cross Mountains (Passive):<3> You must have the Climb 
    skill and possess a rating of at least +10 in order to travel across
    mountains on the wilderness map. Any terrain survival checks you
    make in mountanous areas use the lower of your Climb and Wilderness
    Lore skills.";
}

Text "help::concentration"
{ "__The Concentration skill has these applications:\n
      __<15>* <11>Cast while Distracted (Passive):<3> The primary function
      of the Concentration skill is being able to cast spells successfully
      while in difficult circumstances. Every point of Concentration rating
      above +5 cancels a 5~ increase is spell failure chance due to status
      conditions or enviornment. Multiple distractions form a culmulative
      spellcasting penalty that Concentration is subtracted from as a whole
      -- it isn't counted seperately against each penalty, so strong
      Concentration rating can be very valuable to melee spellcasters.
      The following situations all impose penalties to spellcasting:\n
      __<7>Attacks:<3> Spellcasting in melee provokes attacks of opportunity
      unless the Defensive Spell feat is used; if these attacks inflict
      damage on the caster, his spell may be disrupted. Every 1~ of the
      caster's total hit points lost to these attacks adds a 3~ chance of
      spell failure, so a caster who loses 20~ of his hit points to an
      attack of opportunity from spellcasting also suffers a -60~ chance
      of spell success.\n
      __<7>Stunning/Nausea:<3> A stunned or nauseated character suffers a 
      -50~ chance of spell success.\n
      __<7>Confusion:<3> A confused character suffers a -75~ chance to
      spell success, and if they suffer spell failure, the spell may have
      an odd or unintended effect.\n
      __<7>Grappling/Stuck:<3> A character locked in a grapple suffers a
      -30~ spell success chance (assuming use of the Still Spell feat,
      without which a Grappled character cannot cast at all), and a
      character that has become stuck (such as from a <9>web<3> spell or
      the strands from a tanglefoot bag) suffers a -20~ chance of spell
      success.\n
      __<7>Distraction:<3> A caster successfully distracted by a use of
      the Bluff skill suffers a spell success penalty equal to 5~ per two
      points the Bluff check exceeded the spellcaster's distraction DC.\n   
      __<7>Terrain:<3> Swimming or being waist-deep in mud grants a -15~ 
      penalty to spell success.\n
      __<7>Hunger:<3> Being Starving inflicts a -15~ spell success penalty,
      and being Weak from hunger increases that penalty to -30~.\n
      __<7>Spell Effects:<3> Spells such as <9>insect plague<3>, <9>control
      winds<3> or <9>hideous laughter<3> penalize spellcasting as described
      under the spell in question.\n
      __<7>Flight:<3> Characters who are levitating or flying suffer a -15~ 
      penalty to spellcasting.\n
      __Note that Concentration does <11>not<3> cancel penalties to spell
      success chance from wearing armor, low Intelligence or fighting
      defensively.\n
      __<15>* <11>Reduce Penalties (Passive):<3> An exceptional Concentration
      skill gives a character a heightened ability to resist pain, and a
      high Concentration skill will lessen the attack and damage penalties
      inflicted by magical effects that cause pain, such as <9>pain touch<3>,
      weapons of pain or a <9>symbol of pain<3>. If a character has Concentration
      as a class skill and a rating of +10, the sum of all her pain penalties are 
      reduced by 1; at +12, this increases to 2, at +14, 3, at +16, 4, and so
      forth.\n
      __<15>* <11>Contests of Will (Passive):<3> Some spells and magical
      items (notably <9>spiritwrack<3> and the various <9>planar conjuration<3>
      spells) require the caster to engage in a contest of wills with another
      creature, which is resolved an opposed Concentration check -- whichever
      character scores higher wins.\n
      __<15>* <11>Break Paralysis (Passive):<3> Characters with a 15+ rating
      in Concentration are able to overcome paralysis effects through sheer
      force of will. If they fail a saving throw against a paralysis effect,
      they recieve an additional Fortitude save against DC 18 every turn
      until they have beaten the effect.\n
      __Characters with this ability are also able to move when paralyzed 
      and truly, deeply desperate just enough that they cannot be subjected
      to the Coup de Grace maneuver.\n
      __The Escape Artist skill can also provide this benefit.\n
      __<15>* <11>Attack while Nauseated (Passive):<3> Characters with a
      rating of 10+ in Concentration have a chance to attack even while
      Nauseated -- a state which normally prevents a character from
      attacking. A DC 20 Concentration check is required, and failing
      this check costs the character a full 40 segments without any
      action being taken, and provokes an attack of opportunity.\n
      __<15>* <11>Psionic Focus (Active, <4>Unimplemented<11>):<3> When a character is not in
      combat and not in the immediate presence of hostile creatures, she
      may spend a fatigue point and make a Concentration check (DC 15)
      to gain a state of psionic focus (which can be expended to augment
      psionic powers in various ways, fulfilling a vaguely similar role
      to metamagic for spellcasters). Failure causes the fatigue point to
      be wasted, but the attempt can be made freely again on the character's
      next turn without any further penalty.\n
      __<15>* <11>Train Wisdom (Passive):<3> The techniques of meditation
      and mental focus a character learns in developing the Concentration
      skill serve as an excelent springboard for heightening perception
      and strengthening the will overall. Concentration can be used to
      train the Wisdom attribute in the same manner that Athletics is used
      to train the three physical attributes.";
}

Text "help::craft"
{ "__The Craft skill has these applications:\n
    __<15>* <11>Repair Items (Active):<3> The Craft skill can be used
    to repair items which have become damaged as a result of magical
    attacks, acid, rust or any of the other rigors of the dungeon. 
    Mending a metal item requires access to a forge, and mending any
    item demands a set of craftsman's tools. To repair items, a Craft
    skill check is made against a base DC of 10, plus a modifier based
    on the power of an item if it is magical (more advanced magical
    items require more careful craftwork!), +1 for every 10~ of its
    hit points the item is missing, +2 per previous failed attempt to
    repair this item.\n
    __Repairing an item normally takes two hour, but if the craftsman
    values the item highly, she may decide to work slowly, taking 8
    hours instead and recieving a +4 bonus to the skill check. A
    successful Craft check repairs a number of hit points of damage
    to equal to 2d8 + 1/3rd of the crafter's Craft skill rating.
    __Failing a repair DC by 5 or more actually damages the item
    further, inflicting an additional 1d8 points of damage.\n
    __<15>* <11>Temper Masterwork (Active):<3> By tempering and
    reforging a sword or other item, a character can preserve it in
    a state of perfect flawlessness - a masterwork. Crafting a
    weapon so that it becomes a masterwork in this manner requires
    a Craft skill of at least +12. A masterwork weapon gains a bonus
    to damage of +1 at Craft +12, +2 at Craft +17, +3 at Craft +22
    and so forth. After being used on combat over a period of time,
    a masterwork blade can lose its edge and revert to being a
    normal weapon, requiring the crafter to temper it again. The DC
    to temper an item is 15 + the dungeon depth such an item would
    be typically found at. Doing this takes 6 hours.\n
    __Only long blades, short blades and daggers can be tempered.
    As always, working with metallic items requires a forge.\n
    __<15>* <11>Dwarven Weaponcraft (Active):<3> The dwarven ability
    to create magical weapons and armor is limited by the Crafts
    skill. A dwarf using this ability can create items roughly equal
    to what would be found at a depth equal to her Craft skill rating
    -- a dwarf with Crafts +8 could create items typically found on
    dungeon level 8. Note that the <11>best<3> items found on a given
    level of the dungeon are typically somewhat 'out of depth', being
    excepyional for the depth they are found at.\n
    __<15>* <11>Craft Dragon-Armor (Active, <4>Unimplemented<11>):<3>
    If a character exceptionally skilled with Craft should be fortunate 
    enough to slay a dragon of young adult age or older, she can use
    her skill to craft dragon scale mail armor from the beast's remains.
    Doing this requires that the dragon corpse be dissected in order to
    obtain dragon scales, and then a forge found at which the character
    can work. Creating dragon scale mail requires a Craft skill of at
    least +15, eight hours of work and a Craft check against a DC of 20
    plus the dragon's age category. Failing this check causes the dragon
    scales to be wasted and the attempt to create armor fails.\n
    __If the check is successful, the armor gains the base traits of
    normal scale mail, but its base armor values are increased by +1
    per age category of the dragon; additionally, it conveys either a
    saving throw bonus or an elemental resistance equal is magnitude to
    twice the dragon's age category -- for example, scale mail made from
    the hide of an adult red dragon would grant Fire Resistance 12.\n
    __Dragonskin is supple and almost infinitely adaptable in the hands
    of a truly skilled craftsman. For every three points the base DC is
    beaten by, the mail's armor check penalty decreases by one, to a
    minimum of 0.";
}

Text "help::decipher script"
{ "__The Decipher Script skill has the following applications:\n
      __<15>* <11>Read Scrolls (Passive):<3> The primary use of the Decipher
      Script skill is reading magical scrolls; this may be attempted
      regardless of whether the character actually has the skill.
      The base DC to successfully read a scroll is 20 for a scroll
      of a 'buff' spell, 15 for an offensive spell and 10 for a general
      purpose spell. Added to this is twice the spell level, minus 1.\n
      __Characters have a +5 competance bonus to read any spell from a
      scroll that is on their class spell list, that they have access
      to at their current level. (Note the difference between chart
      levels and spell access as described in the Multiclass Spellcasters
      section.) If a character reads a scroll of a spell they actually
      know and are able to cast normally, the casting is automatically
      successful and costs no mana.\n
      __If the reader's Decipher Script check beats the required DC by
      10 or more, the reader has a 50~ chance of being able to preserve
      the scroll and use it again.\n
      __The effective caster level of a scroll-read spell is the higher
      of twice the spell's level minus one and the reader's Decipher
      Script level - 2. Thus, low-level characters with high Decipher
      Script skills can often produce impressive castings from scrolls.
      It takes [50 - (Decipher Script x 2)] segments to read a scroll,
      to a minimum of 10 segments.\n
      __<15>* <11>Damaged Spellbooks (Passive):<3> When a mage attempts
      to cast a spell that she only has in a spellbook that has suffered
      damage, a Decipher Script check is necessary to make out the
      partially illegible text. This check has a DC of 10 + 1 per 10~ of
      the spellbook's hit points that have been lost.\n
      __<15>* <11>Item Identification (Passive):<3> Certain items of
      various types are identified by the game as 'runed', 'enscribed',
      'rune-covered' or so forth. By reading these runes with the 
      Decipher Script skill, a character may be able to identify the
      item. This requires that the character actually have the Decipher
      Script skill as a class skill, and requires a check against a DC
      of 10 + twice the item's level. This check is made automatically
      at the same time Intuition information is gained; success reveals
      the item's plus and magical nature to the player.";
}

Text "help::diplomacy"
{ "__Diplomacy is a very broad and open-ended skill with the following
     possible applications:\n
      __<15>* <11>Increased PCR (Passive):<3> The total
      possible CR of your party -- your PCR -- is increased
      by your Diplomacy rating. If adding a creature to your
      party would cause the party's total CR to exceed
      your PCR, that creature won't be able to join
      unless you dismiss someone else. You must have a
      Diplomacy score above +5 for it to impact your PCR;
      every full +5 after the first increases the maximum
      possible size of your party by 100~.\n
      __Creatures whose Personality Architypes or
      alignments conflict with your own or with other
      members of your party have an inflated effective
      CR when it comes to determining their role in the
      calculation of PCR. This inflation is reduced by
      a high Diplomacy level on the player character's
      part. Thus, it requires an exceptional Diplomacy
      skill to maintain a party with both good and
      evil characters of any reasonable power in a 
      stable manner.\n
      __<15>* <11>Issue Request (Active):<3> One of the 
      possible uses for Diplomacy is the ability to 
      give non-hostile, non-friendly NPCs requests. The 
      creature must be intelligent, and unlike a true 
      ally he will not cross from one map to another 
      with the PC -- his aid is purely situational.\n
      __Orders that can be given vary. NPCs can be
      asked to give the PC items that they picked up
      in the dungeon (this is difficult), but not
      items that are part of their inherant equipment.
      NPCs can also be persuaded to attack other
      creatures that are already hostile to them --
      in other words, their priority of enemies can
      be changed.\n
      __Perhaps the most useful order a player can
      give is to get an NPC to follow her. By so
      doing, the player can lead an NPC to other
      creatures that they hate -- demons vs. devils,
      elves vs. drow, good vs. evil, etc. -- and
      allow the NPC to fight the player's battles
      for him. Once a player has successfully used
      Diplomacy on a given NPC, he recieves half of
      the experience for all the creatures that NPC
      kills, for the remainder of the day Diplomacy
      was used in. However, creatures that the
      player guides in this manner do not count as
      party members for party Hit Dice purposes --
      they are still neutrals, not allies.\n
      __Diplomacy cannot be used to give a creature
      orders in the same day it was used to change
      that creature from hostile to neutral, and
      every order given after the first in a single
      day increases the DC by +2.\n
      __The DC for a Diplomacy check to convince a
      creature to do something depends on your race,
      the creature's race, the request given, your
      Personality Architype, the creature's alignment
      and so forth. The one factor that always applies, 
      however, is CR -- the target creature's CR is
      always added to the DC of an Issue Request check.
      __This function of Diplomacy can also be used to
      convince creatures to barter with you when they
      otherwise would not be willing -- dwarves will
      not trade with drow or orcs without an impressive
      check, for example.\n
      __Storekeepers sell to anyone, but they are often
      more reluctant to buy wares from dungeon delvers
      (as opposed to trade guilds). Whether they will
      purchase items often depends on a character's base
      Diplomacy skill rating, modified by the normal
      social modifiers. For example, Roark Ironbeard
      will purchase powerful magical weapons and armor
      only from characters with an adjusted Diplomacy
      rating of +12.\n
      __<15>* <11>Enlist Aid (Talking):<3> When you ask
      a named character to join your party, a Diplomacy
      check determines if they are willing, modified by
      personality architypes, alignment, race, etc. You
      only get one check against a given character in
      this circumstance, <11>ever<3>.\n
      __Unlike most Diplomacy checks, this one cannot
      be modified by magical bonuses, because it 
      represents a long-term commitment on the NPC's
      part.\n
      __The DC of an Enlist Aid check is 15 + twice the
      affected character's CR.\n
      __<15>* <11>Dismiss Ally (Talking):<3> Conversely, the 
      Diplomacy skill can be used to get a character to
      leave your party on graceful terms. When you elect
      to dismiss a character, they will automatically cease
      to be an ally and become a neutral character. The
      success or failure of the Diplomacy check determines
      if they can be added back into your party reliably at
      a later time. If you fail the Dismiss Ally check, you
      need to make the Enlist Aid check again, and if that
      check fails, the character is permanently closed to
      you as a party member as usual.\n
      __If you succeed, you can automatically add the
      character in question back into your party at any
      time in the future, provided you have enough free
      PCR.\n
      __The DC of a Dismiss Ally check is 7 + the affected
      character's CR, and the check does not fail on a 
      natural one.\n
      __<15>* <11>Haggling (Passive):<3> Your Diplomacy rating 
      is used internally by the game in calculating shop and
      barter prices, along with racial affinities, personality
      modifiers and so forth. Note that regardless of exceptional
      Charisma and Diplomacy, characters will still always find
      that there is a very steep difference between buying and
      selling price in Incursion. Adventurers are a very tiny,
      very volatile customer base, and merchants trading in magic
      items must allocate a massive portion of their budget to
      the protection and procurement of their wares.\n
      __An average human character can expect to sell goods for 
      1/20th of their base price and buy them for five times their 
      base price. A character with maxed-out Diplomacy and Charisma
      can expect to sell items for 1/10th their base price and buy
      them for 2-3 times their base price.\n
      __More significantly, however, Diplomacy determines how much
      gold a merchant, adventurer or shop is willing to part with.
      A merchant may have 10,000 gp worse of loose cash, but being
      frugally smart only want to spent 3,000 gp to purchase new
      wares. Every point of a character's Diplomacy increases the
      amount of cash a merchant can be persuaded to use to purchase
      goods by 5~, up to an obvious maximum of the total amount of
      cash the merchant has.\n
      __Forcing sellers to expend too much of their operating finances
      buying items from you can impact your alignment.\n
      __<15>* <11>Barter for Services (Talking):<3> In addition to
      buying items from NPCs, a player character can buy services --
      usually the casting of spells -- from them. Spells that can
      be purchased from NPCs include Identify, Remove Curse, Cure
      spells, Restoration, and so forth, as well as certain extended
      protective magics like Resist Fire, Misdirection or Stoneskin.\n
      __As with items, Diplomacy influences the price of service spells,
      and a Diplomacy check (DC 5/10 + caster's CR, with modifiers based
      on race, alignment, etc.) is required to convince a caster to
      sell magic to you. Arcane casters are easier to convince to
      merchandise their magic (base DC 5) than divine casters (base DC
      10).\n
      __<15>* <11>Resolve Conflict (Active):<3> A Diplomacy check can
      be used to convince a hostile character to become neutral in some
      circumstances. The DC for this differs wildly -- it's not hard to
      calm down an angry goblin, but inherantly evil and vicious creatures
      like demons can be very hard to make peace with. In some circumstances,
      a creature will want something -- often a bribe -- in order to stop
      attacking you.\n
      __You cannot make creatures neutral to you with Diplomacy if you
      have already attacked them; for that, use Bluff.\n
      __<15>* <11>Surrender (Active):<3> When you choose to surrender to
      attacking NPCs, a fairly easy Diplomacy check is made; success
      causes the NPCs to accept your surrender and become neutral, taking
      all your gold and your best item in so doing. If you beat the check
      DC by 10 or more, you can reduce the amount of wealth and goods
      enemies take from you when you surrender.\n
      __Returning to attack enemies you have surrendered to is an unlawful
      act; if the enemies aren't themselves evil, it is also an evil act.";
}

Text "help::disguise"
{
"__The disguise skill has only one, Active, application --
    donning a disguise. To do this, you must have a disguise
    kit and make a disguise check against a varying DC -- 10
    to disguise yourself as a different member of the same
    race, 13 to disguise yourself as a member of a similar-
    looking race (halfling/gnome, drow/elf, human/elf, 
    human/dwarf, kobold/goblin, kobold/lizardfolk, etc.) or 
    16 to disguise yourself as any different humanoid race.
    You suffer a +4 DC to disguise yourself as a member of
    a race with a different size category than your current
    size category -- so this penalty can be removed with a
    magical gain or loss of a size category.\n
    __Donning a disguise requires an hour's worth of work.
    Failing the Disguise check gives you a -2 penalty to
    all further Disguise checks for the remainder of the
    day; multiple failures are culmulative.\n
    __Whether or not your disguise is seen through is
    determined by comparing the results of your Disguise
    check to the sum total of an observer's Spot and Sense
    Motive skills. Additionally, you need to have a base
    skill total of +8 to fool creatures with the Sharp
    Senses ability, and +12 to fool Scent. Disguises can
    be awkard and bulky, and impose a -2 circumstance 
    penalty to all actions unless the bearer has Disguise
    10+, at which point they only impose a -1 penalty. At
    +15, there is no penalty at all.\n
    __Though the Disguise skill only has one use, that use
    has several different effects, as follows; note that
    none of these effects apply if the creatures in question
    can see though your disguise.\n
    __<15>* <11>Affect Hostility:<3> The primary function
    of Disguise is to affect the hostility of other
    creatures. Creatures that are hostile to you because
    you struck them will not be hostile to you when you
    are disguised unless you strike them again while in a
    given disguise. Creatures that are hostile to you
    because you are 'the player character invading the
    dungeon' will not be hostile to you when you are
    disguised. Creatures that are hostile to you based
    on racial enemity will re-evaluate you based on the
    new race you seem to be -- most creatures will not be
    hostile to members of their own race, or to races
    that are traditionally friendly.\n
    __<15>* <11>Diplomacy Checks:<3> If you make a
    Diplomacy check while disguised, it is automatically
    considered to be Deceptive Diplomacy, as described
    under that skill.\n 
    __<15>* <11>Shop Prices:<3> Many shop-keepers in
    Incursion are racist, and adjust their prices based
    on the percieved race of their customers. Thus, you
    can use the Disguise skill to get lower prices in
    the shops by altering your race.";
}

Text "help::escape artist"
{ "__The Escape Artist skill has the following uses:\n
     __<15>* <11>Escape Grapples:<3> When a hostile creature grabs a
     character with this skill, her Escape Artist skill rating may be
     used in place of her Strength bonus in the manuever check to try
     to escape.\n
     __<15>* <11>Escape Engulfment:<3> When a character with the Escape
     Artist skill is engulfed or swallowed whole by a monster, she is
     allowed to make an Escape Artist check each turn to try and force
     the beast to disgorge her. The DC of this check is 10 + twice the
     creature's CR or 10 + the creature's Strength score, whichever is
     higher.\n 
     __<15>* <11>Tearing Free:<3> When a character has become stuck in
     entrapping terrain like rubble or bushes, or the effects of a <9>web<3>
     spell or tanglefoot bag, the Escape Artist skill allows her to try
     and break free. This requires a skill check against a DC of 15 +
     a modifier determined by how severely she is held in place.\n 
     __<15>* <11>Break Paralysis (Passive):<3> Characters with a 15+ rating
      in Escape Artist are able to overcome paralysis effects through sheer
      mental chicanery. If they fail a saving throw against a paralysis effect,
      they recieve an additional Fortitude save against DC 18 every turn
      until they have beaten the effect.\n
      __Characters with this ability are also able to move when paralyzed 
      and truly, deeply desperate just enough that they cannot be subjected
      to the Coup de Grace maneuver.\n
      __The Concentration skill can also provide this benefit.";
}

Text "help::find weakness"
{ "__The Find Weakness skill has the following use:\n
    __<15>* <11>Fighting Humanoids (Passive):<3> Characters with the
    Find Weakness skill are especially proficient at fighting living
    humanoids -- the skill grants essentially similar benefits as
    Knowledge skills do for certain monsters. In game terms, the
    character gains a bonus of [Find Weakness / 3] to his Defense
    against their attacks, and the threat ranges of his own attacks
    against living humanoids are increased by [Find Weakness / 9].\n
    __<15>* <11>Coup de Grace (Passive):<3> When you perform a
    Coup de Grace maneuver against an opponent, the DC of the saving
    throw to avoid instant death, even if you do not deal sufficient
    damage to kill that opponent, is 15 + your Dexterity modifier +
    1/2 your Find Weakness skill.\n
    __Characters with a Find Weakness skill of 20+ can Coup de Grace
    enemies who are both stuck and prone, just as if they were
    paralyzed.\n
    __<15>* <11>Precision Strike (Active):<3> Characters with the
    Find Weakness skill can use the Precision Strike combat option
    (in the Combat Options menu), gaining a bonus to a single attack
    roll against another creature equal to 1/2 their Find Weakness
    skill rating, at the cost of the attack taking an extra 45
    segments.";
}

Text "help::gather information"
{
"__Learning this skill represents attuning yourself
    to the flow of information and rumor in a town or
    city; it can be applied at taverns, certain guilds
    and similar locales. It has the following use:\n
    __<15>* <11>Discover Rumors (Active):<3> A character with this skill
    can go to a tavern and attempt to uncover knowledge
    about the whereabouts of a specific legendary
    magical item. With a successful Gather Information
    check, the character will be told the dungeon, and
    the depth within that dungeon, where she can find
    an item of the type she specified. The item is
    then guaranteed to be generated at that specific
    locale, waiting for the character to claim it.\n
    __Gather Information can only be used once in
    any given locale, so a character who seeks many
    rare items will have to travel across the country
    to cultivate new sources of information in
    different cities. Towns are smaller and more
    insular communities, and the knowledge a rogue
    can dig up there is much more limited.";
}

Text "help::handle device"
{ "__The Handle Device skill is a rough medieval-fantasy
    equivalent to engineering, and has the following facets:\n
    __<15>* <11>Disarm Trap (Passive):<3> A character can make 
    a Handle Device check to attempt to disarm any trap found 
    in the dungeon. The DC of this check is based on the trap
    in question, but typically increases the deeper into a
    dungeon a character goes. Failing a check to disarm a trap
    by more than 5 typically sets it off.\n
    __<15>* <11>Reset Traps (Active):<3> Once a trap has been
    disarmed, a character can examine its mechanism and reset
    it, calibrating it so that she is able to avoid any danger
    it presents, but other creatures -- even those native to
    the area the trap is found in -- may fall victim to its
    effects. If the trap kills a hostile creature, the player
    character who set is recieves the experience. Even if it
    is triggered and does not kill its victim, the player will
    recieve some experience.\n
    __Traps can only be reset if they have been disarmed. If
    they have been triggered, most aren't usable -- though
    some traps are multi-use and can be reset and triggered
    again and again.\n
    __The DC to reset a trap is always 5 higher than whatever
    was needed to disarm it, and a character must have Handle
    Device 10+ to make the attempt.\n
    __<15>* <11>Retrieve Components (Active):<3> A clever rogue
    can go one set further than setting or disarming traps,
    actually taking apart a trap and idsmantling it into its
    base components -- a collection of items she can carry with
    her through the dungeon. She can then later set up the trap
    at a new location without a check by 'a'ctivating the trap
    components.\n
    __The check to dismantle a trap is always made at a DC 10
    higher than that needed to disarm it, and a character must
    have Handle Device 15+ to make the attempt. If a rogue should
    come upon trap components by a means other than dismantling
    a trap -- buying them in a store, or killing another character
    that posssessed them, for example -- she must then make the
    save Retrieve Components check in order to set up the trap
    components in a new location.\n
    __<15>* <11>Mechanical Weapons (Passive, <4>Unimplemented<11>):<3> 
    The Handle Device skill is also used
    to operate mechanical weapons skillfully. Gnomes begin with
    these kinds of weapons, and other character may buy them, find
    them in the dungeon or take them from slain gnomes. Characters
    that do not have the Handle Device skill are not considered to
    be proficient with mechanical weapons, even if they would be
    proficient with a normal weapon of the type. Characters that
    possess te skill are proficient with any kind of mechanical
    weapon that they have the appropriate normal weapon group
    proficiency for.\n
    __Additionally, characters with this skill recieve bonuses of
    various kinds when using mechanical weapons, as follows:\n
    __<7>Polearms:<3> Mechanical polearms have spring-loaded telescoping
    hafts that can change length freely to accomodate their user's
    desire. These weapons add their wielder's [Handle Device / 3]
    to the DC of the saving throw to close with the wielder, and
    if the wielder has a Handle Device score of +10 or higher, they
    can be used to attack a target who is inside the normal reach
    in which a polearm of the type in question would be ineffective.\n
    __<7>Daggers / Knives:<3> Mechanical daggers or knives have various
    concealed or spring-loaded blades, whether the primary blade of
    the weapon or a secondary edge. On one in three attacks, the
    wielder can use this function to surprise an opponent, treating
    them as flat-footed if they can beat them on an opposed Handle
    Device vs. Spot check.\n
    __<7>Bows:<3> Mechanical conventional bows feature elaborate balances
    and pulley systems to direct force and channel torque, allowing
    the wielder to substitute (10 + [Handle Device / 2]) for her
    Strength score (if beneficial) when using them.\n
    __<7>Flexible Weapons:<3> Flails, whips, spiked chains and similar 
    weapons typically replace the chain with a very intricately 
    crafted mechanical tentacle that flows easily where guided until 
    a slight shift 'locks' it into its current form, turning the
    weapon rigid and potentially trapping weapons or limbs. This
    allows the wielder to add [Handle Device / 3] to the DC of
    saving throws against being tripped or disarmed by a mechanical
    flexible weapon.\n
    __<7>Crossbows:<3> Gnomish crossbows are fit with special sights made
    with ground glass lenses, allowing their wielder to aim her
    shots very precisely. They add [Handle Device / 5] to their
    threat range when used by a competant bearer.";
}

Text "help::healing"
{ "__The Heal skill has the following uses. Note that in all cases
    except Improved Healing, a character can only try to treat a given
    ailment once per day using the Heal skill. The Heal skill requires
    a kit to use, and cannot be used in combat.\n
    __<15>* <11>Improved Healing (Active):<3> Normally, characters
    heal ([Character Level + 3] x Constitution) / 5 hit points worth of
    damage every time they rest for a night. However, characters that
    have Heal as a class skill instead heal ([Character Level + Heal
    Skill Rating + 3] x Constitution) / 5 hit points per night, which
    can easily be enough to restore even mid-level characters from
    seriously wounded to fully healed overnight.\n 
    __<15>* <11>Treat Attribute Damage (Active):<3> The base DC for a
    Heal check to treat Attribute Damage is 10 + 2 per point of damage
    the attribute has suffered. Beating this DC heals one point of
    attribute damage, plus one per full 5 points the character's check
    result exceeds the base DC by.
    __Characters can only treat attribute damage with Heal once per
    day, and they cannot treat both disease or poison and attribute
    damage in the same day. In this specific case, the player must
    choose whether it's better tactically to treat the damage to an
    attribute, or to try and remove the cause of that damage -- the
    poison or disease -- overall.\n 
    __<15>* <11>Staunch Bleeding (Active):<3> The Heal skill can also
    be used to stop bleeding. This requires a skill check against a DC
    of 10 plus 3 times the number of hit points being lost per turn as
    a result of bleeding.\n
    __<15>* <11>Treat Blindness (Active):<3> A truly skilled healer
    may be able to cure blindness. This requires a Heal check against
    DC 30 (permanant blindness), DC 25 (blindness lasting days), or DC
    10-20 (blindness with a shorter-term duration).\n
    __<15>* <11>Treat Poison/Disease (Active):<3> A Heal check can be
    made to attempt to treat a poison or disease, but only once per
    affliction. The DC of the heal check is the same as the DC of the
    Fortitude saving throw against the disease or poison. A variable
    number of successful Fortitude saving throws are required to
    overcome a specific disease or poison. A successful Heal check
    counts as at least one successful saving throw; for every +5 the
    check exceeds the base DC by, it counts as another successful
    save against the poison or disease. Thus, a sufficiently high
    Heal check can purge a poison or disease instantly, while a
    less overwhelming one will at least lessen its effect and speed
    the time it takes for the character's body to overcome it
    naturally.\n
    __<15>* <11>Forestall Petrification (Active):<3> Petrification is
    a magical effect, and the Healing skill alone cannot cure it.
    However, by the application of careful herbal remidies and other
    obscure treatments, a successful Heal check against DC 20 can
    delay the onset of petrification by [Heal Skill x 20] combat
    rounds.";
}

Text "help::hide in shadows"
{ "__The Hide in Shadows skill has the following use:\n
    __<15>* <11>Hide (Active):<3> Using Hide, you can attain partial invisibility 
    in dimly lit areas of the dungeon at will. This slows your movement rate by 50~, and 
    the invisibility is broken the second that you attack, use a light source stronger 
    than a torch or otherwise draw attention to yourself. You can only Hide when you are 
    out of sight of all monsters hostile to you. You will recieve a warning if you are
    about to move into a brightly lit area, ending your hiding.\n
    __There is no Hide skill check; instead, when a character hides, a random adjustment
    between -5 and +5 is assigned to their Hide skill, and this adjustment is compared
    to the Spot skill of creatures nearby them; if an observer's Spot skill rating exceeds
    the character's adjusted Hide, that creature can then percieve the hiding character.\n
    __When a hiding creature steps next to a hostile creature, they may be given away by
    sound (as described under Move Silently), and which point they are no longer hiding 
    and become visible to everyone -- presumably the creature they stepped close to speaks
    or takes actions that make their presence apparent. Hiding creatures who do not step
    next to hostile creatures do not risk being exposed by noise.\n
    __Hiding and invisibility overlap. To percieve an invisible, hiding character, one
    must both be able to see invisible creatures, and must have sufficient Spot to be
    able to see the hiding creature.";
}

Text "help::illusioncraft"
{ "__The Illusioncraft skill has the following use:\n
    __<15>* <11>Illusory Monsters (Passive):<3> The maximum CR of creature that can
    be created by an illusion spell like <9>phantasmal force<3> or <9>shadow
    monsters<3> is equal to the illusionist's [Illusioncraft - 3], to a minimum
    of one.\n
    __<15>* <11>Illusory Items (Passive):<3> An item created with an illusion spell,
    typically as a lure for monsters, it typical of what would be found at a dungeon
    depth equal to the creator's Illusioncraft skill -- the higher the skill, the
    more attractive the item looks to a monster who seeks to acquire it.\n
    __<15>* <11>Disbelief DC (Passive):<3> The DC of the saving throw to disbelieve
    an illusion (<11>not<3> the DC of an Illusion spell's generic saving throw, which 
    is calculated in the normal manner for a spell save) is equal to 10 + half the
    caster's Illusioncraft skill rating, plus modifiers for school focus, arcane
    trickery and so forth.\n";
}

Text "help::intimidate"
{ "__The Intimidate skill has the following uses. Note that creatures who are
    immune to fear are unaffected by all uses of the Intimidate skill, and those
    who have saving throw bonuses against fear also apply those bonuses as 
    increases to the DC of Intimidate checks made against them.\n
    __<15>* <11>Cow Enemies (Talking):<3> Through a display of force or merely an
    expert display of threatening body language, a fearsome character can terrorize
    her enemies. By making an Intimidate check against a base DC of 15 + her most
    powerful foe's Will save modifier, adjusted for the apparent strength of the
    player's group in contrast with the monsters', a player can cause a group of
    monsters to become shaken, suffering a -2 morale penalty to all rolls. If she
    beats the DC by 10 or more, her foes will rout, fleeing in a mad panic.\n 
    __<15>* <11>Coerce Service (Talking):<3> Intimidate can also be used to extract
    service from other characters through threat of violence. This works essentially
    identically to issuing requests with Diplomacy, except that a failed check
    causes the subjects to become hostile. However, service can be coerced from
    frightened creatures as well as neutral ones, whereas Diplomacy can only be
    used on neutral creatures.\n 
    __<15>* <11>Demoralize (Passive):<3> When a player with the Intimidate skill
    and a skill rating of 10+ kills a creature with a critical hit, every other
    creature in that monster's group that witnessed the act must roll a Will saving
    throw against a DC of the character's [Intimidate + 5]; on a failure, creatures
    of CR 3 or lower become afraid, and others become shaken, suffering a morale
    penalty to all rolls of -1 at Intimidate 10+, -2 at 15+, -3 at 20+, etc.\n";
}

Text "help::intuition"
{ "__The Intuition skill has the following use:\n
    __<15>* <11>Item Hunches (Passive):<3>This skill allows you to gain special 
    feelings about items picked up in the dungeon, telling you if they are good, 
    bad or neutral.  Obviously, this is a valuable skill to single-classed rogues 
    and warriors who lack divination magics or Clairsentient arts. Normally, a
    character must have possessed an item for at least a day to gain this kind
    of hunch about it, and the Intuition check will be made immediately after
    the character rests a full night. However, there is a Character Generation
    Option that allows intuition to take place when an item is first percieved;
    by default, this option applies only to weapons and armor.\n
    __The Intuition check is a standard skill check with staggered results. If
    the result exceeds DC 5, the character learns whether items are magical or
    not. If the result exceeds DC 10, the character will learn which schools of
    magic the item is related to. With a check result of DC 15 or higher, cursed
    or blessed items can be discerned from normal items.\n
    __There is no messages for Intuition, since it takes place so frequently.
    Instead, the results appear in curly braces in the full name of the item,
    when it is seen in a pile on the floor or in the character's inventory
    screen.";
}

Text "help::jump"
{
"__The Jump skill has only this one, singular use:\n
     __<15>* <11>Jumping (Active):<3> Use this skill to cross from one square to another in 
     the dungeon while missing a square in between. This skill will let you get 
     past a monster without bull-rushing it, or to avoid a trap or pit. Beware, 
     though -- if you try to jump too far, you may not end up where you want! A 
     typical jumping DC is 10 for 1 square, +7 per extra square! Jumping provokes
     an attack of opportunity.";
}

Text "help::knowledge (Theyra)"
{ "__The Knowledge (Theyra) skill has the following uses:\n
    __<15>* <11>Map Memory (Passive, <4>Unimplemented<11>):<3> Characters with this skill will find
    that there is a radius of the overland map already visible around heavily
    inhabited or famous areas such as cities, ruins and roads based on their 
    skill rating, illuminating areas they might want to travel through or
    explore. At low skill ratings, this ia a very tiny radius and only appears
    around the most significant population centers; at higher levels of skill,
    it is larger and appears around towns and other smaller population centers.
    At the highest levels of skill, certain secret locations that cannot be
    found in other ways might be revealed in this manner.\n 
    __<15>* <11>Area Familiarity (Passive, <4>Unimplemented<11>):<3> Travelling through areas that
    are made familiar with this skill is both quicker and safer than travelling
    through other areas. The chance of encounters is less, and there is a bonus
    to Wilderness Lore checks made in the area.\n";
}

Text "help::knowledge (magic)"
{ "__The Knowledge (Magic) skill has the following uses:\n
        __<15>* <11>Formulas (Passive):<3> The Knowledge (Magic) skill figures into 
      the number of formulas you have available when creating certain types of 
      magical items. When you choose the Scribe Scroll feat, you know how to 
      scribe a number of scrolls equal to twice your rating in this skill, in 
      addition to being able to scribe any scroll that you can cast as a spell. 
      Similarly, if you select the Brew Potion feat, you know a number of potion 
      formulas equal to your [Alchemy + Knowledge (Magic)] ratings.\n
      __<15>* <11>Learning Spells (Passive, <4>Unimplemented<11>):<3> When you attempt to learn a new 
      spell for which you have an open slot, a Knowledge (Magic) check is made 
      against a DC of [5 + (Spell Level x 2)]. Success indicates you are able to 
      learn the spell normally, while failure means that you will not be able to 
      learn that spell until you've gained a number of caster levels equal to 
      half the amount your roll missed the DC by.\n
      __<15>* <11>Research Items (Active):<3> When you are in an Ancient Library, 
      you can attempt to use the books found therein to learn about your magical
      items. If you can succeed in a Knowledge (Magic) check against a DC of 10 + 
      twice the dungeon depth the item would typically be found at, you will
      be able to fully identify it as per the <9>identify<3> spell. This research
      requires two hours, but if you choose to devote 8 hours to it, you recieve
      a +3 circumstance bonus on the skill check. You must have Knowledge (Magic)
      as a class skill to research items.\n
      __<15>* <11>Research Curses (Active):<3> Similarly to researching items, you
      can use an Ancient Library to try to discover a way to lift a curse. This
      requires the full 8 hours and a check against a DC of 10 + the caster level
      of the curse. Success lifts the effect. You must have Knowledge (Magic)
      as a class skill to research curses.\n
      __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Magic) skill
      can be used to identify inherantly magical monsters as well as those whose
      origins lie with magical experimentation, as described under Sense Motive.\n
      __<15>* <11>Identify Scrolls (Passive):<3> When your character successfully
      reads an unknown scroll (using the Decipher Script skill), and the effect
      is not immediately obvious, a Knowledge (Magic) check is allowed against a
      DC of 10 + the spell's level in order to identify the spell that scrolls
      of that type contain.";
}

Text "help::knowledge (theology)"
{
"__This skill represents a knowledge of the Theryan pantheon and your diety in 
      particular. It has the following specific applications:\n
      __<15>* <11>Make Offerings (Passive):<3> When you make a sacrificial offering
      to your diety, the Knowledge (Theology) skill determines how well you enact
      the ritual and ceremony of the act, and thus how pleasing your sacrifice is
      to your diety. The effective value of the sacrifice increases by 10~ for every
      +1 of your Knowledge (Theology) skill rating. Thus, a character with a +15
      Knowledge (Theology) finds that his sacrifices are worth twice as much as 
      those of a character with only +5 Knowledge (Theology).\n
      __<15>* <11>Identify Altar (Passive):<3> When you discover an unknown or
      strange altar in your travels, you can learn which diety it belongs to with
      a Knowledge (Theology) check against DC 15. You only get one chance to 
      identify an altar, and the attempt is made automatically when you walk into
      the square with the altar on it.\n
      __<15>* <11>Conversion (Passive):<3> When you make a sacrifice at an altar
      that does not belong to your current diety -- whether in an attempt to
      convert the altar or yourself -- the result is determined by a Knowledge
      (Theology) check with several circumstantial modifiers; the DC varies with
      the gods involved and the sacrifice made, but is typically DC 20 or higher.
      Failing altar conversion angers the god the altar belongs to, while failing
      self-conversion angers the god you are rejecting. In both cases the diety
      in question will have the ability to send immediate supernatural retribution
      if you lapse the ritual mystical protections by failing the Knowledge
      (Theology) check.\n
      __<15>* <11>Opposing Ideals:<3> Certain spells, such as <9>banishment<3>,
      oppose Outsiders by directing opposing ideals against them. In game terms,
      you are able to add a third of your Knowledge (Theology) skill rating to
      the DC of these spells.\n
      __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Theology) skill
      can be used to identify celestials, as described under Sense Motive.";
}

Text "help::knowledge (mythology)"
{
"__Knowledge (Mythology) has the following uses:\n
    __<15>* <11>Mythic Creatures:<3>
    A solid understanding of mythology sets up an adventurer to fight 
    more effectively against mythic creatures. By applying simple hearth 
    wisdom and studying the vulnerabilities of his targets, this skill 
    allows a character the following bonuses when facing creatures of 
    mythology: his effective DC is increased by [Skill Rating / 3] 
    against their attacks, and his understanding of their banes and 
    biology increases the threat ratings of his attacks against them 
    by [Skill Rating / 9]. He can also summon them more effectively; 
    mythic creatures summoned by such a caster have a [Skill Rating x 5]~
    bonus to their hit points.\n
    __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Mythology) skill
    can be used to identify mythic hybrids, lycanthropes, nagas, dragons and
    fae, as described under Sense Motive.";
}

Text "help::knowledge (nature)"
{
"__The Knowledge (Nature) skill grants the following benefits:\n
    __<15>* <11>Identify Herbs (Passive, <4>Unimplemented<11>):<3> With a successful Knowledge (Nature)
    check, any herb or mushroom can be identified. There are many different
    herbs and mushrooms on Theyra, some of which possess potent magical
    effects.\n
    __<15>* <11>Herbalism (Active, <4>Unimplemented<11>):<3> Knowledge (Nature) can be used to
    make certain herbal preparations in exactly the same way that Alchemy
    is used to make alchemical items.\n 
    __<15>* <11>Plants and Animals (Passive):<3> Knowledge (Nature) aids a 
    character when fighting, summoning or handling plant creatures and 
    natural animals in the same way that other Knowledge skills do for
    creatures in their domain.\n
    __<15>* <11>Speak to Plant Creatures (Passive):<3> Characters with a
    Knowledge (Nature) skill of +10 or higher can speak to sapient plant
    creatures such as the myconids. Other characters find the odd signals
    of these alien creatures too distant to understand.\n
    __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Nature) skill
    can be used to identify plants and fungi, natural animals, sylvan creatures 
    and wilderness beasts, as described under Sense Motive.";
}

Text "help::knowledge (Infernal)"
{
"__The Knowledge (Infernal) skill has the following uses:\n
     __<15>* <11>Demons and Devils (Passive):<3> Many priests and 
     paladins study demons and devils to learn how 
    to better fight them, while dark sorcerors want to understand 
    exactly what they are summoning. Knowledge (The Infernal) 
    grants certain bonuses when fighting demons and devils. 
    By applying simple hearth 
    wisdom and studying the vulnerabilities of his targets, this skill 
    allows a character the following bonuses when facing demons and 
    devils: his effective DC is increased by [Skill Rating / 3] 
    against their attacks, and his understanding of their banes and 
    biology increases the threat ratings of his attacks against them 
    by [Skill Rating / 9]. He can also summon them more effectively; 
    demons and devils summoned by such a caster have a [Skill Rating x 5]~
    bonus to their hit points.\n
    __<15>* <11>The Lower Planes (Passive):<3> The Knowledge (Infernal)
    skill works just like Knowledge (Theyra) when the character is on
    a wilderness map in the Lower Planes.\n
    __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Infernal) skill
    can be used to identify demons and devils, as described under Sense Motive.";
}

Text "help::knowledge (oceans)"
{
"__Some adventurers spend much of their lives out at sea, exploring
    the great Western Ocean or scouring trade routes for pirates and 
    other threats. The Knowledge (Oceans) skill grants the following benefits:\n
    __<15>* <11>Area Knowledge (Passive): <3> This knowledge skill gives 
    map-memory of oceanic areas in a manner similar to what Knowledge (Theyra)
    gives for more conventional wilderness locales.\n
    __<15>* <11>Aquatic Creatures (Passive): <3> This Knowledge also aids 
    an adventurer in fighting aquatic threats. By using a thourogh 
    knowledge of their behaviour, biology and weaknesses, this skill 
    allows a character the following bonuses when fighting aquatic or 
    amphibious creatures: his effective DC is increased by [Skill Rating / 3] 
    against their attacks, and his understanding of their banes and 
    biology increases the threat ratings of his attacks against them 
    by [Skill Rating / 9]. He can also summon them more effectively; 
    aquatic creatures summoned by such a caster have a [Skill Rating x 5]~
    bonus to their hit points.\n
    __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Oceans) skill
    can be used to identify aquatic creatures, as described under Sense Motive.";
}

Text "help::knowledge (planes)"
{
"__This skill gives a character knowledge of the many planes of 
    existance, with the following specific benefits:\n
    __<15>* <11>Planar Travel (Passive):<3> This skill is necessary 
    to cast plane-travelling spells like <9>plane shift<3> safely. 
    When moving across a wilderness map on a different plane, the
    lower of a character's Knowledge (Planes) and Wilderness Lore is
    used for most things that Wilderness Lore alone usually achieves.\n
    __<15>* <11>Outsiders (Passive):<3> Knowledge (Planes) can also
    aid the character in fighting outsiders who are not also 
    demons, devils or celestials (who are covered by their own skill). 
    By using a thorogh 
    knowledge of their behaviour, biology and weaknesses, this skill 
    allows a character the following bonuses when fighting 
    such outsiders: his effective DC is increased by [Skill Rating / 3] 
    against their attacks, and his understanding of their banes and 
    biology increases the threat ratings of his attacks against them 
    by [Skill Rating / 9]. He can also summon them more effectively; 
    general outsiders summoned by such a caster have a [Skill Rating x 5]~ 
    bonus to their hit points.\n
    __<15>* <11>Identify Monsters (Passive):<3> The Knowledge (Planes) skill
    can be used to identify outsiders (other than celestials, demons and 
    devils), as described under Sense Motive.";
}

Text "help::knowledge (undead)"
{
"__The dead hate the living, and the living often return the 
    sentiment. A character with this skill is a trained undead 
    slayer or master necromancer, well versed in the inherant 
    abilities and weaknesses of the Damned. This skill has the
    following uses:\n
    __<15>* <11>Fighting Undead (Passive):<3> By using a thourogh 
    knowledge of their behaviour, weaknesses and unnatural existance, this skill 
    allows a character the following bonuses when fighting aquatic or 
    the undead: his effective DC is increased by [Skill Rating / 3] 
    against their attacks, and his understanding of their banes and 
    biology increases the threat ratings of his attacks against them 
    by [Skill Rating / 9]. He can also summon them more effectively; 
    aquatic creatures summoned by such a caster have a [Skill Rating x 5]~ 
    bonus to their hit points. Note that undead are not normally 
    subject to critical hits, but with this skill they can be struck
    for such with the threat range it provides alone.\n
    __<15>* <11>Identify Monsters (Passive):<3>  The Knowledge (Undead) skill
    can be used to identify all undead, as described under Sense Motive.";
}

Text "help::listen"
{ "__The Listen skill has the following uses:\n
    __<15>* <11>Hear Hiding Creatures (Passive):<3> The Listen skill can
    reveal the presence of hiding creatures with an opposed test against
    the hidden creature's Move Silently skill, as described under Move
    Silently.\n 
    __<15>* <11>Hear Nearby Creatures (Active):<3> The active use of the
    listen skill can tell a character what kinds of creatures are nearby
    her based on the noises they make, even if those creatures are behind
    solid walls or otherwise outside her normal perceptual range.\n 
    __<15>* <11>Determine Resting Safety (Active):<3> The Listen skill
    can also tell a character whether or not it is safe to rest -- by
    listening carefully, a skilled character can determine if any
    dangerous creatures are nearby and able to ambush her while she
    sleeps, or if her rest is certain to be safe.\n
    __This check is made against DC 15, and if it is failed, it may not
    be attempted again until either the character has rested, or has
    gained experience three seperate times.";
}

Text "help::lockpicking"
{ "__The Lockpicking skill has the following uses:\n
    __<15>* <11>Unlock Doors (Passive):<3> A successful Lockpicking skill
    test can open a locked door; the DC is determined by the quality of
    the lock on the door, but 15 is typical in the earlier dungeon levels.
    This check may only be made once per day, but if it is failed the
    character can try again the next day with a +4 retry bonus. The bonus
    increases to +6 on the third day, then +8, etc. -- eventually a
    character will be able to pick a given lock regardless of their skill.\n
    __If a character fails to pick a lock and does not have time to lose,
    they can attempt to force the door open by kicking it. This has several
    disadvantages -- it makes noise, which will wake up sleeping monsters
    and attract others, and if the door is trapped kicking it will trigger
    the trap automatically, but picking the lock does not.\n 
    __<15>* <11>Unlock Chests (Passive):<3> Similarly, the Lockpicking skill
    can be used to open locked chests. Chests can also be forced by striking
    them, but this risks breaking fragile items contained inside the chest,
    such as potions or scrolls, and will automatically trigger any traps on
    the chest.";
}

Text "help::metamagic"
{ "__The Metamagic skill has only the following use:\n
     __<15>* <11>Reduce Fatigue (Passive):<3> The Metamagic skill can
     reduce the fatigue cost of using metamagic feats. A successful
     check against DC 10 reduces the fatigue cost by one point; if
     the check beats DC 15, the reduction is two points; over DC 20,
     the cost is reduced by 3 and so forth.\n ";
}

Text "help::move silently"
{ "__The Move Silently skill has the following uses:\n
     __<15>* <11>Stealth:<3> When a character is hiding (using the Hide
     in Shadows skill) or invisible due to magic, or when she cannot be
     visually percieved for any other reason, the Move Silently skill
     comes into play. As long as she stays at least 10 feet (one square)
     away from all other creatures, her existing methods of imperceptibility
     are sufficient. However, when she moves directly beside another creature
     or attempts to attack, an opposed skill check is made with the creature
     in question: her Move Silently against the creature's Listen. Success
     allows her to remain undetected and potentially score a surprise attack;
     failure means that she is exposed, and cannot attack by surprise.\n
     __These skill checks is made with tests of (Skill Rating + 1d10 + 10),
     rather than (Skill Rating + 1d20), in order to decrease the range of
     the randomness and make the game more playable for low-level rogues.\n
     __<15>* <11>Noise:<3> Many actions a character can take make noise,
     causing sleeping creatures within a certain radius to wake up, and
     alerting all creatures in that radius to her presence, motivating them
     to investigate. The radius in question is reduced by 10 feet for every
     full +2 of a character's Move Silently rating.";
}

Text "help::mining"
{
"__The Mining skill has these uses:\n
        __<15>* <11>Discern Value (Passive):<3> In addition to actual mining, the 
      Mining skill allows you to discern the location of deposits of diamonds, 
      gold, gemstones and valuable magical metals such as adamant, orichalcum or
      mithril -- your character is able to percieve where these deposits lie
      by analyzing the composition and formations of the stone around her.
      This perception is automatic and reaches out to a range of 1/2 your
      Mining skill rating in squares; this range is extended by 3 squares for
      characters with the Stonework Sense ability. These deposits appear on
      screen as rock glyphs, usually isolated islands in the middle of solid
      stone, that are colored differently then the normal rock that composes
      the dungeon -- bright white for diamonds, silver or mithril, yellow for
      gold, various bright colors for gemstones, dark grey for adamant, etc.\n
      __Characters that do not have the Mining skill cannot percieve deposits,
      even if they have a significant untrained skill rating. Furthermore, only
      digging releases the mineral treasure from a deposit -- since the metals
      or gemstones are essentially part of the stone, catching a deposit in the
      area of a <9>transmute rock to mud<3> spell destroys the treasure along
      with the stone.\n 
      __<15>* <11>Mining (Active):<3> Using the Mining skill puts a character
      into digging mode; in this mode simply walking into walls will cause
      you to mine through them. A character's rating in the Mining skill 
      determines what materials she can penetrate when digging. The character's
      skill rating plus a modifier based on the tool they are using must exceed 
      the Hardness of the material in question, otherwise mining cannot occur.
      Thus, characters with low Mining will be able to dig through streamers
      but not normal rock, while a character with a magical digging implement
      and a truly exceptional digging tool might even be able to dig through
      an adamant wall!\n
      __The difference between a character's level in the Mining skill and the
      hardness of the material they are diffing through is also the factor used
      to calculate how long mining out a single square, and how much Fatigue,
      if any, is lost in so doing.\n
      __Finally, when the character successfully mines through a vein or deposit
      containing treasure, the amount of precious materials that can be recovered
      intact in the mining process is modified by the Mining skill level, as well
      as the depth the deposit was found at.\n
      __<15>* <11>Structural Integrity:<3> Dungeons have already been heavily
      shaped and altered by human hands, and casual excavation not planned for
      in their initial creation places a strain on their geological integrity.
      Fortunately, a skillful miner can choose to remove stone in ways that
      minimize the strain on existing structures and grant a safe, well-
      supported mineshaft that stretches a greater distance. A character can 
      mine out a number of squares on a given level equal to thrice their Mining 
      skill rating safely. After this, every additional percent of that total mined 
      increases the chance of a cave-in (with the same effect as an <9>earthquake<3>
      spell cast at 20th level) by the same percent culmulatively -- so a character 
      with Mining +5 who mines 6 squares has a 20~ chance of cave-in on the sixth, 
      since a single square is 1/5th, or 20~, above the total safe limit. The next 
      square would have a 40~ chance of collapse, and so forth...";
}

Text "help::perform"
{ "__The Perform skill has the following uses:\n
      __<15>* <11>Bardic Music (Passive):<3> The Perform skill determines
      several factors related to bardic music, including range and the DC
      of saving throws. As such, it is a centrally important skill for
      bards who intend to make effective use of this class feature.\n
      __<15>* <11>Stage Performance (Active, <4>Unimplemented<11>):<3> Characters with the
      Perform skill can enter different taverns and hold performances,
      gaining gold from the managers and appreuciative audience. Initiaally,
      this can be quite lucrative relative to a character of any level, but
      performing for cash remains valuable only so long as the performer is
      a novelty in the area. A performer can perform only once per night per
      locale, and every additional performance in the same locale ever turns
      in only half of what the last performance at that locale did.\n
      __Obviously, then, characters with a high Perform skill have a strong
      motive to travel from city to city in order to maximize the financial
      rewards this skill can bring them.\n
      __<15>* <11>Recruit Allies (Passive):<3> The Perform skill aids in
      the recruitment of party members (as described under Diplomacy) --
      by telling enthralling tales of her heroic exploits, a character with
      the Perform skill makes joining her party seem a much more attractive
      proposition. In game terms, 1/3rd of the character's Perform skill
      rating is added to the Diplomacy check to enlist a new party member,
      provided that the player character has Perform as a class skill.\n
      __<15>* <11>Prerequisites (Passive):<3> Several prestige classes,
      notably the shadowdancer and twilight huntsman, depend on Perform
      as a prerequisite for entry.\n
      __<15>* <11>Train Charisma (Passive):<3> A central element of any
      performer's repitoire is simple flair, and learning various
      performance arts brings out one's flamboyant, extroverted side
      by the very nature of the work. In game terms, the Perform skill
      trains Charisma in exactly the same way as the Athletics skill is
      used to train the physical Ability scores.";
}

Text "help::pick pockets"
{
"__Contrary to it's name, this skill encompasses a wide
    variety of feats of legerdemain and sleight of hand. It
    has the following uses:\n
    __<15>* <11>Theft (Active):<3> The primary use of the Pick
    Pockets skill is removing small items from other character.
    It can be used to steal gold from passing nobles, healing
    potions from foes in battle or even to slip a sword out of
    its sheath.\n
    __There are two seperate DCs involved in a Pick Pockets
    attempt. The first is 15 + the victim's Reflex save modifier
    (and the setting of this DC counts as a saving throw on the
    victim's part, so bonuses like the Protection Domain granted
    power apply); whether this DC is beaten or not determines
    if the attempt to procure an item is successful. The second
    DC is 15 + the victim's Spot rating, and determines if the
    attempt is noticed or not. The DC decreases by 5 if the mark
    can't see the would-be thief. On a failed check, the victim 
    becomes aware of the attempt and likely becomes hostile to 
    the thief; in an urban setting, the guardmen will become 
    hostile as well. If a hostile creature notices a pick-pocket
    attempt, they get an Attack of Opportunity on the thief.\n
    __The thief must be standing next to the
    character to be pickpocketed. A successful check adds one
    unattended Small item from the victim's possession to the
    skill user's inventory -- the thief can choose from any
    Small, unattended item in the victim's inventory. 
    __Lifting larger items is possible, but increases the DC
    of the attempt by +3 per size category above Small. Removing
    items from a container (like a backpack) gives a +5 DC. If a
    victim is distracted, however (as per the Bluff skill),
    the Pick Pocket DC gains a -10 bonus. Only if the victim
    is distracted can the skill be used to remove worn or
    wielded items; if a rogue removes something their mark
    holds in their hands (i.e., a wielded weapon), or a worn
    cloak or full backpack, the victim will automatically become 
    hostile -- but the thief still has the item. Stealing worn 
    items has a -10 penalty, which effectively cancels the 
    +10 bonus due to distraction.
    __A Pick Pockets attempt takes (40 - skill level) segments,
    to a minimum of 15. It is not possible to use the Pick 
    Pockets skill to remove worn armor.\n
    __<15>* <11>Apportation (Passive):<3> The mage spell <9>apportation<3>
    has an effect similar to the Pick Pockets skill, save for
    being usable at range, and it function depends upon the Pick
    Pockets skill as explained in the spell description.\n
    __<15>* <11>Defense from Theft (Passive):<3> A central element of the
    Pick Pockets skill is understanding all of the tricks and
    techniques that can be used to mislead a mark and seperate
    him from his items. Once these methods are understood, they
    also become far easier to defend against -- characters with
    the Pick Pockets skill as a class skill have a a bonus to
    saving throws against theft equal to a third of their skill 
    rating.\n
    __<15>* <11>Conceal Item (Active, <4>Unimplemented<11>):<3> The Pick Pockets skill
    can also be used to conceal a small-sized item on one's person.
    Such an item must be placed in a belt inventory slot; using the
    skill in this manner automatically marks the chose item as
    concealed. Such an item will not be removed from a character
    when they enter an area where some items (like weapons, holy
    symbols, spellbooks and other items capable of producing 
    offensive effects) are not allowed -- such as taverns, which
    do not permit weapons and automatically remove them from a
    player character upon entry.\n
    __With a Pick Pockets skill of 12 or greater, a character can
    even conceal items from magical detection, preventing them
    from being stripped from her upon passing through certain
    magical portals that normally remove most or all items.\n
    __<15>* <11>Catch Thrown Weapons (Passive):<3> In addition to larceny,
    this skill covers forms of sleight of hand used in service
    to entertainment, such as juggling. This kind of coordination
    can be put to a more practical use by snatching items out of
    the air when thrown at a character. When a character with a
    Pick Pockets rating of 15+ and Pick Pockets as a class skill
    is targeted with a thrown weapon, he may make a Pick Pockets
    check to catch the weapon, avoiding any damage to himself if
    successful. The DC of this check is 11 + 1/2 the total result
    of the thrower's attack roll.\n
    __Only Small or smaller weapons can be caught in this manner.
    If the character has [???], he can immediately throw the caught
    weapon at any target of his choice as an attack of opportunity.";
}


Text "help::poison use"
{
"Poison Use gives a rogue or assasin a broad understanding
    of poisons and their use on the battlefield; it has the
    following applications:\n
    __<15>* <11>Poison Familiarity (Passive):<3> Characters are
    considered to be familiar with poisons based on their rating
    in the Poison Use skill. Most characters cannot identify what
    type of poison is on a blade or in a vial when they look at
    such, but characters with Poison Use as a class skill can
    recognize any poison whose base save DC is equal to or lower 
    than their [Poison Use +5].\n
    __<15>* <11>Create Poisons (Passive):<3> Poisons are alchemical
    items and are created just like other alchemical items are --
    an active use of the Alchemy skill. However, a character must
    have both the Poison Use and Alchemy skills as class skills to
    manufacture poisons, must have Poison Use 12+, and the lower of 
    the two skill ratings is used in place of straight Alchemy in 
    the normal process. A character that meets these requirements
    is able to manufacture any poison whose save DC is equal to or
    lower than the lower of her Poison Use or Alchemy skills.\n   
    __<15>* <11>Apply Poison (Active):<3> The primary use of the
    Poison Use skill is applying poisons to weapons. A DC 10 Poison
    Use check allows a character to apply poison; failing this check
    wastes the poison the character was trying to apply. For every 
    three points the character beats the DC 10 base by, the poison 
    will remain potent for another hit with the weapon.\n
    __A character without this skill can still attempt to apply 
    poison to a blade using the Apply verb, but on 1 in 3 failed
    checks she will poison herself!\n
    __<15>* <11>Save DC Increase (Passive):<3> A character's Poison 
    Use skill also educates her in how to use a poisoned weapon most
    effectively, striking to apply the poison to the bloodstream in
    the most direct routes, ensuring it is placed on the blade in
    the most effective manner and so forth. In game terms, when a
    character with Poison Use strikes another with a poisoned weapon,
    the save DC of the poison in increased by a third of her skill
    rating.\n 
    __<15>* <11>Save Bonuses (Passive):<3> A solid knowledge of
    poisons also increases a character's ability to treat poisoning,
    and she recieves a bonus to her saving throws against poison equal
    to 1/4th of her skill rating.";
}

Text "help::Ride"
{ "__The Ride skill has the following use:\n
    __<15>* <11>Riding (Passive):<3> Characters that do not have Ride
    as a class skill are not trained as horsemen and are thus unable
    to ride at all. A mounted character uses his mount's movement
    rate, +5~ per two levels of her total Ride rating.\n 
    __<15>* <11>Elevation Bonuses (Passive):<3> A mounted rider has
    a significant advantage over a footman, provided he's sufficiently
    skilled at handling his mount. A mounted character recieves an
    elevation bonus to Defense equal to two plus a sixth of his Ride
    skill, an elevation bonus to melee attack rolls equal to one plus
    a fifth of his Ride skill, and an elevation bonus to melee damage
    rolls equal to a fifth of his Ride skill.\n 
    __<15>* <11>Exotic Mounts (Passive):<3> You can ride any neutral 
    animal that is suitable to be a mount, or any other creature 
    suitable to be a mount that has CR 2 or less. To ride a more 
    powerful creature that is not a natural animal, however, you
    must have a Ride skill equal to twice its Challenge Rating.
    This is only one of several conditions relating to exotic
    mounts.\n
    __<15>* <11>Staying Mounted (Passive):<3> A DC 20 Ride check is
    made for a mounted character to avoid being thrown from his mount
    in situations when a character on foot would become prone. A truly
    skilled rider can also prevent his mount from being knocked prone
    (from falling or being tripped, for example), with a DC 40 Ride
    check.\n 
    __<15>* <11>Jumping (Passive):<3> When you attempt to jump while
    mounted, you can use your mount's Jump skill, but only if you
    first convince it to make the jump with a Ride check against
    the jump's normal DC. Failure wastes the action.\n
    __<15>* <11>Mounted Combat (Passive):<3> If a character with
    the Mounted Combat feat is attacked while mounted, a Ride skill 
    check is made, and the result can be used in place of said
    character's normal Defense if it is higher.\n
    __<15>* <11>Overrun (Passive):<3> The saving throw DC associated
    with the Overrun feat is 10 + 1/2 your Ride skill.\n";
}

Text "help::searching"
{ "__The Search skill has the following uses:\n
    __<15>* <11>Find Traps (Passive/Active):<3> The Search skill is used to
    locate traps before they can harm a character. When a character
    walks into a square with a trap, a Search check is automatically
    made to see if the trap is found. Success reveals the trap and
    asks for confirmation if the player wants to move over it and
    risk triggering it.
    __Traps can also be actively searched for in a 50 foot radius 
    area immediately around the player using the 'S'earch command.\n
    __The DC to spot a mundane trap is 15 + the Challenge Rating of
    the trap for a mundane trap, or 20 + the Challenge Rating of the
    trap for a magical trap. This check is only ever made once per
    trap -- if failed, it cannot be retried, though the trap will
    be revealed when it is triggered.\n 
    __<15>* <11>Find Secret Doors (Active):<3> The Search skill is
    also used to locate secret doors and discern a way of opening
    them. Normal character do not detect secret doors just by walking
    past them, though elves and other characters with exceptionally
    acute senses have this ability. Others must rely on using the
    'S'earch command.\n
    __The Search check to find a secret door is DC 15. If there is
    a secret door in the search area but the check is failed, the
    game will mention that the character 'thinks there might be
    something there, but can't find it', to avoid great frustration
    on the player's part. A character can try to find a secret door
    once a day. Additional checks after the first have a +4 retry
    bonus, then +6, +8, etc. until the character is able to locate
    the door successfully and move on with the dungeon.";
}

Text "help::seneschal"
{ "__The Seneschal skill has the following uses:\n
     __<15>* <11>Claim Keep (Active, <4>Unimplemented<11>):<3> The Seneschal skill covers
     courtly etiquette, medieval finance and moneylending and general
     lordly competance. In game terms, it allows a character to own
     property and manage it compenantly, building and maintaining a
     keep or fortress somewhere on the overland map should she complete
     a quest that would award her with such. In addition to providing
     her with a safe place to keep items she doesn't carry with her,
     such a locale would provide the character with a steady income
     of gold based on her Seneschal rating as time passes, and allow
     her to attract greater numbers of troops to her banner over time.";
}

Text "help::spellcraft"
{
"__Spellcraft can be used in the following ways:\n
      __<15>* <11>Identify Spells (Passive):<3> When you witness another
      spellcaster cast a spell, the game will automatically make a 
      Spellcraft check to see if you can identify the spell. The DC of
      this check is 10 + the spell's level.\n
      __<15>* <11>Counterspell (Passive):<3> If you beat the above check
      to identify a spell by a high enough margin, you may also be able
      to quickly issue a counterspell in response, completely negating
      the enemy's spell. If you know a spell from the same school of magic 
      of equal or higher level than the one you are trying to counter, the
      DC to counterspell is 15 + spell level. If you do not know such a
      spell, but you do know <9>dispel magic<3>, you are still capable of
      issuing a counterspell provided that your Spellcraft check exceeds
      DC 20 + spell level.\n
      __A counterspell costs you the higher of the mana cost of the spell
      countered or the spell used to counter, unless your Spellcraft exceeds 
      +15, +20 or +25, in which case it costs you 2/3rds, 1/2 or 1/3rd of the
      casting mana cost. It also costs you [20 - Spellcraft Rating] segments
      to utter the words (minimum 5), and you must not be magically silenced. 
      Using <9>dispel magic<3> to counterspell takes longer, requiring [30 -
      Spellcraft Rating] segments instead. There is a Tactical
      Option which allows you to decide to counterspell always, never,
      intelligently or to ask the player manually each time the opportunity 
      arises.\n
      __Regardless of your Spellcraft score, you cannot counterspell the
      reading of scrolls, use of wands or other magical items or the
      invocation of innate abilities unless you have the Broad Counterspell
      feat; the Reflective Counterspell feat also augments counterspells.\n
      __<15>* <11>Discern Standing Magic (Passive, <4>Unimplemented<11>):<3> If you have a 
      Spellcraft score of 11+, you will be able to discern spells that 
      enemy casters or creatures have active on them, provided your 
      Spellcraft equals or exceeds [10 + Spell Level]. If this is
      the case, this information will automatically be listed after
      a character's equipment when you examine that character.";
}


Text "help::spot"
{ "__The Spot skill has these practical applications:\n
      __<15>* <11>Discern Hiding Creatures (Passive):<3> The Spot
      skill is used to percieve creatures that are using the Hide
      in Shadows skill, as described under Hide in Shadows.\n
      __<15>* <11>Spot Invisible Creatures (Passive):<3> A DC 20
      Spot skill test is used to discern the slight shimmering
      effect around an invisible creature, as described in the
      writeup of the <9>invisibility<3> spell.\n
      __<15>* <11>Setup Watches (Passive):<3> The Spot skill is 
      also used to arrange
      and undertake watches when a character rests in the dungeon
      at night with companions. The character must have at least
      one companion who is not a mindless undead or a summoned
      creature with a summoning duration of less than a full day
      to use this function.\n
      __Each character in the group takes an equal portion of the
      night to watch over the others, ensuring their safe rest.
      The total of all the Spot scores in the group is taken, and
      that total is subtracted from the percentile chance the
      player's group has of having an encounter during that rest
      period. (It's assumed that monster groups that ambush the
      party at night are looking for an easy victory, and can be
      held at bay with sufficient vigilance.)\n
      __Additionally, if the total of the group's Spot scores
      exceeds three times the current Depth of the dungeon, the
      group is guaranteed to gain forewarning of any encounter
      even if one does occur -- the members of the group will
      all be awake, and will not suffer a delay in acting at
      the beginning of the encounter. This is especially
      important, since it prevents monsters from being able to
      perform a Coup de Grace on the player character or her
      allies.";
}

Text "help::swimming"
{ "__The Swim skill has the following uses:\n
    __<15>* <11>Avoid Drowning (Passive):<3> A Swim check is made when moving
    through a square containing deep water. The usual DC is 10, though
    especially turbulent water pushes the DC as high as 20. Failing this
    check causes the character's equipment to become soaked (it's presumed
    to be securely packaged otherwise), and the character takes damage and
    begins choking as described under the water terrain in question.\n 
    __<15>* <11>Swimming Speed (Passive):<3> A character's swimming movement
    rate is 70~ of her normal movement rate, plus 10~ per point of the Swim
    skill she has above +10. Aquatic creatures (and druids or mages shifted
    into such beings) have a base movement rate in water of 100~, but still 
    gain a +10~ bonus for every point of Swim skill above +10.\n 
    __These modifiers are distinct from a terrain's movement modifier -- some
    liquid terrains might slow down movement even further.\n
    __<15>* <11>Defense in Water (Passive):<3> A swimming character suffers
    a -4 penalty to Defense, adjusted up by one for every point of Swim above
    +10. At +15 and higher, this actually causes her to gain a bonus to Def
    instead of a penalty, as a result of being so agile and graceful in the
    water. As with movement, aquatic creatures suffer no penalty, but gain a
    +1 bonus for every point of Swim above +10.\n";
}

Text "help::tumble"
{ "__The Tumble skill can be used in these ways:\n
        __<15>* <11>Tumbling (Active):<3> Using this skill allows you to 
      move acrobatically; tumbling uses one fatigue point and lasts for 
      [Tumble Rating + 1d4] turns, but gives several advantages. While tumbling, 
      a character adds half of their Tumble skill rating to their DC 
      versus normal attacks, and their full Tumble skill rating to their 
      DC versus attacks of opportunity provoked by movement. Tumbling 
      increases one's movement rate by [(Skill Rating / 2) x 5~], but decreases
      attack speed by 25~ and increases threat ranges by 2 (after any doublings due
      to keen weapons, Improved Critical, etc.) against any creature whose Wisdom 
      is lower than the tumbler's skill rating.\n
      __<15>* <11>Land Gracefully (Passive):<3> When a character with
      Tumble as a class skill falls, a skill check against DC 20 is made.
      Success allows her to land gracefully, halving the falling damage
      and preventing her from becoming prone.\n
      __<15>* <11>Defensive Roll (Passive):<3> A Tumble skill total of
      15+ is the prerequisite to character that do not recieve Defensive
      Roll as a class feature gaining it as a feat.\n
      __<15>* <11>Reflex Saving Throw (Passive):<3> In addition to the
      active benefit, characters with Tumble as a class skill and a rating
      above +5 gain a competance bonus to Reflex saving throws -- +1 at +6,
      +2 at +9, +3 at +12, +4 at +15 and so forth. This is a constant, 
      nonmagical benefit.";
}

Text "help::Use Magic"
{ "__The Use Magic skill has the following uses:\n
    __<15>* <11>Zap Wand (Passive):<3> The Use Magic skill governs the
    activation of wands. When a character tries to blast a wand, a Use
    Magic check is made against a DC of 10 + 1/2 the wand's level (the
    typical depth it would be found at in a dungeon). If this check is
    successful, the wielder is able to activate the wand. A specialist
    mage gains bonuses when using wands affiliated with his school of
    choice, or related schools, equal to +1 per 5~ of his specialist
    modifier for the school in question. Penalties do not apply to
    oppositional schools, however.\n
    __Some wands have a magical plus, which frequently determines the
    number of dice of damage they inflict, the power of the creatures
    they summon or some other variable factor of their effect. In this
    case, a highly successful Use Magic check has a chance of increasing
    the wand's effective plus, per the following table:\n
    <15>___DC Exceeded________Increased Plus__\n
    <1>___[15 + Wand Depth]________+1________\n
    ___[20 + Wand Depth]________+2________\n
    ___[25 + Wand Depth]________+3________\n
    ___[30 + Wand Depth]________+4________\n
    __<3>This can even raise the temporary effective plus of a wand above
    +5, for the purpose of this single activation.\n
    __<15>* <11>Trick Magic (Passive):<3> A rogue's special ability
      to use class or race-specific magic is based on the sum of her
      Bluff and Use Magic scores.\n";
}

Text "help::Wilderness Lore"
{ "__The Wilderness Lore skill can be used in these ways:\n
      __<15>* <11>Food Tending (Passive):<3> The Wilderness Lore skill covers
      the cooking and preservation of food in survivalist conditions.
      The Wilderness Lore skill determines how quickly corpses age
      when they are in a character's possession -- if a character with
      Wilderness Lore +9 kills a deer, the meat will last 3 times as
      long in his possession as it will for a character with Wilderness
      Lore +3. The same decay rates apply to food items subject to decay
      that a character with Wilderness Lore can preserve better -- food
      rations never decay, but apples and melons will.\n
      __Wilderness Lore also comes into play when a character eats the
      corpse of a creature not normally used for food. In this case a
      character always has a chance of contracting a disease, and a
      Wilderness Lore check is made against a DC determined by a variety
      of factors, including the age of the corpse, to see if the character
      becomes diseased.\n
      __<15>* <11>Hunting (Active, <4>Unimplemented<11>):<3> On the overland map, a
      character can use the Wilderness Lore skill in order to hunt for
      food; a successful check takes two hours and moves the character
      to Satiated. Failure can simply result in no suitable food being
      found, or if the check is failed by five or more can throw the
      character into a dangerous encounter with wilderness creatures.\n
      __The DC of this check is determined by the terrain that the
      character is moving through.\n
      __<15>* <11>Harsh Terrain (Passive, <4>Unimplemented<11>):<3> Some forms of terrain on
      the Wilderness screen are so hostile to life that they require a 
      Wilderness Lore check for every step the character takes. The DC
      of this check is set by the terrain in question, and the effects
      of failing can include encounters, damage, becoming lost (unable
      to control the direction you move on the overland map), equipment
      loss, fatigue, disease and so forth.\n
      __<15>* <11>Resist Weather (Passive, <4>Unimplemented<11>):<3> Weather effects function
      in Incursion much like harsh terrain, except that they are invisible 
      fields that move about the overland map rather than being fixed in
      one location. The <9>predict weather<3> spell allows these fields
      to be seen. Entering a weather field requires a Wilderness Lore
      check each turn, with much the same effects for failure as harsh
      terrain.\n
      __<15>* <11>Tracking Range (Passive):<3> One of the factors in
      determining the range of a ranger's Tracking class feature is the
      Wilderness Lore skill; see the description of the ranger class for
      more information on this ability.\n
      __<15>* <11>Harvesting Mushrooms/Herbs (Passive, <4>Unimplemented<11>):<3> When a 
      character picks herbs from a bush or mushrooms from the floor of
      the dungeon (using the normal 'g'et item command), a Wilderness 
      Lore check is made, though not displayed, usually against DC 15,
      though potent herbs and mushrooms might have a higher DC. If this
      check is failed, the herb or mushroom automatically becomes cursed,
      and will have only deleterious effects if consumed.\n
      __Since this is not a magical curse, but merely the result of a
      bad preparation, it does not show up to most things that normally
      detect curses.";

}
#line "pspells.irh" 52
53 Spell "Ice Dagger" : 1
{ 0x00000010|0x00000800; Base: 60; Cost: 1; Level: 1; xval: 2;
Purpose: 0x00001 (0); cval: 11;
pval: (-122)d4; sval: 1 PARTIAL; lval: 2;
qval: 0x0001|0x0004|0x0002; aval: 3;
flags: 34;
Desc: "Upon completion the caster hurles a shard of magical ice imbued
    with deep freezing cold, dealing 1d4 points of cold damage per caster
    level (max 5d4) to every creature within 1 one square radius. The
    caster is immune." ;
On Event 200 "ice dagger"; }


53 Spell "Produce Flame" : 13
{ 0x00000010|0x00004000; Base: 95; Cost: 1; Level: 1;
xval: 0x01 | 0x10 | 0x20; rval: $"produced flame";
yval: -101; Purpose: 0x00010 (1); Flags: 25, 86;
pval: -103; Desc: "Creates balls of magical fire that inflicts 1d6 points of
    damage, plus 1 point per level (max +5). One ball is created per caster
    level.";
hObj it;
On Event 155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->iID == $"produced flame" || it->iID == $"fire seeds")
return 1;
return 0;
};
}

52 Spell "Bane" : 3
{ 0x00000200; Base: 90; Cost: 2; Level: 1;
aval: 11; lval: 10; cval: 4;
xval: 114; yval: 51; pval: -1; tval: 111;
Flags: 4, 25, 61, 70;
Purpose: 0x00004 | 0x02000;
Desc: "Inflicts ill fortune in battle on all enemies within 50
      feet (5 squares) of you, causing them a -1 morale penalty to most
      rolls.";
On Event 37
"In the name of <God:EActor>, you call maledictions down
        on your enemies!" /
"In the name of <God:EActor>, the <EActor> calls maledictions 
        down on <his:EActor> enemies!",
28
"You feel threatened.";
}

52 Spell "Bless" : 3
{ 0x00000200;
Level: 1; xval: 114; yval: 51; pval: +1;
aval: 11; lval: 6; tval: 109; cval: 15;
Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 106
Flags: 4;
Purpose: 0x00010 | 0x02000;
Desc: "This spell can be cast in one of two forms; the combat form
      is automatically chosen if this spell is cast as part of an
      AutoBuff.\n
      __<9>Combat Blessing:<1> Grants a +1 morale bonus to attack rolls
      and saving throws to you and all allies within sixty feet of you 
      when the spell is cast. This version lasts until you rest.\n
      __<9>Item Blessing:<1> This form of the spell makes a single chosen
      item <11>blessed<1>, often improving its effect in some manner.
      A blessed item cannot be picked up by undead, demons, devils, or 
      lycanthropes. A blessed shield or suit of armor cumulatively 
      increases your Defense by +2 against the touch attacks of 
      such creatures. A blessed weapon strikes true against such creatures, 
      even if they have weapon immunity. A blessed weapon also strikes 
      true against evil incorporeal creatures.\n
      __You have the power to bless any item found commonly at a dungeon
      depth equal to or lower than half your caster level plus your secondary 
      Charisma modifier, plus a modifier based on divine favor. Blessing an
      item costs you 1 fatigue point, and is permanent until something acts
      to defile the item.";
On Event (52+500) {
if (EActor->isPlayer() && !EActor->HasStati(68))
if (EActor->ChoicePrompt("Combat blessing or item blessing?", "ci", 'c') == 'i')
return RedirectEff(e,$"bless;item",52);
},
28
"You feel righteous.",
74
"The righteous feeling fades.",
205 "Blessed" / "Ble";
Constants:
* 109 150;
}

Effect "bless;item" : 46
{
qval: 0x0008; Flags: 40, 41;
On Event 157 {
if (EItem->isKnown(0x02))
if (EItem->IFlags & (0x0001|0x0002))
return 2;
return 0;
},
28 {
if (!EActor->LoseFatigue(1,true))
return 2;
if (ETarget->ItemLevel()*2 > e.vCasterLev + EActor->Mod(5) +
EActor->getGodLevel(EActor->getGod()) || ETarget->isCursed())
{
DPrint(e,"The <ETarget> glows blue for a minute, but the
                      glow quickly fades.",NULL);
return 1;
}
DPrint(e,"The <ETarget> emits a warm blue light.",NULL);
ETarget->IFlags |= 0x0001;
ETarget->MakeKnown(0x02 | 0x02);
return 1;
};
}

52 / 53 Spell "Call Light" : 46 {
0x00000010|0x00020000; Base: 95; Cost: 1; Level: 1; qval: 0x0002|0x0004;
cval: 22; lval: 5; aval: 7; rval: 0x00000080;
cval: yellow; Purpose: 0x00004; Flags: 80;
Desc: "This spell can be cast in one of two forms:\n
      __<9>Standing Radiance:<1> This versions of the spell creates a 
      globe of sunlight 50 feet (5 squares) in radius. Hiding within
      the area is impossible, and creatures can see within the area
      given line of sight and basic sight range, even if it exceeds
      the range of their personal light sources. The target area 
      remains lit for the duration and afflicts light-averse
      creatures with -4 penalities to attack and defense rolls, and
      disperses any existing <9>globe of shadow<1> if cast into its
      area of effect.\n
      __<9>Portable Globe:<1> Creates a mote of magical light that 
      functions like a torch and provides illumination out to 40 feet 
      (4' squares). The light mote travels with you and cannot be 
      dropped or placed in a container.";
On Event 206
"A bright golden radiance illuminates the area.",
74
"The light fades away.",
155 {
if (EMap->BrightAt(EVictim->x,EVictim->y))
return 1;
if (EVictim->HasMFlag(8) && !EVictim->isBlind())
return 0;
return 1;
},
(52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Standing radiance or portable globe?","sp",'s');
if (ch == 'p')
{
RedirectEff(e,$"minor light",52);
return 1;
}
return 0;
},
75 {
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Globe of Shadow",0))
APrint(e,"The radiance tears away the globe of magical shadows!");
return 0;
};
}

50 Spell "Minor Light" : 13
{ 0x00000010; Base: 95; Cost: 1; Level: 1;
xval: 0x01; rval: $"minor light;item";
Purpose: 0x00000; Flags: 86;
Desc: "Creates a mote of magical light that functions like a torch
    and provides illumination out to 40 feet (4' squares). The light mote
    travels with you and cannot be dropped or placed in a container.";
}

Item "minor light;item" : 44
{ Image: yellow '{'; hp: 10;
Desc: "This enchanted mote of magical light provides illumination
    out to 40 feet (4' squares).";
Flags: 1;
Mat: 30; Weight: 0; Lifespan: 3000;
Light Range: 4;
On Event
(16+500) {
EActor->IPrint("You dispel the globe of light.");
EItem->Remove(true); return 1;
},
(54+500) { EItem->Remove(true); return 1; },
(14+500) {
EActor->IPrint("You can't put the globe of light into a container.");
return 2;
};
}

52 / 51 Spell "Command" : 46
{ 0x00000008; Base: 75; Cost: 2; Level: 1; qval: 0x0004; sval: 2;
Flags: 23, 53, 103; Purpose: 0x00004;
int32 choice; hText str;
On Event
52 {
choice = EActor->ChoicePrompt("Command -- Flee, Yield, Kneel, Attack, 
          Drop or Halt?", "fykadh");
if (choice == 27 )
return 2;
if (choice == 'f') { str = "flee"; }
else if (choice == 'k') { str = "kneel"; }
else if (choice == 'd') { str = "drop"; }
else if (choice == 'y') { str = "yield"; }
else if (choice == 'a') { str = "attack"; }
else if (choice == 'h') { str = "halt"; }
TPrint(e, "You point at the <EVictim> and say, '<hText>'!",
"The <EActor> points at you and says, '<hText>'!",
"The <EActor> points at the <EVictim> and says, '<hText>'!",
str);
return 0;
},
28 {
hObj h;
if (choice == 'f') {
EVictim->GainTempStati(10, EActor, 2d8, 2, 0, 0, $"Command");
} else if (choice == 'y') {
EVictim->GainTempStati(137, EActor, 3d8, 2, 1, 0, $"Command");
} else if (choice == 'k') {
VPrint(e, "You drop to your feet.",
"The <EVictim> drops to the ground!");
ThrowDmg(41,67,-1,"command: kneel",EActor,EVictim);
} else if (choice == 'a') {
for(h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isCreature())
if (h->isBeside(EVictim))
if (h != GetHandle(EVictim))
break;
if (!h) {
VPrint(e, "You aren't sure who you're supposed to attack, so the spell fails.", "The <EVictim> seems confused.");
return 1;
}
if (EVictim->Timeout > 20) {
VPrint(e, "You're otherwise occupied, so the spell fails.",
"The <EVictim> seems overtaxed.");
return 1;
}
if (EVictim->AttackMode() == 2)
Throw(18, EVictim, h, EVictim->InSlot(2));
else
Throw(17, EVictim, h);
return 1;
} else if (choice == 'd') {
h = EVictim->InSlot(2);
if (!h)
h = EVictim->InSlot(1);
if (!h) {
VPrint(e, "You have nothing to drop, so the spell fails.", "The <EVictim> seems confused.");
return 1;
}
VPrint(e, "You drop your <hObj>.",
"The <EVictim> drops <his:EVictim> <hObj>.",
h);
h->Remove(false);
h->PlaceAt(EMap, EVictim->x, EVictim->y);
} else if (choice == 'h') {
VPrint(e, "You freeze!", "The <EVictim> freezes!");
EVictim->GainTempStati(9, EActor, 1d4+1, 2, 0, 0, $"Command");
break;
}
};
Desc: "Allows you to speak one of six one-word commands that a single
      target creature will be forced to obey for a brief time: flee, yield,
      kneel (i.e., drop prone), attack (the nearest creature), drop (held
      items) or halt (freeze in place). Does not affect creatures whose
      CR is more than 2/3rds your level.";
}

52 / 53 / 51 Spell "Cure Light Wounds" : 26
{ 0x00000200; Base: 90; Cost: 0; Level: 1; qval: 0x0004|0x0100;
xval: 0x01; pval: 1d8 + -122; yval: 10;
Flags: 59, 78; Purpose: 0x00080 (1);
Desc: "Heals you of 1d8 + your level in hit points of damage, to a
      maximum of 1d8+5, with a hit point to mana ratio of 1 per 1. Healing
      spells disrupt unlife, inflicting twice the damage to an undead
      creature they would have healed in a living one.";
Constants:
* 109 15;
}

52 Spell "Detect Evil" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 340
Level: 1; xval: 134; yval: 103;
pval: 25d1 + (-102); Flags: 84, 56;
Desc: "Reveals all Evil creatures, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetEvil";
}

Effect "Detect Good" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 349
Level: 1; xval: 134; yval: 106;
pval: 25d1 + (-102); Flags: 84, 55;
Desc: "Reveals all Good creatures, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetGood";
}
#line "pspells.irh" 377
52 Spell "Doom" : 3
{ 0x00000200; Base: 90; Cost: 2; Level: 1;
xval: 114; yval: 51; pval: -4;
Flags: 25, 61, 70; sval: 2; qval: 0x0004;
Purpose: 0x00004 | 0x02000;
Desc: "Inflicts severe ill fortune in battle on a single enemies, 
      causing them a -4 morale penalty to most rolls.";
On Event 37
"In the name of <God:EActor>, you call maledictions down
        on the <EVictim>!" /
"In the name of <God:EActor>, the <EActor> calls maledictions 
        down on you!" /
"In the name of <God:EActor>, the <EActor> calls maledictions 
        down on the <EVictim>!",
28
"You feel gravely threatened.";
}

52 Spell "Divine Favor" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "pspells.irh" 397
xval: 107; yval: 53; pval: -116;
Desc: "Increases your attack rolls and the damage you inflict in combat 
	  by +1 per blow at 1st level, +2 at fifth, +3 at 9th, +4 at 13th, +5 
	  at 17th, +5 at 21st, and so forth.";
On Event 28
"You feel worthy.",
74
"The feeling of confidance fades.",
205 "DivFav" / "DF"; }
and 3
{ xval: 107; yval: 50; pval: -116; }



52 Spell "Holy Summoning I" : 9
{ 0x00000100; Base: 75; Cost: 3; Level: 1; qval: 0x0002;
Purpose: 0x00100; xval: 119; pval: 1;
Desc: "Summons an outsider of CR 1 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 1+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 418
52 Spell "Inflict Light Wounds" : 1
{ 0x00000040; Base: 95; Cost: 1; Level: 1; aval: 6;
xval: 6; pval: 1d8 + -122; cval: 6;
Flags: 66, 86, 25; Purpose: 0x00001;
On Event 37
"Your hands glow with a black aura." /
"The <EActor>'s hands glow with a black aura.",
28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 1d8 + caster level (maximum 1d8+5) points of necromantic
      damage on the next creature you touch. Undead are healed instead.";
}

52 Spell "Invisibility to Undead" : 3
{ 0x00000020; Base: 60; Cost: 5; Level: 1; qval: 0x0004;
xval: 154; yval: 1; pval: 76;
Flags: 25, 86; Purpose: 0x00010 | 0x00002;
Desc: "Renders a chosen character unseen by undead. This
      spell only eaffects undead, but is otherwise identical
      in effect and restrictions to the mage spell <9>invisibility<1>."; }
53 Spell "Invisibility to Animals" : 3
{ 0x00000020; Base: 60; Cost: 5; Level: 1; qval: 0x0004;
xval: 154; yval: 1; pval: 2;
Flags: 25, 86; Purpose: 0x00010 | 0x00002;
Desc: "Renders a chosen character unseen by animals. This
      spell only eaffects animals, but is otherwise identical
      in effect and restrictions to the mage spell <9>invisibility<1>."; }


53 Spell "Lifesight" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1;
#line "pspells.irh" 450
xval: 134; yval: 91; pval: 6d1 + -101; }
and 3
{
xval: 146;
Desc: "Highlights natural, living creatures within (6 + level) squares, and 
      also lets you know both the current and maximum hit points of the
      creatures around you using the 'l'ook command. Lifesight does not
      detect undead, extraplanar creatures or constructs.";
On Event 28
"You sense the presence of life around you.";
}

53 Spell "Log of Everburning" : 46
{ 0x00000002|0x00004000; Cost: 1; Level: 1; qval: 0x0008;
Desc: "This simple but useful incantation alters the composition
      of a mundane torch, giving it the ability to burn for just as
      long as a lantern would (18,000 turns).";
Flags: 40, 41;
On Event 155 {
return EVictim->iID == $"torch" ?
0 : -1;
},
28 {
ETarget->Age = 18000;
EActor->IPrint("Your torch burns sharper!");
};
Constants:
* 109 10;
}

52 / 51 Spell "Valor" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; aval: 11;
#line "pspells.irh" 482
tval: 109;
xval: 123; yval: 11; pval: +5;
lval: -97; Flags: 4;
Purpose: 0x00010 | 0x00080 (11);
Desc: "Causes any of your allies within (level + 5) squares 
      when the spell is cast -- including yourself -- to be imbued
      with a divine courage, granting a +5 saving throw bonus
      versus fear.";
}

52 / 53 Spell "Sanctuary" : 46
{ 0x00000001; Base: 90; Cost: 2; Level: 1; sval: 2 + 10;
Purpose: 0x00010 | 0x00040; Flags: 75;
On Event 28 {

EVictim->GainTempStati(79, EActor, e.vDuration, 7,
(19+2000),e.saveDC,$"sanctuary");
EVictim->GainTempStati(79, EActor, e.vDuration, 7,
52,e.saveDC,$"sanctuary");
EVictim->GainTempStati(79, EActor, e.vDuration, 7,
83,e.saveDC,$"sanctuary");
return 1;
},
((19+2000)+10000) {
if (EActor->SavingThrow(2,
EVictim->GetEffStatiVal(79,$"sanctuary"),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
(19+10000) {
EActor->RemoveEffStati($"sanctuary");
return 0;
},
(83+10000) {
if (!e.isTrap)
if (GetHandle(EActor) != GetHandle(EVictim))
if (GetHandle(EVictim) != NULL &&
EVictim->isCreature() &&
EActor != NULL &&
EActor->isCreature() &&
EVictim->isHostileTo(EActor))
EActor->RemoveEffStati($"sanctuary");
return 0;
},
28
"You feel safe." /
"The <EActor> is surronded by a warm aura.",
84
"You feel less safe." /
"The <EActor>'s warm aura fades.",
205
"Sanc";
Desc: "Evokes a mystical protection around you such that other creatures
      who fail a saving throw cannot attack you. This protection ceases if 
      you take any directly hostile action against another creature.";
Flags: 61, 25;
}

52 Spell "Shield of Faith" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 547
Level: 1;
xval: 106; yval: 27; pval: 1d1 + -115;
Desc: "Improves your defense class by +2 points at 1st level, +3 at
      4th, +4 at 7th, +5 at 10th, +6 at 13th, and so forth.";
On Event 205 "SoF",
28
"You feel protected.",
84
"You no longer feel protected.";
}

52 / 53 / 51 Spell "Slow Poison" : 3
{ 0x00000001; Base: 95; Cost: 3; Level: 1; qval: 0x0004;
xval: 140; Flags: 25, 86, 66;
Purpose: 0x00010 | 0x00080 (12);
Desc: "Delays the continuing effects of poison in the target
      for the duration. The poison's effects continue as soon as
      the duration of this spell runs out.";
On Event (52+1000) {
if (EActor->HasStati(2))
EActor->IPrint("You feel the effects of the poison slow down...");
return 0;
},
74 {
if (EActor->HasStati(2))
EActor->IPrint("You feel the resurgance of the poison...");
return 0;
};
}

52 / 53 Spell "Vigor" : 3
{
0x00000080; Base: 75; Cost: 5; Level: 1; qval: 0x0004;
tval: 91; xval: 120; yval: 28; pval: +5;
Flags: 4, 25, 61, 78;
Desc: "Casting this spell speeds up a target living creature's
      metabolism, giving them a +5 resistance bonus to Fortitude
      saving throws for a reasonably long duration at the cost of
      3 fatigue points when it expires.";
On Event 84 {
EActor->IPrint("Your metabolism crashes.");
EActor->LoseFatigue(3,false);
return 1;
};
}



53 Spell "Calm Animals" : 46
{ 0x00000008; Base: 90; Cost: 2; Level: 1; qval: 0x0002; cval: 11;
aval: 11; sval: 2; lval: 3; Purpose: 0x00000;
Flags: 53;
Desc: "Causes all animals and beasts within 30 feet (3 squares)
      of the target point who fail a Will save to become calm and
      stop attacking.";
On Event 28 {
EVictim->StateFlags |= 0x0001;
VPrint(e,"You feel calmer.",
"The <EVictim> seems calmer.");
},
155 {
if (EVictim->isMType(85))
return -1;
if (EVictim->isMType(2) || EVictim->isMType(35))
return 0;
return -1;
};
}

53 Spell "Camouflage" : 3
{ 0x00000020; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "pspells.irh" 618
xval: 124; yval: 18; pval: +5;
On Event 205 "Camo";
Desc: "This spell subtley alters the druid's coloration and the
      play of light around her, causing her to blend in easily with
      rock, foliage or other natural surrondings and thus giving her
      a +5 magic bonus to her Hide skill rating.";
}

53 Spell "Dust Devil" : 9
{ 0x00000100|0x00002000|0x00001000; Level: 1; Cost: 1; Base: 75; qval: 0x0002; pval: 2;
rval: $"dust devil;monster"; Flags: 25, 79;
Purpose: 0x00100;
Desc: "Conjures waist-high whirlwinds of dust (totalling CR 2) that can
      attack your foes."; }

53 Spell "Detect Animals and Plants" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 638
Level: 1; xval: 134; yval: 49;
pval: 120d1 + (-105);
Desc: "Reveals all Plant and Animal monsters, seen or unseen, within (120 +
    [caster level x 5]) squares of you. In addition, all vegetable terrain
    (e.g., trees, giant mushrooms) on the current level is revealed.";
On Event 205 "DetA&P";
} and 3
{ 0x00000004; Level: 1; xval: 134; yval: 2;
pval: 120d1 + (-105);
On Event 28 {

Rect r; int32 x, y; rID terID;

if (!EVictim->isPlayer())
return 0;

r@x1 = 1;
r@x2 = EMap->SizeX()-1;
r@y1 = 1;
r@y2 = EMap->SizeY()-1;
for (x=r@x1;x<=r@x2;x++)
for (y=r@y1;y<=r@y2;y++)
{
if (EMap->TreeAt(x,y))
EMap->MarkAsSeen(0,x,y,0);
}
EMap->VUpdate(EVictim->x,EVictim->y);
return 0;
};
}

53 Spell "Entangle" : 4
{ 0x00000002; Base: 75; Cost: 3; Level: 1;
aval: 11; lval: 8; qval: 0x0002 | 0x0004;
Purpose: 0x00004 | 0x00040 | 0x01000;
xval: 14; pval: -1; sval: 1; cval: 10;
Flags: 34, 35, 89;
Desc: "Causes plants, vines and vegetation to rise up and entangle
      hostile creatures within an 80 foot globe; victims become stuck if 
      they fail a Reflex saving throw. If there is no existing plant 
      life to work with, the spell automatically fails.";
int32 cast_flag, found_flag;
On Event
52
{ cast_flag = 0; found_flag = 0; },
155 {
found_flag = 1;
if (EMap->TerrainAt(EVictim->x,EVictim->y)->TerrainHasFlag(24) ||
EMap->TreeAt(EVictim->x,EVictim->y))
{
cast_flag = 1;
return 1;
}
return -1;
},
(52+1000) {
if (found_flag && !cast_flag)
EActor->IPrint("Since there is no suitable terrain nearby,
            no entangling occured.");
};
}


53 / 51 Spell "Hawkeye" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 703
Level: 1; xval: 79; yval: (19+500);
Desc: "This spell imbues the caster with the vision of a hawk,
      increasing the range increments of her ranged attacks by 50~
      and granting her low-light vision out to 30 feet.";
On Event ((19+500)+10000) {
if (e.vRange)
e.vRange = (e.vRange*3+1)/2;
return 0;
};
}
and 3
{ xval: 39; yval: 53; pval: +3; }

53 / 51 Spell "Longstrider" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; level: 1; qval: 0x0004;
#line "pspells.irh" 718
xval: 106; yval: 26; pval: +10; Purpose: 0x00010 | 0x00008;
On Event 205 "LStrider",
155 {
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->isCreature() && EVictim->HasMFlag(1))
return 0;
return -1;
};
Desc: "This spell provides an enhancement bonus of 50~ to the 
           movement rate of a single humanoid creature.";
}

52 / 53 / 50 / 51 Spell "Call Companions" : 46
{ 0x00000100; Base: 95; Cost: 2; Level: 1; qval: 0x0002; aval: 1;
cval: 2;
Purpose: 0x00000;
Desc: "This spell teleports your companions or followers (if you
    currently have any) to the area surrounding the target empty square.
    This spell is useful for helping wayward summoned monsters and animal
    companions navigate difficult terrain or for encouraging them to face
    a particular challenges on your behalf.";
On Event 155 {
if (EMap->SolidAt(e.EXVal,e.EYVal) ||
EMap->FCreatureAt(e.EXVal,e.EYVal) != NULL)
return -1;
return 1;
},
52 {
hObj h;
for(h = EMap->FirstThing(); h ; h = EMap->NextThing()) {
if (h->isType((-2))) {
if (h->isLedBy(EActor) && !(EActor->isLedBy(h))) {
EActor->IPrint("The <hObj> appears!",h);
if (EMap->SolidAt(e.EXVal,e.EYVal) ||
EMap->FCreatureAt(e.EXVal,e.EYVal) != NULL) {
h->PlaceNear(e.EXVal,e.EYVal);
} else {
h->PlaceAt(EMap,e.EXVal,e.EYVal);
}
} else {
}
}
}
};
Constants:
* 109 100;
}

53 Spell "Sandblast" : 1
{ 0x00000010|0x00002000; Base: 95; Cost: 2; Level: 1; qval: 0x0001;
xval: 11; pval: (-126)d6; cval: 6;
Purpose: 0x00001; On Event 200 "blast of sand";
sval: 1 partial; Flags: 75;
Desc: "You spray a blast of sand out from your hands inflicting
      1d6 points of abrasive (slashing) damage per caster level, in
      a 10 foot long arc in a direction of your choice. Creatures
      who fail to save against the effect are also stunned, but
      creatures with an armor rating of 7 or more against slashing
      damage are immune to this spell's effects. This spell does not
      provoke an attack of opportunity when cast.";
On Event 155 {
#line "pspells.irh" 783
if (!EVictim->isBeside(EActor))
return -1;
if (EVictim->ResistLevel(11) >= 7)
return -1;
return 0;
},
52 {
hObj h1,h2,h3;
#line "pspells.irh" 801
h1 = NULL; h2 = NULL; h3 = NULL;
if (DirX(e.EDir) && DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir), 197 + (6*256)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)); }
#line "pspells.irh" 804
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 + (6*256)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "pspells.irh" 805
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 + (6*256)); h3 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "pspells.irh" 806
}
else if (DirX(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 + (6*256)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "pspells.irh" 809
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 1, 197 + (6*256)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 1); }
#line "pspells.irh" 810
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + -1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + -1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + -1, 197 + (6*256)); h3 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + -1); }
#line "pspells.irh" 811
}
else if (DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 + (6*256)); h1 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "pspells.irh" 814
if (EMap->InBounds(EActor->x + 1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 1, EActor->y + DirY(e.EDir), 197 + (6*256)); h2 = EMap->FCreatureAt(EActor->x + 1,EActor->y + DirY(e.EDir)); }
#line "pspells.irh" 815
if (EMap->InBounds(EActor->x + -1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + -1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + -1, EActor->y + DirY(e.EDir), 197 + (6*256)); h3 = EMap->FCreatureAt(EActor->x + -1,EActor->y + DirY(e.EDir)); }
#line "pspells.irh" 816
}
else {
e.SetParam(1,EActor);
ReThrow(83,e);
e.isSomething = true;
return 1;
}
if ((EActor != NULL && EActor->isPlayer()) ||
(EVictim != NULL && EVictim->isPlayer())) {
ETerm->TermUpdate();
ETerm->StopWatch(500);
ETerm->RefreshMap();
}
if (h1) {
e.SetParam(1,h1);
ReThrow(83,e);
}
if (h2) {
e.SetParam(1,h2);
ReThrow(83,e);
}
if (h3) {
e.SetParam(1,h3);
ReThrow(83,e);
}
e.isSomething = true;
return 1;

};
}
and 3
{ xval: 5; sval: 1; Flags: 23; }

53 Spell "Warp Wood" : 46
{ 0x00000002; Base: 75; Cost: 5; Level: 2; qval: 0x0002|0x0004;
Purpose: 0x00400 | 0x10000 | 0x00004; cval: 6;
hObj h; Flags: 34, 40; lval: 4;
pval: (-101)d6; sval: 2; aval: 11;
On Event 155 {
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->isCreature())
for (h=EVictim->FirstInv();h;h=EVictim->NextInv())
if (h->isWooden())
if (h->isType(24) || h->isType(45))
return 0;
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20))) &&
h->isWooden() && EActor->Percieves(h) &&
dist(EActor->x,EActor->y,h->x,h->y) <= 4)
return 0;
else if ((h->isType(30) || h->isType(26)) &&
h->isWooden() &&
(h->HasStati(228)) && EActor->Percieves(h) &&
dist(EActor->x,EActor->y,h->x,h->y) <= 4)
return 0;
}
return 1;
},
28 {
hObj it;
h = GetHandle(EVictim);
if (h == GetHandle(EActor))
return 1;
if (h->isType(11) && (!(h->DoorFlags & (0x40|0x20))) &&
h->isWooden()) {
h->DoorFlags |= 0x02|0x40;
h->SetImage();
e.isSomething = true;
APrint(e,"The <hObj> swells and cracks apart in its frame!",h);
}
else if ((h->isType(30) || h->isType(26)) &&
h->isWooden() && (h->HasStati(228))) {
h->RemoveStati(228);
h->SetImage();
e.isSomething = true;
APrint(e,"The <hObj> warps, snapping off its lock.",h);
}
else if (h->isCreature()) {
for (it=h->FirstInv();it;it=h->NextInv())
if (it->isWooden())
ThrowDmg(41,57,e.vDmg,"",EActor,it);
}
else if (h->isWooden())
ThrowDmg(41,57,e.vDmg,"",EActor,h);
return 1;
};
Desc: "Magically warps wooden objects within a 40-foot radius, inflicting
      1d6 points of damage per caster level. Doors are instead broken open in
      their frame, and chests are forcibly unlocked. The caster is unaffected,
      and any other creatures recieve a Will save to prevent damage to
      their wooden items.";
}

53 Spell "Magic Fang" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "pspells.irh" 911
Level: 1; qval: 0x0004;
xval: 106; yval: 21; pval: -116;
On Event 155 {
if (!EVictim->isMType(75))
return -1;
return 0;
};
Desc: "Enhances one living creature's natural attacks, giving it
      a +1 to hit and damage at 1st level, increasing by +1 for every four
      levels thereafter. Such natural attacks count at magical +1 weapons,
      increasing by +1 every four levels.";
On Event 205 "MFang";
On Event 28
"You grow feral." /
"The <EVictim> grows feral!",
74
"You feel the feral power of the Magic Fang leave you." /
"The <EActor> is no longer affected by Magic Fang.";
}
and 3
{ xval: 106; yval: 13; pval: -116; }
and 3
{ xval: 39; yval: 48; pval: -116; }



53 Spell "Detect Natural Traps" : 46
{ 0x00000200; Base: 90; Cost: 2; Level: 1;
Purpose: 0x00000; Flags: 86;
On Event 28 {
hObj h; int32 found; rID teff;
found = 0;
for(h = EMap->FirstThing(); h ; h = EMap->NextThing())
if (dist(EActor->x,EActor->y,h->x,h->y) <= 25 + e.vCasterLev*2) {
if (h->isType(12))
if (!(h->TrapFlags & 0x0001)) {
teff = h->tID;
if (teff->HasFlag(33)) {
h->TrapFlags |= 0x0001;
h->SetImage();
h->Flags |= 0x0008;
EActor->IPrint("An <hObj>!",h);
h->Flags &= ~0x0008;
EMap->MarkAsSeen(0,h->x,h->y,0);
found = 1;
}
}
}
if (!found)
EActor->IPrint("You find nothing of note.");
else
EMap->VUpdate(EActor->x,EActor->y);
};
Desc: "Reveals the presence of natural traps like snares and pits.
    Magical traps, glpyhs and symbols are not detected. The range of this
    spell is 25 squares plus 2 squares per level.";
}

53 Spell "Puffball" : 1
{ 0x00000008; Base: 75; Cost: 1; Level: 1; qval: 0x0001|0x0004|0x0002;
aval: 3; lval: 3; cval: 6; sval: 0;
xval: 0; pval: (-116)d3; }
and 3
{ xval: 5; sval: 0; tval: 78;
Flags: 4, 23; Purpose: 0x00001;
On Event 200 "cloud of spores";
Desc: "Enchants a normal toadstool or mushroom such that is
      explodes into a cloud of spores when thrown, causing anyone
      who fails a Fortitude save to suffer 1d3 points of damage,
      plus 1d3 points for every 4 additional caster levels -- and
      to be stunned for a very short period. The puffball affects
      only creatures who need to breathe."; }

53 Spell "Shillelagh" : 46
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "pspells.irh" 986
Desc: "Imbues one of your non-cursed, blunt wooden melee weapons 
      with a +2 enhancement bonus and the thundering quality (+1d6 
      sonic damage).";
hObj it; qval: 0x0008; Flags: 40, 41;
On Event 155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58))
if (!(it->IFlags & 0x0002) &&
(it->isWooden()) && it->HasIFlag(28) &&
(it->GetPlus() < 2 || it->QualityOK(10)))
return 0;
}
return 1;
},
157 {
if (EItem->isType(58) && EItem->HasIFlag(28) &&
!(ETarget->IFlags & 0x0002) &&
ETarget->isWooden() && ETarget->QualityOK(10))
return 0;
return 2;
},
83 {
if (ETarget->isType(58) && ETarget->HasIFlag(28) &&
!(ETarget->IFlags & 0x0002) &&
ETarget->isWooden() && ETarget->QualityOK(10)) {
ETarget->GainTempStati(183,EActor,e.vDuration,2,
10,10,$"shillelagh", e.vCasterLev);
ETarget->GainTempStati(185, EActor, e.vDuration, 2,
0, +2, $"shillelagh", e.vCasterLev);
}
return 1;
};
}

53 Spell "Faerie Fire" : 3
{ 0x00000010|0x00020000; Base: 90; Cost: 1; Level: 1; qval: 0x0002;
aval: 11; cval: 11; lval: 4; xval: 139; pval: +1;
Purpose: 0x00004 | 0x00200 | 0x01000 (24);
Desc: "Limns any creatures within a 40-foot radius with colored, 
      flickering light, granting a +1 to hit it with ranged weapons, 
      making it unable to hide, negating the effects of blur or 
      displacement and making it visible from a greater distance 
      kaway.";
On Event 28 {
hText str;
switch(random(5)) {
case 0: str = "silver"; break;
case 1: str = "violet"; break;
case 2: str = "amber"; break;
case 3: str = "azure"; break;
case 4: str = "crimson"; break;
}
VPrint(e,"You are limbed in flickering <hText> light.",
"The <EVictim> is limbed in flickering <hText> light.", str);
return 0;
};
Flags: 61;
}

50 / 53 Spell "Obscurement" : 3
{ xval: 124; yval: 36; pval: +2; }
and 3
{ 0x00000002|0x00001000|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0;
#line "pspells.irh" 1049
lval: -94;
rval: 0x00000100; cval: 7; Purpose: 0x00010|0x00002; aval: 9;
Flags: 64;
Desc: "Conjures a bank of fog which travels with you and limits
    normal vision and infravision to 10 feet. Wood Elves, second level
    Druids and other creatures with the Nature Sense ability can see
    through fog. The fog bank has a radius of 30 feet (3 squares) plus
    10 feet (1 square) for every two caster levels. The fog also muffles
    sound a bit, granting the caster a +2 bonus to Move Silently checks.";
On Event 206
"A bank of thick fog rises up!",
74
"The fog disperses.";
On Event 155 {
if ((EActor->HasAbility(57) ||
EActor->HasAbility(13) ||
EActor->HasAbility(95) ||
EActor->HasAbility(91) ||
EActor->HasAbility(71) ||
EActor->HasStati(141)) &&
(((int32)EActor) % 3) == 1)
return 0;
else
return 1;
} ;
}


53 Spell "Summon Nature's Ally I" : 9
{ 0x00000100; Base: 75; Cost: 2; Level: 1; qval: 0x0002;
Purpose: 0x00100; xval: 89; pval: 1;
Desc: "Summons a natural creature of CR 1 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 1+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 1084
53 / 51 Spell "Pass without Trace" : 3
{ 0x00000020; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0x0002;
#line "pspells.irh" 1086
xval: 211; yval: 0x0020 | 0x0004 | 0x0200;
On Event 205 "PwoTrace";
Desc: "Turns your party effectively invisible on the wilderness
      screen -- encounters will not chase you, and even if you bump
      into one, you have a 50% chance of being able to decide whether
      you want to evade it or not. Additionally, you cannot be sensed
      by creatures using Scent, Tremorsense or Tracking."; }

53 Spell "Forest Wall" : 5
{ 0x00000002; Base: 90; Cost: 1; Level: 1; qval: 0x0001; aval: 8;
Purpose: 0x00040 | 0x00004 | 0x01000 (3);
xval: 6; rval: $"tree";
Desc: "Conjures a sparse wall of trees. The trees obscure vision and
    slow movement by 25~. They count as trees for spells or abilities that
    require such. They can be climbed like normal trees.";
On Event 206
"A curtain of trees appears.";
}



Effect "Divine Sacrifice" : 3
{
0x00000200; Level: 2; Cost: 3;
Desc: "Casting this spell, you sacrifice between two and ten hit
      points in order to gain the ability to inflict +1d10 extra damage
      on the next creature you hit for every 2 hit points you lose.
      The effect lasts only a short time; if you do not hit within
      the spell's duration, the sacrificed hit points are wasted. You
      can sacrifice a maximum number of hit points equal to your
      paladin level.";
int32 sac; xval: 79; yval: (20+500);
On Event 52 {
int32 lv, ch; lv = EActor->LevelAs($"paladin");
ch = EActor->ChoicePrompt("How many extra dice of damage?",
lv >= 10 ? "12345" : lv >= 8 ? "1234" : lv >= 6 ? "123" :
lv >= 4 ? "12" : "1", '0' + min(5,lv/2));
sac = (ch - '0')*2;
ThrowDmg(41,0,sac,"martyrdom",EActor,EActor);
return 0;
},
(28+1000) {
EVictim->GainTempStati(189,NULL,e.vDuration,2,
e.MM, sac, $"Divine Sacrifice", e.vCasterLev);
return 0;
},
((20+500)+10000) {
int32 meta; int32 dt, dmg;
meta = EActor->GetEffStatiVal(189,$"Divine Sacrifice");
sac = EActor->GetEffStatiMag(189,$"Divine Sacrifice")/2;
if (sac)
{
if (meta & 0x00010000)
dmg = sac * 10;
else
dmg = (sac)d10;
if (meta & 0x00000200)
dmg = (dmg*3)/2;
e.bDmg += dmg;
e.strDmg += Format(" %+d DSac",dmg);
EActor->RemoveEffStati($"Divine Sacrifice");
}
return 0;
};
}


Effect "Silversheen;spell" : 46
{
Level: 1; 0x00000002; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Flags: 54;
#line "pspells.irh" 1156
Desc: "This magical spell transmutes one of your non-organic 
    weapons, missiles, shields or armor into silver. Silver weapons strike
    true against undead, demons, devil and lycanthropes but have only half 
    the hardness of iron. Silver armor grants increased defense to attacks 
    from such creatures. The transmutation is permanant.";
hObj it;
On Event
155 {
if (EActor->isMType(76) ||
EActor->isMType(19) ||
EActor->isMType(73) ||
EActor->isMType(72))
return -1;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(45) ||
it->isType(51) || it->isType(21))
if (it->QualityOK(74) && it->isMetallic()) {
#line "pspells.irh" 1176
return 0;
}
}
return -1;
},
157 {
if (EItem->isType(58) || EItem->isType(45) ||
EItem->isType(51) || EItem->isType(21))
if (EItem->QualityOK(74) && EItem->isMetallic())
return 0;
return 2;
},
83 {
if (ETarget->isType(58) || ETarget->isType(45) ||
ETarget->isType(51) || ETarget->isType(21))
if (ETarget->QualityOK(74) && ETarget->isMetallic())
ETarget->GainTempStati(183,EActor,e.vDuration,2,
74,74, $"silversheen;spell", e.vCasterLev);
return 1;
};
}

0 Effect "Succor Contingency" : 3
{ 0x00000040; xval: 79; 0x00000100;
Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1;
#line "pspells.irh" 1201
yval: ((41+2000)+500);
Desc: "While under the influence of this spell, if you are about to
    take damage that would reduce your hit points to 33~ or less, there is
    a 20~ chance that you will be teleported away randomly before the
    damage is dealt. If you are teleported away you lose one point of
    fatigue and take two points of Luck damage.";
On Event 28
"A sweet aura surronds you."
"A sweet aura surronds the <EVictim>.";
On Event 205 "Succor";
On Event (((41+2000)+500)+10000) {
if (EActor != EVictim && EActor->isCreature()) {
if ( (EVictim->cHP - e.vDmg) <
(EVictim->mHP / 3) ) {
if (random(100) < 20) {
DPrint(e,"The <EVictim> is granted succor!",
"You are granted succor!");
ThrowEff(52,$"dimension door",EVictim,EVictim);
EVictim->LoseFatigue(1,false);
ThrowDmg(41,56,2,"the karmic strain of a Succor Contingency",EVictim,EVictim,NULL,NULL);
return 2;
}
}
}
};
}

Effect "Retributive Mirror" : 3
{ 0x00000040; xval: 79; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "pspells.irh" 1230
yval: ((41+2000)+500);
Desc: "While under the influence of this spell, one third of all
    damage dealt to you (round down) is reflected back to the attacker.
    Unless the attacker dies, the full amount then strikes you.";
On Event 28
"A reflective sheen surronds you."
"A reflective sheen surronds the <EVictim>.";
On Event 205 "Retrib";
On Event (((41+2000)+500)+10000) {
hObj caster;
int32 bonus;
if (EActor != EVictim && EActor->isCreature()) {
bonus = e.vDmg / 5;
if (bonus > 0) {
ThrowDmg(41,0,bonus,"retributive strike",
EVictim,EActor,EItem,EItem2);
if (EActor->isDead())
return 2;
}
}
};
}

Effect "Brand of Hatred" : 46
{
Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; 0x00000200; Level: 1; qval: 0x0008;
#line "pspells.irh" 1256
Desc: "This spell brands a weapon of your choice, forever marking it as a Bane 
      weapon (+2 attack bonus, +2d6 magic damage) against your Favored Enemy from
      the Hatred Domain power.";
hObj it; Flags: 40, 41;
On Event
155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(24))
if (it->QualityOK(35))
return 0;
}
return 1;
},
157 {
if (EItem->isType(58) && EItem->QualityOK(35))
return 0;
return 2;
},
28 {
if (ETarget->isType(58) && ETarget->QualityOK(35))
ETarget->AddQuality(35,EActor->GetEffStatiVal(31,$"hatred"));
return 1;
};
}

Effect "Benevolence" : 2
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; Flags: 56;
#line "pspells.irh" 1283
xval: 124; yval: 11; pval: -82; }
and 2
{ xval: 124; yval: 3; pval: -82;
Desc: "Casting this spell evokes an air of trustworthyness
      around you, exposing your fundamental goodness and
      encouraging other creatures to deal honestly and fairly
      with you, knowing you will do likewise. The caster thus
      recieves a bonus to Diplomacy and Appraise equal to
      her caster level (minimum +5).";
On Event 205 "Benevolence" / "Ben"; }

Effect "Malignance" : 2
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; Flags: 55;
#line "pspells.irh" 1296
xval: 124; yval: 6; pval: -82; }
and 2
{ xval: 124; yval: 20; pval: -82;
Desc: "Casting this spell evokes an air of hatefulness
      and malice around the caster, making her seem sinister
      and terrifying while obscuring her true intentions.
      The caster thus recieves a bonus to Bluff and Intimidate
      equal to her caster level (minimum +5).";
On Event 205 "Malignance" / "Mal"; }

Effect "Detect Blood" : 3
{ 0x00000004; 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20;
#line "pspells.irh" 1308
Level: 2; xval: 134;
yval: 77; pval: 25d1 + (-102);
Desc: "Reveals all creatures that have blood, seen or unseen, within
    (25 + [caster level x 2]) squares of you.";
On Event 205 "DetBlood";
}

Effect "Caustic Vitae" : 1
{ 0x00000040; 0x00000080; pval: (-126)d8; sval: 1 PARTIAL; Level: 1;
aval: 1; qval: 0x0001 | 0x0004; Purpose: 0x00001;
Flags: 62, 54;
Base: 95;
Desc: "Casting this spell causes your own blood to burst from your
      veins and fly toward the target of your choice. When it strikes
      an opponent it does 1d8 points of acid damage per cast level (scaled
      at 10th level). A Reflex saving throw is allowed for half damage. Due
      to the sacrifice involved in casting this spell, half of the damage
      dealt cannot be resisted. Casting this spell carries a heavy toll:
      the caster takes one-fourth of the damage dealt as blood loss.";
On Event 52 {
int32 dmg ;
dmg = e.vDmg / 4;
ThrowDmg(41,0,dmg,"casting caustic vitae",EActor,EActor);
if (EActor->Flags & 0x0008)
return 1;
return 0;
};
}

52 / 51 Spell "Entropic Shield" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "pspells.irh" 1339
Flags: 84;
xval: 145; yval: 1; pval: 50;
Purpose: 0x00010 (3);
Desc: "Manipulates chance to cause all ranged attacks against
      you to have a 50% miss chance.";
On Event 28 "You feel lucky.",
205 "EntShield" / "EntS",
74 "You no longer feel as lucky."; }

Effect "Moment" : 3
{ 0x00000004; Base: 95; Cost: 2; Level: 1;
Flags: 61, 13, 84, 26, 86;
xval: 124; yval: -1; pval: +4; Purpose: 0x00010;
Desc: "By discerning the most numeralogically perfect moment
      in which to perform a given action, you are able to gain a
      +4 circumstance bonus to the next skill roll you make."; }

Effect "Pain Touch" : 3
{ 0x00000040; Base: 95; Cost: 1; Level: 1; aval: 6; sval: 0;
Purpose: 0x00001 (15); cval: 8; lval: -83;
xval: 121; yval: 51; pval: -3; tval: 75;
Flags: 4, 25, 86, 61, 66;
Desc: "Any living creature you touch is overcome with agony
      on a failed Fortitude save, suffering a -3 general penalty
      to all actions. You get a number of touches per casting
      equal to your priest level (minimum 3).";
On Event 206
"Your hands glow with an angry red aura." /
"The <EActor>'s hands glow with an angry red aura.",
28
"You are wracked with pain!" /
"The <EVictim> howls in agony!";
}

Effect "Protection from Theft" : 3
{
0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1;
#line "pspells.irh" 1376
xval: 123; yval: 18; pval: +4;
Desc: "This spell protects the caster from having her property
      stolen, making her preternaturally alert and perceptive with
      regard to pickpockets -- in game terms, granting her a +4 bonus
      to saving throws against theft.";
}
#line "pspells.irh" 1428
53 Spell "Detect Elementals" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; xval: 134; yval: 38;
#line "pspells.irh" 1430
pval: 25d1 + (-102);
Desc: "Reveals all Elementals, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetElem";
}

Effect "Sanguine Touch" : 1
{ 0x00000080; 0x00000040; Base: 95; Cost: 2; Level: 2; aval: 6;
Purpose: 0x00001 (0); cval: 4; lval: -81;
sval: 3; xval: 0; pval: (-126)d6; tval: 77;
Flags: 86, 4, 25, 61, 66; }
and 1
{ aval: 6; xval: 45; pval: (-126)d2;
sval: 0 PARTIAL; tval: 77; }
and 1
{ aval: 6; xval: 59; pval: (-126)d2;
sval: 0 PARTIAL; tval: 77;
Desc: "Your hands glow with a crimson red aura and your touch
      has decidedly unpleasant effects on creatures with blood: their 
      blood explodes outward at your touch, damaging their internal organs
      and leaving gaping holes. On applicable victims your touch inflicts
      [Caster Level]d6 points of unblockable damage, drains [Caster
      Level]d2 points of Constitution and causes bleeding for [Caster
      Level]d2 rounds. The last two effects allow partial Fortitude saves.
      The Caster Level-based effects are scaled starting at 10th level. You
      gain one attack per level, minimum of 10.";
On Event 206
"Your hands glow with a blood red aura." /
"The <EActor>'s hands glow with a blood red aura.";
}
#line "pspells.irh" 1465
53 Spell "Alicorn Lance" : 1
{ 0x00000010|0x00010000; Base: 75; Cost: 5; Level: 2; xval: 12;
Purpose: 0x00001 (0); cval: 15; Flags: 11;
pval: 3d6; sval: 1; qval: 0x0001|0x0004|0x0002; aval: 1;
Desc: "This spell creates a silver-hued, partially ethereal lance
    shaped in the form of an alicorn (a unicorn horn).  The spellcaster
    chooses a target and the alicorn lance instantaneously fires at it,
    inflicting 3d6 points of piercing damage, with a saving throw for half
    damage. Because the lance is partially ethereal, it counts as a ghost
    touch effect and strikes true against incorporeal creatures.";
On Event 200 "silvery lance";
}

53 Spell "Sunscorch" : 1
{ 0x00000010|0x00020000; Base: 90; Cost: 3; Level: 2; qval: 0x0004;
xval: 9; pval: (-115)d6; cval: 14;
Flags: 60; On Event 200 "flare of sunlight";
Purpose: 0x00001; }
and 3
{ xval: 3; sval: 0; Flags: 23, 83;
Desc: "Creates a blinding hot flare of sunlight that inflicts 1d6
      points of sunlight damage for every 3 caster levels, starting at 1st,
      and blinds a target briefly if they fail a Fortitude save. An
      attack roll is required to hit with this spell, and undead suffer
      maximum damage.";
On Event 83 {
if (EVictim->isMType(76))
e.MM |= 0x00010000;
};
}

53 Spell "Snowstrike" : 1
{ 0x00000010; 0x00000800; 0x00008000; Base: 75; Cost: 5; Level: 2; sval: 1 partial;
xval: 2; pval: (-114)d4; Purpose: 0x00001;
aval: 3; qval: 0x0001 | 0x0004; cval: 17; lval: 2;
Desc: "Creates an explosive blast of snow that deals (caster level / 2)d4
    points of cold damage to all creatures within a 10 foot (1 square)
    radius. The caster and her allies are immune to the effect.";
}

53 Spell "Rainstorm" : 3 {
xval: 211; yval: 0x0004|0x0008; Flags: 25;
} and 1
{ 0x00000002|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20;
#line "pspells.irh" 1509
Level: 2; aval: 9;
rval: 0x00000100 | 0x00000004 | 0x00004000 | 0x00000008;
lval: 4; xval: 74; pval: 2d3;
Flags: 64, 87; cval: blue;
Desc: "Conjures a bank of thunderclouds at ground level that burst
    forth with a supernatural torrent of rain. The clouds limit vision to
    10 feet. Wood Elves, second level Druids and other creatures with the
    Nature Sense ability can see through the clouds. The clouds have
    a radius of 40 feet (4 squares). All creatures within the rainstorm
    except the caster take 2d3 points of Soaking damage to all exposed
    equipment every round. The cannot be detected by Scent or Blindsight
    while the storm lasts.";
On Event 155 {
if (EActor->HasAbility(57) ||
EActor->HasAbility(13) ||
EActor->HasAbility(95) ||
EActor->HasAbility(91) ||
EActor->HasAbility(71) ||
EActor->HasStati(141))
return 0;
else
return 1;
} ;
On Event 206
"A vast rainstorm appears!",
74
"The vast rainstorm disperses."; }

53 Spell "Beast Claw" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20;
#line "pspells.irh" 1539
Level: 2; qval: 0;
xval: 106; yval: 0; pval: 4;
Flags: 75;
Desc: "This spell transforms the caster's arms into the claws of a
    mighty beast, giving the caster a +4 bonus to strength and the ability
    to rake an opponent for 2d4 (+ strength bonus) points of slashing
    damage.  The caster can attack twice per round with the beast claws.";
On Event 155 {
if (EActor->isMonster())
if (((int32)(GetHandle(EActor))) % 5 != 3)
return -1;
if (!(EVictim->HasEffStati(71,$"clawed;template")))
return 0;
return -1;
};
} and 46 {
On Event 28 {
if (EVictim->HasAttk(6))
{
EVictim->IDPrint("You already have a natural claw attack.",
"The <Obj> already has a natural claw attack.", EVictim);
return 2;
}
EVictim->GainTempStati(71,EActor,e.vDuration,2,
0, 1, $"clawed;template",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->GainTempStati(86,EActor,e.vDuration,2,
1, 1, $"clawed;template",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->GainTempStati(86,EActor,e.vDuration,2,
6, 6, $"clawed;template",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->SetImage();
EVictim->CalcValues();
};
}

Template "clawed;template" : 0x0008 for 130
{
Desc: "This spell transforms the caster's arms into the claws of a
    mighty beast, giving the caster a +4 bonus to strength and the ability
    to rake an opponent for 2d4 (+ strength bonus) points of slashing
    damage.  The caster can attack twice per round with the beast claws.";
Str +0;
Attk:
27 for 2d4 11,
27 for 2d4 11;
}


52 / 53 Spell "Heal Mount" : 46
{ 0x00000200; Base: 95; Cost: 5; Level: 2;
cval: 2; Purpose: 0x00000;
Desc: "This spell Heals your mount (if you currently
    have one), as per the Priest spell Heal.";
On Event 28 {
hObj h;
h = EActor->GetStatiObj(87);
if (h != NULL) {
EActor->IPrint("Your mount, <hObj>, is healed!",h);
ThrowEff(52,$"heal;spell",EActor,h,NULL,NULL);
} else {
EActor->IPrint("You do not appear to have a mount");
}
};
}
#line "pspells.irh" 1676
52 / 53 Spell "Aid" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "pspells.irh" 1678
xval: 107; yval: 51; pval: +1; }
and 3
{ xval: 107; yval: 36; pval: (-116)d8;
Desc: "Grants the chosen subject a +1 bonus to hit and damage,
      as well as 1d8 temporary hit points for every four caster
      levels, starting with 1d8 at 3rd level.";
Constants:
* 109 75;
}

52 / 51 Spell "Calm Emotions" : 3
{ 0x00000008; Base: 90; Cost: 4; Level: 2; Flags: 53, 25;
aval: 11; lval: 4; qval: 0x0002 | 0x0004; cval: 3;
xval: 137; yval: 2; sval: 2; Purpose: 0x00000;
Desc: "Causes hostile, intelligent creatures within a 40 foot
      radius globe who are not evil, have not been given a strong
      reason to attack you and are of lower CR then you to become
      friendly.";
On Event 155 {
if (!EVictim->isHostileTo(EActor))
return -1;
if (EVictim->isPlayer())
return -1;
if (EVictim->HasMFlag(67) || EVictim->HasMFlag(49))
return -1;
if (!EVictim->isMType(85))
return -1;
if (EVictim->ChallengeRating() > EActor->ChallengeRating())
return -1;
return 1;
};
}

52 Spell "Chant" : 46
{ 0x00000008; Base: 95; Cost: 4; Level: 2;
Flags: 53, 58, 66;
aval: 11; lval: 6; Purpose: 0x00000;
On Event 52 {
EActor->RemoveStati(77);
EActor->GainPermStati(77,NULL,7,0,6,$"chant");
DPrint(e,"You begin a deep, sonorous war chant.",
"The <EActor> begins a reverbrant clerical chant.");
},
28 {
if (EVictim->HasMFlag(7))
return 1;
if (EVictim->isFriendlyTo(EActor)) {
EVictim->IPrint("You feel uplifted!");
EVictim->GainPermStati(114,EActor,11,51,+1,$"chant");
EVictim->GainPermStati(114,EActor,11,53,+1,$"chant");
}
else if (EVictim->isHostileTo(EActor)) {
EVictim->IPrint("You feel disheartened!");
EVictim->GainPermStati(114,EActor,11,51,-1,$"chant");
EVictim->GainPermStati(114,EActor,11,53,-1,$"chant");
}
return 1;
};
Desc: "Grants you and your allies (within 60 feet) a +1 morale bonus to
      hit, damage and saves, and conversely inflicts a -1 morale penalty on
      your enemies -- so long as you continue to chant.";
}

52 Spell "Consecrate" : 3
{ 0x00000200; Base: 90; Cost: 3; Level: 2; qval: 0x0002;
aval: 11; lval: 6; cval: 15; tval: 76;
xval: 107; yval: 51; pval: -2;
Flags: 4, 25, 56;
Purpose: 0x00200 (23);
Desc: "Fills an area with holy energies, such that all undead
      therein suffer a -2 penalty to hit, damage and saves, and
      have their turn resistance lowered by 4, even below 0."; }
and 3
{ aval: 11; xval: 39; yval: 98;
pval: -4;
On Event 28
"Holy energy weakens you!" /
"Holy energy weakens the <EVictim>!"; }

Effect "Death Knell" : 25 { }

52 Spell "Desecrate" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15;
#line "pspells.irh" 1761
Level: 2; qval: 0x0002;
aval: 11; lval: 6; cval: 8; tval: 76;
xval: 107; yval: 51; pval: +2;
Flags: 4, 55;
Desc: "Fills an area with unholy energies, such that all undead
      therein suffer a +2 bonus to hit, damage and saves, and
      gain a +4 turn resistance that stack with any they might
      already have."; }
and 3
{ aval: 11; xval: 39; yval: 98;
pval: +4;
On Event 28
"Unholy energy strengthens you!" /
"Unholy energy strengthens the <EVictim>!"; }

52 / 51 / 53 Spell "Cure Moderate Wounds" : 26
{ 0x00000200; Base: 90; Cost: 0; Level: 2; qval: 0x0004|0x0100;
xval: 0x01; pval: 2d8 + -123; yval: 15;
Flags: 59, 78; Purpose: 0x00080 (1);
Desc: "Heals you of 2d8 + your level in hit points of damage, to a
      maximum of 2d8+10, with a hit point to mana ratio of 1.5 per 1. Healing
      spells disrupt unlife, inflicting twice the damage to an undead
      creature they would have healed in a living one.";
Constants:
* 109 30;
}

52 / 51 Spell "Silence" : 46
{ 0x00000002; Base: 75; Cost: 5; Level: 2; qval: 0x0002;
aval: 7; rval: 0x00001000; cval: 9; lval: 4;
Purpose: 0x00004 (6);
Desc: "Creates a field of supernatural silence 40 feet in 
      radius, inside which spellcasters cannot produce the
      verbal components of their spells."; }



52 / 51 Spell "Enthrall" : 46
{ 0x00000008; Base: 90; Cost: 4; Level: 2; cval: 3;
aval: 11; lval: 6; sval: 2;
tval: 75; Purpose: 0x00000;
Flags: 53, 58, 66, 34;
On Event 52 {
EActor->RemoveStati(77);
EActor->GainPermStati(77,NULL,7,0,6,$"enthrall");
EActor->GainPermStati(79,EActor,11,(19+500),0,$"enthrall");
},
28 {
EVictim->GainPermStati(9,EActor,11,0,0,$"enthrall");
},
((19+500)+10000) {
if (e.isAoO)
return 1;
EActor->RemoveStati(77);
return 0;
};
Desc: "Your performance -- spoken or sung -- holds all creatures within
      60 feet (6 squares) who fail a Will save spellbound (effectively
      paralyzed). If you attack or stop singing, however, the effect is 
	  broken.";
}

52 Spell "Find Traps" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level 2;
#line "pspells.irh" 1825
xval: 124; yval: 41; pval: -101;
Desc: "You gain intuitive insight into the workings of traps and 
    hidden things. You gain an bonus equal to your caster
    level (maximum +10) on Search checks made while the spell is
    in effect. Note that find traps grants no ability to disable the traps
    that you may find."; }
#line "pspells.irh" 1837
52 Spell "Holy Summoning II" : 9
{ 0x00000100; Base: 75; Cost: 5; Level: 2; qval: 0x0002;
Purpose: 0x00100; xval: 119; pval: 2;
Desc: "Summons an outsider of CR 2 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 2+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 1845
52 Spell "Inflict Moderate Wounds" : 1
{ 0x00000040; Base: 95; Cost: 3; Level: 2; aval: 6;
xval: 6; pval: 2d8 + -123; cval: 6;
Flags: 66, 25, 86; Purpose: 0x00001;
On Event 37
"Your hands glow with a black aura." /
"The <EActor>'s hands glow with a black aura.",
28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 2d8 + caster level (maximum 1d8+10) points of necromantic
      damage on the next creature you touch.";
}

52 /2 Spell "Make Whole" : 46
{ 0x00000002; Cost: 15; Level: 2; Base: 90;
pval: 100; qval: 0x0008;
Flags: 40, 78;
Desc: "Repairs all damage to an item in the 
      caster's possesion.";
hObj it;
On Event
155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->GetHP() < it->MaxHP())
return 0;
}
return -1;
},
83 {
if (EVictim->GetHP() < EVictim->MaxHP()) {
EVictim->MendHP(e.vDmg * 10);
if (EVictim->GetHP() >= EVictim->MaxHP())
VPrint(e,"Your <hObj> has been fully restored.",NULL,EVictim);
else
VPrint(e,"Your <hObj> has been partially restored.",NULL,EVictim);
}
} ;
Constants:
* 109 500;
}

52 Spell "Magic Stone" : 46
{
0x00000200|0x00002000; Base: 90; Cost: 15; Level: 2; qval: 0x0008;
Flags: 85, 78, 40,
41; int32 ch;
On Event 157 {
if (ETarget->isType((-4)))
if (ETarget->iID == $"stone" ||
ETarget->iID == $"rock" ||
ETarget->iID == $"sling stone")
return 0;
return 2;
},
52 {
ch = EActor->ChoicePrompt("Missile, Lore, Ration or Sentinel?", "mlrs", 'm');
if (ch == -1)
return 2;
return 0;
},
28 {
hObj hA, hB;
switch (ch)
{
case 'm':
ETarget->GainTempStati(185,EActor,e.vDuration,2,1,
max(1,min(5,e.vCasterLev / 3)), $"magic stone", e.vCasterLev);
ETarget->GainTempStati(183,EActor,e.vDuration,2,
10,0, $"magic stone", e.vCasterLev);
VPrint(e,"","The <EVictim> gives off a soft silvery glow.");
return 1;
case 'l':
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
case 'r':
hA = ETarget->TakeOne();
hA->Remove(true);
hB = CreateItem($"edible stone");
EActor->GainItem(hB, true);
return 1;
case 's':
hA = ETarget->TakeOne();
hA->Remove(true);
hB = CreateMonster($"stone sentinel");
hB->PlaceAt(EMap, EActor->x, EActor->y);
if (EActor->isPlayer())
hB->MakeCompanion(EActor,2);
hB->Initialize();
return 1;
}
return -1;
};
Desc: "Casting this spell allows a priest to briefly awaken
      the spirit of any one stone (or stack of stones) of
      hand-held size or smaller. This can have any one of
      the four following effects:\n
      __<10>Stone Bolt:<2> A mundane rock or sling bullet
      (or stack thereof), is transformed into a powerful
      magical missile: a +1 thundering weapon. The magical
      plus increases by one for every three caster levels
      the caster possesses.\n
      __<10>Stone Lore:<2> The caster speaks with the stone,
      learning its nature -- this form of the spell works to
      identify any magical stone, rock or sling bullet it is
      cast upon.\n
      __<10>Stone Ration:<2> This form of the magic renders
      the affected stone edible (by creatures that can normally
      subsist on vegetable matter). A priest can survive and
      even sustain a small group in times of privation in this
      manner, but in the long run eating stones has an adverse
      effect on one's health.\n
      __<10>Stone Sentinel:<2> This form of the casting briefly
      animates the rock, turning it into a tiny stone figure
      called a stone sentinel. Such a creature is very weak,
      being less than a foot tall, but is difficult to hit and
      may serve as a useful distraction in a time of need.";
}

Item "edible stone" : 37
{
Image: brown '*';
Mat: 28; Weight: 15; hp: 10;
Nutrition: 10; Flags: 1;
Desc: "While this rock retains the texture of normal stone, it has
      been rendered edible and sustaining by a priest's magic, and can
      be eaten like a ration.";
On Event 53 {
EActor->Abuse(2,2);
return 0;
};
}

52 / 2 Spell "Negative Plane Protection" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2; qval: 0x0004;
#line "pspells.irh" 1981
xval: 79; yval: (41+500); Flags: 56, 45;
Desc: "Creates a subdued aura of positive energy around
      the caster, deflecting the life-draining attacks of
      undead such as wights and wraiths. This spell protects
      against [2 + Cha mod] such attacks, causing them to
      drain only 1/4th the amount of experience that they
      normally would.";
On Event ((41+500)+10000) {
if (e.DType == 32) {
e.vDmg /= 4;
APrint(e,"A warm golden flash blocks the negative energies!");
EVictim->IncEffStatiMag(189,$"Negative Plane Protection",
7, NULL, +1);
if (EVictim->GetEffStatiMag(189,$"Negative Plane Protection") >
max(0,EVictim->Mod(5)) + 1) {
EVictim->RemoveEffStati($"Negative Plane Protection");
APrint(e,"The golden aura fades away.");
}
}
return 0;
},
205 "NegProt";
}



52 Spell "Shield Other" : 3
{ 0x00000080; Base: 95; Cost: 3; Level: 2; qval: 0x0004;
xval: 79; yval: (41+2000); tval: 75;
Flags: 4, 25, 86; Purpose: 0x00000;
On Event ((41+2000)+10000) {
hObj sh;
if (e.DType > 13)
return 0;
e.vDmg /= 2;
sh = EVictim->GetEffStatiObj(79,$"shield other");
ThrowDmg(41,e.DType,e.vDmg,"sharing damage with an ally",EActor,sh);
sh->IPrint("The sympathetic link transfers damage!");
return 1;
};
Desc: "Establishes a sympathetic link between the caster and a chosen
      target, such that any damage the target sustains is divided evenly
      between both.";
}

52 Spell "Spiritual Hammer" : 9
{ 0x00000010; Base: 75; Cost: 4; Level: 2; qval: 0x0002; pval: 3;
rval: $"spiritual hammer;monster"; Purpose: 0x00100; Flags: 25;
Desc: "Summons a warhammer-shaped manifestation of force
      (approximately CR 3) to strike at your enemies."; }
#line "pspells.irh" 2037
Monster "spiritual hammer;monster" : 36
{
Image: bright cyan 251; Size: 3; Mana: 0;
CR: 3; HD: 2; Def: 12; Hit: +4; Mov: 150%; Spd: 120%;
Str 16, Dex 14, Con 0, Int 0, Wis 10, Cha 0;
Arm: 2;
Attk: 19 for 1d8+2 13 and 2d4 17 (DC 16);
Stati[39,48,1];
Stati[39,13,9];
Stati[39,36,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 3, 2, 4, 5, 23,
24, 25, 44, 13, 66,
88;
Desc: "This warhammer-shaped manifestation of force
    was summoned by a priest.";
}
#line "pspells.irh" 2061
Effect "Blood Fury" : 3
{ 0x00000200; 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15;
#line "pspells.irh" 2063
Level: 2; qval: 0x0004;
xval: 66; pval: -99;
Flags: 84;
Desc: "Excites the target into a terrible rage. The target gains a Rage
    bonus to its Strength and Constitution equal to half your level (scaled
    at 10) and a Rage bonus to Will saves equal to one fourth your level.
    At level 14 the target is immune to Confusion and at level 26 the target
    is immune to Stunning. The effect behaves like a Barbarian's Rage
    ability. Note that you cannot cast spells while raging.";
On Event 155 {
if (!EVictim->isMType(77)) return -1;
else return 1;
} ;
}


53 Spell "Barkskin" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "pspells.irh" 2081
xval: 113; yval: 17; pval: 3d1 + -109;
Desc: "Gives you a natural armor rating of 3, plus one for
      every five caster levels above 1st.";
Constants:
* 109 50;
}

53 Spell "Chill Metal" : 3
{ 0x00000002|0x00000800; 0x00000800; Base: 75; Cost: 5; Level: 2; qval: 0x0004;
xval: 79; yval: 32; Purpose: 0x00004 | 0x00001 (10);
Flags: 61;
On Event 205 "Chill Metal" "CMet";
On Event 28
"You feel a strange chill in your equipment!" /
"The <EVictim>'s items look colder!",
74
"Your equipment no longer seems cold." /
"The <EActor>'s equipment stops freezing.",
(32+10000) {
hObj it;
hObj killer;
int32 r;
r = EActor->ResistLevel(2);
if (r == -1 || r >= 8) { e.Immune = true; return 0; }
for(it = EActor->FirstInv(); it &&
!(EActor->isDead()) ; it = EActor->NextInv())
if (it->GetParent() == GetHandle(EActor))
{
if (it->isMetallic()) {
if ((it->isCursed() || it->isType(21) || it->isType(23)
|| it->isType(27)) && (it->IFlags & 0x0004))
{
VPrint(e,"Your <hObj> sears your flesh!",
"The <EActor>'s <hObj> sears!",it);
ThrowDmg(41,2,2d4,
"freezing metal items",EActor,EActor);
}
else if ((it->IFlags & 0x0004))
{
VPrint(e,"Your <hObj> sears your flesh!",
"The <EActor>'s <hObj> sears!",it);
ThrowDmg(41,2,1d4,
"freezing metal items",EActor,EActor);
}
}
}
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"chill metal");
if (killer)
killer->KillXP(EActor);
}
return 0;
};
Desc: "Chills all the metal items a target carries, causing cold damage
    and often inspiring non-immune targets to drop loose metal items. 
    Each round, metal armor, boots and clothes cause 2d4 points of cold
    damage. Other worn metal items (e.g., bracers, amulets, gauntlets,
    girdles) cause 1d4 points of cold damage. Note that this spell
    does not benefit from the Maximize Spell or Empower Spell metamagic
    feats.";
}

53 Spell "Heat Metal" : 3
{ 0x00000002|0x00004000; Base: 75; Cost: 5; Level: 2; qval: 0x0004;
xval: 79; yval: 32;
Flags: 61;
On Event 205 "Heat Metal" "HMet";
Purpose: 0x00004 | 0x00001 (11) ;
On Event 28
"You feel a strange warmth in your equipment!" /
"The <EVictim>'s items look warmer!",
74
"Your equipment no longer seems hot." /
"The <EActor>'s equipment stops burning.",
(32+10000) {
hObj it;
hObj killer;
int32 r;
r = EActor->ResistLevel(1);
if (r == -1 || r >= 8) { e.Immune = true; return 0; }
for(it = EActor->FirstInv(); it &&
!(EActor->isDead()) ; it = EActor->NextInv())
if (it->GetParent() == GetHandle(EActor))
{
if (it->isMetallic()) {
if ((it->isCursed() || it->isType(21) || it->isType(23)
|| it->isType(27)) && (it->IFlags & 0x0004))
{
VPrint(e,"Your <hObj> sears your flesh!",
"The <EActor>'s <hObj> sears!",it);
ThrowDmg(41,1,2d4,
"burning metal items",EActor,EActor);
}
else if ((it->IFlags & 0x0004))
{
VPrint(e,"Your <hObj> sears your flesh!",
"The <EActor>'s <hObj> sears!",it);
ThrowDmg(41,1,1d4,
"burning metal items",EActor,EActor);
}
}
}
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"heat metal");
if (killer)
killer->KillXP(EActor);
}
return 0;
};
Desc: "Heats all the metal items a target carries, causing fire damage
    and often inspiring non-immune targets to drop loose metal items. 
    Each round, metal armor, boots and clothes cause 2d4 points of fire
    damage. Other worn metal items (e.g., bracers, amulets, gauntlets,
    girdles) cause 1d4 points of fire damage. Note that this spell
    does not benefit from the Maximize Spell or Empower Spell metamagic
    feats.";
}

53 Spell "Hold Beast" : 3
{ 0x00000008; Level: 2; Cost: 4; Base: 75; qval: 0x0004;
xval: 9; sval: 0; Purpose: 0x00004 (9);
Desc: "Paralyzes one chosen beast, provided they fail a Fortitude
      save.";
On Event 155 {
if (EVictim->isMType(85))
return -1;
if (EVictim->isMType(2) || EVictim->isMType(35))
return 0;
return -1;
};
}

53 Spell "Tree Stride" : 6
{ 0x00000100; Level: 2; Cost: 2; Base: 90;
xval: 5; Purpose: 0x00008; pval: 30;
Flags: 75;
Desc: "With this spell, a druid can utilize trees as a method of
      near-instantaneous travel -- if cast while standing beneath a
      tree, the druid can appear anywhere within 300 feet of her
      starting locale; otherwise, she steps out of a tree within 300
      feet of her starting location. If no trees are available within
      the spell's area, it simply fails.";
On Event 28 {
Rect r; int32 xy, ta;
e.isLoc = true;
if (EActor->isPlayer() && (e.MM & 0x00000020)) {
e.vRange = 30;
if (!ETerm->EffectPrompt(e,0x0002,false,"Tree Stride Destination"))
return 2;
if (!EMap->TreeAt(EActor->x,EActor->y))
if (!EMap->TreeAt(e.EXVal,e.EYVal))
{ e.EXVal = -1; e.EYVal = -1; }
} else {

if (EMap->TreeAt(EActor->x,EActor->y))
ta = 0;
else
ta = 0x0080;

r@x1 = max(1,EVictim->x - e.vRange);
r@x2 = min(EMap->SizeX()-1,EVictim->x + e.vRange);
r@y1 = max(1,EVictim->y - e.vRange);
r@y2 = min(EMap->SizeY()-1,EVictim->y + e.vRange);

if (!EMap->FindOpenAreas(r,ta))
{
e.EXVal = -1;
e.EYVal = -1;
}
else
{
xy = EMap->GetOpenXY();
e.EXVal = xy % 256;
e.EYVal = xy / 256;
}
}
return 0;
};
}


53 Spell "Rooting" : 3
{ 0x00000008|0x00002000; Level: 4; Cost: 6; Base: 95;
xval: 118; yval: 17; pval: +10;
Flags: 54, 61, 75, 86;
Purpose: 0x00000;
On Event (1+10000), (81+10000) {
EActor->RemoveEffStati($"Rooting");
return 0;
},
52 {
if (EActor->isAerial() || EMap->TerrainAt(EActor->x,
EActor->y)->TerrainHasFlag(7))
{
EActor->IPrint("You must be standing on solid ground to use 
            <9>Rooting<7> properly.");
return 2;
}
return 0;
},
205 "Rooted" / "Ro";

Desc: "Casting this spell attunes the druid mystically to the
      earth or stone he is standing on, rooting him to the spot
      and bestowing the endurance of Therya itself. The druid gains
      a +10 natural bonus to his armor rating versus slashing,
      piercing and blunt damage, as well as immunity to knockdown,
      stunning, knockback, teleportation and critical hits. The
      effects last until the druid moves.";
}
and 3
{ xval: 177; yval: 61; }
and 3
{ xval: 177; yval: 17; }
and 3
{ xval: 177; yval: 67; }
and 3
{ xval: 177; yval: 23; }
and 3
{ xval: 133; }
and 3
{ xval: 79; yval: 1; }
and 3
{ xval: 79; yval: 81; }

50 / 53 Spell "Flaming Sphere" : 9
{ 0x00000010|0x00004000; Level: 2; Cost: 4; Base: 75; qval: 0x0002; pval: 3;
rval: $"flaming sphere;monster"; Flags: 25;
Desc: "Conjures a boulder-sized globe of fire that rolls
      around and burns your enemies (approximate CR 3)."; Purpose: 0x00100; }
#line "pspells.irh" 2317
Monster "flaming sphere;monster" : 36
{ Image: red 9; Size: 4; Mana: 0;
CR: 3; HD: 3; Def: 8; Hit: +4; Mov: 150%; Spd: 150%;
Str 12, Dex 14, Con 0, Int 0, Wis 10, Cha 0;
Attk: 12 for 2d6 1 and 0d0 67 (DC 18),
54 for 2d6 1;
Stati[39,48,1];
Stati[39,110,1];
Stati[39,13,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040,
0x00000001;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 3, 2, 4, 23,
24, 25, 44, 41, 33,
56, 66, 88;
}

53 Spell "Flame Blade" : 46
{ 0x00000010|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; Purpose: 0x00010 (1);
#line "pspells.irh" 2337
Desc: "This spell can be cast in one of two forms, both of which last for a
    full day:\n
    __<9>Conjure Flame Blade:<1> A 3-foot-long, blazing beam of red-hot fire springs 
    forth from your hand. You wield this bladelike beam as if it were a scimitar.
    The flame blade inflicts 3d8 points of fire damage otherwise has statistics
    identical to a scimitar - save that you do not recieve a Strength bonus on the
    damage, since the blade is immaterial.\n
    __<9>Augment Existing Blade:<1> You augment any one weapon from the Short Blades
    or Long Blades group, granting it the Flaming weapon quality. A weapon that already
    has the flaming quality is granted the Burst quality instead.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Augment or conjure?","ac",'c');
if (ch == 'c')
{
RedirectEff(e,$"flame blade;conjure",52);
return 1;
}
else
{
RedirectEff(e,$"flame blade;augment",52);
return 1;
}
};
}

Effect "flame blade;augment" : 46
{
qval: 0x0008; Flags: 26;
On Event 155 {
hObj it;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isGroup(0x00000004) || it->isGroup(0x00000008))
if (it->QualityOK(7) || (it->QualityOK(11) &&
it->HasQuality(7)))
if (it->iID != $"flame blade;weapon")
return 0;
}
return 1;
},
157 {
if (EItem->isGroup(0x00000004) || EItem->isGroup(0x00000008))
if (EItem->QualityOK(7) || (EItem->QualityOK(11) &&
EItem->HasQuality(7)))
if (EItem->iID != $"flame blade;weapon")
return 0;
return 2;
},
83 {
if (ETarget->iID == $"flame blade;weapon")
return 1;
if (ETarget->isGroup(0x00000004) || ETarget->isGroup(0x00000008)) {
if (ETarget->QualityOK(7))
ETarget->GainTempStati(183,EActor,e.vDuration,2,
7,7,$"flame blade");
else if (ETarget->HasQuality(7) && ETarget->QualityOK(11))
ETarget->GainTempStati(183,EActor,e.vDuration,2,
7,7,$"flame blade");
}
return 1;
};
}

Effect "flame blade;conjure" : 13
{
xval: 0x01 | 0x10; rval: $"flame blade;weapon";
Flags: 25;
}

53 Spell "Soften Stone" : 5
{ 0x00000002|0x00002000; Base: 95; Cost: 3; Level: 2; qval: 0x0002;
rval: $"shallow mud"; Purpose: 0x00400; xval: 2;
Desc: "Turns one terrain square of stone (i.e., a dungeon wall) 
      into mud."; }

53 Spell "Stone Tell" : 46
{ 0x00000004|0x00002000; Base: 60; Cost: 15; Level: 2; pval: 20d1 + (-101);
Desc: "By communing with primordial spirits of rock, the caster
      is able to learn the layout of the solid stone within 200 feet
      plus 10 feet per caster level of her.";
Purpose: 0x00000;
On Event 28 {
Rect r; int32 x, y; rID terID;

if (!EVictim->isPlayer())
return 0;

r@x1 = max(1,EVictim->x - e.vDmg);
r@x2 = min(EMap->SizeX()-1,EVictim->x + e.vDmg);
r@y1 = max(1,EVictim->y - e.vDmg);
r@y2 = min(EMap->SizeY()-1,EVictim->y + e.vDmg);
for (x=r@x1;x<=r@x2;x++)
for (y=r@y1;y<=r@y2;y++)
if (dist(x,y,EVictim->x,EVictim->y) <= e.vDmg)
if (EMap->InBounds(x,y) && EMap->SolidAt(x,y))


EMap->MarkAsSeen(0,x,y,0);
EMap->VUpdate(EVictim->x,EVictim->y);
return 1;
};
}

53 Spell "Verdant Aid" : 9
{ 0x00000100; Base: 60; Cost: 4; Level: 2; qval: 0x0002;
Purpose: 0x00100; xval: 49; pval: -123;
Desc: "Conjures plants with a challenge rating equal to your
      level (max 10) to fight on your behalf. Plants are generally neither
      particularly mobile nor particularly effective in combat. The
      advantages of this spell over other summoning spells are (1) it is
      easy to cast and (2) the effect scales with your level."; }

53 Spell "Forestation" : 5
{ 0x00000100; Base: 90; Cost: 4; Level: 2; qval: 0x0002;
Purpose: 0x00004 | 0x00040 | 0x01000;
xval: 6; rval: $"tree"; aval: 11; lval: 4;
Desc: "Creates a grove of trees to spring up on open ground. The
      trees block normal sight, slighlty hinder movement and can be used
      by any other spells that require trees or plants to be present.";
On Event 206
"A grove of trees appears!";
}

53 Spell "Summon Nature's Ally II" : 9
{ 0x00000100; Base: 75; Cost: 4; Level: 2; qval: 0x0002;
Purpose: 0x00100; xval: 89; pval: 2;
Desc: "Summons a natural creature of CR 2 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 2+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 2467
Item "produced flame" : 58
{
Image: yellow '*';
Mat:30;
SDmg:1d6;
LDmg:1d6;
Crit: x2; Threat: 2; Spd: +100%; Range: 10;
Acc: +5; Group: 0x00000100 | 0x00000001;
Size: 2;
Cost: 0;
Flags: 43 , 1 ,
47;
Desc: "Produced Flame is as bright as a torch and fits comfortably in
    the hand of a druid. It does not harm the bearer or the bearer's
    equipment. When thrown, a produced flame does damage and then
    disappears." ;
On Event (48+1000) {
if (GetHandle(EItem2) && EItem2->iID == $"produced flame")
EItem2->Remove(true);
return 0;
},
(16+500) {
EActor->IPrint("You dispel the produced flame.");
EItem->Remove(true);
return 1;
},
32 {
if (EActor->isType((-4)) &&
GetHandle(EActor->m) != ((hObj)0))
{
EActor->IDPrint("","The produced flame gutters out.");
EActor->Remove(true);
return 1;
}
return 0;
},
(54+500), 50 {
EItem->Remove(true);
return 1;
},
(14+500) {
EActor->IPrint("You can't put conjured flame into a container.");
return 2;
},
(13+500) {
if (e.EParam != 1 && e.EParam != 2) {
EActor->IPrint("You need to hold the flame in your hands, or it will
                          go out.");
return 2;
}
return 0;
},
163 {
e.EParam |= 0x0080;
e.nCursed = "";
e.nArticle = (e.EParam & 0x0020) ? "the " : "";
e.nAppend += XPrint(" (<Num> shot<hText>, <Num> turn<hText>)",
EActor->GetQuantity(), EActor->GetQuantity() == 1 ? "" : "s",
EActor->GetStatiDur(67), EActor->GetStatiDur(67) == 1 ? "" : "s");
return 0;
};
}

53 Spell "Might of the Oaks" : 3
{ 0x00000080|0x00002000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "pspells.irh" 2534
xval: 106; yval: 0; pval: +6; }
and 3
{ xval: 106; yval: 1; pval: -2;
Desc: "Grants you a +6 magic bonus to Strength, at the cost of
      accepting a -2 magic penalty to Dexterity. This spell can be
      cancelled at will with the Cancel Standing Ability command."; }

53 Spell "Speed of the Wind" : 3
{ 0x00000080|0x00001000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "pspells.irh" 2543
xval: 106; yval: 1; pval: +6; }
and 3
{ xval: 106; yval: 2; pval: -2;
Desc: "Grants you a +6 magic bonus to Dexterity, at the cost of
      accepting a -2 magic penalty to Constitution. This spell can be
      cancelled at will with the Cancel Standing Ability command."; }

53 Spell "Persistance of the Waves" : 3
{ 0x00000080|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "pspells.irh" 2552
xval: 106; yval: 2; pval: +6; }
and 3
{ xval: 106; yval: 0; pval: -2;
Desc: "Grants you a +6 magic bonus to Constitution, at the cost of
      accepting a -2 magic penalty to Strength. This spell can be
      cancelled at will with the Cancel Standing Ability command."; }

53 Spell "Creeping Cold" : 3
{ 0x00000040|0x00000800; Base: 75; Cost: 4; Level: 2; qval: 0x0004;
xval: 79; yval: 32; pval: 0;
tval: 75; Flags: 4, 54;
Purpose: 0x00000; On Event (32+10000) {
hObj killer; int32 i, j, k, c;
i = EActor->GetEffStatiVal(79,$"creeping cold");
c = EActor->GetEffStatiCLev(79,$"creeping cold");
EActor->SetEffStatiVal(79,$"creeping cold",i+1);
switch(i)
{
case 0: j = 0; break;
case 1: j = 1; break;
case 2: j = 3; break;
case 3: j = 6; break;
case 4: j = 10; break;
case 5: j = 15; break;
case 6: j = 21; break;
case 7: j = 28; break;
case 8: j = 36; break;
default: j = 45; break;
}
k = min (c - j, i+1);
ThrowDmg(41,2,(k)d8,"a creeping cold spell",EActor,EActor);
DPrint(e,"You feel deathly cold!",
"The <EActor> <hText>!",
EActor->isDead() ? "shivers and dies" :
"looks pale and shivers");
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"creeping cold");
if (killer)
killer->KillXP(EActor);
return 0;
}
else if (k + j >= c) {
EActor->IPrint("The chilling cold seems to have run its course.");
EActor->RemoveEffStati($"creeping cold");
}
return 0;
},
28
"You feel a strange chill set upon you." /
"The <EVictim> shivers.";
Desc: "This spell inflicts a total of 1d8 cold damage per caster level
      (no cap) over the course of several turns, increasing by one die
      every turn -- 1d8 in the first turn, then 2d8 in the second, then
      3d8 and so forth until all the dice are spent (or the magic is
      dispelled).";
}



Effect "Zeal" : 46
{ 0x00000001; Base: 75; Cost: 7; Level: 2; sval: 2 + 10; qval: 0x0004;
Purpose: 0x00010 | 0x00040; Flags: 75;
On Event 28 {

EActor->GainTempStati(79, EVictim, e.vDuration, 7,
(19+2000),e.saveDC,$"zeal");
EActor->GainTempStati(79, EVictim, e.vDuration, 7,
52,e.saveDC,$"zeal");
EActor->GainTempStati(79, EVictim, e.vDuration, 7,
83,e.saveDC,$"zeal");
EActor->GainTempStati(189, EVictim, e.vDuration, 7,
0, 0, $"zeal");
return 1;
},
((19+2000)+10000) {
if (GetHandle(EActor) == EVictim->GetEffStatiObj(189,$"Zeal"))
return 0;
if (EActor->SavingThrow(2,
EVictim->GetEffStatiVal(79,$"zeal"),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
(19+10000) {
if (GetHandle(EVictim) == EActor->GetEffStatiObj(189,$"Zeal"))
return 0;
EActor->RemoveEffStati($"zeal");
return 0;
},
(83+10000) {
if (GetHandle(EVictim) == EActor->GetEffStatiObj(189,$"Zeal"))
return 0;
if (!e.isTrap)
if (GetHandle(EActor) != GetHandle(EVictim))
if (GetHandle(EVictim) != NULL &&
EVictim->isCreature() &&
EActor != NULL &&
EActor->isCreature() &&
EVictim->isHostileTo(EActor))
EActor->RemoveEffStati($"zeal");
return 0;
},
28
"You invoke a holy zeal." /
"The <EActor> is surronded by a brilliant golden aura.",
84
"You feel less safe." /
"The <EActor>'s golden aura fades.",
155 {
if (EVictim->isMType(103))
return 0;
return -1;
};
Desc: "An offensive adaptation of the conventional priestly magic
      <9>sanctuary<1>, the Zeal spell allows a paladin to focus
      exclusively on a single target, who must be evil. If the paladin
      attacks any other target, the effect ceases -- the target is free
      to attack him in turn. However, any other creatures -- including
      allies of the target or his summoned creatures -- must succeed in
      a Will saving throw against this spell's DC in order to attack
      the paladin, just as with <9>sanctuary<1>.\n
      __The traditional origins of this spell harken back to the knightly
      tradition of fair single combat, and thus it finds great favor with
      the paladins who serve Erich.";
Flags: 61, 25;
}




0 Effect "Miscast Magic" : 3
{ 0x00000008; Base: 90; Cost: 4; Level: 2; qval: 0x0004;
sval: 2; Purpose: 0x00004 (6);
xval: 106; yval: 55; pval: -8;
Flags: 53;
Desc: "Channels chaos to disrupt the formulae of magic, increasing 
      an enemy caster's spell failure chance by 40% if said caster fails
      a Will save."; }
#line "pspells.irh" 2726
50 / 52 / 51 / 53 Spell "Mystic Lantern" : 13
{ 0x00000010|0x00020000; Base: 95; Cost: 5; Level: 3;
xval: 0x01; rval: $"mystic lantern;item";
Purpose: 0x00000;
Desc: "Creates a mote of magical light that functions like a divine
    lantern and provides illumination out to 80 feet (8 squares). The
    light mote travels with you and cannot be dropped or placed in a
    container.";
}

Item "mystic lantern;item" : 44
{ Image: yellow '{'; hp: 10;
Desc: "This enchanted mote of magical light provides illumination
    out to 80 feet (8' squares).";
Flags: 1;
Mat: 30; Weight: 0; Lifespan: 9000;
Light Range: 8;
On Event
(16+500) {
EActor->IPrint("You dispel the mystic lantern.");
EItem->Remove(true); return 1;
},
(54+500) { EItem->Remove(true); return 1; },
(14+500) {
EActor->IPrint("You can't put the mystic lantern into a container.");
return 2;
};
}

52 Spell "Bestow Curse" : 46
{ 0x00000008; Base: 75; Cost: 7; Level: 3; qval: 0x0004;
Purpose: 0x00004;
sval: 2; tval: 85; Flags: 4;
Desc: "Lays a curse on a single sapient enemy that has 
      an equal chance of causing one of his items to become 
      cursed, reducing one of his ability scores by six, or 
      causing him a strange magical affliction.";
On Event 28 {
int32 i,j; hObj h;
if (ETarget == ((hObj)0) || !ETarget->isCreature())
return 2;
switch(random(8)) {

case 0: case 1:
case 2: case 3:
h = EVictim->FirstInv();
while(h != ((hObj)0) && h->isCursed())
h = EVictim->NextInv();
if (h) {
h->IFlags |= 0x0002;
h->IFlags &= ~0x0001;
h->ReApply();
VPrint(e,"Your <hObj> glows black.", "The <EVictim>'s <hObj> glows black.",h);
return 1;
}

case 4: case 5:
case 6: case 7:
i = random(EVictim->isCharacter() ? 7 : 6);
if (!EVictim->HasStati(119,i)) {
ETarget->GainPermStati(119,NULL,12,i,-6,$"bestow curse");
EVictim->IPrint("You feel afflicted!");
}
else
EVictim->IPrint("You feel afflicted, but it passes.");
return 1;
#line "pspells.irh" 2794
}
};
}

52 / 51 Spell "Cause Blindness" : 3
{ 0x00000080; Base: 90; Cost: 6; Level: 3; qval: 0x0004;
xval: 3; sval: 0; Purpose: 0x00004; Flags: 25;
Desc: "Blinds the target creature, assuming that they fail a
      Fortitude save."; }

52 / 51 / 53 Spell "Cure Serious Wounds" : 26
{ 0x00000200; Base: 90; Cost: 0; Level: 3; qval: 0x0004|0x0100;
xval: 0x01; pval: 3d8 + -124; yval: 20;
Flags: 59, 78; Purpose: 0x00080 (1);
Desc: "Heals you of 3d8 + your level in hit points of damage, to a
      maximum of 3d8+15, with a hit point to mana ratio of 2 per 1. Healing
      spells disrupt unlife, inflicting twice the damage to an undead
      creature they would have healed in a living one.";
Constants:
* 109 50;
}

52 / 53 / 1 / 2 Spell "Cure Disease" : 26
{ 0x00000200; Base: 95; Cost: 12; Level: 3; qval: 0x0004|0x0100;
xval: 0x10; yval: 19; Flags: 45;
Purpose: 0x00080 (5);
Desc: "Removes all diseases, natural or magical, from 
      one subject.";
Constants:
* 109 250;
}

52 / 2 Spell "Create Food and Water" : 13
{ 0x00000002|0x00008000; Base: 60; Cost: 8; Level: 3;
Purpose: 0x00080 (3);
xval: 0x01; rval: $"food ration";
On Event 206
"A portion of food appears before you." /
"A portion of food appears before the <EActor>.";
Desc: "This spell can be cast in one of two forms, as follows:\n
	    __<9>Create Food:<1> Casting this version of the spell creates a
	    single food ration suitable as a sizable meal for a human-sized
	    creature. The ration is permanent and nonmagical once created.\n
	    __<9>Create Water:<1> This version of the spell calls into 
	    existance a pool of water 30 feet (3 squares) in radius, creating
	    any indentation necessary to hold the water without altering or
	    damaging any of the surronding stonework. Once created, the water
	    is permanent and non-magical.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Create food or water?","fw",'f');
if (ch == 'w')
{
RedirectEff(e,$"create water",52);
return 1;
}
return 0;
};
Constants:
* 109 15;
}

53 Spell "Create Water" : 5
{ 0x00000002|0x00008000; Base: 75; Cost: 5; Level: 3; qval: 0x0002;
xval: 9; rval: $"deep water"; aval: 11;
lval: 3; cval: 1; Purpose:
0x00040 | 0x00004 | 0x01000;
Flags: 54;
Desc: "Creates a pool of deep water 30 feet (3 squares) in
      radius.";
On Event 206
"Water rises up from dry earth!"; }
#line "pspells.irh" 2878
52 Spell "Draw upon Holy Might" : 3
{ 0x00000080; Base: 75; Cost: 8; Level: 3;
xval: 107; yval: 0; pval: 2d6;
Desc: "Invoking the name of your diety, you gain tremendous
      prowess -- a 2d6 sacred bonus to Strength, Dexterity and
      Stamina -- at the cost of 3 Fatigue points and 100 XP. The
      effects last for a comparitively short duration.";
On Event 28
"You draw upon your god's holy might!";
}
and 3
{ xval: 107; yval: 2; pval: 2d6; }
and 3
{ xval: 107; yval: 1; pval: 2d6;
Flags: 75;
On Event 52 {
if (!EActor->LoseFatigue(3,true))
return 2;
if (EActor->isCharacter())
EActor->LoseXP(100);
return 0;
};
}


52 Spell "Glyph of Warding" : 5
{ 0x00000002; Base: 95; Cost 6; Level: 3; qval: 0x0002;
xval: 6; Purpose: 0x00000;
rval: $"strange rune"; sval: 1; pval: (-99)d8;
Desc: "Turns one chosen floor square into a rune that explodes
      for 1d8 damage per two levels (max 5d8) when stepped on.";
On Event 206
"A strange rune materializes on the ground."; }

52 Spell "Holy Summoning III" : 9
{ 0x00000100; Base: 75; Cost: 7; Level: 3; qval: 0x0002;
Purpose: 0x00100; xval: 119; pval: 3;
Desc: "Summons an outsider of CR 3 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 3+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 2922
52 Spell "Imbue with Spell Ability" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3; aval: 0x0004;
#line "pspells.irh" 2924
xval: 39; yval: 82; pval: -114;
Purpose: 0x00010;
On Event 155 {
if (EVictim->HasAbility(82))
return -1;
if (!EVictim->isMType(85))
return -1;
if (EActor->isMType(106) && EVictim->isMType(103))
return -1;
if (EActor->isMType(103) && EVictim->isMType(106))
return -1;
if (EActor->isMType(104) && EVictim->isMType(105))
return -1;
if (EActor->isMType(105) && EVictim->isMType(104))
return -1;
if (!EVictim->isFriendlyTo(EActor))
return -1;
if (EVictim->isPlayer())
return -1;
return 0;
},
(28+1000) {

EVictim->GainTempStati(230,NULL,e.vDuration,
2,0x0010,e.vDmg,$"priest",e.vCasterLev);
};
Desc: "Using this spell, a priest can appoint another intelligent
      creature whose alignment does not conflict with his own (i.e.,
      lawful vs. chaotic, good vs. evil) as his proxy in relation to
      his god, allowing the selected creature a limited ability to
      wield divine magic. The recipient gains divine spellcasting 
      ability with access to the priest spell list at a class level
      equal to half the priest's own, rounding up. The creature gains
      no Hit Dice, Domains, granted powers or any other priest class
      features -- just the ability to cast divine spells. The beneficiary
      does not require a holy symbol to make use of this gift.";
}


52 Spell "Inflict Serious Wounds" : 1
{ 0x00000040; Base: 95; Cost: 5; Level: 3; aval: 6;
xval: 6; pval: 3d8 + -124; cval: 6;
Flags: 66, 25, 86; Purpose: 0x00001;
On Event 37
"Your hands glow with a black aura." /
"The <EActor>'s hands glow with a black aura.",
28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 3d8 + caster level (maximum 3d8+15) points of necromantic
      damage on the next creature you touch.";
}



52 Spell "Spiritual Fortitude" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; qval: 0x0004;
#line "pspells.irh" 2981
xval: 125; yval: 51; pval: +2;
Purpose: 0x00010 | 0x00200 (15);
On Event 205 "SpFort"; }
and 3
{ xval: 123; yval: 5; pval: +4;
Desc: "Grants a physical resistance to magic that warps or
      withers the body or mind, sustaining all your attributes 
      (by +2) and giving you a +4 bonus on saving throws against 
      death."; }

52 Spell "Magic Vestment" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; qval: 0x0008;
#line "pspells.irh" 2993
Desc: "Casting this spell temporarily enchants a single chosen suit
      of armor with a magical bonus of +1 per three caster
      levels, to a maximum of +5 at 15th. This bonus does 
      not stack with any other magical bonus the armor may have.";
hObj it;
On Event
155 {
if (ETarget->isType(21))
if (ETarget->GetQuantity() == 1)
return 1;
if (ETarget->isMonster())
if (ETarget->InSlot(9) != ((hObj)0))
if (ETarget->InSlot(9)->GetPlus() <
max(1,min(5,EActor->CasterLev() / 3)))
return 0;
return -1;
},
157 {
if (EItem->isType(21))
return 0;
return 2;
},
(52+500) {
if (EActor->isMonster())
SetETarget(e,EActor->InSlot(9));
return 0;
},
83 {
ETarget->GainTempStati(185,EActor,e.vDuration,2,1,
max(1,min(5,e.vCasterLev / 3)), $"magic vestment", e.vCasterLev);
VPrint(e,"","The <EVictim> gives off a soft silvery glow.");
return 1;
};
Constants:
* 109 100;
}

52 / 53 Spell "Prayer" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; cval: 15;
#line "pspells.irh" 3032
aval: 11; lval: 6; tval: 109;
xval: 107; yval: 51; pval: +2;
Flags: 4;
Desc: "Grants you and all your allies within 60 feet (6 squares)
      a +2 sacred bonus to attack rolls, damage and saving throws.";
On Event 28
"You feel righteous.",
74
"The righteous feeling fades.";
}


52 / 2 Spell "Remove Curse" : 46
{ 0x00000001; Base: 90; Cost: 50; Level: 3; qval: 0x0008 | 0x0004;
Flags: 78, 45, 40;
Purpose: 0x00000;
Desc: "Casting this spell lifts a curse from a single chosen
      item or individual. The caster's caster level plus Charisma modifier
      must equal or exceed the curse's level for the spell to succeed.\n
      __Curses include the effects of a cursed item that cannot be removed
      or the effects of spells like <9>bestow curse<1> or <9>mark of justice<1>.
      A -6 luck penalty to an attribute is a <9>bestow curse<1> effect.
      Other attribute damage, poisoning, diseases and experience drain do not count
      as curses -- though some curse effects do reduce attributes.";
On Event 28 {
if (ETarget->isCreature())
{

if (ETarget->HighSourceCLev(12) > (e.vCasterLev + EActor->Mod(5)))
{
ETarget->IPrint("Your body glows with an angry red radiance.");
return 1;
}
ETarget->RemoveStatiSource(12);
VPrint(e,"Your body glows with a soft blue light.",
"The <EVictim>'s body glows with a soft blue light.");
return 1;
}

ETarget->MakeKnown(0x02);
if (!(ETarget->IFlags & 0x0002))
{
DPrint(e,"Your <ETarget> glows with a soft blue light.",NULL);
return 1;
}
if (ETarget->ItemLevel() > (e.vCasterLev + EActor->Mod(5)))
DPrint(e,"Your <ETarget> glows with an angry red radiance.",NULL);
else {
ETarget->IFlags &= ~0x0002;
DPrint(e,"Your <ETarget> glows with a soft blue light.",NULL);
}
},
157 {
if (ETarget->isType((-4)))
if (!(ETarget->isCursed() && ETarget->isKnown(0x02)))
return 2;
return 0;
};
Constants:
* 109 350;
}

52 Spell "Ring of Blades" : 3
{
0x00000002; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "pspells.irh" 3097
Desc: "Casting this spell, you conjure a ring of spinning blades
      around your body; these blades move with you, striking any
      creature within 5 feet of you once each turn to inflict [1d6 +
      caster level] points of slashing damage. They take you no time
      to direct or utilize, and you can take actions normally while
      they fly around you, but beware -- they strike allies as readily
      as enemies.\n
      __Huge size and larger creatures cannot make effective use of
      this spell.";
xval: 79; yval: 32;
On Event (32+10000) {
int32 dir; hObj hTarg, oVic;
if (EActor->isDead())
return 0;
for (dir=0;dir!=8;dir++)
if (EMap->InBounds(EActor->x + DirX(dir), EActor->y + DirY(dir)))
for (hTarg=EMap->FCreatureAt(EActor->x + DirX(dir), EActor->y + DirY(dir));
hTarg;hTarg=EMap->NCreatureAt(EActor->x + DirX(dir), EActor->y + DirY(dir)))
if (GetHandle(EActor) != hTarg)
{
oVic = GetHandle(EVictim);
SetEVictim(e,hTarg);
TPrint(e,"Your blades strike the <EVictim>!",
"The ring of flying blades circling the <EActor> "
"slashes you!", "The ring of flying blades circling "
"the <EActor> slashes the <EVictim>!");
ThrowDmg(41,11,1d6+EActor->CasterLev(),"a ring of flying blades",
EActor, EVictim);
SetEVictim(e,oVic);
}
return 0;
};
}



53 Spell "Blight Plants" : 1
{ 0x00000040; Base: 90; Cost: 5; Level: 3; aval: 11; lval: 6;
xval: 6; pval: (-102)d8; tval: 49;
Purpose: 0x00001; Flags: 4;
Desc: "Withers and destroys plant creatures within 60 feet
      (6 squares) of the caster, inflicting 2d8 points of necromantic
      damage per caster level (no die cap).";
On Event 28
"You feel your life being eaten away!" /
"The <EVictim> withers!";
}
#line "pspells.irh" 3148
53 Spell "Call Lightning" : 1
{ 0x00000010; Base: 75; Cost: 6; Level: 3; qval: 0x0004;
xval: 4; pval: (-101)d5; Purpose: 0x00001;
Desc: "Calls lightning down to smite a target of your choice for
      1d5 points of damage per caster level.";
On Event 200 "stroke of lightning"; }

53 Spell "Dominate Animal" : 3
{ 0x00000008; Base: 90; Cost: 5; Level: 3; sval: 2;
Purpose: 0x00004 (9); tval: 2;
xval: 137; yval: 4; qval: 0x0004;
Flags: 25, 53, 4;
Desc: "Causes a single true animal (not a beast or monster)
      to follow you, fight and even die at your behalf."; }

53 Spell "Earthmaw" : 1
{ 0x00000002|0x00002000; Base: 90; Cost: 6; Level: 3; qval: 0x0004;
xval: 13; pval:(-126)d4;
Flags: 60; Purpose: 0x00001;
Desc: "Causes the earth or stone floor beneath a victim's
      feet to animate, biting them for 1d4 points of damage per
      caster level, if the druid succeeds in a ranged attack
      roll against them. If the attack roll scores an unmodified
      19 or 20, the victim will also become stuck, partly buried
      beneath the ground.";
On Event
(19+500) {
e.vThreat = 19;
},
28 {
if (e.isCrit) {
VPrint(e, "The ground splits open and devours you!",
"The ground splits open and devours; the <EVictim>!");
ThrowDmg(41,14,-1,"Earthmaw",EActor,EVictim);
}
else
VPrint(e, "The ground splits open and bites you!",
"The ground splits open and bites the <EVictim>!");
return 3;
},
21
"The ground splits open, but misses the <EVictim>." /
"The ground splits open, but misses you." /
"The ground splits open, but misses the <EVictim>.";
}

53 Spell "Ironwood;spell" : 46
{
Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; 0x00000002; Level: 3; Flags: 54;
#line "pspells.irh" 3202
Desc: "This magical spell transmutes an item made from iron into
    ironwood.  Ironwood is a magical substance created by druids
    from iron. While becoming natural wood in almost every way,
    ironwood is as strong, heavy, and resistant to fire as steel. Spells or
    abilities that affect metal or iron (such as rusting or the Heat Metal
    spell) do not function on ironwood. Spells that affect wood do affect
    ironwood, although ironwood does not burn. Ironwood items are freely
    usable by druids because ironwood armor does not interfere with their
    primal spellcasting.";
hObj it; qval: 0x0008;
On Event 155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->QualityOK(72))
return 0;
}
return -1;
},
157 {
if (ETarget->isMetallic() && ETarget->QualityOK(72))
return 0;
return 2;
},
83 {
if (ETarget->isMetallic() && ETarget->QualityOK(72))
ETarget->GainTempStati(183,EActor,e.vDuration,2,
72,72,$"ironwood;spell", e.vCasterLev);
return 1;
};
}


53 Spell "Meld into Stone" : 3
{ 0x00000002|0x00002000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "pspells.irh" 3235
Purpose: 0x00010 | 0x00400;
xval: 39; yval: 30; pval: 1;
Desc: "Allows you to meld into and travel through solid
      stone in the same manner that a xorn or xaren does.";
On Event 84 {
EActor->PlaceNear(EActor->x,EActor->y);
return 0;
};
}

53 Spell "Waterspout" : 1
{ 0x00000002|0x00008000; Base: 75; Cost: 4; Level: 3; qval: 0x0002;
aval: 11; lval: 3; cval: 11;
xval: 13; pval: (-126)d6;
sval: 1 partial; Purpose: 0x00001;
Flags: 34;
Desc: "You create an upward blast of water from a lake or river,
      striking nearby creatures with terrible force. Creatures in the
      area suffer 1d6 points of blunt damage per caster level (Reflex
      halves; scaled after 10th), are automatically knocked prone if
      they are size Large or smaller, and are also stunned for 1d4+1
      rounds if they fail the saving throw.";
On Event (28+1000) {
if (EVictim->isDead())
return 0;
if (EVictim->GetAttr(25) <= 5 && !e.isEvaded)
ThrowDmg(41,67,-1,"waterspout",EActor,EVictim);
if (!e.Resist)
EVictim->GainTempStati(5,NULL,1d4+1,7);
ThrowDmg(41,74,e.vDmg,"a waterspout",EActor,EVictim);
return 0;
},
155 {

if (EVictim->onPlane() != EActor->onPlane())
return -1;

if (EVictim->HasMFlag(10))
return -1;

if (!EMap->TerrainAt(EVictim->x,EVictim->y)->TerrainHasFlag(7))
return -1;
return 0;
},
52 {
if (e.isLoc)
if (!EMap->TerrainAt(e.EXVal,e.EYVal)->TerrainHasFlag(7))
{
EActor->IPrint("The <9>waterspout<7> spell can only be 
              centered on a large, pre-existing body of water.");
return 2;
}
APrint(e,"The water jets outward with terrible force!");

return 0;
},
200 "waterspout";
}

53 Spell "Summon Nature's Ally III" : 9
{ 0x00000100; Base: 75; Cost: 6; Level: 3; qval: 0x0002;
Purpose: 0x00100; xval: 89; pval: 3;
Desc: "Summons a natural creature of CR 3 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 3+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 3304
0 Effect "Spectral Spider" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "pspells.irh" 3306
Desc: "Summons a quasi-real spider-like creature that the caster begins
    to ride. The spider can be ridden by you quite rapidly (half again as
    fast as a warhorse or warpony). It can also magically traverse
    dangerous terrain (e.g., icy floors, brimstone). It also has a bite
    attack, injecting giant spider venom.";
On Event 155 {
if (EActor->HasStati(87) ||
EActor->SkillLevel(40) <= 0 ||
!EActor->HasMFlag(1) ||
EActor->HasMFlag(2) ||
EActor->GetAttr(25) < 3 ||
EActor->GetAttr(25) > 4)
return -1;
return 0;
}, 28 {
hObj hMount;
rID rval;

if (EActor->GetAttr(25) <= 3)
rval = $"spectral spider;mon";
else
rval = $"small spectral spider;mon";

hMount = CreateMonster(rval);

hMount = CreateMonster(rval);
if (EActor->onPlane() != 0) {
hMount->GainPermStati(102,hMount,7,EActor->onPlane(),0,
$"mount");
}

SetSilence();
hMount->PartyID = EActor->PartyID;
Throw(110,EActor,hMount);
hMount->CalcValues();
UnsetSilence();
hMount->Initialize();
hMount->Reveal(true);

DPrint(e,"A phantom mount appears under you!", "A phantom mount appears under the <EActor>!");
return 0;
} ;
}

Monster "spectral spider;mon" : 26, 48, 36
{
Image: grey 's'; Size: 5;
CR: 2; HD: 3; Hit: 0; Def: 14; Mov: 250%; Spd: 100%;
Str 15, Dex 20, Con 15, Int 2, Wis 12, Cha 6; Arm: 10;
Attk: 7 for 1d6 12
and 60 (DC 16);
Poison: $"giant spider venom";
Stati[39,110,6];
Feats: 32, 44, 22;
Flags: 66, 35, 37, 3, 11, 24;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00002000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
}

Monster "small spectral spider;mon" : 24, 48, 36
{
Image: grey 's'; Size: 4;
CR: 2; HD: 3; Hit: 0; Def: 14; Mov: 250%; Spd: 100%;
Str 15, Dex 20, Con 15, Int 2, Wis 12, Cha 6; Arm: 10;
Attk: 7 for 1d6 12
and 60 (DC 16);
Poison: $"giant spider venom";
Stati[39,110,6];
Feats: 32, 44, 22;
Flags: 66, 35, 37, 3, 11, 24;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00002000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
}
#line "pspells.irh" 3382
Effect "Armor of Darkness" : 2
{
0x00000200; Cost: 30; Base: 100; Level: 3; sval: 0+10;
xval: 79; yval: ((20+2000)+1000);
Flags: 55, 78, 86, 85, 66;
Desc: "Casting this spell congeals the pure spiritual
      matter of evil around your body into a suit of black
      chainmail as smooth as silk. This armor gives you a
      slashing rating of 7, piercing of 5 and blunt of 3,
      and is considered to have a +4 magical enchantment.
      Additionally, whenever anyone strikes you, they are
      drained of life energy just as if striking a wraith,
      losing 2d10x50 XP. A Fortitude saving throw negates
      the drain.";
On Event (28+500) {
hObj it; int32 t;
if (EActor->InSlot(9))
{
EActor->IPrint("You are already wearing armor. You must
            take it off to cast this spell.");
return 2;
}
it = CreateItem($"armor of darkness;item");
it->SetInherantPlus(4);
it->GainTempStati(67,EActor,-2,2,0,0,
$"Armor of Darkness", e.vCasterLev);
it->AddQuality(76);
t = EActor->Timeout;
if (ThrowVal(13,9,EActor,NULL,it) != 1)
{
it->Remove(true);
return 2;
}
EActor->Timeout = t;
e.vDmg = e.saveDC;
return 0;
},
(((20+1000)+2000)+10000) {
if (e.AType == 65 ||
e.AType == 41 ||
e.AType == 112)
return 0;
if (EActor->SavingThrow(0,EVictim->GetEffStatiVal(79,
$"Armor of Darkness"), 0x00000001|0x00008000|0x00000002|0x00000004))
{
TPrint(e,"You resist the effects of the <EVictim>'s armor.",
"The <EActor> resists the effects of your armor.",
"");
return 0;
}
TPrint(e,"The <EVictim>'s black armor saps your life!",
"Your black armor saps the <EActor>'s life!",
"The <EActor> looks deathly pale.");
ThrowDmg(41,32,2d10, XPrint(
"touching an <hObj>'s Armor of Darkness", EVictim), EVictim,EActor);
return 0;
},
84 {
if (EActor->isCreature())
if (EActor->InSlot(9) != ((hObj)0))
if (EActor->InSlot(9)->iID == $"Armor of Darkness;item")
EActor->InSlot(9)->Remove(true);
return 0;
},
206
"Glistening black chainmail forms over your body!" /
"Glistening black chainmail forms over the <EActor>'s body!";
}

Item "Armor of Darkness;item" : 21
{
Image: cyan 228; Cost: 150;
Mat: 11; Weight: 400;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 10; Penalty: -7;
Group: 0x40000000; Flags: 1;
Desc: "While this armor appears to be glistening black chainmail
      made with incredibly fine links at first glance, it is in fact
      a magical conjuration formed from the pure spiritual matter of
      evil. Armor of Darkness is created by priests that have access
      to the Evil domain.";
On Event (16+500), (31+500) {
EActor->IPrint("You dispel the conjured armor.");
EItem->GetStatiObj(67)->RemoveEffStati($"Armor of Darkness");
EItem->Remove(true);
return 1;
},
(121+500) {
APrint(e,"The glistening black chainmail dissolves into nothing.");
EActor->GetStatiObj(67)->RemoveEffStati($"Armor of Darkness");
EActor->Remove(true);
return 2;
},
(54+500) {
APrint(e,"The glistening black chainmail dissolves into nothing.");
EItem->GetStatiObj(67)->RemoveEffStati($"Armor of Darkness");
EItem->Remove(true);
return 1;
},
163 {
if (EActor->Owner() != ((hObj)0))
{
e.nCursed = "";
e.nAppend += XPrint(" (DC <Num>)",
EActor->Owner()->GetEffStatiVal(79,$"Armor of Darkness"));
}
return 0;
};

}

Effect "Bolts of Glory" : 46
{ 0x00000200; Cost: 15; Base: 90; Level: 3; sval: 2+10;
Desc: "Casting this spell allows the priest to produce
      bolts of pure spiritual goodness, hurling them at
      foes like missiles. The caster gains one such bolt
      immediately when the spell is cast, as well as
      another bolt every turn until she has thrown a
      number equal to her caster level or cancelled the
      spell. The bolts inflict 1d8 points of holy damage
      (which only affects evil creatures) per odd caster level,
      and cause fear in inherantly evil creatures if a Will 
      saving throw is failed. Hitting a target with a bolt of 
      glory requires a ranged attack roll.";
On Event (32+10000) {
e.eID = $"Bolt of Glory";
if (!ETerm->EffectPrompt(e,0x0004,false,"Target Bolt of Glory:"))
{
e.eID = (rID) 0;
return 0;
}
e.eID = (rID) 0;
if (!GetHandle(EVictim))
return 0;
e.vCasterLev = EActor->CasterLev();
e.MM = EActor->GetEffStatiMag(189,$"Bolts of Glory") +
EActor->GetEffStatiMag(190,$"Bolts of Glory") * 0xFFFF;
RedirectEff(e,$"Bolt of Glory",52);
return 0;
},
28 {
EActor->GainTempStati(189,NULL,e.vDuration,2,
e.MM & 0xFFFF,0,$"Bolts of Glory",e.vCasterLev);
EActor->GainTempStati(190,NULL,e.vDuration,2,
(e.MM & 0xFFFF0000) << 16,0,$"Bolts of Glory",e.vCasterLev);
EActor->GainTempStati(79,NULL,e.vDuration,2,
32,0,$"Bolts of Glory",e.vCasterLev);
return 0;
},
(28+1000) {
RedirectEff(e,$"Bolts of Glory",(32+10000));
return 0;
};
Flags: 66, 78;
}

Effect "Bolt of Glory" : 1
{ xval: 69; pval: (-114)d8;
aval: 1; cval: 15; Flags: 56, 60;
On Event (28+1000) {
if (!e.Resist && EVictim->isMType(103) &&
EVictim->HasMFlag(53))
{
EVictim->GainTempStati(10,NULL,3d6,6,1);
EVictim->StatiMessage(10,1);
}
return 0;
};
}
#line "pspells.irh" 3554
Effect "Iron Sword" : 3
{
0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "pspells.irh" 3557
Desc: "It is a result of ancient covenants between the ur-gods
      of light and darkness that certain substances and symbols
      are anathema to some creatures. It is fitting, then, that
      clerics of Law can call upon these things and strengthen
      that ancient contract.\n
      __When a priest casts this spell, she gains several related
      benefits. When she wields a silver weapon, the material
      bonus against lycanthropes and devils increases from +2/+2 to
      +5/+5; she gains a similar benefit from using wrought iron
      against elves and demons, raising the bonus damage from +2d6
      to +5d6. A thrown flask of holy water does
      7d6 points of damage rather than 3d6. If she makes the
      Knowledge (Theology) check to incorporate opposing elements
      into a Banishment spell, the save DC increases by +5 instead
      of +2.";
xval: 79; yval: 19;
On Event (19+10000) {
hObj it;
if (e.AType == 65 || e.AType == 41)
it = GetHandle(EItem2);
else
it = GetHandle(EItem);
if (it == ((hObj)0))
return 0;
if (it->Material() == 14 && (EVictim->isMType(73)
|| EVictim->isMType(19)))
{
e.vHit += 3; e.bDmg += 3;
e.strHit = Replace(e.strHit, "+2 silver", "+5 silver");
e.strDmg = Replace(e.strDmg, "+2 silver", "+5 silver");
}
#line "pspells.irh" 3594
return 0;
};
}
#line "pspells.irh" 3633
52 / 50 Spell "Abjure" : 46
{ 0x00000001; Cost: 12; Level: 4; qval: 0x0002|0x0004;
cval: 11; aval: 11; lval: 6; sval: 2;
Desc: "Casting this spell forces summoned creatures to return to
      their own plane of existance. It affects all creatures within
      a 60-foot radius burst centered on a point of the caster's choice.
      Summoned creatures are entitled to a Will saving throw to avoid
      the spell's effects, but the save DC has a +8 bonus for a given
      creature if that creature was summoned by the caster herself.
      Note that the spell is not discretionary and will send friendly
      summons home as easily as enemy ones.";
Flags: 34; Purpose: 0x00001;
On Event 155 {
if (EVictim->HasStati(67))
return 0;
return -1;
},
170 {
if (GetHandle(EVictim) != ((hObj)0))
if (EVictim->GetStatiObj(67) == GetHandle(EActor))
e.saveDC += 8;
return 0;
},
28 {
APrint(e,"The <EVictim> vanishes.");
ThrowDmg(42,0,0,"abjuration",EActor,EVictim);
};
}

Effect "Holy Sword" : 46
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4; qval: 0x0008;
#line "pspells.irh" 3664
Desc: "This spell allows you to channel holy power into a non-cursed 
      melee weapon in the long blades or short blades weapon groups. One 
      such weapon acts as a +5 holy smiting weapon (+5 enhancement bonus on 
      attack and damage rolls, extra 2d6 damage against evil opponents, 
      special bonuses when smiting).";
On Event 155 {
hObj it;
for(it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->isType(58) && it->isGroup(0x00000008|0x00000004))
if (!(it->IFlags & 0x0002) &&
(it->GetPlus() < 5 || it->QualityOK(1) ||
it->QualityOK(19)))
return 0;
},
157 {
if (EItem->isType(58) && EItem->isGroup(0x00000008|0x00000004))
if (!(EItem->IFlags & 0x0002) &&
(EItem->GetPlus() < 5 || EItem->QualityOK(1) ||
EItem->QualityOK(19)))
return 0;
return 2;
},
28 {
if (ETarget->isType(58) && ETarget->isGroup(0x00000008|0x00000004))
if (!(ETarget->IFlags & 0x0002) &&
(ETarget->GetPlus() < 5 || ETarget->QualityOK(1) ||
ETarget->QualityOK(19))) {
ETarget->GainTempStati(185,EActor,e.vDuration,2,5,5,$"holy sword");
ETarget->GainTempStati(183,EActor,e.vDuration,2,1,1,$"holy sword");
ETarget->GainTempStati(183,EActor,e.vDuration,2,19,19,$"holy sword");
}
return 1;
};
}



52 / 51 / 53 Spell "Cure Critical Wounds" : 26
{ 0x00000200; Base: 90; Cost: 0; Level: 4; qval: 0x0004|0x0100;
xval: 0x01; pval: 3d8 + -125; yval: 30;
Flags: 59, 78; Purpose: 0x00080 (1);
Desc: "Heals you of 4d8 + your level in hit points of damage, to a
      maximum of 4d8+20, with a hit point to mana ratio of 3 per 1. Healing
      spells disrupt unlife, inflicting twice the damage to an undead
      creature they would have healed in a living one.";
Constants:
* 109 75;
}

52 / 53 Spell "Death Ward" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4; qval: 0x0004;
#line "pspells.irh" 3715
xval: 177; yval: 6; Purpose: 0x00010 | 0x00200 (15);
Desc: "Renders a target of your choice immune to death effects
      and necromantic (but not poison) damage. Death effects include
      <9>finger of death<1>, <9>power word: kill<1>, <9>wail of the
      banshee<1>, <9>phantasmal killer<1>, <9>slay living<1>,
      <9>destruction<1>, <9>implosion<1>, <9>death knell<1> and the 
      killing component of <9>holy word<7>, <9>blasphemy<7>, 
      <9>dictum<7> and <9>word of chaos<7>. Certain special attacks 
      are also death effects, such as the unearthly beauty of a nymph 
      or the death touch of a priest with the Death domain.";
Constants:
* 109 250;

}
#line "pspells.irh" 3734
52 / 51 Spell "Dispel Fatigue" : 46
{ 0x00000200; Base: 95; Cost: 12; Level: 4;
pval: 1d4+(-106); Flags: 78;
Purpose: 0x00080 (13);
On Event 28 {
int32 oFP; oFP = EVictim->cFP;
EVictim->cFP = min(oFP+e.vDmg,EVictim->GetAttr(38));
if (oFP != EVictim->cFP) {
e.isSomething = true;
if (EVictim->cFP == EVictim->GetAttr(38))
EVictim->IPrint("You feel fully revitalized!");
else
EVictim->IPrint("You feel revitalized!");
}
return 1;
};
Desc: "Casting this spell revitalizes the caster, granting them
      1d4 fatigue points, plus one per two levels, up to a maximum
      of their normal maximum fatigue points.";
}

52 Spell "Divine Power" : 3
{ 0x00000080; Cost: 17; Level: 4;
Flags: 78, 61, 86;
Desc: "Casting this spell imbues you with great combat prowess
      for a brief period of time, giving you a sacred bonus to 
      hit sufficient to raise you Base Attack Bonus to that of a 
      warrior of similar character level, a sacred bonus to 
      Strength sufficient to give you a Strength score of 18 (not 
      counting any bonuses other than inherant ones) and 2 temporary
      hit points per caster level. If your Strength is already 18,
      you gain the benefit of the Power Attack feat as well; if you
      already have this feat and 18+ Strength, you gain Knock Prone 
      instead.";
On Event 205 "DivPow";
xval: 107; yval: 12; }
and 3
{ xval: 107; yval: 13; }
and 3
{ xval: 107; yval: 14; }
and 3
{ xval: 107; yval: 15; }
and 3
{ xval: 107; yval: 16;
On Event 170 {
switch (e.efNum) {
case 0: SetPVal(e,EActor->TotalLevel() - EActor->GetBAB(0)); break;
case 1: SetPVal(e,EActor->TotalLevel() - EActor->GetBAB(1)); break;
case 2: SetPVal(e,EActor->TotalLevel() - EActor->GetBAB(2)); break;
case 3: SetPVal(e,EActor->TotalLevel() - EActor->GetBAB(3)); break;
case 4: SetPVal(e,EActor->TotalLevel() - EActor->GetBAB(2)); break;
}
return 0;
},
(28+1000) {
if (EActor->IAttr(0) >= 18 && EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))
EActor->GainTempStati(41,EActor,e.vDuration,2,
((((((49 + 1) + 32) + 50) + 38) + 30) + 3),0,$"Divine Power", e.vCasterLev);
else if (EActor->IAttr(0) >= 18)
EActor->GainTempStati(41,EActor,e.vDuration,2,
((((((49 + 1) + 32) + 50) + 38) + 30) + 3),0,$"Divine Power", e.vCasterLev);
else
EActor->GainTempStati(107,EActor,e.vDuration,2,
0,18 - EActor->IAttr(0),$"Divine Power", e.vCasterLev);
return 1;
};
}
and 3
{ xval: 107; yval: 36; pval: -102;
On Event (52+1000)
"You feel mighty!" / "";
}

52 Spell "Ethereal Jaunt" : 3
{
0x00000100; Level: 4; Cost: 50; Base: 60;
Desc: "Casting this spell shifts the caster (and all of her
      equipment) into the ethereal plane for a very brief period
      of time. While ethereal, the caster is incorporeal and
      invisible with regard to creatures on the material plane, 
      but can interact physically with other ethereal creatures.";
xval: 102; yval: 3;
Flags: 66, 61;
On Event 28
"You cross into the ethereal plane.",
84
"You return to the material plane.";
}


52 / 53 / 51 Spell "Free Action;spell" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4; qval: 0x0004;
#line "pspells.irh" 3826
Desc: "Renders the target creature immune to paralysis, petrification,
      slowing, entangling, and to any effects which limit of constrain his 
      movement, such as webs.";
xval: 177; yval: 18;
} and 3 { xval: 177; yval: 14; }
and 3 { xval: 177; yval: 25; }
and 3 { xval: 177; yval: 19;
Constants:
* 109 450;
}

52 Spell "Holy Summoning IV" : 9
{ 0x00000100; Base: 75; Cost: 9; Level: 4; qval: 0x0002;
Purpose: 0x00100; xval: 119; pval: 4;
Desc: "Summons an outsider of CR 4 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 4+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 3845
52 Spell "Inflict Critical Wounds" : 1
{ 0x00000040; Base: 95; Cost: 7; Level: 4; aval: 6;
xval: 6; pval: 4d8 + -125; cval: 6;
Flags: 66; Purpose: 0x00001;
On Event 37
"Your hands glow with a black aura." /
"The <EActor>'s hands glow with a black aura.",
28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 4d8 + caster level (maximum 4d8+20) points of necromantic
      damage on the next creature you touch.";
}

52 / 53 Spell "Invocation" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "pspells.irh" 3861
aval: 11; lval: 6; tval: 109;
xval: 107; yval: 51; pval: +3;
Flags: 4;
Desc: "Grants you and all your allies within 60 feet (6 squares)
      a +3 sacred bonus to attack rolls, damage and saving throws.";
}

52 / 53 / 2 Spell "Neutralize Poison" : 3
{ 0x00000200; Base: 95; Cost: 7; Level: 4; qval: 0x0004;
Desc: "Purges all toxins from the subject's body, preventing
      any further damage, and additionally giving the subject a
      +5 bonus to save versus poisons for a number of rounds
      following the casting equal to the caster level.";
xval: 123; yval: 8; pval: +5;
Purpose: 0x00080 (12); Flags: 45;
}
and 26
{ xval: 0x10; yval: 2;
Constants:
* 109 300;
}
#line "pspells.irh" 3887
52 Spell "Part Water" : 5
{ 0x00000002|0x00008000; Base: 60; Cost: 14; Level: 4;
qval: 0x0001|0x0002; aval: 2; cval: 15; lval: 6;
#line "pspells.irh" 3893
xval: 7; rval: $"floor";
On Event 170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
e.vRange = 6 + EActor->Mod(4);
return 0;
},
(52+500) {
if (ResourceHasFlag(EMap->TerrainAt(EActor->x, EActor->y), 7))
{
EActor->IPrint("You need to be standing on dry 
            land to cast Part Water.");
return 2;
}
return 0;
};
Desc: "Causes all water to part in a ten-foot wide path in
      front of you, stretching out to a range of 60 feet, plus
        10 feet per point of your Wisdom bonus, revealing dry
        land beneath the water.";
}

52 / 53 / 1 Spell "Restoration" : 26
{ 0x00000200; Base: 90; Cost: 20; Level: 4; qval: 0x0004;
xval: 0x08 | 0x04; pval: (-101)d6;
Desc: "Heals damage to ability scores from poisons or
      undead attacks, and similairly restores experience
      points lost due to necromantic effects."; Flags: 45; }

52 Spell "Searing Light" : 1
{ 0x00000010|0x00020000; Base: 90; Cost: 7; Level: 4; qval: 0x0001;
xval: 9; pval: (-99)d8; tval: 75;
Flags: 60, 4; aval: 2; cval: 14;
Purpose: 0x00001; On Event 200 "ray of searing light";
Desc: "Projects a blast of searing light that, with a ranged
      attack roll, inflicts 1d8 / 2 levels (max 5d8) to living
      creatures, 1d6/level (max 10d6) to undead, and 1d6 / 2 levels
      (max 5d6) to constructs. The blast will also dispel areas of magical
      darkness it comes in contact with, including <9>globe of
      shadow<1>, <9>deeper darkness<1> and <9>animate shadows<1>."; }
and 1
{ xval: 9; pval: (-126)d6; tval: 76;
Flags: 60, 4; aval: 2; }
and 1
{ xval: 9; pval: (-99)d6; tval: 36;
Flags: 60, 4; aval: 2;
On Event 75 {
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Globe of Shadow",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Animate Shadows",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Deeper Darkness",0))
APrint(e,"The radiance tears away the magical darkness!");
return 0;
};
}
#line "pspells.irh" 3954
52 / 2 Spell "Spell Immunity" : 46
{ 0x00000001; Base: 95; Cost: 0; Level: 4;
Flags: 59; Purpose: 0x00000;
Desc: "Casting this spell grant you complete and permanent
      immunity to a single spell of your choice of a level lower
      than or equal to 6. This costs you a number of points of
      mana equal to ([(Spell Level + 1) / 2] x 5) permanently.";
On Event 171 {
if ( e.eID->HasSource(50) ||
e.eID->HasSource(52) ||
e.eID->HasSource(53) ||
e.eID->HasSource(51) )
if (e.eID->Level <= 6)
return 1;
return 0;
},
52 {
int32 spNum; rID spID;

if (EActor->CountEffStati(189,$"Spell Immunity") >
e.vCasterLev / 2)
{
EActor->IPrint("You are already immune to one spell for every two
            caster levels you possess.");
return 2;
}

spID = ETerm->ChooseResource(
"Select a Spell", 65, $"Spell Immunity");

if (spID == ((rID)-1))
return 2;

if (EActor->cMana() < spID->Level*2)
{
EActor->IPrint("You don't have enough mana left!");
return 2;
}

spNum = theGame->SpellNum(spID);

if (EActor->HasEffStati(189,$"Spell Immunity",spNum))
{
EActor->IPrint("You're already immune to that spell.");
return 2;
}

if (!EActor->yn(XPrint("Confirm immunize to <Res>?",spID),true))
return 2;

EActor->GainPermStati(189,NULL,7,
spNum,0,$"Spell Immunity");

if (!EActor->HasEffStati(79,$"Spell Immunity"))
{
EActor->GainPermStati(79,NULL,7,
(83+2000),0,$"Spell Immunity");
EActor->GainPermStati(113,NULL,7,
37,-(spID->Level+1)/2,$"Spell Immunity");
}
else {
EActor->IncEffStatiMag(113,$"Spell Immunity",
7,NULL,-(spID->Level+1)/2);
EActor->CalcValues();
}


EActor->IPrint("You feel safe.");
return 1;
},
((83+2000)+10000) {
int32 n;
n = theGame->SpellNum(e.eID);
if (EVictim->HasEffStati(189,$"Spell Immunity",n))
{
e.Immune = true;
return 1;
}
return 0;
};
}




53 Spell "Whirlpool" : 5
{ 0x00000002|0x00008000; Base: 60; Cost: 8; Level: 4; qval: 0x0002;
xval: 9; rval: $"turbulent water"; aval: 11;
lval: 4; cval: 1; Purpose:
0x00040 | 0x00004 | 0x01000;
Flags: 54;
Desc: "Creates a pool of deep, turbulent water 40 feet (4 squares) in
      radius. A swim check (DC 20) is required to make progress in such
      water.";
On Event 206
"Water rises up from dry earth!"; }

53 Spell "Air Walk" : 3
{ 0x00000080|0x00001000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "pspells.irh" 4053
xval: 39; yval: 36; pval: 6;
Desc: "The subject can tread on air as if walking on solid ground. This
    allows the subject to avoid ground-based traps, water, pits and chasms.";
}

53 Spell "Antiplant Shell" : 46
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "pspells.irh" 4060
aval: 9;
rval: 0x00000020; tval: 49; lval: 3; cval: 4;
Flags: 4, 47;
Desc: "Evokes a 30 foot (3 square) radius globe around you
      into which plant creatures may not enter."; }

53 / 51 Spell "Repel Vermin" : 46
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "pspells.irh" 4068
aval: 9;
rval: 0x00000020; tval: 31; lval: 3; cval: 4;
Flags: 4, 47;
Desc: "Evokes a 30 foot (3 square) radius globe around you
      into which vermin (spiders, snakes, insects, etc.) may not enter."; }

53 Spell "Summon Nature's Ally IV" : 9
{ 0x00000100; Base: 75; Cost: 8; Level: 4; qval: 0x0002;
Purpose: 0x00100; xval: 89; pval: 4;
Desc: "Summons a natural creature of CR 4 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 4+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 4081
53 Spell "Control Plant" : 3
{ 0x00000008; Base: 95; Cost: 8; Level: 4; sval: 2;
Purpose: 0x00004 (9); tval: 49;
xval: 137; yval: 4;
Flags: 25, 53, 4;
Desc: "Causes a single plant creature to follow you (if it
      can move), fight and even die at your behalf.";
}

53 Spell "Natural Erosion" : 1
{
0x00000002|0x00008000; Base: 95; Cost: 7; Level 4; aval: 2;
cval: 18; qval: 0x0004|0x0002|0x0001|0x0010; sval: 1 partial;
Purpose: 0x00004 | 0x01000;
xval: 39; pval: 4d10;
hObj it;
On Event 155 {
for(it=EVictim->FirstInv();it;it=EVictim->NextInv())
if (it->GetParent() == EVictim)
if (it->Hardness(39) != -1 ||
it->Hardness(74) != -1 ||
it->Hardness(57) != -1)
return 0;
return 1;
} ;
Desc: "This spell calls down the natural force of time to smite those
    who depend too much on artificial equipment. Every exposed item
    carried by everyone hit by this beam suffers 4d10 points of rusting
    damage, 4d10 points of soaking damage, and 4d10 points of organic
    decay.";
} and 1 {
xval: 74; pval: 4d10; aval: 2;
} and 1 {
xval: 57; pval: 4d10; aval: 2;
}

53 Spell "Dire Regression" : 46
{ 0x00000080; Base: 90; Cost: 50; Level: 4; qval: 0x0004;
Flags: 26, 86; Purpose: 0x00010;
On Event 155 {
if (!EVictim->isPlayer() && EVictim->CanAddTemplate($"dire"))
return 0;
else
return -1;
} ,
28 {
VPrint(e,NULL,
"A primal spark fires in the <EVictim>'s eyes, and it grows...");
EVictim->AddTemplate($"dire");
};
Desc: "Regresses a normal animal to its primordial form, giving it the
    Dire template permanantly. Dire animals have a vaguely prehistoric
    look. They are stronger, tougher and larger than their mundane
    counterparts. Dire animals gain one size level, +4 strength, +2
    dexterity, +2 constitution, a +3 natural armor bonus, +4 to hit and +4
    hit dice. They become immune to fear. These bonuses are template
    bonuses. This spell does not work on players.";
Constants:
* 109 1200;
}

53 Spell "Giant Vermin" : 9
{ 0x00000100; Base: 75; Cost: 8; Level: 4; qval: 0x0002;
Purpose: 0x00100; xval: 31; pval: 6;
Desc: "Conjures giant insects worth CR 6 in total to fight
      on your behalf."; }

53 Spell "Thornwrack" : 3
{ 0x00000080; Base: 75; Cost: 7; Level: 4; qval: 0x0004;
xval: 79; yval: 32; tval: 75;
Flags: 4, 61; sval: 0;
Purpose: 0x00001;
On Event (32+10000) {
hObj killer;
ThrowDmg(41,0,1d8,XPrint("thorns growing out of <his:hObj> body",EActor)
,EActor,EActor);
if (EActor->isDead())
DPrint(e,"Thorns grow out of your body!",
"Thorns grow out of the <EActor>'s body, killing <him:EActor>!");
else
DPrint(e,"Thorns grow out of your body!",
"Thorns grow out of the <EActor>'s body!");
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"thornwrack");
if (killer)
killer->KillXP(EActor);
}
return 0;
};
Desc: "Causes thorns to grow out of a victim's flesh, inflicting a -4
      penalty to attack rolls and saves due to agony, and causing 1d8 points
      of damage each round for the duration. A Fortitude save negates the
      effect.";
On Event 28
"You scream in agony as thorns begin to grow out of your flesh!" /
"The <EVictim> screams in agony as thorns begin to grow out of <his:EVictim> flesh!",
74
"Fortunately, the thorn growth seems to be finished.",
84
"The thorns stop growing.";
}
and 3
{ xval: 117; yval: 51; pval: -4; sval: 0; }

53 Spell "Spike Growth" : 5
{ 0x00000002|0x00002000; Base: 90; Cost: 8; Level: 4; qval: 0x0002;
aval: 11; lval: 6; rval: $"bed of spikes"; sval: 3;
xval: 6; Purpose: 0x00004 | 0x00040;
Desc: "Causes spikes to grow out of the ground in a 60
      foot (6 square) radius, inflicting 1d8 points of damage
      per 10 feet on any creatures walking across them, as
      well as inhibiting their movement."; }


Effect "Lesser Aspect of Divinity" : 3
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "pspells.irh" 4197
xval: 106; yval: 5; pval: 1d4+1;
Desc: "Causes you to take on some of the qualities of a
      celestial being: you gain an enhancement bonus of 1d4+1
      to your Charisma score, darkvision, a +2 bonus to saving
      throws against disease and poison, and acid, cold and 
      electricity resistance of 5 + half your caster level."; }
and 3
{ xval: 104; yval: 2; pval: 5d1 + (-106); }
and 3
{ xval: 104; yval: 4; pval: 5d1 + (-106); }
and 3
{ xval: 104; yval: 3; pval: 5d1 + (-106); }
and 3
{ xval: 39; yval: 42; pval: 6; }
and 3
{ xval: 123; yval: 8; pval: 2; }
and 3
{ xval: 123; yval: 14; pval: 2;
On Event 206
"You take on the aspect of an angel of vengeance!" /
"The <EActor> takes on the aspect of an angel of vengeance!"; }

Effect "Holy Smite" : 1
{ 0x00000010; Base: 75; Cost: 8; Level: 4; aval: 11;
cval: 15; qval: 0x0002;
xval: 69; pval: (-99)d8; lval: 6;
Purpose: 0x00001; On Event 28
"You are smote by holy power!" /
"The <EVictim> is smote by holy power!";
Desc: "Calls down holy power to smite evil creatures,
      inflicting 1d8 points of holy damage per two caster
      levels and blinding evil creatures who fail a Fortitude
      save for 1d4 rounds."; }
and 3
{ xval: 3; tval: 103; sval: 0; aval: 11;
Flags: 56, 4, 23; lval: 6; }

Effect "Unholy Blight" : 1
{ 0x00000010; Base: 75; Cost: 8; Level: 4; aval: 11;
cval: 8; qval: 0x0002;
Purpose: 0x00001; On Event 28
"You are defiled by evil energies!" /
"The <EVictim> is defiled by evil energies!";
xval: 72; pval: (-99)d8; lval: 6;
Desc: "Calls forth a cloud of greasy malevolance,
      inflicting 1d8 points of evil damage per two caster
      levels and sickening (-2 to hit, damage and saving
      throws) good creatures who fail a Fortitude save 
      for 1d4 rounds."; }
and 3
{ xval: 117; tval: 106; sval: 0; aval: 11;
lval: 6; xval: 51; pval: -2;
Flags: 55, 4, 23, 61;
On Event 205 "Sickened" "Sick"; }

Effect "Order's Wrath" : 1
{ 0x00000010; Base: 75; Cost: 8; Level: 4; aval: 11;
cval: 10; qval: 0x0002;
Purpose: 0x00001; On Event 28
"You are struck by the judgement of law!" /
"The <EVictim> is struck by the judgement of law!";
xval: 70; pval: (-99)d8; lval: 6;
Desc: "Calls a matrix of aligned energies to strike against 
      chaos, inflicting 1d8 points of lawful damage per two caster
      levels and stunning chaotic creatures who fail a Fortitude
      save for 1d4 rounds."; }
and 3
{ xval: 5; tval: 105; sval: 0; aval: 11;
Flags: 22, 4, 23; lval: 6; }

Effect "Chaos Hammer" : 1
{ 0x00000010; Base: 75; Cost: 8; Level: 4; aval: 11;
cval: 13; qval: 0x0002;
Purpose: 0x00001; On Event 28
"You are struck by primordial chaos!" /
"The <EVictim> is struck by primordial chaos!";
xval: 71; pval: (-99)d8; lval: 6;
Desc: "Unleashes a burst of primordial chaos to strike against 
      law, inflicting 1d8 points of chaotic damage per two caster
      levels and confusing lawful creatures who fail a Fortitude
      save for 1d4 rounds."; }
and 3
{ xval: 6; tval: 104; sval: 0; aval: 11;
Flags: 21, 4, 23; lval: 6; }
#line "pspells.irh" 4310
Effect "Infernal Blood" : 46
{ 0x00000200; 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45;
#line "pspells.irh" 4312
Level: 5; qval: 0x0004;
Desc: "Infuses the blood of the target with the blood of demons. The
    target gains the benefit of the Half-Fiend template: +4 Natural Armor,
    +4 Strength, +4 Dexterity, +2 Constitution, +4 Intelligence, +2
    Charisma, the Outsider type, resistance to Acid, Cold, Fire and
    Electricity, and immunity to Poison.";
On Event 155 {
if (EVictim->CanAddTemplate($"half-fiend"))
return 0;
else
return -1;
} ;
On Event 83 {
if (!EVictim->CanAddTemplate($"half-fiend"))
return 2;
EVictim->GainTempStati(71,EActor,e.vDuration,
2, 0, 0, $"half-fiend", e.vCasterLev + (e.MM & 0x00002000 ?
5:0));
EVictim->SetImage();
EVictim->CalcValues();
return 1;
} ;
}


52 Spell "Inflict Light Wounds, Mass" : 1
{ 0x00000040; Base: 95; Cost: 1; Level: 5; aval: 3; lval: 3;
xval: 6; pval: 1d8 + -101; cval: 6;
Flags: 34; Purpose: 0x00001 | 0x01000;
On Event 28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 1d8 + caster level points of necromantic
      damage on all creatures within a ball of radius 30 feet.";
}

52 / 51 Spell "Magic Resistance" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35;
#line "pspells.irh" 4350
Level: 4;
xval: 106; yval: 18; pval: -105;
Desc: "Grants you a +5~ bonus to your magic resistance per caster level.";
}

52 Spell "Dispel Evil" : 46
{ 0x00000001; Base: 75; Cost: 16; Level: 5; sval: 2 + 10;
Desc: "Casting this spell empowers you to drive away evil influences
      with a touch. It has a tripartate effect:\n
      __<9>1._<1>You gain a +4 deflection bonus to DC against attacks by
      evil creatures, which increases to +6 against <9>inherantly<1>
      evil creatures.\n
      __<9>2._<1>You are empowered with a touch attack which can banish
      evil outsiders of Challenge Rating equal to or lower than your
      caster level, provided they fail a Will save. You get one touch
      for every 3 caster levels.\n 
      __<9>3._<1>If an evil outsider resists your banishment, or you touch
      an evil creature not subject to the second effect, they are subject
      to a <9>dispel magic<1> effect with a +10 bonus to the caster level
      check.\n
      __One casting of this spell gives you one touch for every two full
      caster levels you possess.";
Purpose: 0x00010; Flags: 56;
xval: 79; yval: (19+2000);
On Event ((19+2000)+10000)
{
int32 bonus, curr;
if (EActor->isMType(103))
{
bonus = EActor->HasMFlag(53) ? 6 : 4;
curr = EVictim->HighStatiMag(111,27);
if (bonus > curr)
{
e.strDef += XPrint(" +%d DispEv",bonus - curr);
e.vDef += bonus - curr;
}
}
return 0;
};
}
and 46
{ aval: 6; lval: -106;
On Event 28
{
if (e.efNum == 1)
{
if (EVictim->isMType(103) &&
EVictim->isMType(48))
if (!EVictim->SavingThrow(2,e.saveDC,
0x00000001|0x00008000))
{
VPrint(e,"You feel a strong urge to leave this plane!",
"The <EVictim> feels an urge to leave this plane!");
ThrowDmg(42,0,0,"banishment",EActor,EVictim);
return 1;
}
if (EVictim->isMType(103))
{
e.vCasterLev += 10;
RedirectEff(e,$"dispel magic",28);
e.vCasterLev -= 10;
}
return 1;
}
return 0;
};
}


52 Spell "Disrupting Weapon" : 46
{ 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 5; qval: 0x0008;
#line "pspells.irh" 4421
Desc: "Imbues one of your blunt, non-missile weapons to become deadly
    to the undead. Any undead struck by such a weapon must make a Will save
    or be destroyed.";
Purpose: 0x00010;
On Event
155 {
hObj it;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(24))
if (it->QualityOK(26))
return 0;
}
return 1;
},
157 {
if (!EItem->QualityOK(26))
return 2;
return 0;
},
83 {
if (ETarget->isType(58))
if (ETarget->QualityOK(26))
ETarget->GainTempStati(183,EActor,e.vDuration,2,
26,26,$"disrupting weapon");
};
}

52 / 53 Spell "Insect Plague" : 1
{ 0x00000080; Base: 75; Cost: 9; Level: 5; aval: 7;
rval: 0x00000100 | 0x00000004 | 0x00004000 | 0x00000008 | 0x00000040; lval: 9;
xval: 0; pval: 1d8; qval: 0x0002; tval: 40;
Flags: 5, 65; cval: 6; }
and 2
{ xval: 117; yval: 55; pval: -15; aval: 7;
tval: 40; Purpose: 0x00004 | 0x00200 (6); }
and 2
{ xval: 10; tval: -106;
Desc: "Conjures a huge cloud of flying, biting bugs that
      limits visibility to 10 feet, inflicts 1d8 points of damage
      to all within per round, severely impedes concentrating
      on spellcasting (-75%) and cause all creatures of whose
      CR is half the caster's level or less to become frightened
      and flee.";
On Event 206
"A vast cloud of insects appears!",
74
"The cloud of insects disperses."; }

52 / 53 Spell "Flame Strike" : 1
{ 0x00000010|0x00004000; Base: 75; Cost: 15; Level: 5; qval: 0x0004|0x0002; sval: 1;
cval: 4;
xval: 1; pval: (-126)d6;
Flags: 11, 62, 34, 83,
32;
aval: 3; lval: 1;
Purpose: 0x00001;
On Event 200 "pillar of flame";
Desc: "Calls down a pillar of divine fire to strike a chosen target for
    1d8 points of damage per caster level, scaled after 9th. A Reflex save 
    halves the damage, but only half the damage the spell inflicts is fire 
    damage -- the other half is raw divine power and cannot be resisted. The 
    column has a radius of one square and the caster is immune to the damage.";
}

52 Spell "Divine Agility" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 5; qval: 0x0004;
#line "pspells.irh" 4487
Purpose: 0x00010 | 0x02000 | 0x04000;
xval: 108; yval: 27; pval: +4; }
and 3
{ xval: 108; yval: 29; pval: +4; }
and 3
{ xval: 106; yval: 26; pval: +5; }
and 3
{ xval: 41; yval: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40); }
and 3
{ xval: 39; yval: 31; pval: 1;
Desc: "Grants a subject of your choice supernatural agility,
        bestowing on them a +4 insight bonus to both Defense Class
          and Reflex saves, a +25~ bonus to their movement rate, the
          Spring Attack feat and the Evasion ability.";
On Event 205 "Divine Agility" / "DivAgi";
Constants:
* 109 1000;
}

2 / 52 Spell "Hallow" : 46
{
0x00000200; 0x00000002; Level: 5; Cost: 80; Base: 60;
Flags: 78;
Desc: "Casting this spell creates an altar to the caster's
      diety in the same square the caster currently occupies.
      Doing this requires a sacrifice of the caster's own
      spiritual energies, costing her 750 XP.";
On Event 28 {
hObj hAltar;
if (!EActor->isCharacter())
return 2;
if (!EActor->GodID || (EActor->getGodFlags(EActor->GodID) &
(0x0020|0x0002)))
{ EActor->IPrint("You have no god to deticate an altar to.");
return 2; }
if (EMap->FallAt(EActor->x,EActor->y) || EMap->SolidAt(EActor->x,EActor->y)
|| ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y),7))
{ EActor->IPrint("You can only create an altar on solid ground.");
return 2; }
if (EMap->FFeatureAt(EActor->x, EActor->y))
{ EActor->IPrint("You need more open space for an altar.");
return 2; }
hAltar = CreateFeature($"altar");
hAltar->GainPermStati(197, ((hObj)0), 7, 0, 0, EActor->GodID);
hAltar->PlaceAt(EMap, EActor->x, EActor->y);
if (EActor->isCharacter())
EActor->LoseXP(750);
APrint(e,"An altar to <Res> rises up from the floor!", EActor->GodID);
return 1;
};
}

52 Spell "Slay Living" : 4
{ 0x00000040; Base: 95; Cost: 9; Level: 5; aval: 6;
lval: 1; xval: 6; pval: 3d6+(-101);
Purpose: 0x00001;
Flags: 63, 4, 61; tval: 75;
On Event 28 {
if (!EVictim->SavingThrow(0,e.saveDC,0x00000010|0x00000004|0x00008000|0x00000001))
{
ReThrow(42,e);
return 1;
}
return 0;
};
Desc: "Lets you kill a living creature with a touch, or inflict [3d6 + 
		  caster level] points of damage if they succeed in a Fortitude saving 
			throw.";
On Event 206
"Your hands glow with a black aura." /
"The <EActor>'s hands glow with a black aura.";
}

52 Spell "Holy Summoning V" : 9
{ 0x00000100; Base: 75; Cost: 11; Level: 5; qval: 0x0002;
Purpose: 0x00100; xval: 119; pval: 5;
Desc: "Summons an outsider of CR 5 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 5+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 4567
52 Spell "Righteous Might" : 3
{ 0x00000080; Cost: 20; Level: 5; Purpose: 0x00010;
Desc: "Your height immediately doubles and your weight increases by a
      factor of eight. This increase changes your size category to the next
      larger one, and you gain a +4 size bonus to strength and a +2 size
      bonus to constitution. You also gain a bonus to your natural armor rating
      equal to 3 plus 1 for every 5 caster levels, and a +5 circumstance bonus
      to the Intimidate skill. When this spell expires, you lose two fatigue 
      points.";
Flags: 61, 78, 66;
On Event 205 "RMight";
xval: 122; yval: 0; pval: +4; }
and 3
{ xval: 122; yval: 2; pval: +2; }
and 3
{ xval: 106; yval: 25; pval: +1; }
and 3
{ xval: 118; yval: 17; pval: 3d1 + -109;
On Event 28
"You grow huge, and feel a righteous power come upon you." /
"The <EVictim> grows enormous, and is surronded by an aura of righteousness!",
84 {
EActor->IDPrint("You feel the righetous might leave you.",
"The <EActor> shrinks back to normal size.");
EActor->LoseFatigue(2,false);
return 0;
};
}
and 3
{ xval: 124; yval: 20; pval: +5; }



53 Spell "Turnclaw" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 50; Level: 5;
#line "pspells.irh" 4602
xval: 79; yval: (41+2000); pval: (-101)d6;
Flags: 72;
On Event ((41+2000)+10000) {
int32 buff;
if (e.AType != 6 || (e.DType != 11 &&
e.DType != 12 && e.DType != 13))
return 0;
buff = EVictim->GetEffStatiVal(79,$"Turnclaw");
if (e.vDmg < buff) {
EVictim->SetEffStatiVal(79,$"Turnclaw",buff - e.vDmg);
e.Immune = true;
return 1;
} else {
EVictim->RemoveEffStati($"Turnclaw",84);
if (e.vDmg == buff) {
e.Immune = true;
return 1;
}
e.vDmg -= buff;
return 0;
}
},
205 "Turnclaw",
28 {
e.vDmg = min(126, e.vDmg);
return 0;
};
Desc: "Turns aside the claw attacks of animals, humanoids and monsters
        alike, shielding the caster from the first [1d6 / caster level] points 
        of damage that would normally be taken from such attacks.";
}

53 Spell "Summon Nature's Ally V" : 9
{ 0x00000100; Base: 75; Cost: 10; Level: 5; qval: 0x0002;
Purpose: 0x00100; xval: 89; pval: 5;
Desc: "Summons a natural creature of CR 5 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 5+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 4641
53 Spell "Corrupt Animal" : 46
{ 0x00000080; Base: 90; Cost: 50; Level: 5; qval: 0x0004;
Flags: 26, 86; Purpose: 0x00010;
On Event 155 {
if (!EVictim->isPlayer() && EVictim->CanAddTemplate($"corrupted"))
return 0;
else
return -1;
} ,
28 {
VPrint(e,NULL,
"A corrupt spark fires in the <EVictim>'s eyes, and it grows...");
EVictim->AddTemplate($"corrupted");
};
Desc: "This spell is typically only used by grey druids and demonic
    forces. It twists an aminal's association with nature and permanently
    gives it an abberant ability to manipulate natural magics and cast
    druidic spells. The animal gains +6 wisdom, +6 intelligence, +2 con, +4
    to hit and +4 hit dice. It gains the combat casting and defensive spell
    feats, as well as the woodland stride ability and the ability to cast
    spells as a third-level druid. These bonuses are template bonuses. 
    This spell does not work on players.";
}

53 Spell "Animal Growth" : 3 { 0x00000200; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 5;
#line "pspells.irh" 4667
Purpose: 0x00010;
xval: 117; yval: 25; pval: +1;
Desc: "This spell causes an animal or beast to grow to twice its normal
    size and eight times its current weight. This alteration increases the
    target's size category by +1, its strength by +8, its constitution by
    +4, its dexterity by -2, its natural armor by +12 and its saving throws
    by +4.  All of these bonuses are Circumstance Bonuses.";
On Event
155 {
if (EVictim->isMType(2) || EVictim->isMType(35))
return 0;
return -1;
};
}
and 3 { xval: 117; yval: 0; pval: +8; }
and 3 { xval: 117; yval: 2; pval: +4; }
and 3 { xval: 117; yval: 52; pval: +4; }
and 3 { xval: 117; yval: 17; pval: +12; }
and 3 { xval: 117; yval: 1; pval: -2; }

53 / 50 Spell "Baleful Polymorph" : 32
{ 0x00000080; Base: 60; Cost: 10; Level: 5; sval: 0; qval: 0x0004;
Flags: 26; Purpose: 0x00004; rval: $"giant rat";
Desc: "Changes one target creature into a giant rat, provided that
    it fails its fortitude save.";
}
#line "pspells.irh" 4707
53 Spell "Commune With Nature" : 46
{ 0x00000004; Base: 90; Cost: 50; Level: 5; Purpose: 0x00000;
Desc: "By communing with primordial spirits of nature, the caster
      is able to learn the layout of the level around her.";
On Event 28 {
Rect r; int32 x, y; rID terID;

if (!EVictim->isPlayer())
return 0;

r@x1 = 1;
r@x2 = EMap->SizeX()-1;
r@y1 = 1;
r@y2 = EMap->SizeY()-1;
for (x=r@x1;x<=r@x2;x++)
for (y=r@y1;y<=r@y2;y++)
if (EMap->InBounds(x,y))

EMap->MarkAsSeen(0,x,y,0);
EMap->VUpdate(EVictim->x,EVictim->y);
return 1;
};
}

53 Spell "Wall of Thorns" : 5
{ 0x00000002; Base: 90; Cost: 10; Level: 5; qval: 0x0004; sval: 3;
aval: 11; lval: 2; rval: $"thorn wall";
xval: 9;
Purpose: 0x00004|0x00040|0x00008|0x00800 | 0x01000;
Desc: "Conjures a solid barrier composed of thick shrubbery
      interwoven with razor-sharp, thorny vines. The wall of thorns
      fills an area with diameter 50 feet (5 squares). Any creature
      attempting to move through it must make an Escape Artist check
      (DC 30). If successful it moves at 15% normal speed and takes
      25 points of slashing damage."; }

53 Spell "Control Winds" : 25
{ 0x00000002|0x00001000; Base: 75; Cost: 10; Level: 5;
Desc: "__Using this spell, a druid can evoke one of
      five distinct possible effects:\n
      __<9>Zone of Wind:<1> The druid creates an
      area 6 squares in radius where winds thrash
      at terrible velocity. This makes the use of
      bows impossible and grants a -6 penalty to
      all thrown weapons. It extinguishes torches,
      prevents the entry of swarms into the area
      and requires spellcasters to make a Concentration
      check (DC 10 + twice your caster level) in
      order to cast spells.\n
      __<9>Hold Vapour:<1> The spell can be used
      to paralyze any air elementals or similar
      gaseous creatures such as vampiric mists or
      mages using <9>gaseous form<1>. This
      affects all creatures within 60 feet of
      the casting druid.\n
      __<9>Still Air:<1> This effect negates the
      Zone of Wind version above, destroys a wind
      wall and prevents anyone from using the
      <9>gust of wind<1> spell inside its area.\n
      __<9>Wind Shield:<1> This version summons a
      corona of howling winds around the caster,
      granting her a +4 circumstance to AC and
      a Sound Resistance of 8.\n
      __<9>Hold Ship:<1> This version of the Control
      Wind spell can be used to paralyze any ship-
      based moving encounter on the overland screen
      for one hour per caster level.";
}

Effect "Raise Dead" : 25 { }



Effect "Music of the Spheres" : 3
{
0x00000010; Base : 90; Cost: 12; Level: 5;
Desc: "Casting this spell allows the priest to produce music
      of such unearthly beauty that all creatures hostile to her
      of CR 5 or lower must stand transfixed in mute awe for 1d4 
      rounds. Additionally, creatures of any CR
      whose alignment opposes the priest's god's ethos suffer 1d4
      points of sonic damage per caster level, and are debilitated
      in a manner specific to the diety. Maeve's priestesses make
      alien, discordant music which smites and confuses lawfuls,
      Mara's children produce tones which cause intense sadness,
      <9>slow<1>ing evil creatures, and Essiah's joyful ballad
      causes evil creatures to be nauseated. Other casters stun
      targets who oppose them on the good/evil spectrum. A Will 
      save negates the debilitation but not the damage.\n
      __The music affects all creatures within 80 feet of the
      caster, and the priest and her allies are immune. Allies
      who are bards or casters can even add to the effect in a
      cooperative manner, forming a choir. A bardic ally adds
      half her bardic music level to the effect's caster level,
      while a priestly ally adds half her caster level.";
aval: 11; cval: 13; Purpose: 0x00000;
xval: 9; yval: 1; sval: 2;
Flags: 71, 35, 34;
int32 targ, dtype;
On Event (52+500) {
hObj cr;
if (EActor->isCharacter() && EActor->GodID == $"Maeve")
{ targ = 104; dtype = 26; }
else if (EActor->isCharacter() && EActor->GodID == $"Mara")
{ targ = 103; dtype = 25; }
else if (EActor->isCharacter() && EActor->GodID == $"Essiah")
{ targ = 103; dtype = 30; }
else
{ targ = EActor->isMType(103) ? 106 : 103;
dtype = 17; }
#line "pspells.irh" 4833
return 0;
},
155 {
if (e.efNum == 0)
return (EVictim->isHostileTo(EActor) &&
EVictim->ChallengeRating() <= 5) ?
0 : -1;
else if (e.efNum == 1)
return EVictim->isMType(targ) ?
0 : -1;
},
206
"You evoke a crescendo of music of unearthly beauty!" /
"The <EActor> evokes a crescendo of music of unearthly beauty!",
200
"unearthly music";
}
and 1
{
xval: 10; pval: (-101)d4; sval: 2+10;
On Event (28+1000)
{
if (e.efNum == 1)
ThrowDmg(41,dtype,e.vDuration,"",EActor,EVictim);
return 0;
};
}


Effect "Mark of Justice" : 3
{
0x00000008; Cost: 10; Level: 5; sval: 2+10;
lval: 1; aval: 6; Purpose: 0x00004;
Flags: 100, 22, 54;
Desc: "This spell can be cast in one of two forms;
      both forms are channeled through a touch attack
      that causes a tattoo-like mark to appear on the
      touched creature's body, visible only to creatures
      who can see invisible or ethereal creatures. The
      caster recieves only one touch, but there is no
      saving throw to resist the placement of the mark.
      The mark is a curse and can be removed using a
      <9>remove curse<1> spell. Neither version of this
      spell affects Lawful creatures, or creatures who
      cannot understand law due to not being sapient.\n
      __<9>Mark of Transgression:<1> This version of the
      spell marks the subject creature as an inveterate
      criminal, and causes any lawful creatures who percieve
      him to be automatically hostile to him. There is no
      saving throw involved in this version of the spell.\n
      __<9>Mark of Punishment:<1> This more corrective
      version of the Mark causes the subject to suffer
      gradually-increasing Constitution damage whenever
      they commit an unlawful act (defined in the current
      version of the game as striking a lawful creature).
      A Will saving throw negates this effect, but a
      seperate save must be made for each unlawful act,
      and a successful save only prevents damage for that
      act, not breaks the whole spell.\n
      __In addition to the effects of a specific Mark,
      a priest who places a Mark of Justice can always
      percieve the creature that it was placed on, even
      if walls or other barriers seperate them, as if
      that creature were the subject of a detection spell.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Transgression or Punishment?", "tp",
1d2 == 1 ? 't' : 'p');
if (ch == 'p')
{
RedirectEff(e,$"Mark of Punishment",52);
return 1;
}
return 0;
},
155 {
if (EVictim->isMType(104) ||
!EVictim->isMType(85))
return -1;
return 0;
},
(28+1000) {
hObj cr;
for (cr=EMap->FirstThing();cr;cr=EMap->NextThing())
if (cr->isCreature() && cr->Percieves(EVictim))
if (cr->onPlane() == 3 ||
cr->HasStati(101) || cr->HasMFlag(61))
{
if (cr == GetHandle(EVictim))
cr->IPrint("A runic mark appears on your body!");
else
cr->IPrint("An runic mark appears on the <hObj>'s body!",
EVictim);
}
EVictim->IPrint("You feel persecuted.");
EActor->IPrint("You have marked the <hObj>.", EVictim);
EVictim->GainPermStati(73,EActor,7,0,200);
return 0;
},
84 {
if (e.vObj != ((hObj)0))
e.vObj->RemoveStati(73,7,-1,-1,EActor);
return 0;
},
206
"Your hands glow with a deep vermillion aura!" /
"The <EActor>'s hands glow with a deep vermillion aura!";
xval: 215; yval: 104;
}

Effect "Mark of Punishment" : 3
{
0x00000008; Cost: 10; Level: 5; sval: 2+10;
lval: 1; aval: 6; Purpose: 0x00004;
xval: 79; yval: (19+1000);
Flags: 100, 22, 54;
On Event 155 {
if (EVictim->isMType(104) ||
!EVictim->isMType(85))
return -1;
return 0;
},
(28+1000) {
hObj cr;
for (cr=EMap->FirstThing();cr;cr=EMap->NextThing())
if (cr->isCreature() && cr->Percieves(EVictim))
if (cr->onPlane() == 3 ||
cr->HasStati(101) || cr->HasMFlag(61))
{
if (cr == GetHandle(EVictim))
cr->IPrint("A runic mark appears on your body!");
else
cr->IPrint("An runic mark appears on the <hObj>'s body!",
EVictim);
}
EVictim->IPrint("You feel persecuted.");
EActor->IPrint("You have marked the <hObj>.", EVictim);
EVictim->GainPermStati(73,EActor,7,0,200);
return 0;
},
84 {
if (e.vObj != ((hObj)0))
e.vObj->RemoveStati(73,7,-1,-1,EActor);
return 0;
},
206
"Your hands glow with a deep vermillion aura!" /
"The <EActor>'s hands glow with a deep vermillion aura!",
((19+1000)+10000) {
if (EVictim->isMType(104))
if (!EVictim->SavingThrow(2,EVictim->GetEffStatiVal(
79,$"Mark of Punishment"),0x00000001|0x00000020|0x00008000))
{
EActor->IDPrint("Lawful power smites you!",
"Lawful power smites the <hObj>!", EActor);
ThrowDmg(41,52,1d2,"a Mark of Justice",
EVictim->GetEffStatiObj(79,$"Mark of Punishment"),
EVictim);
}
return 0;
},
(28+500) {
e.vDmg = e.saveDC;
return 0;
};
}

Effect "Conjure Oozes" : 9
{ 0x00000100; Base: 75; Cost: 30; Level: 5; qval: 0x0002;
Purpose: 0x00100; xval: 17;
Flags: 85;
On Event 170 {
e.vDmg = 3 + (e.vCasterLev + 1) / 2;
return 0;
},
52 {
if (!EActor->LoseFatigue(1,true))
return 2;
return 0;
};
Desc: "Summons multiple oozes equalling a total CR of half your caster
      level (rounding up) + 3, which will remain as your companions for the 
      rest of the day. Casting this spell costs 1 Fatigue point."; }
#line "pspells.irh" 5037
53 / 52 Spell "Antilife Shell" : 46
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 55;
#line "pspells.irh" 5039
Level: 6; aval: 9;
rval: 0x00000020; tval: 75; lval: 3; cval: 4;
Flags: 4, 47;
Desc: "Evokes a 30 foot (3 square) radius globe around you
      into which living creatures may not enter."; }

53 Spell "Fire Seeds;spell" : 13
{ 0x00000010; Base: 95; Cost: 12; Level: 6;
xval: 0x01 | 0x10 | 0x20; rval: $"fire seeds";
yval: 4; Purpose: 0x00010 (1); Flags: 25;
pval: +15; Desc: "Creates four fire seeds that count as +5 weapons and can be
    thrown to inflict 5d6+5 points of fire damage each.";
hObj it;
On Event 155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->iID == $"produced flame" || it->iID == $"fire seeds")
return 1;
return 0;
};
}

Item "fire seeds" : 58
{
Image: yellow '*';
Mat:30;
SDmg:5d6;
LDmg:5d6;
Crit: x2; Threat: 2; Spd: +100%; Range: 10;
Acc: +10; Group: 0x00000100 | 0x00000001;
Size: 2;
Cost: 0;
Flags: 43 , 1 , 46,
47;
Desc: "Fire Seeds are magically enchanted acorns that burst into
    intense flame when thrown. They cannot be used as melee weapons.";
On Event (48+1000) {
if (GetHandle(EItem2) && EItem2->iID == $"fire seeds")
EItem2->Remove(true);
return 0;
},
(16+500) {
EActor->IPrint("You dispel the fire seeds.");
EItem->Remove(true);
return 1;
},
(54+500) {
EItem->Remove(true);
return 1;
},
(14+500) {
EActor->IPrint("You can't put fire seeds into a container.");
return 2;
},
163 {
e.EParam |= 0x0080;
e.nCursed = "";
e.nArticle = (e.EParam & 0x0020) ? "the " : "";
e.nAppend += XPrint(" (<Num> shot<hText>, <Num> turn<hText>)",
EActor->GetQuantity(), EActor->GetQuantity() == 1 ? "" : "s",
EActor->GetStatiDur(67), EActor->GetStatiDur(67) == 1 ? "" : "s");
return 0;
};
}

53 Spell "Summon Nature's Ally VI" : 9
{ 0x00000100; Base: 75; Cost: 12; Level: 6; qval: 0x0002;
Purpose: 0x00100; xval: 89; pval: 6;
Desc: "Summons a natural creature of CR 6 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 6+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 5127
52 Spell "Animate Objects" : 46
{
0x00000002; Base: 75; Cost: 15; Level: 6; sval: 1 + 10;
aval: 11; lval: 6; cval: 12; Purpose: 0x00100;
Flags: 40, 34, 25;
Desc: "Casting this spell causes all unattended, inanimate 
      objects within 60 feet of the caster to animate, fighting
      in his defense as if they were living allies. Creatures
      may make a Reflex saving throw to prevent whatever they
      hold in their hands from tearing free and animating, but
      worn objects do not animate.";
On Event 28 {
hObj hItem, hAnim; rID animID;
if (!(EVictim->isCreature() || EVictim->isType((-4))))
return 0;

if (EVictim->isCreature())
{
hItem = EVictim->FirstInv();

if (!hItem)
return 0;
#line "pspells.irh" 5152
if (hItem->isType(31))
return 0;


if (hItem->isType(21))
return 0;

if (EVictim->SavingThrow(1,e.saveDC,0x00008000|0x00000001))
{
VPrint(e,"Your <hObj> animates and begins to twist around,
                but you keep a firm grip on it and the effect ceases.",
"The <EVictim>'s <hObj> animates and begins to twist
                around, but <he:EVictim> keeps a firm grip on it and the "
"effect ceases.", hItem);
return 0;
}
VPrint(e,"Your <hObj> animates and twists out of your grasp!",
"The <EVictim>'s <hObj> animates and twists out of 
                    <his:EVictim> grasp!", hItem);
}
else
{
hItem = GetHandle(ETarget);
#line "pspells.irh" 5178
if (hItem->isType(31))
return 0;

APrint(e,"The <hObj> animates!", hItem);
}

switch(hItem->Size(NULL))
{
case 1:
animID = $"miniscule animated object";
break;
case 2:
animID = $"tiny animated object";
break;
case 3:
animID = $"small animated object";
break;
case 4:
animID = $"medium animated object";
break;
case 5:
animID = $"large animated object";
break;
case 6:
animID = $"huge animated object";
break;
case 7:
animID = $"gargantuan animated object";
break;
case 8:
animID = $"collosal animated object";
break; default:
return 0;
}

EMap->GenEncounter(0x00000080|0x00008000|0x00000004|0x00020000,10,10,
(int32)animID, 0, ((rID)0), ETarget->x, ETarget->y, EActor);
hAnim = EMap->GetEncounterCreature(0);

hAnim->GainTempStati(167,hItem,e.vDuration,2);
hItem->Remove(false);
return 1;
},
75 {
#line "pspells.irh" 5224
return 0;
};
}
#line "pspells.irh" 5275
Monster "miniscule animated object" : 36
{ Image: bright red 'X'; Size: 1;
CR: 1; HD: 1; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 3, Dex 14, Wis 1, Cha 1;
Attk: 19 for 1d1 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5282
Monster "tiny animated object" : 36
{ Image: bright red 'X'; Size: 2;
CR: 1; HD: 1; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 6, Dex 14, Wis 1, Cha 1;
Attk: 19 for 1d2 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5289
Monster "small animated object" : 36
{ Image: bright red 'X'; Size: 3;
CR: 1; HD: 1; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 14, Wis 1, Cha 1;
Attk: 19 for 1d4 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5296
Monster "medium animated object" : 36
{ Image: bright red 'X'; Size: 4;
CR: 2; HD: 2; Hit: +2; Def: 10; Mov: 100%; Spd: 150%;
Str 12, Dex 12, Wis 1, Cha 1;
Attk: 19 for 1d6 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5303
Monster "large animated object" : 36
{ Image: bright red 'X'; Size: 4;
CR: 3; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 150%;
Str 16, Dex 10, Wis 1, Cha 1;
Attk: 19 for 1d8 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5310
Monster "huge animated object" : 36
{ Image: bright red 'X'; Size: 4;
CR: 4; HD: 6; Hit: +4; Def: 10; Mov: 75%; Spd: 125%;
Str 20, Dex 10, Wis 1, Cha 1;
Attk: 19 for 1d10 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5317
Monster "gargantuan animated object" : 36
{ Image: bright red 'X'; Size: 4;
CR: 5; HD: 8; Hit: +4; Def: 10; Mov: 75%; Spd: 100%;
Str 24, Dex 10, Wis 1, Cha 1;
Attk: 19 for 1d12 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5324
Monster "collosal animated object" : 36
{ Image: bright red 'X'; Size: 4;
CR: 6; HD: 10; Hit: +4; Def: 10; Mov: 50%; Spd: 75%;
Str 28, Dex 10, Wis 1, Cha 1;
Attk: 19 for 1d20 13;
Stati[39,42,6]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000; Flags: 33, 7, 66, 56, 55, 24; Desc: "This animated object has been produced by a priest's " "<9>animate objects<7> spell, or by a similar power possessed " "by a different creature."; On Event ((41+2000)+500) { hObj hItem, hAnim; int32 percent; if (e.DType <= 13) { hItem = EVictim->GetStatiObj(167); hAnim = GetHandle(EVictim); SetETarget(e,hItem); ReThrow(41,e); SetETarget(e,hAnim); if (hItem->isDead()) hAnim->Remove(true); else { percent = (hItem->GetHP() * 100) / hItem->MaxHP(); hAnim->cHP = max(1,(hAnim->mHP * percent) / 100); } return 1; } return 0; }, (19+500) { hObj hItem2; hItem2 = EActor->GetStatiObj(167); if (hItem2->isType(58)) { e.AType = 63; SetEItem(e,hItem2); } return 0; }, 156, 32 { if (EActor->GetStatiObj(167) != ((hObj)0)) EActor->Image = EActor->GetStatiObj(167)->Image; return 0; }; }
#line "pspells.irh" 5341
50 / 52 Spell "Banishment" : 46
{ 0x00000001; Base: 75; Cost: 12; Level: 6; qval: 0x0004; sval: 2;
Desc: "This spell enables you to force an extraplanar creature out of
    your home plane, effectively destroying it here. You may affect a
    creature with up to twice your level in hit dice. When you cast this
    spell you make a Knowledge (Theology) skill check with DC 20. If you succeed
    the Will save DC for this spell is increased by +2 (representing your
    ability to call upon substances and ideals that the target hates,
    fears or opposes).";
On Event (83+500) {
if (EActor->SkillCheck(30,20,true,0)) {
EActor->IPrint("You incorporate opposed ideals into the banishment!");
e.saveDC += EActor->HasEffStati(79, $"Iron Sword") ? 5 : 2;
}
};
On Event 155 {
if (!ETarget->isMType(48))
return -1;
} ;
On Event 28 {
VPrint(e,"You feel a strong urge to leave this plane!",
"The <EVictim> feels an urge to leave this plane!");
ThrowDmg(42,0,0,"banishment",EActor,EVictim);
return 1;
};
tval: -102; Flags: 5;
Purpose: 0x00001;
}

52 Spell "Etherealness" : 3
{
0x00000100; Level: 6; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 60;
#line "pspells.irh" 5373
aval: 11; tval: 109; lval: 8; cval: 3;
Desc: "Casting this spell shifts the caster (and all of her
      equipment), along wil all of her allies within 80 feet, 
      into the ethereal plane until the caster elects to cancel
      the spell. While ethereal, the caster is incorporeal and
      invisible with regard to creatures on the material plane, 
      but can interact physically with other ethereal creatures.";
xval: 102; yval: 3;
Flags: 66, 61, 54, 4;
On Event 28
"You cross into the ethereal plane.",
84
"You return to the material plane.";
}

52 Spell "Heal;spell" : 26
{ 0x00000200; Base: 90; Cost: 15; Level: 6; qval: 0x0004|0x0100;
xval: 0x01|0x04|0x08|0x10|0x20;
Purpose: 0x00080;
On Event 170 {
e.vDmg = 5000;
return 0;
};
Desc: "Heals the target fully and cures experience drain, attribute 
      damage and fatigue. In addition, it removes a number of maladies 
      (e.g., poison, disease, stunning).";
}

52 / 2 Spell "Harm" : 1
{ 0x00000040; Base: 95; Cost: 12; Level: 6; aval: 6;
Flags: 66; Purpose: 0x00001; lval: 1;
On Event 37
"Your hands glow with a black aura." /
"The <EActor>'s hands glow with a black aura.",
28 {
int32 dmg;
dmg = EVictim->cHP - min(EVictim->cHP,max(1d4+1,
EVictim->cHP - ((EVictim->mHP*2) / 3)));
if (dmg && EVictim->ResistLevel(6) != -1 &&
!EVictim->HasEffStati(187,$"Harm",-1,EActor)) {
VPrint(e,"Wounds appear on your body!",
"Wounds appear on the <EVictim>'s body!");
ThrowDmg(41,6,dmg,"harm",EActor,EVictim);
EVictim->GainTempStati(187,EActor,-2,7,0,0,$"Harm");
}
else
e.Immune = true;
return 1;
};
Desc: "Casting this spell grants the caster a touch attack which
      inflicts necromantic damage equal to two-thirds the victim's total
      hit points when healthy, bringing the victim to a minimum of
      1d4+1 hit points -- this spell cannot kill its subject, and a
      victim can be subject to only one <9>harm<1> spell per day. Only
      one such touch is allowed per casting.";
}

52 Spell "Heroes' Feast" : 26
{ 0x00000200; Base: 60; Cost: 40; Level: 6; Purpose: 0x00000;
aval: 11; cval: 15; lval: 10; tval: 109;
Flags: 85, 4;
Desc: "Casting this spell conjures a lavish feast, complete with
      chairs and a grand feast table, with more than sufficient food
      for all the creatures in the caster's party. The food created
      has a spiritual quality like the mythical ambrosia, curing ills
      and replenishing the spirit of all who partake for the full 
      length of the feast. Consuming the feast takes a full hour, so
      obviously this spell cannot be cast in combat. When in a secure
      area, casting this spell affects the priest and all allied 
      creatures within 100 feet. Creatures that cannot eat -- undead,
      constructs, vortices and elementals -- do not benefit, but even
      outsiders and aberrations can replenish themselves with this
      spell.\n
      __Those who partake of the feast automatically become satiated.
      They heal 3d10 points of damage, 3d10 / 5 points of attribute damage,
      are cured of any diseases they possess and are rendered immune to 
      poison and fear for the rest of the day. Participants gain a +1 
      morale bonus to all rolls, and a sacred bonus to saving throws 
      equal to the priest's Wisdom modifier. Finally, every participant 
      in the feast is renewed and reinvigorated, regaining a number of 
      fatigue points equal to the total number of participants.\n
      __Holding a <9>heroes' feast<1> requires a minimum of 3
      participating characters. If the feast is interrupted by an
      encounter or other event, no benefit is gained.";
int32 n;
On Event (52+500) {
hObj cr; n = 0;
for (cr=EMap->FirstThing();cr;cr=EMap->NextThing())
if (cr->isCreature() && cr->DistFrom(EActor) <= 10)
if (cr->isFriendlyTo(EActor))
n++;
if (n < 3)
{
EActor->IPrint("There must be at least 3 participants in a
            <9>Heroes' Feast<1>.");
return 2;
}
EActor->IDPrint("You conjure a lavish feast, and you and your
        allies sit down to eat.", "The <hObj1> conjures a lavish
        feast, and <he:hObj1> and <his:hObj1> allies sit down to
        eat.",EActor);

if (EPlayer->SpendHours(1,1) != 1)
{
APrint(e,"The enchantment broken by the disruption, the
            feast and furnishings fade from existance.");
return 1;
}

return 0;
},
(28+500) {
if (e.efNum == 5)
e.vDmg = max(0,EActor->Mod(4));
else if (e.efNum == 6)
e.vDmg = n;
if (EVictim->HasStati(80))
EVictim->SetStatiDur(80,-1,NULL,2800);
return 0;
},
155 {
if (EVictim->isMType(76) ||
EVictim->isMType(36) ||
EVictim->isMType(38) ||
EVictim->isMType(29))
return -1;
return 0;
},
(83+1000)
"You and your companions consume the feast, feeling renewed and
        replenished by food as much spirit as matter.";
xval: 0x01|0x08; pval: 3d10;
}
and 26
{ xval: 0x10; yval: 19; }
and 3
{ xval: 177; yval: 28; }
and 3
{ xval: 177; yval: 60; }
and 3
{ xval: 114; yval: 51; pval: +1; }
and 3
{ xval: 107; yval: 52; }
and 26
{ xval: 0x20; }


52 Spell "Holy Summoning VI" : 9
{ 0x00000100; Base: 75; Cost: 13; Level: 6; qval: 0x0002;
Purpose: 0x00100; xval: 119; pval: 6;
Desc: "Summons an outsider of CR 6 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 6+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "pspells.irh" 5527
50 / 52 Spell "Undeath to Death" : 1
{ 0x00000040; aval: 3; lval: 3; cval: 15;
Base: 90; Cost: 12; Level: 6; qval: 0x0004; pval: (-101)d8;
Desc: "Destroys any undead creature caught within a 60-foot globe
      centered on the caster that currently has fewer than (1d8 per 
      caster level) hit points. The effect is all-or-nothing, and no 
      saving throw is allowed.";
On Event 28 {
if (EVictim->cHP > e.vDmg)
{
e.Immune = true;
return 1;
}
VPrint(e,"You return to death!",
"The <EVictim> returns to death!");
ThrowDmg(42,0,0,"Undeath to Death",EActor,EVictim);
return 1;
};
tval: 76; Flags: 4, 63;
Purpose: 0x00001;
}

52 Spell "Glyph of Warding, Greater" : 5
{ 0x00000002; Base: 95; Cost 12; Level: 6; qval: 0x0002;
xval: 6; Purpose: 0x00000;
rval: $"strange rune"; sval: 1; pval: (-126)d8;
Desc: "Turns one chosen floor square into a powerful rune that explodes
      for 1d8 damage per level (max 10d8) when stepped on.";
On Event 206
"A strange rune materializes on the ground."; }
#line "pspells.irh" 5592
Effect "Conjure Earth Elemental" : 25 { }



52 Spell "Blasphemy" : 46
{ 0x00000200; Base: 60; Cost: 32; Level: 7;
aval: 11; lval: 12; cval: 4; Flags: 55;
Desc: "Not dissimilar to the arcane Power Word spells, this spell
      allows a priest to speak a word resonating with such absolute
      power that it stuns, weakens, paralyzes or kills good creatures,
      and banishes good outsiders if used on their home plane. The
      effects depend upon the creature's Challenge Rating in comparison
      to the priest's caster level + Charisma modifier (henceforth 
      called the blasphemy power), as follows:\n
      __*_If the creature's CR exceeds the blasphemy power, it is 
      unaffected.
      __*_Otherwise, if the creature's [CR + 3] exceeds the blasphemy
      power, it is only stunned for 1d4 rounds.\n
      __*_Otherwise, if the creature's [CR + 6] exceeds the blasphemy
      power, it is stunned for 3d6 rounds and also weakened, suffering
      2d6 points of Strength damage.\n
      __*_Otherwise, if the creature's [CR + 9] exceeds the blasphemy
      power, it is stunned for 3d6 rounds, weakened for 2d6 Strength
      damage and paralyzed for 3d6 rounds.\n
      __*_Otherwise, the creature is killed. If it has some means of
      avoiding death (such as a <9>death ward<1> spell, or an Amulet
      of Life Saving), it is stunned, weakened and paralyzed as above.
      __The speaking of a blasphemy spell affects all creatures within
      120 feet of the caster, consumes two fatigue points and affects
      neutral creatures at 1/2 normal blasphemy power. Evil creatures
      are unaffected by the spell. In addition to the effects listed
      above, good outsiders must succeed in a Will saving throw or be
      banished instantly -- this is the only part of the spell subject
      to a saving throw.";
On Event 28 {
int32 vPower, vCR;
vPower = EActor->CasterLev() + EActor->Mod(5);
vCR = EVictim->ChallengeRating();
if (EVictim->isMType(103))
{
e.Immune = true;
return 1;
}
if (!EVictim->isMType(106))
vPower /= 2;
else if (EVictim->isMType(48))
{
if (!EVictim->SavingThrow(2,e.saveDC,0x00000001|0x00000002|0x00008000))
{
VPrint(e,"You feel a strong urge to leave this plane!",
"The <EVictim> is scoured from this plane!");
ThrowDmg(42,0,0,"banishment",EActor,EVictim);
if (EVictim->isDead())
return 1;
}
}

if (vPower >= vCR + 9 && EVictim->ResistLevel(6) != -1)
{
VPrint(e,"You are slain by the blasphemy!",
"The <EVictim> is slain!");
ThrowDmg(42,6,0,"hearing a blasphemy spell",
EActor, EVictim);
if (EVictim->isDead())
return 1;
}
if (vPower >= vCR + 6 && EVictim->ResistLevel(18) != -1)
{
VPrint(e,"You are paralyzed by the blasphemy!",
"The <EVictim> is paralyzed!");
EVictim->GainTempStati(9,NULL,3d6,6,0);
}
if (vPower >= vCR + 3)
{
VPrint(e,"You are weakened by the blasphemy!",
"The <EVictim> is weakened!");
ThrowDmg(41, 50,2d6,"hearing a blasphemy spell",
EActor, EVictim);
if (EVictim->isDead())
return 1;
}
if (vPower >= vCR)
{
VPrint(e,"You are stunned by the blasphemy!",
"The <EVictim> is stunned!");
EVictim->GainTempStati(5,NULL, (vPower >= vCR + 3)
? 3d6 : 1d4,6);
}
else
e.Immune = true;
return 1;
},
206
"You utter words of unspeakable vileness, and your skin crawls." /
"The <EActor> utters words of unspeakable vileness, and your skin crawls.";
}
#line "threats.irh" 5
Disease "filth fever" : 4
{
Level: 1;
cval: 100;
sval: 12;
lval: 7;
xval: 52; pval: 1d2;
Desc: "A horrible affliction spread by squalor and unclean living
      conditions, filth fever inflicts 1d2 points of Constitution damage
      and 1d2 points of Dexterity damage every 100 turns. It requires
      7 successful saving throws against DC 12 to overcome fully.";
}
and 4
{ xval: 51; pval: 1d2; }

Disease "grave rot" : 4
{
Level: 1;
cval: 200;
sval: 15;
lval: 3;
xval: 52; pval: 1d6;
Desc: "A horrible affliction spread by bone delvers, grave rot
      inflicts 1d6 points of Strength and Constitution damage
      every 200 turns. It requires 3 successful saving throws against
      DC 15 to overcome fully.";
}
and 4
{ xval: 50; pval: 1d6; }

Disease "blinding sickness" : 4
{
Level: 2;
cval: 100;
sval: 16;
lval: 6;
xval: 50; pval: 1d4;
On Event (41+1000) {
if (EVictim->GetEffStatiMag(112,$"blinding sickness") >= 6)
if (!EVictim->HasEffStati(3,$"blinding sickness"))
EVictim->GainTempStati(3,NULL,-2,7,0,0,$"blinding sickness");
};
Desc: "This painful disease eventually blinds its victim by causing
      the blood vessels in the eyes to rupture. It inflicts 1d4 points
      of Strength damage every 100 turns, and requires 6 successful saving
      throws against DC 16 to overcome fully. Once the victim has lost six
      or more points of Strength, they are also struck blind.";
}

Disease "cackle fever" : 4
{
Level: 3;
cval: 30;
sval: 16;
lval: 14;
xval: 54; pval: 1d1;
Desc: "This disease damages the brain, causing a slow spread of erratic
      behaviour, loss of acuity and eventual insanity. It inflicts 1 point
      of Wisdom damage every 30 turns, and requires 14 successful saving
      throws against DC 16 to overcome.";
}

Disease "devil chills" : 4
{
Level: 7;
cval: 400;
sval: 18;
lval: 3;
xval: 50; pval: 1d2;
Flags: 57;
Desc: "Originating in the Nine Hells and spread by devils, this disease
      is almost always fatal to normal people. It is slow to spread, inflicting
      1d2 points of Strength damage every 400 turns, but requires 3 <11>consecutive<7>
      successful saving throws against DC 18 to be overcome.";
}

Disease "demon fever" : 4
{
Level: 7;
cval: 30;
sval: 18;
lval: 9;
xval: 52; pval: 1d4;
Desc: "Spread by creatures of the Abyss, this horrible plague eats away
      the body from within. Progressing rapidly, it inflicts 1d4 points of
      Constitution damage every 30 turns, and requires 9 successful saving
      throws against DC 18 to overcome.";
}

Disease "mindfire" : 4
{
Level: 3;
cval: 50;
sval: 12;
lval: 12;
xval: 53; pval: 1d1;
Desc: "A twisted and painful disease causing nosebleeds, hemmorages
      in the brain and eventual insanity, aneurism and death, mindfire is
      believed to have been psionically engineered by the illithids as a
      weapon against the surface world. It inflicts 1 point of Intelligence
      damage every 50 turns, and requires 12 successful saves against DC 12
      to overcome.";
}

Disease "mummy rot" : 4
{
Level: 5;
cval: 30;
sval: 20;
lval: 14;
xval: 52; pval: 1d1;
Desc: "Inflicted by the touch of a mummy, this disease causes extreme
      dehydration in the body, eventually leading to the victim's skin and
      tissue turning brittle and peeling away. In the end, all that's left
      is dust. Mummy rot inflicts 1 point of Constitution damage every 30
      turns, and requires 14 successful saves against DC 20 (!) to overcome.";
}

Disease "red ache" : 4
{
Level: 2;
cval: 150;
sval: 15;
lval: 7;
xval: 50; pval: 1d3;
Desc: "This sickness causes joints to become swollen and inflamed,
      making movement painful. It inflicts 1d3 points of Strength damage
      every 150 turns, and requires 7 successful saving throws against DC
      15 to overcome.";
}

Disease "the Shakes" : 4
{
Level: 2;
cval: 70;
sval: 13;
lval: 7;
xval: 51; pval: 1d3;
Desc: "This disease causes uncontrollable trembling and shaking, and
      as it progresses causes seizures and complete loss of motor control.
      It inflicts 1d3 points of Dexterity damage every 70 turns, and requires
      7 successful saving throws against DC 13 to overcome.";
}

Disease "slimy doom" : 4
{
Level: 5;
cval: 200;
sval: 19;
lval: 12;
xval: 52; pval: 1d2;
Desc: "This twisted affliction damages a victim's tissues, eventually
      causing their skin and body to liquefy. It is accompanied by cysts
      and lesions forming on the body, as well as the victim's pores exuding
      a mucus-like substance. Slimy doom inflicts 1d2 points of Constitution
      damage every 200 turns, and requires 12 successful saving throws versus
      DC 19 to overcome.";
}
#line "threats.irh" 168
Poison "greenblood oil" : 4
{
Level: 1;
cval: 7;
sval: 13;
lval: 2;
xval: 52; pval: 1d2;
Desc: "This mild toxin inflicts <11>1d2<7> points of Constitution
    damage every <11>7<7> turns, and requires <11>2<7> successful saving throws
    against <11>DC 13<7> to overcome.";
}

Poison "bloodroot" : 4
{
Level: 1;
cval: 20;
sval: 12;
lval: 3;
xval: 52; pval: 1d3;
Desc: "This poison inflicts <11>1d3<7> points of Constitution damage every 
      <11>20<7> turns, and requires <11>3<7> saving throws against <11>DC 12<7> 
      to overcome.";
}
and 4
{ xval: 54; pval: 1d2; }

Poison "blue whinnis" : 4
{
Level: 2;
cval: 4;
sval: 12;
lval: 3;
xval: 52; pval: 1d2;
#line "threats.irh" 208
Desc: "This poison inflicts <11>1d2<7> points of Constitution damage every 
      <11>4<7> turns, and requires <11>3<7> saving throws against <11>DC 12<7> 
      to overcome.";
}

Poison "giant bee venom" : 4
{
Level: 4;
cval: 4;
sval: 11;
lval: 2;
xval: 52; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Constitution damage every 
      <11>4<7> turns, and requires <11>2<7> saving throws against <11>DC 11<7> 
      to overcome.";
}

Poison "giant wasp venom" : 4
{
Level: 4;
cval: 4;
sval: 18;
lval: 2;
xval: 51; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Dexterity damage every 
      <11>4<7> turns, and requires <11>2<7> saving throws against <11>DC 18<7> 
      to overcome.";
}

Poison "shadow essence" : 4
{
Level: 3;
cval: 7;
sval: 17;
lval: 3;
xval: 50; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>3<7> saving throws against <11>DC 17<7> 
      to overcome.";
}

Poison "black adder venom" : 4
{
Level: 1;
cval: 8;
sval: 12;
lval: 3;
xval: 50; pval: 1d3;
Desc: "This poison inflicts <11>1d3<7> points of Strength damage every 
      <11>8<7> turns, and requires <11>3<7> saving throws against <11>DC 12<7> 
      to overcome.";
}

Poison "deathblade" : 4
{
Level: 7;
cval: 3;
sval: 20;
lval: 3;
xval: 52; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>3<7> turns, and requires <11>3<7> saving throws against <11>DC 20<7> 
      to overcome.";
}

Poison "malyss root paste" : 4
{
Level: 2;
cval: 5;
sval: 13;
lval: 3;
xval: 51; pval: 1d3;
Desc: "This poison inflicts <11>1d3<7> points of Dexterity damage every 
      <11>5<7> turns, and requires <11>3<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Poison "nitharit" : 4
{
Level: 3;
cval: 2;
sval: 13;
lval: 2;
xval: 52; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Constitution damage every 
      <11>2<7> turns, and requires <11>2<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Poison "dragon bile" : 4
{
Level: 7;
cval: 7;
sval: 26;
lval: 2;
xval: 50; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 26<7> 
      to overcome.";
}

Poison "sassone leaf residue" : 46
{
Level: 5;
cval: 4;
sval: 16;
lval: 3;
On Event 28 {
ThrowDmg(41,5,3d6,"sassone leaf residue",EVictim,EVictim);
return 1;
};
Desc: "This poison inflicts <11>3d6<7> hit points worth of toxic damage every 
      <11>4<7> turns, and requires <11>3<7> saving throws against <11>DC 16<7> 
      to overcome.";
}

Poison "terinav root" : 4
{
Level: 4;
cval: 4;
sval: 16;
lval: 3;
xval: 51; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Dexterity damage every 
      <11>4<7> turns, and requires <11>3<7> saving throws against <11>DC 16<7> 
      to overcome.";
}

Poison "carrion crawler brain juice" : 3
{
Level: 8;
cval: 20;
sval: 18;
lval: 1;
xval: 9;
Flags: 25;
Desc: "This poison causes complete paralysis, with an onset time of <11>20<7> 
      turns, and requires <11>1<7> saving throw against <11>DC 18<7> to overcome.";
}

Poison "black lotus extract" : 4
{
Level: 7;
cval: 3;
sval: 20;
lval: 3;
xval: 52; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>3<7> turns, and requires <11>3<7> saving throws against <11>DC 20<7> 
      to overcome.";
}

Poison "id moss" : 4
{
Level: 5;
cval: 4;
sval: 15;
lval: 5;
xval: 53; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Intelligence damage every 
      <11>4<7> turns, and requires <11>5<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Poison "striped toadstool" : 4
{
Level: 1;
cval: 3;
sval: 11;
lval: 3;
xval: 53; pval: 1d3;
Desc: "This poison inflicts <11>1d3<7> points of Intelligence damage and
      <11>1d2<7> points of Wisdom damage every 
      <11>3<7> turns, and requires <11>3<7> saving throws against <11>DC 11<7> 
      to overcome.";
}
and 4
{ xval: 54; pval: 1d2; }

Poison "arsenic" : 4
{
Level: 2;
cval: 4;
sval: 13;
lval: 3;
xval: 52; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Constitution damage every 
      <11>4<7> turns, and requires <11>3<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Poison "lich dust" : 4
{
Level: 5;
cval: 4;
sval: 17;
lval: 3;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>4<7> turns, and requires <11>3<7> saving throws against <11>DC 17<7> 
      to overcome.";
}

Poison "dark reaver powder" : 4
{
Level: 8;
cval: 6;
sval: 18;
lval: 6;
xval: 52; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Constitution damage and
      <11>1d2-1<7> points of Strength damage every 
      <11>6<7> turns, and requires <11>6<7> saving throws against <11>DC 18<7> 
      to overcome.";
}
and 4
{ xval: 50; pval: 1d2 + (-1); }

Poison "ungol dust" : 4
{
Level: 3;
cval: 3;
sval: 15;
lval: 3;
xval: 55; pval: 1d3;
Desc: "This poison inflicts <11>1d3<7> points of Charisma damage every 
      <11>3<7> turns, and requires <11>3<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Poison "karmic venom" : 4
{
Level: 2;
cval: 4;
sval: 15;
lval: 3;
xval: 56; pval: 1d3;
Desc: "This poison inflicts <11>1d3<7> points of Luck damage every 
      <11>4<7> turns, and requires <11>3<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Poison "burnt othur fumes" : 4
{
Level: 4;
cval: 10;
sval: 15;
lval: 1;
xval: 52; pval: 3d6;
Desc: "This poison inflicts <11>3d6<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>1<7> saving throw against <11>DC 15<7> 
      to overcome.";
}

Poison "insanity mist" : 4
{
Level: 3;
cval: 4;
sval: 15;
lval: 4;
xval: 54; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Wisdom damage every 
      <11>4<7> turns, and requires <11>4<7> saving throws against <11>DC 15<7> 
      to overcome.";
}
#line "threats.irh" 478
Feature "trap" : 12
{
Image: grey 232;
Mat: 28;
}
#line "threats.irh" 506
36 Effect "bloodroot dart trap" : 1
{ cval: 10; xval: 12; pval: 1d4+1; sval: 1;
Flags: 33, 96; Level: 1;
On Event 200 "dart",
83 {
hObj it;
ThrowDmgEff(41,60,3d6,"bloodroot dart trap",$"bloodroot",EVictim,EVictim,NULL,NULL);
it = CreateItem($"dart");
if (it) {
it->GainPermStati(2,NULL,7,0,1,$"bloodroot");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
};
On Event 168 {
hObj it;
it = CreateItem($"dart");
it->SetQuantity(6d3);
it->GainPermStati(2,NULL,7,0,2,$"bloodroot");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "greenblood needle trap" : 46
{ cval: 10; Flags: 33, 96; sval: 1; Level: 5;
On Event 28 {
VPrint(e,"A tiny needle strikes you!",
"A tiny needle strikes the <EVictim>.");
ThrowDmgEff(41,60,3d6,"greenblood needle trap",$"greenblood oil",EVictim,EVictim,NULL,NULL);
return 1;
};
On Event 168 {
hObj it;
it = CreateItem($"small glass vial");
it->GainPermStati(2,NULL,7,0,6d3,$"greenblood oil");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "razor-wire trap" : 1
{ cval: 14; xval: 11; pval: 2d6; sval: 1;
Flags: 33, 96; Level: 1;
On Event 200 "razor-wire",
83 {
ThrowDmg(41,67,20,"razor-wire trap",EActor,EActor);
} ;
}

36 Effect "confusion trap" : 4
{ cval: 13; xval: 26; Level: 1; pval: 3d12+3;
Flags: 53; sval: 2; }

36 Effect "fear trap" : 4
{ cval: 13; xval: 28; Level: 1; pval: 3d12+3;
Flags: 53, 70; sval: 2; }

36 Effect "slow trap" : 3
{ cval: 14; sval: 1; Level: 1;
xval: 106; yval: 26; pval: -10;
Flags: 85; }
and 3
{ xval: 106; yval: 54; pval: -10; }

36 Effect "stunning trap" : 4
{ cval: 14; xval: 17;
pval: 3d12+3; sval: 1; Level: 1;
Flags: 25; }

36 Effect "bane trap" : 3
{ cval: 13; xval: 114; yval: 51; pval: -1;
sval: 2; Flags: 53, 85; Level: 1;
On Event 206
"You feel threatened!" /
"The <EVictim> feels threatened."; }

36 Effect "howling trap" : 46
{ cval: 12; Flags: 33; sval: 1; Level: 1;
On Event 28 {
VPrint(e,"A piercing burst of sound strikes you ...",
"A piercing wail echoes through the dungeon...");
ThrowDmg(41,10,1d6,"howling trap",EVictim,EVictim);
EVictim->MakeNoise(150);
return 1;
};
}

36 Effect "fatigue trap" : 46
{ cval: 9; sval: 0; Level: 1;
On Event 28 {
EVictim->IPrint("You suddenly feel exhausted!");
EVictim->LoseFatigue(2d3,false);
return 1;
};
}

36 Effect "minor dimensional anchor trap" : 3
{ cval: 14; xval: 133; sval: 1; Level: 1;
Flags: 85;
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
Desc: "While dimensionally anchored you cannot teleport.";
}

36 Effect "minor rust trap" : 4
{ cval: 6; xval: 39; pval: 1d10; sval: 1; Level: 2; qval: 0x0010;}
36 Effect "minor decay trap" : 4
{ cval: 6; xval: 57; pval: 1d10; sval: 1; Level: 2; qval: 0x0010;}
36 Effect "minor soaking trap" : 4
{ cval: 6; xval: 74; pval: 1d10; sval: 1; Level: 2; qval: 0x0010;
Flags: 33; }
36 Effect "minor disruption trap" : 1
{ cval: 6; xval: 13; pval: 1d10; sval: 1;
qval: 0x0010;
Level: 1;
On Event 200 "blast of rending force"; }

36 Effect "grease trap" : 5
{ cval: 14; Level: 2; sval: 1; Flags: 54, 33;
xval: 6; rval: $"pool of grease"; aval: 11; lval: 3;
On Event 206 "Grease rises up from the trap!";
}

36 Effect "reduce trap" : 3
{ cval: 13; Level: 1; sval: 1; Flags: 61, 85;
xval: 106; yval: 25; pval: -1;
On Event 205 "Reduced";
On Event 206
"You suddenly shrink!" /
"The <EVictim> looks smaller.";
On Event 84
"You return to your normal size." /
"The <EActor> grows larger again.";
Desc: "A reduce trap shrinks its victim by one size category
      for a day.";
}

36 Effect "light trap" : 4
{ cval: 13; xval: 24; pval: 3d4; sval: 1; Level: 1;
Flags: 25;
On Event 206
"A brilliant flash of light blinds you!" /
"A brilliant flash of light blinds the <EVictim>..."; }

36 Effect "faerie fire trap" : 46
{ cval: 13; Level: 1; sval: 0;
On Event 28 {
RedirectEff(e,$"faerie fire",52);
EVictim->SetEffStatiDur(-1,$"faerie fire",-2);
};
}

36 Effect "stinking cloud trap" : 46
{ cval: 13; Level: 1; sval: 1; Flags: 33;
On Event 28 {
RedirectEff(e,$"stinking cloud",52);
};
}

36 Effect "pit trap" : 5
{ cval: 11; Level: 1; sval: 1; Flags: 33, 54;
xval: 6; rval: $"pit"; aval: 11; lval: 1;
On Event 206
"The ground falls away!" /
"The ground falls away beneath the <EActor>!",
(52+1000) {
hObj cr; int32 x, y;
EItem->Remove(true);
x = EActor->x; y = EActor->y;
return 0;
};
}

Terrain "pit"
{
Image: brown '0'; Mat:28;
Flags: 6, 5, 12, 27;
On Event 50 {
if (EActor->isAerial())
return 0;
EActor->IDPrint("You fall into the pit!",
"The <hObj> falls into a pit!", EActor);
ThrowDmg(41,94,2d6,"a pit trap",EActor,EActor);
return 0;
},
(3+500) {
return 2;
},
167 {
EActor->IPrint("You cannot jump when stuck in a pit.");
return 2;
},
(1+500) {
if (EActor->isAerial())
return 0;
if (EActor->HasStati(15))
return 0;
EActor->Timeout += 30;
if (!EActor->SkillCheck(7,20,true)) {
EActor->IPrint("You try to climb out of the pit, but fall back in!");
ThrowDmg(41,94,2d6,"failing to climb out of a pit trap",
EActor,EActor);
return 1;
}
EActor->IPrint("You climb out of the pit.");
return 0;
},
(18+2000), (17+2000) {

if (EActor->x == EVictim->x && EActor->y == EVictim->y)
return 0;
if (EVictim->isAerial())
return 0;
EActor->IPrint("You can't reach the <hObj> inside the pit!", EVictim);
return 2;
},
18, 17 {

if (EActor->x == EVictim->x && EActor->y == EVictim->y)
return 0;
if (EActor->isAerial())
return 0;
EActor->IPrint("You can't reach the <hObj> while you're inside the pit!", EVictim);
return 2;
},
161 {
if (EActor->isAerial())
return 0;
return 2;
};
}



36 Effect "sunscorch trap" : 46
{ cval: 12; Level: 2; sval: 0;
On Event 28 {
RedirectEff(e,$"sunscorch",52);
};
}

36 Effect "dimension door trap" : 6
{ cval: 14; xval: 2;
pval: 3d10; sval: 2; Level: 2;
} and 4 {
xval: 17; pval: 2d2; sval: 2; Flags: 53;
}

36 Effect "miscast magic trap" : 3
{ cval: 13; xval: 117; yval: 55; pval: -8;
sval: 2; level: 2; Flags: 85; }

36 Effect "cold trap" : 1
{ cval: 12; Level: 2; aval: 11; lval: 2;
pval: 3d6; xval: 2; sval: 1; }

36 Effect "minor falling stone trap" : 1
{ cval: 9; xval: 13; pval: 2d6;
sval: 1; Flags: 33; Level: 2;
On Event 200
"falling stone",
28 {
hObj h;
h = CreateItem($"boulder");
h->PlaceAt(EMap,EVictim->x,EVictim->y);
return 0;
};
}

36 Effect "inflict light wounds trap" : 1
{ cval: 8; Level: 2;
pval: 1d8+1; xval: 6; sval: 2; }

36 Effect "javelin trap" : 1
{ cval: 9; xval: 12; pval: 1d6+4; sval: 1;
Flags: 33, 96; Level: 2;
On Event 200 "javelin",
83 {
hObj it;
it = CreateItem($"javelin");
if (it) {
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
},
168 {
hObj it;
it = CreateItem($"javelin");
it->SetQuantity(6d3);
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "small trapdoor trap" : 5
{ cval: 11; Level: 2; sval: 1; Flags: 33;
xval: 6; rval: $"chasm"; aval: 11; lval: 1;
On Event 206 "The ground falls away!",
(52+1000) {
EItem->Remove(true);
return 0;
};
}

36 Effect "blue whinnis needle trap" : 46
{ cval: 10; Flags: 33, 96; sval: 1; Level: 2;
On Event 28 {
VPrint(e,"A tiny needle strikes you!",
"A tiny needle strikes the <EVictim>.");
ThrowDmgEff(41,60,3d6,"blue whinnis needle trap",$"blue whinnis",EVictim,EVictim,NULL,NULL);
return 1;
};
On Event 168 {
hObj it;
it = CreateItem($"small glass vial");
it->GainPermStati(2,NULL,7,0,6d3,$"blue whinnis");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "arsenic dart trap" : 1
{ cval: 10; xval: 12; pval: 2d4+2; sval: 1;
Flags: 33, 96; Level: 2;
On Event 200 "dart",
83 {
hObj it;
ThrowDmgEff(41,60,3d6,"arsenic dart trap",$"arsenic",EVictim,EVictim,NULL,NULL);
it = CreateItem($"dart");
if (it) {
it->GainPermStati(2,NULL,7,0,1,$"arsenic");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
};
On Event 168 {
hObj it;
it = CreateItem($"dart");
it->SetQuantity(6d3);
it->GainPermStati(2,NULL,7,0,2,$"arsenic");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "tripping chain trap" : 1
{ cval: 9; xval: 11; pval: 2d4+2; sval: 1;
Flags: 33; Level: 2;
On Event 200
"tripping chain",
83 {
ThrowDmg(41,67,25,"tripping chain trap",EActor,EActor);
} ;
On Event 168 {
hObj it;
it = CreateItem($"spiked chain");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "caltrop trap" : 5
{ cval: 14; Level: 2; sval: 1; Flags: 54;
xval: 6; rval: $"bed of spikes"; aval: 11; lval: 3;
On Event 206 "Spikes rises up from the ground!";
Flags: 33;
}

36 Effect "swarm of insects trap" : 46
{ cval: 13; Level: 2; sval: 0;
On Event 28 {
RedirectEff(e,$"summon swarm",52);
};
}



36 Effect "pain trap" : 3
{ cval: 13; xval: 121; yval: 51; pval: -3;
sval: 2; Level: 1; tval: 75;
Flags: 25, 4, 61, 85;
On Event 205 "Pain" / "Pain";
On Event 206
"You are wracked with pain!" /
"The <EVictim> howls in agony!"; }

36 Effect "cold metal trap" : 46
{ cval: 12; Level: 3; sval: 1;
On Event 28 {
RedirectEff(e,$"chill metal",52);
};
}

36 Effect "heat metal trap" : 46
{ cval: 12; Level: 3; sval: 1;
On Event 28 {
RedirectEff(e,$"heat metal",52);
};
}

36 Effect "dispelling trap" : 46
{ cval: 6; Level: 3; sval: 2;
On Event 28 {
RedirectEff(e,$"dispel magic",52);
};
}
36 Effect "dispelling trap;2" : 46
{ cval: 6; Level: 3; sval: 2;
On Event 28 {
RedirectEff(e,$"dispel magic",52);
};
}
36 Effect "dispelling trap;3" : 46
{ cval: 6; Level: 3; sval: 2;
On Event 28 {
RedirectEff(e,$"dispel magic",52);
};
}


36 Effect "dimensional anchor trap" : 3
{ cval: 14; xval: 133; sval: 1; Level: 3;
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
Desc: "While dimensionally anchored you cannot teleport.";
On Event 170 {
e.vDuration = -3;
return 0;
};

}

36 Effect "rust trap" : 4
{ cval: 6; xval: 39; pval: 3d10; sval: 1; Level: 3;
qval: 0x0010; }

36 Effect "decay trap" : 4
{ cval: 6; xval: 57; pval: 3d10; sval: 1; Level: 3;
qval: 0x0010; }

36 Effect "soaking trap" : 4
{ cval: 6; xval: 74; pval: 3d10; sval: 1; Level: 3;
qval: 0x0010; Flags: 33; }

36 Effect "disruption trap" : 4
{ cval: 6; xval: 13; pval: 3d5; sval: 1;
qval: 0x0010; Level: 3;
On Event 200 "blast of rending force"; }


36 Effect "inflict moderate wounds trap" : 4
{ cval: 8; Level: 3;
pval: 2d8+2; xval: 6; sval: 2; }

36 Effect "famine trap" : 46
{ cval: 13; sval: 0; Level: 3;
On Event 28 {
if (!EVictim->HasStati(80))
return 1;
EVictim->IPrint("You suddenly feel pangs of hunger!");
EVictim->SetStatiDur(80,-1,NULL,
EVictim->GetStatiDur(80,-1,NULL) / 5 );
return 1;
};
}

36 Effect "fire trap" : 1
{ cval: 12; xval: 1; pval: 3d6; sval: 1 partial;
Level: 3; On Event 200 "column of flame";
Flags: 33;}

36 Effect "entangling spray trap" : 1
{ cval: 14; xval: 14; pval: -1; sval: 1; Level: 3;
Flags: 33;
On Event 206
"Sticky threads spray up around you..." /
"Sticky threads spray up around the <EVictim>..."; }

36 Effect "teleport trap" : 6
{ cval: 14; xval: 2;
pval: 6d10; sval: 2; Level: 3;
} and 4 {
xval: 17; pval: 4d4; sval: 2; Flags: 53;
}

36 Effect "minor mana trap" : 4
{ cval: 8; xval: 33; pval: 3d10; sval: 2; Level: 3;
On Event (83+1000) {
ThrowDmg(41,8,e.vDmg,"mana trap",EVictim,EVictim);
};
On Event 206
"Your mana is drained and redirected to strike you!" /
"The <EVictim> is hit by a magical assault!";
}

36 Effect "falling stone trap" : 1
{ cval: 9; xval: 13; pval: 4d6;
sval: 1; Flags: 33; Level: 3;
On Event 200
"falling stone",
28 {
hObj h;
h = CreateItem($"boulder");
h->PlaceAt(EMap,EVictim->x,EVictim->y);
return 0;
};
}

36 Effect "wasp nest trap" : 46
{ cval: 13; Level: 3; sval: 0; Flags: 33;
On Event 28 {
RedirectEff(e,$"insect plague",52);
};
}

36 Effect "idiocy trap" : 4
{ xval: 53; pval: 3d2; sval: 0;
cval: 9; Level: 4; }
and 4 { xval: 54; pval: 3d2; sval: 0; }
and 4 { xval: 55; pval: 3d2; sval: 0; }



36 Effect "major magic trap" : 3
{ cval: 13; xval: 117; yval: 55; pval: -16;
sval: 2; level: 4; }

36 Effect "minor lightning bolt trap" : 1
{ cval: 12; xval: 4; pval: 5d6; sval: 1 partial;
Level: 4; On Event 200 "lightning bolt"; }

36 Effect "blackmantle trap" : 46
{ cval: 8; Level: 4; sval: 2;
On Event 28 {
RedirectEff(e,$"blackmantle",52);
ThrowDmg(41,6,2d8,"blackmantle trap",EVictim,EVictim);
};
}

36 Effect "holding trap" : 3
{ cval: 14; Level: 4; sval: 2;
xval: 9;
}

36 Effect "inflict serious wounds trap" : 1
{ cval: 8; Level: 4;
pval: 3d8+3; xval: 6; sval: 2; }

36 Effect "cursing trap" : 46
{ cval: 6; Level: 4; sval: 2;
On Event 28 {
RedirectEff(e,$"bestow curse",52);
};
}

36 Effect "weakening trap" : 4
{ xval: 50; pval: 4; sval: 1; cval: 9; Level: 4;
Flags: 33;
On Event 206
"Tiny needles pierce your skin... you feel weak." /
"Tiny needles pierce the <EVictim>!"; }

36 Effect "numbing trap" : 4
{ xval: 51; pval: 4; sval: 1; cval: 9; Level: 4;
Flags: 33;
On Event 206
"Tiny needles pierce your skin... you feel numb." /
"Tiny needles pierce the <EVictim>!"; }

36 Effect "withering trap" : 4
{ xval: 52; pval: 4; sval: 1; cval: 9;
Level: 4;
Flags: 33, 96;
On Event 206
"Tiny needles pierce your skin... you feel frail." /
"Tiny needles pierce the <EVictim>!"; }

36 Effect "water trap" : 5
{ cval: 11; Level: 4; sval: 1; Flags: 96, 33;
xval: 6; rval: $"deep water"; aval: 11; lval: 4;
On Event 206 "Water sprays up from the trap!";
}

36 Effect "large trapdoor trap" : 5
{ cval: 11; Level: 4; sval: 1; Flags: 33;
xval: 6; rval: $"chasm"; aval: 11;
lval: 2;
On Event 206
"The ground falls away!",
(52+1000) {
EItem->Remove(true);
return 0;
};

}

36 Effect "terinav root dart trap" : 1
{ cval: 10; xval: 12; pval: 4d4+4; sval: 1;
Flags: 33, 96; Level: 4;
On Event 200 "dart",
83 {
hObj it;
ThrowDmgEff(41,60,3d6,"terinav root dart trap",$"terinav root",EVictim,EVictim,NULL,NULL);
it = CreateItem($"dart");
if (it) {
it->GainPermStati(2,NULL,7,0,1,$"terinav root");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
};
On Event 168 {
hObj it;
it = CreateItem($"dart");
it->SetQuantity(6d3);
it->GainPermStati(2,NULL,7,0,2,$"terinav root");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "nitharit scythe trap" : 1
{ cval: 10; xval: 11; pval: 3d4+12; sval: 1;
Flags: 33, 96; Level: 4;
On Event 200
"nitharit scythe",
83 {
ThrowDmgEff(41,60,3d6,"nitharit scythe trap",$"nitharit",EVictim,EVictim,NULL,NULL);
} ;
On Event 168 {
hObj it;
it = CreateItem($"scythe");
it->GainPermStati(2,NULL,7,0,3d3,$"nitharit");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}



36 Effect "searing light trap" : 46
{ cval: 12; Level: 5; sval: 0;
On Event 28 {
RedirectEff(e,$"searing light",52);
};
}

36 Effect "major dimensional anchor trap" : 3
{ cval: 14; xval: 133; sval: 1; Level: 5;
Flags: 54;
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
Desc: "While dimensionally anchored you cannot teleport. The
      anchoring from a major dimensional anchor trap lasts until
      cancelled by <9>dispel magic<7> or a similar effect.";
}

36 Effect "major rust trap" : 4
{ cval: 6; xval: 39; pval: 4d10; sval: 1; Level: 5;
qval: 0x0010; }

36 Effect "major decay trap" : 4
{ cval: 6; xval: 57; pval: 4d10; sval: 1; Level: 5;
qval: 0x0010; }

36 Effect "major soaking trap" : 4
{ cval: 6; xval: 74; pval: 4d10; sval: 1; Level: 5;
qval: 0x0010; Flags: 33; }

36 Effect "major disruption trap" : 4
{ cval: 6; xval: 13; pval: 4d5; sval: 1;
qval: 0x0010; Level: 5;
On Event 200 "blast of rending force"; }

36 Effect "inflict critical wounds trap" : 1
{ cval: 8; Level: 5;
pval: 4d8+4; xval: 6; sval: 2; }

36 Effect "falling boulder trap" : 1
{ cval: 9; xval: 13; pval: 6d6;
aval: 11; lval: 2;
sval: 1; Flags: 33; Level: 5;
On Event 200
"falling stone",
28 {
hObj h;
h = CreateItem($"boulder");
h->PlaceAt(EMap,EVictim->x,EVictim->y);
return 0;
};
}

36 Effect "thornwall trap" : 5
{ cval: 14; Level: 5; sval: 1;
xval: 6; rval: $"thorn wall"; aval: 11; lval: 3;
On Event 206 "Thorns rises up from the ground!";
}

36 Effect "chill water trap" : 5
{ cval: 11; Level: 5; sval: 1;
xval: 6; rval: $"deep water"; aval: 11; lval: 4;
On Event 206 "Water rises up from the trap!";
On Event 28 {
ThrowDmg(41,2,4d6,"chill water trap",EVictim,EVictim);
} ;
}

36 Effect "fireball trap" : 1
{ cval: 12; Level: 5; aval: 11; lval: 4;
pval: 8d6; xval: 1; sval: 1; }

36 Effect "ungol dust cloud trap" : 1
{ cval: 10; Level: 5;
aval: 11; lval: 5; Flags: 33;
On Event 28 {
ThrowDmgEff(41,60,3d6,"ungol dust cloud trap",$"ungol dust",EVictim,EVictim,NULL,NULL);
} ;
}

36 Effect "acid spray trap" : 1
{ cval: 12; xval: 3; pval: 8d6;
sval: 1; Flags: 33, 40; Level: 5;
On Event 200
"spray of acid"; }

36 Effect "polymorph trap" : 32
{ cval: 13; sval: 0; Level: 5; Flags: 85; }

36 Effect "id moss needle trap" : 46
{ cval: 10; Flags: 33, 96; sval: 1; Level: 5;
On Event 28 {
VPrint(e,"A tiny needle strikes you!",
"A tiny needle strikes the <EVictim>.");
ThrowDmgEff(41,60,3d6,"id moss needle trap",$"id moss",EVictim,EVictim,NULL,NULL);
return 1;
};
On Event 168 {
hObj it;
it = CreateItem($"small glass vial");
it->GainPermStati(2,NULL,7,0,6d3,$"id moss");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "reanimation trap" : 46
{ tval: 31; cval: 13; Level: 5;
Flags: 6, 55, 40, 41;
aval: 11; lval: 6;
On Event (52+1000) {
if (e.isSomething)
VPrint(e,"The dead rise!",
"The dead rise!");
return 0;
},
28 {
rID cmID; hObj zom;
if (!ETarget->isType(31))
return 0;
cmID = ETarget->GetCorpseType();
if (!cmID)
return 0;
#line "threats.irh" 1262
if (ResourceLevel(cmID) > 5)
{
EActor->IPrint("The <hObj> shifts briefly, but does not move.",ETarget);
return 0;
}
zom = CreateMonster(cmID);
if (!zom)
return 2;

zom->AddTemplate($"zombie");

zom->PartyID = 105;

if (ETarget->Owner() == EActor)
zom->PlaceAt(EMap,EActor->x,EActor->y);
else
zom->PlaceAt(EMap,ETarget->x,ETarget->y);
zom->Initialize();
ETarget->Remove(true);
e.isSomething = true;
return 1;
};
}



36 Effect "flame strike trap" : 1
{ cval: 12; xval: 1; pval: 9d6; sval: 1 partial;
Level: 6; On Event 200 "flame strike"; }

36 Effect "major lightning bolt trap" : 1
{ cval: 12; xval: 4; pval: 10d6; sval: 1 partial;
Level: 6; On Event 200 "lightning bolt"; }

36 Effect "wyvern venom dart trap" : 1
{ cval: 10; xval: 12; pval: 6d4+6; sval: 1;
Flags: 33; Level: 6;
On Event 200 "dart",
83 {
hObj it;
ThrowDmgEff(41,60,3d6,"wyvern venom dart trap",$"wyvern venom",EVictim,EVictim,NULL,NULL);
it = CreateItem($"dart");
if (it) {
it->GainPermStati(2,NULL,7,0,1,$"wyvern venom");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
};
On Event 168 {
hObj it;
it = CreateItem($"dart");
it->SetQuantity(6d3);
it->GainPermStati(2,NULL,7,0,2,$"wyvern venom");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "major mana trap" : 4
{ cval: 8; xval: 33; pval: 6d10; sval: 2; Level: 6;
On Event 83
{ ThrowDmg(41,8,6d10,"mana trap",EVictim,EVictim);
} ;
On Event 206
"Your mana is drained and redirected to strike you!" /
"The <EVictim> is hit by a magical assault!";
}

36 Effect "hexing trap" : 46
{ cval: 6; Level: 6; sval: 2; Flags: 96;
On Event 28 {
RedirectEff(e,$"bestow curse",52);
RedirectEff(e,$"bestow curse",52);
RedirectEff(e,$"bestow curse",52);
};
}



36 Effect "burnt othur vapor trap" : 1
{ cval: 10; Level: 7; sval: 0;
aval: 11; lval: 5; Flags: 33;
On Event 28 {
ThrowDmgEff(41,60,3d6,"burnt othur vapor trap",$"burnt othur fumes",EVictim,EVictim,NULL,NULL);
} ;
On Event 168 {
hObj it;
it = CreateItem($"small glass vial");
it->GainPermStati(2,NULL,7,0,6d3,$"burnt othur fumes");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "caustic water trap" : 5
{ cval: 11; Level: 7; sval: 1; Flags: 33;
xval: 6; rval: $"deep water"; aval: 11; lval: 5;
On Event 206 "Water rises up from the trap!";
On Event 28 {
ThrowDmg(41,3,6d6,"caustic water trap",EVictim,EVictim);
} ;
}




36 Effect "insanity mist vapor trap" : 1
{ cval: 10; Level: 8; sval: 0;
aval: 11; lval: 8; Flags: 33;
On Event 28 {
ThrowDmgEff(41,60,3d6,"insanity mist trap",$"insanity mist",EVictim,EVictim,NULL,NULL);
} ;
On Event 168 {
hObj it;
it = CreateItem($"small glass vial");
it->GainPermStati(2,NULL,7,0,6d3,$"insanity mist");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "deathblade scythe trap" : 1
{ cval: 10; xval: 11; pval: 6d4+24; sval: 1;
Flags: 33, 96; Level: 8;
On Event 200
"deathblade scythe",
83 {
ThrowDmgEff(41,60,3d6,"deathblade scythe trap",$"deathblade",EVictim,EVictim,NULL,NULL);
} ;
On Event 168 {
hObj it;
it = CreateItem($"great scythe");
it->GainPermStati(2,NULL,7,0,3d3,$"deathblade");
it->PlaceAt(EMap,EVictim->x,EVictim->y);
} ;
}

36 Effect "harm trap" : 1
{
cval: 8; Level: 8;
On Event 28 {
RedirectEff(e,$"harm",52);
};
}




36 Effect "Symbol of Pain;trap" : 1
{ cval: 13; Level: 10; sval: 3;
aval: 11; lval: 6; Flags: 25, 96;
On Event 28 {
EVictim->GainTempStati(121,NULL,60,6,51,-4,$"symbol of pain;trap",5);
EVictim->GainTempStati(121,NULL,60,6,53,-4,$"symbol of pain;trap",5);
EVictim->GainTempStati(121,NULL,60,6,54,-4,$"symbol of pain;trap",5);
} ;
}

36 Effect "Symbol of Sleep;trap" : 1
{ cval: 13; Level: 10; sval: 3;
aval: 11; lval: 6; Flags: 25, 96;
On Event 28 {
if (GetHandle(EVictim))
if (EVictim->isCreature())
if (EVictim->ChallengeRating() <= 10 &&
!EVictim->SavingThrow(2,20,0x00000001|0x00000002|0x00000020|0x00000100))
EVictim->GainTempStati(7,NULL,(3d6)*10,6,1,0,$"symbol of sleep;trap",5);
} ;
}
#line "alchemy.irh" 63
Item "flask" : 56
{
Image: grey 173;
Level: 1; Mat: 19; Weight: 1; hp: 5;
Flags: 1, 12, 7;
On Event (48+500) {
if (GetHandle(EItem2))
if (EItem2->ieID == $"water" ||
EItem2->ieID == $"acid;alchemy" ||
EItem2->ieID == $"Alchemist's Fire")
{
e.eID = EItem2->ieID;
e.isActivation = true;
SetEItem(e,EItem2->TakeOne());
ReThrow(52, e);
return 1;
}
return 0;
},
95 {
if (GetHandle(EItem))
if (EItem->ieID == $"Universal Solvent" ||
EItem->ieID == $"Scentblind" ||
EItem->ieID == $"Silversheen;alchemy")
{
e.eID = EItem->ieID;
e.isActivation = true;
SetEItem(e,EItem->TakeOne());
if (ReThrow(52, e) == 1)
EItem->Remove(true);
return 1;
}
return 0;
},
100 {
if (GetHandle(EItem2) && e.eID == ((rID)0))
if (EItem2->iID == $"flask")
return RedirectEff(e,EItem2->ieID,100);
return 0;
},
(52+1000) {
hObj hOne;
if (e.isWield || e.isRemove)
return 0;
if (GetHandle(EItem))
{
hOne = EItem->TakeOne();
hOne->Remove(true);
}
return 0;
};
}

Item "Eggshell Bomb" : 56
{
Image: white 234;
Level: 1; Mat: 3; Weight: 1; hp: 1;
Flags: 1, 12;
On Event (48+500) {
if (GetHandle(EItem2))
{
e.eID = EItem2->ieID;
e.isActivation = true;
SetEItem(e,EItem2->TakeOne());
ReThrow(52, e);
return 1;
}
return 0;
},
(52+1000) {
hObj hOne;
if (e.isWield || e.isRemove)
return 0;
if (GetHandle(EItem))
{
hOne = EItem->TakeOne();
hOne->Remove(true);
}
return 0;
};
}


1 Effect "water" : 1 {
0x00000200; Cost: 0; xval: 69; pval: 3d6;
qval: 0x0001 | 0x0004 | 0x0002; aval: 3; lval: 1;
sval: 3;
Flags: 48, 60, 33, 71,
20, 83;
Purpose: 0x00001 (23);
cval: 15; On Event 200 "splash of holy water";
Level: 1;
Desc: "This is simply water. When blessed, it becomes holy water;
    when cursed, it becomes unholy water.
    A vial of holy water can be thrown (activated) and
    inflicts 3d6 points of holy damage against all undead, demons and
    devils within a 10 foot (1 square) radius. Unholy water has the
    same effect on celestials and paladins. Holy water can be thrown 
    accurately out to a range of 60 feet.";
On Event 52 {
if (GetHandle(EItem) != ((hObj)0))
EItem->Remove(true);
},
155 {
if (EItem->IFlags & 0x0001)
if (EVictim->isMType(76) ||
EVictim->isMType(72) ||
EVictim->isMType(73))
return 0;
if (EItem->IFlags & 0x0002)
if (EVictim->isMType(34) ||
EVictim->HasAbility(49))
return 0;
return -1;
},
170 {
e.vRange = 6;
SetPVal(e,0,3,6);
if (GetHandle(EActor) != ((hObj)0))
if (EActor->HasEffStati(-1,$"Iron Sword"))
SetPVal(e,0,7,6);
return 0;
},
(52+500)
"You throw an <EItem>." /
"The <EActor> throws an <EItem>.",
163 {
if (EActor->IFlags & 0x0001)
e.nBase = "vial of holy water";
else if (EActor->IFlags & 0x0002)
e.nBase = "vial of unholy water";
else
e.nBase = "vial of water";
e.nCursed = "";
return 0;
};
Constants:
* 101 $"flask",
* 25 50;
}

Item "bag" : 56
{
Image: brown 234; hp: 3;
Level:0; Mat:7;
Weight: 10; Flags: 12, 1;
Desc: "This small brown leather bag is about the size of a
      troll's fist. It has no apparent opening and is stiched
      tightly shut. By its weight you can tell that it is filled
      with some compressed substance.";
On Event (48+500) {
e.eID = $"tanglefoot bag";
e.isActivation = true;
ReThrow(52, e);
return 1;
};
}

39 Effect "tanglefoot bag" : 5 {
0x00000002; Cost: 0; aval: 11; Level: 1; lval: 2; qval: 0x0002;
Flags: 20, 67, 33, 48;
xval: 9; rval: $"tanglefoot strands"; sval: 3;
Purpose: 0x00001 | 0x00040 | 0x00004 | 0x01000;
Desc: "A tanglefoot bag can be thrown to create a mass of tanglefoot 
    strands with a radius of 10 feet (1 square). A creature
    attempting to move or attack in the strands must make a reflex saving
    throw (DC 15) to avoid becoming stuck instead. Woodland Stride, Free
    Action and Flight all render one immune to tanglefoot strands.";
On Event (52) {
if (GetHandle(EItem) != ((hObj)0)) EItem->Remove(true);
DPrint(e,"You throw a tanglefoot bag.",
"The <EActor> throws a leather bag, and it explodes
              in a mess of gooey strands!");
};
Constants:
* 101 $"bag",
* 25 500;
}

Terrain "tanglefoot strands" {
Image: purple 247 on brown; Mat:3;
Flags: 6, 5, 13, 12;
Desc: "A tanglefoot bag can be thrown (activated) to create a mass of
  tanglefoot strands with a radius of 10 feet (1 square). A creature
  attempting to move or attack in the strands must make a reflex saving
  throw (DC 15) to avoid becoming stuck instead. Woodland Stride, Free
  Action and Flight all render one immune to tanglefoot strands.";
On Event 161 {
hObj mount;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(13) >= 5 ||
mount->HasAbility(110) ||
mount->ResistLevel(14) == -1 ||
mount->HasStati(11) ||
EActor->HasStati(11) ||
mount->isAerial())
return 0;
else
return 2;
} else {
if (EActor->SkillLevel(13) >= 5 ||
EActor->HasAbility(110) ||
EActor->ResistLevel(14) == -1 ||
EActor->HasStati(11) ||
EActor->isAerial())
return 0;
else
return 2;
}
} ;
On Event 1, (19+500), 167, 166 {
hObj mount;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasAbility(110) ||
mount->HasStati(11) ||
EActor->HasStati(11) ||
mount->ResistLevel(14) == -1 ||
mount->isAerial())
return 0;
if (mount->SavingThrow(1,15,0x00000200|0x00000100)) {
return 0;
}
} else {
if (EActor->HasAbility(110) ||
EActor->HasStati(11) ||
EActor->ResistLevel(14) == -1 ||
EActor->isAerial())
return 0;
if (EActor->SavingThrow(1,15,0x00000200|0x00000100)) {
return 0;
}
}
ThrowDmg(41,14,-1,"tanglefoot strangs",EActor,EActor);
if (EActor->HasStati(11)) {
DPrint(e,"You become entangled!",
"An <EActor> becomes entangled!");
EActor->Timeout += 10;
}
return 1;
};
}

Item "wooden rod" : 56
{
Image: yellow 234; hp: 5;
Level:0; Mat:8;
Weight: 1; Flags: 1;
Desc: "This wooden rod is about an inch thick and a foot long. It
      has been coated with some thick, yellowish chemical at the tip,
      like an overlarge match.";
SDmg: 1d2; LDmg 1d1; Acc: -2; Crit: x2; Threat: 1; Spd: 65%;
On Event (20+500) {

if ((!GetHandle(EItem)) || (!EItem->HasEffStati(189,$"sunrod")))
if ((!GetHandle(EItem2)) || (!EItem2->HasEffStati(189,$"sunrod")))
return 0;
if (EVictim->isMType(57) || EVictim->isMType(56)) {
ThrowDmg(41,9,2d8,"a sunrod",
EActor,EVictim,EItem,EItem2);
VPrint(e,"Light sears you!", "Light sears the <EVictim>!");
}
else {
ThrowDmg(41,1,1d3,"a sunrod",
EActor,EVictim,EItem,EItem2);
VPrint(e,"The sunrod mildly sears you!",
"The sunrod mildly sears the <EVictim>!");
}
return 1;
},
31, 54, 16, 14 {
if (EItem->HasEffStati(189,$"sunrod") && !EItem->isDead()) {
APrint(e,"The sunrod burns out.");
EItem->Owner()->m->RemoveEffFieldFrom($"sunrod",EItem->Owner());
EItem->Remove(true);
return 1;
}
return 0;
};
}

39 Effect "sunrod" : 46
{
Flags: 20, 33, 48, 54;
aval: 9; rval: 0x00000080|0x00000002; lval: 2; cval: 14;
Desc: "When lit (activated), a sunrod emits brilliant golden light
      out to a radius of 20 feet. Light-averse creatures will suffer the
      penalties of being in a brightly-lit area. The lit
      sunrod can also be used as a bludgeoning weapon; it inflicts 1d3
      points of fire damage to most creatures, but against wraiths, shadows
      and similar creatures of negative energy, it inflicts 2d8 points of
      sunlight damage and strikes true against their incorporeality. A
      sunrod burns for only 3d6+6 turns.";
On Event 74 {
EActor->Owner()->IPrint("The sunrod burns out.");
#line "alchemy.irh" 361
EActor->Owner()->m->RemoveEffFieldFrom($"sunrod",EActor->Owner());
EActor->Remove(true);
return 0;
},
170 {
e.vDuration = 24;
return 0;
},
(52+1000) {
DPrint(e,"You light an <EItem>.",
"The <EActor> lights an <EItem>.");
EItem->GainTempStati(189,EActor,3d6+6,7,0,0,$"sunrod");
return 0;
};
Constants:
* 101 $"wooden rod",
* 25 150;
}


39 Effect "Antitoxin" : 3
{
Desc: "This alchemical antitoxin makes a character's immune system
      more active and resistant to poisons. It grants a +3 bonus (or
      higher, when crafted with a superior Alchemy skill) to saving
      throws against poison for the next 80 turns.";
On Event 170 {
SetPVal(e,3 + max(0,(e.vAlchemy - 8) / 4));
e.vDuration = 80;
return 0;
};
xval: 123; yval: 8;
Flags: 20, 33;
Constants:
* 101 $"potion",
* 25 300;

}

39 Effect "Stimtab" : 3
{
Desc: "This perilous alchemical item accelerates a character's
      metabolism greatly, albiet at a cost to her long-term health;
      characters also learn from their experiences less effectively
      while in this chemically altered state. A stimtab grants +4 
      temporary fatigue points (+2 per +5 Alchemy above +10) and a 
      +50~ increase to Spd (+5~ per point of Alchemy rating over 10), 
      for the next 30 turns.";
Flags: 20, 33, 48, 49, 50,
25;
On Event 170 {
switch (e.efNum)
{
case 0:
SetPVal(e,max(4,(e.vAlchemy/5)*2));
e.vDmg = max(4,(e.vAlchemy/5)*2);
break;
case 1:
SetPVal(e,e.vAlchemy);
e.vDmg = e.vAlchemy;
break;
case 2:
SetPVal(e,50);
e.vDmg = 50;
break;
}
return 0;
},
74
"The Stimtab wears off.",
(83+1000) {
EVictim->Abuse(2,4d20);
return 0;
};
Constants:
* 101 $"tablet",
* 25 600;
xval: 117; yval: 38;
}
and 3
{ xval: 117; yval: 54; }
and 3
{ xval: 171; pval: 50; }

39 Effect "Scentblind" : 3
{
Desc: "This alchemical preparation takes the form of a thick,
      pungent oil applied directly to the skin, causing the user
      to emit an intense aroma that blinds the smell of creatures
      with the Scent ability. It renders the wearer inperceptable
      with Scent, but also awakens any creatures with Scent that
      are within 30 feet. The effects last for (Alchemy x 10) turns,
      to a minimum of 100.";
xval: 211; yval: 0x0004;
Flags: 33, 48;
}
and 46
{ aval: 9; lval: 3;
On Event 50 {
if (EVictim->HasAbility(71)) {
EVictim->Awaken(-1);
EVictim->IPrint("An overwhelming chemical aroma assaults you!");
}
return 1;
},
170 {
e.vDuration = max(100,e.vAlchemy * 10);
return 0;
};
Constants:
* 25 100;
}

39 Effect "Universal Solvent" : 46
{
Desc: "This alchemical solvent dissolves any adhesive material,
      allowing a character to free themselves from webbing, sticky
      slime, mimic adhesive, the effects of the <9>molecular bonding<7>
      psionic power, the webs of ettercaps and so forth. It should
      be [A]pplied to be used.";
On Event 28 {
if (EActor->HasStati(11)) {
EActor->RemoveStati(11,-1,1);
EActor->RemoveStati(11,-1,5);
EActor->RemoveStati(11,-1,6);
if (!EActor->HasStati(11))
EActor->IPrint("You're free to move again!");
else
EActor->IPrint("You're still stuck.");
}
else if(EMap->TerrainAt(EActor->x,EActor->y) ==
$"Ettercap Webbing") {
EActor->IPrint("You're free to move through the webbing for 
                          a short period!");
EActor->GainTempStati(189,((hObj)0),30,7,0,0,$"Universal Solvent");

}
else
EActor->IPrint("The solvent has no effect.");
return 1;
};
Flags: 33, 48;
Constants:
* 25 400;
}

39 Effect "Acid;alchemy" : 1
{
Desc: "Alchemical acids are area-effect splash weapons inflicting 1d8 points of 
      damage for every total +5 Alchemy rating possessed by their creator, with
      a minimum of 2d8 acid damage. A Reflex saving throw (DC 10 + 1/2 Alchemy
      skill rating + thrower's Dexterity modifier) allows half damage. Acid has 
      other uses as well as being a weapon -- it can be poured into a lock to 
      melt it open without triggering it, or very tiny items can be dissolved 
      in it -- some alchemists believe that the properties of a magical item 
      can be discerned as it dissolves in acid, its mystical essence released.
      Some claim that drinking acid can prevent petrification, but surely one
      would have to be a stalwart soul to survive such an act...";
aval: 3; xval: 3; cval: 2; lval: 1; qval: 0x0002;
Flags: 48, 40, 33, 83,
60;
On Event 170 {
e.vCasterLev = max(10,e.vAlchemy);
e.saveDC = 10 + e.vAlchemy / 2 + EActor->Mod(1);
SetPVal(e,0,e.vAlchemy/5,8);
return 0;
},
200
"splash of acid",
35 {
int32 pen;
EActor->IPrint("This burns like acid!");
ThrowDmg(41,3,8d10,"drinking a flask of acid",EActor,EActor);
if (EActor->isDead())
return 1;
pen = 6 - EActor->ResistLevel(3) / 2;
if (pen > 0)
EActor->GainTempStati(121,((hObj)0),10d6,7,51,-pen);
EActor->RemoveStati(18);
EItem->TakeOne()->Remove(true);
EActor->Timeout += 20;
return 1;
},
(52+500) {
hObj h;
if (dist(EActor->x,EActor->y,e.EXVal,e.EYVal) <= 1)
{
if (h = EMap->FChestAt(e.EXVal, e.EYVal))
{
if (!h->HasStati(228))
{ EActor->IPrint("That chest isn't locked.");
return 2; }
h->RemoveStati(228);
EActor->IDPrint("You pour the acid in the chest's lock,
                                destroying it!", "The <hObj> pours a vial
                                of liquid into the lock on a chest,
                                destroying it!", EActor);
return 1;
}
if (h = EMap->FDoorAt(e.EXVal, e.EYVal))
{
if (!(h->DoorFlags & 0x08))
{ EActor->IPrint("That door isn't locked.");
return 2; }
h->DoorFlags &= ~0x08;
EActor->IDPrint("You pour the acid in the door's lock,
                                destroying it!", "The <hObj> pours a vial
                                of liquid into the lock on a door,
                                destroying it!", EActor);
return 1;
}
}
DPrint(e,"You throw an <EItem>.",
"The <EActor> throws an <EItem>.");
return 0;
},
100 {
int32 doID, doDestroy;
if (GetHandle(EItem2) == ((hObj)0) ||
GetHandle(EItem) == ((hObj)0))
return 0;
if (EItem2->ieID != $"Acid;alchemy")
return 0;
if (EItem->Size() > 1)
{
EActor->IPrint("That is too large to dip in the acid.");
return 2;
}

doID = false; doDestroy = true;
switch (EItem->ieID)
{
case $"the Dancer":
EActor->IPrint("The acid seems to flow rhythmically and gracefully
                              inside the flask.");
doID = true;
break;
case $"Good Fortune":
EActor->IPrint("Wow, you almost lost your ring, but it bounced off
                      the edge of the flask as you were trying to dip it.");
doID = true;
doDestroy = false;
break;
case $"Fire Resistance":
EActor->IPrint("The flask feels distinctly cool as the ring dissolves.");
doDestroy = false;
doID = true;
break;
case $"Acid Warding":
EActor->IPrint("The acid turns clear!");
EItem2->ieID = $"Water";
doID = true;
break;
case $"Brass and Glass":
EActor->IPrint("Flecks of brass form as a precipitate at the bottom
                              of the flask.");
doID = true;
break;
case $"Greater Ring of Identify":
case $"Identify":
EActor->IPrint("You are struck by a magical revelation:");
doID = true;
break;
case $"Evasion":
EActor->IPrint("The acid flows around the ring, seemingly avoiding
                              it, before it finally engulfs and dissolves it.");
doID = true;
break;
case $"Infravision":
EActor->IPrint("Shadows seem to part in the wake of the fumes rising
                              from the flask.");
doID = true;
break;
case $"the Imp":
EActor->IPrint("As the ring dissolves, you hear an agonized cackling.");
doID = true;
break;
case $"Ring, Djinn Prison":
EActor->IPrint("As the ring dissolves, you hear an agonized screaming.");
EActor->AlignedAct(0x0008|0x0040,2,
"killing a trapped djinn with acid");
doID = true;
break;
case $"Mind Shielding":
doID = false;
break;
case $"the Endless Wave":
EActor->IPrint("Tiny ripples and waves form on the surface of the acid
                              as the ring dissolves.");
doID = true;
break;
case $"Water Walking":
EActor->IPrint("The ring lands upon the surface of the acid as if it
                             were a solid skin, and takes several seconds to break
                             the surface tension.");
doID = true;
break;
case $"Climbing":
EActor->IPrint("Precipitate from the ring's dissolution crawls up the
                              edges of the flask before losing its magic and
                              sinking down again.");
doID = true;
break;
case $"the Chameleon":
EActor->IPrint("The acid changes color briefly!");
doID = true;
break;
case $"Animal Kinship":
EActor->IPrint("You could swear you hear a mournful howl as the ring
                              dissolves.");
doID = true;
break;
case $"Jumping":
EActor->IPrint("The acid bubbles violently, and tiny droplets splatter
                             and spray, jumping out of the flask.");
ThrowDmg(41,3,1d4,"an alchemical reaction", EActor, EActor);
doID = true;
break;
case $"Invisibility;ring":
EActor->IPrint("The acid seems to vanish for a second, leaving an empty
                              flask -- but it reappears once the ring finishes
                              dissolving.");
doID = true;
break;
case $"Penetrating Sight":
EActor->IPrint("The whole flask seems translucent as the ring dissolves!");
doID = true;
break;
case $"Channeling":
EActor->IPrint("The flask glows with a silvery light as the ring dissolves!");
doID = true;
break;
case $"Regeneration":
EActor->IPrint("Are you imagining it, or is there actually *more* acid in the
                              flask than there was before?");
doID = true;
break;
case $"the Ram":
EActor->IPrint("The vial of acid shatters violently!");
ThrowDmg(41,3,3d6,"an alchemical reaction", EActor, EActor);
EItem2->Remove(true);
doID = true;
break;
case $"Polymorphing":
EActor->IPrint("The flask changes into a scroll briefly!");
doID = true;
break;
case $"Spell Disruption":
doID = false;
break;
case $"Weakness;ring":
doID = false;
break;
case $"Ignorance":
EActor->IPrint("You haven't a clue how to interpret what you just
                              saw happen.");
doID = false;
break;
case $"Aggravate Monster":
EActor->IPrint("The acid seems to roil angrily.");
doID = true;
break;
case $"Elemental Command (Air)":
EActor->IPrint("Winds lash up around you!");
doID = true;
break;
case $"Elemental Command (Earth)":
EActor->IPrint("The earth trembles angrily as that ring dissolves.");
doID = true;
break;
case $"Elemental Command (Fire)":
EActor->IPrint("A furious jet of flame sprays from the flask!");
ThrowDmg(41,1,3d6,"an alchemical reaction", EActor, EActor);
doID = true;
break;
case $"Elemental Command (Water)":
EActor->IPrint("Watery condensate forms on the outside of the flask.");
doID = true;
break;
case $"Item Preservation":
EActor->IPrint("The acid and flask both vanish to another plane!");
EItem2->Remove(true);
doID = true;
break;
case $"the Kobolds":
EActor->IPrint("You hear a mad cackling.");
doID = true;
break;
case $"the Gnomes":
EActor->IPrint("You hear joyful laughter.");
doID = true;
break;
case $"Elvenkind;ring":
EActor->IPrint("You hear regal music.");
doID = true;
break;
case $"Elemental Disjunction":
EActor->IPrint("The acid seems to decompose into its base
                             components before flowing back into a homogenous
                             liquid.");
doID = true;
break;
}
if (doID)
EActor->IdentByTrial(EItem);
if (doDestroy)
EItem->Remove(true);
return 1;
};
Constants:
* 25 350;
}

39 Effect "Alchemist's Fire" : 1
{
Desc: "Alchemist's Fire is a sticky, viscous semi-liquid that catches
      fire when exposed to air. It is usually thrown is a sealed glass
      flask at an enemy, who suffers 1d10 points of fire damage for every +5
      Alchemy skill the Fire was created with (minimum 2d10). A Reflex
      saving throw (DC 10 + 1/2 Alchemy skill level + thrower's Dexterity
      modifier) can be made for half damage; failing this save indicates
      the target has been set on fire and will suffer 1d4 additional points 
      of fire damage each round until the flames are successfully 
      extinguished.";
aval: 1; xval: 1; cval: 12; lval: 4; qval: 0x0002;
Flags: 48, 33, 83, 60;
sval: 1 partial;
On Event 170 {
e.vCasterLev = max(10,e.vAlchemy);
e.saveDC = 10 + e.vAlchemy / 2 + EActor->Mod(1);
SetPVal(e,0,e.vAlchemy/5,10);
return 0;
},
(28+1000) {
if (!e.Resist)
RedirectEff(e,$"Burn",52);
return 0;
},
200
"spray of burning liquid",
(52+500)
"You throw an <EItem>." /
"The <EActor> throws an <EItem>.";
Constants:
* 25 150;
}

39 Effect "eggshell flash-bomb" : 3
{
Desc: "An ingenious incendiary device, the eggshell bomb ignites 
      upon striking any solid surface, producing a brilliant flash
      of light that blinds any creatures within 30 feet of its point
      of impact. A Reflex save (DC 10 + 1/2 Alchemy skill level + the
      thrower's Dexterity mod) negates the blinding; the thrower 
      herself, being prepared for the flash, is immune. The blinding
      lasts for 1d4 rounds.";
aval: 11; xval: 3; cval: 15; lval: 3; qval: 0x0002;
Flags: 48, 33, 23, 20; sval: 1;
On Event 170 {
e.vCasterLev = max(10,e.vAlchemy);
e.saveDC = 10 + e.vAlchemy / 2 + EActor->Mod(1);
return 0;
},
(52+500)
"You throw an <EItem>." /
"The <EActor> throws an <EItem>.";
Constants:
* 101 $"eggshell bomb",
* 25 250;
}

39 Effect "eggshell smoke-bomb" : 3
{
Desc: "This alchemical item produces a surprising volume of misty,
      harmless smoke from a combination of chemical powders sealed
      inside an eggshell. The eggshell is thrown and triggers upon
      impact, creating a smoke cloud with a radius of [Alchemy skill /
      5] + 2 squares.";
rval: 0x00000100; cval: 7; aval: 7; qval: 0x0002;
Flags: 64, 48, 33, 20;
On Event (52+500)
"You throw an <EItem>." /
"The <EActor> throws an <EItem>.",
74
"The fog disperses.",
170 {
e.lval = 2 + e.vAlchemy / 5;
return 0;
};
Constants:
* 101 $"eggshell bomb",
* 25 450;
}

39 Effect "Silversheen;alchemy" : 46
{
Flags: 25, 48, 40, 41; qval: 0x0008;
On Event 83 {
if (ETarget->isType(58) || ETarget->isType(45) ||
ETarget->isType(51) || ETarget->isType(21))
if (ETarget->QualityOK(74) && ETarget->isMetallic())
ETarget->GainTempStati(183,EActor,e.vDuration,2,
74,74, $"silversheen;alchemy", e.vCasterLev);
return 1;
},
157 {
if (EItem->isType(58) || EItem->isType(45) ||
EItem->isType(51) || EItem->isType(21))
if (EItem->QualityOK(74) && EItem->isMetallic())
return 0;
return 2;
},
74
"The Silversheen has worn off.";
Constants:
* 101 $"flask",
* 25 750;
Desc: "This thin alchemical resin can be applied to any metal weapon,
      bonding with the metal for a brief period of time to give it the
      qualities of silver with regard to lycanthropes and devils.";
}

39 Effect "twilight salve" : 3
{
Flags: 48, 33, 61;
Desc: "By rubbing this pungent salve on one's eyelids (by Activating
      this item), the user is able to see invisible or ethereal creatures
      for a brief period of time. Unfortunately, the aftereffect of the
      salve leaves the user deeply disoriented for a period when it wears
      off; it also tend to abuse the body in the longer term.";
xval: 101;
On Event
74 {
EActor->IPrint("Your vision fades back to mundane levels.");
if (EActor->isCharacter())
EActor->Abuse(2,2d10);
EActor->GainTempStati(5,NULL,3d6,7,0,0);
return 0;
},
52
"You apply the salve to your eyelids. Your vision expands 
          into the otherworldly!";
Constants:
* 101 $"flask",
* 25 750;
}
#line "alchemy.irh" 920
40 Effect "Autobuff" : 46
{
Desc: "<5>Activating this macro causes you to cast all the spells
      in your autobuff list -- normally self-improvement spells (like
      <9>Bull's Strength<5>), protection spells (<9>stoneskin<5>) and
      detection spells (<9>detect monsters<5>). You can have up to 64
      spells in your autobuff list, which is shown on the character
      sheet. Spells can be added or removed from this list using the
      Spell Manager, by pressing the key bound to this macro.\n
      __If you already have some of the spells cast, you'll just cast
      the ones that are missing from the list -- thus, you can use
      this macro to fix things if you get hit with a <9>dispel magic<5>
      spell.";
On Event 172 {
int32 spNum, r; rID spID;
for(spNum=EActor->FirstAutoBuff();spNum;
spNum=EActor->NextAutoBuff())
{
spID = theGame->SpellID(spNum);
if (!(EActor->HasEffStati(-1, spID) ||
EActor->HasEffField(spID) ||
EActor->HasEffStati(189,$"Autobuff",spNum)))
{
e.eID = spID;
EActor->IPrint("You cast <9><Res><7>.",spID);
if (ReThrow(37,e) != 1)
{
#line "alchemy.irh" 949
EActor->RemoveEffStati($"Autobuff");
return 1;
}
#line "alchemy.irh" 958
if (!EActor->HasEffStati(-1,spID))
EActor->GainPermStati(189,((hObj)0),7,spNum,0,$"Autobuff");
return 1;
}
}
EActor->IPrint("All spells cast.");
EActor->RemoveEffStati($"Autobuff");
};
}

40 Effect "AutoRest" : 46
{
Desc: "<5>This macro repeats the 'rest' action for as many turns as
      it takes to recover full mana (if you are still recovering mana
      at all) and to get rid of any negative conditions such as stunned,
      confused, trap or spell effects that expire over a number of turns,
      etc. If you have regeneration, it waits until you are fully healed
      as well. The macro asks to stop resting if you are threatened by 
      any hostile creatures.\n
      __To prevent pathological situations of infinite resting, the macro
      stop resting after 1000 turns; it also stops if you are starving.";
int32 restedTurns;
On Event 172 {
int32 moreRest;
moreRest = false;
if (EActor->GetStatiDur(5) > 0)
moreRest = true;
if (EActor->GetStatiDur(6) > 0)
moreRest = true;
if (EActor->GetStatiDur(3) > 0)
moreRest = true;
if (EActor->GetStatiDur(4) > 0)
moreRest = true;
if (EActor->GetStatiDur(10) > 0)
moreRest = true;
if (EActor->GetStatiDur(20) > 0)
moreRest = true;

if (EActor->GetStatiDur(106) > 0)
moreRest = true;
if (EActor->GetStatiDur(107) > 0)
moreRest = true;
if (EActor->GetStatiDur(117) > 0)
moreRest = true;
if (EActor->GetStatiDur(114) > 0)
moreRest = true;
if (EActor->GetStatiDur(121) > 0)
moreRest = true;

if (EActor->HasAbility(117))
if (EActor->GetAttr(38) > EActor->cFP)
moreRest = true;

if (EActor->cHP < EActor->mHP + EActor->GetAttr(36))
if (EActor->GetStatiVal(126) > 0 ||
EActor->HasAbility(66))
moreRest = true;

if (EActor->cMana() < EActor->nhMana())
if (EActor->cMana()*2 >= EActor->nhMana())
moreRest = true;

if (restedTurns > 1000)
{
EActor->IPrint("Breaking auto-rest after 1000 turns!");
moreRest = false;
}

if (EActor->HungerState() <= 480)
moreRest = false;

if (!moreRest)
{
EActor->IPrint("AutoRest: <Num> turns.", restedTurns);
restedTurns = 0;
EActor->Timeout += 1;
EActor->RemoveEffStati($"AutoRest");
return 1;
}
else
{
EActor->Timeout += 15;
restedTurns++;
}
};
}

40 Effect "AutoDrop" : 46
{
Desc: "<5>This macro allows you to select multiple items from
      your inventory, in any container you possess, and then drops
      them on the ground one by one, stopping if you are threatened
      or otherwise interrupted.";
hObj it; int32 doneSelect;
On Event 156 {
doneSelect = false;
return 0;
},
172 {
int32 found; int32 i, sl;
if (!doneSelect) {
for (it=EActor->FirstInv();it!=((hObj)0);it=EActor->NextInv())
{ found = true;
it->RemoveEffStati($"AutoDrop");
ETerm->LOption(it->Name(0x0010|0x0001|0x0002),(int32)it ); }
if (!found)
{ EActor->HaltAction("nothing to drop",true);
return 2; }
if (!ETerm->LMultiSelect(0x0100|0x0002 ,
"Select Items to Drop",14))
{ EActor->HaltAction("aborted",true);
ETerm->LOptionClear();
return 2; }
doneSelect = true;
}

for (it=(hObj)ETerm->FirstSelected();it!=((hObj)0);it=(hObj)ETerm->NextSelected())
{
if (it->HasEffStati(189,$"AutoDrop"))
continue;
if (it->x > 0)
continue;
if (it->IFlags & 0x0004) {
sl = 0;
for (i=0;i!=24;i++)
if (EActor->InSlot(i) == it)
sl = i;
if (ThrowVal(31,sl,EActor,((hObj)0),it,((hObj)0)) == 2)
{ it->GainTempStati(189,((hObj)0),-2,7,0,0,$"AutoDrop");
return 0; }
if (it->IFlags & 0x0004)
{ it->GainTempStati(189,((hObj)0),-2,7,0,0,$"AutoDrop");
return 0; }
}
else if (it->GetParent() != ((hObj)0) && it->GetParent()->isType(30)) {
if (Throw(51,EActor,((hObj)0),it->GetParent(),it) != 1)
{ it->GainTempStati(189,((hObj)0),-2,7,0,0,$"AutoDrop");
return 0; }
if (it->GetParent() != ((hObj)0) && it->GetParent()->isType(30))
{ it->GainTempStati(189,((hObj)0),-2,7,0,0,$"AutoDrop");
return 0; }
}
#line "alchemy.irh" 1103
Throw(16,EActor,((hObj)0), it);
if (it->x > 0)
EActor->IPrint("<hObj> dropped.", it);
}
EActor->HaltAction("done",true);
return 1;
},
84 {
hObj it;
if (e.EParam != 68)
return 0;
for (it=(hObj)ETerm->FirstSelected();it!=((hObj)0);it=(hObj)ETerm->NextSelected())
if (isValidHandle(it))
it->RemoveEffStati($"AutoDrop");
for (it=EMap->FItemAt(EActor->x,EActor->y);it;
it=EMap->NItemAt(EActor->x,EActor->y))
it->RemoveEffStati($"AutoDrop");
for (it=EActor->FirstInv();it;it=EActor->NextInv())
it->RemoveEffStati($"AutoDrop");
ETerm->LOptionClear();
return 0;
};
}

40 Effect "AutoLoot" : 46
{
Desc: "This macro automates collecting items both from chests and from
      piles on the ground. First, it attempts to open any chests in the
      square you are standing in. It tries three methods to do this, first
      attempting to pick the lock on the chest, then potentially zapping any 
      wand of opening in your inventory at the chest until either it opens, 
      the wand is out of charges or you have insufficient mana, as moderated
      by the Tactical Option 'Use Wand of Opening'. If these methods
      fail, your character will strike the chest until it breaks. You will
      be asked for confirmation before trying to break open a chest.\n
      __Once all chests are unlocked, the macro will display a list of all
      the items in your square, both those in chests and on the ground, and
      allow you to mark the ones you would like to pick up. Then it will
      pick the selected items up one by one, placing them in your pack if
      possible, otherwise bringing up the inventory screen to allow you to
      select where to put the item before moving on to the next one.";
hObj it; int32 doneSelect; int32 cKick;
On Event 156 {
doneSelect = false;
cKick = 0;
return 0;
},
172 {
hObj h, h2, pack;
int32 i, cnum;
String s; int32 found, first;

if (EActor->InSlot(0))
{
first = true;
do {
ETerm->InventoryManager(first);
first = false;
}
while (!EActor->Timeout);
return 0;
}

for (h=EMap->FirstAt(EActor->x,EActor->y);h;h=EMap->NextAt(EActor->x,EActor->y))
if (h->isType(26) || h->isType(30)) {

if (!isValidHandle(h))
continue;
if (h->HasEffStati(189,$"AutoLoot"))
continue;
if (h->HasStati(228)) {

if (!h->HasStati(187,33)) {
if (Throw(178,EActor,((hObj)0),h) != 1)
h->GainTempStati(187,EActor,-2,7,33,0,$"AutoLoot");
if (EActor->Timeout)
return 1;
}

for (h2=EActor->FirstInv();h2;h2=EActor->NextInv())
if (h2->isType(57) && h2->ieID == $"Opening" &&
EActor->cMana() >= 5)
if (h2->isKnown(0x04) && h2->GetCharges() >= 1)
{
switch(EActor->Opt(520))
{
case 0:
break;
case 1:
if (EActor->cMana() >= EActor->nhMana()/3) {
ThrowXY(7,EActor->x,EActor->y,EActor,h,h2);
return 1;
}
break;
case 2:
if (EActor->yn(XPrint("Zap the chest (<hObj>)?",h2))) {
ThrowXY(7,EActor->x,EActor->y,EActor,h,h2);
return 1;
}
break;
}
}

if (cKick == 0 && !EActor->yn(XPrint("Force open the <hObj>?",h)))
{
h->GainTempStati(189,EActor,-2,7,0,0,$"AutoLoot");
continue;
}

cKick++;

if (EActor->AttackMode() == 2 ||
EActor->AttackMode() == 4)
Throw(18,EActor,h);
else
ThrowVal(49,2,EActor,h);

if (!isValidHandle(h) || h->isDead())
{ cKick = 0; }
else if ((cKick % 20 == 19) &&
EActor->yn(XPrint("Stop striking the <hObj> after <Num> tries?",h,cKick)))
h->GainTempStati(189,EActor,-2,7,0,0,$"AutoLoot");

return 1;
}
}

if (!doneSelect)
{
found = false;
for (h=EMap->FItemAt(EActor->x,EActor->y);h;h=EMap->NItemAt(EActor->x,EActor->y))
if (h->isType(26) || h->isType(30))
if (!h->HasStati(228)) {
for (i=0;h2=h->getItem(i);i++)
{
cnum++;
s = h2->Name(0x0010|0x0001|0x0002);
s += " (in chest)";
ETerm->LOption(s,(int32)h2);
found = true;
}
}

for (h=EMap->FItemAt(EActor->x,EActor->y);h;h=EMap->NItemAt(EActor->x,EActor->y))
if (!(h->isType(26) || h->isType(30)))
{
s = h->Name(0x0010|0x0001|0x0002);
s += " (on ground)";
ETerm->LOption(s,(int32)h);
found = true;
}

if (!found)
{ EActor->HaltAction("nothing to loot",true);
return 2; }

if (!ETerm->LMultiSelect(0x0100|0x0002 ,
"Select Items to Loot",14))
{ EActor->HaltAction("aborted",true);
ETerm->LOptionClear();
return 2; }
doneSelect = true;
}

for (it=(hObj)ETerm->FirstSelected();it!=((hObj)0);it=(hObj)ETerm->NextSelected())
{

if (!isValidHandle(it))
continue;
if (it->Owner() == GetHandle(EActor))
continue;
if (it->HasEffStati(189,$"AutoLoot"))
continue;
if (it->GetParent() != ((hObj)0) && it->GetParent()->isType(30)) {
Throw(51,EActor,((hObj)0),it->GetParent(),it);
if (it->GetParent())
{
EActor->IPrint("Cannot take out <hObj>.", it);
it->GainTempStati(189,EActor,-2,7,0,0,$"AutoLoot");
return 1;
}
}
else {
Throw(12,EActor,((hObj)0),it);
if (it->Owner() != GetHandle(EActor))
{
it->GainTempStati(189,EActor,-2,7,0,0,$"AutoLoot");
return 1;
}
if (EActor->InSlot(0) != it) {
EActor->IPrint("Failed to pick up <hObj>.", it);
it->GainTempStati(189,EActor,-2,7,0,0,$"AutoLoot");
if (!(it->Flags & 0x0008))
it->PlaceAt(EMap,EActor->x,EActor->y);
if (EActor->isCharacter())
EActor->SetInvSlot(0,((hObj)0));
return 1;
}
}
if (EActor->isCharacter())
EActor->SetInvSlot(0,((hObj)0));
pack = EActor->InSlot(23);
if (pack != ((hObj)0) && pack->isType(30)) {
if (Throw(14,EActor,((hObj)0),pack,it) == 1) {
EActor->IPrint("<hObj> taken.", it);
return 1;
}
}
#line "alchemy.irh" 1314
it->GainTempStati(189,EActor,-2,7,0,0,$"AutoLoot");
EActor->GainItem(it,false);
if (it->Owner() != GetHandle(EActor))
{ EActor->IPrint("Cannot stow <hObj>.", it);
it->Remove(false);
it->PlaceAt(EMap,EActor->x,EActor->y);
return 1; }
else
EActor->IPrint("<hObj> taken.",it);
return 1;
}

EActor->HaltAction("finished looting",true);
return 1;
},
84 {
hObj it;
if (e.EParam != 68)
return 0;
for (it=(hObj)ETerm->FirstSelected();it!=((hObj)0);it=(hObj)ETerm->NextSelected())
if (isValidHandle(it))
it->RemoveEffStati($"AutoLoot");
for (it=EMap->FItemAt(EActor->x,EActor->y);it;
it=EMap->NItemAt(EActor->x,EActor->y))
it->RemoveEffStati($"AutoLoot");
ETerm->LOptionClear();
return 0;
};
}
#line "alchemy.irh" 1587
56 Effect "Inertial Barrier" : 2
{ Flags: 25, 86, 61, 66;
Purpose: 0x00010; xval: 79; yval: ((41+500)+2000);
Desc: "This psionic ability creates a field about two inches
      thick around the psychic's body, dampening the inertia of
      any object moving toward her. This effect reduces the damage
      inflicted by blunt weapons against her by a flat absolute of
      10 hit points, and slashing weapons by 5 hit points.\n
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
On Event (52+500) {
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
},
(((41+500)+2000)+10000) {
if (e.DType == 13)
{
e.vDmg = max(0,e.vDmg - 10);
e.strDmg += " -10 IB";
if (e.vDmg == 0)
return 1;
}
else if (e.DType == 11)
{
e.vDmg = max(0,e.vDmg - 5);
e.strDmg += " -5 IB";
if (e.vDmg == 0)
return 1;
}
return 0;
};
}
#line "alchemy.irh" 1633
56 Effect "Expansion" : 2
{ Flags: 85, 86, 61, 66, 33;
Purpose: 0x00010; xval: 106; yval: 25; pval: 1;
Desc: "Drawing upon this psychometabolic devotion causes the
      character to absorb ambient vitality from the biome around
      her, causing her body to physically grow one full size
      category larger for as long as the power is active.";
On Event 28 {
if (EVictim->GetAttr(25) == 8)
{
EActor->IPrint("You can't get any larger!");
return 1;
}

VPrint(e,"You grow larger!",
"The <EVictim> grows larger!");
e.Terse = true;
return 0;
},
84
"You return to your normal size." /
"The <EActor> grows smaller again.";
}

56 Effect "Chemical Simulation" : 1
{
aval: 6; xval: 3; pval: 2d8; lval: 5; Purpose: 0x00001;
Desc: "Using this power, a psychic character can psychometabolically
      alter the sweat glands and pores in her hands, causing them to emit
      a strong acid she herself is immune to. She may make a touch attack
      to inflict 2d8 points of acid damage; one manifestation of this power 
      allows her to make up to five such touch attacks.\n
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
On Event (52+500) {
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
};
Flags: 66;
}

56 Effect "Adrenaline Control" : 2
{ xval: 106; yval: 0; pval: +4; }
and 2
{ xval: 106; yval: 2; pval: +4; Purpose: 0x00010;
Desc: "This wild talent allows its bearer to channel an adrenaline
      surge to great effect, gaining a +4 magic bonus to Strength and
      Constitution for a brief period at the cost of two Fatigue points.";
On Event (52+500) {
if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
};
}

56 Effect "Flesh Armor" : 2
{ Flags: 85, 86, 61, 66, 33;
Purpose: 0x00010; xval: 118; yval: 17; pval: +5;
Desc: "This wild talent allows a character to exercise mental
      discipline to physically toughen her skin, strengthening the
      bonds between cells and making her skin as hard to pierce,
      tear or crush as cured leather (though its outward appearance
      does not change). While this power is manifest, the character
      has a +5 natural armor bonus."; }

56 Effect "Cell Adjustment" : 26
{ Flags: 86; Purpose: 0x00080 (1);
xval: 0x01; pval: 4d12+4;
Desc: "The entry-point of the psychic healing arts, this devotion
      allows a character to assume conscious control over his body's
      natural healing facilities, stimulating them to heal him of
      4d12+4 points of damage. This places great strain on the body,
      however, and may only be used once per day.";
On Event 155 {
if (EVictim->HasEffStati(189,$"cell adjustment"))
return -1;
return 0;
},
(28+500) {
EVictim->GainTempStati(189,((hObj)0),-2,7,0,0,$"cell adjustment");
return 0;
};
}

56 Effect "Body Equilibrium" : 2
{
Flags: 85, 86, 61, 66, 33;
Desc: "This devotion allows a character to perfectly attune their
      body to any surface, allowing them to walk along anything -- even
      surfaces such as water or a spider's web that could not normally
      support their weight. A side effect of this perfect equilibrium
      is a +10 bonus to the character's Balance skill.";
Purpose: 0x00010 | 0x00400; xval: 130;
}
and 2
{ xval: 124; yval: 5; pval: +10; }

56 Effect "Telepathic Awareness" : 2
{ Flags: 85, 86, 61, 66, 33;
Purpose: 0x00010; xval: 39; yval: 91; pval: 6;
Desc: "The entry-point to the psionic Discipline of Telepathy,
      this power allows a psionicist to sense the presence of other
      minds around him. Telepathic Awareness allows the manifester
      to automatically percieve the presence, identity and location of 
      any non-mindless, non-shielded creatures within 60 feet of her 
      while it is active.";
}

56 Effect "Ballistic Attack" : 3
{ Flags: 23, 86, 61, 33, 13;

xval: 117; yval: 23; pval: +10;
Desc: "Using this psionic power, a character can psychokinetically
      accelerate any thrown weapon to such a velocity that it becomes
      a terrifying, bullet-like blast. The effect lasts for only one
      attack, which must be made shortly after the power is activated;
      if it hits this attack recieves a +10 bonus to damage.";
}

56 Effect "Detonate" : 1
{
Flags: 33, 40; Purpose: 0x00001;
aval: 11; lval: 2; cval: 12; qval: 0x0004 | 0x0008 | 0x0040;
xval: 13; pval: 2d10;
Desc: "By focusing her will into an explosive pinpoint pressure, a
      character with this power can cause any mindless, unliving
      object -- including mindless undead and constructs -- to
      explode, destroying it in the process and inflicting 2d10
      points of blunt damage to everything within 10 feet of it.
      An undead or construct, or the bearer of a targeted item,
      can resist with a Will save (DC 16).\n    
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
hObj hTarget, hSaver;
On Event 155 {

if (e.isSomething && ETarget->isCreature())
return 0;

if (ETarget->isType((-4)))
if (!ETarget->isMagic())
return 0;
if (ETarget->isType(13))
return 0;
if (ETarget->isCreature())
if ((ETarget->isMType(76) || ETarget->isMType(36))
&& (!ETarget->HasMFlag(9)) && (ETarget->GetAttr(3) == 0))
return 0;
#line "alchemy.irh" 1795
if (ETarget->isCreature() && (!EActor->isPlayer()))
if (hTarget = ETarget->FirstInv())
{
while (hTarget != ((hObj)0) && hTarget->isMagic())
hTarget = EVictim->NextInv();
if (hTarget != ((hObj)0))
return 0;
}
return -1;
},
(52+500) {
hObj hMon;
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;

hTarget = GetHandle(EVictim);
if (hTarget->isCreature() && EActor->isMonster())
if (!((hTarget->isMType(76) || hTarget->isMType(36))
&& !hTarget->HasMFlag(9) && hTarget->GetAttr(3) == 0))
{
hTarget = hTarget->FirstInv();
while (hTarget->isMagic())
hTarget = EVictim->NextInv();
}

if (hTarget->isType((-4)) && (hTarget->Owner() != ((hObj)0)))
hSaver = hTarget->Owner();
else if (hTarget->isMonster())
hSaver = hTarget;
else
hSaver = ((hObj)0);
if ((hSaver != ((hObj)0) && hSaver != GetHandle(EActor)) &&
hSaver->SavingThrow(2,16,0x00040000))
{
e.Resist = true;
APrint(e,"The <hObj> resists the detonation.",hTarget);
return 1;
}

if (hSaver != ((hObj)0) && hSaver->isPlayer())
{ hSaver->IDPrint("<12>Your <hObj> explodes!<7>", "The <hObj> explodes!", hTarget); }
else
APrint(e,"The <hObj> explodes!", hTarget);

if (hTarget->isCreature())
EActor->KillXP(hTarget);

e.isLoc = true;
if (hSaver == ((hObj)0))
{
e.EXVal = hTarget->x;
e.EYVal = hTarget->y;
}
else
{
e.EXVal = hSaver->x;
e.EYVal = hSaver->y;
}

if (hTarget->isType(30) || hTarget->isType(26)) {
hMon = CreateMonster($"human");
ThrowDmg(41,8,1000,"",hMon,hTarget);
hMon->Remove(true);
}
else
hTarget->Remove(true);
SetEVictim(e,((hObj)0));
e.isSomething = true;
return 0;
};
}

56 Effect "Combat Mind" : 3
{
xval: 79; yval: (19+2000); Purpose: 0x00010;
Flags: 85, 86, 61, 66, 33;
Desc: "Using this power, you enter a trance-like state where you 
      gain the ability to predict the moves of those you face in combat 
      with an eerie accuracy. Whenever a sapient creature attacks you, 
      you gain a +1 bonus to DC for every point your Intelligence score 
      exceeds theirs. If they are a humanoid, this bonus is doubled.
      This state requires focus; it can only be activated in combat and
      ceases as soon as you become flat-footed.";
On Event ((19+2000)+10000) {
int32 bonus;
if (EActor->isMType(85))
{
bonus = EVictim->GetAttr(3) -
EActor->GetAttr(3);
if (EActor->HasMFlag(1))
bonus *= 2;
if (bonus > 0)
{
e.strDef += Format(" %+d CM",bonus);
e.vDef += bonus;
}
}
return 0;
},
(32+10000) {
if (EActor->isFlatFooted())
EActor->RemoveEffStati($"combat mind");
return 0;
},
(52+500) {
if (EActor->isFlatFooted())
{
EActor->IPrint("You must be in combat to use that power.");
return 2;
}
return 0;
},
155 {
return EActor->isFlatFooted() ? -1 : 0;
};
}
and 3
{ xval: 79; yval: 32; }

56 Effect "Brain Lock" : 3
{ xval: 9; yval: 2; sval: 2; tval: 85;
Flags: 33, 4; qval: 0x0004;
Desc: "A victim of this power finds their conscious mind severed from
      their autonomic brain functions. The effect is in some ways similar
      to entering a fugue state -- the victim stands dazed and blank,
      though they will defend themselves from attacks and are not
      helpless. Only sapient creatures are subject to <9>brain lock<1> --
      the minds of beasts and animals are too primal and instinctive to
      be divided so easily.\n
      __The victim is entitled to a Will saving throw (DC 10 + your Wisdom
      modifier) to resist the effect.\n
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
On Event (52+500) {
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
},
170 {
e.saveDC = 10 + EActor->Mod(4);
},
28
"The world seems distant and unimportant." /
"The <EVictim> stares blankly ahead and does not move.";
}

56 Effect "Energy Containment" : 3
{
xval: 79; yval: (41+2000);
Flags: 85, 86, 61, 66, 33;
Desc: "Activating this power, you align the psychometabolic
      signature of your body to energy, allowing you to absorb
      energy attacks directed against you and convert them into
      harmless light. When you suffer damage from fire, lightning,
      sound or pure magical force the first 20 points of that 
      damage is converted harmlessly into energy provided that you
      react in time by making a DC 10 Intelligence check. When you
      absorb energy in this manner, you glow as if under the effect
      of a <9>faerie fire<1> spell for one round per point of
      damage so absorbed.";
On Event ((41+2000)+10000) {
if (e.DType == 1 || e.DType == 4 ||
e.DType == 10 || e.DType == 8)
{
if (1d20 + EVictim->Mod(3) < 10)
{
EVictim->IPrint("You fail to activate <5>energy containment<7>.");
return 0;
}
VPrint(e,"You <hText>absorb the blast. You glow.",
"The <EVictim> <hText>absorbs the blast. The <EVictim> glows.",
e.vDmg > 20 ? "partially " : "");
if (EVictim->HasEffStati(139,$"Energy Containment;glow"))
EVictim->SetEffStatiDur(139,$"Energy Containment;glow",
EVictim->GetEffStatiDur(139,$"Energy Containment;glow") +
min(20,e.vDmg));
else
EVictim->GainTempStati(139,((hObj)0),min(20,e.vDmg),7,0,0,
$"Energy Containment;glow");
if (e.vDmg <= 20)
return 1;
else
e.vDmg -= 20;
}
return 0;
};
}

Effect "Energy Containment;glow" : 46
{
Flags: 61;
On Event 205 "Glowing";
Desc: "You are currently glowing as a result of having absorbed energy using
      the <9>Energy Containment<1> psionic power.";
}
#line "alchemy.irh" 2008
56 Effect "Ectoplasmic Cocoon" : 46
{
Desc: "You draw upon ectoplasm -- the material of the astral plane
      -- to weave a cocoon around yourself inside which you can rest
      safely in even the most dangerous enviornments. Because the
      cocoon exists between the astral, ethereal and material planes,
      it is all but impossible to harm and provides a secure resting
      place from even the most powerful threats. Weaving it takes time
      and meditation, however, so this power cannot be used to escape
      combat or other immediate threats.";
On Event 28 {
ThrowVal(45,0x0100|0x0001,EActor,EActor);
return 1;
};
}

56 Effect "Whitefire" : 1
{ sval: 1 partial; xval: 1; pval: 3d4; Purpose: 0x00001;
aval: 3; qval: 0x0001 | 0x0004; cval: 29; lval: 12;
Flags: 40;
Desc: "By manifesting this power, you conjure intensely unstable
      strands of excited matter from the astral plane that combust
      into brilliant streams of silvery fire upon contact with air
      in the prime material. This material manifests as a compressed
      globe at the very edges of your fingertips and streaks outward
      to explode in a volumetric blast inflicting 3d4 points of fire
      damage and 1d4 points of unavoidable trauma damage. The intense
      heat of whitefire easily damages items.\n
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
On Event (52+500) {
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
};
}
and 1
{ xval: 0; pval: 1d4;
On Event 200 "strands of burning ectoplasm"; }

56 Effect "Clairvoyance;psi version" : 47
{ Purpose: 0x00000; xval: 0x01 | 0x20; pval: 30; yval: 5;
Desc: "Manifesting this power allows a psionically active character
      to extend his senses beyond his body, viewing through solid matter
      to see distant locations as if he was physically present there."; }

56 Effect "Biocurrent" : 1
{ aval: 6; lval: -101; xval: 4; pval: 1d12;
Purpose: 0x00001;
Flags: 86, 61, 25, 66, 33;
Desc: "Through natural talent or careful training, you are able to
      manipulate your body into producing a surprisingly intense
      bioelectric current not unlike an electric eel, discharged through 
      the palms of your hands. When you manifest this power, you charge
      this internal reserve, and gain the ability to make a touch attack
      which inflicts 1d12 lightning damage. You can make a number of such
      attacks equal to your Constitution modifier plus 2 (minimum 1) before
      the reserve is depleted.\n
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
On Event (52+500) {
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
},
206
"You feel a humming power within your bones." / "",
83
"Fzzap!" /
"Fzzap!",
170 {
e.vCasterLev = max(1,EActor->Mod(2) + 2);
return 0;
};
}

56 Effect "Mental Invisibility" : 3
{ xval: 154; yval: 85; Purpose: 0x00002;
Flags: 86, 61, 25, 66, 33;
Desc: "Using this power, the manifester can cloud the minds of those
      around her, rendering them unable to percieve her presence. This
      only affects creatures that have a mind and whose Will save modifier
      does not exceed 5 + your CR. Attacking ends the effect.\n
      __Activating this power costs 2 fatigue points if your Fortitude
      save bonus is lower that +8, 1 fatigue point if your Fortitude
      save bonus is lower than +15 and no fatigue if your Fortitude
      save bonus is +15 or higher.";
On Event (52+500) {
if (EActor->GetAttr(28) >= 15)
0;
else if (EActor->GetAttr(28) >= 8) {
if (!EActor->LoseFatigue(1,true))
return 2;
}
else if (!EActor->LoseFatigue(2,true))
return 2;
return 0;
},
155 {
#line "alchemy.irh" 2125
if (!EActor->HasEffStati(79,$"Mental Invisibility"))
return 0;
if (EVictim->HasMFlag(33))
return -1;
if (EVictim->GetAttr(30) > 5 + EActor->ChallengeRating())
return -1;
return 0;
};
}

56 Effect "Chameleon Shifting" : 3
{ xval: 124; yval: 18; Purpose: 0x00010 | 0x00002;
Flags: 86, 61, 85, 66, 33;
Desc: "Characters with this power can imitate the biological
      process a chameleon uses to change the color of its skin,
      allowing them to blend nearly perfectly into their surrondings.
      Manifesting this power gives the character a +10 bonus to the
      Hide skill.";
}

56 Effect "Synaptic Static" : 3
{ xval: 79; yval: 36; Purpose: 0x00010;
aval: 7; lval: 6; rval: 0x00000002 | 0x00000004; cval: 5;
Flags: 86, 61, 66, 33, 34;
Desc: "By manifesting this power, a character emits a kind of
      psychic static that interferes with other psionic creatures'
      attempts to use their powers. This effects an area consisting
      of a globe centered on you with a 60 foot radius. If a character 
      wishes to manifest a psionic power while inside this area (other
      than a defense mode), they must beat you in an opposed
      Concentration check; otherwise, the power does not manifest and
      the manifester has wasted 15 phases.";
On Event (36+10000) {
int32 manifester_check, static_check;
hObj hStatic;
if (e.eID->HasSource(56))
{
hStatic = EActor->GetEffStatiObj(79,$"Synaptic Static");
if (hStatic->isPlayer())
{
EActor->SkillCheck(8,0,true);
manifester_check = LastSkillCheckResult();
hStatic->SkillCheck(8,manifester_check,true);
static_check = LastSkillCheckResult();
}
else
{
hStatic->SkillCheck(8,0,true);
static_check = LastSkillCheckResult();
EActor->SkillCheck(8,static_check+1,true);
manifester_check = LastSkillCheckResult();
}
if (static_check >= manifester_check)
{
EActor->IDPrint("Psychic static overwhelms your attempt to
                                  manifest a power.", "The <hObj> concentrates,
                                  but nothing happens.", EActor);
EActor->Timeout += 15;
return 1;
}
}
return 0;
},
43
"You hear a buzzing sound at the back of your mind.",
44
"The buzzing fades away now.";
}
#line "alchemy.irh" 2384
58 Effect "Butterfly" : 2
{
xval: 145; yval: 2; pval: 25;
Desc: "This tattoo grants a monk a preternatural agility at dodging,
      allowing her to flit from place to place in an almost supernatural
      manner and giving all attacks -- melee and ranged -- made against 
      her a 25~ miss chance.";
}

58 Effect "Monkey" : 2
{
Desc: "The monkey is the most skillfull and clever of all animals,
      so a monkey tattoo grants a monk a bonus to Tumble, Escape Artist,
      Pick Pockets, Climb, Athletics and Lockpicking checks equal to
      his tattoo mystic level, as well as granting him the Brachiation
      feat.";
On Event (28+500) {
if (e.efNum != 6)
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
return 0;
};
xval: 124; yval: 46;
}
and 2
{ xval: 124; yval: 13; }
and 2
{ xval: 124; yval: 38; }
and 2
{ xval: 124; yval: 7; }
and 2
{ xval: 124; yval: 4; }
and 2
{ xval: 124; yval: 33; }
and 2
{ xval: 41; yval: ((49 + 1) + 27); }

58 Effect "Bamboo" : 2
{
Desc: "The bamboo tattoo grants the mystic great fortitude, giving
      her an enhancement bonus to her Constitution equal to half her
      tattoo mystic class level, but paradoxically also grants her a
      yielding character, allowing her to weave and roll with attacks
      by granting her the Dodge feat.";
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = (EActor->LevelAs($"Tattoo Mystic")+1) / 2;
return 0;
};
xval: 106; yval: 2;
}
and 2
{ xval: 41; yval: (((49 + 1) + 32) + 44); }

58 Effect "Scorpion" : 2
{
Desc: "The scorpion tattoo grants a mystic the power of striking
      retributively - once a foe has injured him in combat recently for 
      more then 10~ of his total hit points, he gains a +1 bonus to all 
      melee attack rolls against that foe, and twice that to damage,
      for every 10~ of the mystic's hit points inflicted, to a maximum
      of the tattoo mystic's class level (i.e., max +5/+10 at 5th level). 
      The scorpion tattoo also grants unearthly reflexes, bestowing the 
      Improved Initiative feat.";
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
return 0;
};
xval: 39; yval: 67;
}
and 2
{ xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 27); }

58 Effect "Dragonfly" : 3
{
Desc: "The dragonfly tattoo grants the mystic the speed of its namesake
      -- it can be activated at the cost of two fatigue to grant the mystic
      a 150% bonus to attack speed for a number of rounds equal to twice the 
      mystic's class level.";
On Event (28+500) {
if (!EActor->LoseFatigue(2,true))
return 2;
e.vDuration = EActor->LevelAs($"Tattoo Mystic")*2;
return 0;
};
xval: 106; yval: 54; pval: 30;
Flags: 48;
}

58 Effect "Mountain" : 2
{
Desc: "The mountain tattoo gives the mystic all the weight and immovability
      of ageless stone, granting her a bonus to resist knockdown equal to her
      tattoo mystic level as well as bestowing the Living Wall and Endurance
      feats.";
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
return 0;
};
xval: 123; yval: 20;
}
and 2
{ xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 11); }
and 2
{ xval: 41; yval: ((((49 + 1) + 32) + 50) + 8); }

58 Effect "Dragon" : 1
{
Desc: "The dragon tattoo grants perhaps the most spectacular, though not
      necessarily the most powerful, ability of all. A tattoo mystic with this
      tattoo can breathe fire in a 60-foot cone, inflicting [Level + 3]d10 points 
      of damage based on tattoo mystic class level, plus your Constitution
      modifier, at a cost of one fatigue. A Reflex save halves the damage.";
On Event (52+500) {
if (!EActor->LoseFatigue(1,true))
return 2;
},
170 {
SetPVal(e,EActor->Mod(2),
EActor->LevelAs($"Tattoo Mystic") + 4, 10);
return 0;
},
200
"gout of flame";
aval: 2; cval: 4; sval: 1 partial; Flags: 48;
xval: 1;
}

58 Effect "Crane" : 2
{
Desc: "The crane, among the noblest of all animals, grants the mystic a
      bonus to Balance equal to twice his class level, as well as bestowing the
      Improved Trip feat and sustaining his Dexterity and Charisma at a level
      equal to his class level.";
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = EActor->LevelAs($"Tattoo Mystic") * 2;
else if (e.efNum != 1)
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
return 0;
};
xval: 124; yval: 5;
}
and 2
{ xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 25); }
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 125; yval: 5; }

58 Effect "Mantis" : 2
{
Desc: "The mantis tattoo bestows upon a mystic three benefits -- a hardening
      of the skin akin to a mantis' carapice which grants +1 natural armor every
      even class level, the Mantis Leap feat and a bonus to Jump equal to the
      mystic's class level.";
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
if (e.efNum == 2)
e.vDmg = EActor->LevelAs($"Tattoo Mystic") / 2;
return 0;
};
xval: 124; yval: 22;
}
and 2
{ xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 19);}
and 2
{ xval: 118; yval: 17; }

58 Effect "Demon" : 2
{
Desc: "One of the darker tattoos a tattoo mystic can recieve, the demon allows
      its bearer to grow strong by feeding on the pain of others -- the mystic
      regains one hit points for every ten hit points of damage she inflicts.";
xval: 39; yval: 35; pval: 1;
}

58 Effect "Spider" : 2
{
Desc: "A mystic with the spider tattoo is able to poison his foes when he scores
      a critical hit using his unarmed attack, or on 1 in 3 normal unarmed attacks. A 
      Fortitude saving throw against a DC of 10 + the tattoo mystic's class level + 
      his Wisdom modifier negates this effect. The poison used is spider venom at
      tattoo mystic class levels 1-2, giant spider venom at levels 3-6, elder spider
      venom at levels 7-8 and collosal spider venom at level 9+.\n
      __A foe must make a new saving throw after every poisoning attack, but once a
      foe has been poisoned, further attacks do not increase the effect.";
xval: 79; yval: (20+1000);
On Event ((20+1000)+10000) {
rID poisonID;
if (EVictim->isDead())
return 0;
if (EActor->isDead())
return 0;

if (EActor->LevelAs($"tattoo mystic") >= 9)
poisonID = $"collosal spider venom";
else if (EActor->LevelAs($"tattoo mystic") >= 7)
poisonID = $"elder spider venom";
else if (EActor->LevelAs($"tattoo mystic") >= 3)
poisonID = $"giant spider venom";
else
poisonID = $"spider venom";

if (EVictim->HasEffStati(2,poisonID))
return 0;
if (EVictim->SavingThrow(0,10 + EActor->LevelAs($"tattoo mystic")
+ EActor->Mod(4), 0x00000080))
{
EActor->IPrint("The <hObj> resists your poison!", EVictim);
EVictim->IPrint("You briefly feel feverish, but then you resist!");
}
EVictim->GainPermStati(2,EActor,6,0,0,poisonID);
EActor->IPrint("Your strike poisones the <hObj>!", EVictim);
EVictim->IPrint("You suddenly feel feverish!");
return 0;
};
}

58 Effect "Sun;tattoo" : 2
{
Desc: "The sun tattoo is a powerful symbol of positive energies. A
      tattoo mystic with this tattoo inflicts +2d6 bonus damage against
      undead using his unarmed strike. Additionally, the tattoo can be
      activated to illuminate a 60-foot area around the mystic with
      brilliant golden light for a brief period, with the same effects
      as a <9>call light<7> spell. A tattoo mystic must be Good-aligned 
      to recieve this tattoo.";
xval: 79; yval: (20+500);
On Event ((20+500)+10000) {
int32 xd;
if (EVictim->isMType(76))
{
xd = 2d6;
e.strXDmg += " +2d6 sun";
e.xDmg += xd;
ThrowDmg(41,0,xd,"the effects of a sun tattoo",EActor,EVictim);
VPrint(e,"Golden light sears you!", "Golden light sears the <EVictim>!");
}
return 0;
},
151 {
if (!EActor->isMType(106))
return 2;
return 0;
};
}
and 46
{
cval: 14; lval: 5; aval: 7; rval: 0x00000080;
Flags: 80, 49;
On Event 74
"The light fades away.",
28 {
if (e.efNum == 1) {
APrint(e, "A golden light illuminates the area!");
e.vDuration = 10;
}
return 0;
};
}

58 Effect "Eye" : 2
{
Desc: "The eye tattoo expands the mystic's perceptions, allowing
      him to see invisible creatures and detect cursed or blessed items,
      and grants him a bonus to Spot equal to his tattoo mystic level.";
xval: 124; yval: 44;
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
return 0;
};
}
and 2
{ xval: 101; }
and 2
{ xval: 39; yval: 33; pval: +1; }

58 Effect "Tiger" : 2
{
Desc: "The tiger tattoo inbues the mystic with strength, power and
      virility, granting him a magic bonus to Strength equal to half
      his tattoo mystic class level, as well as a bonus to the Intimidate
      skill equal to his full class level.";
On Event (28+500) {
if (e.efNum == 0)
e.vDmg = (EActor->LevelAs($"Tattoo Mystic")+1) / 2;
else
e.vDmg = EActor->LevelAs($"Tattoo Mystic");
return 0;
};
xval: 106; yval: 0;
}
and 2
{ xval: 124; yval: 20; }
#line "mundane.irh" 5
Item "wand" : 57
{
Image: white '/';
Level:0; Mat:8;
Weight: 1; Flags: 1; hp: 5;
Desc: "Magical wands are thin, finely crafted sticks containing 
      innate, repeatable magical effects -- often evocations or
      conjurations. They have between one and fifty charges and can
      be used with the Blast Staff or Wand ('b') command. The Use
      Magic skill determines your degree of success when using a
      wand.";
}

Item "lenses" : 35
{
Image: white 236;
Level:0; Mat:19;
Weight: 1; Flags: 13, 1; hp: 5;
Desc: "Magical lenses are thin, finely crafted sheets of glass
      or crystal that imbue magical powers when fitted over the eyes.";
Cost: 100 1;
}

Item "potion" : 47
{
Image: white 173; hp: 1;
Level:0; Mat:19;
Weight: 2; Flags: 12, 1;
On Event (20+500), (48+1000) {
if (GetHandle(EItem2))
if (!(EItem2->Flags & 0x0008))
{
APrint(e,"The potion shatters!");
EItem2->Remove(true);
}
},
(95+500) {
if (GetHandle(EItem) != ((hObj)0))
if (e.eID == ((rID)0))
e.eID = EItem->ieID;
return 0;
};
Desc: "A potion is a magically prepared liquid that conveys a
      supernatural effect to its wearer when drunk -- often imbuing
      her with magical power or curing some malady she suffers from.";
}

Item "tablet" : 56
{
Image: white '%'; hp: 1;
Level:0; Mat:3;
Weight: 0; Flags: 1, 2;
Desc: "Tablets are the product of alchemy, containing mundane effects
      similar to, but less pronounced than, those of magical potions. Many
      of them have psychoactive effects.";
On Event (53+500) {
if (GetHandle(EItem))
{
DPrint(e,"You swallow an <EItem>.",
"The <EActor> swallows an <EItem>.");
e.eID = EItem->ieID;
e.isActivation = true;
SetEItem(e,EItem->TakeOne());
if (ReThrow(52, e) == 1)
EItem->Remove(true);
return 1;
}
return 2;
};
}

Item "tome" : 55
{
Image: brown 254;
Mat:5; Level: 0;
Weight: 40; Flags: 1;
Desc: "These incredibly rare and ancient items are the remnants of a
      kind of magic long since lost from Therya's surface. They have the
      power to permanantly augment the traits of one who reads them, and
      typically vanish after being read once.";
On Event 38 {
if (GetHandle(EItem) == ((hObj)0))
return 0;
if (EItem->ieID == ((rID)0))
{
EActor->IPrint("This tome's entirely blank!");
return 1;
}
if (!EItem->isKnown(0x04))
{
EActor->IPrint("This strange tome makes no sense when you try 
            to read it -- if only you had some magic to help you understand
            how to use it!");
return 1;
}
e.eID = EItem->ieID;
return ReThrow(52,e);
};
}

Item "ring" : 48
{
Image: yellow 235; Size: 1;
Mat:20; Level: 0;
Weight: 0; Flags: 1; hp: 10;
Desc: "Rings of all shapes and sizes can contain powerful dwenomers,
      often enhancing the wearer's capabilities in some way or providing
      a special function when activated.";
Cost: 2 1;
}

Item "bracers" : 25
{
Image: white 224;
Mat:11; Level: 0;
Weight: 20;
Flags: 13, 1;
Desc: "Bracers are leather or metal bands worn around the wrists,
      typically just under a foot in length. They are often granted
      enhancements which increase the wearer's militant prowess.";
}

Item "scroll" : 50
{
Image: grey 168;
Mat:5; Level: 0;
Weight: 1; hp: 5;
Flags: 1;
Desc: "Scrolls are transcriptions of magical spells, as might be found
      in a spellbook, imbued with an innate magic of their own. They cannot
      be read by common folk, but skilled spellcasters (and canny rogues
      with the Decipher Script skill) can use the magic stored within them 
      to cast spells they do not know naturally. Each scroll holds a single
      spell.";
On Event 163 {
if (!EItem->isKnown(0x04)) {
e.nPostqual += " labeled ";
e.nPostqual += Trim(e.nFlavor);
}
e.nFlavor = "";
return 1;
};
}


Item "boots" : 23
{
Image: grey 224;
Mat:7; Level: 0;
Weight: 30; hp: 15; Cov: 1;
Flags: 13, 1;
Desc: "Boots come in all shapes and sizes. They can be enchanted like
      other items, typically to augment a wearer's movement or prowess
      with his feet.";
}

Item "headband" : 41
{
Image: grey 155;
Mat:6; Level: 0;
Weight: 2; hp: 5;
Flags: 1;
Desc: "Magical headbands are often created by wizards to augment their
      mind, mystical insight or magical abilities.";
}

Item "hat" : 41
{
Image: brown 155;
Mat:6; Level: 0;
Weight: 2; hp: 10;
Flags: 1;
Desc: "Hats come in a staggering variety of styles and shapes and are
      worn by all classes of people, though only a few magical varieties
      are known to exist.";
}

Item "helm" : 41
{
Image: grey 155;
Mat:11; Level: 0;
Weight: 40; hp: 20;
Cov: 2; Flags: 1;
Penalty: 1;
Desc: "Helms are favored by warriors and paladins, and often contain
      types of magic useful to those who have few innate spells of their
      own to call on.";
}

Item "girdle" : 40
{
Image: brown 226;
Mat: 7; Level: 0;
Weight: 5; hp: 10;
Flags: 1;
Desc: "A girdle is a thick leather belt, occasionally enchanted to
      augment a wearer's hardiness or bestow other primal blessings.";
}

Item "amulet" : 20
{
Image: cyan 11; hp: 5;
Mat: 20; Level: 0;
Weight: 5; Flags: 1;
Desc: "An amulet can be a necklace, brooch, periapt or any other
      similar piece of jewelry. They are typically enchanted with
      abjurations and wards against harm.";
}

Item "stone" : 39
{
Image: grey '*'; hp: 10;
Mat: 28; Level: 0;
Weight: 10; Flags: 1;
Desc: "Occasionally, a simple stone is imbued with magic by a wizard,
      whether a rare gem or mineral or simply a normal polished rock.
      Unlike most magic items, a stone does not need to be worn to gain
      its benefit -- simply carrying it outside one's pack will bestow its
      blessing upon the bearer.";
}

Item "stone;light" : 39
{
Image: grey '*'; hp: 10;
Mat: 28; Level: 0;
Weight: 2; Flags: 1;
Desc: "Occasionally, a simple stone is imbued with magic by a wizard,
      whether a rare gem or mineral or simply a normal polished rock.
      Unlike most magic items, a stone does not need to be worn to gain
      its benefit -- simply carrying it outside one's pack will bestow its
      blessing upon the bearer. This stone seems to be considerably lighter
      than most such magical stones.";
}

Item "cloak" : 28
{
Image: blue 6; hp: 10;
Mat: 6; Level: 0;
Weight: 10; Flags: 1;
Desc: "Cloaks come in any number of styles, from opulent luxury to
      tattered rags. When gifted with magic, they often enhance stealth,
      bestow elegance or convey kinship to certain night creatures.";
}

Item "gauntlets" : 38
{
Image: grey 229;
Mat:11; Level: 0;
Weight: 30; hp: 10; Cov: 1;
Flags: 13, 1;
Desc: "Gauntlets are armored gloves made of thick metal, designed
      to accompany a suit of heavy armor. They are typically enchanted
      to augment the wearer's offensive power.";
}

Item "gloves" : 38
{
Image: brown 229;
Mat:7; Level: 0;
Weight: 10; hp: 3; Cov: 0;
Flags: 13, 1;
Desc: "Gloves are supple, light-weight hand coverings often favored by
    rogues and adventurers. Many are enchanted.";
}

Item "rod" : 58
{
Image: grey '|'; Group: 0x00000001 | 0x00000080; Spd: 90%;
Mat: 11; Size: 4; Weight: 10; Cost: 15 1;
Parry: 4; SDmg: 1d8; LDmg: 1d6; Acc: +2; Crit: x3; Threat: 2;
Flags: 28, 39, 1;
Desc: "Rods symbolize lordship, power, authority and military
      might; they are often enchanted with useful abilities by
      warlords, soldiers, humanoids and other men at arms.";
}
#line "mundane.irh" 283
Item "staff" : 58
{ Image: bright cyan '|'; Group: 0x00000001 | 0x00000040 | 0x00002000;
Mat:8; Size: 4; Weight: 7; Cost: 13 1;
Parry: 8;
SDmg:1d8; LDmg:1d6; Acc: +4; Crit: x2; Threat: 1; Spd: 100%;
Flags: 18, 28, 33, 1;
Desc: "A long stout staff used as a weapon and wielded with one hand in
    the middle and the other between the middle and the end.";
}
#line "mundane.irh" 297
Item "climbing rig" : 56
{
Image: brown 234; Mat: 7; Level: 0; HP: 15;
Size: 3; Weight: 30;
Desc: "This heavy leather pouch includes special tools for knotting
      rope, pitons, a climbing harness, suction cups for smooth surfaces
      and other equipment useful to climbers.";
Lists:
* 23 7;
Constants:
* 107 +4;
Cost: 30 1;
}

Item "alchemy set" : 56
{
Image: bright red 234; Mat: 8; Level: 0; HP: 10;
Size: 3; Weight: 60;
Desc: "An alchemy set is a heavy wooden box about the size of a
      briefcase, filled with a variety of reagents along with glassware,
      miniature burners, testing strips and magical measuring instruments.
      It also contains fold-out charts describing elemental correspondances
      and literally hundres of strange powders and ingredients.\n
      __You cannot use the Alchemy skill without an alchemy set.";
Lists:
* 23 1;
Cost: 5000 1;
}

Item "viewing lens" : 56
{
Image: bright cyan 234; Mat: 19; Level: 0; HP: 1;
Size: 2; Weight: 3;
Desc: "As much a sign of nobility as fine clothing or servants,
      a viewing lens is an expertly manufactured concave glass that
      magnifies whatever is seen through it. The level of skill as
      a glassblower needed to create such a finely-crafted item is
      rare on Theyra, making it a valuable tool drawing high prices
      from specialists in many fields. It is thus highly useful
      when using the Search, Decipher Script, Craft or Handle Device
      skills, to which it grants a +2 kit bonus that stacks with
      other kit bonuses.";
Lists:
* 24 41 10 9 16;
Constants:
* 107 +2;
Cost: 300 1;
}

Item "craftsman's tools" : 56
{
Image: grey 234; Mat: 11; Level: 0; HP: 15;
Size: 3; Weight: 40; Flags: 13;
Desc: "The craftsman's tool set consists of a dozen different
      miniature hammers, picks and bevels, needles and thread, 
      tiny tubes of glue and grease, files for use on metal and 
      wood-carving knives and various ungents and oils used to
      treat and smooth surfaces and clear away rust.\n 
      __You cannot use the Craft skill without a tool set,
      but you also need raw materials (i.e., an iron ingot, a
      bolt of fine cloth, gemstones) to create new items.";
Lists:
* 23 9;
Cost: 120 1;
}

Item "mechanical tools" : 56
{
Image: bright blue 234; Mat: 11; Level: 0; HP: 5;
Size: 2; Weight: 10; Flags: 13;
Desc: "This tiny steel snap-case contains a number of
      miniature screwdrivers, replacement gears, long-spoon
      wire cutters and so forth. It is useful for anyone
      building or repairing clockwork devices -- and is thus
      of primary important to gnomes -- and also to adventurers
      who want to be able to disarm traps in a dungeon.\n
      __You cannot use the Handle Device skill without these
      tools.";
Lists:
* 23 16;
Cost: 150 1;
}

Item "disguise kit" : 56
{
Image: purple 234; Mat: 11; Level: 0; HP: 5;
Size: 3; Weight: 20;
Desc: "This wooden case, about a foot long and same wide, 
      and half that in thickness, snaps open to reveal a wide
      variety of dyes, makeup, contact lenses, prosthetics, 
      mirrors and straps. It also contains a wide variety of
      clothing bearing a minor magical enchantment that allows
      it to occupy far less space then it normally would.\n
      __You cannot use the Disguise skill without a disguise
      kit, unless you have magical aid (such as the <9>hat of
      disguise<7> or a <9>change self<1> spell).";
Lists:
* 23 12;
Cost: 1000 1;
}

Item "healing kit" : 56
{
Image: white 234; Mat: 8; Level: 0; HP: 5;
Size: 3; Weight: 40;
Desc: "This wooden case, about a foot long and same wide, 
      and half that in thickness, snaps open to reveal a wide
      variety of bandages, scalpels, ointments, antitoxins,
      disinfectants and alchemical medications. 
      __You cannot use the Healing skill without a healing
      kit, unless you are a priest with the Healing domain.";
Lists:
* 23 17;
Cost: 250 1;
}

Item "pickaxe" : 58
{ Image: purple 251; Group: 0x00000010 | 0x00000002;
Mat: 11; Size: 4; Weight: 100; Cost: 4 1;
Parry: +3;
SDmg: 1d8; LDmg: 1d8; Acc: -1; Crit: x4; Threat: 1; Spd: 70%;
Flags: 27, 42, 34, 45,
22;
Desc: "The pickaxe may be useful as a weapon in desperate
      circumstances, but its primary utility -- to miners and
      adventurers alike -- is as a digging instrument to break
      apart hard rock.\n
      __You cannot use the Mining skill without a pickaxe or
      similar digging instrument.";
Lists:
* 23 35;
Constants:
* 107 +2;
Cost: 50 1;
}

Item "hemp rope" : 56
{
Image: brown 234; Mat: 6; Level: 0; HP: 2;
Size: 3; Flags: 15, 7; Weight: 10; Cost: 1;
Desc: "Most rope on Theyra is woven out of hemp; however,
      it is heavy and not as strong as the more expensive kinds
      of rope made from silk or the rare giant-hair rope. Rope
      can be used to aid in climbing, bind subdued opponents,
      set trip wire and snare traps or make a lasso.\n
      __Hemp rope grants a +3 kit bonus to Climb checks that 
      stacks with the bonus from a climbing set.";
Constants:
* 111 +3;
On Event 163 {
e.nArticle = e.nArticle + "coil of ";
e.nAppend += Format(" (%d feet)",EActor->GetQuantity()*5);
return 0;
};
COST: 3 3;
}

Item "silk rope" : 56
{
Image: brown 234; Mat: 6; Level: 0; HP: 4;
Size: 3; Flags: 15, 7; Weight: 5; Cost: 10;
Desc: "Silk rope is strong, light and supple, but also
      more expensive than hemp. Rope can be used to aid in 
      climbing, bind subdued opponents, set trip wire and 
      snare traps or make a lasso.\n
      __Silk rope grants a +4 kit bonus to Climb checks that 
      stacks with the bonus from a climbing set.";
Constants:
* 111 +4;
On Event 163 {
e.nArticle = e.nArticle + "coil of ";
e.nAppend += Format(" (%d feet)",EActor->GetQuantity()*5);
return 0;
};
Cost: 2 1;
}

Item "giant's-hair rope" : 56
{
Image: brown 234; Mat: 7; Level: 0; HP: 10;
Size: 3; Flags: 15, 7; Weight: 6; Cost: 100;
Desc: "The strongest, best and rarest rope found on Theyra
      is that woven from the hair of giants. While some giants
      shear and weave their own hair to sell to human or
      demihuman communities, most giant's-hair rope is made
      from the corpses of giants slain by dwarves, who invented
      the rope. Rope can be used to aid in climbing, bind 
      subdued opponents, set trip wire and snare traps or make 
      a lasso.\n
      __Giant's-hair rope grants a +5 kit bonus to Climb checks that 
      stacks with the bonus from a climbing set.";
Constants:
* 111 +5;
On Event 163 {
e.nArticle = e.nArticle + "coil of ";
e.nAppend += Format(" (%d feet)",EActor->GetQuantity()*5);
return 0;
};
Cost: 30 1;
}

Item "lute" : 56
{
Image: cyan '&';
Mat: 8; Weight: 15; hp: 15;
Lists:
* 23 37;
Constants:
* 107 +2;
Cost: 7 1;
}

Item "mandolin" : 56
{
Image: cyan '&';
Mat: 8; Weight: 15; hp: 15;
Lists:
* 23 37;
Constants:
* 107 +2;
Cost: 30 1;
}

Item "flute" : 56
{
Image: cyan '&';
Mat: 9; Weight: 5; hp: 10;
Lists:
* 23 37;
Constants:
* 107 +2;
Cost: 2 1;
}

Item "horn" : 56
{
Image: cyan '&'; hp: 15;
Mat: 9; Weight: 10;
Flags: 1;
Desc: "Horns come in all shapes and sizes, and are often associated
      with the nobility. Some are enchanted to produce a magical effect
      when blown (activated).";
Lists:
* 23 37;
Constants:
* 107 +2;
Cost: 5 1;
}
#line "mundane.irh" 551
Item "corpse" : 31
{
Image: light purple '%'; hp: 50;
Level:0; Mat:4;
Desc: "This is the lifeless body of a slain creature. Corpses often carry 
    diseases and are generally not safe sources of food. Creatures with the 
    <11>Devouring<7> special ability can sometimes benefit from eating entire 
    corpses, but are still vulnerable to carried diseases.";
}

Item "statue" : 53
{
Image: light grey 5;
Level:0; Mat:28;
hp: 100;
}

Item "figure" : 36
{
Image: light grey 156;
Level:0; Mat:20; Weight: 3; hp: 5;
Flags: 1;
}

Item "robes" : 27
{
Image: purple '[';
Mat: 6; Weight: 0; hp: 20;
Flags: 13, 1;
Cost: 3 3;
}

Item "white robe" : 27
{
Image: white '[';
Mat: 6; Weight: 0; hp: 20;
Flags: 1;
Cost: 3 3;
}

Item "loincloth" : 27
{
Image: brown '[';
Mat: 6; Weight: 0; hp: 20;
}

Item "clerical vestment" : 27
{
Image: white '[';
Mat: 6; Weight: 0; hp: 20;
Cost: 2 1;
}

Item "peasant garb" : 27
{
Image: grey '[';
Mat: 6; Weight: 0; hp: 20;
Cost: 3 4;
}

Item "noble attire" : 27
{
Image: blue '[';
Mat: 6; Weight: 0; hp: 20;
Cost: 20 1;
}

Item "holy symbol" : 54
{
Image: white 237; Cost: 15;
Mat: 11; Weight: 3; hp: 20;
Cost: 5 1;
}

Item "torch" : 44
{ Image: brown '{';
Mat: 8; Weight: 10; hp: 10;
Light Range: 4; Lifespan: 3000;
Cost: 1 3;
}

Item "brass lantern" : 44
{ Image: yellow '{';
Mat: 13; Weight: 20; hp: 20;
Light Range: 6; Lifespan: 18000;
Flags: 44;
On Event 6, 95 {
hObj h;
if (GetHandle(ETarget) && GetHandle(EItem))
if (ETarget->isType((-4)) && EItem->isType((-4)))
if (EItem->ieID == $"flask of oil" && EItem->isKnown(0x04))
if (ETarget->iID == $"brass lantern")
{
ETarget->Age = 18000;
DPrint(e,"You refill your lantern.",
"The <EActor> refills his lantern.");
h = EItem->TakeOne();
h->Remove(true);
return 1;
}
return 0;
};
Cost: 2000 1;
}

1 Effect "flask of oil" : 46
{
Flags: 20, 67;
On Event 28
"This tastes greasy!";
Lists:
* 25 10;
}

Item "trap components" : 56
{ Image: bright green 246;
Mat: 11; Weight: 50; hp: 25;
Flags: 13, 1, 16;
Desc: "Trap components typically consist of complex clockwork mechanisms,
      canisters of pressurized gas, magical glyphs and intricate touch
      sensors. Characters with a Handle Device score of +12 or higher can
      set up traps where they are standing by Activating trap components.";
On Event 163 {
rID trID;
trID = EActor->GetStatiEID(194);
if (trID != ((rID)0))
{
e.nBase = NAME(trID);
e.nBase += " components";
}
return 0;
},
15 {
rID trID; hObj tr; int32 CheckDC; int32 res;
if (!EItem->HasStati(194))
return 2;
if (EActor->SkillLevel(16) < 15)
{
EActor->IPrint("You must have Handle Device 15+ in
            order to set up traps.");
return 2;
}
if (EMap->FallAt(EActor->x, EActor->y) ||
EMap->SolidAt(EActor->x, EActor->y))
{
EActor->IPrint("You must be on open, solid ground to
            set up a trap.");
return 2;
}
trID = EItem->GetStatiEID(194);
switch (EItem->GetStatiMag(194))
{
case 1:
break;
case -1:
EActor->IPrint("You've already failed to set up that trap.");
return 2;
case 0:
CheckDC = 25 + trID->Level;
res = EActor->SkillCheck(16,CheckDC,true);
EItem->SetStatiMag(194,-1,((hObj)0),res ? 1 : -1);
if (!res)
{
EActor->IPrint("You fail to set up the trap correctly.");
return 1;
}
break;
}
#line "mundane.irh" 724
e.EXVal = EActor->x;
e.EYVal = EActor->y;
tr = CreateTrap($"trap", trID);
tr->PlaceAt(EMap, e.EXVal, e.EYVal);
tr->GainPermStati(193,EActor,7);
tr->TrapFlags |= 0x0001;
if (EItem->HasStati(172))
tr->GainPermStati(172,EItem->GetStatiObj(172),7);
EActor->IPrint("You set up a <Res>.",trID);
EActor->Timeout += 60;
EItem->Remove(true);
return 1;
};
}
#line "mundane.irh" 750
Item "food ration" : 37
{
Image: light grey '%';
Mat: 3; Weight: 5; hp: 10;
Nutrition: 25; Flags: 10;
Desc: "Food rations contain dried foodstuffs
    that can be stored for extended periods of time without spoiling.
    Combined with a ten-foot pole and fifty feet of rope, they round out an
    old school adventurer's backpack nicely.";
Cost: 5 1;
}

Item "cottonberry loaf" : 37
{
Image: light grey '%';
Mat: 3; Weight: 3; hp: 10;
Nutrition: 30;
Desc: "Cottonberries are a staple and a delicacy in the Hinlands.
    Cottonberry loaves travel well and retain a tangy flavor.";
Cost: 10 1;
}

Item "piece of elven waybread" : 37
{
Image: light grey '%';
Mat: 3; Weight: 2; hp: 2;
Nutrition: 30; Flags: 44;
Cost: 25 1;
}

Item "piece of spider bread" : 37
{
Image: light grey '%';
Mat: 3; Weight: 2; hp: 2;
Nutrition: 30; Flags: 44;
Desc: "A favored food of the Drow, spider bread is seasoned with actual
    spider venom and can be fatal those lacking a Dark Elf's constitution.";
On Event 53 {
if (!EActor->isMType(66) && (EActor->ResistLevel(60) != -1)) {
DPrint(e,"Spider toxins poison you!",
"Spider toxins poison the <EActor>!");
EActor->GainPermStati(2,NULL,5, 0, 0,
$"giant spider venom");
}
return 0;
} ;
Cost: 10 1;
}

Item "apple" : 37
{
Image: bright red '%';
Mat: 3; Weight: 1; hp: 2;
Nutrition: 3;
Cost: 3 4;
}

Item "melon" : 37
{
Image: bright green '%';
Mat: 3; Weight: 6; hp: 2;
Nutrition: 18;
Cost: 2 3;
}

Item "strip of cured meat" : 37
{
Image: light grey '%';
Mat: 4; Weight: 5; hp: 4;
Nutrition: 15; Flags: 44;
Desc: "Cured (and often smoked) meat is well-loved by travelling orcs,
    lizardfolk and kobolds.";
Cost: 8 3;
}

Item "holy wafer" : 37
{
Image: brown '%';
Mat: 3; Weight: 1; hp: 1;
Nutrition: 3;
Cost: 1 1;
}

Item "large oak chest" : 26
{
Image: brown 127;
Mat: 8; Weight: 500; hp: 40;
Size: 5; Capacity: 100;
MaxSize: 5; Timeout: 50;
WeightLim: 0;
}

Item "large iron chest" : 26
{
Image: grey 127;
Mat: 11; Weight: 500; hp: 80;
Size: 5; Capacity: 100;
MaxSize: 5; Timeout: 50;
WeightLim: 0; Level: 2;
}

Item "large darkwood chest" : 26
{
Image: shadow 127;
Mat: 29; Weight: 500; hp: 120;
Size: 5; Capacity: 100;
MaxSize: 5; Timeout: 50;
WeightLim: 0; Level: 4;
}

Item "large adamant chest" : 26
{
Image: cyan 127;
Mat: 18; Weight: 500; hp: 120;
Size: 5; Capacity: 100;
MaxSize: 5; Timeout: 50;
WeightLim: 0; Level: 6;
}

Item "medium backpack" : 30
{
Image: brown '&';
Mat: 7;
Weight: 30; Size: 4; hp: 30;
Capacity: 50; MaxSize: 4;
Timeout: 50; WeightLim: 1000;
Lists:
* 25 2 52 102 202 402 802;
Constants:
* 114 8;
}

Item "small backpack" : 30
{
Image: brown '&';
Mat: 7;
Weight: 30; Size: 3; hp: 30;
Capacity: 50; MaxSize: 3;
Timeout: 50; WeightLim: 750;
Lists:
* 25 4 54 104 204 404 804;
Constants:
* 114 8;
}

Item "gnomish backpack" : 30
{
Image: yellow '&';
Mat: 7; Level: 2;
Weight: 30; Size: 3; hp: 30;
Capacity: 75; MaxSize: 3;
Timeout: 40; WeightLim: 1000;
Desc: "This backpack is of gnomish original and has been fitted with 
    a number of special flaps, external pouches and fasteners. A clever
    lightweight frame runs through pack and distributes weight to the hips.
    As a results the pack can hold more items and heavier items than the
    traditional model and those items can be accessed more quickly.";
Lists:
* 25 12 62 112 212 412 812;
Constants:
* 114 20;
}

Item "force backpack" : 30
{
Image: blue '&';
Mat: 30; Level 4;
Weight: 0; Size: 3; hp: 100;
Capacity: 100; MaxSize: 4;
Timeout: 10; WeightLim: 2000;
Desc: "This magical carrying device is really an amorphous area of 
    translucent permeable force. When the user concentrates slightly, items
    can be placed inside or extracted with a simple touch. Otherwise the
    force is sufficiently rigid to hold items inside, suspended as if in
    tar. This wonderous pack can hold many items compared to a traditional
    model, but most importantly those items can be accessed very quickly.";
Lists:
* 25 5000 6000 8000 12000 15000 20000;
}
#line "mundane.irh" 949
Item "placeholder" : 59
{
Image: grey '&';
Flags: 1;
Desc: "This item is used as a placeholder for the item ID
      of a wonderous item, before the eID is known and the
      correct iID can be assigned based on that. You should
      never see this text in the game.";
}

Item "gold piece" : 29
{
Image: yellow '$'; Cost: 1 1;
Mat: 15; Weight: 0;
hp: 5;
Size: 1;
Flags: 8;
}

Item "platinum piece" : 29
{
Image: white '$'; Cost: 1 2;
Mat: 12; Weight: 0;
hp: 5;
Size: 1;
Flags: 8;
}

Item "silver piece" : 29
{
Image: cyan '$'; Cost: 1 3;
Mat: 14; Weight: 0;
hp: 5;
Size: 1;
Flags: 8;
}

Item "copper piece" : 29
{
Image: brown '$'; Cost: 1 4;
Mat: 13; Weight: 0;
hp: 5;
Size: 1;
Flags: 8;
}

Item "electrum piece" : 29
{
Image: bright cyan '$'; Cost: 1 5;
Mat: 12; Weight: 0;
hp: 5;
Size: 1;
Flags: 8;
}

Item "small glass vial" : 56
{
Image: grey 173;
Level: 1; Mat: 19; Weight: 1; hp: 1;
On Event 162 {
rID xID;
xID = theGame->GetEffectID(11,0,e.vLevel);
ETarget->GainPermStati(2,NULL,7,0,1d4+1,xID);
return 1;
},
95 {
rID pID;
int32 m, q;
if (!GetHandle(EItem))
return 0;
if (EItem->iID != $"small glass vial")
return 0;
if (!GetHandle(ETarget))
return 0;
if (!ETarget->isType(58) &&
!ETarget->isType(45)) {
EActor->IPrint("You can only poison weapons and ammunition.");
return 0;
}
if (!EItem->GetStatiMag(2))
{
EActor->IPrint("That vial is empty.");
return 2;
}
if (!(ETarget->HasIFlag(26) ||
ETarget->HasIFlag(27) ||
ETarget->isType(45)) )
{
EActor->IPrint("Poison can only be applied to slashing
            or piercing weapons.");
return 2;
}

pID = EItem->GetStatiEID(2);

if (ETarget->GetQuantity() > 1)
{
if (ETarget->isType(45))
q = max(1,ETarget->GetQuantity()/10);
else
q = ETarget->GetQuantity();
if (q > EItem->GetStatiMag(2))
{
EActor->IPrint("You don't have enough doses 
                to poison all those items.");
return 2;
}
}
else
q = 1;

if (EItem->GetStatiMag(2) <= q)
EItem->RemoveStati(2);
else
EItem->SetStatiMag(2,-1,NULL,
EItem->GetStatiMag(2) - q );
EActor->Timeout += 50;

if (!EActor->SkillCheck(39,10,true))
{
if (!(EActor->HasSkill(39) || (1d3==1)))
{
EActor->IPrint("You poison yourself!");
if (EActor->ResistLevel(60) != -1)
EActor->IPrint("Fortunately, it has no effect.");
else
EActor->GainPermStati(2,NULL,7,0,0,pID);
}
else
EActor->IPrint("You fail to correctly apply the poison, 
              wasting <hText>.", q > 1 ? "the doses" : "a dose");
return 1;
}

DPrint(e,"You apply the <Res> to your <ETarget>.",
"The <EActor> coats <his:EActor> <ETarget> with poison.",
pID);
#line "mundane.irh" 1089
if (ETarget->HasEffStati(2,pID)) {
m = ETarget->GetEffStatiMag(2,pID);
ETarget->SetEffStatiMag(2,pID,
m + (LastSkillCheckResult()-7)/3);
}
else {
ETarget->RemoveStati(2);
ETarget->GainPermStati(2,NULL,7,0,
(LastSkillCheckResult()-7)/3,pID);
}
return 1;
},
163 {
hObj p;
p = theGame->GetPlayer(0);

if (p == ((hObj)0))
return 0;
if (EItem->HasStati(2) && (EItem->isKnown(0x01) ||
(p->HasSkill(39) && p->SkillLevel(39)+5 >=
PoisonDC(EItem->GetStatiEID(2)))))
{
if (EItem->GetStatiMag(2) == 1)
e.nAppend += " (with 1 dose of " + NAME(EItem->GetStatiEID(2)) + ")";
else
e.nAppend += XPrint(" (with <Num> doses of ",
EItem->GetStatiMag(2) ) +
NAME(EItem->GetStatiEID(2)) + ")";
}
else if (EItem->HasStati(2))
{
if (EItem->GetStatiMag(2) == 1)
e.nAppend += " (with 1 dose of unknown poison)";
else
e.nAppend += XPrint(" (with <Num> doses of unknown poison)",
EItem->GetStatiMag(2) );
}
else
e.nAppend += " (empty)";
return 1;
};
}
#line "abilities.irh" 1
Effect "Circle Kick" : 1
{
Flags: 48; qval: 0x0001;
On Event 52 {
hObj h1,h2,h3; int32 time;
time = 0;
if (EActor->GetAttr(25) > 5)
return 2;
if (!EActor->LoseFatigue(1,true))
return 2;
#line "abilities.irh" 20
h1 = NULL; h2 = NULL; h3 = NULL;
if (DirX(e.EDir) && DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir), 197 | (EActor->Image & 0x00F0)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)); }
#line "abilities.irh" 23
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 | (EActor->Image & 0x00F0)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "abilities.irh" 24
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 | (EActor->Image & 0x00F0)); h3 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "abilities.irh" 25
}
else if (DirX(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 | (EActor->Image & 0x00F0)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "abilities.irh" 28
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 1, 197 | (EActor->Image & 0x00F0)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 1); }
#line "abilities.irh" 29
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + -1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + -1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + -1, 197 | (EActor->Image & 0x00F0)); h3 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + -1); }
#line "abilities.irh" 30
}
else if (DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 | (EActor->Image & 0x00F0)); h1 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "abilities.irh" 33
if (EMap->InBounds(EActor->x + 1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 1, EActor->y + DirY(e.EDir), 197 | (EActor->Image & 0x00F0)); h2 = EMap->FCreatureAt(EActor->x + 1,EActor->y + DirY(e.EDir)); }
#line "abilities.irh" 34
if (EMap->InBounds(EActor->x + -1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + -1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + -1, EActor->y + DirY(e.EDir), 197 | (EActor->Image & 0x00F0)); h3 = EMap->FCreatureAt(EActor->x + -1,EActor->y + DirY(e.EDir)); }
#line "abilities.irh" 35
}
else {
e.SetParam(1,EActor);
ReThrow(83,e);
e.isSomething = true;
return 1;
}
if ((EActor != NULL && EActor->isPlayer()) ||
(EVictim != NULL && EVictim->isPlayer())) {
ETerm->TermUpdate();
ETerm->StopWatch(500);
ETerm->RefreshMap();
}
time = 0;
EActor->IDPrint("You execute a spectacular spinning kick!",
"The <Obj> executes a spectacular spinning kick!", EActor);

if (h1) {
ThrowVal(49,2,EActor,h1);
time = max(time,EActor->Timeout);
EActor->Timeout = 0;
}
if (h2) {
ThrowVal(49,2,EActor,h2);
time = max(time,EActor->Timeout);
EActor->Timeout = 0;
}
if (h3) {
ThrowVal(49,2,EActor,h3);
time = max(time,EActor->Timeout);
EActor->Timeout = 0;
}
EActor->Timeout = time;
e.isSomething = true;
return 1;

},
155 {
#line "abilities.irh" 75
if (!EVictim->isBeside(EActor))
return -1;
return 0;
},
200 "spinning kick";
Desc: "At the cost of one fatigue point, you execute a circle kick
      striking a creature in the direction you choose, and also any
      creatures in the squares beside both it and you. Only creatures
      of Large size or smaller have enough maneuverability in the
      dungeon to perform this maneuver. You can perform a Circle Kick
      by selecting it from the Activate menu.";
}

50 Spell "Create Corporeal Undead" : 46
{ 0x00000040; Base: 30; Cost: 15; Level: 5; tval: 31; cval: 4;
Flags: 6, 40, 41, 78;
rID uID; hObj hCorpse; qval: 0x0004; Purpose: 0x00100;
On Event 52 {
int32 isMarist; isMarist = (EActor->getGod() == $"Mara" || (EActor->isCharacter() && EActor->getGodLevel($"Mara") >= 2));
#line "abilities.irh" 94
if (!EActor->isPlayer())
{ uID = $"wight";
SetEVictim(e,hCorpse);
return 0; }
ETerm->LOption("Graveborn", (int32) $"Graveborn;template");
ETerm->LOption("Ghoul [Evil]", (int32) $"Ghoul");
ETerm->LOption("Wight [Evil]", (int32) $"Wight");
if (e.vCasterLev >= 10) {
ETerm->LOption("Crypt Thing", (int32) $"Crypt Thing");
ETerm->LOption("Ghast [Evil]", (int32) $"Ghast");
ETerm->LOption("Burning Ghast [Evil]", (int32) $"Burning Ghast");
ETerm->LOption("Icewight [Evil]", (int32) $"Icewight");
}
if (e.vCasterLev >= 11) {
ETerm->LOption("Revenant", (int32) $"Revenant");
ETerm->LOption("Mummy", (int32) $"Mummy");
ETerm->LOption("Vampire [Evil]", (int32) $"Vampire");
if (isMarist)
ETerm->LOption("Mourner", (int32) $"Mourner");
}
uID = (rID) ETerm->LMenu(0x0002|0x0100,
"-- Choose to Raise: --", 14);
if (uID == (rID) -1)
return 2;
},
28 {
rID cmID, ctID; hObj und;
int32 isMarist; isMarist = (EActor->getGod() == $"Mara" || (EActor->isCharacter() && EActor->getGodLevel($"Mara") >= 2));
#line "abilities.irh" 122
if (!ETarget->isType(31))
{ EActor->IPrint("This spell must be cast on a corpse.");
return 2; }
cmID = ETarget->GetCorpseType();
if (!cmID)
return 1;


if (cmID == $"goblin vizier" ||
cmID == $"Murgash, the Goblin King")
cmID = $"goblin";

if (!ResourceHasFlag(cmID,1) || cmID->MSize > 4 ||
cmID->MSize < 3)
{
EActor->IPrint("That corpse is not suitable for becoming
            a more advanced undead.");
return 2;
}

if (uID != $"graveborn;template" && uID != $"vampire")
und = CreateMonster(uID);
else {
und = CreateMonster(cmID);

und->AddTemplate(uID);
if (!und->HasStati(71)) {
und->Remove(true);
APrint(e,"The <hObj> shifts briefly, but does not move.",ETarget);
return 1;
}
}

while (ETarget->HasStati(71))
{
ctID = ETarget->GetStatiEID(71);
if (ctID->TType & (0x0002|0x0001|0x0020|
0x0040|0x0200))
{ und->AddTemplate(ctID);
SetSilence();
und->IdentifyTemp(ctID);
UnsetSilence(); }
ETarget->RemoveEffStati(ctID);
}

if (ETarget->Owner() == EActor)
und->PlaceAt(EMap,EActor->x,EActor->y);
else
und->PlaceAt(EMap,ETarget->x,ETarget->y);
und->Initialize();
und->PartyID = EActor->PartyID;
und->StateFlags |= 0x0008;

if (EActor->isPlayer()) {
SetSilence();
if (!und->MakeCompanion(EActor,5)) {
UnsetSilence();
APrint(e,"The <hObj> shifts briefly, but does not move.",ETarget);
und->Remove(true);
return 1;
}
UnsetSilence();
}

ETarget->Remove(true);
APrint(e,"The dead rise!");
if (und->isMType(103) && und->HasMFlag(53)) EActor->Transgress($"mara",5,false,"creating inherantly evil undead"); else if (und->isMType(103) && !EActor->isMType(103) && EActor->isCharacter() && EActor->GodID == $"Mara") und->GainPermStati(222,NULL,7,0x0004|0x0001); if (ETarget->HasStati(231,-1,EActor)) EActor->Transgress($"Mara",5,false,"desecrating foes' bodies"); if (!ETarget->HasEffStati(97,$"Mara")) if (und->isMType(85)) EActor->gainFavor($"Mara",50); EActor->Transgress($"Immotian",7,false,"creating undead"); EActor->Transgress($"Hesani",7,false,"creating undead"); EActor->Transgress($"Xavias",4,false,"creating undead"); EActor->Transgress($"Erich",4,false,"creating undead"); EActor->Transgress($"Ekliazeh",6,false,"creating undead");
#line "abilities.irh" 189
return 1;
},
155 {
hObj h; rID cmID;
for (h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isType(31) && EActor->Percieves(h) &&
EActor->DistFrom(h) <= 6) {
cmID = h->GetCorpseType();
if (ResourceHasFlag(cmID,1) && cmID->MSize <= 4 ||
cmID->MSize >= 3)
{ hCorpse = h; return 0; }
}
return 1;
};
Desc: "Casting this animates a single humanoid corpse as a type of greater 
      corporeal undead. Based of the caster's caster level, she may choose
      to create different forms of undead. Certain types are available only
      to Marists, while others are inherantly evil.\n
      __There are two metaphysical powers that can be invoked on Theyra to
      animate the dead. The first is various archfiends, notably Orcus --
      the demon lord of undead. The second is the goddess of death, Mara.
      As such, casting this spell is an evil act (as a result of allying
      with fiends) unless the caster is devoted to Mara or has earned at
      least two blessings from her as a lay worshipper.";
}


50 Spell "Create Spectral Undead" : 46
{ 0x00000040; Base: 30; Cost: 25; Level: 5; tval: 31; cval: 4;
Flags: 6, 40, 41, 78;
rID uID; hObj hCorpse; qval: 0x0004; Purpose: 0x00100;
On Event 52 {
int32 isMarist; isMarist = (EActor->getGod() == $"Mara" || (EActor->isCharacter() && EActor->getGodLevel($"Mara") >= 2));
#line "abilities.irh" 222
if (!EActor->isPlayer())
{ uID = $"wraith";
SetEVictim(e,hCorpse);
return 0; }
ETerm->LOption("Shadow [Evil]", (int32) $"shadow");
ETerm->LOption("Poltergeist", (int32) $"Poltergeist");
if (e.vCasterLev >= 10) {
ETerm->LOption("Wraith [Evil]", (int32) $"wraith");
if (isMarist)
ETerm->LOption("Blessed Soul [Good]", (int32) $"Blessed Soul");
}
if (e.vCasterLev >= 11) {
ETerm->LOption("Spectre [Evil]", (int32) $"Spectre");
ETerm->LOption("Ghost", (int32) $"Ghost");
if (isMarist)
ETerm->LOption("Avenging Spirit [Good]", (int32) $"Avenging Spirit");
}
uID = (rID) ETerm->LMenu(0x0002|0x0100,
"-- Choose to Raise: --", 14);
if (uID == (rID) -1)
return 2;
},
28 {
rID cmID, ctID; hObj und;
int32 isMarist; isMarist = (EActor->getGod() == $"Mara" || (EActor->isCharacter() && EActor->getGodLevel($"Mara") >= 2));
#line "abilities.irh" 247
if (!ETarget->isType(31))
{ EActor->IPrint("This spell must be cast on a corpse.");
return 2; }
cmID = ETarget->GetCorpseType();
if (!cmID)
return 1;


if (cmID == $"goblin vizier" ||
cmID == $"Murgash, the Goblin King")
cmID = $"goblin";

if (!ResourceHasFlag(cmID,1) || cmID->MSize > 4 ||
cmID->MSize < 3)
{
EActor->IPrint("That corpse is not suitable for becoming
            a more advanced undead.");
return 2;
}

if (uID != $"ghost" && uID != $"avenging spirit")
und = CreateMonster(uID);
else {
und = CreateMonster(cmID);
und->GainPermStati(222,NULL,7,
ETarget->GetStatiVal(222));
und->CalcValues();
und->AddTemplate(uID);
if (!und->HasStati(71)) {
und->Remove(true);
APrint(e,"The <hObj> glows briefly, but no spirit rises.",ETarget);
return 1;
}
}

while (ETarget->HasStati(71))
{
ctID = ETarget->GetStatiEID(71);
if (ctID->TType & (0x0002|0x0001|0x0020|
0x0040|0x0200))
{ und->AddTemplate(ctID);
SetSilence();
und->IdentifyTemp(ctID);
UnsetSilence(); }
ETarget->RemoveEffStati(ctID);
}

if (ETarget->Owner() == EActor)
und->PlaceAt(EMap,EActor->x,EActor->y);
else
und->PlaceAt(EMap,ETarget->x,ETarget->y);
und->Initialize();
und->PartyID = EActor->PartyID;
und->StateFlags |= 0x0008;

if (EActor->isPlayer()) {
SetSilence();
if (!und->MakeCompanion(EActor,5)) {
UnsetSilence();
APrint(e,"The <hObj> glows briefly, but no spirit rises.",ETarget);
und->Remove(true);
return 1;
}
UnsetSilence();
}

APrint(e,"A spirit rises up! The <hObj> crumbles to dust.", ETarget);
ETarget->Remove(true);
if (und->isMType(103) && und->HasMFlag(53)) EActor->Transgress($"mara",5,false,"creating inherantly evil undead"); else if (und->isMType(103) && !EActor->isMType(103) && EActor->isCharacter() && EActor->GodID == $"Mara") und->GainPermStati(222,NULL,7,0x0004|0x0001); if (ETarget->HasStati(231,-1,EActor)) EActor->Transgress($"Mara",5,false,"desecrating foes' bodies"); if (!ETarget->HasEffStati(97,$"Mara")) if (und->isMType(85)) EActor->gainFavor($"Mara",50); EActor->Transgress($"Immotian",7,false,"creating undead"); EActor->Transgress($"Hesani",7,false,"creating undead"); EActor->Transgress($"Xavias",4,false,"creating undead"); EActor->Transgress($"Erich",4,false,"creating undead"); EActor->Transgress($"Ekliazeh",6,false,"creating undead");
#line "abilities.irh" 316
return 1;
},
155 {
hObj h; rID cmID;
for (h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isType(31) && EActor->Percieves(h) &&
EActor->DistFrom(h) <= 6) {
cmID = h->GetCorpseType();
if (ResourceHasFlag(cmID,1) && cmID->MSize <= 4 ||
cmID->MSize >= 3)
{ hCorpse = h; return 0; }
}
return 1;
};
Desc: "Casting this calls forth an incorporeal undead creature from 
      the remains of a single humanoid corpse. Based of the caster's 
      caster level, she may choose to create different forms of spectral 
      undead. Certain types are available only to Marists, while others 
      are inherantly evil.\n
      __There are two metaphysical powers that can be invoked on Theyra to
      animate the dead. The first is various archfiends, notably Orcus --
      the demon lord of undead. The second is the goddess of death, Mara.
      As such, casting this spell is an evil act (as a result of allying
      with fiends) unless the caster is devoted to Mara or has earned at
      least two blessings from her as a lay worshipper.";
}

52 Spell "Holy Orb" : 1
{ 0x00000200; Base: 90; Cost: 9; Level: 5; qval: 0x0004|0x0002;
Desc: "Casting this spell conjures an orb of golden light
      that a priest can hurl like a shotput. Being struck
      by the orb has no effect on most creatures, but evil
      beings suffer 1d6 points of holy damage per caster
      level (scaled after 9th level); this damage is modified 
      by both Strength and Wisdom, and is not subject to elemental
      resistance of any type. A thrown-weapon attack roll
      is used to determine if the orb strikes its intended
      target. The orb also knocks an evil creature back
      1d6 + [Str mod] squares if the save is failed.";
aval: 1; cval: 14; pval: (-126)d6;
xval: 69; sval: 1 partial; Flags: 56, 60;
Purpose: 0x00001;
On Event 170 {
if (e.efNum == 0)
SetPVal(e,EActor->Mod(0) + EActor->Mod(4),
LevelAdjust(-126,e.vCasterLev),6);
else
SetPVal(e,EActor->Mod(0),1,6);
return 0;
},
200
"golden orb",
155 {
if (GetHandle(ETarget))
if (ETarget->isCreature())
if (ETarget->isMType(103))
return 0;
return 1;
},
(28+500) {
if (!EVictim->isMType(103))
{ e.Immune = true; return 1; }
if (e.efNum == 1 && e.Resist)
return 1;
return 0;
};
}
and 1
{ xval: 61; sval: 1; aval: 1; pval: 1d6; }


50 Spell "Necrosynthesis" : 3
{
0x00000040; Base: 60; Cost: 35; Level: 6; qval: 0x0004;
xval: 39; yval: 66; Flags: 54;
Purpose: 0x00010;
On Event 155 {
if (ETarget->isCreature())
if (ETarget->isMType(76) &&
!ETarget->isPlayer())
return 0;
return -1;
},
170 {
SetPVal(e,5+e.vCasterLev/3);
return 0;
},
83 {
if (EActor->isCharacter())
EActor->LoseXP(max(25,25*EVictim->ChallengeRating()));
APrint(e,"The <hObj> glows with an eerie scarlett light!", EVictim);
return 0;
};
Desc: "Casting this spell imbues an undead with a permanent
      channel to the negative energy plane, allowing them to
      automatically replenish their form, regenerating 5 + 1 per
      3 caster levels points of damage per round. This effect is
      permanent, and costs the caster [25 x Target's Challenge
      Rating] xp.";
}


52 Spell "Sticks to Snakes" : 46
{ 0x00000080|0x00000002; Cost: 14; Base: 75; Level: 3; Purpose: 0x00100;
Desc: "Casting this spell allows a priest to transform one or more
      wooden sticks (either arrows or staves) into serpents for a brief
      period. The spell can transform one arrow per caster level into
      boa constrictors, or one quarterstaff per four levels into huge
      vipers. The spell operates on items in the caster's inventory in
      the order they appear in the inventory screen, and the created
      snakes appear next to the caster. As a transformation effect,
      these serpents are not treated as summoned creatures.
      Magical items transformed into snakes retain their bonus to hit
      and damage, but none of their other qualities.\n
      __Casting this spell costs the priest two Fatigue points.";
int32 ch;
On Event 155 {
hObj it;
if (EActor->cFP < 0)
return 1;
for(it=EActor->FirstInv();it;it=EActor->NextInv())
{
if (it->iID == $"quarterstaff" || it->iID == $"staff")
{ ch = 's'; return 0; }
if (it->iID == $"sheaf arrow" || it->iID == $"flight arrow")
{ ch = 'a'; return 0; }
}
return 1;
},
28 {
hObj it, it2, hSnake; int32 n; int32 stop, found;
if (!EActor->LoseFatigue(2,true))
return 2;
if (EActor->isPlayer())
ch = EActor->ChoicePrompt("Transform arrows or staves?","as",'a');

n = (ch == 'a') ? e.vCasterLev : (e.vCasterLev / 4);
found = false;
for (it=EActor->FirstInv();(it != ((hObj)0)) && (n>0);it=EActor->NextInv())
if (((ch == 'a') && (it->iID == $"sheaf arrow" || it->iID == $"flight arrow")) ||
((ch == 's') && (it->iID == $"quarterstaff" || it->iID == $"staff"))) {
stop = false;
do {
it2 = it->TakeOne();
it2->Remove(false);
EMap->GenEncounter(0x00000080|0x00008000|0x00000004|0x00020000,10,10,
(int32)((ch == 'a') ? $"boa constrictor" : $"huge viper"), 0, ((rID)0),
EActor->x, EActor->y, EActor);
hSnake = EMap->GetEncounterCreature(0);
if (hSnake == ((hObj)0))
return found ? 1 : 2;
hSnake->GainTempStati(167,it2,e.vDuration,2,0,0,
$"Sticks to Snakes", e.vCasterLev);
if (it2->GetPlus()) {
hSnake->GainPermStati(106,EActor,7,13,it2->GetPlus());
hSnake->GainPermStati(106,EActor,7,21,it2->GetPlus());
}
found = true;
n--;
if ((it2 == it) || !n)
stop = true;
}
while (!stop);
}
if (!found)
{ EActor->IPrint("You have no sticks of that sort to transform.");
return 2; }
return 1;
};
}
#line "main.irc" 71
Effect "Protective Ward" : 46
{ Purpose: 0x00010; Flags: 61; }

Effect "Feat of Strength" : 46
{ Purpose: 0x00010; Flags: 61; }

Effect "Soulblade" : 46
{ Purpose: 0x00000; }

Effect "Demoralize" : 46
{ Purpose: 0x00000; Flags: 61, 33;
On Event 205 "Shaken" / "Shak"; }
Effect "Battlefield Inspiration" : 46
{ Purpose: 0x00000; }

Effect "Dance of Tukima" : 3
{
xval: 79; yval: 19;
On Event 52 {
if (!EActor->LoseFatigue(1,true))
return 2;
return 0;
},
170 {
e.vDuration = max(1, EActor->SkillLevel(4)*2);
return 0;
},
(19+10000) {
if (EActor->InSlot(2) == ((hObj)0))
return 0;
if (!(EActor->InSlot(2)->isGroup(0x00010000) ||
EActor->InSlot(2)->isGroup(0x00001000) ||
EActor->InSlot(2)->isGroup(0x00000004)) )
return 0;
if (EActor->InSlot(1) != ((hObj)0))
if (!(EActor->InSlot(2)->isGroup(0x00010000) ||
EActor->InSlot(2)->isGroup(0x00001000) ||
EActor->InSlot(2)->isGroup(0x00000004)) )
return 0;

if (EActor->Mod(5) > 0)
{
e.vHit += EActor->Mod(5);
e.strHit += Format(" %+d Tukima", EActor->Mod(5));
}
if (EActor->SkillLevel(37) > 1)
{
e.bDmg += EActor->SkillLevel(37) / 2;
e.strDmg += Format(" %+d Tukima",
EActor->SkillLevel(37) / 2);
}
return 0;
},
84
"You stop dancing." /
"The <EActor> stops dancing.",
206
"You begin a beguiling, frenzied dance." /
"The <EActor> begins a beguiling, frenzied dance.",
205
"Tukima" / "Tuk";
Flags: 33, 61;
}

Effect "Warcry" : 46
{
sval: 2; aval: 11; cval: 12; lval: 8;
xval: 114; Flags: 70, 33, 35;
On Event 52 {
EActor->Timeout += 15;
if (EActor->HasAbility(89))
EActor->IDPrint("You give a mighty kiai-shout!",
"The <hObj> gives out a mighty kiai-shout!", EActor);
else
EActor->IDPrint("You let loose with a mighty war-cry!",
"The <hObj> lets loose with a mighty war-cry!", EActor);
return 0;
},
170 {
e.saveDC = 10 + EActor->SkillLevel(20) / 2;
return 0;
},
28 {
int32 pen, bon;
if (EVictim->HasEffStati(189,$"Warcry",-1,EActor))
{
EActor->IPrint("The <hObj> is unaffected.", EVictim);
return 1;
}
pen = max(2,EActor->SkillLevel(20)/5);
bon = EVictim->SumStatiMag(123,11);
EVictim->Timeout += 50;
if (pen > bon)
EVictim->GainTempStati(114,EActor,30,7,
51, bon - pen, $"Demoralize");
EVictim->IDPrint("You hesitate!", "The <hObj> hesitates!", EVictim);
return 1;
},
(83+1000) {
EVictim->GainTempStati(189,EActor,-1,7,0,0,$"Warcry");
return 0;
};
}
#line "main.irc" 192
Effect "Breath Weapon" : 1
{ Flags: 18, 81; sval: 1 partial;
aval: 12; Purpose: 0x00001; }

Effect "Spit Weapon" : 1
{ Flags: 18, 81; sval: 1;
aval: 12; Purpose: 0x00001; }

Effect "Curse Research" : 46
{
Flags: 18;
On Event (((42+2000)+1000)+10000)
{
hObj it, pl;
pl = EVictim->GetEffStatiObj(79,$"Curse Research");
pl->IPrint("Having lain the damned creature to rest, you
          find a weight lifted from you!");
pl->RemoveEffStati($"Bestow Curse");
pl->RemoveEffStati($"Mark of Justice");
for (it=pl->FirstInv();it;it=pl->NextInv())
if (it->IFlags & 0x0002)
{

pl->IDPrint("Your <hObj> glows with a soft blue light.",
"The <hObj2>'s <hObj1> glows with a soft blue light.",
it, EActor);
}
return 0;
};
}

Effect "GodTest" : 46
{
Level: 1; Base: 90;
On Event 28 {
rID gID; int32 ch;
ETerm->LOption("Aiswin",(int32) $"Aiswin");
ETerm->LOption("Asherath",(int32) $"Asherath");
ETerm->LOption("Ekliazeh",(int32) $"Ekliazeh");
ETerm->LOption("Erich",(int32) $"Erich");
ETerm->LOption("Essiah",(int32) $"Essiah");
ETerm->LOption("Hesani",(int32) $"Hesani");
ETerm->LOption("Khasrach",(int32) $"Khasrach");
ETerm->LOption("Immotian",(int32) $"Immotian");
ETerm->LOption("Kysul",(int32) $"Kysul");
ETerm->LOption("Maeve",(int32) $"Maeve");
ETerm->LOption("Mara",(int32) $"Mara");
ETerm->LOption("Sabine",(int32) $"Sabine");
ETerm->LOption("Semirath",(int32) $"Semirath");
ETerm->LOption("Xavias",(int32) $"Xavias");
ETerm->LOption("Xel",(int32) $"Xel");
ETerm->LOption("Zurvash",(int32) $"aiswin");
ETerm->LOption("The Multitude",(int32) $"The Multitude");
gID = (rID) ETerm->LMenu(0x0100,"Choose a God:",14);
ch = EActor->ChoicePrompt("Pulse, Anger or Retribution?", "par");
EActor->GodID = gID;
switch (ch)
{
case 'p':
ThrowEff(139,gID,EActor);
break;
case 'a':
ThrowEff(149,gID,EActor);
break;
case 'r':
e.eID = gID;
e.EParam = 5;
ReThrow(138,e);
break;
}

};
}
#line "main.irc" 444
Effect "Display Statistics" : 46
{
On Event 52 {
hObj h, h2; int32 mCount, iCount;
mCount = 0;
for (h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isMonster())
mCount++;
EActor->IPrint("Monsters on level: <Num>.",mCount);
return 1;
};
}

Effect "XP Ticker" : 3
{
xval: 79; yval: 32;
Flags: 85; Base: 100; Cost: 1;
On Event (32+10000) {
if ((1d10 == 1) && EActor->isCharacter())
EActor->GainXP(1);
return 0;
};
}