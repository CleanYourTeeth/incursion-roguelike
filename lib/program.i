#line "main.irc" 1

#line "..\inc/Api.h" 33
system (-5) e == 1;
system 3 ETerm == 2;
system 7 EPlayer == 3;
system (-2) EActor == 4;
system (-1) ETarget == 5;
system (-2) EVictim == 6;
system (-4) EItem == 7;
system (-4) EItem2 == 8;
system 4 EMap == 9;
system 1 theGame == 10;
#line "..\inc/Api.h" 48
system string 2::Name(int32 fl=0);
system string 2::Describe(hObj:7);
#line "..\inc/Api.h" 55
system rID 4::dID;
system int32 4::Depth;

system int32 4::InBounds(int32 x,int32 y);
system int32 4::GlyphAt(int32 x, int32 y);
system int32 4::FlagsAt(int32 x, int32 y);
system int32 4::SolidAt(int32 x, int32 y);
system int32 4::TreeAt(int32 x, int32 y);
system int32 4::FallAt(int32 x, int32 y);
system int32 4::OpaqueAt(int32 x, int32 y);
system int32 4::LightAt(int32 x, int32 y);
system int32 4::BrightAt(int32 x, int32 y);
system rID 4::RegionAt(int32 x, int32 y);
system rID 4::TerrainAt(int32 x, int32 y);
system int32 4::SizeX();
system int32 4::SizeY();

system hObj 4::FirstAt(int32 x, int32 y);
system hObj 4::NextAt(int32 x, int32 y);
system int32 4::MultiAt(int32 x, int32 y);

system hObj 4::FCreatureAt(int32 x, int32 y);
system hObj 4::NCreatureAt(int32 x, int32 y);
system int32 4::MCreatureAt(int32 x, int32 y);

system hObj 4::FItemAt(int32 x, int32 y);
system hObj 4::NItemAt(int32 x, int32 y);
system int32 4::MItemAt(int32 x, int32 y);

system hObj 4::FFeatureAt(int32 x, int32 y);
system hObj 4::NFeatureAt(int32 x, int32 y);
system int32 4::MFeatureAt(int32 x, int32 y);

system hObj 4::FDoorAt(int32 x, int32 y);
system hObj 4::NDoorAt(int32 x, int32 y);
system int32 4::MDoorAt(int32 x, int32 y);

system hObj 4::FTrapAt(int32 x, int32 y);
system hObj 4::NTrapAt(int32 x, int32 y);
system int32 4::MTrapAt(int32 x, int32 y);

system hObj 4::FChestAt(int32 x, int32 y);
system hObj 4::NChestAt(int32 x, int32 y);
system int32 4::MChestAt(int32 x, int32 y);



system hObj 4::FirstThing();
system hObj 4::NextThing();

system void 4::WriteAt(Rect r,int32 x, int32 y, rID terID, rID regID, int32 Pri, int32 Force);
system void 4::WriteBox(Rect r, rID regID);
system void 4::WriteRoom(Rect r, rID regID);
system void 4::WriteCircle(Rect r, rID regID);
system void 4::WriteWalls(Rect r, rID regID);
system void 4::WriteLifeCave(Rect r, rID regID);
system void 4::WriteCastle(Rect r, rID regID);
system void 4::WriteRCavern(Rect r, rID regID);
system void 4::WriteOctagon(Rect r, rID regID);
system void 4::WriteDestroyed(Rect r, rID regID);
system void 4::WriteMaze(Rect r, rID regID);
system void 4::WriteCross(Rect r, rID regID);
system void 4::WriteMap(Rect r, rID mID);
system void 4::WriteBlobs(Rect r, rID regID, rID bID);
system void 4::Generate(rID dunID, int32 Depth, hObj:4 above, int32 Luck);
system void 4::DrawPanel(int32 x, int32 y);
system void 4::PopulatePanel(Rect r,int32 extraFlags=0);
system int32 4::Tunnel(int32 sx, int32 sy, int32 dx, int32 dy, int32 TFlags,
int32 StartDir, int32 TType);
system void 4::MakeDoor(int32 x, int32 y, rID fID);
system int32 4::FindOpenAreas(Rect Area, int32 Flags=0);
system void 4::SetGlyphAt(int32 x, int32 y, int32 g);
system void 4::SetRegion(Rect r, rID regID);
system int32 4::GetOpenXY();

system int32 4::LineOfSight(int32 sx, int32 sy, int32 tx, int32 ty, hObj:(-2) c);
system void 4::Update(int32 x,int32 y);
system void 4::VUpdate(int32 x, int32 y);
system void 4::MarkAsSeen(int32 pn, int32 x, int32 y, int32 dist);

system void 4::NewField(int32 FType, int32 x, int32 y, int32 rad,
int32 img, int32 dur, rID eID, hObj:(-2) Creator);
system int32 4::FieldAt(int32 x,int32 y, int32 FType=-1);
system void 4::RemoveEffField(rID eID);
system void 4::RemoveFieldFrom(hObj h);
system void 4::RemoveEffFieldFrom(rID eID, hObj h);
system int32 4::DispelField(int32 x, int32 y, int32 FType, rID eID, int32 clev);

system void 4::SetQueue(int32 Queue);
system void 4::UnsetQueue(int32 Queue);
system void 4::PrintQueue(int32 Queue);
system int32 4::QueueNum();

system int32 4::GetTerraDC(int32 x,int32 y);
system hObj 4::GetTerraCreator(int32 x,int32 y);
system int32 4::GetTerraDType(int32 x, int32 y);
system int32 4::GetTerraDmg(int32 x,int32 y);
system void 4::RemoveTerra(int32 key);
system void 4::RemoveTerraXY(int32 x, int32 y,rID xID=0);
system void 4::WriteTerra(int32 x, int32 t,rID tID);
system void 4::MakeNoiseXY(int32 x, int32 y, int32 radius);

system hObj 4::GetEncounterCreature(int32 i);

system int32 4::LineOfFire(int32 x, int32 y, int32 x2, int32 y2, hObj:(-2) cr);

system rID 4::enUniformGet(int32 key);
system void 4::enUniformAdd(int32 key, rID choice);
system void 4::enAddMon(hObj:(-5) e);
system void 4::enAddTemp(hObj:(-5) e, rID tID);
system void 4::enAddMountTemp(hObj:(-5) e, rID tID);
system int32 4::enTemplateOk(hObj:(-5) e, rID tID, int32 force=false);
system void 4::enWarn(String msg,...);

system int32 4::thEnGen(rID xID, int32 fl, int32 CR, int32 enAlign);
system int32 4::thEnGenXY(rID xID, int32 fl, int32 CR, int32 enAlign, int32 x, int32 y);
system int32 4::thEnGenSummXY(rID xID, int32 fl, int32 CR, int32 enAlign, hObj:(-2) hCrea, int32 x, int32 y);
system int32 4::thEnGenMon(rID xID, rID mID, int32 fl, int32 CR, int32 enAlign);
system int32 4::thEnGenMonXY(rID xID, rID mID, int32 fl, int32 CR, int32 enAlign, int32 x, int32 y);
system int32 4::thEnGenMType(rID xID, int32 mt, int32 fl, int32 CR, int32 enAlign);
system int32 4::thEnGenMTypeXY(rID xID, int32 mt, int32 fl, int32 CR, int32 enAlign, int32 x, int32 y);
system int32 4::thEnGenMonSummXY(rID xID, rID mID, int32 fl, int32 CR, int32 enAlign, hObj:(-2) hCrea, int32 x, int32 y);
system int32 4::thEnGenMTypeSummXY(rID xID, int32 mt, int32 fl, int32 CR, int32 enAlign, hObj:(-2) hCrea, int32 x, int32 y);

system int32 4::rtEnGen(hObj:(-5) e, rID xID, int32 fl, int32 CR, int32 enAlign);
#line "..\inc/Api.h" 188
system int32 2::isType(int32 ty);
system int32 (-1)::isCreature();
system int32 (-1)::isDead();
system int32 (-1)::isPlayer();
system int32 (-1)::isMonster();
system int32 (-1)::isWeapon();
system int32 (-1)::isArmor();
system int32 (-1)::isFeature();
system int32 (-1)::isCharacter();
system int32 (-1)::Material();
system int32 (-1)::isMetallic();
system int32 (-1)::isWooden();
system int32 (-1)::isOrganic();
system int32 (-1)::isCorporeal();
#line "..\inc/Api.h" 208
system hObj (-1)::m;
system hObj (-1)::Next;
system int32 (-1)::x;
system int32 (-1)::y;
system int32 (-1)::Image;
system int32 (-1)::Timeout;
system int32 (-1)::Flags;
system string (-1)::Named;

system void (-1)::Initialize(int32 inplay = false);
system void (-1)::SetImage();
system void (-1)::IPrint(String msg,...);
system void (-1)::IDPrint(String msg1, String msg2,...);
system String (-1)::His();
system String (-1)::his();
system String (-1)::Him();
system String (-1)::him();
system String (-1)::He();
system String (-1)::he();
system int32 (-1)::isPlural();
system int32 (-1)::isShadowShape();
system void (-1)::MoveDepth(int32 NewDepth);
system void (-1)::PlaceNear(int32 x, int32 y);
system void (-1)::PlaceAt(hObj:4,int32 x,int32 y);
system void (-1)::PlaceOpen(hObj:4);
system void (-1)::Remove(int32);
system int32 (-1)::DirTo(hObj:(-1));
system int32 (-1)::DirToXY(int32 x,int32 y);
system int32 (-1)::DistFrom(hObj:(-1));
system int32 (-1)::DistFromPlayer();
system int32 (-1)::isIllusion();
system int32 (-1)::isRealTo(hObj:(-2));
system int32 (-1)::onPlane();

system int32 (-1)::inField(int32 FType = -1);
system void (-1)::GainPermStati(int32 n,hObj:(-1) h, int32 Cause, int32 Val=-1,int32 Mag=-1,rID eID=0, int32 clev=0);
system void (-1)::GainTempStati(int32 n,hObj:(-1) h, int32 Duration, int32 Cause, int32 Val=-1,int32 Mag=-1,rID eID=0, int32 clev=0);
system void (-1)::CopyStati(hObj:(-1) h, int32 n);
system void (-1)::RemoveStati(int32 n, int32 Cause=-1, int32 val=-1, int32 Mag=-1, hObj:(-1) h = 0);
system void (-1)::RemoveEffStati(rID xID);
system void (-1)::RemoveStatiFrom(hObj:(-1));
system void (-1)::RemoveStatiSource(int32 src);
system int32 (-1)::HighSourceCLev(int32 src);
system int32 (-1)::HasStatiFromSource(int32 src);
system int32 (-1)::HasStati(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::HasEffStati(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::HasEffField(rID eID);

system int32 (-1)::GetStatiVal(int32 n, hObj:(-1) t=0);
system int32 (-1)::GetStatiMag(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::GetStatiCause(int32 n, int32 val=-1, hObj:(-1) t=0);
system hObj (-1)::GetStatiObj(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::GetStatiDur(int32 n, int32 val=-1, hObj:(-1) t=0);
system rID (-1)::GetStatiEID(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::GetStatiCLev(int32 n,int32 val=-1, hObj:(-1) t=0);

system void (-1)::SetStatiVal(int32 n, hObj:(-1) t,int32 val);
system void (-1)::SetStatiMag(int32 n, int32 val, hObj:(-1) t,int32 Mag);
system void (-1)::SetStatiCause(int32 n, int32 val, hObj:(-1) t,int32 Cause);
system void (-1)::SetStatiObj(int32 n, int32 val, hObj:(-1) t);
system void (-1)::SetStatiDur(int32 n, int32 val, hObj:(-1) t, int32 Dur);
system void (-1)::SetStatiEID(int32 n, int32 val, hObj:(-1) t,rID eID);
system void (-1)::IncStatiMag(int32 n, int32 Cause,int32 Val, hObj:(-1) t, int32 Inc);


system int32 (-1)::GetEffStatiVal(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiMag(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiCause(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system hObj (-1)::GetEffStatiObj(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiDur(int32 n, rID xID, int32 Val=-1, hObj:(-1) t=0);
system int32 (-1)::GetEffStatiCLev(int32 n,rID xID, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::SetEffStatiVal(int32 n, rID xID,int32 val, hObj:(-1) t=0);
system void (-1)::SetEffStatiMag(int32 n, rID xID,int32 Mag, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::SetEffStatiCause(int32 n, rID xID,int32 Cause, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::SetEffStatiObj(int32 n, rID xID, hObj:(-1) t, int32 Val=-1);
system void (-1)::SetEffStatiDur(int32 n, rID xID, int32 Dur, int32 Val=-1, hObj:(-1) t=0);
system void (-1)::IncEffStatiMag(int32 n,rID xID, int32 Cause,hObj:(-1) t,int32 Inc, int32 Val=-1);

system int32 (-1)::SumStatiMag(int32 n, int32 val=-1, hObj:(-1) t = 0);
system int32 (-1)::HighStatiMag(int32 n, int32 val=-1, hObj:(-1) t = 0);
system int32 (-1)::SumStatiVal(int32 n, hObj:(-1) t = 0);
system int32 (-1)::XORStatiVal(int32 n, hObj:(-1) t = 0);

system int32 (-1)::CountStati(int32 n, int32 val=-1, hObj:(-1) t=0);
system int32 (-1)::CountEffStati(int32 n, rID xID,int32 Val=-1);
#line "..\inc/Api.h" 314
system rID (-2)::mID;
system rID (-2)::tmID;
system int32 (-2)::PartyID;
system int32 (-2)::cHP;
system int32 (-2)::mHP;
system int32 (-2)::Subdual;
system int32 (-2)::cFP;
system int32 (-2)::mMana;
system int32 (-2)::uMana;
system int32 (-2)::hMana;
system int32 (-2)::cMana();
system int32 (-2)::tMana();
system int32 (-2)::nhMana();
system void (-2)::LoseMana(int32 amt, int32 hold=false);
system void (-2)::GainMana(int32 amt);
system int32 (-2)::AoO;
system int32 (-2)::FFCount;
system int32 (-2)::StateFlags;

system int32 (-2)::AttackMode();
system int32 (-2)::GetAttr(int32 att);
system int32 (-2)::KnownAttr(int32 att);
system void (-2)::Exercise(int32 att, int32 amt, int32 col, int32 cap);
system void (-2)::Abuse(int32 att, int32 amt);
system int32 (-2)::isBlind();

system void (-2)::ChooseAction();
system void (-2)::ExtendedAction();
system int32 (-2)::ChallengeRating(int32 allow_neg = false);
system void (-2)::GainXP(int32);
system void (-2)::KillXP(hObj:(-2));
system int32 (-2)::XPDrained();
system void (-2)::RestoreXP(int32 xp);
system void (-2)::DevourMonster(hObj:6);
system int32 (-2)::Percieves(hObj:(-1));
system int32 (-2)::isBeside(hObj:(-1));
system int32 (-2)::isSmallRace();
system int32 (-2)::ItemPrereq(rID xID, int32 ReqLevel, int32 TrickDC);
system int32 (-2)::yn(string msg,int32 defc=true);
system int32 (-2)::canTalk();
system int32 (-2)::ArmorType();
system int32 (-2)::Encumbrance();
system int32 (-2)::HasAttk(int32 att);
system int32 (-2)::HasMFlag(int32 mf);
system int32 (-2)::HasFeat(int32 ft);
system int32 (-2)::HasAbility(int32 ft);
system int32 (-2)::IHasFeat(int32 ft);
system int32 (-2)::IHasAbility(int32 ft);
system int32 (-2)::AbilityLevel(int32 n);
system int32 (-2)::SkillLevel(int32 n);
system int32 (-2)::ISkillLevel(int32 n);
system int32 (-2)::SkillCheck(int32 sk, int32 DC, int32 show, int32 retry=0);
system int32 (-2)::WepSkill(rID wID);
system void (-2)::CalcValues();
system void (-2)::CalcHP();
system int32 (-2)::Mod(int32 a);
system int32 (-2)::Mod2(int32 a);
system int32 (-2)::KMod(int32 a);
system int32 (-2)::KMod2(int32 a);
system int32 (-2)::SkillAttr(int32 sk);
system int32 (-2)::SavingThrow(int32 st, int32 SaveDC, int32 subtypes=0);
system void (-2)::TrainAs(rID cID);
system int32 (-2)::HungerState();
system hObj (-2)::ConsumeRope(int32 feet);
system int32 (-2)::LoseFatigue(int32 amt, int32 avoid = false);
system void (-2)::Shapeshift(rID mID, int32 merge = false, hObj:(-4) PolySource = 0);
system int32 (-2)::ResistLevel(int32 DType);
system int32 (-2)::SpellRating(rID eID,int32 mm=0,int32 percieved=false);
system int32 (-2)::CasterLev();
system rID (-2)::getGod();
system int32 (-2)::GetAgeCatagory();
system void (-2)::DropAll();
system hObj (-2)::InSlot(int32 sl);
system hObj (-2)::FirstInv();
system hObj (-2)::NextInv();
system int32 (-2)::HasSkill(int32 sk);
system int32 (-2)::HasInnateSpell(rID spID);
system hObj (-2)::FindBestItemOrCreate(rID iID);
system void (-2)::GainItem(hObj:(-4) it,int32 st=false);
system void (-2)::IdentByTrial(hObj:(-4) it);
system void (-2)::GainInherantBonus(int32 attr, int32 mag, int32 msg=true);
system void (-2)::Reveal(int32 intentional = false);
system void (-2)::ProvokeAoO();
system void (-2)::ManeuverCheck(hObj:(-5));
system int32 (-2)::isHostileTo(hObj:(-2));
system int32 (-2)::isHostileToPartyOf(hObj:(-2));
system int32 (-2)::isFriendlyTo(hObj:(-2));
system int32 (-2)::isThreatened();
system hObj (-2)::getLeader();
system hObj (-2)::getLeaderOrFirst();
system int32 (-2)::isLedBy(hObj:(-2));
system int32 (-2)::worstTrouble();
system void (-2)::Transgress(rID gID, int32 mag, int32 doWrath, string reason);
system void (-2)::IdentifyMon();
system void (-2)::IdentifyTemp(rID tID);
system int32 (-2)::isMType(int32 mt);
system int32 (-2)::isAerial();
system int32 (-2)::isFlatFooted();
system int32 (-2)::ChoicePrompt(string msg, string choices, int32 df=0, int32 col1=6, int32 col2=14);
system void (-2)::AddTemplate(rID tID);
system int32 (-2)::CanAddTemplate(rID tID);
system void (-2)::Awaken();
system int32 (-2)::getSocialMod(hObj:(-2) cr, int32 inc_str);
system void (-2)::MakeNoise(int32 radius);
system void (-2)::Multiply(int32 count,int32 split, int32 msg=true);
system void (-2)::StatiMessage(int32 n, int32 val=0, int32 ending=0);
system hObj (-2)::RandInv();
system hObj (-2)::RandGoodInv(int32 minval);

system int32 (-2)::SightRange;
system int32 (-2)::LightRange;
system int32 (-2)::ShadowRange;
system int32 (-2)::InfraRange;
system int32 (-2)::TremorRange;
system int32 (-2)::BlindRange;
system int32 (-2)::TelepRange;
system int32 (-2)::PercepRange;

system int32 (-2)::rateMeleeWeapon();
system int32 (-2)::rateRangedWeapon();
system hObj (-2)::getPrimaryMelee();
system hObj (-2)::getPrimaryRanged();

system void (-2)::HaltAction(string why, int32 force_halt);
#line "..\inc/Api.h" 449
system int32 (-3)::kcMana();
system int32 (-3)::ktMana();

system int32 (-3)::Proficiencies;
system rID (-3)::GodID;

system int32 (-3)::Swap(int32 sl);
system void (-3)::AddAbilities(rID xID,int32 lv);
system void (-3)::GainFeat(int32 ft);
system void (-3)::GainAbility(int32 ab, int32 pa, rID sourceID,int32 statiSource);
system void (-3)::GainBonusSkills(rID cID, int32 sp);
system void (-3)::FeatPrereq(int32 ft);
system int32 (-3)::NextLevXP();
system int32 (-3)::XPPenalty();
system void (-3)::LoseXP(int32 amt);
system int32 (-3)::TotalXP();
system int32 (-3)::IAttr(int32 a);
system int32 (-3)::LevelAs(rID cID);
system int32 (-3)::TotalLevel();
system int32 (-3)::SpellKnown(int32 spNum);
system int32 (-3)::getSpellFlags(rID spID);
system void (-3)::setSpellFlags(rID spID, int32 fl);
system int32 (-3)::GetSkillRanks(int32 sk);
system int32 (-3)::GetBAB(int32 mode);
system void (-3)::SetInvSlot(int32 sl, hObj:(-4) it);




system void (-3)::UseFeat(int32 ft);
system void (-3)::UseSkill(int32 sk);
system void (-3)::UseAbility(int32 ab,int32 pa);

system void (-3)::GodMessage(rID gID, int32 msg,...);
system int32 (-3)::calcFavor(rID gID);
system void (-3)::gainFavor(rID gID, int32 amt, int32 advance=false, int32 stack=true);
system void (-3)::lowerAnger(rID gID, int32 amt);
system void (-3)::AlignedAct(int32 type, int32 mag, string reason);

system int32 (-3)::getGodFlags(rID gID);
system int32 (-3)::getGodLevel(rID gID);
system int32 (-3)::getGodAnger(rID gID);
system void (-3)::setGodFlags(rID gID, int32 fl);
system void (-3)::resetGodFlags(rID gID, int32 fl);
system void (-3)::Forsake();
system int32 (-3)::isWorthyOf(rID gID, int32 penanceOK);
system int32 (-3)::getAnger(rID gID);
system void (-3)::SwapAttributes(int32 n);
system int32 (-3)::TotalExploreFavor();

system int32 6::MakeCompanion(hObj:7 p,int32 CompType);
system void 6::Pacify(hObj:(-2));
system void 6::TurnHostileTo(hObj:(-2));
system void 6::TurnNeutralTo(hObj:(-2));

system rID 7::RaceID;
system int32 7::WizardMode;

system void 7::GainSpell(rID sID, int32 fl);

system int32 7::FirstAutoBuff();
system int32 7::NextAutoBuff();
system int32 7::SpendHours(int32 minHours, int32 maxHours);
system int32 7::formulaSeed;
system int32 7::FixSummonCR(int32 enCR, int32 CompType=2);
system int32 7::getMaxDepth(rID dID);
#line "..\inc/Api.h" 526
system string 7::BonusBreakdown(int32 a, int32 maxlen);
system int32 7::Seen(int32 x, int32 y);
system int32 7::Opt(int32 option);
#line "..\inc/Api.h" 534
system void 6::AddAct(int32 act, int32 pri, hObj:(-1) tar = 0, int32 subval = 0);
#line "..\inc/Api.h" 544
system rID (-4)::iID;
system rID (-4)::ieID;
system int32 (-4)::IFlags;
system int32 (-4)::Age;

system hObj (-4)::Owner();
system int32 (-4)::Size(hObj:(-2) wielder=0);
system hObj (-4)::GetParent();
system int32 (-4)::isActivatable();
system void (-4)::ChangeIID(rID xID);
system int32 (-4)::allowedSlot(int32 sl, hObj:(-2));
system int32 (-4)::activeSlot(int32 sl);
system int32 (-4)::GetCharges();
system void (-4)::SetCharges(int32 ch);
system void (-4)::MakeKnown(int32 k);
system void (-4)::SetKnown(int32 k);
system int32 (-4)::isEdible(hObj:(-2));
system int32 (-4)::isMagic();
system void (-4)::MakeMagical(rID eID, int32 plus=0);
system int32 (-4)::Weight();
system int32 (-4)::HasIFlag(int32 fl);
system int32 (-4)::useStrength();
system int32 (-4)::HasSpell(int32 sp);
system int32 (-4)::HasQuality(int32 q);
system int32 (-4)::KnownQuality(int32 q);
system int32 (-4)::QualityOK(int32 q,int32 lv=200);
system void (-4)::AddQuality(int32 q, int32 param=0);
system void (-4)::RemoveQuality(int32 q);
system void (-4)::PurgeAllQualities();
system int32 (-4)::ItemLevel();
system int32 (-4)::isGroup(int32 gr);
system rID (-4)::GetCorpseType();
system int32 (-4)::GetLightRange();
system int32 (-4)::GetQuantity();
system void (-4)::SetQuantity(int32 q);
system hObj (-4)::TakeOne();
system hObj (-4)::TryStack(hObj:(-4));
system int32 (-4)::isBlessed();
system int32 (-4)::isCursed();
system int32 (-4)::isMaster();
system int32 (-4)::isKnown(int32 kn);
system void (-4)::ReApply();
system int32 (-4)::GetPlus();
system int32 (-4)::GetInherantPlus();
system void (-4)::SetInherantPlus(int32 newPlus);
system int32 (-4)::ArmVal(int32 ty);
system int32 (-4)::ArmorPenalty(int32 for_skill);
system int32 (-4)::Hardness(int32 DType);
system int32 (-4)::MaxHP();
system void (-4)::MendHP(int32 hp);
system int32 (-4)::GetHP();
system void (-4)::VisibleID(hObj:(-2));

system int32 (-4)::isBaneOf(int32 MT);
system void (-4)::SetBane(int32 b);
system int32 (-4)::GetBane();

system hObj 30::getItem(int32 n);

system int32 11::DoorFlags;
system int32 12::TrapFlags;
system rID 12::tID;
system int32 12::TriggerTrap(hObj:(-5), int32 found_before=false);
system int32 12::TrapLevel();
system rID 13::fID;

system int32 10::EnterDir(int32 dir);
#line "..\inc/Api.h" 621
system void 3::StopWatch(int32 milli);
system void 3::SetMode(int32 mode);
system int32 3::GetMode();
system int32 3::OffsetX();
system int32 3::OffsetY();
system void 3::SetWin(int32 win);
system int32 3::GetCharRaw();
system void 3::PutChar(int32 x,int32 y, int32 g);
system void 3::PutGlyph(int32 x,int32 y, int32 g);
system int32 3::GetGlyph(int32 x,int32 y);
system void 3::GotoXY(int32 x, int32 y);
system void 3::Clear();
system void 3::SetColor(int32 col);
system void 3::Write(string msg);
system void 3::WriteXY(int32 x,int32 y, string msg);
system void 3::CursorOn();
system void 3::CursorOff();
system hObj 3::ChooseTarget(String prompt,int32 rType = 0);
system int32 3::EffectPrompt(hObj:(-5),int32 qv,int32 islook, String str);
system hObj 3::AcquisitionPrompt(int32 Reason, int32 minlev, int32 maxlev, int32 MType);
system string 3::StringPrompt(int32 col, string msg);
system rID 3::ChooseResource(string prompt, int32 RType, rID eID);
system void 3::LOption(string txt, int32 val, string des=0);
system void 3::LOptionClear();
system int32 3::LMenu(int32 fl, string title, int32 MWin=14,string help=0);
system int32 3::LMultiSelect(int32 fl, string title, int32 MWin=14,string help=0);
system int32 3::FirstSelected();
system int32 3::NextSelected();
system void 3::HelpTopic(string topic);
system void 3::RefreshMap();
system void 3::TermUpdate();
system void 3::Box(string msg);
system void 3::InventoryManager(int32 first, hObj:30 theChest=0);
#line "..\inc/Api.h" 666
system rID 1::GetEffectID(int32 pur, int32 minlev, int32 maxlev, int32 Source=0);
system rID 1::GetMonID(int32 pur, int32 minlev, int32 maxlev, int32 Depth, int32 MType=-1);
system rID 1::GetItemID(int32 pur, int32 minlev, int32 maxlev, int32 IType=-1);
system rID 1::GetMapID(int32 Purpose, int32 depth, int32 MType=-1);
system rID 1::GetTempID(int32 Types,rID mID, int32 MaxCR);

system hObj 1::GetPlayer(int32 n);
system void 1::EnterLimbo(hObj h, int32 x, int32 y, rID mID, int32 Depth,
int32 OldDepth, int32 Arrival, String msg);

system int32 1::SpellNum(rID spID);
system rID 1::SpellID(int32 spNum);
system int32 1::LastSpell();

system int32 1::GetTurn();
#line "..\inc/Api.h" 686
system void (-5)::SetParam(int32 i,hObj:(-1) t);

system int32 (-5)::Event;
system int32 (-5)::EXVal;
system int32 (-5)::EYVal;
system int32 (-5)::ESpellNum;
system int32 (-5)::EParam;
system int32 (-5)::EDir;
system int32 (-5)::vRoll;
system int32 (-5)::AType;
system int32 (-5)::DType;
system int32 (-5)::vHit;
system int32 (-5)::vDef;
system int32 (-5)::vThreat;
system int32 (-5)::vCrit;
system int32 (-5)::vPenetrateBonus;
system int32 (-5)::vRange;
system int32 (-5)::vRadius;
system int32 (-5)::vDuration;
system int32 (-5)::vCasterLev;
system int32 (-5)::vAlchemy;
system int32 (-5)::vChainCount;
system int32 (-5)::vChainMax;
system int32 (-5)::efNum;
system int32 (-5)::saveDC;
system int32 (-5)::vDmg;
system int32 (-5)::bDmg;
system int32 (-5)::aDmg;
system int32 (-5)::xDmg;
system int32 (-5)::vMult;
system int32 (-5)::sp;
system rID (-5)::eID;
system int32 (-5)::isHit;
system int32 (-5)::isCrit;
system int32 (-5)::isFumble;
system int32 (-5)::isBypass;
system int32 (-5)::Died;
system int32 (-5)::ADied;
system int32 (-5)::Blocked;
system int32 (-5)::Saved;
system int32 (-5)::Immune;
system int32 (-5)::Resist;
system int32 (-5)::wasFriendly;
system int32 (-5)::actUnseen;
system int32 (-5)::vicUnseen;
system int32 (-5)::Whirlwind;
system int32 (-5)::Graze;
system int32 (-5)::Stun;
system int32 (-5)::actIncor;
system int32 (-5)::vicIncor;
system int32 (-5)::Ranged;
system int32 (-5)::vicHeld;
system int32 (-5)::isDir;
system int32 (-5)::isLoc;
system int32 (-5)::isActivation;
system int32 (-5)::isSomething;
system int32 (-5)::isWield;
system int32 (-5)::isRemove;
system int32 (-5)::isPeriodic;
system int32 (-5)::isAoO;
system int32 (-5)::isCleave;
system int32 (-5)::isSurprise;
system int32 (-5)::isFlatFoot;
system int32 (-5)::isFlanking;
system int32 (-5)::isGhostTouch;
system int32 (-5)::actIllusion;
system int32 (-5)::vicIllusion;
system int32 (-5)::effIllusion;
system int32 (-5)::illType;
system int32 (-5)::isSeeking;
system int32 (-5)::isFirstBlastXY;
system int32 (-5)::isRepeatSpell;
system int32 (-5)::isEBlessed;
system int32 (-5)::isECursed;
system int32 (-5)::isConf;
system int32 (-5)::isHallu;
system int32 (-5)::isItem;
system int32 (-5)::isTrap;
system int32 (-5)::isActOfGod;
system int32 (-5)::isOffhand;
system int32 (-5)::isEvaded;
system int32 (-5)::isSneakAttack;
system int32 (-5)::isWildMiss;
system int32 (-5)::ignoreHardness;
system int32 (-5)::halfHardness;
system int32 (-5)::Silence;
system int32 (-5)::Terse;
system int32 (-5)::MM;

system int32 (-5)::vDepth;
system int32 (-5)::vLevel;
system int32 (-5)::vAlign;

system string (-5)::GraveText;
system string (-5)::strDmg;
system string (-5)::strXDmg;
system string (-5)::strHit;
system string (-5)::strDef;
system string (-5)::strOpp1;
system string (-5)::strOpp2;
system string (-5)::strBlastDmg;

system string (-5)::nPrefix;
system string (-5)::nCursed;
system string (-5)::nPrequal;
system string (-5)::nPostqual;
system string (-5)::nNamed;
system string (-5)::nBase;
system string (-5)::nAppend;
system string (-5)::nOf;
system string (-5)::nAdjective;
system string (-5)::nFlavor;
system string (-5)::nInscrip;
system string (-5)::nMech;
system string (-5)::nArticle;
system string (-5)::nPlus;
system string (-5)::Text;
#line "..\inc/Api.h" 810
system int32 (-5)::eval;
system int32 (-5)::dval;
system int32 (-5)::aval;
system int32 (-5)::tval;
system int32 (-5)::qval;
system int32 (-5)::sval;
system int32 (-5)::lval;
system int32 (-5)::cval;
system int32 (-5)::xval;
system int32 (-5)::yval;
system rID (-5)::rval;
#line "..\inc/Api.h" 826
system Rect (-5)::cPanel;
system Rect (-5)::cMap;
system Rect (-5)::cRoom;

system int32 (-5)::vVal;
system int32 (-5)::vMag;
system hObj (-5)::vObj;

system int32 (-5)::cPart;
system int32 (-5)::enAlign;
system int32 (-5)::enCR;
system int32 (-5)::enDepth;
system int32 (-5)::enFreaky;
system int32 (-5)::enPurpose;
system int32 (-5)::enSleep;
system int32 (-5)::enTerrain;
system int32 (-5)::enDesAmt;
system int32 (-5)::enType;
system int32 (-5)::epMinAmt;
system int32 (-5)::epMaxAmt;
system int32 (-5)::epAmt;
system int32 (-5)::epFreaky;
system int32 (-5)::epWeight;
system int32 (-5)::epMType;
system int32 (-5)::epSkillRoll;
system int32 (-5)::epClassRoll;
system int32 (-5)::epCurrXCR;
system rID (-5)::enID;
system rID (-5)::ep_mID;
system rID (-5)::ep_tID;
system rID (-5)::ep_tID2;
system rID (-5)::ep_tID3;
system rID (-5)::ep_hmID;
system rID (-5)::ep_htID;
system rID (-5)::ep_htID2;
system rID (-5)::ep_iID;
system rID (-5)::ep_pID;
system int32 (-5)::enXCR;
system int32 (-5)::epXCR;
system int32 (-5)::eimXCR;
system int32 (-5)::enFlags;
system int32 (-5)::enConstraint;
system int32 (-5)::chMaximize;
system int32 (-5)::chBestOfTwo;
system int32 (-5)::chList;
system rID (-5)::chSource;
system rID (-5)::chResult;
system int32 (-5)::isAquaticContext;
#line "..\inc/Api.h" 879
system int32 isResType(rID xID, int32 rt);

system int32 68::GetConst(int32 cn);

system int32 62::Image;
system int32 62::CR;
system int32 62::Depth;
system int32 62::Terrains;
system int32 62::Hit;
system int32 62::Def;
system int32 62::Arm;
system int32 62::Mov;
system int32 62::Spd;
system int32 62::MSize;

system int32 63::Image;
system int32 63::RIType;

system int32 64::Image;

system int32 65::Schools;
system int32 65::HasSource(int32 src);
system int32 65::Purpose;
system int32 65::Level;
system int32 65::HasFlag(int32 tf);

system int32 76::Image;
#line "..\inc/Api.h" 910
system int32 76::TerrainHasFlag(int32 tf);

system rID 75::Floor;
system rID 75::Walls;

system rID 72::BaseRace;

system rID 79::TType;
#line "..\inc/Api.h" 924
system String Capitalize(String s, int32 all=false);
system String Replace(String str, String find, String rep);

system String 99::Capitalize(int32 all=false);
system String 99::Replace(String find, String rep);
system void 99::Empty();
system int32 99::strchr(int32 ch);
system int32 99::GetLength();
system int32 99::GetTrueLength();
system String Left(String s, int32 sz);
system String 99::Left(int32 sz);
system String Right(String s, int32 sz);
system String 99::Right(int32 sz);
system String Mid(String s, int32 start, int32 end);
system String 99::Mid(int32 start, int32 end);
system String Trim(String s);
system String 99::Trim();
system String Upto(String s, String chlist);
system String 99::Upto(String chlist);
system String Upper(String s);
system String 99::Upper();
system String Lower(String s);
system String 99::Lower();
system String Decolorize(String s);
system String 99::Decolorize();

system String Format(String fmt,...);
system String XPrint(String str,...);
system String Pluralize(String str, rID iID=0);

system String NAME(rID xID);
system String DESC(rID xID);
system String SkillName(int32 sk);
system String DescribeSkill(int32 sk);

system void PrintRect(Rect r);
system int32 WithinRect(Rect r, int32 x, int32 y);
#line "..\inc/Api.h" 966
system int32 dist(int32, int32, int32, int32);
system int32 random(int32 mx);
system hObj GetHandle(hObj:(-1) h);
system int32 isValidHandle(hObj h);

system void DPrint(hObj:(-5), string msg1, string msg2,...);
system void VPrint(hObj:(-5), string msg1, string msg2,...);
system void TPrint(hObj:(-5), string msg1, string msg2, string msg3,...);
system void APrint(hObj:(-5), string msg,...);
system void SinglePrintXY(hObj:(-5), string msg,...);
system int32 ResourceLevel(rID xID);

system void Error(string msg1,...);
system void Fatal(string msg1,...);

system int32 DirX(int32);
system int32 DirY(int32);

system int32 ResourceHasFlag(rID xID, int32 flagno);
system int32 mID_isMType(rID mID, int32 mt);
system int32 PoisonDC(rID pID);

system int32 XCRtoCR(int32 XCR);
system int32 XCR(int32 CR);

system void SetSilence();
system void UnsetSilence();

system void SetETarget(hObj:(-5) e, hObj:(-1) t);
system void SetEVictim(hObj:(-5) e, hObj:(-2) v);
system void SetEActor (hObj:(-5) e, hObj:(-2) a);
system void SetEItem (hObj:(-5) e, hObj:(-4) it);
system void SetEItem2 (hObj:(-5) e, hObj:(-4) it);

system int32 nCandidates();
system int32 GetCandidate(int32 n);
system void AddCandidate(int32 h);
system int32 RandCandidate();
system void ClearCandidates();

system int32 Throw(int32 Ev, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowXY(int32 Ev, int32 x, int32 y, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowVal(int32 Ev,int32 n, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowDir(int32 Ev,int32 dr, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowEff(int32 Ev,rID eID, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowEffDir(int32 Ev,rID eID,int32 dr, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowEffXY(int32 Ev,rID eID,int32 x,int32 y, hObj:2=0,
hObj:2=0, hObj:2=0,hObj:2=0);

system int32 ThrowLoc(int32 Ev,int32 x,int32 y, hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowDmg(int32 Ev,int32 dt,int32 amt, string s,
hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ThrowTerraDmg(int32 Ev,int32 dt,int32 amt, string s,
hObj:2=0, rID terID);

system int32 ThrowDmgEff(int32 Ev,int32 dt,int32 amt, string s, rID eID,
hObj:2=0,hObj:2=0,
hObj:2=0,hObj:2=0);

system int32 ReThrow(int32 ev, hObj:(-5));
system int32 RedirectEff(hObj:(-5),rID eID,int32 Ev=52);

system hObj CreateItem(rID iID);
system hObj CreateMonster(rID mID);
system hObj CreateFeature(rID fID);
system hObj CreateDoor(rID fID);
system hObj CreatePortal(rID fID);
system hObj CreateTrap(rID fID, rID tID);
system hObj GenDungeonItem(int32 fl, rID xID, int32 Depth, int32 Luck);
system hObj GenChestItem(int32 fl, rID xID, int32 Depth, int32 Luck);
system hObj InitShopkeeper(rID mID, int32 gold);
system void SystemBreak();

system int32 effectGivesStati(rID eID);

system int32 MMFeatLevels(int32 MM);

system int32 LevelAdjust(int32 val, int32 level, int32 spec = 1);

system int32 LastSkillCheckResult();

system void SetPVal(hObj:(-5) e, int32 b, int32 n=0, int32 s=0);
#line "main.irc" 12
Monster "(Resource Zero)" : 0
{
Flags: 24, 23;
}

Effect "unimplemented" : 25
{
Level: 10;
}

Module "Incursion Core Module";
File "Incursion.Mod";
Slot 0;
#line "races.irh" 2
Monster "Beginner's Kit" : 0
{
Gear:
2d2+1 $"potion" of $"see invisibility;potion",
3d2+1 $"potion" of $"remove curse;potion",
2d2+1 $"potion" of $"cure disease",
2d2+1 $"potion" of $"antitoxin",
1d2+1 $"potion" of $"restore strength",
1d2+1 $"potion" of $"restore constitution",
1d2+1 $"potion" of $"restoration",
1d2+1 $"potion" of $"detect stairs",
$"wand" of $"identify;wand",
3d2+4 $"food ration";
Flags: 24, 23;
}

Monster "Ressurection Gear" : 0
{
Gear:
1d4+1 $"potion" of $"healing",
$"medium backpack",
3d6 $"food ration",
3d4 $"torch",
$"dagger",
$"white robe",
if (EActor->LevelAs($"mage"))
$"spellbook [Adventurers' Arts]",
if (EActor->LevelAs($"mage"))
$"spellbook [Fundamentals of Magick]",
if (EActor->LevelAs($"mage"))
$"spellbook [Tome of Magic]",
$"holy symbol";
Flags: 24, 23;
}
#line "races.irh" 43
Monster "Universal Gear" : 0
{
Gear:
if (EActor->HasFeat((((49 + 1) + 32) + 0)))
250d1 $"gold piece",
if (EActor->isSmallRace() && (

EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 28)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 27))))
$"buckler;wooden" else
if (
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 28)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 27)))
$"kite shield",


if (EActor->GetEffStatiVal(189,$"ranger") == 't' &&
!EActor->isSmallRace())
33% $"short sword" of random 3 to 4 else
if (EActor->GetEffStatiVal(189,$"ranger") == 't')
50% $"main gauche" of random 3 to 4 else
if (EActor->GetEffStatiVal(189,$"ranger") == 't')
$"stiletto" of random 3 to 4 else

if (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)) &&
!EActor->isSmallRace())
33% $"short sword" else
if (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)))
50% $"main gauche" else
if (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)))
$"stiletto",
#line "races.irh" 78
if (!(EActor->Proficiencies & 0x20000000))
$"gold piece" else
if (EActor->LevelAs($"druid"))
50% $"bark armor" else
if (EActor->LevelAs($"druid"))
$"cord armor" else
if (EActor->isMType(62) && EActor->LevelAs($"paladin"))
$"chainmail" with [68, 76] else
if ((EActor->GetAttr(1) + ((int32)EActor-> HasFeat((((49 + 1) + 32) + 44)))*3 + ((int32)EActor-> HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)))*5 > EActor->GetAttr(0) + 4 + ((int32)EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))*4) && EActor->LevelAs($"paladin"))
#line "races.irh" 87
$"leather armor" +3 else
if ((EActor->GetAttr(1) + ((int32)EActor-> HasFeat((((49 + 1) + 32) + 44)))*3 + ((int32)EActor-> HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)))*5 > EActor->GetAttr(0) + 4 + ((int32)EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))*4))
#line "races.irh" 89
50% $"leather armor" else
if ((EActor->GetAttr(1) + ((int32)EActor-> HasFeat((((49 + 1) + 32) + 44)))*3 + ((int32)EActor-> HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)))*5 > EActor->GetAttr(0) + 4 + ((int32)EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20)))*4))
#line "races.irh" 91
$"studded leather" else
if (EActor->LevelAs($"barbarian") && !(EActor->isMType(63)
|| EActor->isMType(62) || EActor->isMType(66)))
$"hide armor" else
if (EActor->LevelAs($"paladin"))
$"field plate armor" else
if (EActor->Proficiencies & 0x80000000)
25% $"plate mail" else
if (EActor->Proficiencies & 0x80000000)
33% $"splint mail" else
if (EActor->Proficiencies & 0x80000000)
50% $"banded mail" else
if (EActor->Proficiencies & 0x80000000)
$"lamellar armor" else
if (EActor->Proficiencies & 0x40000000)
50% $"coat of plates" else
if (EActor->Proficiencies & 0x40000000)
$"breastplate" else
if (EActor->Proficiencies & 0x20000000)
50% $"studded leather" else
if (EActor->Proficiencies & 0x20000000)
$"leather armor";
On Event 150 {
hObj hSymbol;
if (EActor->GodID == ((rID)0))
return 0;
hSymbol = CreateItem($"holy symbol");
hSymbol->ieID = (rID) (EActor->GodID)->GetConst(130);
hSymbol->MakeKnown(0xFF);
EActor->GainItem(hSymbol,true);
return 0;
};
Flags: 24, 23;
}
#line "races.irh" 131
Monster "human;temp" : 61, 87
{
Image: white '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 100%; Speed: 100%;
Attk:1 for 1d2 13;
Flags: 36, 37, 1, 24, 23,
110;
Desc: "Human Player Race";
}

Race "Human;race"
{
Desc: "<15>Str:<1>-- <15>Dex:<1>-- <15>Con:<1>-- <15>Int:<1>-- <15>Wis:<1>-- <15>Cha:<1>-- <15>Luc:<1>--
      \n<2>\n__Humans are the most adaptable and numerous race found 
      on Therya, the standard by which the other races -- demihuman 
      and darkling alike -- are measured. They are also the youngest 
      of the major races, and arguably the most ruthless. Humanity
      conquers wilderness, builds cities, develops economies and drives
      back the primevil chaos by their very nature. It is mankind that
      founded the Great Empire, even if a hobbit now carries the title
      of Empress.
        Human abilities reflect the race's diverse and adaptable nature.
      They recieve bonus Feats to reflect their prowess, take advantage of
      special skills at character creation to reflect their diversity and
      despite starting with no attribute modifiers, they have the potential
      to develop their attributes beyond the maximums of any other race.
      
      \n\n<10>HUMAN RACIAL SKILLS<2>\n
      __Humans have no devoted areas of specialization the way most of
      the other races do. They may choose any two skills to treat as
      racial skills. 
      
      \n\n<10>HUMAN RACIAL TRAITS<2>
      \n__*_<7>Racial Weapons<2> -- Humans are diverse and have no special
      or favored racial weapons.
      \n__*_<7>Inherant Potential<2> -- While elves are on average more
      graceful than humans, dwarves hardier and orcs stronger, there
      exist legendary heros from within the human race that exceed the
      capacity of all the other races. In game terms, humans can gain
      increased benefit from inherant adjustments to their ability
      scores. While the other races can gain a maximum inherant bonus
      to any one ability score of +5, humans can gain inherant bonuses
      to a single ability totalling +8.
      \n__*_<7>Versatility<2> -- Humans are the quickest learners, and
      the most adaptable to new situations, of any race living on Therya.
      They gain bonus feats at 1st, 5th, 10th, 15th and 20th level -- these
      being chosen from the full list of feats in the game. Humans also gain
      an additional 2 skill points at every level they advance. Finally,
      humans consider every class to be a favored class, and can thus
      multiclass freely without fear of an experience penalty.
      \n__*_<7>Starting Equipment<2> -- Humans start with food rations, a
      medium backpack and torches.";
#line "races.irh" 195
Str 0, Dex 0, Con 0, Int 0, Wis 0, Cha 0, Luc 0;
Monster: $"human;temp";
Skills: -1, -1;
Grants:
Feat[6] at 1st level,
Feat[6] at 5th level,
Feat[6] at 10th level,
Feat[6] at 15th level,
Feat[6] at 20th level,
Ability[43,+3] at 1st level,
Ability[102] at 1st level;
Gear:
$"medium backpack",
4d2 $"food ration", 3d2 $"torch";
1: "Jaoin/Sammal/Kierny/Kethad/Rathmere/Michealis/Morgon/
      Matthais/Achrim/Orchal/David/Keos/Quinn/Abrash/Jabesh/Uchie/
      Denoin/Pavrash/Vorkai";
2: "Emi/Una/Eonin/Amadiel/Abigail/Cathe/Maryam/Immona/
      Samisa/Velanore/Leanna/Triel/Joan/Janina/Cattie/Shalamar/
      Sangraela/Mera/Minuet/Chemise/Madrigal/Tabitha";
3: "Surchst/Ringal/Yauth/Wernast/Onhalm/Gedilask/Faravis/
      Sintal/Ferholm/Oswin/Jinlar/Gessek/Tauth/Hishram/Ullast/Imrask/
      Achabald/Senovise";
On Event 153 {
EActor->GainBonusSkills(e.eID,2);
};
Lists:
* 19
5 $"celestial" $"warhorse"
$"celestial" $"horse"
7 $"griffon"
$"pegasus"
$"young" $"gold dragon"
$"unicorn"
9 $"lammasu"
$"dragonne"

$"juvenile" $"gold dragon";
Constants:
* 113 120;

}
#line "races.irh" 245
Monster "kobold;temp" : 18, 87
{
Image: green '@'; Size: 3; Mana: 10; Arm: 2;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk:7 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11;

Stati[124,9,2];
Stati[124,16,4];
Stati[124,35,2];
Stati[124,41,2];
Stati[39,42,6];

Flags: 36, 37, 1, 24, 23,
8, 110;
Immune: 0x00000010;
Desc: "Kobold Player Race";
}

Race "Kobold;race"
{
Str -4, Dex +4, Con 0, Int +2, Wis 0, Cha -2, Luc 0;
Monster: $"kobold;temp";
Favored: $"rogue", $"mage";
Skills: 7, 14, 18, 35, 39, 16,
14;
Grants:
Ability[31,+3] at 3rd level,
Ability[85,31,+1] at every level starting at 1st,
Ability[124,+3] at 1st level,
Feat[(((49 + 1) + 32) + 9)] at 1st level,
Feat[(((49 + 1) + 32) + 35)] at 1st level,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48)] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22)] at 1st level;
Desc: "<15>Str:<1>-4 <15>Dex:<1>+4 <15>Con:<1>-- <15>Int:<1>+2 <15>Wis:<1>-- <15>Cha:<1>-2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Rogue, Mage\n
      \n__In ancient gnomish legends, a 'kobold' is a demon of the mines;
      a creature who poisons wells, snuffs out lantern flames, kidnaps
      children and pricks captured maidens with a thousand pins. In this
      particular case, the legend is completely true. Kobolds are the
      darkling counterpoint to gnomes, the corrupted form of that race.
      For countless millenia the two races have waged an underground war
      unseen by human eyes -- for as sociable as the gnomes are, they do
      not discuss this particular topic, and the kobolds themselves shy
      away from human sight and daylight alike.
      \n__Revelling in sabotage, trickery and guerilla warfare, kobolds
      are far more dangerous then most major powers give them credit for
      -- and that's exactly how they prefer it remain. Physically, they
      are small, dog-like creatures, but possess scales instead of fur.
      They are weak but very nimble, and have sharp claws and gleaming
      red eyes. Their overall racial alignment tendancies are toward chaos
      and evil.
      \n__Kobold adventurers are most often those that have grown tired of
      the sheer pettyness and malicious immaturity of their own society.
      Whether good or evil, they have higher ambitions then collapsing
      mines, stealing tools and curdling milk for the simple spite of
      such acts.
      \n\n
      <10>KOBOLD RACIAL SKILLS<2>\n
      __Kobolds rely heavily on their skills, using cunning, ingenuity and
      treachery to fell their enemies. They recieve Climb, Find Weakness,
      Hide, Mining, Poison Use and Handle Device as racial skills.
      \n\n
      <10>KOBOLD RACIAL TRAITS<2>\n
      __*_<7>-4 Strength, -2 Charisma<2> -- Kobolds are simply weak and
      cowardly creatures; they inherantly possess neither force of body
      nor force of personality, and are well-known for fleeing from any
      encounter they cannot overcome through trickery.\n
      __*_<7>+4 Dexterity<2> -- Kobolds are agile for their size, with a
      cautious gate and the ability to strike with surprising speed and
      accuracy in a fight.\n
      __*_<7>+2 Intelligence<2> -- Kobolds are crafty and cunning, well
      given to planning and mental challenges.\n
      __*_<7>Small<2> -- Kobolds are considered to be Small creatures,
      which gives them certain mechanical advantages and weaknesses. They
      cannot wield Large weapons and must used two hands to wield a Medium
      weapon, they have a 10% penalty to hit points and their carrying
      capacity is 3/4ths that of a Medium-size creature. However, they
      recieve a +2 size bonus to DC and to all attack rolls, and their
      smaller stature lets them navigate tunnels that a human could
      never fit into.\n
      __*_<7>Racial Weapons<2> -- Most kobolds gain some experience
      with weapons that highlight trickery and cunning. The whip is
      favored for its ability to disarm opponents that rely on weapons
      and the bolas are used to incapacitate foes so that they can
      be dispatched later. Kobolds proficient with the Flexible or
      Simple weapon groups are automatically proficient with the whip,
      and those who are proficient with Thrown weapons are automatically
      proficient with bolas.\n
      __*_<7>Infravision<2> -- Like the majority of the races who dwell
      underground, kobolds possess infravision to a range of 60 feet (6
      squares).\n
      __*_<7>Trapcraft<2> -- Kobolds know and understand traps, snares
      and mechanical dangers better than members of any other race -- and
      they have no aversion to using this knowledge maliciously. They gain
      a +4 racial bonus to the Handle Device skill, and this bonus counts
      as if it were actual skill ranks for determining the level of any
      traps that they set.\n
      __*_<7>Flawless Dodge<2> -- Kobold wardancing is a sight to behold, as
      the tiny creatures skitter, jump and even climb along their enemies'
      bodies in order to evade blows. The effect is not unlike a panicked
      cat -- but cats are not nearly as agile as a terrified kobold. In
      game terms, a kobold character can activate this special ability
      once per day to automatically evade up to three plus their primary
      Dexterity modifier attacks that would have otherwise hit them. If
      they deactivate it before all the attacks are expended, they may
      activate it again later to evade the remaining number of attacks.\n
      __*_<7>Poison Immunity<2> -- Repeated experimentation and exposure,
      combined with their natural reptilian physiology, has made kobolds
      immune to the effects of all non-magical toxins.\n
      __*_<7>Evasion<2> -- Kobolds are agile creatures with good instincts
      and peerless reflexes. They recieve three levels of the Evasion
      ability when they reach 3rd character level. What this means is that
      they gain Evasion (as a rogue or monk), and if they have rogue or
      monk levels, they will gain Improved Evasion three levels sooner
      then they normally would; for example, a kobold monk gains Improved
      Evasion at 6th level.\n
      __*_<7>Devious Feats<2> -- Kobolds recieve the Close-Quarters
      Fighting, Dirty Fighting and Weapon Finesse feats for free at 1st
      level. Despite their weak bodies, kobolds can be dangerous opponents
      if they are allowed to plan and choose the battle.\n
      __*_<7>Swarm<2> -- Like goblins, kobolds excel at overwhelming stronger
      foes by sheer force of numbers alone. For each non-hostile Small
      creature they have within one square of them, they recieve a +1 swarm
      bonus to all attack and damage rolls, and a +1 bonus to Defense.\n
      __*_<7>Natural Weapons<2> -- Kobolds have needle-sharp teeth and claws.
      They may claw for 1d4 points of damage twice, and bite for 1d6 points
      of damage. Because of their natural attacks, kobolds are never considered
      unarmed for the purposes of provoking attacks of opportunity.\n
      __*_<7>Verminfriend<2> -- Kobolds have a strong natural affinity for
      insects and insectile creatures. Vermin of animal intelligence and no
      outside motive will generally not be hostile to kobolds, and kobolds
      can train and befriend them just as other races do domestic animals. 
      This ability functions identically to the Animal Empathy skill, but 
      affects vermin instead of animals and uses the kobold's character 
      level in place of the skill rating.\n
      __Insects are also the only non-kobold creatures known to elicit feelings
      of compassion and friendship from the typical kobold.
      \n__*_<7>Starting Equipment<2> -- Kobolds start with a small
      backpack, cured meat, potions of dimension door, a whip, bolas, a random 
      defensive item and some poison; some may also have a pickaxe.\n\n
      <10>KOBOLD SUBRACES <5>(Unimplemented)<2>\n
      __Alone among the major races of Theyra, the kobolds have no specific
      ethnic divisions or racial strands. The uniformity of their race, even
      across the vast geographical divides of continents, is a matter of
      much speculation to gnome sages.";
1: "Izi/Vucha/Tizzit/Zik/Zzas/Olik/Szissrit/Viska/Kissi/Wixel/
      Zichna/Ezzan/Kitz/Quizzit/Zazel/Igniz/Zigrat/Gizgaz/Rozrim/Zorbin/
      Aztan/Uzi/Ognin";
2: "Izi/Vucha/Tizzit/Zik/Zzas/Olik/Szissrit/Viska/Kissi/Wixel/
      Zichna/Ezzan/Kitz/Quizzit/Zazel/Igniz/Zigrat/Gizgaz/Rozrim/Zorbin/
      Aztan/Uzi/Ognin";
Gear:
$"small backpack",
8d2 $"strip of cured meat", 3d3 $"potion" of $"dimension door",
50% $"pickaxe",
$"whip",
$"bolas",
25% $"robes" +2 of $"Vest of Health" else
33% $"cloak" of $"displacement" else
50% $"bracers" +2 of $"defense" else
$"cloak" of $"shadow shifting",
75% $"horn" +1 of $"the Kobolds;horn",
$"small glass vial" of random 1 to 3,
$"small glass vial" of random 2 to 4;
On Event 153 {
if (EActor->Proficiencies & (0x00000001|0x00004000))
if (EActor->WepSkill($"whip") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"whip", 0);
if (EActor->Proficiencies & (0x00000100))
if (EActor->WepSkill($"bolas") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"bolas", 0);
return 0;
};
Lists:
* 19
5 $"celestial" $"cave cricket"
$"celestial" $"giant soldier ant"
7 $"celestial" $"giant dragonfly"
$"celestial" $"monsterous centipede"
$"celestial" $"giant blue beetle"
$"celestial" $"giant praying mantis"
$"celestial" $"grick"
9 $"celestial" $"giant slug"
$"celestial" $"giant crustacean"
$"celestial" $"giant wasp";
Constants:
* 113 100;
}
#line "races.irh" 445
Monster "gnome;temp" : 64, 87
{
Image: pink '@'; Size: 3; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk: 1 for 1d2 13;

Stati[39,71,2];
Stati[124,19,+4];
Flags: 36, 37, 1, 24, 23,
110;
Desc: "Gnome Player Race";
}

Race "Gnome;race"
{
Str -1, Dex 0, Con 0, Int +2, Wis -2, Cha +1, Luc 0;
Monster: $"gnome;temp"; Favored: $"mage", $"bard";
Skills: 1, 9, 16, 35, 47;
Grants:
Stati[123,12,+2] at 1st level,
Stati[177,18] at 1st level,
Stati[177,14] at 1st level,
Stati[177,25] at 1st level,
Ability[87,+2] at 1st level,
Ability[126,+3] at 1st level,
Ability[85,79,+1] at every level starting at 1st,
Ability[34,18] at every 2nd level starting at 1st,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8)] at 1st level,
Ability[44,$"Ventriloquism"] at 1st,
Ability[44,$"Mirror Image"] at 3rd,
Ability[44,$"Displacement"] at 7th;
Desc: "<15>Str:<1>-1 <15>Dex:<1>-- <15>Con:<1>-- <15>Int:<1>+2 <15>Wis:<1>-2 <15>Cha:<1>+1 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Mage, Bard
      \n
      \n__Jovial, optimistic and deeply passionate, gnomes have adapted extremely
      well to the modern world of Therya. Like halflings, they blend seamlessly
      into human societies, and unlike the more xenophobic (and thus receeding)
      elven and dwarven peoples, gnomes have achieved great success as a race,
      and their population in continually growing. Their services as craftsmen,
      engineers, entertainers and scholars are always being sought out by human
      settlements and communities, and their reputation for honesty and solid
      craftsmanship often makes them seem more trustworthy then the opportunistic
      halflings.\n
      __Gnomes are social beings, as extroverted, liberal and expressive as their
      cousins, the dwarves, are stoic and reserved. Their easygoing candor makes
      them a welcome addition to most social circles, and their penchant for
      pranks and practical jokes is generally benevolent in cast. Gnomes do not
      have the strong ties of clan and honor that bind dwarves (though they are
      fiercely loyal to the much-revered king of their race), and treat friendship
      as the highest bond one can possess.\n
      __Gnomes have an inherant love of process, of the hows and whys of any kind
      of system -- mechanical, social or even cosmological. Gnomish religion
      depicts the universe as a massive blueprint, sacred not only for its beauty
      but for the focused intent of its design and the complex interdependancy of
      all its subsystems. While ancient gnomish society was theorically a monarchy,
      in practice it has historically been more of a republic, a vast bureaucracy
      which intertwines the complex castes and clans of gnome society. Just as
      halflings seem inherantly drawn to the merchant houses of Therya, so are
      gnomes involved with government and civic management, finding work as various
      sorts of civil servants more frequently then in any other niche. (This has
      led to a friendly, but still competitive, rivalry between the two demihuman
      races in the business world.) The typical
      gnome adventurer does what she does not for money, power, glory, moral altruism
      or even excitement, but in order to reveal the process of the world, to 
      understand how diverse and seemingly unrelated factors come together to
      form a coherant and ordered tapestry.
      \n\n
      <10>GNOME RACIAL SKILLS<2>\n
      __Gnomes are especially adept at mechanics, chemistry and engineering. As
      such, they recieve Alchemy, Craft, Handle Device, Mining and Use Magic
      Device as racial skills. While not every gnome can craft illusions, those
      that take up magecraft benefit from an innate aptitude for it, having a
      +4 racial bonus to Illusioncraft.
      \n\n
      <10>GNOME RACIAL TRAITS<2>\n
      __*_<7>+2 Intelligence<2> -- Gnomes are clever and innovative creatures,
      taking naturally to the study of mechanics, maths, magecraft and other
      abstract fields of study. They enjoy puzzles, wordcraft and intellectual 
      pursuits.\n
      __*_<7>-2 Wisdom<2> -- Conversely, gnomes can often be foolhardy,
      oblivious, blinded by idealism or generally unworldly. They are at heart
      frivolous and whimsical creatures, and sometimes have trouble staying
      focused on the situation at hand or applying basic common sense to
      something that can be addressed (and overcomplicated) by more systematic
      methodologies.\n
      __*_<7>Small<2> -- Gnomes are considered to be Small creatures,
      which gives them certain mechanical advantages and weaknesses. They
      cannot wield Large weapons and must used two hands to wield a Medium
      weapon, they have a 10% penalty to hit points and their carrying
      capacity is 3/4ths that of a Medium-size creature. However, they
      recieve a +1 size bonus to DC and to all attack rolls, and their
      smaller stature lets them navigate tunnels that a human could
      never fit into.\n
      __*_<7>Racial Weapons<2> -- The same mechanical aptitude that makes
      gnomes adept at devices and crafts makes them indirectly well-suited
      to the use of crossbows. While gnomes are not specifically accurate 
      with such weapons, their agile hands and knowledge of gears and
      tension allows them to reload crossbow with alacrity. They begin with
      the Rapid Reload feat at first level, and gnome warriors and rangers
      are automatically proficient with the cranquin.\n
      __In addition, gnomes who are proficient with the Long Blades weapon group
      are also considered proficient with the use of the mercurial broadsword,
      which is an exotic weapon for any other race.\n
      __*_<7>Illusioncraft<2> -- Gnomes have a strong inborn magical gift: the
      power of illusion. Gnome characters gain certain spell-like abilities as
      they advance in level to represent this. At 1st level, they may use 
      <9>ventrilloquism<2> at will. At 3rd level, they gain <9>mirror image<2>;
      at 7th, <9>displacement<2>.\n
      __This ability also grants gnomes a +2 bonus to saving throws versus
      illusions, and a +4 racial bonus to the Illusioncraft skill.\n
      __*_<7>Arcane Trickery<2> -- Gnomes lack the everyday willpower and
      determination of Elves or Dwarves, but their crafty minds are well
      suited to lateral thinking, especially on a mystical level. Three
      times per day, they may discern a way to slip a spell past a foe's
      defenses, finding a metaphysical chink in their armor and increasing
      the save DC of the spell in question by +8.\n    
      __*_<7>Burrow Kinship<2> -- Gnomes have a certain kinship with burrowing
      mammals: rabbits, foxes, badgers and so forth. The can communicate with
      these creatures empathically, and are often able to befriend them or
      recieve aid from them. Essentially, this is a limited form of the Animal
      Empathy skill, and uses the gnome's character level in lieu of a skill
      rating.\n
      __*_<7>Stonework Sense<2> -- Though not the equal of the dwarves, gnomes
      still have an exceptional aptitude for mining and stonecraft. They can
      sense the same things dwarves can, but their sense functions identically
      to that of a dwarf of twice their level.\n
      __In addition, gnomes are familiar with all manner of gems, and recieve
      a +5 racial bonus to all checks made to identify gemstones, which they 
      covet highly.\n
      __*_<7>Kobold Slayer<2> -- Gnomes have fought the kobolds for many
      centuries, and their perpetual cheer is dampened by the fact that just
      about every gnome has lost someone to a kobold ambush or prank at one
      time or another. Gnomes have studied kobolds in great detail, and
      recieve the favored enemy bonuses against them in melee.\n
      __*_<7>Freedom of Movement<2> -- Gnomes are inherantly immune to all
      magical effects that paralyze them, entangle them, petrify them, or
      otherwise slow or limit their movement. This is said to be a special
      sign of favor from the goddess Essiah.\n
      __*_<7>Scent<2> -- Like orcs, gnomes have a highly developed sense of
      smell, and can track enemies by smell and locate them when they are
      within 20 feet (2 squares).
      __*_<7>Starting Equipment<2> -- Gnomes start with a gnomish backpack,
      a brass lantern, food rations, two random wands, a crossbow (a cranquin
      for warriors and rangers, otherwise an arbalest) and bolts if they are
      proficient with such, and a pickaxe. Gnomes proficient with long blades 
      and with a Strength of 15 or higher also begin with a mercurial 
      broadsword.\n\n
      
      <10>GNOME SUBRACES <5>(Unimplemented)<2>\n
      __Rock gnomes' inherant magic is tied more to stone then to
      illusion; they speak with it as if it were a living force in
      and of itself. They tend to live in isolated mountain settlements,
      have developed a shamantic religion around the worship of their
      Lords of the Earth and are responsible for building the strange
      stone circles that focus mana, scattered across isolated locales
      across Theyra's surface.\n
      __Forest gnomes are sylvan creatures, possession an affinity
      toward things faerie without having fallen into Queen Maeve's
      thrall. They have an inherant kinship and empathy with forest
      creatures.\n
      __Deep gnomes have been altered somewhat by having lived so
      long in the depths of the Underdark. They have no affinity for
      illusions, and they were not around to recieve Essiah's
      blessing, but they have highly diverse innate spell-like
      abilities, and like many Underdark creatures are also highly
      resistant to magic.\n
      __Craft gnomes are the newest gnome subrace, driven by a desire
      to advance their technological understanding as a race an a
      great affinity for devices of all kinds. These gnomes are more
      common in human cities then in the more sheltered gnome communities,
      where they are regarded as potentially dangerous.\n
      __Spirit gnomes are physically the smallest of the gnome subraces,
      and also the rarest. They are well known as scholars, keepers of
      secrets, detectives and antiquarians; perhaps the greatest of their
      secrets is the origin of their subrace itself. They have an affinity
      for psionics and stealth, sharp senses and a lifespan far above that
      of normal gnomes.";
1: "Brundner/Bofi/Ferris/Boddynock/Dimble/Fonkin/Gerbo/
      Jebeddo/Namfoodle/Roondar/Seebo/Zook";
2: "Bimpnottin/Caramip/Duvamil/Ellywick/Ellyjobell/Loopmottin/
      Mardnab/Roywin/Shamil/Waywocket";
3: "Baren/Daergal/Folkor/Garrick/Nackle/Murnig/Ningel/Raulnor/
      Scheppen/Turen/Aleslosh/Ashhearth/Badger/Cloak/Doublelock/Filchbatter/
      Fnipper/Oneshoe/Sparklegem/Stumbleduck";
Gear:
$"gnomish backpack",
$"wand" of random 1 to 4,
$"wand" of random 3 to 6,
3d2 $"food ration", if ((EActor->Proficiencies & 0x00000008) && EActor->GetAttr(0) >= 15)
$"mercurial broadsword",
if (EActor->LevelAs($"warrior") || EActor->LevelAs($"ranger"))
$"cranquin"
else if (EActor->WepSkill($"arbalest") != 0)
$"arbalest",
1d1 $"brass lantern", $"pickaxe";
On Event 153 {
if (EActor->LevelAs($"warrior") || EActor->LevelAs($"ranger"))
EActor->GainPermStati(30,NULL,3,1,
0, $"cranquin", 0);
if (EActor->Proficiencies & 0x00000008)
if (EActor->WepSkill($"mercurial broadsword") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"mercurial broadsword", 0);
return 0;
};
Lists:
* 19
5 $"celestial" $"riding dog"
$"celestial" $"mastiff"
7 $"clockwork" $"riding dog"
$"clockwork" $"mastiff"
$"celestial" $"hatori"
$"celestial" $"pygmy war rhino"
$"young" $"brass dragon"
$"young" $"copper dragon"
$"young" $"mercury dragon"
9 $"juvenile" $"brass dragon"
$"juvenile" $"copper dragon"
$"young" $"mercury dragon"
$"celestial" $"aurumvorax";
Constants:
* 113 95;
}
#line "races.irh" 676
Monster "dwarf;temp" : 63, 87
{
Image: red '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[124,9,2];
Stati[124,35,2];
Stati[124,41,2];
Stati[39,117,1];
Stati[39,42,6];

Flags: 36, 37, 1, 24, 23,
110;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 12);
Desc: "Dwarf Player Race";
Stati[123,8,+2];
Stati[123,1,+2];
}


Race "Dwarf;race"
{
Str 0, Dex 0, Con +2, Int 0, Wis 0, Cha -2, Luc 0;
Monster: $"dwarf;temp"; Favored: $"warrior", $"priest";
Skills: 35, 9;
Grants:
Ability[29] at every level,
Ability[34,22] at every 2nd level starting at 1st level,
Ability[38] at 1st level,
Ability[87,+2] at 1st level,
Ability[136] at 7th level,
Stati[123,1,+1] at every 6th level starting at 6th level,
Stati[123,9,+2] at 1st level,
Stati[123,20,+4] at every level;
On Event 169 {
if (EItem->QualityOK(67))
EItem->AddQuality(67);
} ;
Desc: "<15>Str:<1>-- <15>Dex:<1>-- <15>Con:<1>+2 <15>Int:<1>-- <15>Wis:<1>-- <15>Cha:<1>-2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Warrior, Priest
      \n
      \n__Stubborn, driven, stoic and devoted -- these are the traits
      the dwarven people are most known for. A warrior race, dwarves
      have fought for millenia against the giants, orcs, aberrations
      and other monsterous threats that plague civilization. Ironically,
      this very devotion has ultimately put them at odds with the very
      world they strove to protect -- dwarves are a highly conservative
      people, with a great regard for the status quo and the honor of
      the clans, and as such they do not tend to interact well with the
      modern, metropolitan human cities that dot Therya's surface. The
      dwarves respond to a world they no longer understand with 
      xenophobia, retreating to their mountain fortresses and Underdark
      enclaves; some clans' kings go so far as to restrict any contact
      with outsiders. As a result, dwarves are very rarely seen among
      the throngs of major cities, and their cultural development has
      all but stagnated as a result.\n
      __Dwarven society is highly traditional (some would say hidebound),
      patriarchal (misogynistic), honor-conscious (warlike) and ritualistic
      (obsessive-compulsive). The sheer unbending willfulness that gave
      them the strength to fight on when other races had fled in less
      civilized times may now turn them into a barrier that humanity --
      or a less forgiving race -- will eventually have to break due to
      the sheer difficulty of negotiation. While the signs are subtler,
      times are turning against the dwarves every bit as much as they
      are against the elves, and the future of their people looks grim
      indeed.\n
      \n 
      <10>DWARVEN RACIAL SKILLS<2>\n
      __Each dwarf begins her adult life as an apprentice to a miner,
      master craftsman, or warrior. As a result, dwarves have an even
      tighter set of racial skills then most races, and almost all
      dwarves have some proficiency in one or more of their racial
      skills. These skills are Craft and Mining.
      \n\n
      <10>DWARVEN RACIAL TRAITS<2>\n
      __*_<7>Stonework Sense<2> -- Dwarves' racial affinity for mining
      lends them an intuitive sense for stone and stonework. Dwarves can
      easily spot pit traps, secret doors, concealed rockfalls and similar
      constructions in a dungeon. In an underground setting, they can
      sense secrets doors just as elves do.\n
      __In game terms, what this means in that dwarves recieve a +2 bonus to
      saving throws versus traps when in a dungeon setting, as well as a +2
      racial bonus to the Search, Craft and Mining skills. More interestingly,
      they always 'see' the type of stone 10 feet (1 square) in past the walls
      of the dungeon, allowing them to spot good areas to dig for ores, gems
      and other treasure.\n
      __*_<7>Magic Resistance<2> -- Dwarves have an inborn tolerance for
      magic, recieving a +2 racial bonus to saving throws versus spells at
      first level, increasing by +1 every 6th level.\n 
      __*_<7>Giant-Killer<2> -- When fighting humanoid creatures larger then 
      themselves, dwarves gain a +4 bonus to their defence class,
      representing certain racial fighting techniques specifically taught
      to each dwarf during their apprenticeship period. The threat range of
      all their attacks (armed, unarmed or ranged) also increased by one
      against giant-size enemies.\n
      __*_<7>Earth Affinity<2> -- Dwarves possess a deep spiritual tie with
      the base element of earth, and this is reflected in their magic. When a
      dwarf casts a spell or uses a magical device with the [Earth] descriptor,
      she gains a +2 bonus to the dweomer's save DC, a +1 bonus to her effective
      caster level and spends only half (round up) the normal mana cost. When a 
      dwarf makes a social skill check against a creature with the Earth Creature 
      subtype, she gains a +2 social modifier to her roll.\n
      __*_<7>Dwarven Focus<2> -- When a dwarf deticates himself to a given task,
      there is no standing between him and its completion. For this reason,
      dwarves gain bonuses in combat based on their level against a single
      unique creature they are sworn to kill -- often the central enemy of a
      given quest or task. When a dwarf wants to use this ability, he must
      choose a single creature within his line of sight that is a worthy foe
      (possessed of a Challenge Rating equal to his character level). Then,
      the following effects apply:\n
      __<7>*<2>_The dwarf recieves a +2 circumstance bonus to hit and damage the
      creature in question, but suffers a -2 circumstance penalty to hit and damage
      against all enemies that are not directly allied with his focus.\n
      __<7>*<2>_The dwarf recieves a +4 morale bonus to Will saves of all
      kinds -- quite literally nothing will turn him away from his appointed
      goal.\n
      __<7>*<2>_The dwarf recieves three temporary fatigue points that remain
      with him until his enemy is slain. If losing these causes him to faint
      from exhaustion when the deed is done, then so be it.\n
      __<7>*<2>_The dwarf cannot voulantarily leave the level he is currently
      on, so long as the creature remains on it. If he invoulantarily leaves
      the level (such as by means of a pit trap), he suffers a penalty of 200 
      experience points per character level and the focus is broken.\n
      __<7>*<2>_The dwarf cannot choose to rest until his nemesis is slain.\n
      __<7>*<2>_When the dwarf finally kills his focus enemy, he recieves bonus
      experience equal to 50 times the enemy's Challenge Rating. He cannot then
      choose another focus enemy until he has rested.\n
      __<7>*<2>_If the enemy dies from some cause other then the dwarf's attacks,
      the dwarf similarly suffers a 200 experience point per character level
      penalty, and the focus is of course finished.\n
      __*_<7>Infravision<2> -- Dwarves are naturally able to see clearly in
      perfect darkness, having infravision to a range of 60 feet (6 squares).\n
      __*_<7>Weaponcraft<2> -- While magical arms and armor are usually
      crafted by spellcasters arcane or divine, dwarves without any other
      magical skill have been known to craft such items, simply as a result
      of the deep spiritual tie that exists between a dwarven weaponsmith
      and his craft.  In game terms, dwarves recieve the Craft Magical Arms
      and Armor feat for free at 7th level, and may use their base attack
      bonus in lieu of a caster level when forging such items.\n
      __*_<7>Armor Use<2> -- For dwarves, wearing encumbering armor is a
      way of life. All dwarves have the Armor Proficiency (Heavy) feat for
      free. Dwarves who gain one or more levels as a paladin, warrior or 
      priest gain the Armor Optimization feat for free and suffer
      only one-third of the normal Skill Check and Movement Rate penalties
      when wearing armor. They are not particularly agile, but dwarves are
      hardly helpless when covered in metal.\n
      __*_<7>Racial Weapons<2> -- Dwarves who are proficient with the Axes
      weapon group are automatically considered to be proficient with the
      dwarven waraxe -- normally an exotic weapon. Furthermore, dwarves
      treat the battleaxe and warhammer as Simple weapons.\n
      __*_<7>Orc Slayer<2> -- Dwarves have been at war with the orcs and 
      goblins since the Dawn Times, conflicting over their racial territories 
      beneath the earth. This racial 'tradition' has resulted in a body of lore 
      and special training for fighting these races that grants dwarves increased
      chances to hit and increased damage (as per a Ranger's Chosen Enemies)
      against orcs and goblins.
      \n__*_<7>Fatigue Regeneration<2> -- Dwarves are so hardy that they
      can actually recover fatigue without sleeping. A dwarf that
      goes 100 turns without being involved in combat recovers one point
      of fatigue and then recovers an additional point of fatigue every 50
      turns thereafter. 
      \n__*_<7>Starting Equipment<2> -- Dwarves start with a medium
      backpack, food rations and a pickaxe. Dwarven warriors and barbarians
      start with a dwarven waraxe, while other dwarves proficient with
      impact weapons start with a warhammer. All starting weapons and armor 
      are assumed to be dwarven-forged: heavy, hard and protective.  
      \n\n
      <10>DWARF SUBRACES <5>(Unimplemented)<2>\n
      __Shield dwarves are the most common of the dwarven subraces, and are
      described by the traits given above. (Unlike most other races, dwarves
      don't tend to breed outside their ethnicity, meaning that almost all
      dwarves belong to one specific subrace.)\n
      __Forge dwarves have a special affinity for fire and metalcraft, and
      tend to dwell in iron citadels close to active magma flows. They are
      the most rigid and driven of all the dwarven subraces, laboring under
      a secret shame their subrace supposedly bears from the primordial
      history of the dwarves. (The Azer are an offshoot of forge dwarves,
      taking the nature of their race to an even greater extreme.)\n
      __Mountain dwarves consider themselves to be nobility among dwarves,
      and are (marginally) more outgoing then the other subraces. They are
      most famous for the beautiful and functional mountain citadels that
      they carve from solid stone. They have a strong aptitude for leadership
      and inspiration.\n
      __Jungle dwarves are almost unseen in the Kinlands, hailing from far-off
      Angla Maua. They are primitive and tribal, though every bit as honorable
      and ritualistic as any other dwarves, and are renouned for their skill
      in wilderness survival and woodcraft, having a strong prediliction toward
      the ranger class.\n
      __Gray dwarves are a degenerate and evil dwarven subrace, with a very
      limited intelligence and no concept of honor or nobility. They tend to
      dwell deep in the Underdark and possess potent innate magics. Gray dwarves
      are psychologically weak and craven, and it is said that they compose
      the portion of the dwarven race that did not have the strength of
      spirit to resist diabolical corruption in the primevil birth of the
      dwarven race.";
1: "Barendd/Brottor/Eberk/Einkil/Oskar/Rurik/Taklinn/Traubon/Ulfgar/
      Veit/Balderk/Dankil/Gorunn/Holderhek/Loderr/Lutgehr/Ungart/Orgil/Maenlin/
      Shaldar/Holdgen/Urthak/Gromlin/Makki";
2: "Artin/Audhild/Dagnal/Diesa/Gunnloda/Hlin/Ilde/Liftrasa/Sannl/
      Torgga/Rumnahiem/Esgelt/Sansi/Terra/Relnan/Raelin/Wousgol/Visi/Massi/
      Holdgen/Shamlir/Monwei/Unwe/Vaslin/Vaegwal";
3: "Battleclan/Forgehammer/Stonedriver/Stonebrother/Ironcleft/
      Axekeeper/Ashrager/Mountainfury/Skyforge/Windbreaker/Brightaxe/Steelblade/
      Trueshield/Oakenstrike/Bloodaxe/Ironhammer/Deepriver/Understone";
Gear:
$"medium backpack",
4d2 $"food ration", if (EActor->LevelAs($"warrior") || EActor->LevelAs($"barbarian"))
$"dwarven waraxe" else
if (EActor->Proficiencies & 0x00000080)
$"warhammer",
$"pickaxe";
On Event 153 {
EActor->Proficiencies |= 0x80000000;
if ((EActor->LevelAs($"paladin") || EActor->LevelAs($"priest") ||
EActor->LevelAs($"warrior")) && !EActor->HasFeat(((49 + 1) + 15)))
EActor->GainFeat(((49 + 1) + 15));

if (EActor->Proficiencies & 0x00000010)
if (EActor->WepSkill($"dwarven waraxe") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"dwarven waraxe", 0);
if (EActor->Proficiencies & 0x00000001) {
if (EActor->WepSkill($"warhammer") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"warhammer", 0);
if (EActor->WepSkill($"battleaxe") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"battleaxe", 0);
}
return 0;
},
150 {
if (EActor->GodID == ((rID)0) && !EActor->isMType(105))
if (EActor->yn("Do you wish to worship Ekliazeh?"))
{
EActor->GodID = $"Ekliazeh";
EActor->setGodFlags($"Ekliazeh",0x0001);
}
return 0;
};
#line "races.irh" 921
Lists:
* 19
5 $"celestial" $"warpony"
$"celestial" $"pony"
7 $"celestial" $"elephant"
$"celestial" $"giant tortoise"
$"celestial" $"rust monster"
$"celestial" $"grick"
$"celestial" $"owlbear"
9 $"celestial" $"dire" $"elephant"
$"celestial" $"cave ankylosaurus"
$"celestial" $"cave triceratops"
$"celestial" $"cave tyrannosaurus"
$"celestial" $"arsinoitherium";
Constants:
* 113 135;
}
#line "races.irh" 945
Monster "elf;temp" : 62, 87
{
Image: bright cyan '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 100%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[39,53,2];
Stati[39,73,2];

Flags: 36, 37, 1, 24, 23,
110;
Immune: 0x00008000;
Desc: "Elf Player Race";
Stati[123,5,+2];
Stati[123,6,+2];
Stati[104,1,2];
Stati[104,2,2];
}

Race "Elf;race"
{
Str -1, Dex +2, Con -1, Int +1, Wis +2, Cha +2, Luc 0;
Monster: $"elf;temp"; Favored: $"mage", $"ranger";
Desc: "<15>Str:<1>-1 <15>Dex:<1>+2 <15>Con:<1>-1 <15>Int:<1>+1 <15>Wis:<1>+2 <15>Cha:<1>+2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Mage, Ranger
      \n
      \n__The most secretive of the common races, elves are only very
      rarely seen in human settlements, and their lack of common presence
      lends to the race a mystique of nearly mythical proportions.
      Creatures of pure magic, some have called them, able to hear the
      heartbeat of the world. Many fairy tales feature of elven sorceror,
      sage or faerie lover, a being whose immortal grandeur and passions
      are matched only by his wisdom and goodness. Humanity is fascinated
      by the elves, their splendour and paegentry, but rarely sees what
      transpires in their shrouded courts. That's probably for the better,
      actually.
      \n__Born of the breeding between faeries -- a race known for fine
      music, immortal passions and terrible cruelty -- and humanity, the
      elves are ever creatures of two worlds: one foot mired in mundane
      matters while the other drifts off into the callow abstractions
      of the Realm of Faerie, the domain of Queen Maeve. Wicked and selfish,
      Maeve holds the elven race in thrall to her as a result of ancient
      geasa and pacts, and the high elven lords maneuver within this bondage
      to do what they can to avoid harming the world and, hopefully, one
      day earn their race's freedom.
      \n__Poets speak of elves as if they dwelled figuratively in a world
      of dreams, as well as literally -- and there is some truth in this.
      Elves are given to proud idealism and legendary romances, and often
      have a tremendous amount of trouble relating to the mundanities of
      the real world. Like sleepwalkers, they move through the world with
      only a vague understanding of its causes and details, seeking to
      complete drives even they do not fully understand. It is said that
      the motives of elves are known only to the elves, but this isn't
      really true; even the elves themselves often have no understanding
      of the overall design behind their goals and actions.
      \n__Perhaps humanity is wise to be fearful, as well as fascinated,
      by these strange and etherial beings. 
      \n\n 
      <10>ELVEN RACIAL SKILLS<2>\n
      __The elves are a civilized peoples with great regard for culture
      and learning. Their innate grace also gives them certain aptitudes
      that humans do not possess. Their racial skills are Knowledge (Magic), 
      Listen, Move Silently and Perform.
      \n\n
      <10>ELVEN RACIAL TRAITS<2>\n
      __*_<7>+2 Dexterity<2> -- Elves are inherantly graceful in their
      motions, both as a result of superior physical motor control and
      through living in a culture that teaches elegance in movement as
      an essential part of social station. Elves excel at archery,
      fencing, dancing and stealth as a result.\n
      __*_<7>+2 Charisma<2> -- There is a certain indescribable element
      of faerie glamour to the elven peoples that makes them alluring
      to humanity, and to all the less magical races. It is not only
      beauty or refinement, though elves possess both of these in spades,
      but also a sense of fundamental, primevil mystery that surronds
      these creatures and makes them so very compelling to the mortal
      beings who interact with them.\n
      __*_<7>+2 Wisdom, +1 Intelligence<2> -- An elf who reaches adulthood
      is over a century in age, having accumulated the full experiences
      of a human lifetime in his youth. Many of the greatest elven heros
      have lived a full millenia before accomplishing their grandest
      deeds. Their wisdom truly is immortal, having seen the rise and
      fall of entire human kingdoms, and they have a human lifetime in
      which to pursue their early education.\n
      __*_<7>-1 Strength, -1 Constitution<2> -- Elves are frail of build, 
      not being nearly as rugged, powerful or resilient as the heavier 
      races like the humans, dwarves or lizardmen.\n
      __*_<7>Racial Weapons<2> -- All elves are familiar with the use
      of the long bow, short bow, long sword and rapier.\n
  	  __*_<7>Magical Nature<2> -- As inherantly magical creatures with a
	    far greater attunement to the tapestry of life then humans, elves
	    recieve an extra 5 mana points at the start of the game, and an
	    extra point for every character level they achieve above 1st.\n
      __*_<7>Manifestation<2> -- By drawing her ancient magical essence
      to the surface of her being, an elf can manifest a tiny fragment
      of her race's true faerie grandeur in the corporeal world, becoming
      a beautiful and terrifying thing to behold. The elf's Charisma score
      gains an enhancement bonus of +4, her presence is so overwhelming
      that she gains a +2 awe bonus to Defense versus foes that are not
      blind or mindless, and she radiates light and warmth with an effect
      identical to the <9>faerie fire<2> spell. Most importantly, however,
      a manifest elf exists in all three worlds (corporeal, etherial and
      astral) at once, and thus can strike (and be struck by) incorporeal
      creatures with full effect.\n
      __Manifestation only lasts for a short time (1d4 rounds, plus one
      round per full three character levels), and it is also extremely
      tiring, costing the elf a full 5 Fatigue Points to use.\n
      __*_<7>Wrought Iron<2> -- Wrought Iron is an anathema to elves and
      their fae nature. Any wrought iron weapon that strikes an elf deals
      and additional 2d6 points of damage (which bypasses armor). Orcs
      are known to craft and carry wrought iron weapons. \n
      __*_<7>Reverie<2> -- Elves do not sleep as humans do; part of their
      pact with Maeve bars them forever from the realm of dreams. Instead,
      elves enter a meditative state they call reverie, allowing their
      bodies and minds to rest and recover in a small fraction of the time
      it takes humans to sleep -- a typical period of reverie lasts only
      an hour or two.\n
      __In game terms, elf characters have a drastically reduced chance of
      random encounters when resting, and furthermore when they do suffer
      an encounter their foes do not get the same degree of surprise over
      them -- an elf in reverie is vaguely aware of the world around him,
      and can come to his senses nearly instantly.\n
      __*_<7>Sharp Senses<2> -- Elves have exceptionally acute senses, and
      recieve a +2 insight bonus to all sensory-based skills (Search, Spot,
      and Listen) at 1st level, as well as a +20 foot range to the effective
      radius of their light for the purposes of detailed vision. \n
      __Additionally, elves automatically make a Search check whenever they
	  step within 10 feet of a secret door that has not already been searched
	  for once before their last period of rest.\n
      __*_<7>Lowlight Vision<2> -- An extension of their sharpened senses,
      elves are able to see 20 feet (2 squares) further in total than a
      human could in torchlight or similar conditions. \n
      __*_<7>Temprature Tolerance<2> -- Elves are less affected by extremes
      of heat and cold then other humanoids, and enter play with two points
      each of Fire and Cold Resistance.\n
      __*_<7>Tied to Life<2> -- Elves are attuned to nature and to the
      cycles of life on a metaphysical level, and view these things as
      sacred and taboo in ways few others can understand -- even evil elves
      understand this bond. As a result of this tie, the same force that
      makes sylvan creatures instinctually trust elves renders them
      completely incapable of ever invoking the magics of Necromancy.
      They cannot learn any Necromancy spells, become specialists in the
      school of Necromancy, use necromatic magical items, command the undead 
      or in any other way benefit from death magic.\n
      __The one exception is that they can learn Necromancy/Abjuration spells
      such as <9>protection from undead<2>, which shield against necromantic
      powers rather than evoking them.\n
      __In lieu of necromanctic practices, evil elven mages tend to
      become Enchanters of terrifying power and beauty, dominating all
      around them with charms and charisma and weaving terribly subtle
      plans whose completion may take centuries.\n
      __*_<7>Starting Equipment<2> -- Elves start with a medium
      backpack, elven waybread, a bow, a long sword or rapier, and torches. 
      They begin play with a magical ring -- elves excel at the crafting of
      rings -- as well as equal chance of either a cloak or boots of 
      elvenkind. Starting armor and weapons are assumed to be of Elven make 
      and are thus ligher, faster and less restrictive than normal.\n
      __Elves also start out worshipping Maeve unless their choice of class
      allows them to pick a god. If it does, then choosing a god other than
      Maeve causes Maeve to be angered at the start of the game.\n\n
      <10>ELF SUBRACES <5>(Unimplemented)<2>\n
      __Gray elves are reclusive and frail, physically weak but possessed of
      incredible mystical and intellectual potency. Not a true ethnicity,
      they are instead a metamorphosed form of normal elves, having survived
      for over a millenia and attained true immortality through spiritual
      kinship to the realm of Faerie. Gray elves are terribly wise creatures,
      but also filled with grief, for their race's bondage to Maeve strikes
      them more deeply then any other elves.\n
      __Wood elves are the least civilized of the elven peoples, possessed
      of great strength, wild cunning and an affinity for sylvan creatures
      of all kinds. They tend to be xenophobic and conservative, scorning
      the ways of humanity and blaming mankind for the travails of their
      race.\n
      __Twilight elves are born with more of Faerie in their veins then most,
      literally slipping in and out of the etherial plane as a natural facet
      of their existance, but vulnerable to the light of the sun and given
      over to periods of irrational behaviour.";
Skills: 25, 36, 32, 37;
Grants:
Ability[55] at 1st level,
#line "races.irh" 1130
Ability[90] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"long sword"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"rapier"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"long bow"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"short bow"] at 1st level,
Ability[68] at 1st level,
Ability[54,+5] at 1st level,
Ability[54,+1] at every level starting at 2nd;
On Event 169 {
if (EItem->QualityOK(68))
EItem->AddQuality(68);
},
150 {
EActor->setGodFlags($"Maeve",0x0001);
if (EActor->GodID == ((rID)0))
EActor->GodID = $"Maeve";
else if (EActor->GodID != $"Maeve") {
SetSilence();
EActor->Transgress($"Maeve",10,false,"turning away from Maeve");
EActor->setGodFlags($"Maeve",0x0040);
UnsetSilence();
}
return 0;
};
1: "Aramil/Aust/Enialis/Heian/Ivellios/Laucian/
      Quarion/Sethwin/Selasia/Faridhir/Semirathis/Agorna/Disead/
      Cassius/Lachin/Tesserath/Amakiir/Holimion/Meliamne/Nailo/
      Siannodel/Ilphukiir/Naofindel/Dios/Celebrand";
2: "Eoslin/Gosalin/Sephira/Selasia/Anastrianna/
      Antinua/Drusilia/Felosial/Ielenia/Lia/Qillathe/Silaqui/
      Valanthe/Xanaphia/Amastacia/Galanodel/Liadon/Xiloscient/
      Iosefel/Samariel";
3: "Starflower/Gemflower/Moonwhisper/Diamonddew/
      Silverfrond/Moonchild/Oakenheel/Nightbreeze/Moonbrook/
      Gemblossom/Goldpetal";
Gear:
$"medium backpack",
$"ring" of random 4 to 6,
50% $"cloak" +1 of $"elvenkind;cloak"
else $"boots" +1 of $"elvenkind;boots",
6d2 $"piece of elven waybread", if (EActor->LevelAs($"warrior") || EActor->LevelAs($"barbarian") ||
EActor->LevelAs($"paladin") || EActor->LevelAs($"priest"))
$"long bow" else
if (!EActor->LevelAs($"ranger"))
$"short bow",
if (EActor->LevelAs($"bard") || EActor->LevelAs($"mage") ||
EActor->LevelAs($"rogue") || EActor->LevelAs($"priest"))
$"long sword",
3d2 $"torch";
Lists:
* 19
5 $"celestial" $"horse"
$"celestial" $"warhorse"
7 $"celestial" $"pegasus"
$"unicorn"
$"hippogriff"
$"senmurv"

$"young" $"silver dragon"
9 $"juvenile" $"silver dragon"


;
Constants:
* 113 80;

}
#line "races.irh" 1220
Monster "drow;temp" : 66, 87
{
Image: blue '@'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 100%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[39,42,12];
Stati[124,36,2];
Stati[118,18,50];
Stati[39,73,1];

Flags: 36, 37, 1, 24,
8, 23, 110;
Feats: ((49 + 1) + 7);
Desc: "Drow Player Race";
}

Race "Drow;race"
{
Str -1, Dex +2, Con 0, Int +2, Wis 0, Cha +2, Luc -2;
Monster: $"drow;temp"; Favored: $"rogue", $"mage";
Skills: 36, 6, 39, 3;
Grants:

Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"hand crossbow"] at 1st level,
Feat[((49 + 1) + 7)] at 1st level,
#line "races.irh" 1256
Ability[44,$"faerie fire"] at 1st level,
Ability[44,$"globe of Shadow"] at 2nd level,
Ability[44,$"levitation"] at 3rd level,
Stati[109,18,4] at every level starting at 2nd;
On Event 169 {
if (EItem->isType(45))
EItem->GainPermStati(2,NULL,7,0,5,$"elfshot");
if (EItem->QualityOK(70))
EItem->AddQuality(70);
} ;
On Event 150 {
hObj h;
h = CreateItem($"small glass vial");
if (h) {
h->RemoveStati(2);
h->GainPermStati(2,NULL,7,0,4d2,$"elfshot");
EActor->GainItem(h,true);
}
};
On Event (153+500) {
if (EActor->TotalLevel() <= 1)
EActor->GainPermStati(221,EActor,3,0,0,$"Spider;domain");
} ;
#line "races.irh" 1285
Desc: "<15>Str:<1>-1 <15>Dex:<1>+2 <15>Con:<1>-- <15>Int:<1>+2 <15>Wis:<1>-- <15>Cha:<1>+2 <15>Luc:<1>-2
      \n<15>Favored Classes:<2> Rogue, Mage
      \n
      \n__No race, save perhaps the kobolds, is more widely despised then
      the drow. Trecherous, decietful, chaotic, power-hungry and supremely
      skillful, the drow are an offshoot of elves who sought freedom from
      Maeve through pacts with tanari and other profane powers. Living deep
      beneath the earth in the depths of the Underdark, the only mention of
      drow that most surface folk hear is when their skilled and murderous
      raiding parties attack humanity or the surface elves, whom they
      consider to be wretched slaves. Drow have no part in the surface culture
      of Therya, at least not in the Kinlands, and the rare individuals who
      leave the Underdark to explore the Kinlands are rogues and outcasts,
      most often having gotten the short end of some political maneuvering
      in their home city and thus fleeing for their lives. Drow typically
      work as freelance assassins, given their character and aptitude for
      stealth, but strive to find any position that will make them more
      powerful or give them political leverage.
      \n__Because of the paranoid and ruthless society they were raised in,
      most drow are pathologically mistrustful, unable to develop true
      bonds of caring or friendship due to the hardship their homeland has
      inflicted on them. This is doubly true of the males, who are heavily
      abused in the matriarchal (and misandranous) society of the dark
      elves. Women are stronger (and more capriciously violent), and rule 
      their homeland through the priesthood, each city being devoted to a 
      member of the Multitude. The most common drow power is their evil, 
      cruel and nameless Spider Queen, who teaches all drow to betray 
      everything they care for in the slightest, lest is be used as a 
      weakness against them by their enemies.\n
      \n 
      <10>DROW RACIAL SKILLS<2>\n
      __The drow racial skills are Appraise, Bluff, Move Silently and 
      Poison Use. All drow are trained in these skills from childhood,
      and failing to master them to at least some extent makes a drow
      easily manipulated by her fellows, and thus dead.\n
      __Drow recieve a +2 racial bonus to Move Silently.\n\n

      <10>DROW RACIAL TRAITS<2>\n
      __*_<7>-1 Strength, +2 Dexterity, +2 Charisma<2> -- Drow share the
      frail frames, unearthly gracefulness and alluring beauty of their
      elven ancestors, and augment it with a heightened force of personality,
      constant agility training and the allure of true evil.\n
      __As an extention of their natural agility, all drow are ambidexterous
      and recieve the Ambidexterity feat at 1st level. Because of this, drow
      warriors traditionally favor fighting with two weapons.\n
      __*_<7>+2 Intelligence<2> -- Drow think on their feet -- one has to,
      in order to remain alive in their society. This intellectual might is
      not equalled in spiritual wisdom, however; for all that their people
      are ruled by clerics, their spiritual consciousness remains effectively
      nonexistant.\n
      __*_<7>-2 Luck<2> -- Aside from incuring bad karma and making enemies
      with the same gleeful abandon of a pig in a slopheap, drow tend to
      overcomplicate their intrigues, burn their bridges and have nobody
      they can turn to when the stakes are down.\n
      __*_<7>Racial Weapons<2> -- All drow are proficient with the
      hand crossbow. The hand crossbow is a weak but accurate weapon that 
      is used by the drow to poison victims from a distance: all drow 
      missiles start the game coated with Elfshot, a poison that causes 
      sleep in its victims.\n
      __*_<7>Infravision<2> -- Drow have the sharpest infravision of any
      beings living on Therya, being able to see with absolute clarity
      out to a range of 120 feet (12 squares) when in absolute darkness.\n
      __*_<7>Innate Magic<2> -- Living amidst the magical radiations of the
      Underdark, the same power that produced the aberrations, and having
      make pacts with countless demons, drow have developed some inherant
      magical abilities. All drow may cast the spell <9>faerie fire<2> at
      will. They gain <9>globe of shadow<2> at 2rd level, and upon reaching
      3rd level they can also use <9>levitation<2> at will.\n
      __*_<7>Magic Resistance<2> -- For similar reasons, drow have developed
      an inherant magic resistance similar to that of their outer-planar
      patrons. Far more powerful then the dwarven ability, drow do not
      resist so much as simply negate magical effects cast at them. They
      have a natural 50~ magic resistance associated with their drow
      physiology and gain a +2~ inherant bonus with every character
      level.\n
      __*_<7>Sharp Senses<2> -- Drow have senses as acute as any other elf's,
      and recieve identical bonuses to conventional elves in this area.
      \n__*_<7>Starting Equipment<2> -- Drow start with a medium 
      backpack, spider bread and a hand crossbow with bolts. All starting 
      metal items are forged from adamant and are thus
      extraordinarily strong and protective. All starting missile weapons
      are coated with elfshot, and all drow start with a spare vial of it.
      \n\n
      <10>DROW SUBRACES <5>(Unimplemented)<2>\n
      __The drow are themselves a subrace of elves that has developed
      distinctly enough to be treated as wholly seperate, and thus they have
      no further subraces within themselves. In practice, however, the drow
      females have certain additional abilities men do not, and thus are
      treated mechanically as if they were a subrace.\n
      __Drow females are stronger then men, having normal human Strength,
      and also possess several inherant magical talents that males do not --
      reading thoughts, scrying and dispelling magic. They also add priest
      to their list of favored classes. (Later, the default Favored Classes
      of drow will be Rogue and Wizard, plus Priest for the women.)";
1: "Adinirahc/Amalica/Belgos/Antatlab/Calimar/Dipree/Duagloth/
      Elkantar/Filraen/Gelroos/Gomph/Houndaer/Ilmryn/Ilphrin/Istolil/
      Jaraxle/Kelnozz/Krenaste/Krondorl/Lyme/Masok/Mourn/Nalfein/Nilonim/
      Nym/Pharaun/Ryltar/Omareth/Olgoloth/Quevven/Ryld/Sabrar/Nadal/Tarlyn/
      Tathlyn/Tebryn/Tsabrak/Urlryn/Valas/Vorn/Vuzlyn/Wode/Yazston/Zakfienal";
2: "Akordia/Alystin/Aunrae/Baltana/Briza/Burryna/Chalithra/
      Charinida/Chessintra/Dhaunae/Dilynrae/Drisinil/Eclavdra/Elvraema/
      Faeryl/Filfaere/Ginafae/Haelra/Halisstra/Imrae/Inidil/Irae/Iymril/
      Jhaelryna/Laele/Larynda/Minolin/Molvayas/Nathrae/Nedylene/Olorae/
      Phaere/Quave/Qilue/Sabrae/Shi'nayne/Ssapriina/Talabrina/Talice/
      Umrae/Viconia/Vierna/Wuyondra/Xullrae/Xune/Zesstra";
3: "Abaeir/Abbylan/Argith/Blundyth/Cormrael/Dhuunyl/Elpragh/
      Gellaer/Ghaun/Glannath/Hune/Hyluan/Illistyn/Jhalavar/Khalazza/Luen/
      Olonrae/Philiom/Quavein/Ssambra/Tilntarn/Uloavae/Vrinn/Wyndyl/Xiltyn/
      Zolond/Zaphresz";
Gear:
$"medium backpack",
$"hand crossbow",
6d2 $"piece of spider bread"; Lists:
* 19
5 $"celestial" $"riding lizard"
$"celestial" $"war lizard"
7 $"celestial" $"psionic riding lizard"
$"celestial" $"giant spider"
$"celestial" $"night hunter"
$"celestial" $"pike spider"
9 $"juvenile" $"purple dragon"
$"celestial" $"wyvern";
Constants:
* 113 90;
}
#line "races.irh" 1417
Monster "halfling;temp" : 65, 87
{
Image: yellow '@'; Size: 3; Mana: 10;
CR: 0; HD: 1; Hit: +0; Def: 10; Mov: 75%; Speed: 100%;
Attk:1 for 1d2 13;

Stati[124,18,2];
Stati[124,46,2];

Flags: 36, 37, 1, 24, 23,
110;
Desc: "Halfling Player Race";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34);
Stati[123,5,+2];
}

Race "Halfling;race"
{
Str -2, Dex +2, Con 0, Int 0, Wis 0, Cha +2, Luc +4;
Monster: $"halfling;temp"; Favored Class: $"rogue", $"bard";
Skills: 18, 46, 7, 11,
3, 21;
Grants:

Stati[123,11,+4] at 1st level,
Stati[109,15,+2] at 1st level,
Ability[88] at every 3rd level starting at 1st,
Ability[125] at 1st level,
Ability[101] at 1st level;
On Event 150 {
EActor->Proficiencies |= 0x00000100;
};
Desc: "<15>Str:<1>-2 <15>Dex:<1>+2 <15>Con:<1>-- <15>Int:<1>-- <15>Wis:<1>-- <15>Cha:<1>+2 <15>Luc:<1>+4
      \n<15>Favored Classes:<2> Rogue, Bard\n 
      \n__Halflings are cute, clever, endearing, friendly, sociable and in 
      control of approximately a third of the Kinlands' wealth. Opportunistic 
      and ambitious, the hin have carved out a niche for themselves as the 
      dominant demihuman race in the civilized lands. While nigh-immortal 
      elves shy away from the bustle of human cities and surly dwarves bemoan 
      the loss of the old ways in their carved stone halls, the halflings 
      gleefully embrace everything the human world has to offer, becoming an 
      omnipresent factor in human cities across the globe.\n 
      __Between their crafty insight and unearthly luck, just about the only 
      thing holding the race back from outshining humanity in every endeavour 
      is their lack of ambition - halflings are stereotyped as lazy, and while 
      some make remarkable achievements, their racial culture does tend to 
      place more emphasis on creature comforts then on deeper kinds of 
      achievement. If the hin (as halflings call themselves) have a sin, it
      would be complacency; a willing lack of foresight and a desire to avoid
      any kind of discomfort, excitement or radical action plague the race.
      Halfling adventurers tend to be the glaring exception to this rule,
      having already parted ways with the norms of their race through their
      choice of career. Despite this, halflings have a strength of spirit
      that other races lack, and while they're hardly innovators they will
      stand by the things they consider important with a quiet resolve that
      cannot be shaken. As a race, they're survivors.\n
      __Despite their success, many halfling communities tend to be very
      conservative, albiet in a very different way from the dwarves. The
      little folk tend to see themselves as the most supremely civilized
      people in the world, a born aristocracy, and their tendancy toward
      gossip makes them highly paranoid about potential scandals. They
      enjoy living a high standard of life and being socially acceptable
      to their peers, and they thus dislike anything which might bring
      their family's social standing into question or disrupt their
      intentionally pedestrian lifestyle -- like adventurers. Many halfling
      heroes have thus ended up deeply estranged from their families,
      who live in shame of them -- and god forbid the outcast should be
      something as barbaric as a <10>warrior<2>!\n
      \n 
      <10>HALFLING RACIAL SKILLS<2>\n
      __Racial skills are one of the strongest advantages halflings have,
      being quick learners, socially dexterous and naturally agile as
      well. The full list of halfling racial skills is Appraise, Climb, 
      Diplomacy, Hide, Intuition and Tumble.\n
      __Halflings also recieve certain inherant racial bonus to skills.
      They have a +2 racial bonus to Hide, Tumble and Climb; their Hide
      racial bonus stacks with the +2 size bonus they recieve to the
      Hide skill due to being Small creatures.
      \n\n
      <10>HALFLING RACIAL TRAITS<2>\n
      __*_<7>+2 Dexterity<2> -- Halflings are naturally agile, sure-footed
      and nimble. Rather then the surreal grace of the elves, they embody
      a cautious, competant precision; what would be born of careful practice
      and agility in other races comes with offhand ease to the little folk.\n
      __Another facet of halflings' natural agility is represented by them
      being easily able to slip out of the holds and grapples of larger
      opponents, recieving the Slipaway Feat for free at 1st level.\n
      __*_<7>-2 Strength<2> -- For their size, halflings are as strong as
      humans, but with their body mass it is simply impossible for the hin
      to exert the same kind of force a human does.\n
      __*_<7>+2 Charisma<2> -- Halflings are charming and sociable, and their
      small size tends to put humans at ease around them, making the larger
      folk feel safe and in control. People tell things to halflings that they
      would never imagine telling to anyone else; the hin just inspire that
      kind of trust in the people around them.\n
      __*_<7>Racial Weapons<2> -- Halflings as a race are incredibly
      skilled with the sling and other thrown weapons. They gain free
      proficiency with slings and all other thrown weapons. They gain 
      a +2 bonus to hit when using any weapon from the Thrown group,
      and have an uncanny ability to land lethal strikes when throwing
      rocks or using a sling, subtracting their Luck modifier from the
      threat range of thrown rocks or sling attacks.\n
      __*_<7>Unearthly Luck<2> -- The halfling race as a whole benefits from
      an inexplicable good fortune that draws no small degree of resentment
      from humans and other races. A halfling sometimes escapes dangers or
      accidents that could kill a human without a scratch on him. Halflings
      gain a +4 racial adjustment to their Luck score, and they add their
      Luck modifier (if positive) as a luck bonus to all of their saving
      throws.\n
      __*_<7>Psychosomatic Might<2> -- Halflings are not a race known for
      great physical strength, but when the proper motivation is placed before
      them, they are capable of bearing loads that often surprise larger folk.
      In game terms, halflings treat all food items as having a third of their
      actual weight for the purpose of calculating encumbrance.\n
      __*_<7>Strong Soul<2> -- Halflings may seek to avoid discomfort whenever
      possible, but the truth is that they also survive through ordeals that
      would break the spirit of your typical human. They love life with a
      passion, and refuse to let go of that spark in the face of things
      which threaten their spirit, debilitate their mind or weaken their
      body.\n
      __In game terms, halflings have a kind of innate hardness rating against
      ability score damage. This value begins at 1 and increases by +1 every
      third level thereafter (2 at 4th, 3 at 7th, etc.) This value is subtracted
      from any damage the halfling might suffer to one of his abilities, and if
      it exceeds the damage, no harm is done. They also recieve a +2 bonus to
      save versus fear, and a +4 bonus versus death effects.\n
      __*_<7>Small<2> -- The hin are considered to be Small creatures,
      which gives them certain mechanical advantages and weaknesses. They
      cannot wield Large weapons and must used two hands to wield a Medium
      weapon, they have a 10% penalty to hit points and their carrying
      capacity is 3/4ths that of a Medium-size creature. However, they
      recieve a +1 size bonus to DC and to all attack rolls, and their
      smaller stature lets them navigate tunnels that a human could
      never fit into.
      \n__*_<7>Starting Equipment<2> -- Halflings start with a small
      backpack, many tasty cottonberry loaves, a sling and some torches.
      They also begin play with a moderate supply of Hearthstones of
      Onanda -- one-use magical items that allow a guaranteed safe rest
      even in a location where encounters are possible.
      \n\n
      <10>HALFLING SUBRACES <5>(Unimplemented)<2>\n
      __Lightfoot halflings are quick and fast, possessed of superior reflexes
      and nearly able to match pace with a human despite their smaller size.
      They have an intuitive direction sense, and tend to be more nomadic then
      most hin, possessing a string streak of wanderlust.\n
      __The Tallfellows are the largest of the halfling subraces, and also the
      strongest, nearly matching gnomes in size and build. They are a rural
      people, disliking the bustle and diversity of cities and favoring a
      simpler life on their farms. They have natural green thumbs, and an
      affinity for plants of all kinds.\n
      __Treedancer halflings are adept scouts and climbers hailing from Angla
      Maua, where they welcome visitors and turn a tidy trade in spices, rare
      minerals and other exports from the jungle continent. Their settlements
      are vast treehouse-cities mounted in the branches of great redwoods and
      linked together with an intricate webwork of rope bridges. They are the
      most societally advanced and civilized faction in Angla Maua.\n
      __Ghostwise halflings are rare, born with the ability to learn secrets
      from the wind itself. Often leaving existing halfling settlements for a
      life as a hermit or wayfarer, they study to master the strange abilities 
      of the mind -- psionics -- that they have an affinity for. They tend to
      be noble of heart and generous in spirit.\n
      __Stoutheart halflings are the strongest-willed of their race, with a
      great devotion to the ideals of family and community. They despise
      corruption in all of its forms, and become adventurers more frequently
      then other halflings in the interest of rooting out and resolving 
      something that has shaken their sensibilities. They are famed for
      their resourcefulness and clever planning.";
1: "Alton/Beau/Cade/Eldon/Garret/Lyle/Milo/Osborn/Roscoe/Wellby/
      Randy/Mitchel/Fairday/Hennit/Fenwell/Bartholemew/Tristan/Geory/Gabe/
      Tanis/Brandy/Regis/Sheldon/Milton/Sanderson";
2: "Amaryllis/Charmaine/Cora/Euphemia/Jillian/Lavinia/Merla/
      Portia/Seraphina/Verna/Agatha/Cecily/Gaimoina/Melody/Corianne/Jadis/
      Morwen/Mabeline/Adele/Amile/Whitney";
3: "Brushgather/Bushbother/Goodbarrel/Greenbottle/Highhill/
      Undervalley/Hilltopple/Leafgallow/Tealeaf/Thorngage/Tosscobble/
      Underbough/Overcrest/Winterson/Snowglide/Greenfield/Stronghearth/
      Brandybuck/Deepvalley/Goodspirit/Redwine/Stonegulley/Treetop/Suthers/
      Bluecrest";
Gear:
$"small backpack",
10d2 $"cottonberry loaf", 75% 4d2 $"food ration",
75% 1d4 $"apple",
75% 1d4 $"melon",
75% 1d8 $"strip of cured meat",
3d6 $"stone" of $"hearthstone of onanda",
50% 4d6 $"rock" else
$"sling",
3d2 $"torch";
Lists:
* 19
5 $"celestial" $"pony"
$"celestial" $"warpony"
7 $"celestial" $"rust monster"
$"celestial" $"wolf"
$"celestial" $"mastiff"
$"celestial" $"cheetah"
$"hippogriff"
$"senmurv"
$"young" $"brass dragon"
$"young" $"bronze dragon"
9 $"juvenile" $"brass dragon"
$"juvenile" $"bronze dragon"
$"celestial" $"aurumvorax";
Constants:
* 113 115;
}
#line "races.irh" 1631
Monster "lizardman;temp" : 51, 67, 87
{
Image: green '@'; Size: 4; Mana: 12;
CR: 1; HD: 1; Hit: 0; Def: 10; Mov: 100%; Spd: 100%; Arm: 5;
Str 10, Dex 10, Con 10, Int 10, Wis 10, Cha 10;
Attk: 6 for 1d4+1 11,
6 for 1d4+1 11,
7 for 1d4 12;

Stati[124,8,4];
Stati[39,78,1];

Flags: 1, 36, 24, 30, 23,
110;
Resists: 0x00000001;
Desc: "Lizardman Player Race";
Stati[123,13,+2];
Stati[123,10,+4];
}


Race "Lizardfolk;race"
{
Str +2, Dex 0, Con +2, Int -2, Wis 0, Cha 0, Luc -2;
Monster: $"lizardman;temp"; Favored Class: $"druid", $"warrior";
Skills: 5, 8, 45,
48, 21, 25, 22 ;
Grants:



Ability[1] at 1st level,
Stati[134,51,18] at 1st level,
Ability[85,51,+1] at every level starting at 1st;
Desc: "<15>Str:<1>+2 <15>Dex:<1>-- <15>Con:<1>+2 <15>Int:<1>-2 
      <15>Wis:<1>-- <15>Cha:<1>-- <15>Luc:<1>-2
      \n<15>Favored Classes:<2> Druid, Warrior\n\n 
      
      __The lizardfolk are a dispassionate, patient and focused race with
      a mindset highly distant from the more humanlike races. Concerned
      first and foremost with survival -- first their own, then that of other
      species whose presence supports the existance of life overall -- the
      lizardfolk can seem ruthless or callous to mammalian races. Appearing
      as large, humanoid lizards with opposable thumbs and other biological
      adaptations to sentience, lizardfolk are strong and hardy warriors,
      and as such their favor is often sought by kings, warlords and other
      human rulers. The lizardfolk dislike this -- if they seem ruthless to
      humans, then accordingly the selfishness and wasteful conflict of human 
      politics seems incredibly degenerate and unnatural to the lizardfolk.\n
      __Though they are an intelligent race, lizardfolk generally scorn most
      of the concerns typically associated with civilization. Individual
      lizardmen have little desire for status, personal power, knowledge or
      other typical human motivations. Their goals are survival, breeding
      and the preservation of life (with no particular significance given to
      *intelligent* life, mind). They have a unique spiritual tradition that
      involves meditation and lucid dreaming, and their spiritual leaders are
      far more likely to be shamans or druids then clerics. Indeed, their
      druidic tradition is older then the human one, and lizardfolk druids
      don't seem to feel the need to answer to the human druidic hierarchy.
      Whatever accord was reached between the two groups was formed centuries
      ago, and its exact nature is highly secret.\n
      __Lizardfolk have no strong psychological or hormonal differences between
      their genders, nor do they show signs of aging until shortly before they
      die. They do have a strong seasonal rhythm built into their physiology,
      however, driving them to fight, mate, migrate or slumber. They almost
      always act on their instincts (there is no formal written language among
      the lizardfolk, let alone an educational system) but seem to have an
      almost mystical intuition -- often, lizardfolk all over the world will
      react in unison to a commonly shared threat, devastating opposition
      with their coordination without even understanding why they (as individuals)
      are doing what they are doing.\n
      \n 
      <10>LIZARDFOLK RACIAL SKILLS<2>\n
      __The lizardfolk racial skills are not based on culture or training, but
      on the inherant aptitudes, instincts and physiology of their race. They
      recieve Balance, Concentration, Intuition, Jump,
      Knowledge (Magic), Swim and Wilderness Lore as racial skills.
      \n\n         
      <10>LIZARDFOLK RACIAL TRAITS<2>\n
      __*_<7>+2 Strength, +2 Constitution<2> -- The lizardfolk are terribly strong
      by human standards, and are not only resistant to injury but also to
      disease, poison, age effects and many other kinds of maladies.\n
      __*_<7>-2 Intelligence, -2 Luck<2> -- Conversely, the lizardfolk do not
      understand conventional civilization or scholarship, have difficulty
      articulating non-trivial ideas to mammalian races and are slow to think
      and act, missing oppurtunities other races would easily catch.\n
      __*_<7>Natural Weapons<2> -- Lizardfolk have the benefit of natural
      weapons -- their natural attack sequence is to claw for 1d4+1 points of
      slashing damage, claw for 1d4+1 points of slashing damage and bite for
      1d4 points of piercing damage. They also have a natural armor rating of 
      5 against slashing, piercing and blunt damage.\n
      __*_<7>Reptilian Empathy<2> -- Lizardfolk are not entirely individual
      creatures, having a strong, shared instinctive racial empathy with each
      other. Lizardfolk can always percieve the presence of other lizardfolk
      within 180 feet, even with a solid barrier seperating them. Lizardfolk
      are almost never hostile to each other. They also share a kind of
      primitive empathy with all other reptiles, being able to simulate the
      Animal Empathy skill at a level equal to their character level when
      dealing with such creatures.\n
      __*_<7>Ancestral Memory<2> -- Lizardfolk can enter a trance-like
      state in order to use their racial memory to augment their skills,
      albiet at the cost of fatiguing themselves. At the cost of 2 fatigue
      points, they can attain the maximum possible number of ranks for a
      character of their level in any single skill - or a +4 insight bonus,
      whichever raises their total skill rating in that skill higher -- for
      a very short period of time.\n
      __*_<7>Fire Resistance<2> -- As reptiles, lizardfolk are inherantly
      much less affected by heat, and their specific physiology enhances this
      effect even further. They enter play with fire resistance 5, and it
      increases by one point every odd level after 1st.\n
      __*_<7>Water Affinity<2> -- Lizardfolk possess a deep spiritual tie with
      the base element of water, and this is reflected in their magic. When a
      lizardman casts a spell or uses a magical device with the [Water] descriptor,
      he gains a +2 bonus to the dweomer's save DC, a +1 bonus to his effective
      caster level and spends only half (round up) the normal mana cost. When a 
      lizardman makes a social skill check against a creature with the Water 
      Creature subtype,
      he gains a +2 social modifier to his roll.\n
      __*_<7>Slow Metabolism<2> -- Lizardfolk grow hungry much more slowly
      then other races -- hard activity hungers them as much as anyone, but
      when they rest they use little food in comparison to mammals. By
      contrast, they require a much greater mass of food intake then mammals
      do to become Satiated. Hunger is a long-term problem for lizardfolk,
      rather then a short-term need.\n
      __*_<7>Focused Mind<2> -- Lizardfolk have an extremely linear thought
      process and instinctive responses that guide them well, giving them a
      +2 racial bonus to resist confusion effects and a +4 racial bonus to
      Concentration skill checks.\n
      __*_<7>Oily Secretion<2> -- The skin of the lizardfolk exudes a thin
      layer of a slick, oily substance when pressed, in much the same way
      humans sweat when dehydrated or when exerting themselves. This natural
      form of defense gives lizardfolk a +4 racial bonus to avoid being
      grabbed and to the grapple check to break out of a grapple.
      \n__*_<7>Starting Equipment<2> -- Lizardfolk start with a medium
      backpack, some torches, some cured meat and several vials of holy
      water -- lizardfolk frequently worship the oceans and rivers in
      the abstract, so their society gives them easy access to holy waters.
      Lizardfolk proficient with thrown weapons start with a boomerang as
      well.\n\n
      <10>LIZARDFOLK SUBRACES <5>(Unimplemented)<2>\n
      __The Tauri Adhami are the pureblooded nobility of the lizardfolk, reciving
      an increase in Charisma and certain mystical gifts of regency to accompany
      their noble blood.\n
      __Amahzd Tethra lizardfolk are the oldest pure bloodline of their people,
      with increased access to the lizardfolk racial memory and superior wisdom.
      They benefit from a limited ability to see the future and insight similar
      in effect to a bard's lore, but are even slower to act then normal lizardfolk
      and suffer biological swings based on the season and the weather.\n
      __The Dehezad Reigh ('the Chosen') is a mystical sisterhood of mutant lizardfolk
      born as albinos. Naturally blind, they 'see without sight' and have access to
      great mystical powers, but are also subject to limiting taboos and the strict
      authority of their sect.\n
      __The Dragonkin are a line of lizardfolk who have interbred with the dragons
      over the centuries, gaining certain of the advantages that race possesses
      but also becoming cursed with a ravenous hunger that makes them greatly feared
      and viewed as degenerate among their own race.\n
      __Their troubles pale when compared to the Nietzol Ashadrach, however. Born
      wrong, these lizardfolk lack the inherant racial empathy that most members of
      their race possess, these wretched folk are viewed as soulless and outcast
      from the lizardfolk community. They have a greater ability to adapt to human
      society as a result, and are often mistakenly called 'half-lizardfolk' by
      humans who do not understand their condition.";
Gear:
if ((EActor->Proficiencies & 0x00000100) &&
(EActor->LevelAs($"monk") == 0))
$"boomerang",
$"medium backpack",
3d2 $"torch",
16d2 $"strip of cured meat", 3d4 blessed $"flask" of $"water";
1: "Tephraon/Raotil/Legroth/Gosaad/Savis/Gusack/Tabrim/Umlathi/
      Fersas/Feshrish/Yupharin/Asogath/Saglisha/Gorfang/Keskel/Hiiman/Tabasci/
      Xixrat/Gomlon/Gamoran/Molworg";
2: "Tephraon/Raotil/Legroth/Gosaad/Savis/Gusack/Tabrim/Umlathi/
      Fersas/Feshrish/Yupharin/Asogath/Saglisha/Gorfang/Keskel/Hiiman/Tabasci/
      Xixrat/Gomlon/Gamoran/Molworg";
3: "of the Sun/of the River/of the Fire/of the Blood/of the Sand/
      of the Ashes/of the Eggs/of the Seasons/of the Flesh/of the Sword/of Life/
      of Death/of the Swamp/of Stone/of Unity/of Survival/of Fertility";
#line "races.irh" 1813
Lists:
* 19
5 $"celestial" $"riding lizard"
$"celestial" $"war lizard"
7 $"young" $"plant ur-dragon"
$"young" $"shadow ur-dragon"
$"young" $"brilliant ur-dragon"
$"young" $"shattering ur-dragon"
$"young" $"water ur-dragon"
9 $"behir"
$"celestial" $"cave ankylosaurus"
$"celestial" $"cave triceratops"
$"celestial" $"cave tyrannosaurus"
$"tendriculous"
$"froghemoth";
Constants:
* 113 90;
On Event 153 {
if (EActor->Proficiencies & 0x00000100)
if (EActor->WepSkill($"boomerang") == 0)
EActor->GainPermStati(30,NULL,3,1,
0, $"boomerang", 0);
return 0;
};

}
#line "races.irh" 1846
Monster "orc;temp" : 22, 87
{
Image: brown '@'; Size: 4; Mana: 5;
CR: 0; HD: 1; Hit: 0; Def: 10; Hit: 1; Mov: 100%; Spd: 100%;
Str 10, Dex 10, Con 10, Int 10, Wis 10, Cha 10;
Attk: 1 for 1d3 13;

Stati[39,42,6];
Stati[39,71,3];

Flags: 36, 1, 8, 24,
23, 110;
Desc: "Orc Player Race";
}

Race "Orc;race"
{
Str +4, Dex 0, Con 0, Int -2, Wis +2, Cha -2, Luc 0;
Monster: $"orc;temp"; Favored Class: $"barbarian", $"priest";
Skills: 4, 20;
Grants:


Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"shotput"] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)] at 1st level,
Ability[132] at 1st level,
Ability[22] at 1st level;
On Event 169 {
if (EItem->QualityOK(69))
EItem->AddQuality(69);
};
On Event 150 {
hObj h;
EActor->Proficiencies |= 0x00000080 | 0x00000008 |
0x00000400 | 0x00000200;
if (EActor->GodID == ((rID)0))
if (EActor->yn("Do you wish to worship Khasrach?"))
{
EActor->GodID = $"Khasrach";
EActor->setGodFlags($"Khasrach",0x0001);
}
};
Desc: "<15>Str:<1>+4 <15>Dex:<1>-- <15>Con:<1>-- <15>Int:<1>-2 
      <15>Wis:<1>+2 <15>Cha:<1>-2 <15>Luc:<1>--
      \n<15>Favored Classes:<2> Barbarian, Priest\n
      
      \n__Brutal, crass and stupid, orcs are commonly seen as a plague
      upon the land by the more civilized races. Huge, muscular humanoids
      with faces crossing the features of men and swine, the orcs reinforce
      this connection with their savagery and their willing contentment to
      accept the lowest common denominator in all things. Orc society tends
      to be militaristic, patriarchal and driven by selfishness first and
      firemost.
      \n__Orcs are very, very rapid breeders, giving birth to litters and
      breeding frequently and casually -- along with their recent focus on
      the development of black-powder weapons, this may be the only factor
      that has allowed them to survive against dwarven prowess and human
      sociological development. On the other hand, this count be exactly
      what humanity wants -- for ages untold, it has been a human warlord
      or necromancer who gathers and leads armies of orcs, usually as a
      distraction or tactical edge that ends in their near-extermination.
      Recently, however, this has changed. Orcs were instrumental in the
      slave revolts in Mohandi, and their forces were responsible for the
      liberation of slaves from all the goodly races and central in forming
      the anarchistic 'government' that now rules there. Further, while
      only a very small percentage of the orcish race leaves the great
      fortresses and communes that house their armies and breeding pits,
      that's still a staggering number by human demographic standards, and
      now orc merchants, craftsmen and soldiers are a ubiquitous part of
      nearly every human city.        
      \n__Taken out of the oppressive squalor of their own natural society
      yet allowed to live according to their racial nature, the orc peoples
      prosper. Many orcs become great soldiers and war-heros, while others
      rise to positions of power in theives' guilds or merchant houses.
      Mostly, though, they form a silent underclass that members of all the
      'goodly' races are quite content to exploit for cheap labour and fence
      into ghettos and slums. Some scorn the stereotype, striving to be as
      intellectually developed as humans and elves, but most find more of
      corruption then virtue in the very qualities that humanity chastizes
      them for lacking. It is from this quarter, these 'city orcs' that most
      orcish adventurers rise. Sometimes these orcs return to the great orcish 
      cities, working in resistance cells to overthrow the human or baatezu 
      overseers.
      \n__A rising movement is the desire to reconstruct the true tribal customs
      of the primevil orcs, understanding how their people lived before they
      were actively bred and honed by human and daemonaic powers as cannon
      fodder. More and more now legendary orcs are rising to positions of
      great power over their people. Split in a three-way racial schism between
      the city orcs, (neo-)tribal orcs and the traditional orcs hordes, the fate
      of the entire species may very well rest in the hands of its few, brave
      heroes.\n      
      \n 
      <10>ORC RACIAL SKILLS<2>\n
      __As a race the orcs are not a skilled people; in game terms their Intelligence
      limits their skill points, and in cultural terms little emphasis is put upon
      most orcs to develop a trade. The only racial skills orcs possess are Athletics
      and Intimidate.
      \n\n
      <10>ORCS RACIAL TRAITS<2>\n
      __*_<7>+4 Strength<2> -- The strength of orcs of legendary; they are the
      strongest creatures the average human or elf will ever meet. Orc strength,
      unlike that of lizardmen or wood elves, is clearly visible -- orcs tend to
      be bulky in build, with clearly visible muscles.\n
      __*_<7>-2 Intelligence<2> -- While orcs are not the comical retards that
      human narrative often makes them out to be -- they are quite capable of
      cunning plans and foresight -- their language is limited, their culture
      scorns education and they have a very limited grasp of analytical
      reasoning.\n
      __*_<7>+2 Wisdom<2> -- Orcs tend to be determined survivors with a
      canny cunning, have a developed awareness of the world around them,
      tend to have led harsh lives that lead to stronger-held personal
      convictions and ideals and are more in tune with the primal, visceral
      element of nature that their shamans and clerics revere then the more
      civilized races.\n
      __*_<7>-2 Charisma<2> -- Orcs tend to be viewed (visually and culturally)
      as vile by members of most more refined races (and honestly, everyone is
      more refined then orcs are). Their love of crassness, and their neglect of
      hygene combine with prejudice to ensure that orcs have to make an active
      effort not to get a negative response in most social situations. Their
      anatomy, while not as groteque as it is commonly made out to be, is also
      less appealing to the typical human aesthetic then, say, an elf's.\n
      __*_<7>Militarism<2> -- The orcs are a warlike race, and every orc
      recieves some degree of training in war, often from a very young
      age. All orcs, regardless of class, are proficient with the impact
      weapons group, the blades group, the spears group and the polearms
      group. In addition, the sporting competitions and training of youth
      grant orcs a familiarity with the orcish shotput.\n
      __*_<7>Toughness<2> -- Orcs are not a hardy people; their typical
      lifespan is thirty to forty years, disease takes a heavy toll on
      their numbers and their abject living conditions limit the strength
      of their constitutions.  What they are, however, it tough, and
      absolutely unwilling to give in on the field of battle. As a result,
      all orcs recieve the Toughness feat for free at 1st level.\n
      __*_<7>Devouring<2> -- Orcs are much reviled for eating the bodies
      of their slain foes, but few are aware that this practice has a
      mystical component as well as a cultural one -- once, millenia
      ago, orcs would eat the bodies of elderly members of their tribes
      as a sign of respect, supernaturally allowing some small part of
      their ancestor's wisdom to live on within them. Now, it is an act
      mostly practiced only for the more worldly desire of claiming a
      fallen enemy's strength for oneself.\n
      __In game terms, an orc that eats the corpse of a creature that
      has an innate elemental resistance to a given damage type may
      develop or increase that resistance himself, provided that the
      creature's resistance level is greater then the orc's current
      inherant rating in that type of resistance.\n
      __Furthermore, certain rare monsters that are the allegorical
      representation of a given ability score can convey an inherant
      bonus to that ability when their corpses are devoured. Giants
      are so tied to Strength, elves to Dexterity, trolls to Constitution, 
      mind flayers to Intelligence, nagas to Wisdom, faeries to Charisma 
      and mythic hybrids to Luck. Dragons can convey increased mana when 
      their bodies are eaten, being creatures of pure magic.\n 
      __Finally, any living creature whose corpse is eaten provides a 
      moderate boost in experience points, provided that its Challenge 
      Rating compares well with the devourer's character level.\n 
      __*_<7>Scent<2> -- Orcs have a highly acute sense of smell, and are
      able to track their enemies by scent. They recieve the Scent ability
      with a range of 30 feet.\n
      __*_<7>Infravision<2> -- Dwelling underground and upon the surface
      with equal ease, orcs have Infravision to a range of 60 feet.\n
      __*_<7>Spell Fury<2> -- Orcs are not particulairly adept at magecraft
      overall, but the sheer primal anger they bring to magical workings
      lends them a certain power as mages. In game terms, orcs double their
      Wisdom modifier on arcane spells that inflict direct physical damage.\n
      __*_<7>Light Aversion<2> -- Just as orc eyes are adapted to darkness,
      however, they suffer in light. More then just biology, orcs suffer an
      instinctual psychological aversion to daylight; it weakens their
      morale, limits vision and brings a sense of claustrophobic panic upon 
      then. Orcs suffer a -4 penalty to hit and to their defense class in
      brightly lit terrain squares (such as the area of effect of a priest's
      <9>call light<2> spell).       
      \n__*_<7>Starting Equipment<2> -- Orcs start with a medium backpack, 
      a longspear or ranseur, some cured meat and a knife.\n\n
      <10>ORC SUBRACES <5>(Unimplemented)<2>\n
      __Cave orcs are the most fecund, and most common, of the orc subraces.
      Adapted to Underdark life, the cave orcs have superior infravision, a
      racial aptitude for climbing and the ability to scale even sheer surfaces
      easily, along with an understanding of swarm tactics and an aptitude for
      underground survival, but they are even more craven then the majority of 
      the orcish race, and more intellectually stunted.\n
      __Hill orcs are the subrace that most surface orcs bear the primary blood
      of, being the result of centuries of breeding and Darwinian selection.
      Pureblood hill orcs have a stronger tie to nature through a tiny aspect 
      of racial memory; they have a limited empathy with predatory beasts and
      an aptitude for wilderness survival.\n
      __Blood orcs are bound by a blood oath to their race, and are the newest
      orc subrace. Fierce and unconquered, blood orcs draw strength both 
      mystical and psychological from their declared jihad against the peoples
      who have dominated their race throughout the years. They tend to be more
      violent, zealous, ambitious and driven then most orcs.\n
      __Black orcs were bred and engineered by Azakram the Black millenia ago
      in his campaign for conquest of the Kinlands during the Mage Wars. They
      have a heightened affinity for blood magic, a limited empathy with the
      undead and a small degree of innate mystical power, but are not as strong 
      as their compatriots and suffer from an suceptability towards enchantment 
      spells. In the modern age, the most frequently serve as shamans and other
      spiritual authorities in an orc tribe.";
#line "races.irh" 2059
1: "Dench/Feng/Gell/Henk/Holg/Imsh/Kesh/Ront/Shump/Thokk/
                 Vang/Lothgar/Grognard/Shagga/Mogg/Shobri/Rathak/Volgar/
                 Shong/Krang/Ragnar/Hurk/Ulgen/Varag/Maasdi/Garta/Zol";
2: "Baggi/Engong/Myev/Neega/Ovak/Ownka/Shautha/Vola/Volen/
                  Jokli/Rutha/Wargi/Wesk/Dultha/Jongi/Ruulam/Tautha/Vooga/
                  Ilnush/Sawmi/Lenk/Lisva/Suubi/Rangka/Gaashi/Vuulga";
3: "the Slayer/the Elfslayer/the Bloodspiller/the Skullcleaver/
      the Griefmaker/the Deathbringer/the Harbringer/the Destroyer/the Savage/
      the Unconquered/the Anathema/the Blooded/the Unbound/the Wise/the Breaker/
      the Defiler/the Desecrator/the Berzerker/the Warlord/the Avenger";
Gear:
$"medium backpack",
8d2 $"strip of cured meat", $"knife",
50% $"longspear"
else $"ranseur";
#line "races.irh" 2077
Lists:
* 19
5 $"celestial" $"warhorse"
$"celestial" $"horse"
7 $"celestial" $"griffon"
$"celestial" $"dire" $"wolf"
$"celestial" $"cave lion"
$"winter wolf"
$"blazing terror"
9 $"celestial" $"dire" $"cave lion"
$"celestial" $"cave ankylosaurus"
$"celestial" $"cave triceratops"
$"celestial" $"cave tyrannosaurus"
;
Constants:
* 113 100;

}
#line "classes.irh" 1
Class "Barbarian"
{
Desc: "
      <15>HitDie:_<1>d12_<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_<9>F<1>rw_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>75~<1>\n
      <2>\n\tHe may be born out of the harsh winters of Njordland, or from the
      expansionist peoples of Arasaki. He could be a gladiator-lord from
      the fallen Empire of Mohandi, or a tribesman from the dense and
      humid jungles of Angla Maua. Regardless, the Barbarian is a fierce
      berzerker-warrior, well-trained in brutal combat and wilderness
      survival, but not as accustomed to the subtle intrigues and unseen
      dangers of the civilized world. Uncivilized inherantly makes the 
      barbarian neither stupid nor evil, thoughh of course many members
      of this breed may be both. At his (or her) noblest, the barbarian
      is the champion of a simpler time, when might did not make right,
      but simply defended it, and the most major problems could be solved
      with a sword and a battlecry.
      \n\tThe Barbarian's physical toughness is unmatched by any other
      class in the game, though the Warrior exceeds her in skill. In
      straight-up melee combat, the Barbarian excels. 

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the barbarian are Athletics, Climb, Craft,
      Heal, Intimidate, Intuition, Jump, Knowledge (Nature),
      Listen, Spot, Swimming and Wilderness Lore. 

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the barbarian.\n
      __*_<7>Proficiencies<2> -- The barbarian is proficient with simple
      weapons, impact weapons, long blades, polearms, spears, axes and flails,
      and with light and medium armors.\n
      __*_<7>Berserk Rage<2> -- Barbarians are well-known for going berserk
      in combat, augmenting their strength and terrifying their foes. Upon
      entering a berserk rage, a barbarian gains a +4 bonus to Strength and 
      Constitution, a +20% bonus to Speed and a +2 bonus to Will saves. The 
      rage lasts for a base duration of 10 rounds, plus three rounds per 
      barbarian level -- provided that the barbarian remains in combat. If a 
      barbarian is out of combat long enough to become flat-footed, their rage 
      ceases.\n 
      __This battle rage requires a certain purity of mind, and thus multiclass
      barbarians with fewer than 3 barbarian levels halve the modifiers (+2
      Strength, +2 Constitution, +1 to Will saves). Upon reaching 8th level, 
      the barbarian is immune to all confusion effects while raging; at 13th, 
      the barbarian cannot be stunned while raging. At 9th level, the raging 
      barbarian's bonuses increase to +6/+6/+30~/+3, and at 16th level they reach 
      their maximum potential of +8/+8/+40~/+4.\n
      __Barbarians from naturally Small races apply only half the normal bonus 
      to Strength when they Rage, and apply the other half to their Dexterity.
      Their rages resemble the fighting of a panicked cat, and tend to throw
      enemies off balance -- every time they make a successful attack while
      raging, they make a Charisma check against a DC of 11 + their opponent's
      Wisdom modifier; success causes the opponent to suffer a -1 penalty to
      attack, damage, defense class and most other rolls for the next 1d4+1
      rounds. Further enraged attacks increase both the magnitude and duration
      of this penalty culmulatively; multi-class barbarians can inflict a
      maximum penalty equal to their barbarian levels, while straight barbarians
      can inflict an unlimited penalty.\n
      __Entering a rage costs a barbarian four fatigue points if they are in 
      heavy armor, three in medium armor, two in light armor and one if they
      are unarmored. The fatigue cost of raging while armored decreases by one
      at 4th level, and an unarmored barbarian of 4th level or above may make 
      a Con check against DC 20 to avoid fatigue loss when raging; failing this 
      check costs one fatigue point. A raging barbarian is never considered to 
      be fatigued or exhausted, though they suffer the effects of those traits 
      as soon as the rage ends, if applicable.\n
      __A raging character may not cast spells, don or remove armor or clothing,
      pick locks or search through a container (such as his backpack) for items.\n
      __*_<7>Tough as Hell<2> -- A barbarian recieves double the normal
      number of bonus hit points from a high Constitution score for all of
      his barbarian levels.\n 
      __When struck for physical damage, an unarmored,
      single-classed barbarian can subtract his Constitution modifier from the
      damage suffered (to a minimum of one point). A multiclass barbarian subtracts
      a proportion of his Constitution modifier from damage equal to his
      number of barbarian levels proportionate to his total
      level -- for example, a barbarian 2/warrior 1 would subtract
      66% of his Con modifier from damage. This proportion
      is always rounded down, so even one non-barbarian level
      reduces the amount subtracted by at least one.\n
      __If the barbarian wears armor, every 'degree' (light, medium,
      heavy) of armor worn counts as three non-barbarian levels
      added to his total for the purposes of reducing this bonus.\n
      __Finally, starting at 7th level the barbarian
      has a natural armor rating similar to a monster's. This value is
      identical against slashing, piercing and blunt damage, is not
      penetrated by weapons of any plus and increases by +1 for every odd
      barbarian level.\n
      __*_<7>Increased Move<2> -- A barbarian, like a monk, naturally moves
      faster than other characters. Barbarians gain a culmulative bonus of 
      +10~ to their movement rate for every even barbarian level.\n
      __*_<7>Hardy Lifestyle<2> -- Barbarians lead perhaps the harshest and
      most physically demanding existance of any of the adventuring classes,
      surviving brutal raids and inhospitable terrain that would break weaker
      men and women. This constant forcing of their bodies to the limit ends
      up tempering them into beings of incredible physical prowess.\n
      __In game terms, barbarians recieve a +1 inherant bonus to either Strength
      or Constitution at every even level, chosen randomly, up to the maximum
      possible inherant bonus for their race (+5 for most characters, or +8 
      for humans). Barbarians of a Small race naturally improve their Dexterity
      in this manner as well.\n
      __Characters who start play as barbarians have assumed to have lived
      this lifestyle all their life, and therefore have a +1d2 inherant bonus
      to Strength and Constitution (and Dexterity, for Small barbarians) from
      the very start of their career. (This is balanced by the fact that
      barbarians have the weakest starting equipment of an class.)\n
      __*_<7>Uncanny Dodge<2> -- Like the rogue, the barbarian is possessed
      of preternatural agility and instincts that allow her to avoid harm.
      Starting at 2nd level and beyond, the barbarian is never caught flat-
      footed -- no matter how many rounds have passed since her last combat
      exchange, she is always alert. At 4th level, her uncanny instincts allow
      her to wake alert if she has an encounter while resting, avoiding being
      flat-footed, vulnerable to Coup de Grace attacks and being able to act
      immediately as the encounter begins. At 5th level and above, she suffers no
      ill effects from having enemies on either side and is effectively
      immune to flanking. Starting at 6th level and above, the barbarian
      recieves gradually increasing bonuses to all saving throws against
      traps -- her instincts tell her exactly when to dodge or pull back.\n
      __Levels of this ability from the barbarian and rogue classes stack.\n
      __*_<7>Spellbreaker<2> -- Barbarians recieve experience points for
      the destruction of magical items other then weapons or armor. When
      they destroy such an item, they recieve experience equal to that
      gained from killing a creature with a CR two below the item's level.
      Multiclass barbarians recieve a fraction of the experience proporational
      to their barbarian levels -- a barbarian 2/warrior 3 would recieve 2/5ths
      of the normal experience for breaking an item. Use the Break verb on
      the [Y]use menu to break items in your inventory.\n
      __Characters with arcane spellcasting ability recieve no experience for
      destroying magical items.\n
      __*_<7>Mighty Stroke<2> -- Starting at 3rd level performing a Great Blow
      costs a barbarian only one fatigue point. When they achieve 6th level,
      they can perform this maneuver without expending any fatigue at all.\n
      __*_<7>Small Barbarians<2> -- In addition to the changes to the Berserk
      Rage ability listed above, barbarians from Small races also recieve the 
      Defensive Roll ability (from the rogue's higher-level special ability 
      list) upon attaining four combined levels of warrior, ranger, paladin, 
      monk or barbarian.\n
      __*_<7>Starting Benefits<2> -- Barbarians start with a racially-determined 
      heavy weapon, a loincloth and potentially hide armor. Their starting
      equipment is the weakest of any class, which balances the powerful
      inherant bonus a character who enters play as a barbarian gains.\n\n
      <10>THE BARBARIAN<15>\n
      __Level__Def__Fort_Refl_Will_Move_Special Abilities<1>\n
      ____1____+0____+2___+0___+0___--__Rage (+4/+20~/+2)   \n
      ____2____+1____+3___+0___+0__+10~_Never Flat-Footed \n
      ____3____+1____+3___+1___+1__+10~_Mighty Stroke I   \n
      ____4____+2____+4___+1___+1__+20~_Rage (Less Fat.),\n
      __________________________________Wake Alert_______\n
      ____5____+2____+4___+1___+1__+20~_Immune to Flanking\n
      ____6____+3____+5___+2___+2__+30~_Mighty Stroke II, \n
      __________________________________Trap Sense +1     \n
      ____7____+3____+5___+2___+2__+30~_Natural Armor +1, \n
      ____8____+4____+6___+2___+2__+40~_Rage (vs. Confus.)\n
      ____9____+4____+6___+3___+3__+40~_Trap Sense +2,    \n
      __________________________________Natural Armor +2  \n
      ____10___+5____+7___+3___+3__+50~_Rage(+6/+30~/+3)   \n
      ____11___+5____+7___+3___+3__+50~_Natural Armor +3  \n
      ____12___+6____+8___+4___+4__+60~_Trap Sense +3\n";

HitDice: 12; Mana: 4; Def: 1/2;
Attk: 1 100,
2 100,
0 75,
3 75;
Skills[6]: 7, 9, 17, 20, 21,
22, 32, 44, 45, 48, 4,
27;
Proficiencies: 0x00000008, 0x00000001, 0x00000080, 0x00000200, 0x00000400,
0x00020000, 0x00000010;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Feat[((49 + 1) + 12)] at 1st level,
Ability[8] at every level starting at 1st,
Ability[129] at 3rd level,
Ability[129] at 6th level,
Ability[41,+2] at every 2nd level starting at 2nd,
Ability[100] at every level starting at 2nd,
Ability[93] at every level starting at 1st,
Ability[127] at every level starting at 1st,
Stati[113,17,+1] at every 2nd level starting at 7th;
Gear:
if (EActor->isMType(83))
$"large club"
else if (EActor->isMType(65))
50% $"long sword"
else if (EActor->isMType(65))
$"heavy mace"
else if (EActor->isMType(62))
$"long sword"
else if (EActor->isMType(64))
$"tiger claws"
else if (EActor->isMType(66))
$"scimitar"
else if (EActor->isMType(63) || 1d3 == 1)
$"greataxe"
else
20% $"halberd"
else
$"greatsword",
$"loincloth",
5d10 $"gold piece";
Flags: 6, 15;

On Event 153 {
int32 a, b, att;
if (EActor->isMType(67))
EActor->Proficiencies |= 0x00000080;
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"barbarian",4);

if (EActor->TotalLevel() == 1 &&
EActor->LevelAs($"barbarian") == 1)
{
EActor->GainInherantBonus(0,1d2,false);
EActor->GainInherantBonus(2,1d2,false);
#line "classes.irh" 222
return 0;
}

if (EActor->LevelAs($"barbarian") % 2)
return 0;

a = 1d3 - 1;
for (b=0;b!=3;b++)
{
att = (a+b) % 3;


if (att == 1)
#line "classes.irh" 238
continue;


if (EActor->SumStatiMag(113,att) >=
(5 + EActor->AbilityLevel(43)))
continue;

EActor->GainInherantBonus(att,1,true);
return 0;
}

EActor->IPrint("A perfect physical specimen!");
return 0;
};
}


Class "Bard"
{
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d10__<15>Skills:<1>_8_<15>Saves:<1>_f<9>RW<1>_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Trown <9>75~<1>\n
      <2>\n\tThis is not some merry minstrel or casual playwright, but a
      dynamic figure whose powerful charisma and diverse skills inspire
      and fortify those around him. The bard is a magnetic personality;
      admirers want to be near him, while enemies fear him. He's very
      world-learned and cosmopolitan, being familiar with many different
      legends and customs and having travelled to all manner of exotic
      lands. He dabbles in magic, scholarship, intrigue and skullduggery 
      and even in the combat arts, not trusting any one field alone to 
      protect him in the world. Like the Rogue, he relies first and 
      foremost on his wits and charisma to get him out of trouble. Many
      Bards eventually join one of the bardic colleges that dot the world,
      ancient institutues of hallowed mystery, revered heritage and grand
      political power.
      \n\tThe Bard is a jack-of-all-trades class, with a lot of diverse
      abilities. He has a wide selection of skills, including stealth,
      a dabbling of arcane magic and competant fighting skill with a wide
      variety of weapons and armor. He also has entirely unique abilities,
      such as the power to hearten and augment his allies supernaturally
      with music, and a diverse body of knowledge that gives him a good
      chance to automatically identify items and monsters.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the bard are Alchemy, Appraise, Balance, Bluff,
      Climb, Concentration, Crafts, Decipher Script, Diplomacy, Escape Artist,
      Jump, Knowledge (all), Listen, Perform, Spellcraft, 
      Swim, Tumble and Use Magic Device. 

      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the bard.
	    \n__*_<7>Proficiencies<2> -- The bard is proficient with simple weapons,
	    light weapons, short blades, daggers, archery and light armor.\n
      \n__*_<7>Spells<2> -- Though not nearly as skilled as wizards 
      or druids, bards do dabble in magic. They cast spells from memory,
      having no need for spellbooks or paraphenelia. Their spell list
      lacks the raw power of the primary casters, but it is very diverse, 
      including enchantments, illusions, minor evocations and even
      low-grade healing spells. Bards recieve one sorcerous spell level at
      every even class level, and start with a single, bonus 1st-level spell
      slot at 1st level. Bardic spells are not negatively impacted by light
      armor or shields. 
      \n__*_<7>Bardic Music<2> -- Bards excel at performance, whether it be
      singing or using a musical instrument. In fact, bardic adventurers
      can create works so moving as to have a tangibly supernatural effect
      upon their audience. This ability is a valued secret passed down by
      the bardic colleges, and is the source of much mystique and legend.
      \n__Bards can produce the following musical effects as they advance
      in level. All bardic music effects are based on a Perform skill check;
      creatures unwilling to be affected may counter with a Will-based saving
      throw. Bardic music does not affect mindless or deaf creatures, for
      obvious reasons, and has a range equal to the bard's Perform skill rating
      plus two. Each use of bardic music costs 1 Fatigue Point, unless otherwise 
      noted. Maintaining a bardic music effect requires singing, which prevents 
      spellcasting (barring the use of Vocalize Spell) and imposes a -2 
      circumstance penalty to attack and defense. You automatically stop singing 
      whenever you change map screens as well.
      \n__<10>Inspire Courage (1st):<2> The bard is able to inspire great valor in 
      her allies and friends. When this bardsong is sung, all allies are freed
      from the effects of the <7>Afraid<2> status, and gain a morale bonus
      to attack and damage rolls equal to the bard's Charisma modifier; for
      multiclass bards, this modifier is capped at their total bard levels.\n
      \n__<10>Fascination (3rd):<2> The bard causes a single creature to become 
      enraptured with his music, unable to move or attack for as long as she
      sings. Attacking the creature of otherwise inflicting damage will break 
      the spell. A Will save against DC (10 + 1/2 bardic music levels + Charisma
      modifier) negates this effect.\n
      __A bard with 10 levels of bardic music is skillful enough to fascinate
      entire groups of creatures -- when she uses this song, every hostile
      creature who can see and hear her is affected.\n
      \n__<10>Countersong (5nd):<2> This ability allows a bard to counter sound-based
      mystical effects that might harm her or her allies, such as a banshee's
      wail or the <9>shout<2> spell. 
      \n__<10>Inspire Competance (7th):<2> The bard's music can inspire allies to great
      feats of heroism, granting them a competance bonus equal in magnitude to the bard's
      Charisma bonus (capped at bard level for multiclass characters) to attack rolls
      and saving throws. The effect also grants +15% attack speed per level of Charisma
      modifier, and twice the modifier to Defense Class.\n
      \n__<10>Hymn of the Phoenix Arisen (9th):<2> The bard sings a
      primal, life-affirming ballad that establishes a kind of psychosomatic bond
      among herself and all allies who hear the song. Any healing effect on any
      member of the party thereafter affects all members of the party equally,
      whether from potion, spell or other source. Additionally, all listeners
      -- including the bard -- are treated as having a Fire Resistance equal to
      the bard's Perform skill rating and gaining six temporary Fatigue for the
      duration of the song.\n
      \n__<10>Spellbreaker Chant (11th):<2> A bard with this
      level of ability is able to sing a baritone chant with intensely difficult
      phonetics that duplicate and confuse the verbal components used by spellcasters,
      hypnotically leading them to mispronounce syllables. Anyone attempting to cast a 
      spell who can hear the chant must make a Concentration check opposed to an
      immediate Perform check by the bard. If the bard's check is higher, the spell
      is disrupted. Additionally, the spellcaster must then make a Will saving throw
      (DC 10 + 1/2 Bardic Music level + Charisma modifier) of become confused for 2d4
      rounds. 
      \n__<10>Dirge (13th, <4>Uniplmemented<10>):<2> The deep harmonics of the bard's music evoke a supernatual
      dread and despair in all who hear it, causing them to become <7>Afraid<2> and 
      flee for the length of the song.
      \n__<10>Inspire Greatness (15th, <4>Uniplmemented<10>):<2> The bard's music augments the power, endurance
      and general heroic ability of her party, adding a morale bonus based on her roll 
      to all of their attack and damage rolls, saving throws, skill checks and other
      rolls. She also grants them extra temporary Hit Dice (d10s) and the accompanying
      temporary hit points. Finally, her party is made immune to fatigue and fear
      effects for the duration of the song.
      \n__<10>Ensnare the Heart (18th, <4>Uniplmemented<10>):<2> The bard is able to produce a strain of music so
      pure and beautiful that it will echo throughout the heartstrings of another for
      eternity, binding them to the bard's service willingly and gladly. Only one being
      may be so enthralled at a time, and that being's CR may not exceed the bard's level
      plus her Charisma bonus. No loyalty checks are made for this creature, and it does
      not count toward either the bard's party HD or summoned/charmed HD.\n
      __*_<7>Legend Lore<2> -- Bards are familiar with a wide variety of legends, and have
      a reasonable chance of identifying any item or monster on sight. A bard makes a 
      one-time lore check when first picking up any unidentified item; success allows
      the bard to fully identify the item. The check is not a skill check, but an opposed
      roll of the character's bard levels versus the item's own level. Bards have a similar
      chance to identify monsters completely upon first inflicting damage upon a given
      monster.\n
      __*_<7>Storycraft<2> -- Artifacts are more then magical items; they are
      legends. Quite literally, an artifact gains its
      enchantment not from a mage's workings, but from
      the shifting of the tapestry of fate and the
      recognition and blessing of the gods after a
      legendary deed is performed with it. Even normal
      magical items gain power when the raw stuff of
      stories is woven around them.\n
      __Bards tell stories, craft reputation and carve
      the very fabric of legend with their words.
      Needless to say, this gives them no small degree
      of power over magical items and artifacts.\n
      __In game terms, every bard level taken after the
      first gives a
      character the ability to increase the magical
      plus of any single magical item by one. This can
      only be done if doing so would not increase the
      item's Item Level to a greater total then the
      bard's [Bard Level + Charisma modifier]. The
      increase is permanent and irreversable, and is
      not refunded if the item is destroyed.\n
      __[ In the full-release version of Incursion,
      this will only be possible in a tavern, where
      the bard can tell stories to an appreuciative
      audience. In this version, it can be done
      anywhere, at any time. In the full release,
      bards will also gain the following ability
      related to magical items:\n
        If a bard performs a legendary deed -- killing
      a quest nemesis or a creature whose Challenge
      Rating is six or more above his own -- using a
      magical item, that item has a chance (5% per
      bard level) of becoming an artifact and gaining
      extra powers. ]\n
      __*_<7>Bonus Feats<2> -- Reflecting the diverse tricks they pick up on their travels,
      bards gain a bonus feat slot at 4th, 8th, 12th, 16th and 20th levels. These feats may be
      chosen from any feat in the game that does not have another feat as a prerequisite.
      \n__*_<7>Starting Equipment<2> -- Bards start with a musical
      instrument, a short bow and light melee weapon (if they don't
      already have better from a different source), noble attire and 
      a significant supply of gold -- the largest allotment of any
      class.\n
      __Bards, as the most social class, also start out with a humanoid
      companion willing to quest with them to explore the dungeon and
      discover new treasures under a kind of apprenticeship.
      \n\n<10>THE BARD<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+2__Inspire Courage   \n
      ____2____+1____+0___+3___+3__+1 CL, Storycraft \n
      ____3____+1____+1___+3___+3__Fascination       \n
      ____4____+1____+1___+4___+4__+1 CL, bonus feat \n
      ____5____+2____+1___+4___+4__Countersong       \n
      ____6____+2____+2___+5___+5__+1 caster level   \n
      ____7____+2____+2___+5___+5__Inspire Competance\n
      ____8____+3____+2___+6___+6__+1 CL, bonus feat \n
      ____9____+3____+3___+6___+6__Mass Fascination  \n
      ____10___+3____+3___+7___+7__+1 caster level   \n
      ____11___+4____+3___+7___+7__Inspire Heroism   \n
      ____12___+4____+4___+8___+8__+1 CL, bonus feat \n";

HitDice: 6; Mana: 10; Def: 1/3;
Attk: 1 50,
2 75,
0 75,
3 75;
Skills[8]: 1, 6, 8, 9, 10,
11, 12, 13, 17, 18, 22,
23,24,25,26,27,28,29,30,31, 32, 36, 37, 38,
3, 45, 47;
Proficiencies: 0x00000001, 0x00001000, 0x00010000, 0x00000004, 0x00000020;
Flags: 7, 8;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Stati[229,1,1] at 1st level,
Ability[6] at every level starting at 1st,

Ability[82,+1] at every 2nd level starting at 2nd,
Stati[230,0x0010,+1] at every level starting at 1st,
Ability[50,+1] at every level starting at 1st,
Ability[131,+1] at every level starting at 2nd,
Feat[6] at every 4th level starting at 4th;
Gear:
if (EActor->rateMeleeWeapon() == 2)
$"gold piece" else
10% $"dagger" else
13% $"short sword" else
25% $"long sword" else
33% $"scimitar" else
50% $"light mace" else
$"rapier",
if (EActor->rateRangedWeapon())
$"gold piece"
else
$"short bow",
$"noble attire",
50d100 $"gold piece",
25% $"horn" else
33% $"flute" else
50% $"lute" else $"mandolin";
On Event 122
{
hObj hComp;
rID monID, tempID, raceID;
raceID = EActor->RaceID;
if (raceID->BaseRace != ((rID)0))
raceID = raceID->BaseRace;
switch (raceID)
{
case $"human;race": monID = $"human"; break;
case $"elf;race": monID = $"elf"; break;
case $"dwarf;race": monID = $"dwarf"; break;
case $"gnome;race": monID = $"gnome"; break;
case $"halfling;race": monID = $"halfling"; break;
case $"lizardfolk;race": monID = $"lizardman"; break;
case $"kobold;race": monID = $"kobold"; break;
case $"orc;race": monID = $"cave orc"; break;
case $"drow;race": monID = $"drow"; break;
}
switch(1d10)
{
case 1: tempID = $"druid;template"; break;
case 2: tempID = $"barbarian;template"; break;
case 3: tempID = $"mage;template"; break;
case 4: tempID = $"monk;template"; break;
case 5: tempID = $"knight"; break;
case 6: tempID = $"paladin;template"; break;
case 7: tempID = $"priest;template"; break;
case 8: tempID = $"ranger;template"; break;
case 9: tempID = $"rogue;template"; break;
case 10: tempID = $"warrior;template"; break;
}
hComp = CreateMonster(monID);
hComp->AddTemplate(tempID);
SetSilence();
hComp->IdentifyTemp(tempID);
UnsetSilence();
#line "classes.irh" 514
EActor->GainTempStati(45, NULL, 2,7,1,+10);
hComp->GainPermStati(203,NULL,7,0,0);
hComp->MakeCompanion(EActor,1);
hComp->PlaceAt(EActor->m,EActor->x,EActor->y+1);
hComp->Initialize();
return 0;
};
Lists:
* 21
1 $"call companions" $"call light" $"cause fear" $"charm person" $"chant" $"cure light wounds"
$"convulsion" $"dancing lights" $"detect secret doors" $"erase" $"grease"
$"feather fall" $"expeditious retreat" $"friends" $"hypnotism" $"mending"
$"magic weapon" $"phantasmal force" $"protection from evil" $"read magic"
$"sleep" $"monster summoning I" $"unseen servant" $"ventriloquism" $"true strike"
$"chromatic orb" $"knock" $"mount" $"detect stairs" $"phase door"
2 $"cause blindness" $"blur" $"bull's strength" $"cat's grace" $"cure moderate wounds"
$"globe of shadow" $"slow poison" $"ESP" $"enthrall" $"glitterdust" $"hold person"
$"hypnotic pattern" $"invisibility" $"levitation" $"detect objects" $"detect monsters"
$"improved phantasmal force" $"pyrotechnics" $"scare" $"see invisibility"
$"shatter" $"sound burst" $"suggestion" $"monster summoning ii" $"summon swarm"
$"hideous laughter" $"iron mind" $"protection from arrows" $"web" $"revealed lore"
$"gust of wind" $"rope trick" $"shield" $"false life"
3 $"bestow curse" $"blink" $"charm monster" $"clairvoyance" $"confusion"
$"cure serious wounds" $"dispel magic" $"displacement" $"emotion" $"fear"
$"gaseous form" $"greater magic weapon" $"haste" $"group invisibility"
$"keen edge" $"magic circle vs. evil" $"spectral force" $"phantom steed"
$"remove curse" $"cure disease" $"sculpt sound" $"slow" $"monster summoning iii"
$"wind wall" $"nondetection" $"fly"
4 $"cure critical wounds" $"dimension door" $"dominate person"
$"hallucinatory terrain" $"hold monster" $"improved invisibility"
$"rainbow pattern" $"color burst" $"neutralize poison" $"shout"
$"monster summoning IV" $"dismissal" $"endure the elements" $"wandwierd"
$"solid fog" $"detect magic" $"premonition" $"track monster" $"ice storm"
$"phantasmal killer" $"evard's black tentacles"
5 $"part water" $"dream" $"mind fog" $"nightmare;spell" $"monster summoning v"
$"wizard sight" $"hold monster" $"polymorph self" $"force shapechange"
$"magic resistance" $"insect plague" $"animal growth" $"wall of thorns";
}

Class "Druid"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d12_<15>Skills:<1>_6_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>75~<1>, Thrown <9>50~<1>\n
      <2>\n\tRevered and mysterious nature priests, the Druids are an
      invisible faction on Therya. They are rarely seen, and those that are
      most often are neither imposing nor terrible, but their agenda -- the
      pursuit of political balance and stability -- weaves its tentacles
      into every level of society none the less. They have been accused of
      worshipping the status quo as a religious ideal, and its quite true
      that their militant neutrality holds a complete disregard for most
      civilized ideas of morality.  In truth, they see man as just another
      beast -- one who can be nurtured when his presence supports the
      balance of elements in an area, and trimmed back when he exceeds his
      natural niche. Druids collect knowledge, the better to manipulate
      people with, and have a strict and secret hierarchy of their own that
      has endured for millenia.                 
      \n__A beginning Druid character is not recognized as a true Druid in
      the social sense; rather, she is an Initiate, a journeyman in
      training to become a true Druid. Regardless, the character's powers
      include mighty elemental magics, shapechanging and a natural affinity
      for nature that grants her the companionship of animals and allows
      her to sway many types of natural monsters to her side.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the druid are Animal Empathy, Appraise, 
      Concentration, Craft, Heal, Knowledge (Nature), 
      Knowledge (Oceans), Knowledge (Theyra), Ride, Spellcraft, Swim 
      and Wilderness Lore.\n
      __Druids recieve Bluff and Diplomacy as class skills at 9th level,
      when they take on the full formal title of Druid and begin moving
      within the worldwide hierarchy of the Druidic Enclaves.

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the druid.\n
	  \n__*_<7>Proficiencies<2> -- The druid is proficient with simple weapons,
	  quarterstaves, sickles, scimitars, scythes, short bows and light armor.\n
      __*_<7>Spells<2> -- Druids cast primal spells from the special druid
      spell list, which includes magics relating to plants, animals, natural
      forces and elemental power. They have a full spellcasting progression,
      just like mages and clerics.\n
      __Like priests, druids can cast spells
      while wearing armor. However, druids suffer an 80~ spell failure rate
      while wearing metallic armor and when holding metallic items in their 
      hands. Leather, hide, ironwood and darkwood are all favored materials 
      for the druid, and do not invoke this penalty.\n
      __*_<7>Nature Sense<2> -- At 2nd level, a druid gains a flawless
      mystical knowledge of plants and natural animals, and can identify
      such with perfect accuracy. Specifically, the druid may automatically
      identify the different magical herbs and mushrooms that grow in
      dungeons and can be used as components or enhancers for spells and
      poisons, or as magical treasures in their own right.\n
      __*_<7>Animal Companions<2> -- Druids can tame animals using their
      Animal Empathy class skill, and if successful add those companions
      to their adventuring party. A druid character recieves a free 'buffer'
      of (approximately) two hit dice per druid level for animal companions; 
      these hit dice worth of animals do not count toward the total hit dice 
      of the party for purposes of party loyalty checks or gaining new party 
      members.\n
      __Levels of this ability from the druid and ranger classes stack.\n
      __*_<7>Woodland Stride<2> -- Starting at 3rd level, a druid's movement
      rate is never modified negatively by the terrain she is standing on (as
      with brambles, hedges, rubble or webbing).\n
      __*_<7>Pass Without Trace<2> -- At 3th level, the druid may use the
      <9>pass without trace<2> spell at will as a spell-like ability. This
      spell (which is not currently implemented) will make it effectively
      impossible for encounters to chase after a character on the wilderness
      screen.\n
      __*_<7>Vitality of Life<2> -- At 4th level and above, druids recieve a
      +2 bonus to saving throws versus necromantic damage and effects.\n
      __*_<7>Sylvan Affinity<2> -- Also starting at 4th level, true faeries
      and faerie creatures (not mere elves) will never attack the druid
      unless she attacks them first, as a result of ancient pacts between
      Maeve and the druidic circles dating back millenia.\n 
      __*_<7>Wild Shape<2> -- Upon reaching 5th level, the druid gains the
      ability to shapechange into any natural animal of CR 3 or lower. This
      is largely identical to a mage's polymorph spell, but the druid
      is able to pick the animal form she wishes to take, and may terminate
      the effect at will. Using wild shape costs a druid one fatigue point.
      Unlike a polymorphed creature, a wildshaped druid retains the
      benefits of equipped magic items in 'unavailable' slots (e.g., a ring
      of the inferno will continue to provide fire resistance even if your
      new form has no fingers).\n
      __In the full release game, higher level druids will be able to change
      into dire animals, legendary animals, mythic beasts and even elementals
      as they advance in level.\n
      __*_<7>Venom Immunity<2> -- Druids of 7th level and above are completely
      immune to poisons and toxins; their body is able to instantly metabolize
      such noxious foriegn agents.
      \n__*_<7>Starting Benefits<2> -- 
      Druids begin the game with either a quarterstaff, scimitar, sickle,
      shortspear or scythe, a short bow (if they don't already have better),
      a random magical ring, robes and extra potions of healing and dimension
      door. All wooden items are instead from darkwood and are thus twice as
      durable. All iron items are instead made from ironwood. 
      \n\n<10>THE DRUID<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__Animal Companions \n
      ____2____+0____+3___+0___+3__Nature Sense      \n
      ____3____+1____+3___+1___+3__Woodland Stride,  \n
      _____________________________Pass without Trace\n
      ____4____+1____+4___+1___+4__Sylvan Affinity,  \n
      _____________________________Vitality of Life  \n
      ____5____+1____+4___+1___+4__Wild Shape        \n
      ____6____+2____+5___+2___+5__                  \n
      ____7____+2____+5___+2___+5__Venom Immunity    \n
      ____8____+2____+6___+2___+6__\n
      ____9____+3____+6___+3___+6__Bluff, Diplomacy\n
      ____10___+3____+7___+3___+7__\n
      ____11___+4____+7___+3___+7__\n
      ____12___+4____+8___+4___+8__\n";


HitDice: 8; Mana: 12; Def: 1/3;
Attk: 1 100, 2 75,
0 75,
3 50;
Skills[6]:
2,
3,
8,
9,
17,
23,
27,
28,
40,
43,
45,
48;
Proficiencies: 0x00000001, 0x00000400, 0x00000040, 0x20000000;
Grants:
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"scimitar"] at 1st,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"scythe"] at 1st,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 30),$"short bow"] at 1st,
Ability[82] at every level starting at 1st,
Stati[230,0x0020,+1] at every level starting at 1st,
Ability[2] at every level starting at 1st,
Ability[57] at 2nd level,
Ability[110] at 3nd level,
Ability[44,$"pass without trace"] at 3rd level,
Ability[90] at 4th level,
Stati[123,3,+2] at 4th level,
Ability[109] at every level starting at 1st,
Stati[177,5] at 7th level,
Stati[32,6] at 9th level,
Stati[32,11] at 9th level;
Gear:
if (EActor->rateMeleeWeapon() >= 2)
$"gold piece" else
20% $"scythe" else
25% $"quarterstaff" else
33% $"scimitar" else
50% $"sickle" else
$"shortspear",
if (!EActor->rateRangedWeapon())
$"short bow",
$"robes",
$"ring" of random 2 to 3,
2d10 $"gold piece",
2d3 $"potion" of $"healing",
2d3 $"potion" of $"dimension door";
On Event 150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
return 0;
},
153 {
if (EActor->LevelAs($"druid") == 1) {
EActor->GainSpell($"summon nature's ally i",0x0001|0x0020);
EActor->GainSpell($"cure light wounds",0x0001|0x0020);
}
};
Flags: 8, 6;
Lists:
* 21
(53 + 1000),
* 33
$"Essiah" $"Hesani" $"Kysul" $"Mara" $"Maeve"
$"Sabine" $"Xel" $"Zurvash";
}
#line "classes.irh" 761
Class "Mage"
{
Desc: "
      <15>HitDie:_<1>d4__<15>Mana:<1>_d20_<15>Skills:<1>_4_<15>Saves:<1>_fr<9>W<1>_<15>Defense:_<1>1/5\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n\tPowerful, mysterious and feared, the mage is a student of the
      arcane arts and a seeker of occult mysteries. Most mages adventure
      to gain access to ancient, powerful magics and to hone their spellcasting
      prowess. The lifestyle of a mage is tiring, combining academic focus
      with a draining of vital forces to power eldritch magics; as such,
      mages tend to be weaker than other adventurers, but they are second
      to none in the sheer bredth of their magical knowledge.
        \n\tThere are many, many mages on Theyra. Most are mere prestidigitators,
      having learned a few parlor tricks to enliven their lives. The most
      serious often find their way to the High College of Wizardry in Erisia
      and study high ritual magic full-time, initiating into one of the
      seven gemstone orders (Ruby, Opal, Topaz, Emerald, Diamond, Sapphire
      or Amethyst) that govern the formalized study of magic in the Kinlands.
      Others scribe ancient secrets from librams purchased or stolen, keeping
      a fierce independance in their studies. Regardless, the mage is a figure
      of awe and fear to his fellow man, and even millenia past the memory of
      the Mage Wars still taints the image of the wizard.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the mage are Alchemy, Appraise, Concentration, Craft, 
      Diplomacy, Knowledge (all), Metamagic and Spellcraft.

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the mage.\n
      __*_<7>Proficiencies<2> -- The mage is proficient only with daggers
      and staves. Few mages rely upon material weapons with any regularity.\n
      __*_<7>Spells<2> -- Mages recieve one spellcasting level for
      every mage class level they possess. Mage spells must be studied
      and cast from spellbooks, and are all but impossible to cast while
      wearing armor. However, the mage spell list is the most flexible
      and diverse list in Incursion. They have access to all arcane spells, 
      though they must study them from a spellbook in order to learn them.\n
      __*_<7>Magical Diversity<2> -- The arcane knowledge of mages is truly
      peerless, unequalled among all the other classes. Mages gain two 
      bonus spell slots of every spell level they can cast, the level after 
      they gain access to that level of spells. Thus, mages gain two
      bonus 1st-level slots at 2nd level, two bonus 3rd-level spell slots
      at 6th level, and so forth.\n
      __*_<7>Arcane Will<2> -- The spellcasting power of elder mages exceeds
      that of any other class. The arcane will ability represents this superior
      power by increasing the DC of saving throws against all mage spells cast
      by the character in question. Mages recieve a +1 arcane will at 8th, +2
      at 11th, +3 at 13th, +4 at 17th and +5 at 19th.\n
      __*_<7>Skill Benefits<2> -- Representing their supreme mastery of the
      magical arts, mages recieve a +1 competance bonus to Decipher Script,
      Metamagic, Spellcraft and Use Magic every level starting at 10th level.\n 
      __*_<7>School Specialist<2> -- All mages choose one of nine
      schools of magic (Abjuration, Arcana, Divination, Enchantment, Evocation,
      Illusion, Necromancy, Thaumaturgy or Weavecraft) in which to focus their
      study; mages may not specialize in Theurgy or Naturalism. This choice 
      modifies their spell success rates for spells of every school, with the
      highest modifier going to the mage's school of choice. Specialization
      also determines what the third spellbook the mage enters play with is,
      which has a strong influence on spell selection in the early game.\n
      __*_<7>Bonus Feats<2> -- All mages recieve the Scribe Scroll feat for
      free at 1st level. In addition, mages recieve a bonus feat chosen from 
      either the Metamagic or Item Creation feat lists at every 5th level -- 
      5th, 10th, 15th, 20th and so forth.
      \n__*_<7>Starting Benefits<2> -- Mages start with a quarterstaff 
      and daggers, potions of mana, a stone +2 of channeling, a collection
      of scrolls and the spellbooks [Adventurer's Arts] and [Fundamentals
      of Magick], along with two specific to their chosen specialty
      school. Illusionists also start with 2d4 scrolls of Improved
      Phantasmal Force and 1d3+1 scrolls of Spectral Force, to help them
      face monsters immune to lower-level illusions. 
      \n\n<10>THE MAGE<15>________________________________<15>Spells Known\n
      _Level__Def__Fort_Refl_Will_Specials__1_2_3_4_5_6_7_8_9<1>\n
      ___1____+0____+0___+0___+2__Scribe S._1_-_-_-_-_-_-_-_-\n
      ___2____+0____+0___+0___+3____________2_-_-_-_-_-_-_-_-\n
      ___3____+0____+1___+1___+3____________2_1_-_-_-_-_-_-_-\n
      ___4____+0____+1___+1___+4____________3_2_-_-_-_-_-_-_-\n
      ___5____+1____+1___+1___+4__Bonus Ft._3_2_1_-_-_-_-_-_-\n
      ___6____+1____+2___+2___+5____________4_3_2_-_-_-_-_-_-\n
      ___7____+1____+2___+2___+5____________5_4_3_1_-_-_-_-_-\n
      ___8____+1____+2___+2___+6__A.Will +1_6_5_3_2_-_-_-_-_-\n
      ___9____+1____+3___+3___+6____________6_6_3_3_1_-_-_-_-\n
      ___10___+2____+3___+3___+7__Bonus Ft._7_6_4_3_2_-_-_-_-\n
      ___11___+2____+3___+3___+7__A.Will +2_7_7_5_4_3_-_-_-_-\n
      ___12___+2____+4___+4___+8____________7_7_5_4_4_1_-_-_-\n_";
HitDice: 4; Mana: 20; Def: 1/5;
Attk: 1 50,
2 50,
0 50,
3 50;
Skills[4]: 8, 10, 23,24,25,26,27,28,29,30,31,
1, 43, 34, 21,
19, 3, 9, 47;
Proficiencies: 0x00001000, 0x00000040;
Grants:
Ability[82] at every level starting at 1st,
Stati[230,0x0004,+1] at 1st level,
Stati[230,0x0004,+1] at 3rd level,
Stati[230,0x0004,+1] at 5th level,
Stati[230,0x0004,+1] at 7th level,
Stati[230,0x0004,+1] at 9th level,
Stati[230,0x0004,+1] at 12th level,
Stati[230,0x0004,+1] at 14th level,
Stati[230,0x0004,+1] at 16th level,
Stati[230,0x0004,+1] at 18th level,
Ability[84] at every level starting at 1st,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24)] at 1st level,
Feat[5] at every 5th level starting at 5th,
Stati[124,34,+1] at every level starting at 10th,
Stati[124,47,+1] at every level starting at 10th,
Stati[124,10,+1] at every level starting at 10th,
Stati[124,43,+1] at every level starting at 10th,
#line "classes.irh" 877
Ability[115,+1] at 8th level,
Ability[115,+2] at 11th level,
Ability[115,+3] at 13th level,
Ability[115,+4] at 17th level,
Ability[115,+5] at 19th level,
Stati[229,1,2] at 2nd level,
Stati[229,2,2] at 4th level,
Stati[229,3,2] at 6th level,
Stati[229,4,2] at 8th level,
Stati[229,5,2] at 10th level,
Stati[229,6,2] at 13th level,
Stati[229,7,2] at 15th level,
Stati[229,8,2] at 17th level,
Stati[229,9,2] at 19th level;
Gear:
1d4+1 $"dagger",
if (EActor->rateMeleeWeapon() < 2)
$"quarterstaff",
30d10 $"gold piece",
$"robes",
4d2 $"potion" of $"mana",
$"stone" +2 of $"channeling",
$"spellbook [Adventurers' Arts]",
$"spellbook [Fundamentals of Magick]",
random 22,
random 22,

if (EActor->HasStati(37,5))
2d4 $"scroll" of $"improved phantasmal force",
if (EActor->HasStati(37,5))
1d3+1 $"scroll" of $"spectral force",
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
$"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5,
50% $"scroll" of random 1 to 5;
Flags: 8;
#line "classes.irh" 927
On Event 150 {
hObj sbook, sbook2, sbook3;
sbook3 = ((hObj)0);
switch (EActor->GetStatiVal(37)) {
case 0: sbook = CreateItem($"spellbook [Mystic Aegis]");
sbook2= CreateItem($"spellbook [Libram of Silver Magic]");
sbook3= CreateItem($"spellbook [Secrets of Abjuration]");
break;
case 8: sbook = CreateItem($"spellbook [Place and Time]");
sbook2= CreateItem($"spellbook [Conjurations and Summonings]");
break;
case 1: sbook = CreateItem($"spellbook [Tome of Magic]");
sbook2= CreateItem($"spellbook [Tricks and Traps]");
break;
case 2: sbook = CreateItem($"spellbook [Practical Divinings]");
sbook2= CreateItem($"spellbook [Libram of Silver Magic]");
break;
case 5: sbook = CreateItem($"spellbook [Magician's Manual]");
sbook2= CreateItem($"spellbook [Tricks and Traps]");
break;
case 3: sbook = CreateItem($"spellbook [Book of Glamour]");
sbook2= CreateItem($"spellbook [Venom and Curses]");
break;
case 4: sbook = CreateItem($"spellbook [Energy Magicks]");
sbook2= CreateItem($"spellbook [Elemental Covenant]");
break;
case 6: sbook = CreateItem($"spellbook [Mastery over Death]");
sbook2= CreateItem($"spellbook [Ars Mortis]");
break;
case 7: sbook = CreateItem($"spellbook [Mortal Coil]");
sbook2= CreateItem($"spellbook [Ars Bellicus]");
break;
default:
Error("Strange specialty school in $'Mage'::EV_BIRTH!");
}
if (sbook) EActor->GainItem(sbook,true);
if (sbook2) EActor->GainItem(sbook2,true);
if (sbook3) EActor->GainItem(sbook3,true);
},
153 {
rID listID;
#line "classes.irh" 980
if (EActor->LevelAs($"mage") == 1)
switch (EActor->GetStatiVal(37)) {
case 0: EActor->GainSpell($"shield",0x0001|0x0004);
EActor->GainSpell($"mage armor",0x0001|0x0004);
break;
case 1:
#line "classes.irh" 992
EActor->GainSpell($"magic missile",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 2: EActor->GainSpell($"read magic",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 3: EActor->GainSpell($"charm person",0x0001|0x0004);
EActor->GainSpell($"shield",0x0001|0x0004);
break;
case 4: EActor->GainSpell($"magic missile",0x0001|0x0004);
EActor->GainSpell($"shield",0x0001|0x0004);
break;
case 5: EActor->GainSpell($"phantasmal force",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 6: EActor->GainSpell($"minor drain",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
case 7: EActor->GainSpell($"false life",0x0001|0x0004);
EActor->GainSpell($"convulsion",0x0001|0x0004);
EActor->Proficiencies |= 0x00010000;
break;
case 8: EActor->GainSpell($"monster summoning i",0x0001|0x0004);
EActor->GainSpell($"phase door",0x0001|0x0004);
break;
}
#line "classes.irh" 1046
switch(EActor->GetStatiVal(37))
{
case 0: listID = $"Abjurer";
if (EActor->LevelAs($"mage") % 3 == 1) {
if (EActor->LevelAs($"mage") == 1)
EActor->GainPermStati(113,NULL,
4,52,1,$"mage",0);
else
EActor->IncEffStatiMag(113,
$"mage",7,NULL,+1);
}
break;
case 1: listID = $"Arcanist";
break;
case 2: listID = $"Diviner";
EActor->GainBonusSkills($"mage",3);
if (EActor->LevelAs($"mage") % 4 == 0) {
if (EActor->LevelAs($"mage") == 4)
EActor->GainPermStati(108,NULL,
4,3,1,$"mage",0);
else
EActor->IncEffStatiMag(108,$"mage",
4,NULL,+1);
}
break;
case 3: listID = $"Enchanter";
if (EActor->LevelAs($"mage") == 1)
{
EActor->GainPermStati(32,NULL,
4,11,0,$"mage",0);
EActor->GainAbility(7,
1,$"mage",4);
}
break;
case 4: listID = $"Evoker";
if (EActor->LevelAs($"mage") % 2 == 0) {
if (EActor->LevelAs($"mage") == 2)
EActor->GainPermStati(113,NULL,
4,38,1,$"mage",0);
else
EActor->IncEffStatiMag(113,
$"mage",7,NULL,+1);
}
break;
case 5: listID = $"Illusionist";
if (EActor->LevelAs($"mage") == 1)
{
EActor->GainPermStati(32,NULL,
4,6,0,$"mage",0);
EActor->GainPermStati(32,NULL,
4,36,0,$"mage",0);
EActor->GainPermStati(32,NULL,
4,38,0,$"mage",0);
EActor->GainPermStati(32,NULL,
4,12,0,$"mage",0);
}
if (EActor->LevelAs($"mage") == 2)
EActor->GainPermStati(124,NULL,
4, 19,1,$"mage",0);
else if (EActor->LevelAs($"mage") % 2 == 0)
EActor->IncEffStatiMag(124,$"mage",
4,((hObj)0),+1);
break;
case 6: listID = $"Necromancer";
if (EActor->LevelAs($"mage") == 1)
{
EActor->GainPermStati(45,NULL,
4,4,1,$"mage",0);
EActor->GainPermStati(123,NULL,
4,11,2,$"mage",0);
EActor->GainPermStati(32,NULL,
4,39,0,$"mage",0);
}
else
EActor->IncEffStatiMag(45,$"mage",
4,NULL,+1);
break;
case 7: listID = $"Thaumaturge";
EActor->Proficiencies |= 0x00010000;
break;
case 8: listID = $"Weaver";
if (EActor->LevelAs($"mage") == 1)
EActor->GainPermStati(79,NULL,
4,(52+500),0,$"mage",0);
break;
}
if (EActor->LevelAs($"mage") == 1)
EActor->GainPermStati(230,NULL,4,0x0004,1,listID);
else
EActor->SetEffStatiMag(230,listID,EActor->LevelAs($"mage"));
return 0;
},
((52+500)+10000) {
if (e.eID == $"phase door" || e.eID == $"dimension door" ||
e.eID == $"teleport" || e.eID == $"shadow shifting" ||
e.eID == $"teleportation")
e.MM |= 0x00000020;
return 0;
};
Lists:
* 21
(50 + 1000)
2 $"call light" $"vigor"
3 $"death knell"
5 $"animate dead"
6 $"death ward"
$"ethereal jaunt"
$"create corporeal undead"
7 $"create spectral undead"
8 $"etherealness";
}

Class "Abjurer"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000001)
1 $"sanctuary" $"detect evil"
2 $"shield other" $"glyph of warding"
3 $"remove curse" $"negative plane protection"
4 $"death ward" $"free action;spell" $"spell immunity"
5 $"magic resistance" $"dispel evil"
6 $"antilife shell" $"glyph of warding, greater";
}

Class "Arcanist"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000002);
}

Class "Diviner"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000004)
2 $"detect monsters";
}

Class "Enchanter"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000008)
2 $"enthrall";
}

Class "Evoker"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000010);
}

Class "Illusionist"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000020);
}

Class "Necromancer"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000040)
1 $"death knell"
3 $"animate dead"
4 $"necrosynthesis"
5 $"create corporeal undead"
5 $"create spectral undead";
}

Class "Thaumaturge"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000080);
}

Class "Weaver"
{
Flags: 12;
Lists:
* 21
100 (50) (0x00000100)
4 $"ethereal jaunt"
6 $"etherealness";
}

Class "Monk"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_<9>FRW<1>_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      \n<2>__An asectic mystic, the monk disciplines his mind, body and spirit to
      perform incredible feats. Monks uphold the traditions of mysticism and martial
      arts in the Kinlands, and their practices and rituals date back nearly two
      millenia. Once, at least in mythology, all monks were united in perfect worship 
      of Immotian, but that unity has long since been lost, and now every monastary
      teaches a different ideology and tradition of worship. A monk owes absolute
      loyalty to his monastary and his patron father, at least in theory.
      \n__In addition to their legendary prowess with martial arts, monks practice
      calligraphy, meditative trances, lucid dreaming and scholarship. Monastaries
      boast private libraries that often rival the largest government institutions
      of major cities, and these private collections often boast mystical works that
      have long since been lost to the public eye. Despite their spiritual focus,
      there is a great deal of worldly politics at the higher levels of the average
      monastary. Some are xenophobic, others militant, but no elder monk is unaware
      of the degree of real power their mystic secrets and martial skill gives them
      in the world.\n\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the monk are Alchemy, Appraise, Athletics, Balance, 
      Climb, Decipher Script, Diplomacy, Escape Artist, Find Weakness, Healing, 
      Hide, Jump, Knowledge (Mythology, Nature, Planes, Theyra and Theology), 
      Listen, Move Silently, Poison Use, Spot and Tumble.

      \n\n<10>CLASS FEATURES<2>\n
      __All of the following are class features of the monk.\n
      __*_<7>Proficiencies<2> -- Monks are proficient with staves, thrown
      weapons and their own special catagory of martial weapons. They have no
      proficiency with any type of armor or shields.\n
      __*_<7>Unarmed Attack<2> -- Monks do not provoke an attack of opportunity
      when they attack an armed foe unarmed. In addition, they inflict additional
      damage with their bare-hand attacks, as shown on the class table below.
      Monks that have a natural attack sequence (i.e., lizardfolk and kobolds)
      can choose to punch and kick as human monks do, or to use their natural
      attack sequence and gain a +1 inherant bonus to hit and damage using their
      natural attacks every even monk level. This choice is made on the tactical
      options panel.\n
      __*_<7>Stun Attack<2> -- A monk's attacks have a chance of stunning their
      opponent. Whenever a monk scores a critical hit or performs a Great Blow,
      or on 1 in 3 randomly chosen normal attacks, an enemy who is hit must make
      a Fortitude saving throw against a DC of 10 + 1/2 the monk's level + the
      monk's Wisdom modifier, or be stunned for 1d4+1 rounds.\n
      __*_<7>Flurry of Blows<2> -- At the cost of one fatigue point, a monk can
      perform a Flurry of Blows, increasing her unarmed speed, and speed when using
      martial weapons, by 100~ for (10 + Wisdom modifier) rounds. The monk suffers a
      -2 penalty to her attacks while flurrying; this decreases to -1 at 5th level
      and to nothing at 9th.\n
      __*_<7>Increased Move<2> -- Monks inherantly move faster than other creatures.
      A monk recieves a +20~ bonus to her movement rate at every odd level starting
      at 3rd.\n
      __*_<7>Evasion<2> -- Starting at 1st level, when a monk successfully
      makes a Reflex saving throw against an area-effect attack that allows
      a Reflex save for half damage (such as a dragon's fiery breath or a 
      mage's <9>lightning bolt<2>), he takes no damage at all. At 9th level
      and above, the monk takes only half damage on a failed Saving Throw.\n
      __Levels of this ability from the monk and rogue classes stack.\n
      __*_<7>Zen Defense<2> -- At 1st level, the monk recieves the Zen Defense feat
      for free. This allows her to add her Wisdom modifier, if positive, to her
      defense class.\n
      __*_<7>Deflect Arrows<2> -- At 2nd level, the monk recieves the Deflect Arrows
      feat for free, even if she does not meet the normal prerequisites.\n
      __*_<7>Still Mind<2> -- At 3rd level, the monk gains a +2 bonus to saving throws
      versus enchantment effects, representing her superior mental discipline.\n
      __*_<7>Slow Fall<2> -- Starting at 4th level, the monk gains the ability to
      avoid or reduce falling damage. She takes 5 points off of all falling damage
      at 4th level, and an additional 5 points every even level thereafter.\n
      __*_<7>Master Trip, Disarm<2> -- The monk recieves the Master Trip
      and Master Disarm feats for free at 5th level.\n
      __*_<7>Purity of Body<2> -- Upon reaching 6th level, the monk learns to purify
      her body completely, and is forever after completely immune to diseases.\n
      __*_<7>Leap of the Clouds<2> -- Upon reaching 7th level, the monk attains a
      mystical prowess at jumping, gaining a +10 competance bonus to all Jump skill
      rolls.\n
      __*_<7>Wholeness of Body<2> -- Also beginning at 7th level, the monk is able
      to heal injuries to her body through meditative exercizes. At the cost of four
      fatigue points, the monk may heal three times her full character level in hit
      points simply by focusing her mind.\n
      __*_<7>Diamond Body<2> -- Starting at 10th level, the monk has perfected her
      body to the extent that she is completely immune to poisons of all kinds.\n
      __*_<7>Abundant Step<2> -- At 11th level, the monk gains the ability to use
      <9>dimension door<2> at will as a spell-like ability.\n
      __*_<7>Transcendant Sight<2> -- at 12th level, the monk gains the inherant
      ability to see invisible creatures.\n
      __*_<7>Small Monks<2> -- Starting at 3rd level, monks of races who are
      naturally Small size (kobolds, gnomes and halflings) learn to use the size of
      other races against them, and recieve the Redirect Attack feat for free. Monks
      that are Medium-sized or larger do not gain this benefit.\n
      __Small monks also never suffer a penalty to damage when fighting unarmed
      as a result of a low Strength score.\n      
      __Finally, Small races recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.
      __*_<7>Starting Benefits<2> -- Monks start with a sizable stock of potions of 
      dimension door, robes, a martial arts melee weapon (quarterstaff, fighting
      stick or 2 nunchaku) and a chakram. Evil monks also begin with a randomly
      chosen vial of poison.
      \n\n<10>THE MONK<15>\n
      _Level__Def__Fort_Refl_Will_Damage_Special Abilities<1>\n
      ___1____+0____+2___+2___+2___1d6___Evasion, Zen Defense\n
      ___2____+1____+3___+3___+3___1d8___Deflect Arrows      \n
      ___3____+1____+3___+3___+3___1d10__Still Mind, Redirect\n
      ___4____+2____+4___+4___+4___1d10__Slow Fall, Ki St. +1\n
      ___5____+2____+4___+4___+4___1d12__Master Trip,        \n
      ___________________________________Master Disarm       \n
      ___6____+3____+5___+5___+5___1d12__Purity of Body      \n
      ___7____+3____+5___+5___+5___4d4___Leap of the Clouds, \n
      ___________________________________Wholeness of Body   \n
      ___8____+4____+6___+6___+6___4d4___Ki Strike +2        \n
      ___9____+4____+6___+6___+6___3d6___Improved Evasion    \n
      ___10___+5____+7___+7___+7___3d6___Diamond Body        \n
      ___11___+5____+7___+7___+7___1d20__Abundant Step       \n
      ___12___+6____+8___+8___+8___1d20__Transcendant Sight  \n";
#line "classes.irh" 1377
HitDice: 8; Mana: 4; Def: 1/2;
Attk: 1 100,
2 75,
3 75,
0 75;
Skills[6]: 1, 4, 5, 7, 10, 11,
13, 14, 17, 18, 22, 26,
23, 30, 27, 29,
32, 36, 39, 3, 44, 46;
Proficiencies: 0x00000040, 0x00002000, 0x00000100;
Grants:
Ability[99] at every level starting at 1st,
Ability[114] at every 4th level starting at 1st,
Ability[41,+2] at every level starting at 1st,
Ability[89] at every level starting at 1st,
Ability[31] at every level starting at 1st,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42)] at 1st level,
Feat[(((49 + 1) + 32) + 30)] at 2nd level,
Stati[123,6,+2] at 3rd level,
Stati[113,26,+4] at every 2nd level starting at 3rd,
Ability[77] at every 2nd level starting at 4th,
Feat[((((((49 + 1) + 32) + 50) + 38) + 30) + 25)] at 5th level,
Feat[((((((49 + 1) + 32) + 50) + 38) + 30) + 22)] at 5th level,
Stati[177,27] at 6th level,
Ability[108] at 7th level,
Stati[124,22,+10] at 7th level,
Stati[177,60] at 10th level,
Ability[44,$"dimension door"] at 11th level,
Stati[101] at 12th level;
Flags: 6, 7, 8, 1, 16;
Gear:
if (!EActor->isSmallRace())
33% $"quarterstaff" else
50% 2d1 $"nunchaku" else
2d1 $"fighting stick",
$"chakram",
$"robes",
if (EActor->isMType(103) && !EActor->isMType(104))
1d3 $"small glass vial" of random 2 to 4,
4d4 $"potion" of $"dimension door";
On Event 153 {
if (EActor->LevelAs($"monk") == 3)
if (EActor->isSmallRace())
EActor->GainFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 10));
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"monk",4);
return 0;
},
150 {
String str;
switch (1d20)
{
case 1: str = "Scarlet"; break;
case 2: str = "Ebon"; break;
case 3: str = "Righteous"; break;
case 4: str = "Jade"; break;
case 5: str = "Iron"; break;
case 6: str = "Excelent"; break;
case 7: str = "Graceful"; break;
case 8: str = "Unfolding"; break;
case 9: str = "Revealed"; break;
case 10: str = "Ivory"; break;
case 11: str = "Harmonious"; break;
case 12: str = "Furious"; break;
case 13: str = "Transcendant"; break;
case 14: str = "Resplendant"; break;
case 15: str = "River"; break;
case 16: str = "Flawless"; break;
case 17: str = "Immaculate"; break;
case 18: str = "August"; break;
case 19: str = "Fivefold"; break;
case 20: str = "Eightfold"; break;
}
str += "_";
switch(1d20)
{
case 1: str += "Lotus"; break;
case 2: str += "Crysanthemum"; break;
case 3: str += "Sword"; break;
case 4: str += "Sutra"; break;
case 5: str += "Rain"; break;
case 6: str += "Dragon"; break;
case 7: str += "Tiger"; break;
case 8: str += "Phoenix"; break;
case 9: str += "Tempest"; break;
case 10: str += "Devil"; break;
case 11: str += "Crane"; break;
case 12: str += "Monkey"; break;
case 13: str += "Shadow"; break;
case 14: str += "Ghost"; break;
case 15: str += "Mask"; break;
case 16: str += "Serpent"; break;
case 17: str += "Sage"; break;
case 18: str += "Lion"; break;
case 19: str += "Fox"; break;
case 20: str += EActor->StateFlags & 0x0004 ?
"Princess" : "Prince";
}
EActor->Named = str;
};
Lists:
* 33
$"Aiswin" $"Essiah" $"Hesani" $"Immotian" $"Mara"
$"The Multitude" $"Xavias";
}



Class "Paladin"
{
Desc: "
      <15>HitDie:_<1>d10_<15>Mana:<1>_d8__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>100~<1>, Thrown <9>75~<1>\n
      <2>\n\tLike Priests, Paladins are holy warriors, and they share the most
      kinship with that class, but they are not the masterful theurgists that 
      their contemporaries are. Though deeply religious, they draw their power
      primarily from the metaphysical force of good itself. Seeming to be the
      very embodiement of virtue, the Paladin lives by a rigourous code but
      shines brighter than the sun itself, an example to all those around them.
      Paladins are exceedingly rare in contrast to the other classes, each 
      being a personally selected champion of virtue.
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the paladin are Appraise, Athletics, Concentration, 
      Craft, Diplomacy, Healing, Knowledge (Planes, Theology, Theyra and Undead), 
      Ride and Seneschal.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the paladin.
      \n__*_<7>Proficiencies<2> -- Paladins are proficient with simple weapons,
      long blades, polearms, lances and flails, as well as with all categories of
      armor.
      \n__*_<7>Lay on Hands<2> -- At will, a paladin can lay his hands upon himself
      or another living creature, causing them to heal hit points of damage equal
      to 2d6 plus his level multiplied by his primary Charisma modifier plus two 
      (minimum 1). This healing costs two fatigue points, but no mana.
      \n__*_<7>Divine Grace<2> -- The paladin benefits from an extraordinary, sacred
      protection from harm. His primary Charisma modifier (if any) is added as a
      grace bonus to all of his saving throws. This ability is gained at 2nd level.
      \n__*_<7>Divine Health<2> -- A paladin is immune to all diseases, except for
      those gained from eating the corpses of fallen foes (which isn't very paladin-like
      anyway. Starting at 3rd level, the paladin gains the spell <9>Cure Disease<2> as 
      an innate spell-like ability.
      \n__*_<7>Detect Evil<2> -- Paladins can cast the spell <9>Detect
      Evil<2> as an innate ability, allowing them to locate all evil
      creatures within 250 feet (25 squares).
      \n__*_<7>Smite Evil<2> -- Whenever a paladin performs a Great Blow maneuver
      against an evil creature, he adds his Charisma bonus (if any) to the attack
      roll, and if he hits he also adds his paladin level to the damage that he
      inflicts.
      \n__*_<7>Aura of Valor<2> -- Starting at second level, a paladin is immune to
      fear, and grants any allies within 3 squares of him a +1 bonus to save versus
      fear effects for every even paladin level he possesses. This ability is innate
      and always active.
      \n__*_<7>Turn Undead<2> -- Starting at third level, a paladin may turn undead
      just as a priest of two levels lower does.
      \n__*_<7>Divine Magic<2> -- Starting at 4th level, the paladin is able to cast
      a limited number of divine spells. He recieves one divine casting level for
      every even paladin level thereafter.
      \n__*_<7>Sacred Mount<2> -- Starting at 5th level, the paladin can summon a
      specially-bonded mount from the Upper Planes to serve him in the corporeal
      world. This creature usually has the celestial template, as well as a +10
      sacred bonus to it defense class. Paladins start out with a celestial
      warhorse (or something similar as suits their race) for a sacred mount. If
      the mount is slain in combat, it vanishes rather than truly dying, and can
      be summoned back by the paladin after resting.\n
      __At 7th, 9th and 11th level, the paladin recieves the ability to summon
      superior, mythic creatures as mounts. The creature the paladin recieves is
      fixed based on his race, but rumors speak of holy knights riding upon even
      young dragons as their steeds...
      \n__*_<7>Small Paladins<2> -- It's unusual for members of the Small races
      to become paladins -- the class's focus on head-on confrontation and
      resolute fortitude isn't the best match for their usual methodology. To
      offset this weakness, the gods grant a special boon to members of the
      Small races who show the courage and resilience to become paladins, granting
      them a +1 sacred bonus to melee damage and inherant armor at 2nd, 4th, 6th, 
      9th, 12th and 16th levels.
      __Small races also recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.
      \n__*_<7>Starting Benefits<2> -- Paladins start with a +1 sword (a small long 
      sword for small races, otherwise a long sword), a light lance, a kite shield
      (or buckler for small races), potions of healing, vials of holy water, a holy 
      symbol, noble attire and a suitable mount. Their best melee weapon gains the 
      Holy quality.
      \n\n<10>THE PALADIN<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__Lay on Hands,\n
      _____________________________Smite Evil, Immune\n
      _____________________________to Diseases\n
      ____2____+0____+3___+0___+3__Aura of Valor,\n
      _____________________________Divine Grace\n
      ____3____+0____+3___+1___+3__Turn Undead,\n
      _____________________________Cure Disease\n
      ____4____+1____+4___+1___+4__+1 caster level\n
      ____5____+1____+4___+1___+4__Sacred Mount I\n
      ____6____+1____+5___+2___+5__+1 caster level\n
      ____7____+1____+5___+2___+5__Sacred Mount II\n
      ____8____+2____+6___+2___+6__+1 caster level\n
      ____9____+2____+6___+3___+6__Sacred Mount III\n
      ____10___+2____+7___+3___+7__+1 caster level\n
      ____11___+2____+7___+3___+7__Sacred Mount IV\n
      ____12___+3____+8___+4___+8__+1 caster level\n\n";
HitDice: 10; Mana: 8; Def: 1/4;
Attk: 1 75,
2 100,
3 75,
0 75;
Skills[4]: 4, 9, 11, 3,
17, 30, 29, 31,
23, 40, 8, 42;
Proficiencies: 0x00000001, 0x00000008, 0x00000200, 0x00000800, 0x00020000,
0x00000400;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Feat[((49 + 1) + 12)] at 1st level,
Feat[((49 + 1) + 13)] at 1st level,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 29)] at 1st level,
Ability[44,$"detect evil"] at 1st level,
Ability[49] at 1st level,
Ability[5] at every level starting at 2nd,
Ability[25] at 2nd level,
Ability[97,76] at every level starting at 3rd,
Ability[79,103] at every level,
Stati[177, 27] at 1st level,
Stati[177, 28] at 2nd level,
Ability[70] at every level starting at 1st,
Ability[82] at every 2nd level starting at 4th,
Stati[230,0x0008,+1] at every level starting at 3th,
Ability[44,$"Cure Disease"] at 3rd level;
Gear:
if (EActor->rateMeleeWeapon() >= 3)
$"gold piece" else
if (EActor->isMType(63))
$"warhammer" +1 else
if (EActor->isSmallRace())
$"small long sword" +1 else
$"long sword" +1,
$"light lance",
if (EActor->isSmallRace())
$"buckler;wooden" else
$"kite shield",
$"noble attire",
2d10 $"gold piece",
2d2 $"Potion" of $"Healing",
3d6 blessed $"flask" of $"Water";
Flags: 1, 6, 8, 3, 2,
9;
On Event 150 {
hObj h; int32 given;
EActor->GainAbility(44,(int32)($"mount"),$"mount",4);
given = false;
if (EActor->rateMeleeWeapon() >= 3) {
h = EActor->getPrimaryMelee();
if (h->QualityOK(1) && (h->iID != $"light lance")
&& (h->iID != $"knife"))
{
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
h->SetInherantPlus(max(1,h->GetInherantPlus()));
}
}
if (EActor->isMType(62) && !given) {
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(24) && !given) {
h->SetInherantPlus(max(1,h->GetInherantPlus()));
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
}
}
else if (EActor->isMType(63) && !given) {
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isGroup(0x00000010|0x00000080) && !given && (h->iID != $"pickaxe")) {
h->SetInherantPlus(max(1,h->GetInherantPlus()));
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
}
}
if (!given)
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isGroup(0x00000008) && !given) {
h->SetInherantPlus(max(1,h->GetInherantPlus()));
h->AddQuality(1);
h->IFlags |= 0x0001;
given = true;
}
return 0;
},
153 {
if (EActor->isSmallRace())
{
if (EActor->LevelAs($"paladin") == 2)
{
EActor->GainPermStati(107,NULL,
4,22,+1,$"paladin",0);
EActor->GainPermStati(107,NULL,
4,24,+1,$"paladin",0);
EActor->GainPermStati(107,NULL,
4,17,+1,$"paladin",0);
}
else if (EActor->LevelAs($"paladin") == 4 ||
EActor->LevelAs($"paladin") == 6 ||
EActor->LevelAs($"paladin") == 9 ||
EActor->LevelAs($"paladin") == 12 ||
EActor->LevelAs($"paladin") == 16)
{
EActor->IncStatiMag(107,4,22,NULL,+1);
EActor->IncStatiMag(107,4,24,NULL,+1);
EActor->IncStatiMag(107,4,17,NULL,+1);
}
}
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"paladin",4);
};
Lists:
* 21
1 $"bless" $"call light" $"magic weapon" $"create water"
$"cure light wounds" $"detect undead" $"divine favor"
$"divine sacrifice" $"protection from evil" $"shield of faith"
$"slow poison"
2 $"aid" $"bull's strength" $"consecrate" $"draw upon holy might"
$"heal mount" $"free action;spell" $"resist fire"
$"resist cold" $"resist acid" $"shield other" $"spiritual hammer"
$"cure moderate wounds" $"chant" $"zeal"
3 $"dispel magic" $"dispel evil" $"create food and water"
$"magic circle vs. evil" $"magic circle vs. undead" $"prayer"
$"negative plane protection" $"cure serious wounds"
4 $"cure critical wounds" $"death ward" $"holy sword"
$"neutralize poison" $"holy smite" $"dimensional anchor"
$"invocation" $"magic resistance" $"disrupting weapon"
5 $"righteous might" $"banishment" $"raise dead" $"true seeing"
$"commune" $"undeath to death"
6 $"blade barrier" $"heal;spell" $"heroes' feast" $"word of recall",
* 33
$"Ekliazeh" $"Erich" $"Immotian" $"Kysul" $"Mara" $"Semirath" $"Xavias";

}

0 Effect "Aura of Valor" : 2
{ aval: 9; lval: 3; cval: 15;
xval: 123; yval: 11; pval: +4;
tval: 109; rval: 0x00000002|0x00000004;
Purpose: 0x00010;
Flags: 4, 54;
On Event
175
"You feel a sacred courage come over you.",
84
{
if (GetHandle(EActor) != GetHandle(EVictim))
EVictim->IPrint("The unearthly valor passes.");
return 0;
},
205 "AValor";
}

Class "Priest"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n__The servants of the gods are as many and varied as the gods
      themselves, each deticated heart and soul to the ethos of his
      patron. Yet the adventuring priest is not a casual minister or
      greedy cleric, but a holy warrior and sacred theurgist rolled into
      one package. Working closely with the (far rarer) paladins, priests
      do the will of their diety by pushing forth civilization and 
      carrying the Word into the deepest night to bright light from
      darkness. Adventuring priests often consider themselves to be the
      special foes of undead, whom they hunt relentlessly; less benevolant
      priests extend this attitude to witches as well.
      \n__The priest casts divine spells, which focus on empowerment,
      healing, divination, protection and the support of the group more
      than on direct power. He gains access to domains that allow
      him extra themed spells and special powers in line with his god's
      portfolio -- a harvest-priest is quite different from a battle-
      priest. Priests are also competant warriors -- not as skilled as 
      the militant classes, but above the likes of mages, bards or rogues.
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the priest are Appraise, Concentration, Craft, 
      Diplomacy, Healing, Metamagic, Seneschal, Spellcraft, and Theology.
      Priest characters may also recieve certain bonus class skills, if their
      god offers them one or more Domains that grant such.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the priest.\n
      __*_<7>Proficiencies<2> -- Priests are proficient with simple weapons,
      impact weapons, flails and light or medium armor. Each priest is also 
      proficient with the one specific weapon that is a chosen weapon of his 
      diety.\n
      __*_<7>Spellcasting<2> -- Priests cast divine spells from the priest
      spell list, which focuses on healing, divination, protection and the
      augmentation of combat ability. They recieve one spellcasting level
      for every class level, and learn spells simply by praying -- priests
      have no need for spellbooks. A priest
      must have his holy symbol equipped in the amulet slot or in a hand
      slot in order to cast spells, however.\n
      __*_<7>Domains<2> -- Every god has a portfolio, a sphere of influence
      over which he has authority. This protectorate is described in game
      terms by two Domains that the diety grants to his priests. Each
      Domain gives a priest a special granted power, as well as nine spells,
      one of each spell level. As soon as the priest reaches the class level
      to be able to cast a certain level of spell, she may spend spell
      slots to learn the two spells of the appropriate level from her god's
      Domains. Priests gain one extra spell slot per known spell level and
      this extra spell slot is typically used to learn a domain spell.\n
      __*_<7>Turn Undead<2> -- By channeling positive energy and holy
      eminations, a priest can rattle, terrify, wound or even annihilate
      undead creatures.  Turning undead costs the priest three fatigue
      points, and may have a variety of baneful effects on all nearby
      undead, based on the level of the priest in contrast with the power
      of the undead he is trying to affect.\n
      __Evil priests rebuke or command undead, not turn them, but all player
      character priests in this release of Incursion are assumed to be good
      or neutral aligned -- even if they worship and evil god. Priest and
      paladin levels stack together for the purposes of turning undead.\n
      __*_<7>Starting Benefits<2> -- 
      Priests start with a mace, their diety's chosen weapon, potions of 
      healing and vials of holy water. All priest starting weapons are 
      blessed.
      
      \n\n<10>THE PRIEST<15>__________________<15>Spells Known\n
      _Level_Def_Fort_Refl_Will__1___2___3___4___5___6___7<1>\n
      ___1___+0___+2___+0___+2__1+3__-___-___-___-___-___-\n
      ___2___+0___+3___+0___+3__2+3__-___-___-___-___-___-\n
      ___3___+0___+3___+1___+3__2+3_1+3__-___-___-___-___-\n
      ___4___+1___+4___+1___+4__3+3_2+3___-__-___-___-___-\n
      ___5___+1___+4___+1___+4__3+3_2+3_1+3__-___-___-___-\n
      ___6___+1___+5___+2___+5__4+3_3+3_2+3__-___-___-___-\n
      ___7___+1___+5___+2___+5__5+3_4+3_3+3_1+3__-___-___-\n
      ___8___+2___+6___+2___+6__6+3_5+3_3+3_2+3__-___-___-\n
      ___9___+2___+6___+3___+6__6+3_6+3_3+3_3+3_1+3__-___-\n
      ___10__+2___+7___+3___+7__7+3_6+3_4+3_3+3_2+3__-___-\n
      ___11__+2___+7___+3___+7__7+3_7+3_5+3_4+3_3+3__-___-\n
      ___12__+3___+8___+4___+8__7+3_7+3_5+3_4+3_4+3_1+3__-\n
      __(Note that priests do recieve 8th and 9th level
      spells at the same rate mages do, along with three
      bonus 8th and three bonus 9th level spells -- there
      just isn't room to show this on the chart.)\n";

HitDice: 8; Mana: 12; Def: 1/4;
Attk: 1 75,
2 75,
3 75,
0 75;
Skills[4]: 8, 9, 17, 21, 30,
31, 34, 42, 43;
Proficiencies: 0x00000001, 0x00000080, 0x00020000, 0x20000000, 0x40000000;
Grants:
Ability[82] at every level starting at 1st,
Stati[230,0x0008,+1] at every level starting at 1st,
Ability[23] at every level starting at 1st;
Flags: 1, 6, 8;
Gear:
if (EActor->isSmallRace())
$"light mace" else
$"heavy mace",
3d8 blessed $"flask" of $"water",
4d2 $"potion" of $"healing",
10d10 $"gold piece",
$"clerical vestment";
On Event (150+500) {
hObj h; rID wID;
wID = (rID) (EActor->GodID)->GetConst(135);
if (wID != ((rID)0)) {
h = CreateItem(wID);
h->MakeKnown(0xFF);
EActor->GainItem(h,true);
}
return 0;
},
150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(58) || h->isType(24) ||
h->isType(21) || h->isType(51))
h->IFlags |= 0x0001;
return 0;
},
153 {
int32 turntype; rID wID;
#line "classes.irh" 1873
if (EActor->LevelAs($"priest") == 1) {
EActor->GainSpell($"bless",0x0001|0x0008);
EActor->GainSpell($"cure light wounds",0x0001|0x0008);
wID = (rID) (EActor->GodID)->GetConst(135);
if (wID != ((rID)0)) {
if (EActor->WepSkill(wID) < 1)
EActor->GainPermStati(30,NULL,4,1,0,wID);
}

}

turntype = 0;
if (!EActor->GodID)
Error("Priest has no god!");

if (ResourceHasFlag(EActor->GodID,11) || EActor->isMType(62))
turntype = 1;
else if (ResourceHasFlag(EActor->GodID,12))
turntype = 2;
else if (ResourceHasFlag(EActor->GodID,1) || ResourceHasFlag(EActor->GodID,6))
turntype = 1;
else if (ResourceHasFlag(EActor->GodID,4) || ResourceHasFlag(EActor->GodID,7))
turntype = 2;
else if (EActor->isMType(106))
turntype = 1;
else if (EActor->isMType(103))
turntype = 2;
else if (EActor->HasEffStati(33,$"priest"))
turntype = 1;
else if (EActor->HasEffStati(35,$"priest"))
turntype = 2;
else if (EActor->ChoicePrompt("Do you want to turn or command undead?", "tc", 't') == 't')
turntype = 1;
else
turntype = 2;

if (turntype == 1)
{
if (EActor->HasEffStati(33,$"priest"))
EActor->SetStatiMag(33,76,NULL,
EActor->GetStatiMag(33,76,NULL) + 1);
else
EActor->GainPermStati(33,NULL,4,76,1,$"priest");
}
else if (turntype == 2)
{
if (EActor->HasEffStati(35,$"priest"))
EActor->SetStatiMag(35,76,NULL,
EActor->GetStatiMag(35,76,NULL) + 1);
else
EActor->GainPermStati(35,NULL,4,76,1,$"priest");
}
else
Error("Illegal turntype in priest::EV_ADVANCE!");

return 0;
};
Lists:
* 21
(52 + 1000)
5 $"air walk";
}




Class "Ranger"
{
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d8__<15>Skills:<1>_8_<15>Saves:<1>_<9>FR<1>w_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>75~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>\n\tThe hunter, the archer, the woodsman, the explorer, the tracker,
      the forester -- all these have the seeds of a Ranger in them, but a
      Ranger exceed them all. The superlative masters of the woodlands, the
      Ranger combines stealth, nature skill and martial prowess into a deadly,
      effective package. Heroic Rangers often act as the hand of the law outside of
      the cities, protecting innocent villages from the depridations of vile
      humanoids, while others stalk and hunt men in one form or another, or
      simply remove themselves from society utterly to commune with nature.
      \n\tThe Ranger is a formidable fighter. Rangers have a variety of 
      wilderness-oriented skills, including the valued stealth skills, and 
      diverse special abilities to aid their role: tracking, bonuses against 
      studied enemies, weapon skill, traceless passage, bonus combat feats 
      oriented toward archery and two weapon-fighting and a dabbling of 
      nature-oriented magics at the higher levels.
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the ranger are Animal Empathy, Climb, Craft,
      Find Weakness, Healing, Hide, Intuition, Jump, Knowledge (Nature),
      Knowledge (Oceans), Knowledge (Theyra), Listen, Move Silently, 
      Ride, Search, Spot, Swimming and Wilderness Lore.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the ranger.\n
      __*_<7>Proficiencies<2> -- Rangers are proficient with all simple
      weapons, long blades, short blades, axes, archery, thrown weapons, 
      staves and spears, and with light armor and shields.\n
      __*_<7>Animal Companions<2> -- Rangers can tame animals using their
      Animal Empathy class skill, and if successful add those companions
      to their adventuring party. A ranger character recieves a free 'buffer'
      of (approximately) two hit dice per ranger level for animal companions; 
      these hit dice worth of animals do not count toward the total hit dice 
      of the party for purposes of party loyalty checks or gaining new party 
      members.\n
      __Levels of this ability from the druid and ranger classes stack.\n
      __*_<7>Tracking<2> -- The ranger's tracking ability is a combination
      of mundane tracking skill, keenly honed intuition and a mystical kind
      of insight. Once a ranger of 2nd level or higher somehow notices a 
      creature (via normal sight, scent, infravision, or whatnot), she 
      begins tracking it.
      Thereafter it will always appear on the map even if it is not in the
      ranger's direct field of vision. The monster's location will be known
      as long as it is within 100 feet (10 squares) of the ranger and no
      more than 10 turns have passed. These limits increase by 20 feet (2
      squares) and 2 turns with each additional ranger level. Since this
      is a partially mystical ability, it will even allow the ranger to
      keep track of a creature that has teleported or shifted into another
      plane and it will allow the ranger to track creatures with her eyes
      closed. Since the creature must be noticed initially before tracking can
      take place, a well-honed Spot skill is important. Tracked enemies can
      be targeted with spells or arrows (etc.) even if they are out of the
      range of normal sight.\n
      __*_<7>Lore of Arms<2> -- Like warriors, rangers are extremely well
      versed in the ins and outs of weapons. Every <10>even<2> level as a
      ranger counts as a warrior level would for advancing this ability
      (which is described under the warrior class), and ranger and warrior
      levels in Lore of Arms stack.\n
      __*_<7>Favored Enemies<2> -- The ranger is at heart a hunter, and she
      makes a practice of knowing her enemies. By studying different types of
      creatures estensively, the ranger gains bonuses in combat against those
      she specializes in stalking. These bonus begin at +1 to hit and damage
      and increase by +1 for every 4 full ranger levels.\n
      __A ranger begins with one favored enemy, and gains another at every fifth
      ranger level.\n 
      __*_<7>Woodland Stride<2> -- Starting at 3rd level, a ranger's movement
      rate is never modified negatively by the terrain she is standing on (as
      with brambles, hedges, rubble or webbing).\n
      __*_<7>Combat Style<2> -- Starting at 1st level, rangers must choose one
      of the three ranger combat styles: archery, skirmish or two-weapon. Based
      on their choice, they recieve pre-set bonus feats at 1st, 3rd, 7th, 11th
      and 15th level. If they already have a feat inherantly, they recieve the
      next one in the progression; if the progression is complete and the ranger
      gains a bonus feat, they will gain one of the following instad: Woodsman,
      Endurance, Alertness, Toughness. Rangers do not need to meet the prerequisites 
      for feats gained from their combat style, but the feats only function if 
      the ranger is wearing light or no armor.\n
      __<10>Archery<2> -- This combat style gives the ranger the Rapid Shot feat
      at 1st, the Point-Blank Shot feat at 3rd, Defensive Shot at 7th, Zen 
      Archery at 11th and Aimed Shot at 15th.\n
      __<10>Two-Weapon<2> -- This combat style gives the ranger the Two-Weapon
      Style feat at 1st, the Ambidexterity feat at 3rd, Defensive Synergy at 7th, 
      Two-Weapon Tempest at 11th and Twin Weapon Style at 15th.\n
      __<10>Skirmish<2> -- This combat style gives the ranger the Sneaky feat at
      1st, the Backstab feat at 3rd, the Expert Tactician feat at 7th, the Mobility
      feat at 11th and the Deft Opportunist feat at 15th.\n
      __*_<7>Spellcasting<2> -- Rangers dabble with magic, being able to cast a
      few nature-oriented spells from a subset of the druid spell list. They gain
      one spellcasting chart level at 4th level, and an additional spell level
      for every even ranger class level thereafter.\n
      __*_<7>Fasting<2> -- Being well accustomed to the harsh ways of the
      wilderness, rangers are able to survive for extended periods on much less
      food than other creatures; they get hungry at 1/3rd the rate of other
      characters. Multi-classed rangers recieve this advantage in proportion
      to the amount of their total levels that are ranger levels.\n
      __*_<7>Size Advantage<2> -- Much like Small warriors, Small rangers
      train to fight larger creatures by exploiting their vulnerabilities,
      and thus gain reduced threat ranges just as warriors do. For rangers,
      this training is delayed by two levels, so they recieve a -1 threat
      range at 3rd level, -2 at 5th and so forth.\n
      __Warrior and ranger levels in this ability stack.\n
      __Small races also recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.\n
      __*_<7>Starting Benefits<2> -- Rangers start with a mighty long bow +2
      (or a short bow for small races, or a quick-loading arbalest +1 for
      dwarves and gnomes), a miscellaneous magic item designed for stealth
      or mobility, a racially-determined melee weapon and peasant garb. Any 
      starting ranger missile gains a +1 bonus. 
      \n\n<10>THE RANGER<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+0__Bonus Feat, Fast.,\n
      _____________________________1st Fav. Enemy    \n
      ____2____+0____+3___+0___+0__Tracking, LoreArms\n
      ____3____+1____+3___+1___+1__Woodland Stride,  \n
      _____________________________Bonus Feat        \n
      ____4____+1____+4___+1___+1__+1 caster level   \n
      ____5____+1____+4___+1___+1__2nd Favored Enemy \n
      ____6____+2____+5___+2___+2__+2 caster level   \n
      ____7____+2____+5___+2___+2__Bonus Feat        \n
      ____8____+2____+6___+2___+2__+3 caster level   \n
      ____9____+3____+6___+3___+3____________________\n
      ____10___+3____+7___+3___+3__3rd Favored Enemy,\n
      _____________________________+4 caster level   \n
      ____11___+3____+7___+3___+3__Bonus Feat________\n
      ____12___+4____+8___+4___+4__+5 caster level   \n";
Gear:
if (EActor->rateMeleeWeapon() >= 2)
$"gold piece"
else if (EActor->isMType(65) || EActor->isMType(18) ||
EActor->isMType(64))
$"halfspear"
else if (EActor->isMType(62) || EActor->isMType(61) )
$"long sword"
else if (EActor->isMType(63))
$"battleaxe"
else if (EActor->isMType(66))
$"scimitar"
else if (EActor->isMType(83))
$"large club"
else if (EActor->isMType(22))
$"longspear"
else
$"long sword",

if (EActor->GetEffStatiVal(189,$"ranger") == 's')
33% $"stone" +2 of $"shadowstone"
else if (EActor->GetEffStatiVal(189,$"ranger") == 's')
50% $"lenses" of $"the night"
else if (EActor->GetEffStatiVal(189,$"ranger") == 's')
$"boots" +1 of $"striding and springing",

if (EActor->rateRangedWeapon() >= 2)
$"gold piece" else
if (EActor->isMType(63) || EActor->isMType(64) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8)))
$"arbalest" else
if (EActor->isSmallRace())
$"short bow"
else
$"long bow",

if (EActor->isMType(67))
$"blowpipe",

$"peasant garb";
HitDice: 8; Mana: 8; Def: 1/3;
Attk: 1 75,
2 100,
3 100,
0 100;
Skills[8]: 44, 2, 7, 9, 14,
17, 18, 21, 22, 32, 36,
40, 41, 45, 48, 27,
28, 23;
Proficiencies: 0x00000001, 0x00000008, 0x00000010, 0x00000020, 0x00000100,
0x00000040, 0x00001000, 0x00000400, 0x00000004, 0x20000000, 0x10000000;
Grants:
Ability[94,+10] at 2nd level,
Ability[128,+1] at every 2nd level starting at 2nd,
Ability[94,+2] at every level starting at 3rd,
Ability[34,125] at every level starting at 1st,
Ability[34,126] at every level starting at 5th,
Ability[34,127] at every level starting at 10th,
Ability[34,128] at every level starting at 15th,
Ability[34,129] at every level starting at 20th,
Ability[110] at 3rd level,
Ability[2] at every level starting at 1st,
Ability[82] at every 2nd level starting at 4th,
Stati[230,0x0010,+1] at every level starting at 3rd;
Flags: 6, 7;
On Event 150 {
hObj h;
if (EActor->GetEffStatiVal(189,$"ranger") == 'a')
{
h = EActor->getPrimaryRanged();
if (h->QualityOK(45)) {
h->AddQuality(45);
h->SetInherantPlus(max(1,
h->GetInherantPlus()));
}
else {
if (h->QualityOK(43) && EActor->GetAttr(0) >= 15)
h->AddQuality(43);
h->SetInherantPlus(max(2,
h->GetInherantPlus()));
}
for (h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->iID == $"sheaf arrow" ||
h->iID == $"flight arrow" ||
h->iID == $"crossbow bolt" ||
h->iID == $"hand crossbow dart")
h->SetInherantPlus(max(1,
h->GetInherantPlus()));
}
return 0;
},
153 {
int32 style; int32 ft;
if (EActor->isMType(67))
EActor->Proficiencies |= 0x00000080;
if (EActor->isSmallRace())
if (EActor->LevelAs($"ranger") >= 3)
EActor->GainAbility(134,+1,$"ranger",4);
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"ranger",4);

if (EActor->LevelAs($"ranger") == 1) {
style = EActor->ChoicePrompt("Combat style: archery, skirmish or two-weapon?", "ast");
EActor->GainPermStati(189,NULL,7,style,0,$"ranger");
}
if (EActor->LevelAs($"ranger") == 1 ||
EActor->LevelAs($"ranger") == 3 ||
EActor->LevelAs($"ranger") == 7 ||
EActor->LevelAs($"ranger") == 11 ||
EActor->LevelAs($"ranger") == 15)
{

style = EActor->GetEffStatiVal(189,$"ranger");

if (style == 'a')
{
if (!(EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9)) || EActor->HasStati(199,((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9))))
ft = ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9);
else if (!(EActor->HasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17)) || EActor->HasStati(199,(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17))))
ft = (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17);
else if (!(EActor->HasFeat((((49 + 1) + 32) + 25)) || EActor->HasStati(199,(((49 + 1) + 32) + 25))))
ft = (((49 + 1) + 32) + 25);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41);
else if (!(EActor->HasFeat(((49 + 1) + 4)) || EActor->HasStati(199,((49 + 1) + 4))))
ft = ((49 + 1) + 4);
else
ft = 6;
}
else if (style == 't')
{
if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12);
else if (!(EActor->HasFeat(((49 + 1) + 7)) || EActor->HasStati(199,((49 + 1) + 7))))
ft = ((49 + 1) + 7);
else if (!(EActor->HasFeat((((49 + 1) + 32) + 27)) || EActor->HasStati(199,(((49 + 1) + 32) + 27))))
ft = (((49 + 1) + 32) + 27);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 13)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 13))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 13);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11);
else
ft = 6;
}
else if (style == 's')
{
if (!(EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35)) || EActor->HasStati(199,((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35))))
ft = ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35);
else if (!(EActor->HasFeat(((49 + 1) + 20)) || EActor->HasStati(199,((49 + 1) + 20))))
ft = ((49 + 1) + 20);
else if (!(EActor->HasFeat(((((49 + 1) + 32) + 50) + 14)) || EActor->HasStati(199,((((49 + 1) + 32) + 50) + 14))))
ft = ((((49 + 1) + 32) + 50) + 14);
else if (!(EActor->HasFeat(((((((49 + 1) + 32) + 50) + 38) + 30) + 27)) || EActor->HasStati(199,((((((49 + 1) + 32) + 50) + 38) + 30) + 27))))
ft = ((((((49 + 1) + 32) + 50) + 38) + 30) + 27);
else if (!(EActor->HasFeat((((49 + 1) + 32) + 32)) || EActor->HasStati(199,(((49 + 1) + 32) + 32))))
ft = (((49 + 1) + 32) + 32);
else
ft = 6;
}
if (ft == 6)
{
if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 40)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 40))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 40);
else if (!(EActor->HasFeat(((((49 + 1) + 32) + 50) + 8)) || EActor->HasStati(199,((((49 + 1) + 32) + 50) + 8))))
ft = ((((49 + 1) + 32) + 50) + 8);
else if (!(EActor->HasFeat(((49 + 1) + 5)) || EActor->HasStati(199,((49 + 1) + 5))))
ft = ((49 + 1) + 5);
else if (!(EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)) || EActor->HasStati(199,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4))))
ft = (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
else
return 0;
}
EActor->GainPermStati(199,NULL,4,
ft,0,$"Ranger Feat");
}
return 0;
};
#line "classes.irh" 2258
Lists:
* 21
1 $"alarm" $"arrow mind" $"call companions" $"camouflage" $"cure light wounds"
$"detect animals and plants" $"entangle" $"invisibility to animals"
$"hawkeye" $"jump;spell" $"longstrider" $"magic missile" $"magic fang"
$"mending" $"obscurement" $"pass without trace" $"reduce" $"resist fire"
$"resist cold" $"sleep" $"slow poison" $"summon nature's ally i"
$"true strike" $"warp wood" $"mount" $"wind wall"
2 $"barkskin" $"bear's endurance" $"blur" $"cat's grace"
$"cure moderate wounds" $"flame blade" $"hold beast"
$"might of the oaks" $"persistance of the waves"
$"protection from cold" $"protection from fire" $"rainstorm"
$"resist water" $"summon swarm" $"summon nature's ally ii"
$"web" $"wind wall" $"endure the elements" $"nondetection"
3 $"control plant" $"neutralize poison"
$"plant growth" $"cure disease" $"create food and water"
$"summon nature's ally iii" $"earthmaw" $"dominate animal"
$"rope trick" $"resist the elements" $"haste" $"blink"
$"phantom steed" $"false life" $"cure serious wounds"
4 $"cure critical wounds" $"free action;spell" $"polymorph self"
$"ice storm" $"tree stride" $"explosive runes"
$"clairvoyance" $"detect monsters" $"fire charm"
$"protection from elements" $"solid fog" $"premonition"
$"stoneskin" $"divine agility" $"air walk" $"death ward"
$"dire regression" $"spike growth" $"solid fog"
5 $"animal growth" $"insect plague" $"commune with nature"
$"turnclaw" $"force shapechange" $"wizard sight";
}

Effect "Ranger Feat" : 46
{
On Event 155 {
if (EActor->InSlot(9) != ((hObj)0))
if (EActor->InSlot(9)->isGroup(0x40000000) ||
EActor->InSlot(9)->isGroup(0x80000000))
return false;
return true;
};
}

Class "Rogue"
{
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d6__<15>Skills:<1>_12_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n\tShe might be a cutpurse, a wayfarer, an assassin, a scoundrel or 
      simply an everywoman who slipped into the adventuring life and chose
      to rely on quick wits, light fingers, clever plans and stealth instead
      of might or magic. Regardless, she's a rogue, and the world is like an
      oyster to her. Members of this class are not powerful, and can be
      difficult to play effectively, but their grab-bag abilities and wide
      range of skills make them highly proficient in areas where other
      characters would be helpless.
      \n\tRogues have only a d6 for Hit Dice and mediocre combat skills
      (though they can be quite proficient as archers or using thrown
      weapons) but they recieve the most skill points, and the widest
      selection of class skills, of any class in the game. This means
      that if they can survive the dungeon, they have a lot of unusual
      options open to them for advancing, and for gaining valuable magic
      items. Rogues inflict extra damage when attacking from surprise,
      have excellent defense values and gain a number of special abilities
      describing their danger sense, good instincts and ability to avoid
      harmful surprises.

      \n\n<10>CLASS SKILLS<2>\n
      __More than any other character type, the rogue depends upon her
      skills. The class skills of the rogue are Alchemy, Appraise, Athletics,
      Balance, Bluff, Climb, Craft, Decipher Script, Disguise, Diplomacy, Disable Device,
      Escape Artist, Find Weakness, Healing, Hide, Ride, Intimidate, Intuition,
      Jump, Knowledge (all), Listen, Lockpicking, Move Silently, Perform, Pick Pocket,
      Poison Use, Searching, Spot, Tumble and Use Magic
      Device.\n
      __Like all classes that recieve 8 or more base skill points per level,
      the Rogue doubles his Intelligence bonus for determining skill points
      gained every level.
       
      \n\n<10>CLASS FEATURES<2>\n
      __All the following are class features of the rogue.\n
      __*_<7>Proficiencies<2> -- The rogue is proficient with all simple
      weapons, daggers, short blades, thrown weapons, flexible weapons, 
      archery and light armor.\n
      __*_<7>Sneak Attack<2> -- A rogue has the ability to inflict extra
      dice of damage when they can attack an opponent in such a manner as
      to slip past their defenses. The rogue gains 1d6 points of bonus
      damage on sneak attacks at 1st level, and another 1d6 for every odd
      rogue level she possesses; for example, a fifth level rogue gains
      +3d6 points of damage on a successful sneak attack. Certain weapons
      are expecially useful for sneak attacks and allow the rogue to roll
      eight-sided dice instead, while an unskilled unarmed sneak attack 
      is only rolled on four-sided dice. Creatures which are immune to
      critical hits are also immune to the bonus damage of a rogue's sneak 
      attack. The damage from a sneak attack is not multiplied if that
      attack also turns out to be a critical hit. A rogue can peform a
      sneak attack in the following situations:\n
      __<10>Surprise:<2> If the rogue can take her target completely by
      surprise -- that is, the target is unaware of the rogue's presence,
      usually due to her using Hide and Move Silently -- then she can
      perform a sneak attack.\n
      __<10>Flat-Footed:<2> If a rogue can catch her enemy flat-footed
      (i.e., strike the first blow against a given enemy that has been
      out of combat for several rounds before it can respond and attempt
      to strike her), she gets her sneak attack damage.\n
      __<10>Flanking:<2> If a rogue has an ally in the square directly opposite
      her, and an enemy trapped between the two of them, the enemy must turn
      her back partially on the rogue, and she can thus gain her sneak
      attack damage.\n
      __<10>Exposure:<2> If an enemy is unable to focus her defenses as a
      result of being stunned, paralyzed, charging, off-balance after
      performing a Great Blow or is currently engaging in grappling combat
      with someone other then the rogue, then the rogue can gain her sneak
      attack damage on all attacks against that creature.\n
      __Sneak attacks require freedom of movement, and a rogue cannot 
      perform them while she is grappled or ensnared.\n
      __*_<7>Evasion<2> -- Starting at 2nd level, when a rogue successfully
      makes a Reflex saving throw against an area-effect attack that allows
      a Reflex save for half damage (such as a dragon's fiery breath or a 
      mage's <9>lightning bolt<2>), he takes no damage at all. At 10th level
      and above, the rogue takes only half damage on a failed Saving Throw.\n
      __Levels of this ability from the monk and rogue classes stack.\n
      __*_<7>Uncanny Dodge<2> -- Like the barbarian, the rogue is possessed
      of preternatural agility and instincts that allow her to avoid harm.
      Starting at 3rd level and beyond, the rogue is never caught flat-
      footed -- no matter how many rounds have passed since her last combat
      exchange, she is always alert. At 5th level, her uncanny instincts allow
      her to wake alert if she has an encounter while resting, avoiding being
      flat-footed, vulnerable to Coup de Grace attacks and being able to act
      immediately as the encounter begins. At 6th level and above, she suffers no
      ill effects from having enemies on either side and is effectively
      immune to flanking. Starting at 9th level and above, the rogue recieves
      gradually increasing bonuses to all saving throws against traps -- her
      instincts tell her exactly when to dodge or pull back.\n
      __Levels of this ability from the barbarian and rogue classes stack.\n
      __*_<7>Stealth<2> -- While rangers and, in truth, members of any class
      can gain skill with stealth, rogues excel at it beyond all others. 
      They recieve a +1 class bonus to Hide in Shadows and Move Silently at
      8th level and this bonus increases by 1 for every even level thereafter.\n
      __*_<7>Special Abilities<2> -- Starting at 6th level, and then every third
      level thereafter (at 6th, 9th, 12th, 15th and 18th), a rogue can choose 
      one of the following special abilities:\n
      __<10>Trick Magic:<2> A Rogue possessed of this ability can use her
      Bluff and Use Magic skills in conjunct to 'trick' a magic item normally
      reserved for a specific race, class or alignment into accepting her as a
      legitimite wielder. The strength of this ability is based on the sum of
      her Use Magic and Bluff skill ratings, with a total of 30 or higher
      allowing her to use nearly any item she might find.\n
      __<10>Skill Mastery:<2> This rogue has achieved such a transcendant mastery
      of her skills that she is always guaranteed some minimum degree of success.
      The lowest she can ever roll on any skill roll for a rogue class skill (i.e.,
      the 1d20 roll, not the entire skill check) is 7 + her intelligence modifier (maximum 15).
      If the roll would normally come out lower, it is adjusted up to this level.
      Thus a rogue with Intelligence 18, Move Silently +13 and this ability would 
      always score at least 24 on a Move Silently check.\n
      __<10>No Mind:<2> In studying this ability, a rogue learns a number of
      meditative exercises and philosophies that she can apply to attain a state
      of transcendant nothingness. Thereafter, she is invisible to telepathy as
      an innate, permanent and non-magical ability.\n
      __<10>Crippling Strike:<2> Whenever a rogue possessed of this ability
      successfully executes a sneak attack against a creature with blood, the
      attack inflicts a bleeding wound, causing the victim to lose a number of
      hit points each turn from blood loss equal to the total of the rogue's
      sneak attack dice. The bleeding lasts for 1d6+1 turns; further sneak
      attacks on a creature already bleeding as a result of this ability do
      not increase the bleeding damage; instead, they extend its duration
      for 1d6 rounds per strike.\n
      __<10>Slippery Mind:<2> A rogue with this ability has naturally trained
      mental defenses against enchantment effects. At the end of the turn after
      she succumbed to some form of enchantment, she may make a second saving
      throw with a +4 retry bonus to the save DC. Success allows her to shrug
      off the enchantment effect.\n
      __<10>Soft Steps:<2> By training in a very specific and difficult manner,
      a rogue can learn to walk across a surface without causing any vibration
      inside that surface's volume. This causes her to be effectively invisible
      to tremorsense, and is a constant, permanent and non-magical ability.\n
      __<10>Unearthly Reflexes:<2> A rogue who chooses this special ability
      has training her reaction time to a nearly inhuman degree, and recieves
      a +6 bonus to her Reflex saves.\n
      __<10>Peerless Accuracy:<2> When a rogue learns this ability, she
      becomes a master of thrown weapons -- she never misses. Well, almost
      never. She gains a permanent and inherant +5 bonus to hit when using
      thrown weapons. This does <10>not<2> apply to archery.\n
      __<10>Defensive Roll:<2> If you have this ability, you are able to 
      move with the impact from blows, lessening their effect even if they do 
      hit you. This ability does not function in heavy armor. When you are 
      struck by a creature that needs a 15 or greater to hit you, you only 
      suffer a certain fraction of the damage, starting at 5/6th. The number 
      of sixths of the total damage can be further reduced in the following 
      circumstances, to a minimum of 1/6th:\n
      __* You are Small and your foe is Medium-sized or larger (-1/6th).\n
      __* Your foe can only hit you on a natural 20 (-1/6th).\n
      __* You are unarmored (-2/6ths) or in light armor (-1/6th).\n
      __This ability does not function if you have spells active which
      simulate the effect of heavy armor (such as Spirit Armor) and
      Mage Armor is treated as medium armor for this purpose.\n
      __<10>Bonus Feat:<2> In lieu of choosing a rogue special ability, a rogue 
      can elect to gain a bonus feat chosen from a list of all feats in the 
      game that do not have other feats as prerequisites.\n
      __*_<7>Thief in the Night<2> -- Characters of most classes gain experience
      by moving through the dungeon killing monsters, but rogues have the option
      to avoid the killing entirely. If a single-classed rogue enters a region 
      and handles every single magical item within that region, and then leaves 
      without the monsters or NPCs who dwell there being even slightly aware of 
      her presence, she will recieve experience for every enemy in the room just 
      as if she had killed them normally. In this context, handling an item means 
      holding it in one's hands -- the rogue can then decide if she want to keep 
      it or leave it where she finds it to remain unburdened.\n
      __This has to be executed flawlessly to function. If even one monster is
      aware of the rogue's presence -- as a result of seeing her, notcing her
      with an ability like blindsight, tremorsense, telepathy or scent or
      hearing noise she made (by casting a noisy spell or kicking open a door,
      for example), then she does not gain any experience upon leaving the
      region. If one enemy becomes aware of her and she kills that enemy,
      however, she gains the experience for any remaining oblivious foes. If
      foes in the room carry valuable magic items, those must be removed from
      them (perhaps using the Pick Pockets skill) for this experience to be
      gained.\n
      __Rogues do not gain XP for monsters twice; if they meet these conditions
      and gain XP upon leaving the region, later killing the monsters gives
      them nothing. They also gain nothing for entering and leaving regions
      that have no treasure, regardless of how stealthy they are. Multi-class
      characters with rogue levels gain this stealth XP an a proportionate 
      percent equal to their rogue levels -- a Rogue 2/Warrior 6 gains 25~ of
      the total experience value of creatures via this method, and can claim
      the remaining 70~ by going back to kill them.\n
      __*_<7>Starting Benefits<2> -- Rogues start with a short sword, a weapon
      from the daggers group, a few potions of healing, some tanglefoot bags, 
      a cloak of nondetection (which prevents monsters from smelling them while 
      they hide, for example) and a fair amount of gold. They always have a 
      ranged weapon -- a short bow unless their race gives them something else.
      Rogues also begin play with a second, random magical item suitable to the
      skills of a sneak. Finally, evil rogues also begin play with two vials of
      poison.
      \n\n<10>THE ROGUE<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__Sneak Attack +1d6 \n
      ____2____+1____+0___+3___+0__Evasion           \n
      ____3____+1____+1___+3___+1__Never Flat-Footed,\n
      _____________________________Sneak Attack +2d6 \n
      ____4____+2____+1___+4___+1____________________\n
      ____5____+2____+1___+4___+1__Sneak Attack +3d6,\n
      _____________________________Wake Alert_______ \n
      ____6____+3____+2___+5___+2__Imm. to Flanking, \n
      _____________________________Special Ability   \n
      ____7____+3____+2___+5___+2__Sneak Attack +4d6 \n
      ____8____+4____+2___+6___+2__Stealth +1________\n
      ____9____+4____+3___+6___+3__Sneak Attack +5d6,\n
      _____________________________Special Ability___\n
      ____10___+5____+3___+7___+3__St. +2, Evasion II\n
      ____11___+5____+3___+7___+3__Sneak Attack _6d6 \n
      ____12___+6____+4___+8___+4__Stealth +3,_______\n
      _____________________________Special Ability\n";
Gear:
if ((EActor->isMType(63) || EActor->isMType(64) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8))) &&
(EActor->rateRangedWeapon() == 0))
$"cranquin" else
if (EActor->rateRangedWeapon() == 0)
$"short bow",
$"short sword",
33% $"dagger" else
50% $"stiletto" else
$"main gauche",
$"cloak" of $"nondetection;item",
25% $"stone" +2 of $"shadowstone" else
33% $"gauntlets" +2 of $"nimble fingers" else
50% $"bracers" of $"legerdemain" else
3d10 $"potion" of $"invisibility",
2d6 $"potion" of $"healing",
3d4 $"bag" of $"tanglefoot bag",
2d6 $"potion" of $"dimension door",
300d10 $"gold piece",
if (EActor->isMType(51))
$"blowpipe",
if (EActor->isMType(103))
$"small glass vial" of random 3 to 9,
if (EActor->isMType(103))
$"small glass vial" of random 3 to 9,
$"peasant garb";
HitDice: 6; Mana: 6; Def: 1/2;
Attk: 1 75,
2 75,
3 75,
0 75;
Skills[12]: 1, 44, 4,
5, 6, 7, 9, 10, 12,
11, 16, 13, 14,
17, 18, 40, 20, 21,
22, 23,24,25,26,27,28,29,30,31, 32, 33, 36,
37, 38, 39, 41,
3, 46, 47;
Proficiencies: 0x00000001, 0x00001000, 0x00000004, 0x00000100,
0x00004000, 0x00000020, 0x20000000;
Grants:
Feat[((49 + 1) + 11)] at 1st level,

Stati[123,9,+1] at every 3rd level starting at 3rd,
Stati[124,18,+1] at every 2nd level starting at 8th,
Stati[124,36,+1] at every 2nd level starting at 8th,
Ability[80] at every 2nd level starting at 1st,
Ability[31] at every 2nd level starting at 2nd,
Ability[100] at every level starting at 3rd,
Ability[135] at every level starting at 1st,
Feat[2] at every 3rd level starting at 10th;
Flags: 7;
On Event 153 {
int32 choice;
if (EActor->LevelAs($"rogue") == 6 || EActor->LevelAs($"rogue") == 9 ||
EActor->LevelAs($"rogue") == 12 || EActor->LevelAs($"rogue") == 15 ||
EActor->LevelAs($"rogue") == 18)
{
if (!EActor->HasAbility(130))
ETerm->LOption("Trick Magic",1,
"A Rogue possessed of this ability can use her
                Bluff and Use Magic skills in conjunct to 'trick' a magic item normally
                reserved for a specific race, class or alignment into accepting her as a
                legitimite wielder. The strength of this ability is based on the sum of
                her Use Magic and Bluff skill ratings, with a total of 30 or higher
                allowing her to use nearly any item she might find.");
if (!EActor->HasAbility(75))
ETerm->LOption("Skill Mastery",2,
"This rogue has achieved such a transcendant mastery
                of her skills that she is always guaranteed some minimum degree of success.
                The lowest she can ever roll on any skill roll for a rogue class skill (i.e.,
                the 1d20 roll, not the entire skill check) is 7 + her intelligence modifier
                (maximum 15). If the roll would normally come out lower, it is adjusted up 
                to this level. Thus a rogue with Intelligence 18, Move Silently +13 and this 
                ability would always score at least 24 on a Move Silently check.");
if (!EActor->HasEffStati(211,$"rogue",0x0080))
ETerm->LOption("No Mind",3,
"In studying this ability, a rogue learns a number of
                meditative exercises and philosophies that she can apply to attain a state
                of transcendant nothingness. Thereafter, she is invisible to telepathy as
                an innate, permanent and non-magical ability.");
if (!EActor->HasEffStati(79,$"Crippling Strike"))
ETerm->LOption("Crippling Strike",4,
"Whenever a rogue possessed of this ability
                successfully executes a sneak attack against a creature with blood, the
                attack inflicts a bleeding wound, causing the victim to lose a number of
                hit points each turn from blood loss equal to the total of the rogue's
                sneak attack dice. The bleeding lasts for 1d6+1 turns; further sneak
                attacks on a creature already bleeding as a result of this ability do
                not increase the bleeding damage; instead, they extend its duration
                for 1d6 rounds per strike.");
if (!EActor->HasAbility(76))
ETerm->LOption("Slippery Mind",5,
"A rogue with this ability has naturally trained
                mental defenses against enchantment effects. At the end of the turn after
                she succumbed to some form of enchantment, she may make a second saving
                throw with a +4 retry bonus to the save DC. Success allows her to shrug
                off the enchantment effect.");
if (!EActor->HasEffStati(211,$"rogue",0x0020))
ETerm->LOption("Soft Steps",6,
"By training in a very specific and difficult manner,
                a rogue can learn to walk across a surface without causing any vibration
                inside that surface's volume. This causes her to be effectively invisible
                to tremorsense, and is a constant, permanent and non-magical ability.");
if (!EActor->HasEffStati(109,$"rogue",29))
ETerm->LOption("Unearthly Reflexes",7,
"A rogue who chooses this special ability
                has training her reaction time to a nearly inhuman degree, and recieves
                a +6 bonus to her Reflex saves.");
if (!EActor->HasEffStati(79,$"Peerless Accuracy"))
ETerm->LOption("Peerless Accuracy",8,
"When a rogue learns this ability, she
                becomes a master of thrown weapons -- she never misses. Well, almost
                never. She gains a permanent and inherant +5 bonus to hit when using
                thrown weapons. This does <10>not<2> apply to archery.");
if (!EActor->HasAbility(137))
ETerm->LOption("Defensive Roll", 9,
"If you have this ability, you are able to move with the impact from 
                blows, lessening their effect even if they do hit you. This ability
                does not function in heavy armor. When you are struck by a creature
                that needs a 15 or greater to hit you, you only suffer a certain
                fraction of the damage, starting at 5/6th. The number of sixths of
                the total damage can be further reduced in the following circumstances,
                to a minimum of 1/6th:\n
                __* You are Small and your foe is Medium-sized or larger (-2/6th).\n
                __* Your foe can only hit you on a natural 20 (-1/6th).\n
                __* You are unarmored (-2/6ths) or in light armor (-1/6th).\n
                __This ability does not function if you have spells active which
                simulate the effect of heavy armor (such as Spirit Armor) and
                Mage Armor is treated as medium armor for this purpose.");
ETerm->LOption("Bonus Feat", 10,
"In lieu of choosing a rogue special ability, a rogue can elect to gain
                a bonus feat chosen from a list of all feats in the game that do not
                have other feats as prerequisites.");

choice = ETerm->LMenu(0x0008|0x0001|0x0100,
"Choose a Rogue special ability:", 14);
switch (choice)
{
case 1:
EActor->GainAbility(130,1,$"rogue",4);
break;
case 2:
EActor->GainAbility(75,1,$"rogue",4);
break;
case 3:
EActor->GainPermStati(211,NULL,4,
0x0080,0,$"No Mind");
break;
case 4:
EActor->GainPermStati(79,NULL,4,
(20+1000),0,$"Crippling Strike");
break;
case 5:
EActor->GainAbility(76,1,$"rogue",4);
break;
case 6:
EActor->GainPermStati(211,NULL,4,
0x0020,0,$"Soft Steps");
break;
case 7:
EActor->GainPermStati(109,NULL,4,
29,+6,$"Unearthly Reflexes");
break;
case 8:
EActor->GainPermStati(79,NULL,4,
19,0,$"Peerless Accuracy");
break;
case 9:
EActor->GainAbility(137,1,$"rogue",4);
break;
case 10:
#line "classes.irh" 2689
EActor->GainFeat(9,0);
break;
}
}
return 0;
};
}

Effect "No Mind" : 46
{ Flags: 82; }

Effect "Crippling Strike" : 46
{ Flags: 82;
On Event ((20+1000)+10000) {
if (e.isSneakAttack && !EVictim->isDead() && EVictim->isMType(77))
{
if (EVictim->HasEffStati(12,$"Crippling Strike"))
{
EVictim->SetEffStatiMag(12,$"Crippling Strike",
max(EVictim->GetEffStatiMag(12,$"Crippling Strike"),
EActor->AbilityLevel(80)));
EVictim->SetEffStatiDur(12,$"Crippling Strike",
EVictim->GetEffStatiDur(12,$"Crippling Strike") + 1d6);
}
else
EVictim->GainTempStati(12,NULL,1d6+1,6,
0, EActor->AbilityLevel(80), $"Crippling Strike");
}
return 0;
};
}

Effect "Soft Steps" : 46
{ Flags: 82; }

Effect "Unearthly Reflexes" : 46
{ Flags: 82; }

Effect "Peerless Accuracy" : 46
{ Flags: 82;
On Event (19+10000) {
if (e.AType == 41)
if (GetHandle(EItem2) != ((hObj)0) && EItem2->isGroup(0x00000100))
{
e.strHit += " +5 peerless";
e.vHit += 5;
}
};
}




Class "Warrior"
{
Desc: "
      <15>HitDie:_<1>d10_<15>Mana:<1>_d6__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>\n\tThe architypical man-at-arms, the warrior can be a soldier,
      mercenary or warlord; the peasant hero, noble fencer or questing
      knight. Regardless, his (or her) skills are unmatched -- unlike
      the paladin, barbarian or monk, the Warrior has no supernatural
      powers to back up his basic human prowess, so he has to focus
      on being the best there is with what he has. Warriors are both
      generalists -- being skilled in many weapons and diverse combat
      tactics -- and specialists, gaining the powerful ability to
      study specific weapons and better their skill with them as they
      advance in levels.
      __\n\tWarriors are ubiquitous. The militant arts are highly regarded
      on Therya, and as long as he shows a respect for life and law a
      Warrior can expect to earn a position of high regard in most social
      circles. Even in this more civilized age, most kings and barons are
      members of this class, ruling in equal measure from political
      canniness and force of arms. The peasantry respects a lord who is
      willing to take up arms to defend them rather then letting others
      die in his name, and even among the most cosmopolitan of noble
      families, warcraft is still a respected art.\n
      
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the warrior are Appraise, Athletics, Bluff, Climb, Craft, 
      Diplomacy, Find Weakness, Healing, Intimidate, Intuition, Ride, 
      Seneschal and Spot.
       
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Warriors are proficient with all weapon
      groups save for Exotic weapons, for which proficiency must be bought
      seperately in each. They are proficient with light, medium and heavy
      armors, and with shields. This gives them the widest range of weapon
      and armor proficiencies in the game.\n
      __*_<7>Weapon Skill<2> -- Warriors can develop exceptional degrees of
      skill with specific weapons, becoming eligable for special feats that
      represent such as they rise in level. They must still buy these feats
      normally, of course. At 1st level, all warriors recieve a free 
      Weapon Focus in a weapon of their choice. \n
      __Starting at 3rd level, the warrior is eligable to buy the Weapon
      Specialization feat in any weapon which he is focused in. At 7th level,
      he may choose to buy the Weapon Mastery feat in any weapon he is
      specialized it. The next level of skill is High Mastery, which may be
      bought at 11th level, then Grand Mastery at 15th.\n
      __*_<7>Bonus Feats<2> -- While the barbarian may be tougher and the
      rogue more agile, the warrior is bar none the most skilled and adept
      fighter in the game. To represent this, every even level the warrior 
      gains a bonus feat from the rather extensive warrior list, which 
      includes most of the combat-centered feats in the game.\n
      __*_<7>Lore of Arms<2> -- Warriors have a peerless understanding of
      weapons, and are able to identify the magical properties of weapons
      just by using them in combat. When a warrior wields an unidentified
      magical weapon and fights with it, the game will automatically identify
      it for him after 3 + ([9 - Warrior Level] x 2) successful hits with it
      in combat. Hits that kill their target count as three hits for this
      purpose.\n
      __*_<7>Size Advantage<2> -- Most living creatures, humanoid or otherwise,
      are set up to defend themselves from attacks by other creatures of human
      size or larger, because those creatures constitute the greatest threat to
      them on the food chain. Halfling, gnome and kobold warriors learn to take
      advantage of these blind spots, utilizing their smaller size to strike at
      vital regions their opponents usually aren't as skilled at defending. From
      an anatomical standpoint, after all, humans are much better set up to block
      blows from their height or from above then they are to deflect strikes
      coming in low.\n
      __In game terms, Small warriors gain increased threat ranges in melee
      combat against anything larger than them. Their threat range increases by
      -1 at 1st level, -2 at 3rd, -3 at 9th and -4 at 17th. These modifiers are
      applied after accounting for any increased threat ranges due to Improved
      Critical, keen weapons and similar abilities. This ability is a function of
      both anatomy and special training, so it doesn't apply to humans or other
      characters who become Small-sized as a result of magic, or to Small
      warriors who become human-sized (or giant-sized, or even tinier than they
      usually are) as a result of magic.\n
      __Small races also recieve the Defensive Roll ability (from the rogue's
      higher-level special ability list) upon attaining four combined levels of 
      warrior, ranger, paladin, monk or barbarian.\n
      __*_<7>Starting Benefits<2> -- Warriors start with a +1 version of the
      weapon they are focused in with an elemental brand or similar-powered
      enchantment, a kite shield or buckler, a fair supply of gold, a dagger,
      peasant garb and 1d4+1 vials of Oil of Transformation.
      \n\n<10>THE WARRIOR<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__Weapon Focus      \n
      ____2____+0____+3___+0___+3__Bonus Feat        \n
      ____3____+0____+3___+1___+3__Weapon Specializ. \n
      ____4____+1____+4___+1___+4__Bonus Feat        \n
      ____5____+1____+4___+1___+4__                  \n
      ____6____+1____+5___+2___+5__Bonus Feat        \n
      ____7____+1____+5___+2___+5__Weapon Mastery    \n
      ____8____+2____+6___+2___+6__Bonus Feat        \n
      ____9____+2____+6___+3___+6__Name Rank         \n
      ____10___+2____+7___+3___+7__Bonus Feat        \n
      ____11___+2____+7___+3___+7__High Mastery      \n
      ____12___+3____+8___+4___+8__Bonus Feat        \n";
HitDice: 10; Mana: 6; Def: 1/4;
Attk: 1 100,
2 100,
3 100,
0 100;
Skills[4]: 4, 6, 7, 9,
14, 17, 20, 21,
40, 44, 42;
Proficiencies: 0x00000001, 0x00000010, 0x00000020, 0x00000040, 0x00000080,
0x00000100, 0x00000200, 0x00000400, 0x00000800, 0x00001000, 0x00004000,
0x00020000, 0x00000004, 0x00000008, 0x00010000;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Feat[((49 + 1) + 12)] at 1st level,
Feat[((49 + 1) + 13)] at 1st level,
Feat[((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 29)] at 1st level,
Ability[106] at 4th level,
Ability[106] at 7th level,
Ability[106] at 10th level,
Ability[106] at 13th level,
Ability[128] at every level starting at 1st,
Feat[4] at every 2nd level starting at 2nd;
Gear:
50d10 $"gold piece",
1d4+1 $"potion" of $"oil of transformation",
if (EActor->isSmallRace() || (1d3 == 1))
$"buckler;wooden" else
$"kite shield",
$"dagger",
$"peasant garb";
On Event 150 {
hObj h; rID iID;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(21)) {
switch(random(3)) {
case 0: h->AddQuality(1); break;
case 1: case 2: h->MakeMagical(((rID)0),h->GetPlus()+1);
}
} else if (h->isType(51))
h->MakeMagical(((rID)0),h->GetPlus()+1);
}
h = EActor->getPrimaryMelee();
if (h && EActor->rateMeleeWeapon() > 1) {
if (h->GetInherantPlus() < 1)
h->MakeMagical(((rID)0),+1);
if ((EActor->HasFeat((((49 + 1) + 32) + 7)) ||
EActor->HasFeat(((((49 + 1) + 32) + 50) + 31)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 46))) &&
h->QualityOK(18))
h->AddQuality(18);
else switch(EActor->formulaSeed % 7) {
case 0: h->AddQuality(7); break;
case 1: h->AddQuality(8); break;
case 2: h->AddQuality(9); break;
case 3: h->AddQuality(10); break;
case 4:
if (h->QualityOK(13))
h->AddQuality(13);
else
h->MakeMagical(((rID)0),+2);
break;
case 5: h->AddQuality(77); break;
case 6:
if (h->GetInherantPlus() < 1)
h->MakeMagical(((rID)0),+2);
}
}
h = EActor->getPrimaryRanged();
if (h && EActor->rateRangedWeapon() > 1) {
h->MakeMagical(((rID)0),+1);
if ((EActor->HasFeat((((49 + 1) + 32) + 7)) ||
EActor->HasFeat(((((49 + 1) + 32) + 50) + 31)) ||
EActor->HasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 46))) &&
h->QualityOK(18))
h->AddQuality(18);
else switch(random(7)) {
case 0: h->AddQuality(7); break;
case 1: h->AddQuality(8); break;
case 2: h->AddQuality(9); break;
case 3: h->AddQuality(10); break;
case 4:
if (h->QualityOK(27))
h->AddQuality(27);
else
h->MakeMagical(((rID)0),+2);
break;
case 5: h->AddQuality(77); break;
case 6: case 6: h->MakeMagical(((rID)0),+2);
}
}
return 0;
},
153 {
if (EActor->isSmallRace())
EActor->GainAbility(134,+1,$"warrior",4);
if (EActor->isSmallRace() && (EActor->LevelAs($"barbarian") +
EActor->LevelAs($"warrior") + EActor->LevelAs($"ranger") +
EActor->LevelAs($"paladin") + EActor->LevelAs($"monk")) == 4)
EActor->GainAbility(137,1,$"warrior",4);
return 0;
},
(153+1000) {
#line "classes.irh" 2948
if (EActor->LevelAs($"warrior") == 1)
EActor->GainFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),0);
return 0;
};
Flags: 6, 8;
}
#line "prestige.irh" 173
Class "Alienist"
{
On Event 155 {
int32 failed; int32 i, c;
failed = false;

if (EActor->ISkillLevel(29) < 10) {
failed = true; EActor->IPrint("You need Knowledge (Planes) 10+.");
}

c = 0;
for(i=0;i!=2048;i++)
if (EActor->SpellKnown(i) & (0x0004|0x0008|0x0000|0x0010|0x0020))
if (theGame->SpellID(i)->Schools & 0x00000100)
c += theGame->SpellID(i)->Level;

if (c < 7) {
failed = true;
EActor->IPrint("You must have 7 levels of known Weavecraft spells.");
}

if (!EActor->IHasFeat(((49 + 1) + 19))) {
failed = true;
EActor->IPrint("You must have the Augment Summoning feat.");
}

if (EActor->GodID != $"Kysul" && EActor->GodID != ((rID)0)) {
failed = true;
EActor->IPrint("You must worship Kysul, or no one at all.");
}


if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d4__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n__There exist beings beyond the capacity of the minds of humans (and
           demihumans) to comprehend. Dwelling beyond the Outer Planes that
           define the human concept of the afterlife, these creatures are
           ancient, inscrutable, tremendously powerful and unbelievably alien.
           The most well known -- but certainly not the only -- representative
           of these beings on Theyra is Kysul, who serves as a guardian of any
           contact between the Prime Material and the Outer Rim, and is served
           by a handful of scattered mystery cults across the Kinlands.\n
           __The Alienist is a spellcaster who has devoted herself wholly to
           the intensely esoteric practice of summoning and dealing with these
           beings. Most would call her a madwoman, a crazed and irresponsible
           cultist that endangers the safety of all of Theyra. For some Alienists
           this accusation is true, while others are more responsible -- but no
           less feared or hated. The most common motive among alienists is
           knowledge -- knowledge of concepts and ideas that cannot exist in a
           stable manner in our reality and thus must be experienced firsthand
           in order to be understood, since human languages lack the terms to
           express them. This search for ultimate knowledge drives many alienists
           to enlightenment, damnation or both.\n
           __Alienists are not, by their nature, stable beings. They are driven
           by inhuman desire and exposed to unknowable secrets and eldritch
           beings, and as a result their minds are often deeply fractured and
           the majority of them are no longer able to relate to their original
           race in any normal way.\n
           __Many lizardfolk are alienists. Their people worshipped the Outer
           Lords long before humanity or the modern gods existed, and while the
           modern lizardfolk treat druidism as the closest thing they have to a
           state religion, alienism forms a distinct minority in their society,
           and they are the only peoples on all of Theyra (other than aberrations)
           who respect the practice of alienism. Mind flayers also sometimes become 
           alienists, though their society is fierce in the persecution of these
           forsaken scholars -- worship of Outer Lords threatens their fiercely
           regimented social structure, and they long ago turned their backs on
           their father, Kysul.

          \n\n<10>CLASS REQUIREMENTS<2>\n
          __The alienist is a prestige class. It counts as a favored class
          for all characters. In order to become an alienist, you must have:\n
          __*_<7>Skills Levels<2> -- Knowledge (Planes) +10.\n
          __*_<7>Known Spells<2> -- Seven total spell levels of Weavecraft spells.\n
          __*_<7>Feats<2> -- Augment Summoning.\n
          __*_<7>Religion<2> -- You must worship Kysul, or no diety at all. None 
          of Theyra's other gods tolerate alienists.
                
          \n\n<10>CLASS SKILLS<2>\n
          __The class skills of the alienist are 
          Bluff, Concentration, Decipher Script, Hide in Shadows, Intimidate, 
          Knowledge (Magic), Knowledge (Mythology), Knowledge (Oceans), 
          Knowledge (Planes), Metamagic, Move Silently, Spellcraft and
          Use Magic.
          
          \n\n<10>CLASS FEATURES<2>\n
          __*_<7>Proficiencies<2> -- Alienists gain no additional weapon or armor
          proficiencies.\n
          __*_<7>Spellcasting<2> -- At every level except 1st and 4th, alienists
          gain a new caster level. They continue to advance in arcane spell access
          if they had any before entering this class, otherwise advancing in the
          divine, druidic or other class spell list that allowed them to meet the
          caster prerequisite given above.\n
          __If the alienist has Domains, she continues to advance those as well,
          provided she is advancing as a divine caster.\n
          __*_<7>Incomprehensible Wisdom<2> -- Alienists gain the Improved Wisdom
          feat for free at 1st level. If they already have it, they can select any
          other feat to fill the free slot.\n
          __*_<7>Uneasy Mind<2> -- Alienists grow increasingly distant from humanity
          as they continue to advance in this class, and suffer a penalty equal to
          their alienist level to Diplomacy and Appraise; they also become very
          focused on distant mysteries and given to long periods of introspection,
          and being thus out of touch with the world apply this same penalty to Spot,
          Listen and Searching.\n
          __*_<7>Outer Pathways<2> -- The primary ability of the alienist class is
          the power to summon pseudonatural creatures from the far-distant realm in
          which Kysul and his kin dwell. Starting at second alienist level, any 1st-level
          <9>monster summoning<2>, <9>holy summoning<2> or <9>summon nature's ally<2>
          spell the alienist casts summons a pseudonatural version of whatever
          creature it would normally summon. At 3rd level, the 2nd-level spells are
          so altered, and so on until 10th level, when even 9th-level summoning spells
          call forth pseudonatural creatures.\n
          __In addition to the normal mana cost of the summoning spell, the pseudonatural
          summoning of an alienist drains [Summoned Creature's CR x 2] mana, and this
          mana does not regenerate.\n
          __*_<7>Surreal Presence<2> -- The sense that there is something faintly
          off, something <10>wrong<2> about the alienist crystalizes to a razor-sharp
          clarity at 3rd level, and she gains the benefit (or curse) of a constantly
          active <9>spook<2> spell as an innate supernatural ability.\n
          __*_<7>Mad Certainty<2> -- At 4th level, the alienist's fanatical devotion
          gives her a kind of ability to ignore physical harm and pursue her
          obsession with an utterly inhuman resilience even in the face of crippling
          wounds. She gains Toughness as a bonus feat and a +10 bonus to the 
          Concentration skill.\n
          __*_<7>Visitation<2> -- At 5th level, the alienist may use <9>contact other
          plane<2> at will as an innate spell-like ability.\n
          __*_<7>Inhuman Allies<2> -- At 6th level, the alienist gains the ability to
          invoke ancient pacts between the harbringers of the Outer Rim and their
          Outer Ones' more modern spawn. Aberrations are neutral to her unless she
          breaks the pact by taking some hostile action against them.\n
          __*_<7>Feverish Obsession<2> -- Upon reaching 7th level, the alienist becomes
          so driven and devoted that she develops an inhuman kind of vigor, working
          beyond the established limits of the human body. She thus regenerates fatigue
          points just as dwarves do.\n 
          __*_<7>Psychic Mortification<2> -- At 8th level, the alienist's mind has become
          so scorched by outer horrors that mortal traumas no longer have the ability
          to damage it -- her Intelligence, Wisdom and Charisma are sustained at 5
          points each.\n
           __*_<7>Sanity-Blasting Spellcasting<2> -- At 9th level, the alienist's
           methods of spellcasting are so otherworldly and alien that any creature
           of CR 7 or lower who sees her cast a spell takes 1d2 points of Wisdom
           damage.\n
           __*_<7>Distant Apotheosis<2> -- At 10th level, the alienist becomes a
           fundamentally alien creature herself, developing trememdously increased
           physical resistance. She gains immunity to critical hits, no longer needs
           to breathe or eat and does not age.\n\n 

           <10>SPELL LIST<2>\n
           <15>__1st level -- <1> grease, obscurement, spiritwrack, true strike.\n
           <15>__2nd level -- <1> hypnotic pattern, revealed lore, stinking cloud, 
           touch of idiocy.\n
           <15>__3rd level -- <1> animate shadows, explosive runes, lorecall.\n
           <15>__4th level -- <1> confusion, evard's black tentacles, phantasmal 
           killer, premonition.\n
           <15>__5th level -- <1> banishment, distance distortion, dream, nightmare,
           open the third eye.
      
           \n\n<10>THE ALIENIST<15>\n
           __Level__Def__Fort_Refl_Will_CL_Special Abilities<1>\n
           ____1____+0____+2___+2___+0__-- In. Wisdom, Uneasy Mind\n
           ____2____+0____+3___+3___+0__+1 Outer Pathways\n
           ____3____+0____+3___+3___+1__+2 Surreal Presence\n
           ____4____+1____+4___+4___+1__-- Mad Certainty\n
           ____5____+1____+4___+4___+1__+3 Visitation\n
           ____6____+1____+5___+5___+2__+4 Inhuman Allies\n
           ____7____+1____+5___+5___+2__+5 Feverish Obsession\n
           ____8____+2____+6___+6___+2__+6 Psychic Mortification\n
           ____9____+2____+6___+6___+3__+7 Sanity-Blasting Sp.\n
           ____10___+2____+7___+7___+3__+8 Distant Apotheosis\n
           \n";
HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[4]: 6, 8, 10, 18, 20,
25, 26, 28, 29,
34, 36, 43, 47;
Grants:
Stati[124,11,-1] at every level starting at 1st,
Stati[124,3,-1] at every level starting at 1st,
Stati[124,44,-1] at every level starting at 1st,
Stati[124,32,-1] at every level starting at 1st,
Stati[124,41,-1] at every level starting at 1st,
Stati[230,0x0010,+1] at every level starting at 1st,
Ability[82,+1] at 2nd level,
Ability[82,+1] at 3rd level,
Ability[82,+1] at every level starting at 5th,
Feat[(((((49 + 1) + 32) + 50) + 38) + 17)] at 1st level,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4)] at 4th level,
Stati[124,8,+10] at 4th level,
Ability[44, $"contact other plane"] at 5th level,
Stati[214,58] at 6th level,
Ability[117,+1] at 7th level,
Stati[125,3,+5] at 8th level,
Stati[125,4,+5] at 8th level,
Stati[125,5,+5] at 8th level,
Stati[79,(37+1000)] at 9th level;
Flags: 11, 6, 8, 10;
Lists:
* 21
1 $"grease" $"obscurement" $"spiritwrack" $"true strike"
2 $"hypnotic pattern" $"revealed lore" $"stinking cloud"
$"touch of idiocy"
3 $"animate shadows" $"explosive runes" $"lorecall"
4 $"confusion" $"evard's black tentacles" $"phantasmal killer"
$"premonition"
5 $"banishment" $"distance distortion" $"dream" $"nightmare;spell"
$"open the third eye";
On Event 153 {


if (EActor->HasEffStati(230,$"Mage")) {


if (EActor->HasEffStati(230,$"Abjurer"))
EActor->IncEffStatiMag(230,$"Abjurer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Arcanist"))
EActor->IncEffStatiMag(230,$"Arcanist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Diviner"))
EActor->IncEffStatiMag(230,$"Diviner",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Enchanter"))
EActor->IncEffStatiMag(230,$"Enchanter",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Evoker"))
EActor->IncEffStatiMag(230,$"Evoker",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Illusionist"))
EActor->IncEffStatiMag(230,$"Illusionist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Necromancer"))
EActor->IncEffStatiMag(230,$"Necromancer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Thaumaturge"))
EActor->IncEffStatiMag(230,$"Thaumaturge",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Weaver"))
EActor->IncEffStatiMag(230,$"Weaver",4,NULL,+1);


if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 18)
EActor->SetEffStatiMag(230,$"Mage",9);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 16)
EActor->SetEffStatiMag(230,$"Mage",8);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 14)
EActor->SetEffStatiMag(230,$"Mage",7);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 12)
EActor->SetEffStatiMag(230,$"Mage",6);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 9)
EActor->SetEffStatiMag(230,$"Mage",5);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 7)
EActor->SetEffStatiMag(230,$"Mage",4);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 5)
EActor->SetEffStatiMag(230,$"Mage",3);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"alienist") >= 3)
EActor->SetEffStatiMag(230,$"Mage",2);
}
else if (EActor->HasEffStati(230,$"Priest")) {
EActor->IncEffStatiMag(230,$"Priest",4,NULL,+1);
EActor->GainAbility(23,+1,$"Priest",4);
}
else if (EActor->HasEffStati(230,$"Bard"))
EActor->IncEffStatiMag(230,$"Bard",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Druid"))
EActor->IncEffStatiMag(230,$"Druid",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Ranger"))
EActor->IncEffStatiMag(230,$"Ranger",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Paladin"))
EActor->IncEffStatiMag(230,$"Paladin",4,NULL,+1);
return 0;
};
}

Effect "Surreal Presence" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "prestige.irh" 448
Flags: 34, 53, 54;
rval: 0x00000004|0x00000002; aval: 9; lval: 3; cval: 8;
xval: 114; yval: 51; pval: -2;
On Event
43
"You feel disquieted." /
"The <EActor> seems unsettled.",
44
"You feel less disturbed now." /
"The <EActor> seems more composed now.";
}

Class "Assassin"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(12) < 10) {
failed = true; EActor->IPrint("You need Disguise +10.");
}
if (EActor->ISkillLevel(39) < 10) {
failed = true; EActor->IPrint("You need Poison Use +10.");
}
if (EActor->ISkillLevel(18) < 7) {
failed = true; EActor->IPrint("You need Hide +7.");
}
if (EActor->ISkillLevel(36) < 7) {
failed = true; EActor->IPrint("You need Move Silently +7.");
}
if (EActor->isMType(106)) {
failed = true; EActor->IPrint("Assassins cannot be of Good alignment.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d8__<15>Mana:<1>_d8__<15>Skills:<1>_8_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Thrown <9>100~<1>\n
      <2>\n__The Guild of Assassins has an old and arcane history on Theyra, having existed
      in some recognizable form for over two millenia, and having pursued an ageless
      vendetta with the Thieves. More than simply murderers, Assassins are mystical slayers
      devoted to a secret order and famed to be able to reach even the most protected
      targets in even the most remote locations. There is an aristocracy to the Assassin,
      a sense of entitlement and elitism. Assassins tend to believe their order fulfills an
      important philosophical purpose, maintaining political and social balance by
      ensuring that decadant kings and degenerate nobles are not able to place themselves
      beyond retribution as a function of their station. Of course, in practice, the
      Assassins are killers for profit, and there is very little that qualifies as 
      redeeming qualities within their guild.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Assassin is a prestige class. It counts as a favored class
      for all characters. In order to become an Assassin, you must have:\n
      __*_<7>Skills Levels<2> -- Disguise +10, Poison Use +10, Hide in
      Shadows +7, Move Silently +7.\n
      __*_<7>Alignment<2> -- Assassins cannot be of Good alignment.\n
            
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Assassin are Alchemy, Appraise,
      Balance, Bluff, Climb, Disguise, Escape Artist, Find Weakness,
      Gather Information, Handle Device, Hide in Shadows, Intimidate, 
      Intuition, Jump, Listen, Lockpicking, Move Silently, Poison Use,
      Spot, Swim and Tumble. 
      
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Assassins gain proficiency with crossbows
      and light weapons.\n      
      __*_<7>Sneak Attack<2> -- Assassins can make use of Sneak Attacks in
      the same manner a Rogue does; they gain +1d6 Sneak Attack damage
      every odd level. Levels of this ability from Assassin, Rogue and any
      other class stack.\n
      __*_<7>Death Attack<2> -- An assassin who has had time to study her
      target (in game terms, being out of combat long enough to be considered
      Exploring rather than Fighting) and attacks that target by complete 
      surprise in a situation where the target cannot percieve the Assassin, 
      is considered to have made a death attack and has a chance to slay that 
      target outright. A death attack can only be made against a target within
      30 feet; greater distance negates the needed precision.\n
      __The victim of a death attack must make a Fortitude saving throw
      against a DC of 10 + the Assassin's class level + the Assassin's
      Intelligence modifier; failure means they are slain instantly. If
      they succeed at this saving throw, they are still subject to damage
      from the attack, which may kill them anyway.\n
      __*_<7>Spells<2> -- Assassins practice magic and are capable of
      casting Arcane spells from a tiny subset of the mage list. They have
      their own spellbooks, though in a pinch they can use normal arcane
      spellbooks for spellcasting as well.\n
      __*_<7>Skill Mastery<2> -- Assassins gain a +1 competance bonus to
      Disguise and Poison Use for every Assassin class level.\n
      __*_<7>Uncanny Dodge<2> -- Assassins gain this ability at the same
      rate that Rogues do, and a character's Rogue and Assassin levels
      stack to determine her effective Rogue level for the purposes of
      Uncanny Dodge.

      \n\n<10>SPELL LIST<2>\n
      <15>__1st level -- <1>change self, convulsion, expeditious retreat,
      magic weapon, obscurement, passwall, read magic, shield, sleep,
      spider climb, true strike, ventriloquism.\n
      <15>__2nd level -- <1>bladethirst, choke, ESP, globe of shadow, 
      hypnotic pattern, infravision, invisibility, levitation, 
      pass without trace, rope trick, web.\n
      <15>__3rd level -- <1>animate shadows, blink, clairvoyance, deeper 
      darkness, deep slumber, displacement, gaseous form, greater magic
      weapon, illusory stance, nondetection.\n
      <15>__4th level -- <1>enervation, free action, improved invisibility,
      phantasmal killer, poison, premonition, track monster.\n
      <15>__5th level -- <1>cloudkill, dream, lower resistance, misdirection,
      power word: stop, telekinesis, wizard sight.\n
      <15>__6th level -- <1>disintegrate, power word: stun.
      
      \n\n<10>THE ASSASSIN<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__Sneak Attack +1d6 \n
      ____2____+1____+0___+3___+0__+1 caster level   \n
      ____3____+1____+1___+3___+1__Sneak Attack +2d6 \n
      ____4____+2____+1___+4___+1__+1 caster level   \n
      ____5____+2____+1___+4___+1__Sneak Attack +3d6 \n
      ____6____+3____+2___+5___+2__+1 caster level   \n
      ____7____+3____+2___+5___+2__Sneak Attack +4d6 \n
      ____8____+4____+2___+6___+2__+1 caster level   \n
      ____9____+4____+3___+6___+3__Sneak attack +5d6 \n
      ____10___+5____+3___+7___+3__+1 caster level";
HitDice: 8; Mana: 8; Def: 1/2;
Attk: 1 50,
2 75,
3 100,
0 100;
Skills[8]: 1, 5, 6, 7, 12, 13,
14, 16, 18, 20,
21, 22, 32, 33, 36,
39, 3, 44, 45, 46;
Grants:
Ability[82,+1] at every 2nd level starting at 2nd,
Ability[80,+1] at every 2nd level starting at 1st,
Ability[100,+1] at every level starting at 1st,
#line "prestige.irh" 586
Stati[124,12,+1] at every level starting at 1st,
Stati[124,39,+1] at every level starting at 1st,
Stati[230,0x0004,+1] at every level starting at 1st;
On Event 153 {
hObj hBook;
if (EActor->LevelAs($"Assassin") == 1) {
EActor->GainPermStati(79,NULL,4,
(20+500),0,$"Death Attack");
EActor->GainPermStati(79,NULL,4,
(19+500),0,$"Death Attack");
EActor->IPrint("Aiswin blesses you with a book of murder lore!");
hBook = CreateItem($"spellbook [Lore of Murder I]");
EActor->GainItem(hBook);
}
return 0;
};
Flags: 7, 10, 11;
Lists:
* 21
1 $"change self" $"convulsion" $"expeditious retreat" $"magic weapon"
$"obscurement" $"passwall" $"read magic" $"shield" $"sleep" $"spider climb"
$"true strike" $"ventriloquism"
2 $"choke" $"ESP" $"globe of shadow" $"hypnotic pattern"
$"infravision" $"invisibility" $"pass without trace" $"levitation"
$"bladethirst" $"rope trick" $"web"
3 $"deeper darkness" $"nondetection" $"displacement"
$"animate shadows" $"illusory stance" $"blink" $"clairvoyance"
$"deep slumber" $"gaseous form" $"greater magic weapon"
4 $"improved invisibility" $"free action;spell" $"phantasmal killer"
$"enervation" $"premonition" $"track monster"
5 $"dream" $"lower resistance" $"misdirection" $"power word: stop"
$"cloudkill" $"telekinesis" $"wizard sight"
6 $"disintegrate" $"power word: stun";

}

Effect "Death Attack" : 46
{
Flags: 82; int32 okForDA;
On Event ((19+500)+10000)
{
if (!EVictim->isCreature())
return 0;
okForDA = false;
if (EActor->isFlatFooted() && EVictim->isFlatFooted())
if (!EVictim->Percieves(EActor))
if (EActor->Percieves(EVictim))
okForDA = true;
return 0;
},
((20+500)+10000)
{
int32 svDC;
if (!EVictim->isCreature())
return 0;
if (!EVictim->isCreature())
return 0;
if (EVictim->isDead())
return 0;
if (EActor->DistFrom(EVictim) > 3)
return 0;
if (e.isSurprise && okForDA)
{
svDC = 10 + EActor->LevelAs($"Assassin");
svDC += EActor->Mod(3);
if (EVictim->SavingThrow(0,svDC,0x00000010))
{
EActor->IPrint("The <hObj> resists your death attack!", EVictim);
return 0;
}
TPrint(e,"You assassinate the <EVictim>!",
"The <EActor> assassinates you!",
"The <EActor> assassinates the <EVictim>!");
ThrowDmg(42,e.DType,0,"an Assassin's death attack",
EActor, EVictim, EItem, EItem2);
return EVictim->isDead() ? 1 : 0;
}
return 0;
},
163 {
e.nAppend = Format(" (DC %d)",
10 + EActor->LevelAs($"Assassin") +
EActor->Mod(3));
return 0;
};
}

Class "Blackguard"
{
On Event 155 {
int32 failed;
failed = false;

if (!EActor->isMType(103))
{
EActor->IPrint("You must be Evil.");
failed = true;
}

if (EActor->GodID == $"Erich" || EActor->GodID == $"Immotian" ||
EActor->GodID == $"Khasrach" || EActor->GodID == $"Xel")
{
EActor->IPrint("You may not worship Erich, Immotian, Khasrach 
            or Xel.");
failed = true;
}
if (EActor->ISkillLevel(20) < 12) {
failed = true;
EActor->IPrint("You need to have Intimidate +12.");
}
if (EActor->ISkillLevel(24) < 10) {
failed = true;
EActor->IPrint("You need to have Knowledge (The Infernal) +10.");
}
if (EActor->GetBAB(2) < 6 && EActor->GetBAB(0) < 6 &&
EActor->GetBAB(1) < 6 && EActor->GetBAB(3) < 6) {
failed = true;
EActor->IPrint("You need to have a BAB of at least +6 in one category.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d10_<15>Mana:<1>_d6__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>rw_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>__It's uncommon in the extreme for free-willed, intelligent living beings to
      willingly and knowingly devote themselves to the ideal of evil. Oh, certainly,
      Theyra is well stocked with murderers, tyrants and all manner of despicable
      corruption -- but at the end of the day, the vast majority of Evil characters
      commit their amoralities for false ideology or personal profit, and then turn
      around and rationalize their acts as best as they can within their own value
      systems. The blackguard, however, is the exception to this rule.\n
      __A blackguard is fully cognisant of the objective quality of good and evil,
      and in that context has willfully and knowingly embraced evil, determined to
      live up to the image of everything unholy and profane. This deviant psychology
      includes a willful drive to cultivate and nurture sociopathy and to engage in
      all manner of wicked acts simply because their are so. The blackguard may be 
      superficially motivated by powerlust, bigotry, guilt or any other common drive,
      but in the end if is a kind of spiritual perversity, a love of evil, that drives
      them to do the things that they do. They know what they are, and they enjoy it.\n
      __No mainstream religion on Theyra tolerates blackguards. Despite his objective
      alignment, Erich will expend truly significant military force to hunt down and
      destroy a blackguard -- or anyone suspected or accused of being one -- often
      killing hundreds of innocents in the process. Neither does the priesthood of Xel 
      tolerate them, fearing that their perversity and theatric nature would draw too
      much of the wrong kind of attention down on their ranks. A few blackguards
      worship Zurvash, but the majority serve either the Multitude or the archdevils
      and demon princes of the Lower Planes directly.
      
      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The blackguard is a prestige class. It counts as a favored class for
      all characters. In order to become a blackguard, you must have:\n
      __*_<7>Alignment<2> -- Obviously, any character who wishes to become a
      blackguard must be utterly Evil. Changing to a non-evil alignment causes
      all of the blackguard's supernatural class features to become inaccessable.\n
      __*_<7>Base Attack Bonus<2> -- An aspirant must have a BAB of at least +6
      in one category.\n
      __*_<7>Skills<2> -- A character must be a creature of blood, terror and
      brutality even before becoming a blackguard, possessed of an Intimidate
      score of +12 or higher. He must also be knowledgable in the ways of the
      Lower Planes in order to attract a patron, with a Knowledge (Infernal)
      rating of +10 or higher.\n
      __*_<7>Religion<2> -- Very few gods will tolerate a blackguard as a 
      follower. In addition to gods who do not tolerate Evil followers in
      general, Xel, Erich, Immotian and Khasrach will not accept blackguards
      among their worshippers.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the blackguard are Craft, Find Weakness,
      Intimidate, Knowledge (Infernal), Knowledge (Theology), Knowledge 
      (Planes), Poison Use and Ride. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The blackguard is proficient with blades,
      impact weapons, polearms and spears, and with all classes of armor.\n
      __*_<7>Spellcasting<2> -- Blackguards practice certain diabolical magic.
      They gain one caster level for every even blackguard level, and choose
      their spells from the special blackguard list. Blackguards cast spells
      just like priests do, being able to cast in any armor freely, but
      needing to have a holy symbol equipped (if they have a god).\n
      __*_<7>Unholy Grace<2> -- Just as a paladin does, a blackguard may add
      his Charisma bonus to all of his saving throws as a grace bonus.\n
      __*_<7>Sense Light<2> -- Starting at 1st level, a blackguard can use
      <9>detect good<2> as an innate spell-like ability at will.\n
      __*_<7>Smite Good<2> -- A blackguard can smite Good-aligned creatures.
      When she perform the Great Blow maneuver against a Good creature, a
      blackguard adds her Charisma bonus to the attack roll and gains a
      bonus to the damage roll equal to her blackguard class level.\n
      __*_<7>Command Undead<2> -- Starting at 3rd level, a blackguard can
      rebuke or command undead exactly as an evil priest of 1st level does.
      Every additional blackguard level increases this effective level by
      one.\n
      __*_<7>Aura of Despair<2> -- Starting at 4th level, a blackguard
      projects an aura of crushing despair around himself, not unlike that
      of a mummy. The aura reaches out to a radius of 20 feet around the
      blackguard; all who enter it and are not evil or immune to fear
      suffer a -2 morale penalty to all rolls.\n
      __*_<7>Sneak Attack<2> -- A blackguard gains a sneak attack just
      like a rogue's, starting at 5th level. Blackguard levels stack with
      rogue, assasin or any similar levels for determining the total level
      of this ability a blackguard possesses.\n
      __*_<7>Fiendish Servant<2> -- Starting at 5th level, a blackguard
      can summon an imp or quasit, as suits his alignment, who will serve
      him loyally. The creature remains until dismissed, and if slain can
      be summoned anew the next day.

      \n\n<10>SPELL LIST<2>\n
      <15>__1st level -- <1>bane, cause fear, convulsion, cure light wounds, 
      doom, inflict light wounds, magic weapon, malignance, mount, pain touch,
      protection from good, spiritwrack.\n
      <15>__2nd level -- <1>bladethirst, bull's strength, cure moderate
      wounds, death knell, deeper darkness, inflict moderate wounds, scare,
      shatter, summon swarm, visage of death.\n
      <15>__3rd level -- <1>adamant facade, animate shadows, blackmantle, 
      contagion, cure serious wounds, greater magic weapon, inflict serious 
      wounds, magic circle vs. good, phantom steed, sign of discord.\n
      <15>__4th level -- <1>animate dead, burning blood, cure critical wounds, 
      inflict critical wounds, lesser planar conjuration, thornwrack, wall of 
      fire.\n
      <15>__5th level -- <1>evard's black tentacles, infernal blood, nightmare, 
      slay living.\n
      <15>__6th level -- <1>create corporeal undead, harm, heal, planar 
      conjuration.\n
      
      \n\n<10>THE BLACKGUARD<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+0__Sense Light, Smite Good\n
      ____2____+1____+3___+0___+0__+1 caster level,\n
      _____________________________Unholy Grace\n
      ____3____+1____+3___+1___+1__Command Undead\n
      ____4____+2____+4___+1___+1__Aura of Despair,\n
      _____________________________+1 caster level \n
      ____5____+2____+4___+1___+1__Sneak Attack +1d6,\n
      _____________________________Fiendish Servant\n
      ____6____+3____+5___+2___+2__+1 caster level\n
      ____7____+3____+5___+2___+2__Sneak Attack +2d6\n
      ____8____+4____+6___+2___+2__+1 caster level\n
      ____9____+4____+6___+3___+3__Sneak Attack +3d6\n
      ____10___+5____+7___+3___+3__+1 caster level\n";
HitDice: 10; Mana: 6; Def: 1/4;
Attk: 1 100,
2 100,
3 100,
0 100;
Skills[4]: 9, 14, 20, 24,
30, 29, 39, 40;
Grants:
Ability[82,+1] at every 2nd level starting at 2nd,
Stati[230,0x0008,+1] at every level starting at 1st,
Ability[79,106,+1] at every level starting at 1st,
Ability[44,$"detect good"] at 1st level,
Ability[25,+1] at 2nd level,
Ability[80,+1] at every 2nd level starting at 5th,
Ability[18,76,+1] at every level starting at 3rd,
Ability[44,$"fiendish servant"] at 5th level;
On Event 153 {
if (EActor->LevelAs($"blackguard") == 4)
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
return 0;
};
Flags: 11, 10, 6;
Lists:
* 21
1 $"bane" $"cause fear" $"convulsion" $"cure light wounds"
$"doom" $"inflict light wounds" $"magic weapon" $"malignance"
$"mount" $"pain touch" $"protection from good" $"spiritwrack"
2 $"bladethirst" $"bull's strength" $"cure moderate wounds"
$"death knell" $"deeper darkness" $"inflict moderate wounds"
$"scare" $"shatter" $"summon swarm" $"visage of death"
3 $"adamant facade" $"animate shadows" $"blackmantle" $"contagion"
$"cure serious wounds" $"greater magic weapon"
$"inflict serious wounds" $"magic circle vs. good" $"phantom steed"
$"sign of discord"
4 $"animate dead" $"burning blood" $"cure critical wounds"
$"inflict critical wounds" $"lesser planar conjuration"
$"thornwrack" $"wall of fire"
5 $"evard's black tentacles" $"infernal blood" $"nightmare;spell"
$"slay living"
6 $"create corporeal undead" $"harm" $"heal;spell" $"planar conjuration";

}


Effect "Aura of Despair" : 3
{ 0x00000008; Base: 90; Cost: 1; Level: 1; Flags: 82;
Purpose: 0x00010 (0); Flags: 34, 53;
rval: 0x00000004|0x00000002; aval: 9; lval: 3; cval: 8;
xval: 114; yval: 51; pval: -2;
On Event
43
"You feel your heart grow leaden." /
"The <EActor> seems overcome with hopelessnes.",
44
"The unnatural despair passses." /
"The <EActor> seems brighter now.",
155 {
if (EVictim->isMType(103) ||
EVictim->ResistLevel(28) == -1)
return -1;
return 0;
};
}

Effect "Fiendish Servant" : 9
{ 0x00000100; rval: $"babau"; pval: 6; Purpose: 0x00100;
Flags: 48, 95, 55, 22, 25,
76, 66;
Desc: "Starting at 5th level, a blackguard
      can summon an imp or quasit, as suits his alignment, who will serve
      him loyally. The creature remains until dismissed, and if slain can
      be summoned anew the next day.";
On Event 214
"You call upon the Lower Planes for aid!",
74
"Your fiendish servant returns Below.",
(28+1000) {
hObj hImp;
hImp = EMap->GetEncounterCreature(0);
if (hImp != NULL)
hImp->GainPermStati(79,EItem,7,
((42+2000)+1000), 0, $"Fiendish Servant", e.vCasterLev);
return 0;
},
(52+500) {
if (EActor->HasEffStati(72,$"Fiendish Servant"))
{
EActor->IPrint("Your fiendish servant is still recovering after being killed.");
return 2;
}
return 0;
},
(((42+2000)+1000)+10000) {
hObj hBlackguard;
if (!EVictim->isDead())
return 0;
hBlackguard = EVictim->GetEffStatiObj(79,$"Fiendish Servant");
hBlackguard->GainTempStati(72,NULL,-1,7, 0, 0, $"Fiendish Servant");
return 0;
};
}

Class "Bladesinger"
{
Desc: "<12>*** NOT FINISHED YET ***\n<15>HitDie:_<1>d6__<15>Mana:<1>_d10__<15>Skills:<1>_4_<15>Saves:<1>_f<9>RW<1>_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Thrown <9>50~<1>\n
      <2>\n__[ Flavor Text ]

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The bladesinger is a prestige class. It counts as a favored class
      for all characters. In order to become a bladesinger, you must have:\n
      __*_<7>Race<2> -- Only elves (not drow) may become bladesingers.\n
      __*_<7>BAB<2> -- Melee BAB +4.\n
      __*_<7>Skills Levels<2> -- Perform +15.\n
      __*_<7>Known Spells<2> -- You must know the <9>cat's grace<2> spell;
      having it as an innate spell-like ability does not qualify.\n 
      __*_<7>Feats<2> -- Expertise, Quicken Spell, Weapon Finesse.
      		
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the bladesinger are Athletics, Balance, 
      Diplomacy, Escape Artist, Jump, Knowledge (all), Listen, Perform 
      and Tumble.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Bladesingers are proficient with the long
      sword.\n
      __*_<7>Spellcasting<2> -- Bladesingers cast spells just as bards do,
      being able to cast in light armor and not requiring spellbooks. They
      cast spells from the bladesinger spell list and recieve one caster
      level for every even bladesinger level. They can also continue to
      learn spells from whatever casting class qualified them to be a
      bladesinger, though they must follow the restrictions of that class
      in casting those spells -- a warrior/mage/bladesinger, for example,
      cannot wear armor and must use spellbooks when casting spells on the
      mage list but not on the bladesinger list.\n
      __*_<7>Acrobatic Fighting<2> -- Bladesingers recieve a level of the
      Acrobatic Fighting ability (as described under the duelist prestige
      class) at every odd bladesinger level, starting at 3rd. Levels of
      this ability recieved from bladesinger and duelist stack.\n
      __*_<7>Bladesong Style<2> -- Starting at 1st level, a bladesinger
      recieves a dodge bonus to her defense class equal to the lower of 
      her Intelligence bonus or her total levels in the bladesong ability, 
      when wielding a rapier or long sword in her weapon hand and
      nothing in her ready hand. Every even level of bladesong
      also grants her a +5~ bonus to attack speed when she is
      so equipped.\n
      __At 3rd level, she gains a +4 bonus to Perform and
      Concentration when wielding a rapier or long sword in her
      weapon hand and nothing in her ready hand.\n
      __At 6th level, she no longer requires verbal components to
      cast bladesinger spells when she is wielding a rapier or
      long sword in her weapon hand and nothing in her ready
      hand.\n
      __At 9th level, she is able to use blade gestures to aid
      in the rapid casting of spells, and thus subtracts half
      (round up) of her weapon's enchantment bonus from the
      metamagic cost of the Quicken Spell feat.\n\n

      <10>SPELL LIST<2>\n
      <15>__1st level -- <1> burning hands, charm person, chromatic orb,
      color spray, enthrall, force bolt, magic missile, magic weapon, phase
      door, sleep, true strike, wall of fog.\n
      <15>__2nd level -- <1> apportation, bladethirst, cat's grace, eagle's
      splendour, ethereal blade, glitterdust, gust of wind, hypnotic pattern, 
      mage armor, mirror image, phantasmal force, see invisibility, shield\n
      <15>__3rd level -- <1> adamant facade, blink, conjure vortex, dimension
      door, dispel magic, displacement, flame arrow, fly, haste, heroism, ice
      lance, illusionary stance, improved phantasmal force, insightful stroke, 
      keen edge, ring of blades, suggestion, thunderlance.\n 
      <15>__4th level -- <1> charm monster, confusion, dismissal, evard's black 
      tentacles, force missiles, ice storm, phantasmal killer, premonition, 
      spectral force.\n
      <15>__5th level -- <1> color burst, cone of cold, fire lotus, lesser 
      symbol, lower resistance, misdirection, mooncloak, teleport, telekinesis, 
      watery double.\n
      <15>__6th level -- <1> immortal grandeur, true seeing.\n

      \n\n<10>THE BLADESINGER<15>\n
      __Level_Def__Fort_Refl_Will_Spd__Special Abilities<1>\n
      ____1___+0____+0___+2___+0__+0~__Bladesong Style\n
      ____2___+1____+0___+3___+0__+5~__+1 Caster Level\n
      ____3___+1____+1___+3___+1__+5~__Acrobatic Fight. 1,\n
      _________________________________Perform/Concent\n
      ____4___+2____+1___+4___+1__+10~ +1 Caster Level\n
      ____5___+2____+1___+4___+1__+10~ Acrobatic Fight. 2\n
      ____6___+3____+2___+5___+2__+15~ No Verbal Comp.,\n
      _________________________________+1 Caster Level\n
      ____7___+3____+2___+5___+2__+15~ Acrobatic Fight. 3\n
      ____8___+4____+2___+6___+2__+20~ +1 Caster Level\n
      ____9___+4____+3___+6___+3__+20~ Acrobatic Fight. 4,\n
      _________________________________Improved Quicken\n
      ____10__+5____+3___+7___+3__+25~ +1 Caster Level\n
      \n";

On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}


Class "Celestial Initiate"
{
Desc: "<12>*** NOT FINISHED YET ***\n<15>HitDie:_<1>d8__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_<9>FRW<1>_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n__[ Flavor Text ]

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The celestial initiate is a prestige class. It counts as a favored class
      for all characters. In order to become a celestial initiate, you must have:\n
      __*_<7>Skills Levels<2> -- Knowledge (Theology) +12.\n
      __*_<7>Alignment<2> -- Zealously Good (or zealously lawful for Immotian).\n
      __*_<7>Religion<2> -- You must worship, and have gained 6 blessings from,
      Essiah, Immotian or Xavias.\n
      __*_<7>Abilities<2> -- You must be able to cast <9>bless<2>.\n
      __*_<7>BAB<2> -- You must have one BAB category at +3. 

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the celestial initiate are Athletics, Concentration, 
      Decipher Script, Diplomacy, Heal, Intimidate, Knowledge (all), Listen,
      Perform and Tumble. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Celestial initiates gain proficiency with
      long blades, all types of armor and shields.\n
      __*_<7>Smite Evil<2> -- The celestial initiate gains the ability to
      smite evil just as a paladin does. Levels of this ability from
      paladin and celestial initiate stack.\n
      __*_<7>Resist Poison<2> -- At 1st level, the celestial initiate
      recieves a +4 bonus to saving throws versus poison. At 7th level,
      she becomes immune to poison.\n
      __*_<7>Elemental Resistances<2> -- At 2nd level, the celestial
      initiate gains resistances to two types of elemental damage, based
      on her alignment and the type of celestial she is transforming
      into: lawful archons resist electricity and acid, neutral guardinals
      resist fire and cold and chaotic eladrins resist fire and necromantic
      damage. These resistances begin at 5 and increase by +3 for every
      celestial initiate level thereafter.\n
      __*_<7>Spell-Like Abilities<2> -- At 1st level, the celestial
      initiate gains the ability to use <9>call light<2> as an innate
      spell-like ability.\n    
      __*_<7>Ability Increases<2> -- At 4th level, the celestial initiate
      recieves a +2 sacred bonus to Wisdom and Charisma; this bonus  
      increases to +4 at 7th level and +6 at 10th level.\n
      __*_<7>Wings<2> -- At 5th level, the celestial initiate grows a
      vestigal pair of feathery white wings that allow her to control
      her descent, giving her a constant <9>feather fall<2> effect. At
      6th level, these wings are fully developed and she may now fly
      at her full normal movement rate. At 8th level, she gains a 150%
      inherant bonus to her flying movement rate.\n
      __*_<7>Protective Aura<2> -- At 3rd level, a celestial initiate 
      gains the benefit of a constantly active <9>magic circle vs. evil<2> 
      effect. At 9th level, this strengthens to duplicate the full effect
      of a celestial's protective aura: the area of effect and penalty of
      the circle is doubled, and it also duplicates the effects of a
      <9>globe of invulnerability<2>, preventing the casting of
      spells of 5th level or lower by anyone other than the celestial
      initiate.\n
      __*_<7>Sharp Senses<2> -- The celestial initiate's senses sharpen
      starting at level 5, granting her two levels of the Sharp Senses
      ability (possessed by elves); levels of this ability gained from
      being an elf and a celestial initiate stack. The initiate gains
      another two levels of Sharp Senses at level 10.\n

      \n\n<10>THE CELESTIAL INITIATE<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+2___+2__Smite Evil, +4 vs.\n
      _____________________________poison, <9>call light<1>\n
      ____2____+0____+3___+3___+3__Elemental Resistances\n
      ____3____+1____+3___+3___+3__<9>magic circle vs. evil<1>\n
      ____4____+1____+4___+4___+4__+2 Wisdom, +2 Charisma\n
      ____5____+1____+4___+4___+4__Wings (Slow Fall), Sen. +2\n
      ____6____+2____+5___+5___+5__Wings (Full Flight)\n
      ____7____+2____+5___+5___+5__+4 Wisdom, +4 Charisma\n
      ____8____+2____+6___+6___+6__Wings (150~ Move Rate)\n
      ____9____+3____+6___+6___+6__Full Protective Aura\n
      ____10___+3____+7___+7___+7__+6 Wis, +6 Cha, Senses +4\n
      \n";


On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}

Class "Crimson Adept"
{
Desc: "<12>*** NOT FINISHED YET ***\n<15>HitDie:_<1>d8__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n__[ Flavor Text ]

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The crimson adept is a prestige class. It counts as a favored class
      for all characters. In order to become a crimson adept, you must have:\n
      __*_<7>Skills Levels<2> -- Alchemy +12, Concentration +12.\n
      __*_<7>Known Spells<2> -- Ten combined spell levels of Thaumaturgy and
      Necromancy spells.\n
      __*_<7>Feats<2> -- Brew Potion, Endurance.\n
      __*_<7>Attributes<2> -- Constitution 16+.\n
      __*_<7>Religion<2> -- You must worship Khasrach, Xel, Essiah, or no diety 
      at all. 

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the crimson adept are Alchemy, Concentration, Decipher 
      Script, Find Weakness, Healing, Intimidate, Knowledge (Infernal), Knowledge 
      (Magic), Knowledge (Mythology), Knowledge (Theology), Knowledge (Undead), 
      Metamagic, Spellcraft and Use Magic.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Crimson adepts gain proficiency with the
      whip.\n
      __*_<7>Spellcasting<2> -- At 2nd, 3rd, 5th, 6th, 8th and 9th levels, the
      crimson adept recieves a new spellcasting chart level, and advances her
      progress in another class's spell list in this order of priority: mage,
      priest, ranger, druid, paladin.\n
      __If the crimson adept has Domains, she continues to advance those as well,
      provided she is advancing as a divine caster.\n
      __*_<7>Blood Magic<2> -- Once per day (twice at 4th, thrice at 7th and
      four times at 10th), the crimson adept can choose to sacrifce hit points
      to regain mana points on a 1 for 1 basis. This is an instantaneous action
      that takes no time.\n
      __*_<7>Pain Tolerance<2> -- The self-mutilating practices of a crimson
      adept give her a strong resistance to pain and hone her mental discipline,
      allowing her to add her crimson adept level as a competance bonus to her
      Concentration skill rating.\n
      __*_<7>Blood Infusion<2> -- The crimson adept gains the power to enchant
      her own bloodstream, using a kind of blood alchemy to create and store
      potions within her own body. She may have up to [Crimson Adept level +
      Constitution modifier] potions in her bloodstream at once, and can activate
      these just like normal potions with the Quaff command. The primary advantage
      of blood infusions is that they take only five segments to permeate, versus
      the 30 segments normally used to drink a potion. Additionally, when the
      crimson adept reaches 10th level, the effects of all blood infusions are
      automatically maximized.\n
      __*_<7>Thicker than Water<2> -- The crimson adept learns to transmute her
      blood at 3rd level, diffussing and thickening it to make her more resistant
      to injury. She becomes immune to bleeding and gains a +2 magic bonus to her
      constitution, as well as a resistance of 5 to slashing damage. At 5th level,
      these bonuses increase to +4 Con and 7 resistance, and at 9th, +6 Con and
      9 resistance.\n
      __*_<7>Blood Whip<2> -- At 3rd level, the crimson adept gains the ability
      to slit his wrist and emit a stream of blood that supernaturally congeals
      into a razor-sharp liquid whip. This weapon acts as a keen weakening whip
      with an enchantment bonus equal to half the user's crimson adept class
      level (round down), but creating it costs her 3d6 hit points.\n
      __*_<7>Wounding Magic<2> -- Whenever a crimson adept of 4th level or higher
      inflicts non-elemental, non-aligned spell damage on a target (such as from 
      <9>magic missile<2>, <9>thornwrack<2>, <9>ring of blades<2>, <9>glyph of
      warding<2>, etc.), the target must make an additional Fortitude save (DC
      15 + crimson adept class level) or bleed for 1 additional point of damage
      for the next 2d6 rounds.\n
      __*_<7>Steal Life<2> -- The crimson adept is now able to regain magical
      energy through the death of creatures with blood; every such creature she
      kills restores to her half its Challenge Rating in mana points.\n
      __*_<7>Animate Blood<2> -- At the cost of 3 fatigue points, the crimson
      adept can animate the blood within any other creature, causing that
      creature to suffer [crimson adept level]d8 points of untyped damage as 
      their blood attempts to tear free of their body; a Fortitude saving
      throw halves the damage. If this effect kills the victim, a blood elemental
      (similar to a water elemental) is created to serve the caster for the
      remainder of the day, with its size being dependant upon the victim's
      Challenge Rating.\n    

      \n\n<10>THE CRIMSON ADEPT<15>\n
      __Level__Def__Fort_Refl_Will_CL_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__-- Blood Magic, Pain Tol.\n
      ____2____+0____+3___+0___+3__+1 Blood Infusion\n
      ____3____+0____+3___+1___+3__+2 +2 Con, Resistance 5,\n
      ________________________________Blood Whip, Clotting\n
      ____4____+1____+4___+1___+4__-- Wounding Spells\n
      ____5____+1____+4___+1___+4__+3 +4 Con, Resistance 7\n
      ____6____+1____+5___+2___+5__+4 /Caustic Vitae/\n
      ____7____+1____+5___+2___+5__-- Steal Life\n
      ____8____+2____+6___+2___+6__+5 Animate Blood\n
      ____9____+2____+6___+3___+6__+6 +6 Con, Resistance 9\n
      ____10___+2____+7___+3___+7__-- Maximize Infusion\n
      \n";


On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}

Class "Duelist"
{

Desc: "<12>*** NOT FINISHED YET ***\n<15>HitDie:_<1>d6__<15>Mana:<1>_d6__<15>Skills:<1>_6_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>100~<1>, Thrown <9>50~<1>\n
      <2>\n__[ Flavor Text ]

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The duelist is a prestige class. It counts as a favored class
      for all characters. In order to become a duelist, you must have:\n
      __*_<7>BAB<2> -- Melee BAB +3.\n
      __*_<7>Skills Levels<2> -- Tumble +10.\n
      __*_<7>Feats<2> -- Expertise, Mobility, Weapon Finesse.
            
      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the duelist are Appraise, Athletics, Balance, 
      Bluff, Climb, Escape Artist, Jump, Listen, Perform and Tumble.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Duelists gain proficiency with the daggers
      and short blades weapon groups, and with the long sword.\n
      __*_<7>Canny Defense<2> -- Starting at 1st level, duelists add the
      lower of their duelist level or their primary Intelligence modifier
      as an insight bonus to their armor class, when wearing medium or
      lighter armor. Note that as an insight bonus, this does not stack 
      with Zen Defense.\n
        [ Implementation note: use this as an excuse to do EV_CALC_VALUES
      and export AddBonus as an IncursionScript function -- it's about
      time! ]\n
      __*_<7>Scoundrel's Charm<2> -- Duelists recieve the Alluring feat
      as a bonus feat at 2nd level.\n
      __*_<7>Acrobatic Fighting<2> -- This ability grants a number of
      related benefits to a duelist, starting at 2nd level. Its benefits
      apply only when a character is wearing light or no armor, and is
      lightly encombered or less. Levels of this ability gained from
      duelist and bladesinger.\n
      __<3>Grace:<2> At 2nd level, the duelist recieves a +2 bonus to
      reflex saving throws, and to the skills Athletics, Balance, Jump and Tumble,
      provided she meets the conditions described above. This bonus increases 
      by +1 for every three further acrobatic fighting levels -- +3 at 5th, 
      +4 at 8th, etc.\n
      __<3>Acrobatic Charge:<2> At 3rd level, the duelist may perform an
      acrobatic charge. This allows her to charge and tumble at the same
      time, and when she does, her charge bonus increases by +1.\n
      __<3>Enhanced Mobility:<2> Starting at 4th level, the duelist gains
      a +1 bonus to Defense Class against attacks of opportunity; this
      bonus stacks with the one granted from the Mobility feat, and
      increases by +1 for every further level of acrobatic fighting from
      any source.\n
      __<3>Scenery is Power:<2> Starting at 5th level, the duelist gains
      a peerless ability to make use of her enviornment and objects around
      her when fighting. She gains a stunt bonus to hit and damage based on the
      terrain and objects around her. For example, standing in the same 
      square with a chest might give her +1/+1 (she could stand atop it for 
      a height advantage, kick it at an opponent, position it between her 
      and her opponent to direct the opponent's advance, etc.) Other
      features that can be used effectively in combat include doors, mud,
      water, forges, other furnature, hanging vines, etc.\n
      __Different types of scenery increase the creative stunts a character
      with this ability is capable of, and thus increase the bonuses granted,
      but a single type of scenery doesn't increase in bonus regardless of
      how much of it there is.\n
      __<3>Elaborate Parry:<2> A character with 5 levels of acrobatic fighting
      (such as a 6th-level duelist) finds that the benefits gained fron fighting
      defensively are doubled, while the penalties remain unchanged, provided
      that she is wielding a short blade or long sword as her primary weapon.\n
      __<3>Mantis Leap:<2> A character with 6 levels of acrobatic fighting is
      treated as possessing the Mantis Leap feat when she is wielding a short
      blade or long sword and wearing light or no armor.\n 
      __<3>Free Tumble:<2> With 8 levels of acrobatic fighting (i.e., a 9th-level
      duelist), the character gains the ability to use the Tumble skill without
      paying fatigue points. She may tumble for free once per day per two levels
      of acrobatic fighting.\n
      __*_<7>Rapier Wit<2> -- Duelists are infamous for using cutting insults
      and clever repartee to rattle their opponents, allowing them to land
      especially telling blows. Starting at 4th level, on 1 in 5 attacks
      against a sapient opponent using a dagger, short blade or long sword, 
      the duelist makes a Bluff check, which the target opposes with a
      Concentration check. If the duelist's check is higher, she adds half her
      margin of success to the damage of the attack, to a maximum of twice
      her primary Charisma modifier.\n
      __When the duelist reaches 7th level, this ability functions on 1 in 4
      attacks; at 10th, it functions on 1 in 3. This ability does not function
      if either attacker or victim is in a region of magical silence.\n
      __*_<7>Flashing Blade<2> -- The duelist recieves Deflect Arrows as
      a conditional bonus feat at 5th level and Deflect Magic as a conditional
      bonus feat at 8th level. The character is treated as having these
      feats only when wielding a magical short blade or long sword one-
      handed in her weapon hand with which her attack speed is 250~ or
      higher, and wearing light or no armor.\n 
      __*_<7>Luck of the Daring<2> -- The duelist recieves the Unearthly
      Luck ability at 6th level, allowing her to add her primary Luck
      modifier to all saving throws. Halfling duelists, who already have
      this ability from their race, recieve two bonus feats from the
      warrior feat list instead.
        
            
      \n\n<10>THE DUELIST<15>\n
      __Level__Def__Fort_Refl_Will_EM_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__-- Canny Defense\n
      ____2____+1____+0___+3___+0__-- Charm, Grace +2\n
      ____3____+1____+1___+3___+1__-- Acrobatic Charge\n
      ____4____+2____+1___+4___+1__+1 Rapier Wit (1 in 5)\n
      ____5____+2____+1___+4___+1__+2 Def. Arrows, Grace +3,\n
      ________________________________Scenery is Power\n
      ____6____+3____+2___+5___+2__+3 Elaborate Parry, Luck\n
      ____7____+3____+2___+5___+2__+4 Wit (1 in 4), M. Leap\n
      ____8____+4____+2___+6___+2__+5 Def. Magic, Grace +4\n
      ____9____+4____+3___+6___+3__+6 Free Tumble\n
      ____10___+5____+3___+7___+3__+7 Rapier Wit (1 in 3)\n
      \n";

On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}


Class "Earthsinger"
{
On Event 155 {
int32 failed;
failed = false;

if (!EActor->isMType(63) )
#line "prestige.irh" 1412
{
EActor->IPrint("You must be of a race that has spiritual ties to
            elemental earth, such as a dwarf, rock gnome or deep gnome.");
failed = true;
}
if (!EActor->IHasAbility(6))
{
EActor->IPrint("You must have the Bardic Music ability.");
failed = true;
}
if (EActor->GetBAB(2) < 5)
{
EActor->IPrint("You must have a melee BAB of +5.");
failed = true;
}
if (EActor->ISkillLevel(9) < 15)
{
failed = true;
EActor->IPrint("You need the Craft skill at 15+.");
}
if (EActor->GodID != $"ekliazeh" && EActor->GodID != ((rID)0))
{
failed = true;
EActor->IPrint("You may not worship a god other than Ekliazeh.");
}
if (!EActor->IHasFeat(((((49 + 1) + 32) + 50) + 8))) {
failed = true;
EActor->IPrint("You must have the Endurance feat.");
}
if (!EActor->IHasFeat((((((49 + 1) + 32) + 50) + 38) + 2))) {
failed = true;
EActor->IPrint("You must have the Hardiness feat.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d10_<15>Mana:<1>_d8__<15>Skills:<1>_4_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>75~<1>, Melee <9>100~<1>, Thrown <9>50~<1>\n
      <2>\n__Beyond even the priesthood of Ekliazeh, the dwarves as a race have
      always held a deep spiritual reverance for elemental earth. Their mythology
      is filled with animistic tales of heroes who spoke to the very stone, and
      were able to work miracles through communion with it. These rare dwarves
      occupy a niche vaguely similar to a saint -- their abilities are unquestionably
      sacred, yet they also set them outside of traditional society.\n
      __Very few dwarves have the potential to awaken the Earthsong within themselves.
      A potential Earthsinger must have some exposure to supernatural music, usually
      via bardic training, but the physical demands of the tradition mean that most
      aspirants are warrior-craftsmen with only a casual experimentation in the bardic
      arts. The stone demands champions who are as strong and enduring as it is, and
      also demands that they be master stoneworkers. For every thousand dwarves who
      aspires to learn the mystical Earthsong, only one or two manage to meet all of
      the requisites to become Earthsingers.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Earthsinger is a prestige class. It counts as a favored class for
      all characters. In order to become an Earthsinger, you must have:\n
      __*_<7>Race<2> -- All known Earthsingers are dwarves. An aspirant must be
      a dwarf, or a member of a race with similarly strong bonds to the earth,
      such as a rock gnome or pech.\n
      __*_<7>Base Attack Bonus<2> -- An aspirant must have a melee BAB of +5.\n
      __*_<7>Feats<2> -- Endurance, Hardiness.\n
      __*_<7>Skills<2> -- A successful aspirant must be a master stonecutter
      with a Crafts skill of 15+.\n
      __*_<7>Class Abilities<2> -- An aspirant must have the Bardic Music ability.\n
      __*_<7>Religion<2> -- An aspirant must either worship Ekliazeh (or another
      god who grants the Earth domain), or forsake gods entirely and devote himself
      utterly to the worship of elemental earth.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Earthsinger are Athletics, Balance, Climb, 
      Concentration, Craft, Heal, Knowledge (Planes), Listen, Mining,
      Perform, Search and Spot. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The Earthsinger gains no weapon or armor
      proficiencies.\n
      __*_<7>Stonebody<2> -- As an Earthsinger becomes closer and closer
      to the spiritual nature of elemental earth, her skin begins to take
      on a rocky texture and grows harder and harder. Every odd level of
      this class gives the Earthsinger a +1 natural armor bonus.\n 
      __*_<7>Earth Magic<2> -- By speaking to the stone itself using the
      Earthsong, the singer can learn from it, shape it, animate it and
      even take on its properties. In game terms, the character gains a
      number of spell-like abilities as she advances in this class, in
      the following order: <9>stone tell<2>, <9>soften stone<2>, <9>meld
      into stone<2>, <9>spike stones<9>, <9>earthmaw<2>, <9>wall of stone<2>,
      <9>transmute rock to mud<2>, <9>stoneskin<2>, <9>animate rock<2>,
      <9>conjure earth elemental<2>, <9>transmute flesh to stone<2> and
      <9>elemental aura<2> (the earth version only).\n
      __*_<7>Geomancy<2> -- Starting at 3rd level, a Earthsinger can tap
      into the primal energies of the earth in order to replenish her own
      magical energies. By spending two fatigue points, she can instantly
      regain 5d12 points of mana. At 7th level, the Earthsinger gains a
      greater facility with this ability, and it then costs her only one
      fatigue point.\n
      __*_<7>Grounded Stance<2> -- An Earthsinger is able to draw upon
      the power of the earth in order to enhance the force of her blows
      in melee or unarmed combat. Provided that her feet are touching
      the ground -- she is not levitating, ethereal or standing on 
      non-earthen terrain, and she is not wearing magical boots -- she
      may add her Earthsinger level to the damage of her melee or
      unarmed attacks.
      
      \n\n<10>THE EARTHSINGER<15>\n
      _Level_Def_Fort_Refl_Will_NA_GS__Special Abilities<1>\n
      ___1___+0___+2___+0___+2__+1 +1__Grounded Stance, Stone Tell\n
      ___2___+0___+3___+0___+3__+1 +2__Soften Stone, Meld i. Stone\n
      ___3___+0___+3___+1___+3__+2 +3__Geomancy I, Spike Stones\n
      ___4___+1___+4___+1___+4__+2 +4__Earthmaw, Wall of Stone\n
      ___5___+1___+4___+1___+4__+3 +5__Transmute Rock to Mud\n
      ___6___+1___+5___+2___+5__+3 +6__Stoneskin\n
      ___7___+1___+5___+2___+5__+4 +7__Geomancy II, Animate Rock\n
      ___8___+2___+6___+2___+6__+4 +8__Conjure Earth Elemental\n
      ___9___+2___+6___+3___+6__+5 +9__Transmute Flesh to Stone\n
      ___10__+2___+7___+3___+7__+5 +10_Elemental Aura (Earth)\n      
      \n";
HitDice: 10; Mana: 8; Def: 1/4;
Attk: 1 75,
2 100,
3 50,
0 50;
Skills[4]: 4, 5, 7, 8, 9,
17, 29, 32, 35, 37,
41, 44;
Grants:
Stati[118,17,+1] at every 2nd level starting at 1st,
Ability[44, $"Stone Tell"] at 1st level,
Ability[44, $"Soften Stone"] at 2nd level,
Ability[44, $"Meld into Stone"] at 2nd level,
Ability[44, $"Geomancy"] at 3rd level,
Ability[44, $"Spike Growth"] at 3rd level,
Ability[44, $"Earthmaw"] at 4th level,
Ability[44, $"Wall of Stone"] at 4th level,
Ability[44, $"Transmute Rock to Mud"] at 5th level,
Ability[44, $"Stoneskin"] at 6th level,
#line "prestige.irh" 1555
;
On Event 153 {
if (EActor->LevelAs($"Earthsinger") == 1)
ThrowEff(52,$"Grounded Stance",EActor,EActor);
return 0;
};
Flags: 11, 10, 8, 6;
}

Effect "Grounded Stance" : 3
{
xval: 79; yval: (20+500);
Flags: 54, 82, 33;
On Event (20+500) {
int32 mat;
if (EActor->isAerial())
return 0;
if (EActor->InSlot(10) != ((hObj)0))
return 0;
#line "prestige.irh" 1580
if (ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y), 16) ||
EMap->FallAt(EActor->x,EActor->y))
return 0;

e.strDmg += Format(" %+d GS", EActor->LevelAs($"Earthsinger"));
e.bDmg += EActor->LevelAs($"Earthsinger");
return 0;
};
}

Effect "Geomancy" : 26
{ 0x00000080; Level: 3; xval: 0x02; pval: 5d12+12;
Purpose: 0x00080 (2); Level: 3;
Desc: "By using geomancy, you can draw magical power from the
      earth, using it to restore 5d12 points of mana. This is
      draining, costing you 2 points of fatigue. At 7th level, it
      becomes easier to perform, costing only 1 fatigue.";
On Event (52+500) {
if (!EActor->LoseFatigue(EActor->LevelAs($"Earthsinger")
>= 7 ? 1 : 2, true))
return 2;
return 0;
},
206
"You draw mystical power from the stone around you!";
}

Class "Elementalist"
{
Desc: "<12>*** NOT FINISHED YET ***\n<15>HitDie:_<1>d8__<15>Mana:<1>_d12__<15>Skills:<1>_4_<15>Saves:<1>_fr<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n__[ Flavor Text ]

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The elementalist is a prestige class. It counts as a favored class
      for all characters. When you attempt entry into the class, you must
      choose one of the four classical elements (earth, air, fire or water)
      to focus on. Once you have gained your first elementalist level, this
      choice cannot be changed. In order to become an elementalist, you must 
      have:\n
      __*_<7>Spells<2> -- Eight levels of spells (for example, 1 3rd level and
      two 2nd level) with the descriptor of your chosen element. Characters
      who worship a god who grants the appropriate elemental domain (Immotian,
      Ekliazeh, Sabine or Kysul), or who have a matching elemental affinity as
      a racial ability, only need six levels of appropriate spells.\n
      __*_<7>Skills Levels<2> -- Knowledge (Planes) +12.\n
      __*_<7>Mentorship<2> -- You must have an intelligent creature of at least
      CR 3 in your party that has the appropriate elemental subtype.\n
      __*_<7>Feats<2> -- Empower Spell, Heighten Spell.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the elementalist are Concentration, Decipher Script, 
      Knowledge (all), Metamagic, Spellcraft and Use Magic. Additionally, you
      gain some additional class skills based on your chosen element: Earth --
      Craft, Mining and Wilderness Lore; Air -- Jump, Listen and Tumble; Fire --
      Athletics and Craft, and Water -- Alchemy, Escape Artist and Swim.\n 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Elementalists gain no new proficiencies.\n
      __*_<7>Spellcasting<2> -- Elementalists gain access to all wizard,
      priest and druid spells with their chosen elemental descriptor, at a
      rate of one spell level per elementalist level. They also continue to
      advance the spell access of whatever other spellcasting class they
      have; if they have more than one, one is chosen to advance in this
      order of priority: druid, mage, priest, ranger or bard. Elementalists
      can cast their newly accessable spells with the same rules the class
      whose spell access is still advancing has. In other words, priest-
      elementalists need holy symbols to use their elemental spells, but
      can cast in heavy armor; druid elementalists cannot cast elemental
      spells in metal armor, etc. The one exception is mage/elementalists,
      who do not need spellbooks for their elemental spells.\n
      __Elementalists gain a new caster level at every elementalist level
      except 1st and 5th.\n
      __*_<7>Elemental Specialist<2> -- An elementalist gains the same benefits
      as a specialist mage when using spells with her elemental descriptor
      -- a +25~ chance of spell success, correspondingly reduced mana cost
      and so forth. These benefits stack with existing specialist benefits
      for a mage-elementalist. Spells without the elemental descriptor are
      unaltered by this ability.\n
      __The elementalist also increases her effective caster level when
      using these spells by +2 at 1st and 5th levels. At 6th level, the
      DC of all spells with the appropriate descriptor increases by +2,
      just as with the School Focus feat, but for the element instead of
      a school.\n
      __There is a penalty to this power. When casting spells that do
      not have her chosen elemental descriptor, the spell inflicts only
      75~ of the damage, or has 75~ of its normal numerical magnitude.
      A mage-elementalist also loses the special advantage associated with
      her previous school specialization, such as a necromancer's increased
      ability to control undead, a weaver's controlled teleports or an 
      evoker's increased fatigue.\n
      __*_<7>Elemental Summons<2> -- When using a Summon Nature's Ally,
      Monster Summoning or Holy Summoning spell, elementalists always
      call creatures with the appropriate elemental subtype. This applies
      to all such spells effective at the 1st elementalist level.\n
      __Further, any animal companion or sacred mount you summon gains
      the aqueous, flame, earthen or gaseous template, as appropriate.\n 
      __*_<7>Elemental Dependency<2> -- Elementalists acquire a certain
      weakness based on their chosen element, starting at 1st level. Fire
      elementalists cannot cast spells or use magical items with the Water
      descriptor, and suffer untyped hit point damage from soaking, in
      addition to the normal effects. Water elementalists cannot use spells
      with the Fire descriptor, and suffer double damage from fire effects
      and magic. They are not injured by cold damage, but instead are
      <9>slow<2>ed for one round for every hit point of damage they would
      have taken.\n
      __Earth elementalists suffer a -2 penalty to hit, damage and saves, and 
      1 1/2 times mana cost for all spells, when they are not in direct physical 
      contact with earth or stone -- for example, when flying, levitating, climbing
      in trees, wearing boots or mounted. Air elementalists suffer a similar penalty 
      whenever they are not airbourne, or when they are grappled.\n
      __*_<7>Elemental Boost<2> -- Elementalists recieve a magic bonus to two
      attributes as they advance. This bonus is +1/+0 at 2nd level, +1/+1 at
      4th level, +2/+2 at 7th level and +3/+3 at 10th level. The attributes are
      Strength and Constitution for earth elementalists, Dexterity and Luck for
      air elementalists, Charisma and Intelligence for fire elementalists and
      Wisdom and Dexterity for water elementalists.\n
      __*_<7>Elemental Defense<2> -- Elementalists also gain certain defensive
      abilities based on their close connection to their chosen element. Earth
      elementalists add their elementalist level as a bonus to saving throws
      versus petrification, and gain the Toughness feat (or one of Endurance,
      Living Wall or Great Fortitude if they already have all the precursors)
      at 5th and immunity to critical hits at 8th. Air elementalists move like
      the wind itself, gaining Uncanny Dodge as a rogue of their elementalist
      level, Evasion at 5th and Improved Evasion at 8th.\n 
      __Fire elementalists gain fire resistance equal to three times their
      elementalist level, until they recieve complete immunity to fire at
      8th level. Water elementalists move sinuously, their bodies flowing
      like water -- they add their elementalist level to their Swim skill
      rating, gain the ability to breathe water at 5th level and a +4 magic
      bonus to their DC at 8th level.\n
      __*_<7>Elemental Brand<2> -- Any magical weapon wielded by an elementalist
      of 3rd level or higher gains a magical quality for as long as it remains
      in the elementalist's hands at no cost: flaming for fire elementalists,
      shifting for water elementalists, stunning for earth elementalists and
      seeking for air elementalists.\n
      __*_<7>Elemental Covenant<2> -- Starting at 9th level, creatures with the
      appropriate elemental subtype are automatically neutral to the elementalist,
      and will not attack her unless she provokes them.\n
      __*_<7>Elemental Body<2> -- At 10th level, the elementalist gains the
      innate spell-like ability to polymorph into a large elemental of the
      appropriate type. This costs 2 fatigue and lasts for 10 turns. When
      she uses this special form of polymorph, all of her equipment merges 
      into her new form. 

      \n\n<10>THE ELEMENTALIST<15>\n
      __Level__Def__Fort_Refl_Will_CL__EL_Special Abilities<1>\n
      ____1____+0____+0___+0___+2__--_+2__Focus, Specialist,\n
      ____________________________________Summons, Dependency<1>\n
      ____2____+0____+0___+0___+3__+1_+3__Boost (+1/+0)\n
      ____3____+1____+1___+1___+3__+1_+4__Brand\n
      ____4____+1____+1___+1___+4__+1_+5__Boost (+1/+1)\n
      ____5____+1____+1___+1___+4__--_+7__Defense I\n
      ____6____+2____+2___+2___+5__+1_+8__DC Increase (+2)\n
      ____7____+2____+2___+2___+5__+1_+9__Boost (+2/+2)\n
      ____8____+2____+2___+2___+6__+1_+10_Defense II\n
      ____9____+3____+3___+3___+6__+1_+11_Covenant\n
      ____10___+3____+3___+3___+7__+1_+12_Body, Boost (+3/+3)\n
      \n";


On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}

Class "Horizon Walker"
{
Desc: "<12>*** NOT FINISHED YET ***\n";

On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}

Class "Inquisitor"
{
Desc: "<12>*** NOT FINISHED YET ***\n<15>HitDie:_<1>d6__<15>Mana:<1>_d10__<15>Skills:<1>_8_<15>Saves:<1>_<9>F<1>r<9>W<1>_<15>Defense:_<1>1/3\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Thrown <9>50~<1>\n
      <2>\n__[ Flavor Text ]

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The inquisitor is a prestige class. It counts as a favored class
      for all characters. In order to become an inquisitor, you must have:\n
      __*_<7>Skills Levels<2> -- Intimidate +12.\n
      __*_<7>Alignment<2> -- Zealously Lawful.\n
      __*_<7>Feats<2> -- Detective.\n
      __*_<7>Abilities<2> -- You must be able to turn undead as a 5th-level
      priest.\n
      __*_<7>Religion<2> -- You must worship Immotian, and have attained at
      least four blessings from him. 

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the inquisitor are Appraise, Bluff, Concentration,
      Decipher Script, Diplomacy, Disguise, Escape Artist, Find Weakness,
      Gather Information, Intimidate, Knowledge (all), Listen, Lockpicking,
      Metamagic, Poison Use, Search, Spellcraft and Spot.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Inquisitors gain proficiency with light
      weapons and daggers.\n
      __*_<7>Spellcasting<2> -- At every level save for 1st and 3rd, the
      inquisitor gains a spellcasting chart level. The inquisitor also
      treats inquisitor levels as if they were priest levels for the purpose
      of improving her access to the priest spell list. Inquisitors also
      have their own spell list, which they recieve access to at one
      spell level per inquisitor level.\n
      __The inquisitor does not gain new domain spells or improve the
      abilities granted by domains for her inquisitor levels, however.\n
      __*_<7>Turn Undead<2> -- The inquisitor gains one level of the turn
      undead ability for every inquisitor class level; this stacks with
      the levels gained from being a priest or paladin.\n
      __*_<7>Zealous Mettle<2> -- The inquisitor learns to trust in zeal
      and endurance alone to protect them. When unarmored, she adds a
      sacred bonus to all of her saving throws equal to her inquisitor
      class level. At 9th level she recieves Toughness as a bonus feat
      as long as she is unarmored; at 10th level, she recieves Resilience
      likewise.\n
      __*_<7>Grim Reputation<2> -- The agents of the Purified Office of the
      Sacred Inquisition are rightly feared for their political power and
      methods of torture; they in turn learn to exloit fear as a tactical
      advantage, adding their inquisitor class level to their Intimidate
      skill as an insight bonus.\n
      __*_<7>Detect Corruption<2> -- Inquisitors are trained to root out
      criminal behaviour, discerning heretics and dissidents. Starting at
      1st level, they gain <9>detect corruption<2> as an innate spell-like
      ability; this functions as <9>detect evil<2>, save that it detects
      both evil and chaotic creatures, and does not reveal those who have
      Immotian's favor regardless of alignment.\n
      __*_<7>Smite Corruption<2> -- An inquisitor can smite corrupt creatures
      just as a paladin smites evil creatures. Additionally, the inquisition
      thrives on mob justice; for every allied creature the inquisitor has
      with her, her effective level increases by one for smiting purposes.
      If a paladin/inquisitor smites a creature both evil and corrupt, the
      damage bonuses stack, but the Charisma bonus to hit is added only
      once.\n
      __*_<7>Purge Magic<2> -- Inquisitors, like all of Immotian's clergy,
      view arcane magic as unclean; they are taught special methods of
      purging magical influences from an area, person or object, and recieve
      a +1 bonus to caster level checks for <9>dispel magic<2> and related
      efffect at 2nd level, +1 for every inquisitor level thereafter.\n
      __*_<7>Blessed Tithe<2> -- At its root, the inquisition exists not
      to defend light and purity, or even to uphold dogma and suppress
      other religions, but to provide a legal framework for the Church of
      Immotian to sieze the land and wealth of social malcontents and
      minorities, thereby maintaining the hegemony of the Church of Immotian 
      within Theryan society. Inquisitors thus have as a primary goal the
      procurement of gold for the church, which they can translocate to
      the High Temple of the Pure Flame by offering it on an altar to
      Immotian.\n
      __Immotian offers a powerful incentive to those inquisitors who 
      bring wealth to the church. Starting at 3rd level, an inquisitor
      can offer coins as a sacrifice to Immotian. While this does not
      increase divine favor -- the coins are not a 'true' sacrifice --
      the inquisitor does recieve 1 experience point for every 25 gold
      pieces worth of riches offered in this manner.\n 
      __Using this ability funds an evil organization and is therefore
      an evil act.\n
      __*_<7>Purified Sight<2> -- Starting at 4th level, the inquisitor
      is innately able to see invisible creatures.\n
      __*_<7>Gentle Inquiry<2> -- Starting at 5th level, the inquisitor 
      is able to inflict agony with a simple touch., and may use the
      <9>pain touch<2> spell (described under domain spells) as an 
      innate spell-like ability. At 7th level, she may use <9>burning
      blood<2> likewise.\n
      __*_<7>Incorruptable<2> -- Immotian blesses his inquisitors
      personally, rendering them incorruptable (for some definitions
      of the term, anyway). Starting at 6th level, they are immune
      to charm effects; at 8th level, they become immune to all
      compulsions.\n

      <10>SPELL LIST<2>\n
      <15>__1st level -- <1> ethereal blade, spiritwrack.\n
      <15>__2nd level -- <1> animate rope, bladethirst, divine sacrifice,
      ESP, false life, invisibility.\n
      <15>__3rd level -- <1> clairvoyance, dismissal, explosive runes, 
      fear, iron sword, phantom steed.\n
      <15>__4th level -- <1> aura of abjuration, crushing despair, 
      dominate person, improved invisibility, nemesis spell, 
      order's wrath, phantasmal killer, premonition.\n
      <15>__5th level -- <1> force shapechange, holy sword.\n      

      \n\n<10>THE INQUISITOR<15>\n
      __Level__Def__Fort_Refl_Will_CL_Special Abilities<1>\n
      ____1____+0____+2___+0___+2__-- Turn Undead, Zealous\n
      ________________________________Mettle, Grim Rep.,\n
      ________________________________Det./Smite Corruption\n
      ____2____+0____+3___+0___+3__+1 Purge Magic\n
      ____3____+1____+3___+1___+3__-- Blessed Tithe\n
      ____4____+1____+4___+1___+4__+2 Purified Sight\n
      ____5____+1____+4___+1___+4__+3 Inquiry (Pain Touch)\n
      ____6____+2____+5___+2___+5__+4 Incorruptable (Charms)\n
      ____7____+2____+5___+2___+5__+5 Inquiry (Burn. Blood)\n
      ____8____+2____+6___+2___+6__+6 Incorruptable (Comp.)\n
      ____9____+3____+6___+3___+6__+7 Toughness\n
      ____10___+3____+7___+3___+7__+8 Resilience\n
      \n";


On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}



Class "Loremaster"
{
On Event 155 {
int32 failed; int32 i, c;
failed = false;

c = 0;
for (i=23;i<=31;i++)
if (EActor->ISkillLevel(i) >= 10)
c++;

if (c < 4) {
failed = true;
EActor->IPrint("You must have 4 Knowledge skills at 10+;
                        you only have <Num>.", c);
}

c = 0;
for(i=0;i!=2048;i++)
if (EActor->SpellKnown(i) & (0x0001))
if (theGame->SpellID(i)->Schools & 0x00000004)
c += theGame->SpellID(i)->Level;

if (c < 10) {
failed = true;
EActor->IPrint("You must have 10 levels of known Divination spells;
                        you only know <Num>.",c);
}

if (!EActor->IHasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24))) {
failed = true;
EActor->IPrint("You must have the Scribe Scroll feat.");
}

if (EActor->isMType(106) || EActor->isMType(103))
if (EActor->isMType(104) || EActor->isMType(105))
{
failed = true;
EActor->IPrint("You must have a neutral alignment component.");
}

if (failed)
return 2;
else
return 1;
};
Desc: "<15>HitDie:_<1>d4__<15>Mana:<1>_d12__<15>Skills:<1>_6_<15>Saves:<1>_fr<9>W<1>_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>50~<1>, Brawl <9>50~<1>, Melee <9>50~<1>, Thrown <9>50~<1>\n
      <2>\n__While many mages are academics to some extent, the Loremasters are an order
      that places the seeking of knowledge above all other goals. These wise wizards are
      widely sought after by universities as teachers, and by royal courts and military
      camps as advisers and viziers. Despite this demand, however, Loremasters tend to
      be isolationistic, living cloistered lives in distant towers or establishing sacred
      monastaries in the desert in which to preserve vast stores of ancient books.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Loremaster is a prestige class. It counts as a favored class for
      all characters. In order to become a Loremaster, you must have:\n
      __*_<7>Skills Levels<2> -- 4 Knowledge skills at +10.\n
      __*_<7>Feats<2> -- Scribe Scroll.\n
      __*_<7>Spells<2> -- 10 levels of known Divination spells (i.e., 2 3rd-level
      spells and 2 2nd-level spells).\n
      __*_<7>Alignment<2> -- You must have a neutral component in your alignment.   

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Loremaster are Alchemy, Appraise, Craft, Concentration, Decipher
      Script, Heal, Illusioncraft, Intuition, Knowledge (all), Metamagic, Seneschal,
      Spellcraft and Use Magic.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The Loremaster gains no weapon or armor
      proficiencies.\n
      __*_<7>Spellcasting<2> -- The Loremaster gains one spellcasting level for every
      Loremaster level after the 1st. Additionally, she continues to gain access to new
      spells from her original spellcasting class as if every Loremaster level was a
      level in that class. If she has more than one spellcasting class, she gains new
      spell access for mage as a priority if she has that, then bard, then druid, then
      priest, then ranger, then paladin.\n
      __*_<7>Legend Lore<2> -- Loremasters gain -- or continue to advance in -- the 
      Legend Lore ability, gaining one level of such for every Loremaster level.\n
      __*_<7>Ancient Books<2> -- At 2nd, 4th and 8th levels, the constant knowledge-seeking
      and research of a Loremaster pays off and they 'discover' a new spellbook hidden away 
      somewhere near them.\n
      __*_<7>Knowledge<2> -- Loremasters gain three bonus skill points that can be devoted
      only to Knowledge skills with every class level.\n 
      __*_<7>Forewarning<2> -- Loremasters are able to sense and predict attacks before
      they occur, and gain a +1 insight bonus to DC every even Loremaster level.\n 
      __*_<7>Studious Development<2> -- Loremasters gain a +1 competance bonus to their
      Intelligence at every odd Loremaster level.\n 
      __*_<7>Secrets<2> -- As Loremasters advance in level, they gain certain exceptional
      abilities as a result of the ancient mysticism they study:\n
      __At 1st level, Loremasters gain the inherant ability to see invisible.\n
      __At 3th level, Loremasters gain the Fatesense ability, allowing them to instantly
      discern whether a given item is cursed or blessed.\n
      __At 5th level, Loremasters gain an exceptional insight into magical books, and
      gain an extra +1d2 attribute points from any tome they read.\n
      __At 6th level, Loremasters gain the ability to use Glyph of Warding as an innate
      spell-like ability.\n
      __At 7th level, Loremasters gain constant <9>true seeing<2>.\n
      __At 9th level, Loremasters gain the Skill Mastery ability also possessed by some
      rogues (and described under that class).
      __At 10th level, Loremasters gain the ability to use Greater Glyph of Warding as an
      innate spell-like ability.
      
      \n\n<10>THE LOREMASTER<15>\n
      __Level__Def__Fort_Refl_Will_Bonus_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__+1 In_Lore, See Invisible \n
      ____2____+0____+0___+3___+0__+1 DC_Bonus Spellbook   \n
      ____3____+0____+1___+3___+1__+2 In_Fatesense\n
      ____4____+1____+1___+4___+1__+2 DC_Bonus Spellbook  \n
      ____5____+1____+1___+4___+1__+3 In_Bibliographic Insight\n
      ____6____+1____+2___+5___+2__+3 DC_Glyph of Warding\n
      ____7____+1____+2___+5___+2__+4 In_True Seeing\n
      ____8____+2____+2___+6___+2__+4 DC_Bonus Spellbook \n
      ____9____+2____+3___+6___+3__+5 In_Skill Mastery \n
      ____10___+2____+3___+7___+3__+5 DC_Greater Glyph of W.\n      
      \n";
HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[6]: 1, 9, 8, 10, 17,
19, 21, 23,24,25,26,27,28,29,30,31, 34, 42,
3, 43, 47;
Grants:
Ability[82,+1] at every level starting at 2nd,
Stati[109,3,+1] at every 2nd level starting at 1st,
Stati[108,27,+1] at every 2nd level starting at 2nd,
Ability[50,+1] at every level starting at 1st,
Stati[101] at 1st level,
Ability[33,+1] at 3rd level,
Ability[44,$"Glyph of Warding"] at 6th level,
Stati[148] at 7th level,
Ability[75,+1] at 9th level,
Ability[44,$"Glyph of Warding, Greater"] at 10th level;
On Event 153 {
hObj hBook, it; rID bID; int32 i; int32 found;
EActor->GainBonusSkills($"Loremaster Knowledge",3);
if ( EActor->LevelAs($"Loremaster") == 2 ||
EActor->LevelAs($"Loremaster") == 4 ||
EActor->LevelAs($"Loremaster") == 8 )
{
for (i=0;i!=20;i++)
{
bID = theGame->GetItemID(1,4,20,22);
found = false;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->iID == bID)
found = true;
if (!found)
break;
}
hBook = CreateItem(bID);
EActor->IPrint("You've discovered a tome of ancient lore!");
EActor->GainItem(hBook,false);
}


if (EActor->HasEffStati(230,$"Mage")) {


if (EActor->HasEffStati(230,$"Abjurer"))
EActor->IncEffStatiMag(230,$"Abjurer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Arcanist"))
EActor->IncEffStatiMag(230,$"Arcanist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Diviner"))
EActor->IncEffStatiMag(230,$"Diviner",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Enchanter"))
EActor->IncEffStatiMag(230,$"Enchanter",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Evoker"))
EActor->IncEffStatiMag(230,$"Evoker",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Illusionist"))
EActor->IncEffStatiMag(230,$"Illusionist",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Necromancer"))
EActor->IncEffStatiMag(230,$"Necromancer",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Thaumaturge"))
EActor->IncEffStatiMag(230,$"Thaumaturge",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Weaver"))
EActor->IncEffStatiMag(230,$"Weaver",4,NULL,+1);


if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 18)
EActor->SetEffStatiMag(230,$"Mage",9);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 16)
EActor->SetEffStatiMag(230,$"Mage",8);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 14)
EActor->SetEffStatiMag(230,$"Mage",7);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 12)
EActor->SetEffStatiMag(230,$"Mage",6);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 9)
EActor->SetEffStatiMag(230,$"Mage",5);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 7)
EActor->SetEffStatiMag(230,$"Mage",4);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 5)
EActor->SetEffStatiMag(230,$"Mage",3);
else if (EActor->LevelAs($"mage") + EActor->LevelAs($"loremaster") >= 3)
EActor->SetEffStatiMag(230,$"Mage",2);
}
else if (EActor->HasEffStati(230,$"Bard"))
EActor->IncEffStatiMag(230,$"Bard",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Druid"))
EActor->IncEffStatiMag(230,$"Druid",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Priest"))
EActor->IncEffStatiMag(230,$"Priest",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Ranger"))
EActor->IncEffStatiMag(230,$"Ranger",4,NULL,+1);
else if (EActor->HasEffStati(230,$"Paladin"))
EActor->IncEffStatiMag(230,$"Paladin",4,NULL,+1);
return 0;
};
Flags: 8, 10, 11;
}



Class "Loremaster Knowledge"
{
Flags: 12;
Skills[0]: 23,24,25,26,27,28,29,30,31;
}

Class "Master Archer"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->GetBAB(0) < 5)
{
failed = true;
EActor->IPrint("You must have an archery BAB of +5.");
}
if (EActor->WepSkill($"long bow") < 2 &&
EActor->WepSkill($"short bow") < 2)
{
failed = true;
EActor->IPrint("You must have Weapon Focus in a bow.");
}
if (!EActor->IHasFeat((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17)))
{
failed = true;
EActor->IPrint("You must have the Point Blank Shot feat.");
}
if (!EActor->IHasFeat(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9)))
{
failed = true;
EActor->IPrint("You must have the Rapid Shot feat.");
}
if (!EActor->IHasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41)))
{
failed = true;
EActor->IPrint("You must have the Zen Archery feat.");
}
if (EActor->ISkillLevel(8) < 7)
{
failed = true;
EActor->IPrint("You must have Concentration 7+.");
}
if (!(EActor->isMType(62) || EActor->IAttr(4) >= 17))
{
failed = true;
EActor->IPrint("You must have Wisdom 17+, or be elven.");
}

if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_f<9>RW<1>_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>50~<1>, Melee <9>75~<1>, Thrown <9>50~<1>\n
      <2>\n\tThe Master Archer is a practicioner of a secretive but potent archery-based
      martial art, a philosophical ideal that seeks to meld meditation, archery and
      athleticism into a single, perfected whole. The practice is particulairly common
      among elves, but members of other races have on rare occasions been initiated into
      the Master Archer class as well.\n
      
      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Master Archer is a prestige class. It counts as a favored class for
      all characters. In order to become a Master Archer, you must have:\n
      __*_<7>Skills Levels<2> -- Concentration +10.\n
      __*_<7>Feats<2> -- Point Blank Shot, Rapid Shot, Zen Archery, Weapon
      Focus (long bow or short bow).\n
      __*_<7>Base Attack<2> -- Initiates must have a Base Attack Bonus of +5 in
      the archery category.\n
      __*_<7>Special<2> -- Initiates must show exceptional aptitude for the art
      in the form of a Wisdom score of 17+; this requirement is waived for elves,
      who have an easier time finding a teacher.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the Master Archer are Athletics, Balance, Climb, 
      Concentration, Craft, Find Weakness, Hide, Listen, Move Silently, Spot
      and Wilderness Lore.
      
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The Master Archer gains no weapon or armor
      proficiencies.\n
      __*_<7>Arrowstorm<2> -- The primary ability of the Master Archer is to fire
      arrows at a truly staggering rate as a result of their transcendent focus and
      discipline. Every Master Archer level taken adds a +5%% bonus to attack speed
      in archery.\n
      __*_<7>Blindsight<2> -- Starting at 6th level, the Master Archer gains the
      Blindsight ability as a result of her transcendant focus and meditation; this
      ability has a range of 30 feet at 6th, plus 10 feet for every Master Archer
      level thereafter.\n
      __*_<7>Ranged Sneak Attack<2> -- The Master Archer is able to strike unprepared
      foes with lethal shots for extra damage. This functions exactly like a Rogue's
      Sneak Attack ability, but can only be performed with a long bow or short bow.\n
      __*_<7>Feats<2> -- The Master Archer gains the Defensive Shot feat at 2nd level
      and the Precise Shot feat at 8th; if she already has either of these feats, she
      can choose any other feat upon attaining these levels instead.\n
      __*_<7>Opportune Shot<2> -- Starting at 4th level, whenever a creature hostile 
      to the Master Archer is struck as an attack of opportunity by someone other than
      the archer within 60 feet of the archer, and the archer has a clear line of fire
      to that creature, she may take an immediate, single shot against the creature
      that suffered an attack of opportunity.\n
      __*_<7>Banked Shot<2> -- Upon reaching 10th level, the master archer is able to
      rebound a shot off a solid surface like a wall one or more times to strike a
      target outside her line of sight. There must be a clear path to the target
      traversing fewer squares than the outside limit of her bow's range, and the
      shot is made at a -4 penalty, not including any range modifier. The archer
      must have some ability to percieve her target without a clear line of sight,
      such as the blindsight ability above.
      
      \n\n<10>THE MASTER ARCHER<15>\n
      __Level__Def__Fort_Refl_Will_AStorm_Special Abilities<1>\n
      ____1____+0____+0___+2___+2___+5~___Ranged Sneak +1d6\n
      ____2____+1____+0___+3___+3___+10~__Defensive Shot\n
      ____3____+1____+1___+3___+3___+15~__Ranged Sneak +2d6\n
      ____4____+2____+1___+4___+4___+20~__Opportune Shot\n
      ____5____+2____+1___+4___+4___+25~__Ranged Sneak +3d6\n
      ____6____+3____+2___+5___+5___+30~__Blindsight\n
      ____7____+3____+2___+5___+5___+35~__Ranged Sneak +4d6\n
      ____8____+4____+2___+6___+6___+40~__Precise Shot\n
      ____9____+4____+3___+6___+6___+45~__Ranged Sneak +5d6\n
      ____10___+5____+3___+7___+7___+50~__Banked Shot\n
      \n";
HitDice: 6; Mana: 4; Def: 1/2;
Attk: 1 50,
2 75,
3 50,
0 100;
Skills[6]: 4, 5, 7, 9, 8,
14, 18, 32, 36, 44,
48;
Grants:
Stati[113,7,+1] at every level starting at 1st,
Feat[(((49 + 1) + 32) + 25)] at 2nd level,
Ability[13,+3] at 6th level,
Ability[13,+1] at every level starting at 7th,
Feat[(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 25)] at 8th level;

On Event 153 {
if (EActor->LevelAs($"Master Archer") == 1)
ThrowEff(52,$"Ranged Sneak Attack",EActor,EActor);
if (EActor->LevelAs($"Master Archer") == 4)
ThrowEff(52,$"Opportune Shot",EActor,EActor);
};

Flags: 7, 8, 10, 11;
}

Effect "Ranged Sneak Attack" : 3
{
On Event ((19+500)+10000) {
EActor->RemoveEffStati($"Ranged Sneak Attack;2");
if (e.AType != 65)
return 0;
EActor->GainTempStati(39,NULL,1,7,
80,(EActor->LevelAs($"Master Archer")+1)/2,$"Ranged Sneak Attack;2");
return 0;
},
((19+1000)+10000) {
EActor->RemoveEffStati($"Ranged Sneak Attack;2");
return 0;
},
163 {
e.nAppend = XPrint(" +<Num>d6",
(EActor->LevelAs($"Master Archer")+1)/2);
return 0;
};
xval: 79; yval: (19+500);
Flags: 54, 33, 82;
}
and 3
{ xval: 79; yval: (19+500); }

Effect "Ranged Sneak Attack;2" : 3
{ }

Effect "Opportune Shot" : 3
{
aval: 9; lval: 6; rval: 0x00000004;
Flags: 54, 82, 33;
xval: 79; yval: ((19+2000)+1000);
On Event (((19+2000)+1000)+10000) {
hObj hArcher; int32 to;
hArcher = EVictim->GetEffStatiObj(79, $"Opportune Shot");
if (hArcher == ((hObj)0))
return 0;
if (hArcher->InSlot(2) == ((hObj)0))
return 0;
if (!hArcher->InSlot(2)->isType(24))
return 0;
if (e.isAoO && EVictim->isHostileTo(hArcher))
{
to = hArcher->Timeout;
Throw(48,hArcher,EVictim);
hArcher->Timeout = to;
}
return 0;
};
}

Class "Sentinel"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(32) < 10) {
failed = true; EActor->IPrint("You need Listen level 10.");
}
if (EActor->ISkillLevel(44) < 10) {
failed = true; EActor->IPrint("You need Spot level 10.");
}
if (EActor->ISkillLevel(41) < 10) {
failed = true; EActor->IPrint("You need Search level 10.");
}
if (!EActor->IHasFeat(((49 + 1) + 5))) {
failed = true; EActor->IPrint("You need the Alertness feat.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d4__<15>Skills:<1>_8_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <12>Experimental:<2> The Sentinel is not a Core Incursion class.\n
      <2>\n\tSentinels are characters who have learned how important it is
      to notice dangers before they notice you. Rogues and rangers often
      end up as sentinels.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Sentinel is a prestige class. It counts as a favored class for
      all characters. In order to become a
      sentinel, you must have:\n
      __*_<7>Skills Levels<2> -- Listen 10, Search 10, Spot 10.\n
      __*_<7>Feats<2> -- Alertness.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the sentinel are Appraise, 
      Concentration, Handle Device, Hide, Listen, Move Silently, 
      Lockpicking, Pick Pockets, Search, and Spot.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The sentinel gains no weapon or armor
      proficiencies.\n
      __*_<6>1st Level: <7>Superior Senses<2> -- The sentinel gains a
      +2 insight bonus to all Spot, Search and Listen skills. The sentinel
      also gains a +2 save bonus against illusions.\n
      __*_<6>2nd Level: <7>Sharp Senses<2> -- The sentinel gains an
      addition +1 bonus to all Spot, Search and Listen skills. The sentinel
      automatically makes a Search check whenever she steps within 10 feet
      of a secret door that has not already been searched for. \n
      __*_<6>3rd Level: <7>Detect Unnatural<2> -- The sentinel gains the
      innate ability to cast <9>detect good<2> and <9>detect evil<2>.\n
      __*_<6>3rd Level: <7>Acute Senses<2> -- The sentinel gains the
      Acute Senses feat, increasing her Sight, Shadow,
      Infravision and Scent Ranges by 50~.\n
      __*_<6>4th Level: <7>Blindsight<2> -- Using senses not available to
      normal adventurers, the sentinel can function in total darkness using
      a form of sonar that allows them to locate objects and creatures
      within 120 feet (12 squares). Blindsight is reduced by metallic
      helmets and large objects held in the hands.\n
      __*_<6>4th Level: <7>Uncanny Dodge<2> -- The sentinel is never caught
      flat-footed.\n
      \n\n<10>THE SENTINEL<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+0___+0__Superior Senses\n
      ____2____+0____+3___+0___+0__Sharp Senses\n
      ____3____+0____+3___+1___+1__Detect Unnat, Acute Senses\n
      ____4____+1____+4___+1___+1__Blindsight, Uncanny Dodge\n
      ...";
HitDice: 6; Mana: 4; Def: 1/4;
Attk: 1 75,
2 75,
3 75,
0 75;
Skills[8]: 8, 16, 18, 32,
36, 33, 38, 41, 3,
44;
Grants:
Stati[124,44,+2] at 1st level,
Stati[124,32,+2] at 1st level,
Stati[124,41,+2] at 1st level,
Stati[123,12,+2] at 1st level,
Ability[73,+1] at 2nd level,
Ability[44,$"detect good"] at 3rd,
Ability[44,$"detect evil"] at 3rd,
Feat[((49 + 1) + 2)] at 3rd level,
Ability[13,+12] at 4th level,
Ability[100,+1] at every level starting at 4th;
Flags: 7, 10, 11;
}

Class "Shadowdancer"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(36) < 8) {
failed = true; EActor->IPrint("You need Move Silently +8.");
}
if (EActor->ISkillLevel(18) < 12) {
failed = true; EActor->IPrint("You need Hide +12.");
}
if (EActor->ISkillLevel(37) < 10) {
failed = true; EActor->IPrint("You need Perform +10.");
}
if (EActor->ISkillLevel(4) < 7) {
failed = true; EActor->IPrint("You need Athletics +7.");
}
if (!EActor->IHasFeat((((49 + 1) + 32) + 14))) {
failed = true; EActor->IPrint("You need the Combat Reflexes feat.");
}
if (!EActor->IHasFeat((((49 + 1) + 32) + 44))) {
failed = true; EActor->IPrint("You need the Dodge feat.");
}
if (!EActor->IHasFeat(((((((49 + 1) + 32) + 50) + 38) + 30) + 27))) {
failed = true; EActor->IPrint("You need the Mobility feat.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d8__<15>Mana:<1>_d4__<15>Skills:<1>_8_<15>Saves:<1>_f<9>R<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>75~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>\n__Shadowdancers are stealthy characters whose affinity for shadows goes
      beyond merely finding them useful concealment -- instead, these characters
      form a mystical bond with shadow, learning to use shadows for protection,
      travel and even allies. Shadowdancers are a diverse society, travelling
      across Theyra in tropes and staging elaborate, sinister dances for adoring
      audiences -- their order harbors many secrets but is not, ultimately, a
      malignant force in the world.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The shadowdancer is a prestige class. It counts as a favored class
      for all characters. In order to become a
      shadowdancer, you must have:\n
      __*_<7>Skills Levels<2> -- Move Silently +8, Hide +12, Perform +10,
      Athletics +7.\n
      __*_<7>Feats<2> -- Combat Reflexes, Dodge, Mobility.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the shadowdancer are 
      Balance, Bluff, Decphier Script, Escape Artist, Hide, Jump, Listen, 
      Move Silently, Perform, Search, Spot, Pick Pockets, and Tumble. 
       
      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The shadowdancer is proficient with all
      simple weapons, daggers, blades, thrown weapons, flexible weapons,
      archery and light armor.\n
      __*_<7>Evasion<2> -- A shadowdancer that makes a Reflex
      save to avoid an area-effect attack takes no damage. Levels of this
      ability from shadowdancer and other classes stack toward gaining
      Improved Evasion.\n
      __*_<7>Uncanny Dodge<2> -- A shadowdancer has a preternatural ability 
      to avoid harm. Levels of this ability gained from shadowdancer and
      other classes stack.\n
      __*_<7>Hide in Plain Sight<2> -- A shadowdancer is able to use this
      ability to slip away into shadows, hiding even when directly observed
      by other characters, at 3rd level.\n
      __*_<7>Infravision<2> -- A shadowdancer gains the ability to see in 
      the dark for 20 feet (2 squares) or has her darkvision range extended 
      by 20 feet (2 squares) culmulatively at 2nd, 5th and 9th levels.\n
      __*_<7>Shadow Illusion<2> -- A shadowdancer gains the innate ability to 
      use <9>animate shadows<2> at 2nd level, <9>mirror image<2> at 7th level
      and <9>shadow monsters<2> at 10th level.\n
      __*_<7>Shadow Companion<2> -- Starting at 4th level, a shadowdancer
      gains the ability to summon shadows from the Demiplane of Shadows.
      Unlike most shadows, these creatures are not ravenous predators of
      life, but instead loyal and dependable allies. The shadows gain the
      elder template when the shadowdancer reaches level 6 and the ancient
      template when the shadowdancer reaches level 9.\n
      __*_<7>Shadow Step<2> -- A shadowdancer gains the innate ability 
      to cast <9>shadow step<2> at will, starting at 4th level. This
      ability allows her to teleport herself short distances so long
      as she is in a shadowy area; the distance travelled depends upon
      her level as a shadowdancer.\n
      __*_<7>Defensive Roll<2> -- If you have this ability, you are able to 
      move with the impact from blows, lessening their effect even if they do 
      hit you. This ability does not function in heavy armor. When you are 
      struck by a creature that needs a 15 or greater to hit you, you only 
      suffer a certain fraction of the damage, starting at 5/6th. The number 
      of sixths of the total damage can be further reduced in the following 
      circumstances, to a minimum of 1/6th:\n
      __* You are Small and your foe is Medium-sized or larger (-1/6th).\n
      __* Your foe can only hit you on a natural 20 (-1/6th).\n
      __* You are unarmored (-2/6ths) or in light armor (-1/6th).\n
      __This ability does not function if you have spells active which
      simulate the effect of heavy armor (such as Spirit Armor) and
      Mage Armor is treated as medium armor for this purpose.\n
      __*_<7>Improved Uncanny Dodge<2> -- A shadowdancer
      can no longer be flanked except by a rogue four levels higher.
      
      \n\n<10>THE SHADOWDANCER<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+0___+2___+0__Evasion, Uncanny Dodge\n
      ____2____+1____+0___+3___+0__Infravision (20 ft),\n
      _____________________________Shadow Illusion I\n
      ____3____+1____+1___+3___+1__Hide In Plain Sight\n 
      _____________________________Sneak Attack +1d6\n
      ____4____+2____+1___+4___+1__Shadow Step, Shadow Com.\n
      ____5____+2____+1___+4___+1__Defensive Roll,\n
      _____________________________Infravision (40 ft)\n
      ____6____+3____+2___+5___+2__Elder Companions,\n
      _____________________________Sneak Attack +2d6\n
      ____7____+3____+2___+5___+2__Shadow Illusion II\n
      ____8____+4____+2___+6___+2__Ancient Companions\n
      ____9____+4____+3___+6___+3__Sneak Attack +3d6,\n
      _____________________________Infravision (60 ft)\n
      ____10___+5____+3___+7___+3__Shadow Illusion III\n";
HitDice: 8; Mana: 4; Def: 1/2;
Attk: 1 75,
2 75,
3 75,
0 75;
Proficiencies: 0x00000001, 0x00001000, 0x00000004, 0x00000100,
0x00004000, 0x00000020, 0x20000000;
Skills[8]: 5, 6, 10, 13, 18,
22, 32, 36, 37, 41, 44,
38, 46;
Grants:
Feat[((49 + 1) + 11)] at 1st level,
Ability[31,+1] at every level starting at 1st,
Ability[100,+1] at every level starting at 1st,
Ability[42,+2] at 2nd level,
Ability[44,$"animate shadows"] at 2nd,
Ability[142] at 3rd level,
Ability[44,$"Shadow Companion"] at 4th,
Ability[44,$"shadow step"] at 4th,
Ability[137,+1] at 5th,
Ability[42,+2] at 5th level,
Ability[80,+1] at every 3rd level starting at 3rd,
Ability[44,$"mirror image"] at 7th level,
Ability[42,+2] at 9th level,
Ability[44,$"shadow monsters"] at 10th level;
Flags: 7, 10, 11;
}

Effect "Shadow Companion" : 9
{ 0x00000040; 0x00000020; Base: 75; Cost: 7; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"shadow"; pval: 5;
Desc: "A shadowdancer is able to summon shadows to act as her
      companions; if she has 6 levels as a shadowdancer, the shadows
      gain the elder template; with 9 levels, the shadowdancer
      summons ancient shadows.";
Flags: 79, 95;
On Event (28+1000) {
rID tID; hObj cr; int32 i;
if (!EActor->isCharacter())
return 0;
if (EActor->LevelAs($"shadowdancer") >= 9)
tID = $"ancient";
else if (EActor->LevelAs($"shadowdancer") >= 6)
tID = $"elder";
else
return 0;
for (i=0;cr = EMap->GetEncounterCreature(i);i++)
cr->AddTemplate(tID);
};
}

Effect "Shadow Step" : 6
{ 0x00000100; Base: 90; Cost: 6; Level: 3; pval: 1d12+-102;
Purpose: 0x00008; xval: 2; Flags: 82;
Desc: "This ability allows you to meld into a shadow, stepping out
      of any other shadow within 1d12 + (shadowdancer level x 2) squares
      away. In cannot be used in areas of bright light. Favor with Aiswin
      can replace shadowdancer levels in strengthening this ability.";
On Event 28
"You dissolve into the shadows." /
"The <EVictim> dissolves into the shadows.",
(52+500) {
if (EMap->BrightAt(EActor->x,EActor->y))
{
EActor->IPrint("There are no suitable shadows to step into here!");
return 2;
}
return 0;
},
170 {
if (EActor->isCharacter())
e.vCasterLev = max(EActor->getGodLevel($"Aiswin"),
EActor->LevelAs($"shadowdancer"));
else
e.vCasterLev = 4;
return 0;
};
}

Class "Tattoo Mystic"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->GetBAB(1) < 3) {
failed = true;
EActor->IPrint("You must have a brawl BAB of 3+.");
}
if (EActor->ISkillLevel(26) < 8) {
failed = true; EActor->IPrint("You need Knowledge (Mythology) +8.");
}
if (EActor->ISkillLevel(1) < 8) {
failed = true; EActor->IPrint("You need Alchemy +8.");
}
if (EActor->ISkillLevel(27) < 8) {
failed = true; EActor->IPrint("You need Knowledge (Nature) +8.");
}
if (!EActor->IHasAbility(99)) {
failed = true; EActor->IPrint("You need the class feature Unarmed Strike.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d8_<15>Mana:<1>_d4__<15>Skills:<1>_4_<15>Saves:<1>_<9>FRW_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>75~<1>, Brawl <9>100~<1>, Melee <9>75~<1>, Thrown <9>75~<1>\n
      <2>__Some monks, rather than continuing to develop along the more conventional
      route, choose to take up the path of the tattoo mystic -- an ancient tradition
      involving the creation of magical tattoos to augment a martial artist's strength
      and prowess. These supernatural artisans are anything but pragmatic, however,
      viewing their craft as both a great form of art and an ability to express the
      inner, totemic natures of their beings. Steepled in myth and metaphor, the way
      of the tattoo mystic involves fasting, dream interpretation, the careful study
      of animals and an advanced understanding of alchemy, used in the preparation of
      the supernatural inks used for tattooing.

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The tattoo mystic is a prestige class. It counts as a favored
      class for all characters. In order to become a tattoo mystic, 
      a character must have must have:\n
      __*_<7>Skills Levels<2> -- The understanding of the complex metaphors,
      animal allegories and legends the tradition is steepled in requires
      Knowledge (Mythology) +8 and Knowledge (Nature) +8. To prepre the
      tattoo inks, a character must also have Alchemy +8.\n
      __*_<7>Base Attack Bonus<2> -- A character must have a brawling BAB of
      +3 before they can enter the tattoo mystic class.\n
      __*_<7>Abilities<2> -- A potential tattoo mystic must possess the
      Unarmed Strike class feature.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the tattoo mystic are Appraise, Athletics, Balance, Climb, 
      Diplomacy, Escape Artist, Find Weakness, Healing, Hide, Jump, Knowledge, 
      Listen, Move Silently, Poison Use, Spot and Tumble.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Tattoo mystics recieve no additional weapon
      or armor proficiencies.\n
      __*_<7>Monk Abilities<2> -- A tattoo mystic continues to advance his 
      existing Unarmed Attack, Increased Move and Stun Attack abilities just as
      if he were taking monk levels, so a monk 5/tattoo mystic 3 has the base
      base damage, stun attack save DC and so forth that a monk 8 would.\n
      __The tattoo mystic does not gain any further benefits of monk levels,
      such as better Flurry of Blows, abilities like Abundant Step, Leap of
      the Clouds or Diamond Body, bonus feats and so forth.\n
      __*_<7>Tattoos<2> -- The primary benefit of becoming a tattoo mystic, of
      course, is the inscription of magical tattoos on the character's body. A
      tattoo mystic gains a new tattoo every even level, and many of the effects
      of these tattoos scale with her tattoo mystic level. Some of the tattoos
      available to the mystic include the Tiger, Sun, Mantis, Demon, Crane,
      Dragon, Scorpion, Dragonfly, Mountain, Bamboo, Monkey, Butterfly, Spider,
      Eye and Tree.
      
      \n\n<10>THE TATTOO MYSTIC<15>\n
      _Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ___1____+0____+2___+2___+2__\n
      ___2____+1____+3___+3___+3__New Tattoo\n
      ___3____+1____+3___+3___+3__\n
      ___4____+2____+4___+4___+4__New Tattoo\n
      ___5____+2____+4___+4___+4__\n
      ___6____+3____+5___+5___+5__New Tattoo\n
      ___7____+3____+5___+5___+5__\n
      ___8____+4____+6___+6___+6__New Tattoo\n
      ___9____+4____+6___+6___+6__\n
      ___10___+5____+7___+7___+7__New Tattoo\n\n
      
      <10>AVAILABLE TATTOOS<15>\n\n<list tattoos>";
HitDice: 8; Mana: 4; Def: 1/2;
Attk: 1 100,
2 75,
3 75,
0 75;
Skills[4]: 4, 5, 7, 11,
13, 14, 17, 18, 22, 26,
23, 30, 27, 29,
32, 36, 39, 3, 44, 46;
Grants:
Ability[99] at every level starting at 1st,
Ability[41,+2] at every level starting at 1st,
Ability[89] at every level starting at 1st,
Ability[138] at every 2nd level starting at 2nd;
Flags: 6, 7, 8, 10, 11;
}

Class "Twilight Huntsman"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(40) < 8) {
failed = true; EActor->IPrint("You need Ride level 8.");
}
if (EActor->ISkillLevel(4) < 8) {
failed = true; EActor->IPrint("You need Athletics level 8.");
}
if (EActor->ISkillLevel(18) < 5) {
failed = true; EActor->IPrint("You need Hide level 5.");
}
if (EActor->ISkillLevel(2) < 5) {
failed = true; EActor->IPrint("You need Animal Empathy level 5.");
}
if (EActor->ISkillLevel(36) < 5) {
failed = true; EActor->IPrint("You need Move Silently level 5.");
}
if (EActor->GodID != $"maeve") {
failed = true; EActor->IPrint("You must worship Maeve.");
}
if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d6__<15>Mana:<1>_d6__<15>Skills:<1>_6_<15>Saves:<1>_<9>FR<1>w_<15>Defense:_<1>1/4\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>50~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>\n\tMaeve honors the most skilled huntsmen of the faerie and mortal
      relms by making them members of her Twilight Hunt, also called the Wild
      Hunt. Twilight huntsmen promote her chaotic plans.\n

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Twilight huntsman is a prestige class. It counts as a favored class
      for all characters. In order to become a twilight huntsman, you must have:\n
      __*_<7>Skills Levels<2> -- Move Silently 5, Animal Empathy 5, 
        Hide 5, Atheltics 8, Ride 8.\n
      __*_<7>Religion<2> -- You must worship Maeve.\n

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the twilight huntsman are Animal Empathy, 
      Appraise, Climb, Concentration, Healing, Hide, Jump,
      Knowledge, Listen, Move Silently, Ride, Search, Spot,
      Swim, and Wilderness Lore. 

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- The twilight huntsman gains no weapon or armor
      proficiencies.\n
      __*_<7>Low-Light Vision<2> -- At 1st level, the twilight huntsman gains
      40 feet (4 squares) of low-light vision.\n
      __*_<7>Fast Mount<2> -- A twilight huntsman can 
      spur her mount to speeds beyond the norm for its kind. Each twilight 
      huntsman level adds a 5~ class bonus to her mounted speed.\n
      __*_<7>Fast Move<2> -- The twilight huntsman can move  quite rapidly on her 
      own, gaining a 5~ class bonus to her movement rate for every twilight
      huntsman level.\n
      __*_<7>Tracking<2> -- Starting at 2nd level, Twilight huntsmen gain the
      ability to track their enemies just as rangers do; levels of ranger
      and twilight huntsman stack for this purpose.\n
      __*_<7>Spells<2> -- Like assassins, twilight huntsmen dabble in magic,
      learning some of Maeve's tricks of enchantment, illusion and chaos-
      magic to aid them in their mission. A twilight huntsman gains one caster
      level for every even class level, and they draw spells from their own
      spell list. Twilight huntsmen cast as priests do, being able to cast in
      armor and not depending on spellbooks, but needing a holy symbol and
      the favor of their diety.\n
      __*_<7>Smite Law<2> -- At 3rd level, the twilight huntsman gains
      the ability to smite lawful creatures, exactly as a paladin smites
      evil creatures; she gains +2 damage on such smite attacks at 3rd
      level, and an additional +2 for every twilight huntsman level thereafter.\n
      __*_<7>Relentless<2> -- Once a twilight huntsman has begun the hunt for
      an enemy of Maeve, there is no force short of utter annihiliation that
      will turn her away from her task. This intense focus is represented in
      game terms by the Dwarven Focus ability, gained at 4th level.\n
      __*_<7>Noble Aegis<2> -- At 4th level, the twilight huntsman's role
      as an appointed soveriegn of Maeve is recognized in the form of a
      noble aegis that protects her from base treachery in the form of a
      +4 bonus to defense versus surprise attacks and a reduction of two
      points per level after 4th of a rogue's Sneak Attack damage against
      her. Levels of this ability from being a twilight huntsman and a
      priest with the Nobility Domain stack.\n
      __*_<7>Scent<2> -- At 5th level, the twilight huntsman can detect creatures
      by Scent within 30 feet (3 squares) (or has her current scent range 
      extended by 30 feet).\n
      __*_<7>Freedom of Movement<2> -- At 6th level, the twilight huntsman
      becomes completely immune to paralysis, petrification, slowing,
      entangling, and other effects that constraint movement.\n
      __*_<7>Twilight Walking<2> -- At 7th level, the twilight huntsman gains
      the ability to move in and out of the ethereal plane at will, exactly
      as a phase spider does.\n
      __*_<7>Spook<2> -- At 8th level, the twilight huntsman learns to heighten
      her already unsettling faerie otherworldliness to a pinprick sharpness,
      causing intense disquiet in others around her; in game terms, she can
      evoke <9>spook<2> as a spell-like ability at will.\n
      __*_<7>Feed Upon Pain<2> -- At 9th level, the twilight huntsman learns
      to draw strength from those she stalks and wounds, healing one HP of
      damage for every 10 points she inflicts in combat.\n
      __*_<7>One Body, One Soul<2> -- At 10th level, the twilight huntsman
      gains the One Body, One Soul feat, even if she doesn't meet the normal
      requirements for that feat.

      \n\n<10>SPELL LIST<2>\n
      <15>__1st level -- <1>bane, change self, charm person, color spray, doom, 
      enthrall, faerie fire, inflict light wounds, longstrider, malignance, 
      phantasmal force, slow poison, true strike.\n
      <15>__2nd level -- <1>animate rope, bladethirst, globe of shadow, heal 
      mount, hypnotic pattern, improved phantasmal force, inflict moderate
      wounds, phantom steed, scare, see invisibility, silence.\n
      <15>__3rd level -- <1>adamant facade, animate shadows, bestow curse, 
      blackmantle, confusion, fly, hold person, illusory stance, inflict 
      serious wounds, insightful stroke, lorecall, spectral force, track monster, 
      vampiric touch.\n
      <15>__4th level -- <1>crushing despair, dimensional anchor, enervation, 
      hallucinatory terrain, improved spectral force, inflict critical wounds, 
      mooncloak, music of the spheres, phantasmal killer, thornwrack.\n
      <15>__5th level -- <1>advanced illusion, color burst, divine agility, 
      dream, hold monster, insect plague, lower resistance, nightmare, 
      symbol of pain, symbol of sleep.\n
      <15>__6th level -- <1>animate objects, harm, immortal grandeur.
      
      \n\n<10>THE TWILIGHT HUNTSMAN<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+2___+0__Vision, Fast Move & Mount\n
      ____2____+0____+3___+3___+0__+1 CL, Tracking\n
      ____3____+0____+3___+3___+1__Smite Law, Relentless\n
      ____4____+1____+4___+4___+1__+1 CL, Noble Aegis\n
      ____5____+1____+4___+4___+1__Scent\n
      ____6____+1____+5___+5___+2__+1 CL, Freedom of Movement\n
      ____7____+2____+5___+5___+2__Twilight Walking\n
      ____8____+2____+6___+6___+2__+1 CL, <9>spook<1>\n
      ____9____+2____+6___+6___+3__Feed Upon Pain\n 
      ____10___+3____+7___+7___+3__+1 CL, One Body, One Soul\n";
HitDice: 6; Mana: 6; Def: 1/4;
Attk: 1 50,
2 100,
3 100,
0 100;
Skills[6]: 2, 7, 8, 17, 18,
22, 23, 36, 40, 41, 3,
44, 45, 48;
Grants:
Ability[53,+4] at 1st level,
Ability[41,+1] at every level starting at 1st,
Ability[118,+1] at every level starting at 1st,
Ability[82] at every 2nd level starting at 2nd,
Ability[94,+10] at every level starting at 2nd,
Ability[79,106,+2] at every level starting at 3rd,
Ability[29,+1] at 3rd level,
Ability[58,+1] at every level starting at 4th,
Ability[71,+3] at 5th level,
Stati[177,18] at 6th level,
Stati[177,14] at 6th level,
Stati[177,25] at 6th level,
Stati[177,19] at 6th level,
Ability[61,+1] at 7th level,
Ability[44,$"spook"] at 8th level,
Ability[35,+1] at 9th level,
Feat[(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 5)] at 10th level;
Flags: 7, 6, 10, 11;
Lists:
* 21
1 $"bane" $"change self" $"charm person" $"color spray" $"doom"
$"enthrall" $"faerie fire" $"inflict light wounds" $"longstrider"
$"malignance" $"phantasmal force" $"slow poison" $"true strike"
2 $"animate rope" $"bladethirst" $"globe of shadow" $"heal mount"
$"hypnotic pattern" $"improved phantasmal force" $"inflict moderate wounds"
$"phantom steed" $"scare" $"see invisibility" $"silence"
3 $"adamant facade" $"animate shadows" $"blackmantle" $"confusion"
$"fly" $"hold person" $"illusory stance" $"inflict serious wounds"
$"insightful stroke" $"lorecall" $"spectral force" $"track monster"
$"vampiric touch"
4 $"crushing despair" $"dimensional anchor" $"enervation"
$"hallucinatory terrain" $"improved spectral force"
$"inflict critical wounds" $"mooncloak" $"music of the spheres"
$"phantasmal killer" $"thornwrack"
5 $"advanced illusion" $"color burst" $"divine agility" $"dream"
$"hold monster" $"insect plague" $"lower resistance" $"nightmare;spell"
$"symbol of pain" $"symbol of sleep"
6 $"animate objects" $"harm" $"immortal grandeur";

}

Class "Undead Slayer"
{
Desc: "<12>*** NOT FINISHED YET ***\n";

On Event 155 {
int32 failed;
failed = false;
if (!EActor->WizardMode) {
EActor->IPrint("This prestige class is still under development and cannot be used.");
return 2;
}
return 1;
};

HitDice: 4; Mana: 12; Def: 1/4;
Attk: 1 50,
2 50,
3 50,
0 50;
Skills[0]: 0;
Grants:
;
Flags: 11, 10;
Lists:
* 21
0;
}


Class "Underdark Warrior"
{
On Event 155 {
int32 failed;
failed = false;
if (EActor->ISkillLevel(36) < 10) {
failed = true;
EActor->IPrint("You need to have Move Silently 10+.");
}
if (EActor->ISkillLevel(18) < 10) {
failed = true;
EActor->IPrint("You need to have Hide in Shadows 10+.");
}
if (EActor->ISkillLevel(7) < 10) {
failed = true;
EActor->IPrint("You need to have Climb 10+.");
}
if (!EActor->IHasFeat(((49 + 1) + 25))) {
failed = true;
EActor->IPrint("You need the Blind Fighting feat.");
}
if (!EActor->IHasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4))) {
failed = true;
EActor->IPrint("You need the Toughness feat.");
}
if (EActor->IAttr(4) < 17) {
failed = true;
EActor->IPrint("You need a base Wisdom score of 17+.");
}

if (failed)
return 2;
else
return 1;
};
Desc: "
      <15>HitDie:_<1>d10_<15>Mana:<1>_d4__<15>Skills:<1>_6_<15>Saves:<1>_<9>FR<1>w_<15>Defense:_<1>1/2\n
      <15>+toHit: <1>Archery <9>100~<1>, Brawl <9>100~<1>, Melee <9>100~<1>, Thrown <9>100~<1>\n
      <2>__The Underdark is a ruthlessly Darwinian enviornment where only the strong survive.
      Even among the drow, illithids and deep gnomes, there are few who venture outside their
      large cities in order to explore the tunnels -- magical, predatory beasts unheard of on
      the surface lurk in the twisting tunnels, and most intelligent humanoids travel outside
      their communities only in the company of large military units. Valued by their people as
      spies, scouts and escorts in matters of skullduggery where large military support is too
      conspicious, there is a unique prestige associated with those rugged men and women who
      are able to survive alone in the harshest enviornment on Theyra.\n
      __Underdark warriors hone their instincts, learning to fight based upon lightning
      intuitive reaction rather than rational thought. They sharpen their senses beyond what
      other members of their races would believe possible without magic, learning to detect 
      foes by the vibrations their movement produces in the stone in utter, lightness 
      darkness.

      \n\n<10>CLASS REQUIREMENTS<2>\n
      __The Underdark Warrior is a prestige class. It counts as a favored
      class for all characters. In order to become an underdark warrior, 
      you must have:\n
      __*_<7>Race<2> -- You must be of a race native to the Underdark -- drow,
      deep gnomes, cave orcs and kobolds all qualify among the player races,
      but goblins and illithids are known to become underdark warrior on occasion
      as well.\n
      __*_<7>Skills Levels<2> -- Move Silently +10, Hide in Shadows +10, Climb +10.\n
      __*_<7>Feats<2> -- Blind-Fighting, Toughness.\n
      __*_<7>Attributes<2> -- Good instincts are an absolute prerequisite of this
      class -- an underdark warrior must have a Wisdom score of 17
      before external magical augmentations are taken into account.

      \n\n<10>CLASS SKILLS<2>\n
      __The class skills of the underdark warrior are Athletics, Balance, Bluff,
      Climb, Escape Artist, Find Weakness, Hide in Shadows, Jump, Listen, Move 
      Silently, Spot, Swim, Tumble and Wilderness Lore.

      \n\n<10>CLASS FEATURES<2>\n
      __*_<7>Proficiencies<2> -- Underdark warriors do not gain and additional
      weapon or armor proficiencies.\n
      __*_<7>Tremorsense<2> -- The underdark warrior learns to feel vibrations
      in stone in exactly the same manner that some monsters do, developing the
      Tremorsense ability with a range in squares equal to twice her class 
      level.\n 
      __*_<7>Supremely Skilled<2> -- The survivalist nature of the underdark trains
      certain physical skills as no less lethal enviornment possibly could. The
      underdark warrior adds her class level to her Climb, Hide and Move Silently
      skill ratings.\n
      __*_<7>Fasting<2> -- Like rangers, underdark warriors sometimes need to
      survive with very little food and thus condition their bodies to cope well
      with times of privation. Levels of this ability from ranger and underdark
      warrior stack.\n
      __*_<7>Bonus Feats<2> -- An underdark warrior gains Close Quarters Fighter
      as a bonus feat at level 2, Improved Initiative as a bonus feat at level 3
      and Zen Defense as a bonus feat at level 5.\n
      __*_<7>Uncanny Dodge<2> -- The underdark warrior gains the Uncanny Dodge 
      ability at 2nd level; levels of this ability gained from the barbarian or
      rogue classes stack with those gained from underdark warrior.\n
      __*_<7>Stonework Sense<2> -- Starting at 4th level, underdark warriors
      develop a sense for stonework identical to the ability possessed by dwarves
      and gnomes. If they already have this ability, its depth increases by one
      square.\n
      __*_<7>Defensive Roll<2> -- At 5th level, the underdark warrior recieves
      the Defensive Roll ability, which functions identically to the rogue special
      ability of the same name.

      \n\n<10>THE UNDERDARK WARRIOR<15>\n
      __Level__Def__Fort_Refl_Will_Special Abilities<1>\n
      ____1____+0____+2___+2___+0__Tremorsense, Sup. Skilled\n
      _____________________________Close Quart. Fighter, Fast.\n
      ____2____+1____+3___+3___+0__Uncanny Dodge\n
      ____3____+1____+3___+3___+1__Improved Initiative\n
      ____4____+2____+4___+4___+1__Stonework Sense\n
      ____5____+2____+4___+4___+1__Zen Defense, Defensive Roll\n_";
HitDice: 10; Mana: 4; Def: 1/2;
Attk: 1 100,
2 100,
3 100,
0 100;
Skills[6]: 4, 5, 6, 7, 13,
14, 18, 22, 32, 36, 44,
45, 46, 48;
Grants:
Ability[95,+2] at every level starting at 1st,
Ability[133,+1] at every level starting at 1st,
Stati[124,7,+1] at every level starting at 1st,
Stati[124,36,+1] at every level starting at 1st,
Stati[124,18,+1] at every level starting at 1st,
Feat[(((49 + 1) + 32) + 9)] at 1st,
Feat[(((((49 + 1) + 32) + 50) + 38) + 27)] at 3rd,
Feat[(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42)] at 5th,
Ability[100,+1] at every level starting at 2nd,
Ability[87,+1] at 4th,
Ability[137,+1] at 5th;
Flags: 6, 10, 11;
Constants:
* 112 5;
}
#line "sp_books.irh" 7
Item "blank spellbook" : 22
{
Image: red 254;
Mat:5; Level: 0;
Weight: 40; Flags: 1;
}

Item "spellbook [Fundamentals of Magick]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"Magic Missile", $"Monster Summoning I",
$"Wizard Lock", $"Levitation", $"Identify", $"Dispel Magic",
$"Phase Door", $"Read Magic", $"Copy";
On Event 205 "FundMagick";
}

Item "spellbook [Adventurers' Arts]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"Magic Missile", $"Expeditious Retreat", $"Alarm",
$"Mage Armor", $"Resist Fire", $"Detect Monsters", $"Mount",
$"Phase Door", $"Infravision", $"Resist Water", $"Jump;spell",
$"spider climb", $"Passwall", $"Knock", $"mending", $"shield",
$"see invisibility", $"floating disc", $"minor light";
On Event 205 "AdventArts";
}

Item "spellbook [Mystic Aegis]" : 22
{
Image: bright blue 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"erase", $"feather fall", $"Endure Fire", $"Endure Cold", $"Endure Lightning",
$"Protection from Evil", $"Mage Armor", $"Shield", $"Gaze Reflection",
$"Protection from Arrows", $"Protection from Undead", $"Spiritwrack",
$"Iron Mind", $"Resist Fire", $"Resist Acid";
On Event 205 "MystAegis";
}

Item "spellbook [Tome of Magic]" : 22
{
Image: bright blue 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"dancing lights", $"Grease", $"Knock",
$"Wall of Fog", $"Wizard Lock", $"Glitterdust", $"Web", $"Passwall",
$"Wind Wall", $"Mending", $"animate rope", $"nystrom's magical aura";
On Event 205 "TomeMagic";
}

Item "spellbook [Practical Divinings]" : 22
{
Image: bright blue 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"detect monsters", $"detect stairs", $"know alignment",
$"true strike", $"see invisibility", $"arrow mind", $"detect undead",
$"detect objects", $"detect secret doors", $"anyspell", $"daggerspell";
On Event 205 "PracDiv";
}

Item "spellbook [Book of Glamour]" : 22
{
Image: bright green 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"cause fear", $"charm person", $"friends", $"sleep",
$"magic weapon", $"convulsion", $"hypnotism", $"suggestion",
$"enthrall", $"dire charm", $"invisibility", $"spook",
$"nystrom's magical aura", $"eagle's splendour";
On Event 205 "BookGlamour";
}

Item "spellbook [Energy Magicks]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"force bolt", $"magic missile", $"shield", $"shocking grasp",
$"burning hands", $"endure fire", $"resist lightning", $"scorcher";
On Event 205 "EnergyMag";
}

Item "spellbook [Magician's Manual]" : 22
{
Image: bright red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"Phantasmal Force", $"Color Spray", $"Chromatic Orb",
$"change self", $"dancing lights", $"invisibility",
$"Spook", $"Reduce", $"Invisibility", $"Hypnotic Pattern",
$"globe of shadow", $"phase door", $"ventriloquism",
$"mirror image", $"pyrotechnics", $"animate rope";
On Event 205 "MagManual";
}

Item "spellbook [Ars Mortis]" : 22
{
Image: grey 254;
Mat:5; Level: 0;
Weight: 40;
#line "sp_books.irh" 115
Spells: $"chill touch", $"halt undead", $"rigor mortis", $"detect undead",
$"protection from undead", $"bladethirst", $"ghoul touch", $"visage of death",
$"animate dead", $"magic circle vs. undead", $"scare", $"minor drain",
$"spectral hand";
On Event 205 "ArsMortis";
}

Item "spellbook [Mortal Coil]" : 22
{
Image: red 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"enlarge", $"reduce", $"expeditious retreat", $"slow",
$"bull's strength", $"cat's grace", $"bear's endurance",
$"false life", $"convulsion", $"jump;spell", $"magic weapon",
$"bladethirst";
On Event 205 "MortalCoil";
}

Item "spellbook [Place and Time]" : 22
{
Image: purple 254;
Mat:5; Level: 0;
Weight: 40;
Spells: $"alarm", $"phase door", $"rope trick", $"spiritwrack", $"monster summoning II",
$"blink", $"dimension door", $"haste", $"slow", $"displacement",
$"distance distortion", $"passwall", $"call companions", $"transposition",
$"rope trick", $"mana theft", $"apportation";
On Event 205 "PlaceTime";
}

Item "spellbook [Venom and Curses]" : 22
{
Image: red 254;
Mat:5; Level: 0;
Weight: 40; Level: 4;
Spells: $"contagion", $"slow", $"choke", $"hideous laughter",
$"dire charm", $"polymorph other", $"summon swarm",
$"sleep", $"phantasmal killer", $"stinking cloud",
$"confusion", $"minor malison", $"scare",
$"baleful polymorph", $"mana theft";
On Event 205 "Venom&Curses";
}

Item "spellbook [Ars Bellicus]" : 22
{
Image: pink 254;
Mat:5; Level: 0;
Weight: 40; Level: 5;
Spells: $"expeditious retreat", $"wall of fog", $"shield",
$"bull's strength", $"cat's grace", $"spirit armor", $"keen edge",
$"lightning bolt", $"blackmantle", $"haste", $"decastave",
$"protection from arrows", $"phantom steed", $"magic weapon",
$"greater magic weapon";
On Event 205 "ArsBell";
}

Item "spellbook [Elemental Covenant]" : 22
{
Image: bright green 254;
Mat:5; Level: 0;
Weight: 40; Level: 5;
Spells: $"burning hands", $"shocking grasp", $"endure cold",
$"resist lightning", $"resist fire", $"protection from fire",
$"protection from cold", $"scorcher", $"gust of wind",
$"fireball", $"lightning bolt", $"ice storm", $"fire shield",
$"wall of fire", $"wall of ice", $"gaseous form", $"tremor",
$"transmute rock to mud", $"stoneskin";
On Event 205 "ElemCov";
}

Item "spellbook [Libram of Silver Magic]" : 22
{
Image: white 254;
Mat:5; Level: 0;
Weight: 40; Level: 4;
Spells: $"protection from evil", $"protection from undead",
$"magic circle vs. evil", $"wandwierd", $"dismissal", $"blur",
$"dimension door", $"clairvoyance", $"magic mapping",
$"levitation", $"hold person", $"ESP", $"mooncloak",
$"minor globe of invulnerability", $"premonition",
$"magic circle vs. undead", $"deep slumber", $"abjure";
On Event 205 "SilverMag";
}

Item "spellbook [Secrets of Abjuration]" : 22
{
Image: yellow 254; Weight: 40;
Mat: 5; Level: 5;
Desc: "This unusual spellbook has utility only to Abjurers -- no
      other mage can make use of the spells contained within. It holds
      a small collection of (normally) divine castings that Abjurers
      are able to make use of as if it were arcane magic.";
Spells: $"sanctuary", $"detect evil", $"shield other",
$"glyph of warding", $"remove curse", $"negative plane protection",
$"death ward", $"free action;spell", $"spell immunity", $"magic resistance",
$"dispel evil", $"antilife shell", $"glyph of warding, greater";
}



Item "spellbook [Conjurations and Summonings]" : 22
{
Image: brown 254;
Mat:5; Level: 0;
Weight: 40; Level: 2;
Spells: $"Monster Summoning I", $"Monster Summoning II",
$"Monster Summoning III", $"Monster Summoning IV",
$"monster Summoning V", $"Monster Summoning VI", $"conjure vortex",
$"Magic Circle vs. Evil", $"Dismissal", $"Explosive Runes",
$"Force Shapechange", $"phantasmal force", $"spectral force",
$"vitriolic sphere", $"track monster", $"evard's black tentacles",
$"lesser planar conjuration", $"abjure";
On Event 205 "ConSumm";
}

Item "spellbook [Artificer's Handbook]" : 22
{
Image: yellow 254;
Mat:5;
Weight: 40; Level: 3;
Spells: $"Alisdair's Fundamental Breakdown", $"Minor Creation",
$"Major Creation", $"Wall of Stone", $"Keen Edge", $"Lorecall",
$"Spirit Armor", $"Skull Trap", $"Apportation", $"force missiles",
$"shield", $"mending", $"fabricate", $"magic weapon",
$"greater magic weapon";
On Event 205 "Artificer's" / "AH";
}

Item "spellbook [Tricks and Traps]" : 22
{
Image: brown 254;
Mat:5; Weight: 40; Level: 4;
Spells: $"chromatic orb", $"shocking grasp", $"feather fall",
$"charm person", $"friends", $"charm monster", $"displacement",
$"vampiric touch", $"polymorph self", $"explosive runes",
$"minor globe of invulnerability", $"track monster", $"fly",
$"force shapechange", $"charm monster", $"improved invisibility",
$"enervation", $"shout", $"mirror image", $"wall of doors",
$"pyrotechnics", $"sign of discord", $"adamant facade",
$"aura of abjuration", $"steal magic";
On Event 205 "Trick&Trap";
}

Item "spellbook [Magnus Ollam]" : 22
{
Image: pink 254;
Mat:5; Level: 1;
Weight: 40; Level: 4;
Spells: $"endure sound", $"resist sound", $"protection from sound",
$"shatter", $"shout", $"emotion", $"heroism", $"hideous laughter",
$"hypnotism", $"thunderlance", $"deep slumber", $"lorecall",
$"insightful stroke", $"immortal grandeur";
On Event 205 "MagOll"; }

Item "spellbook [Lore of Murder I]" : 22
{
Image: grey 254;
Mat:5;
Weight: 40; Level: 3;
Spells: $"change self", $"convulsion", $"expeditious retreat", $"magic weapon",
$"obscurement", $"passwall", $"read magic", $"shield", $"sleep",
$"spider climb", $"true strike", $"ventriloquism", $"choke", $"ESP",
$"globe of shadow", $"hypnotic pattern", $"infravision", $"invisibility",
$"pass without trace", $"levitation", $"bladethirst", $"rope trick",
$"web";
On Event 205 "Murder2";
}

Item "spellbook [Lore of Murder II]" : 22
{
Image: grey 254;
Mat:5;
Weight: 40; Level: 7;
Spells: $"deeper darkness", $"nondetection", $"displacement",
$"animate shadows", $"illusory stance", $"blink", $"clairvoyance",
$"deep slumber", $"gaseous form", $"greater magic weapon",
$"improved invisibility", $"free action;spell", $"phantasmal killer",
$"enervation", $"premonition", $"track monster", $"dream",
$"lower resistance", $"misdirection", $"power word: stop",
$"cloudkill", $"telekinesis", $"wizard sight", $"disintegrate",
$"power word: stun";
On Event 205 "Murder2"; }


Item "spellbook [Twin Axis Defense Sutra]" : 22
{
Image: white 254; Level: 3;
Mat: 5; Weight: 40;
Spells: $"protection from good", $"protection from evil",
$"protection from law", $"protection from chaos",
$"magic circle vs. good", $"magic circle vs. evil",
$"magic circle vs. law", $"magic circle vs. chaos",
$"know alignment";
On Event 205 "TwinAxis";
}

Item "spellbook [Book of Shadows]" : 22
{
Image: white 254; Level: 2;
Mat: 5; Weight: 40;
Spells: $"charm person", $"globe of shadow", $"resist cold",
$"change self", $"friends", $"magic weapon", $"minor drain",
$"sleep", $"phantasmal force", $"wall of fog", $"blur",
$"ESP", $"False Life", $"hypnotism", $"bladethirst",
$"make whole", $"ray of enfeeblement", $"touch of idiocy",
$"gaseous form", $"nondetection", $"ethereal blade";
On Event 205 "BookShadows";

}

Item "spellbook [Heart of Flame]" : 22
{
Image: red 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"burning hands", $"endure fire", $"minor light",
$"flame blade", $"flaming sphere", $"resist fire",
$"scorcher", $"fireball", $"flame arrow", $"pyrotechnics",
$"mystic lantern", $"burning blood", $"fire shield",
$"fire lotus", $"protection from fire", $"wall of fire",
$"fire charm";
On Event 205 "HeartFlame";
}

Item "spellbook [Shadowcraft]" : 22
{
Image: black 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"shadow monsters", $"demi-shadow monsters", $"shades",
$"shadow magic", $"demi-shadow magic", $"summon shadows",
$"globe of shadow", $"deeper darkness", $"spook",
$"eldritch bolt", $"phantom steed", $"disintegrate",
$"demi-shadow monsters", $"demi-shadow magic";
On Event 205 "Shadow";
}

Item "spellbook [Lordship over Air]" : 22
{
Image: white 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"feather fall", $"jump;spell", $"obscurement",
$"wall of fog", $"ventriloquism", $"blur",
$"choke", $"stinking cloud", $"cloudkill",
$"glitterdust", $"levitation", $"fly",
$"gaseous form", $"wind wall", $"gust of wind",
$"lightning bolt", $"electric loop", $"thunderlance",
$"solid fog", $"shocking grasp", $"floating disc";
On Event 205 "LordAir";
}

Item "spellbook [Water Authority]" : 22
{
Image: blue 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"obscurement", $"wall of fog", $"stinking cloud",
$"cloudkill", $"chill touch", $"endure cold",
$"resist cold", $"protection from cold", $"grease",
$"endure acid", $"resist acid", $"protection from acid",
$"acid arrow", $"icelance", $"ice storm", $"wall of ice",
$"solid fog", $"cone of cold", $"transmute rock to mud",
$"water walking", $"watery double";
On Event 205 "WaterAuth";
}

Item "spellbook [Earthsong]" : 22
{
Image: brown 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"magic weapon", $"bull's strength", $"bear's endurance",
$"passwall", $"shatter", $"explosive runes", $"bladethirst",
$"greater magic weapon", $"stoneskin", $"wall of stone",
$"transmute rock to mud";
On Event 205 "EarthSong";
}

Item "spellbook [Celestial Lion Sutra]" : 22
{
Image: yellow 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"bull's strength", $"cat's grace", $"bear's endurance",
$"protection from evil", $"dispel magic", $"shout",
$"scorcher", $"lightning bolt", $"tremor", $"flame blade",
$"crushing despair", $"keen edge", $"force bolt", $"ethereal blade",
$"banishment", $"shield", $"lightning bolt", $"fire lotus",
$"spirit armor", $"enlarge", $"hold person",
$"open the third eye", $"lower resistance", $"adamant facade",
$"aura of abjuration", $"undeath to death";
On Event 205 "CelLion";
}

Item "spellbook [Crystal Mind]" : 22
{
Image: bright cyan 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"copy", $"detect secret doors", $"detect magic",
$"read magic", $"iron mind", $"Telekinesis", $"apportation",
$"ESP", $"Mord's Lucubration", $"dominate person",
$"Revealed Lore", $"Wizard Sight", $"warning",
$"insightful stroke", $"anyspell", $"true seeing";
On Event 205 "CrysMind";
}

Item "spellbook [Elemental Endurance]" : 22
{
Image: bright red 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"endure the elements", $"resist the elements",
$"protection from elements", $"energy buffer",
$"protection from lightning", $"resist water",
$"resist sound";
On Event 205 "ElemEndur";
}

Item "spellbook [Words of Power]" : 22
{
Image: white 254; Level: 7;
Mat: 5; Weight: 40;
Spells: $"Read Magic", $"Detect Magic", $"Revealed Lore",
$"anyspell",
$"Power Word: Stop", $"Power Word: Stun",
$"lesser symbol", ;

On Event 205 "WordsPow" / "WoP";
}

Item "spellbook [Grey Ashes Manuscript]" : 22
{
Image: grey 254; Level: 4;
Mat: 5; Weight: 40;
Spells: $"crushing despair", $"shatter", $"cause fear", $"minor drain",
$"major drain", $"waves of weariness", $"lesser symbol",
$"eldritch bolt", $"rigor mortis", $"cloudkill",
$"choke", $"visage of death", $"vitriolic sphere", $"nightmare;spell",
$"ghoul touch", $"bull's strength", $"spirit net", $"nemesis spell",
$"evard's black tentacles", $"disintegrate", $"Steal Magic";
On Event 205 "GreyAsh";
}

Item "spellbook [Tome of Storms]" : 22
{
Image: yellow 254; Level: 5;
Mat: 5; Weight: 40;
Spells: $"Lightning Bolt", $"Gust of Wind", $"Protection from Lightning",
$"Fly", $"Ice Storm", $"Force Missiles", $"Chain Lightning",
$"Cone of Cold", $"Shatter", $"electric loop",
$"thunderlance", $"chill shield";
On Event 205 "TStorms";
}


Item "spellbook [Smoke and Mirrors]" : 22
{
Image: cyan 254; Level: 5;
Mat: 5; Weight: 40; Flags: 1;
Spells: $"Phantasmal Force", $"Improved Phantasmal Force",
$"Spectral Force", $"Improved Spectral Force",
$"Advanced Illusion", $"Persistant Illusion",
$"Color Burst", $"Illusory Stance", $"Misdirection",
$"Phantasmagoria", $"Hallucinatory Terrain",
$"Mirage Arcana", $"mana theft", $"etherealness";
}

Item "spellbook [Evelyn's Tactical Codex]" : 22
{
Image: bright red 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"Lightning Bolt", $"Deeper Darkness", $"Phantom Steed",
$"Tevlar's Transformation", $"lower resistance",
$"Hold Monster", $"fear", $"group invisibility",
$"animate dead", $"dimensional anchor", $"teleport",
$"hold monster", $"fireball", $"premonition",
$"insightful stroke", $"aura of abjuration",
$"true seeing", $"shift level", $"ethereal jaunt";
On Event 205 "ETCodex";
}

Item "spellbook [Planar Bindings]" : 22
{
Image: bright blue 254; Level: 6;
Mat: 5; Weight: 40;
Spells: $"Lesser Planar Conjuration",
$"Conjure Earth Elemental", $"Lower Resistance",
$"Spiritwrack",
$"Protection from Evil",
$"Create Spectral Undead",
$"Fiendform";
#line "sp_books.irh" 506
}

Item "spellbook [Mastery over Death]" : 22
{ Image: black 254;
Mat:5; Weight: 20; Level: 5;
Spells: $"protection from undead", $"blackmantle", $"revenance",
$"animate dead", $"burning blood", $"summon shadows",
$"skeletal spikes", $"skull trap", $"create corporeal undead",
$"create spectral undead", $"necrosynthesis";
On Event 205 "MasDeath";
}

Item "spellbook [Gift of Death]" : 22
{
Image: black 254;
Mat:5; Weight: 20; Level: 5;
Spells: $"thornwrack", $"disintegrate", $"aura of death", $"contagion",
$"convulsion", $"phantasmal killer", $"spirit net";
On Event 205 "GiftDeath";
}

Item "spellbook [Crimson Rites]" : 22
{
Image: bright shadow 254;
Mat:5; Level: 5;
Flags: 1;
Weight: 20;
Spells:
$"chill blood",
$"sanguine touch",
$"detect blood",
$"Bladethirst",
$"caustic vitae",
$"burning blood",
$"infernal blood";
Desc: "This rare spellbook is strongly associated with the Black Orcs
    and their arcane blood rituals.";
}
#line "enclist.irh" 1
Encounter "Lone Aquatic Monster"
{
CR: 1+;
Parts:
* 1 of any 80 [0x00000010];
Flags: 2, 6, 1, 5;
}

Encounter "Vault Monster"
{
CR: 6+;
Align: 0x0008;
Parts:
* 1 of any (103+85*256) [0x00000020]
* 1 of any 0 [0x00200000];
Flags: 2, 13, 7;
On Event 171 {
if (e.cPart == 1) {
if (mID_isMType(e.eID,85))
return -1;
if (mID_isMType(e.eID,35) ||
mID_isMType(e.eID,58) ||
mID_isMType(e.eID,49) ||
mID_isMType(e.eID,29) ||
mID_isMType(e.eID,17))
return 1;
return -1;
}
return 1;
};
}

Encounter "Holy Summons"
{
CR: 1+;
Parts:
* 1 of any (91+113*256) $"celestial" [0x00200000]
* 1 of any (91+103*256) $"fiendish" [0x00200000]
* 1 of any 48 [0x00000020|0x00200000]
* 1 of any 9 [0x00200000];
Flags: 1, 2, 7, 16;

On Event (185+500) {
#line "enclist.irh" 47
if (GetHandle(EActor) == NULL)
return 0;
if (EActor->getGod() == $"Maeve")
{ e.cPart = 3; return 0; }
#line "enclist.irh" 64
if ((e.enCR < 5 && 1d2==1) ||
(e.enCR >= 6 && 1d6==1))
{
if (EActor->getGod() == $"Xel" ||
EActor->getGod() == $"Zurvash" ||
EActor->getGod() == $"The Multitude")
e.cPart = 1;
else
e.cPart = 0;
}
else
{
e.cPart = 2;
if (EActor->isMType(106) ||
EActor->getGod() == $"Immotian" ||
EActor->getGod() == $"Erich")
e.enConstraint = 34;
else if (EActor->getGod() == $"Xel" ||
EActor->getGod() == $"Zurvash" ||
EActor->getGod() == $"The Multitude")
{
if (EActor->isMType(104))
e.enConstraint = 73;
else if (EActor->isMType(105))
e.enConstraint = 72;
else
e.enConstraint = 103;
}
else if (EActor->isMType(104))
e.enConstraint = 117;
else if (EActor->isMType(105))

e.enConstraint = 72;
else
e.enConstraint = 38;
}
return 0;
};
}

Encounter "Nature's Ally"
{
CR: 1+;
Parts:
* [50] 1 of any 2 [0x00000020|0x00200000]
* [20] <CR 4+>1 of any 81 [0x00000020|0x00200000];
Flags: 1, 2, 7, 16;
}

Encounter "Summoned Monster"
{
CR: 1+;
Parts:
* 1 of any 0 [0x00000020|0x00200000];
Flags: 1, 2, 16;

On Event 171 {
if (mID_isMType(e.eID,2))
return -1;
if (mID_isMType(e.eID,76))
return -1;
if (mID_isMType(e.eID,48))
return -1;
if (ResourceHasFlag(e.eID,9))
return -1;
return 0;
};

}

Encounter "Conjured Vortex"
{
CR: 5+;
Parts:
* 1 of any 29 [0x00000020];
Flags: 1, 2, 16;
Lists:
* 111 $"turbulent";
}

Encounter "mass summons"
{
Parts:
* 2-20 of any 0;
Flags: 3, 1, 9;
}

Encounter "gated outsiders"
{
CR: 1-36;
Parts:
* 1-8 of any 0 [0x00000010];
Flags: 1;
}

Encounter "horde of valhalla"
{
CR: 3+;
Parts:
* 2-20 of $"human" $"barbarian;template" [0x00000010];
Flags: 3, 1;
}

Encounter "Generic Summons"
{
CR: 1+;
Parts:
* 1 of any 0 [0x00000020|0x00200000];
Flags: 1, 2, 16;
}

Encounter "single monster"
{
CR: 1+;
Parts:
* 1 of any 0 [0x00000020|0x00200000|0x00100000];
Flags: 1, 2, 16;
}

Encounter "exact monster"
{
CR: 1+;
Parts:
* 1 of any 0 [0x00000004];
Flags: 1, 2, 16;
}

Encounter "Summoned Goblinoid"
{
CR: 1+;
Parts:
* <CR 3+> 1 of any 84 [0x00000080|0x00000020] else
1 of any 84 [0x00000020];
Flags: 1, 2;
}

Encounter "Conjured Outsider"
{
CR: 6+;
Parts:
* 1 of any 48 [0x00200000|0x00000040];
Flags: 2, 1;
}


Encounter "Mated Pair of Dragons"
{
Weight: 10;
CR: 8+;
Parts:
* 2 of any 37 [0x00000020]
* 50% 1d4 of any 37 $"hatchling" [0x00000004];
Flags: 3, 9;
Lists:
* 111
$"young"
$"juvenile"
$"young adult"
$"adult";
On Event (184+1000) {
if (e.enFlags & (0x00002000|0x00080000))
return 0;
EMap->GetEncounterCreature(0)->StateFlags &= ~0x0004;
EMap->GetEncounterCreature(1)->StateFlags |= 0x0004;
return 0;
};
}

Encounter "Lone Dragon"
{
CR: 7+;
Parts:
* 1 of any 37 [0x00000020];
Flags: 2, 5;
Lists:
* 111
$"young"
$"juvenile"
$"young adult"
$"adult";
}

Encounter "goblinoid warband"
{
Weight: 40;
CR: 1-10;
Align: 0x0008;
Parts:
* [30] 1 of 105 $"chieftan" [0x00000020|0x00008000]
* [30] <CR 3+> 75% 1 of 105 $"shaman" [0x00000010]
* [70] 2-15 of 105 [0x00000010]
* [30] <CR 6+> 15% of 105 [0x00000080|0x00000010];
Lists:
* 105
5 $"goblin"
3 $"cave orc"
2 $"hill orc"
2 $"kobold"
2 $"hobgoblin"
1 $"black orc"
$"gremlin"
$"batkin"
1 $"bugbear"
1 $"adlet";
Flags: 9;
On Event (188+1000) {
if (e.chResult == $"goblin" && 1d20==1)
e.chResult = $"blue goblin";
return 0;
};
}

Encounter "mixed kobold warband"
{
Weight: 5;
CR: 1-13;
Align: 0x0008;
Parts:
* [30] 1 of 105 $"chieftan" [0x00000020|0x00008000]
* [30] <CR 3+> 75% 1 of 105 $"shaman" [0x00000010]
* [70] 2-15 of 105 [0x00000010]
* [30] <CR 6+> 15% of 105 [0x00000080|0x00000010];
Lists:
* 105
3 $"kobold"
1 $"batkin"
$"gremlin";
}

Encounter "goblinoid war-riders"
{
Weight: 40;
CR: 3-10;
Align: 0x0008;
Parts:
* [30] 1 of 105 $"chieftan" [0x00000020|0x00008000|0x00002000]
* [30] <CR 3+> 75% 1 of 105 $"shaman" [0x00000010|0x00002000]
* [70] 2-15 of 105 [0x00000010|0x00002000]
* [30] <CR 6+> 15% of 105 [0x00000080|0x00000010|0x00002000];
Lists:
* 105
5 $"goblin"
3 $"cave orc"
2 $"hill orc"
2 $"kobold"
2 $"hobgoblin"
1 $"black orc"
1 $"bugbear"
1 $"adlet";
Flags: 9;
On Event (188+1000) {
if (e.chResult == $"goblin" && 1d20==1)
e.chResult = $"blue goblin";
return 0;
};
}

Encounter "tribal warband"
{
Weight: 5;
CR: 1-10;
Parts:
* [30] 1 of 105 $"chieftan" [0x00000020|0x00008000]
* [30] <CR 3+> 75% 1 of 105 $"shaman" [0x00000010]
* [70] 2-15 of 105 [0x00000010]
* [30] <CR 6+> 15% of 105 [0x00000080|0x00000010];
Lists:
* 105
$"locathah"
$"sahuagin"
$"lizardman"
$"mongrelman"
$"troll"
$"scrag"
$"ogre"
$"muckdweller"
$"grippli"
$"kyrie"
$"hill giant"
$"frost giant"
$"merrow"
$"verbeeg"
$"saqualaminoi"
$"bogwart"
$"tabaxi"
$"nixie"
#line "enclist.irh" 355
;
Flags: 9;
}


Encounter "church knights"
{
Weight: 5;
CR: 3+;
Align: 0x0004;
Parts:
* [40] 1-3 of $"human" 112 [0x00000020|0x00002000]
* 75% [50] 1-3 of 105 [0x00000080|0x00000010|0x00002000]
* 20% [50] <cr 6+> of 106 [0x00000010]
* 30% [50] <cr 4+> 1d2 of any 34 [0x00000010];
Lists:
* 105
20 $"human"
8 $"elf" $"dwarf" $"stoutheart halfling" $"aasimar"
2 $"cave orc" $"gnome" $"halfling" $"goblin" $"kobold"
$"lizardman" $"drow"
1 $"air genasi" $"water genasi" $"earth genasi"
$"fire genasi" $"mongrelman" $"kyrie" $"batkin"
$"thri-kreen" $"ogre" $"hill giant" $"stone giant"
$"frost giant" $"verbeeg" $"centaur";
* 106
$"nymph"
$"guardian naga"
$"silver dragon"
$"steel dragon",
* 110
10 $"paladin;template"
5 $"priest;template" $"curate"
3 $"knight" $"monk;template" $"undead hunter"
2 $"ranger;template"
1 $"druid;template" $"rogue;template" $"archer" $"rogue-archer"
$"mage;template",
* 112
5 $"priest;template" $"curate"
2 $"paladin;template";
Constants:
* 115 3;
}

Encounter "Lone Dark-Dwelling Beast"
{
Weight: 40;
CR: 1+;
Parts:
* 1 of 105 [0x00100000|0x00200000];
Flags: 2, 10;
On Event 171 {
if (e.chList == 105) {
if (!(e.eID->Terrains & 0x0001) &&
!ResourceHasFlag(e.eID, 104))
if (!mID_isMType(e.eID, 85))
return 0;
return -1;
}
return 0;
};
Lists:
* 105
(-1) (2)
(-1) (58)
(-1) (35)
(-1) (28)
(-1) (31)
(-1) (30)
(-1) (17);

}

Encounter "zombie horde"
{
Weight: 10;
Terrain: 0x0010|0x0080;
CR:1-5;
Parts:
* 1-30 of 105 $"zombie" [0x00000800];
Flags: 3, 4;
Lists:
* 105
700 $"human"
50 $"dwarf" $"halfling" $"cave orc"
$"hill orc" $"lizardman" $"drow"
$"gnome" $"kobold" $"goblin" $"hobgoblin"
$"bugbear" $"batkin"
1 (-1) (91);
Constants:
* 115 3;
}

Encounter "skeletal armada"
{
Weight: 10;
CR:1-8;
Parts:
* [30] <CR 3+> 1 of any 112 [0x00000020|0x00200000]
* [30] 1-30 of 105 $"skeleton" [0x00000800];
Flags: 3, 4;
Lists:
* 105
500 $"human"
50 $"dwarf" $"halfling" $"cave orc"
$"hill orc" $"lizardman" $"drow"
$"gnome" $"kobold" $"goblin" $"hobgoblin"
$"bugbear" $"batkin"
1 (-1) (91);
Constants:
* 115 3;
}

Encounter "pack encounter"
{
Weight: 30;
CR: 1-20;
Parts:
* 1-30 of any 0 [0x00000800];
Flags: 3, 4, 9;
On Event 171 {
if (ResourceHasFlag(e.eID, 104))
return 0;
return -1;
},
(188+500) {
e.eimXCR = max(e.eimXCR,XCR(1));
e.epXCR = max(e.epXCR,XCR(1)*3);
return 0;
};
Constants:
* 115 2;
}

Encounter "adventurer"
{
Weight: 20;
CR: 1-36;
Parts:
* 1 of 105 [0x00000080|0x00000020];
Flags: 2;
Lists:
* 105
200 $"human"
100 $"dwarf" $"elf"
75 $"gnome" $"halfling"
$"aranea" $"tabaxi"
20 $"cave orc" $"hill orc"
$"stoutheart halfling"
$"lizardman" $"drow"
$"kobold" $"kyrie"
$"ogre" $"ogre mage"
(-1) (71)
1 (-1) (87),
* 110
$"warrior;template"
$"mage;template"
$"priest;template"
$"rogue;template"
$"barbarian;template"
$"bard;template"
$"druid;template"
$"monk;template"
$"paladin;template"
$"ranger;template"

$"reaver"
$"minstrel"
$"dark sorcerer"
$"shadowdancer;template"
$"grey druid"
$"scarlet disciple"
$"blackguard;template"
$"myrmidon"
$"curate"
$"ruby initiate"
$"stalker"
;
}

Encounter "adventuring party"
{
Weight: 20;
CR:3-10;
Parts:
* 1d4+3 of 105 [0x00000080|0x00000040]
* 10% <CR 6+> 1 of any (85) [0x00000010|0x00000080];
Flags: 3, 5;
Lists:
* 105
1000 $"human"
100 $"dwarf" $"elf"
50 $"gnome" $"halfling"
20 $"cave orc" $"hill orc"
$"stoutheart halfling"
$"lizardman" $"drow"
$"kobold" $"tabaxi"
$"ogre" $"ogre mage"
(-1) (71)
$"wererat" $"aranea"
1 (-1) (11+91*256),
* 110
50 $"warrior;template"
$"mage;template"
$"priest;template"
$"rogue;template"
20 $"barbarian;template"
$"bard;template"
$"druid;template"
$"monk;template"
$"paladin;template"
$"ranger;template",
* 119 20 20 20 20 20 10 5 5;
Constants:
* 115 3;
}

Encounter "experienced adventuring party"
{
Weight: 20;
CR:8-20;
Parts:
* 1d4+4 of 105 [0x00000080|0x00000040]
* 10% <CR 6+> 1 of any (85) [0x00000010|0x00000080];
Flags: 3, 8, 5;
Lists:
* 105
1000 $"human"
100 $"dwarf" $"elf"
50 $"gnome" $"halfling"
20 $"cave orc" $"hill orc"
$"stoutheart halfling"
$"lizardman" $"drow"
$"kobold" $"wererat"
(-1) (71)
$"tabaxi" $"aranea"
$"ogre" $"ogre mage"
1 (-1) (11+91*256),
* 110
50 $"myrmidon"
$"mage;template"
$"curate"
$"rogue;template"
20 $"reaver"
$"minstrel"
$"dark sorcerer"
$"shadowdancer;template"
$"grey druid"
$"stalker"
$"scarlet disciple"
$"blackguard;template"
$"druid;template"
$"monk;template"
$"paladin;template"
$"ranger;template"
$"ruby initiate";
Constants:
* 115 3;
}

Encounter "mounted adventuring party"
{
Weight: 10;
CR:3-10;
Parts:
* 1d4+3 of 105 [0x00000080|0x00000040|0x00002000]
* 10% <CR 6+> 1 of any (85) [0x00000010];
Flags: 3, 5;
Lists:
* 105
1000 $"human"
100 $"dwarf" $"elf"
50 $"gnome" $"halfling"
20 $"cave orc" $"hill orc"
$"stoutheart halfling"
$"lizardman" $"drow"
$"kobold" $"aranea"
(-1) (71)
$"wererat" $"tabaxi"
$"ogre" $"ogre mage"
1 (-1) (11+91*256),
* 110
50 $"warrior;template"
$"mage;template"
$"priest;template"
$"rogue;template"
20 $"barbarian;template"
$"bard;template"
$"druid;template"
$"monk;template"
$"paladin;template"
$"ranger;template",
* 119 20 20 20 20 20 10 5 5;
Constants:
* 115 3;
}

Encounter "mounted experienced adventuring party"
{
Weight: 10;
CR:8-20;
Parts:
* 1d4+4 of 105 [0x00000080|0x00000040|0x00002000]
* 10% <CR 6+> 1 of any (85) [0x00000010];
Flags: 3, 8, 5;
Lists:
* 105
1000 $"human"
100 $"dwarf" $"elf"
50 $"gnome" $"halfling"
20 $"cave orc" $"hill orc"
$"stoutheart halfling"
$"lizardman" $"drow"
$"kobold" $"wererat"
$"tabaxi" $"aranea"
$"ogre" $"ogre mage"
(-1) (71)
1 (-1) (11+91*256),
* 110
50 $"myrmidon"
$"mage;template"
$"curate"
$"rogue;template"
20 $"reaver"
$"minstrel"
$"dark sorcerer"
$"shadowdancer;template"
$"grey druid"
$"stalker"
$"scarlet disciple"
$"blackguard;template"
$"druid;template"
$"monk;template"
$"paladin;template"
$"ranger;template"
$"ruby initiate";
Constants:
* 115 3;
}


Encounter "band of outlaws"
{
Weight: 20;
CR: 1-7;
Parts:
* 2-10 of 105 [0x00000080|0x00000010];
Flags: 3, 8;
Lists:
* 110
$"bandit" $"brigand" $"outlaw",
* 105
100 $"human"
40 $"tiefling" $"hobgoblin"
20 $"halfling" $"drow" $"hill orc" $"ogre"
$"mongrelman" $"goblin"
10 $"dwarf" $"cave orc"
3 $"elf" $"kobold" $"gnome" $"black orc"
$"dekanter goblin" $"bugbear" $"batkin",
* 119
5 20 30 20 10 5 5;
Constants:
* 115 2;
}

Encounter "pack of rats"
{
Weight: 10;
CR:1-5;
Parts:
* 4-20 of 105;
Flags: 3, 4;
Lists:
* 119 40 10 5 3,
* 105
10 $"giant rat"
1 $"plague rat";
}

Encounter "aberration group"
{
Weight: 10;
CR:1-20;
Parts:
* 1-6 of any 58 [0x00000010];
Flags: 3, 9, 1;
Constants:
* 115 2;
}

Encounter "chitine band"
{
Weight: 2;
CR: 2-7;
Parts:
* [40] <CR 5+> 1-3 of $"choldrith" [0x00000010]
* [40] 2-8 of $"chitine" [0x00000010|0x00400000];
Flags: 3;
Lists:
* 110 30 $"mage;template"
$"rogue;template"
$"warrior;template";
}

Encounter "mind flayer inquisition"
{
Weight: 15;
CR: 8+;
Parts:
* 3 of any 42 [0x00000020];
Flags: 3;
Constants:
* 115 2;
}

Encounter "drow scouting party"
{
Weight: 20;
CR: 6+;
Parts:
* [50] 1 of $"drow" $"priest;template" [0x00002000|0x00000020|0x00008000]
* [30] 1 of $"drow" $"mage;template" [0x00002000|0x00000020]
* [30] 3-8 of $"drow" [0x00000080|0x00000010|0x00002000|0x00000800]
* [15] 25% 1-3 of $"chitine" [0x00000200]
* [60] 25% <CR 8+> 1-3 of $"crystal ooze" [0x00000010];
Lists:
* 110
20 $"rogue;template"
10 $"rogue-archer"
$"archer"
$"warrior;template"
$"shadowdancer;template"
$"myrmidon"
$"blackguard;template";
On Event (184+1000) {
if (e.enFlags & (0x00002000|0x00080000))
return 0;

EMap->GetEncounterCreature(0)->StateFlags |= 0x0004;
return 0;
};
Constants:
* 115 3;
}

Encounter "grippli tribe"
{
Weight: 5;
CR: 2+;
Parts:
* [60] 3-15 of $"grippli" [0x00400000|0x00000040]
* [30] <CR 5+> 1-2 of $"oxthixi" [0x00400000|0x00000040];
Flags: 3, 6;
}

Encounter "band of ixitxachitl"
{
Weight: 10;
CR: 2+;
Parts:
* 2-20 of 105 [0x00000010];
Flags: 3, 6;
Lists:
* 105 $"ixitxachitl" $"greater ixitxachitl";
}

Encounter "trapper ambush"
{
Weight: 5;
CR: 2+;
Parts:
* 1-15 of any 27;
Flags: 9;
}

Encounter "mixed trapper ambush"
{
Weight: 3;
CR: 2+;
Parts:
* 1-15 of any 27;
}

Encounter "oozes"
{
Weight: 5;
CR: 1+;
Parts:
* 1-15 of any 17 [0x00000010];
Flags: 9;
}

Encounter "mixed oozes"
{
Weight: 3;
CR: 1+;
Parts:
* 1-15 of any 17 [0x00000010];
}

Encounter "fungi"
{
Weight: 5;
CR: 1+;
Parts:
* 1-15 of any 39 [0x00200000];
Flags: 9;
}

Encounter "mixed fungi"
{
Weight: 3;
CR: 1+;
Parts:
* 1-15 of any 39;
}

Encounter "myconid colony"
{
CR: 2+;
Parts:
* [30] 1 of $"myconid" $"chieftan" [0x00000020|0x00008000]
* [30] <CR 3+> 75% 1 of $"myconid" $"shaman" [0x00000010]
* [70] 2-15 of $"myconid" [0x00000010]
* [30] <CR 6+> 15% of $"myconid" [0x00000080|0x00000010]
* [50] 3-9 of any 39;
Constants:
* 115 3;
}

Encounter "nest of nagas"
{
CR: 10+;
Parts:
* [60] 1-5 of any 21 [0x00000010]
* [15] 3-10 of any (2+52*256);
Flags: 3, 9, 1;
}

Encounter "band of ghouls"
{
Weight: 15;
CR: 3-9;
Parts:
* [30] <CR 4+> 1 of $"ghast" [0x00000020|0x00008000|0x00100000]
* [60] 1-10 of $"ghoul" [0x00000010|0x00000800];
Flags: 3;
Constants:
* 115 2;
}

Encounter "flock of birds"
{
Weight: 3;
CR: 1+;
Parts:
* 3-25 of any 4;
Flags: 3, 9;
}

Encounter "graveborn creatures"
{
Weight: 10;
CR: 3-20;
Parts:
* 1-10 of any 91 $"graveborn;template" [0x00200000];
On Event 171 {
if (mID_isMType(e.eID,37))
return -1;
return 1;
};
Flags: 9;
}

Encounter "lone template undead"
{
Weight: 10;
CR: 7+;
Parts:
* 1 of 105 112 [0x00000010|0x00000080];
Lists:
* 105
300 $"human"
5 $"drow" $"tiefling" $"black orc"
1 $"cave orc" $"hill orc" $"goblin"
$"kobold" $"gnome" $"dwarf" $"halfling"
$"ogre" $"lizardman" $"hobgoblin"
$"bugbear" $"sahuagin" $"kyrie"
$"thri-kreen" $"centaur",
* 110
20 $"warrior;template" $"myrmidon"
$"mage;template" $"ruby initiate" $"dark sorcerer"
$"rogue;template" $"shadowdancer;template"
$"priest;template" $"curate"
$"monk;template" $"scarlet disciple"
$"bard;template" $"minstrel"
5 $"ranger;template" $"stalker"
$"barbarian;template" $"reaver",
* 112
10 $"vampire"
5 $"ghost" $"death knight";
}

Encounter "monsterous animated corpse"
{
Weight: 10;
CR: 1+;
Parts:
* 1 of any 91 112 [0x00200000];
Lists:
* 112
$"skeleton" $"zombie";
On Event 171 {
if (isResType(e.eID,62)) {
if (ResourceHasFlag(e.eID,1) &&
!mID_isMType(e.eID,41))
return -1;
if (mID_isMType(e.eID,37))
return -1;
}
return 1;
};
}

Encounter "mixed corporeal undead"
{
Weight: 25;
CR: 3+;
Parts:
* 2-10 of 105 [0x00200000|0x00000010|0x00001000];
Flags: 3, 5;
Lists:
* 105
10 (-1) (76)
$"monsterous animated corpse"
30 $"lone template undead";
Constants:
* 115 2;
On Event 171 {
if (isResType(e.eID, 62))
if (ResourceHasFlag(e.eID,9))
return -1;
return 1;
};
}

Encounter "gravestone undead"
{
CR: 3+;
Parts:
* <CR 7+> 33% 1 of $"lone template undead" else
1 of 105 [0x00000020|0x00100000|0x00000400];
Flags: 1, 16;
Lists:
* 105
$"ghoul"
$"ghast"
$"revenant"
$"wraith"
$"wight"
$"skeletal warrior"
$"icewight"
$"burning ghast"
$"bone delver"
$"bodak"
$"spectre"
$"mummy"
$"mummy lord";
}

Encounter "negative undead"
{
Weight: 10;
CR: 3+;
Parts:
* 2-10 of any 57 [0x00200000|0x00000010];
}

Encounter "water creatures"
{
Weight: 10;
CR: 3+;
Parts:
* [50] of 105 [0x00200000]
* [50] of any (44+92*256)
* [5] <CR 3+> of $"water genasi" [0x00000080|0x00000020]
* [40] of any 91 $"aqueous";
Flags: 7, 6;
Lists:
* 105
$"tiny water elemental"
$"small water elemental"
$"medium water elemental"
$"large water elemental"
$"huge water elemental"
$"greater water elemental"
$"elder water elemental";
Constants:
* 115 3;
}

Encounter "fire creatures"
{
Weight: 10;
CR: 3+;
Parts:
* [50] of 105 [0x00200000]
* [50] of any (44+95*256)
* [5] <CR 3+> of $"fire genasi" [0x00000080|0x00000020]
* [40] of any 91 $"flame";
Flags: 7;
Lists:
* 105
$"tiny fire elemental"
$"small fire elemental"
$"medium fire elemental"
$"large fire elemental"
$"huge fire elemental"
$"greater fire elemental"
$"elder fire elemental";
Constants:
* 115 3;
}

Encounter "earth creatures"
{
Weight: 10;
CR: 3+;
Parts:
* [50] of 105 [0x00200000]
* [50] of any (44+94*256)
* [5] <CR 3+> of $"earth genasi" [0x00000080|0x00000020]
* [40] of any 91 $"earthen";
Flags: 7;
Lists:
* 105
$"tiny earth elemental"
$"small earth elemental"
$"medium earth elemental"
$"large earth elemental"
$"huge earth elemental"
$"greater earth elemental"
$"elder earth elemental";
Constants:
* 115 3;
}

Encounter "air creatures"
{
Weight: 10;
CR: 3+;
Parts:
* [50] of 105 [0x00200000]
* [50] of any (44+93*256)
* [5] <CR 3+> of $"air genasi" [0x00000080|0x00000020]
* [40] of any 91 $"gaseous";
Flags: 7;
Lists:
* 105
$"tiny air elemental"
$"small air elemental"
$"medium air elemental"
$"large air elemental"
$"huge air elemental"
$"greater air elemental"
$"elder air elemental";
Constants:
* 115 3;
}

Encounter "werebeast and allies"
{
Weight: 10;
CR: 4+;
Parts:
* [50] 1 of any 19 [0x00000100|0x00000010]
* [25] 3-15 of 105;
Flags: 9;
On Event (188+500) {
if (e.cPart == 1)
{
switch (EMap->enUniformGet(0x0F000000 | 19))
{
case $"wererat": e.chResult = (random(2) ? $"giant rat" : $"plague rat"); break;
case $"werebear": e.chResult = (random(2) ? $"black bear" : $"brown bear"); break;
case $"werewolf": e.chResult = $"wolf"; break;
case $"wereboar": e.chResult = $"wild boar"; break;
case $"jackal lord": e.chResult = $"jackal"; break;
case $"weretiger": e.chResult = $"tiger"; break;
case $"goblin spider": e.chResult = $"goblin"; break;
case $"barghest": e.chResult = $"wolf"; break;
case $"greater barghest": e.chResult = $"winter wolf"; break;
default: e.chResult = $"mastiff"; break;
}
return 1;
}
return 0;
};
}

Encounter "werebeast pack and allies"
{
Weight: 10;
CR: 6+;
Parts:
* [75] 2-6 of any 19 [0x00000100|0x00000010]
* [25] 3-15 of 105;
Flags: 9;
On Event (188+500) {
if (e.cPart == 1)
{
switch (EMap->enUniformGet(0x0F000000 | 19))
{
case $"wererat": e.chResult = (random(2) ? $"giant rat" : $"plague rat"); break;
case $"werebear": e.chResult = (random(2) ? $"black bear" : $"brown bear"); break;
case $"werewolf": e.chResult = $"wolf"; break;
case $"wereboar": e.chResult = $"wild boar"; break;
case $"jackal lord": e.chResult = $"jackal"; break;
case $"weretiger": e.chResult = $"tiger"; break;
case $"goblin spider": e.chResult = $"goblin"; break;
case $"barghest": e.chResult = $"wolf"; break;
case $"greater barghest": e.chResult = $"winter wolf"; break;
default: e.chResult = $"mastiff"; break;
}
return 1;
}
return 0;
};
}

Encounter "regiment of devils"
{
CR: 7+;
Weight: 15;
Parts:
* [50] 3-6 of any 73 [0x00200000]
* 50% [30] 8-30 of any 73 [0x00000800|0x00000008]
* 33% [20] 4-8 of any 91 $"fiendish";
Flags: 8, 3;
Constants:
* 115 3;
Lists:
* 119 5 10 15 20 25 30;
}

Encounter "horde of demons"
{
CR: 7+;
Weight: 15;
Parts:
* [50] 5-12 of any 72
* 33% [20] 4-8 of any 91 $"fiendish";
Flags: 3;
Constants:
* 115 3;
Lists:
* 119 5 10 15 20 25 30;
}

Encounter "lone outsider"
{
CR: 5+;
Parts:
* 1 of any 48;
Flags: 2;
Lists:
* 119 5 10 15 20 25 30;
}

Encounter "druid, with animals"
{
Weight: 5;
CR: 4+;
Parts:
* [50] 1 of 105 [0x00000080|0x00000020]
* [20] 1-4 of any 2;
Lists:
* 110
$"druid;template"
$"grey druid"
$"wildshaped druid",
* 105
100 $"human" $"elf" $"lizardman"
10 $"gnome" $"cave orc" $"hill orc"
$"halfling"
1 (-1) (87);
}

Encounter "uniform classed group"
{
Weight: 20;
CR:3+;
Parts:
* 1d4+4 of 105 [0x00000080|0x00000040];
Flags: 3, 8, 9;
Lists:
* 105
50 $"human"
10 $"dwarf" $"elf"
$"gnome" $"halfling"
$"cave orc" $"hill orc"
$"stoutheart halfling"
$"lizardman" $"drow"
$"kobold" $"wererat"
$"locathah" $"sahuagin"
$"nixie" $"tabaxi"
$"batkin",
* 110
$"myrmidon"
$"mage;template"
$"curate"
$"rogue;template"
$"reaver"
$"dark sorcerer"
$"shadowdancer;template"
$"grey druid"
$"stalker"
$"scarlet disciple"
$"druid;template"
$"monk;template"
$"paladin;template"
$"ranger;template"
$"warrior;template"
$"ruby initiate";
Constants:
* 115 3;
}

Encounter "band of giants"
{
Weight: 20;
CR: 6+;
Parts:
* [30] 1 of any 41 $"chieftan" [0x00000020]
* 50% [30] 1 of any 41 $"priest;for giants" [0x00000020]
* [60] 3-6 of any 41 [0x00000010|0x00000200];
Flags: 9, 3;
Constants:
* 115 3;
}

Encounter "multitude cultists"
{
CR: 2+;
Parts:
* 1-5 of any 87 $"multitude cultist" [0x00000020];
}

Encounter "homogenous fae group"
{
CR: 1+;
Parts:
* 1-12 of any 9 [0x00000200|0x00000020];
Flags: 9;
}

Encounter "diverse fae group"
{
CR: 1+;
Parts:
* 1-12 of any 9 [0x00000200|0x00000020];
}

Encounter "sylvan creatures"
{
CR: 1+;
Parts:
* 1-12 of any 81 [0x00000010];
Flags: 1;
}

Encounter "spider encounter"
{
CR: 1+;
Parts:
* 4-12 of any 26 [0x00000010|0x00200000];
Flags: 9;
On Event 171 {
if (e.eID == $"drider" || e.eID == $"chitine" ||
e.eID == $"choldrith" || ResourceHasFlag(e.eID,92))
return -1;
return 1;
};
}

Encounter "lone vampire"
{
Weight: 10;
CR: 7+;
Parts:
* <CR 6+> 1 of 105 $"vampire" [0x00000010|0x00000080] else
1 of $"vampire spawn";
Lists:
* 105
300 $"human"
5 $"drow" $"tiefling" $"black orc"
1 $"cave orc" $"hill orc" $"goblin"
$"kobold" $"gnome" $"dwarf" $"halfling"
$"ogre" $"lizardman" $"hobgoblin"
$"bugbear" $"sahuagin" $"kyrie"
$"thri-kreen" $"centaur"
$"ogre mage",
* 110
20 $"warrior;template" $"myrmidon"
$"mage;template" $"ruby initiate" $"dark sorcerer"
$"rogue;template" $"shadowdancer;template"
$"priest;template" $"curate"
$"monk;template" $"scarlet disciple"
$"bard;template" $"minstrel"
5 $"ranger;template" $"stalker"
$"barbarian;template" $"reaver";
}

Encounter "group of minotaurs"
{
CR: 6+;
Parts:
* 1-12 of $"minotaur";
Flags: 1;
}

Encounter "plants"
{
Parts:
* 1-12 of any 49 [0x00200000];
Flags: 1;
}

Encounter "druid, with plants"
{
Parts:
* [50] 1 of 105 [0x00000080|0x00000020]
* 1-12 of any 49 [0x00200000];
Lists:
* 110
$"druid;template"
$"grey druid"
$"wildshaped druid",
* 105
100 $"human" $"elf" $"lizardman"
10 $"gnome" $"cave orc" $"hill orc"
$"halfling" $"tabaxi"
1 (-1) (87);
Flags: 1;
}

Encounter "homogenous vermin"
{
Parts:
* 1-12 of any 31;
Flags: 3, 9;
}

Encounter "mixed vermin"
{
Parts:
* 1-12 of any 31;
Flags: 3;
}

Encounter "hag covey"
{
CR: 7+;
Parts:
* [70] 3 of any 28 [0x00000010|0x00000200]
* [15] 2-6 of $"ogre"
* [25] <CR 10+> 1-4 of any (41+103*256);
Flags: 3;
Constants:
* 115 3;
}

Encounter "formian workgroup"
{
CR: 2+;
Parts:
* 3-15 of $"formian worker"
* <CR 5+> 1-6 of $"formian warrior"
* <CR 8+> 1-3 of $"formian taskmaster";
Flags: 3;
}

Encounter "slaad raiders"
{
CR: 10+;
Parts:
* 3-6 of 105;
Flags: 3;
Lists:
* 105
$"red slaad"
$"green slaad"
$"blue slaad";
}

Encounter "modron envoy"
{
CR: 1-4;
Parts:
* 2-15 of 105;
Flags: 3;
Lists:
* 105
$"modron"
$"duodrone";
}

Encounter "grid bug patrol"
{
CR: 1-6;
Parts:
* 3-15 of $"grid bug"
* <CR 4+> 1-4 of $"grid bug enforcer";
Flags: 3;
}

Encounter "giant, with humanoid followers"
{
CR: 5-14;
Align: 0x0008;
Parts:
* [70] 1-2 of any (41+103*256) [0x00000020|0x00000100]
* [20] 3-20 of 105 [0x00000010|0x00000800];
Lists:
* 105
$"goblin"
$"cave orc"
$"hill orc"
$"bugbear"
$"hobgoblin"
$"grimlock"
$"locathah"
$"sahuagin"
$"bogwart"
$"mongrelman"
$"adlet"
$"dekanter goblin"
$"lizardman"
$"kobold";
Flags: 9, 3;
}

Encounter "dark lord, with slaves"
{
CR: 9+;
Align: 0x0008;
Parts:
* [50] 15% <CR 12+> 1 of any 28 [0x00000020|0x00008000] else
[50] 50% 1 of 105 [0x00000020|0x00000080|0x00008000] else
[50] 50% 1 of any 73 [0x00000020|0x00008000] else
[50] 1 of $"lone vampire"
* [50] 1 of $"goblinoid warband";
Flags: 3, 15;
Lists:
* 110
100 $"dark sorcerer"
$"blackguard;template"
$"reaver"
$"stalker"
$"scarlet disciple"
$"shadowdancer;template"
1 $"rogue;template"
$"warrior;template"
$"priest;template"
$"mage;template"
$"knight"
$"monk;template"
,
* 105
20 $"human"
1 $"goblin spider"
(-1) (42)
$"magori"
$"skeletal warrior"
$"wraith"
$"mummy lord"
$"revenant"
;
}

Encounter "lone pseudonatural"
{
CR: 7+;
Parts:
* 1 of any 91 $"pseudonatural" [0x00000020];
On Event 171 {
if (ResourceHasFlag(e.eID,10) ||
ResourceHasFlag(e.eID,9))
return -1;
return 1;
};
Flags: 2;
}

Encounter "pseudonatural group"
{
CR: 7+;
Parts:
* [70] 3-7 of any 91 $"pseudonatural" [0x00000020]
* [30] 50% 1-2 of 105 [0x00000010];
On Event 171 {
if (ResourceHasFlag(e.eID,10) ||
ResourceHasFlag(e.eID,5) ||
ResourceHasFlag(e.eID,9))
return -1;
return 1;
};
Flags: 3;
Lists:
* 105 5 (-1) (42) $"chuul" $"magori"
$"oxthixi" $"umber hulk" $"tentacle stalker"
$"quylthulg" $"hook horror" $"cloaker"
$"disir" $"cellar dwellar" $"belabra"
1 (-1) (7);
}

Encounter "clockwork beasts"
{
CR: 4+;
Parts:
* 1-6 of any 91 $"clockwork" [0x00000020];
On Event 171 {
if (ResourceHasFlag(e.eID,10) ||
ResourceHasFlag(e.eID,5) ||
ResourceHasFlag(e.eID,9))
return -1;
return 1;
};
}
#line "weapons.irh" 6
Item "dire flail" : 58
{ Image: bright blue 251; Group: 0x00020000 | 0x00000002;
Mat: 11; Size: 5; Weight: 200; Cost: 15 1;
Parry: 4; SDmg: 1d8; LDmg: 1d6; Acc: +4; Crit: x3; Threat: 1; Spd: 100%;
Flags: 28, 35, 20, 21, 33,
29, 39, 36; }

Item "heavy flail" : 58
{ Image: blue 251; Group: 0x00020000; Parry: 5;
Mat: 11; Size: 5; Weight: 200; Cost: 12 1;
SDmg: 1d12; LDmg: 1d8; Acc: +4; Crit: x3; Threat: 3; Spd: 70%;
Flags: 28, 39; }

Item "light flail" : 58
{ Image: blue 251; Group: 0x00004000|0x00010000; Parry: 5;
Mat: 11; Size: 4; Weight: 50; Cost: 7 1;
SDmg: 1d9; LDmg: 1d7; Acc: +4; Crit: x2; Threat: 2; Spd: 90%;
Flags: 28, 39; }
#line "weapons.irh" 29
Item "handaxe" : 58
{ Image: red 251; Group: 0x00000010 | 0x00000100 | 0x00010000; Range: 1;
Mat: 11; Size: 3; Weight: 40; Cost: 8 1;
SDmg: 1d6; LDmg: 1d6; Acc: -1; Crit: x2; Threat: 1; Spd: 120%;
Flags: 22, 26; Parry: 1;
Desc: "This short axe can be used as a melee weapon, but its
      primary purpose is throwing."; }

Item "greataxe" : 58
{ Image: red 251; Group: 0x00000010; Parry: 2;
Mat: 11; Size: 5; Weight: 200; Cost: 13 1;
SDmg: 2d8; LDmg: 2d10; Acc: +1; Crit: x3; Threat: 2; Spd: 80%;
Flags: 22, 26, 37, 36; }

Item "orc double axe" : 58
{ Image: bright red 251; Group: 0x00000010 | 0x00000002;
Mat: 11; Size: 5; Weight: 250; Cost: 16 1;
Parry: 3; SDmg: 1d10; LDmg: 1d12; Acc: +1; Crit: x3; Threat: 2; Spd: 80%;
Flags: 22, 26, 29, 33,
5, 44; }

Item "battleaxe" : 58
{ Image: red 251; Group: 0x00000010;
Mat: 11; Size: 4; Weight: 70; Cost: 9 1;
SDmg: 1d10; LDmg: 1d12; Acc: +1; Crit: x3; Threat: 2; Spd: 70%; Parry: 2;
Flags: 22, 26; }

Item "dwarven waraxe" : 58
{ Image: bright red 251; Group: 0x00000010 | 0x00000002;
Mat: 11; Size: 4; Weight: 150; Cost: 12 1;
Parry: 2; SDmg: 2d6; LDmg: 3d6; Acc: +2; Crit: x3; Threat: 2; Spd: 90%;
Flags: 22, 26, 44; }
#line "weapons.irh" 66
Item "halfspear" : 58
{ Image: brown 251; Group: 0x00000400 | 0x00010000; Range: 2;
Mat: 11; Size: 4; Weight: 30; Cost: 8 1;
SDmg: 1d6; LDmg: 1d6; Acc: +0; Crit: x3; Threat: 1; Spd: 100%;
Flags: 25, 27, 42, 12; Parry: 3;
Desc: "The smaller cousin of the shortspear, halfspears are
      3-4 feet long and are frequently used by halfling hunters
      and the goblinoid peoples."; }

Item "shortspear" : 58
{ Image: brown 251; Group: 0x00000400; Range: 2;
Mat: 11; Size: 5; Weight: 50; Cost: 9 1;
SDmg: 1d8; LDmg: 1d8; Acc: +0; Crit: x3; Threat: 1; Spd: 100%;
Flags: 25, 27, 42, 12; Parry: 4;
Desc: "The shortspear has a wooden haft about five feet long,
      with a sharp steel blade mounted at the end."; }

Item "trident" : 58
{ Image: brown 251; Group: 0x00000400; Range: 1; Parry: +4;
Mat: 11; Size: 5; Weight: 60; Cost: 9 1;
SDmg: 1d8; LDmg: 1d8; Acc: +0; Crit: x2; Threat: 1; Spd: 110%;
Flags: 27, 25;
Desc: "The trident is a three-pronged spear which is often
      favored by seafaring races and cultures."; }

Item "longspear" : 58
{ Image: bright brown 251; Group: 0x00000400 | 0x00000200; Range: 1;
Mat: 11; Size: 5; Weight: 90; Cost: 12 1;
SDmg: 1d8; LDmg: 1d8; Acc: +0; Crit: x3; Threat: 1; Spd: 100%;
Flags: 25, 27, 42, 20, 12; Parry: 1;
Desc: "Essentially a polearm, the longspear is over ten feet in
      length and cannot be used to strike at enemies who have closed
      with the wielder."; }

Item "light lance" : 58
{ Image: brown 251; Group: 0x00000800;
Mat: 8; Size: 4; Weight: 50; Cost: 10 1;
SDmg: 1d6; LDmg: 1d10; Acc: +0; Crit: x3; Threat: 1; Spd: 70%;
Flags: 25, 27, 41; Parry: 0;
Desc: "The light lance can be used effectively by a horseman
      or footman, though it is obviously intended to be a rider's
      weapon."; }

Item "heavy lance" : 58
{ Image: brown 251; Group: 0x00000800;
Mat: 8; Size: 5; Weight: 100; Cost: 12 1;
SDmg: 1d8; LDmg: 1d12; Acc: +0; Crit: x3; Threat: 1; Spd: 70%;
Flags: 25, 27, 41, 48; Parry: 0;
Desc: "The classical weapon of the knight, the heavy lance's
      construction makes it awkward to use when not mounted."; }

Item "great lance" : 58
{ Image: bright brown 251; Group: 0x00000800 | 0x00000002;
Parry: 0;
Mat: 18; Size: 5; Weight: 500; Cost: 90 1;
SDmg: 1d10; LDmg: 1d20; Acc: +0; Crit: x3; Threat: 1; Spd: 70%;
Flags: 20, 25, 41, 36, 37, 48;
Desc: "The great lance is a monsterous weapon usually associated with
      demonic hordes and mythic tales of knights riding dragons. The
      typical great lance is as long as a pike but non-trivially thicker:
      it is the fullblade of the lance world.  In order to survive the
      strain of repeated charges (and to help it bear up under its own
      non-trivial weight and torque), the great lance is traditionally cast
      from adamant.  Only the strongest can hope to use such a powerful
      weapon."; }
#line "weapons.irh" 146
Item "halberd" : 58
{ Image: brown 251; Group: 0x00000200 | 0x00000010;
Mat: 11; Size: 5; Weight: 150; Cost: 12 1;
SDmg: 1d10; LDmg: 1d12; Acc: +1; Crit: x3; Threat: 1; Spd: 70%;
Parry: 4;
Flags: 25, 26, 27, 25, 18,
37, 42;
Desc: "The shortest and heaviest common polearm, a halberd 
      is a very effective weapon for a lone fighter, and many 
      specialized styles of combat have developed around it. The 
      halberd has a heavy axe-pike head capable of delivering
      blows with great force."; }

Item "ranseur" : 58
{ Image: bright brown 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 13 1;
SDmg: 2d4; LDmg: 2d4; Acc: +1; Crit: x3; Threat: 1; Spd: 80%;
Parry: 1;
Flags: 27, 19, 20, 42,
25;
Desc: "The ranseur is a long, sharp spear-like polearm, with
      side blades on the head useful for disarming opponents."; }

Item "lucern hammer" : 58
{ Image: bright brown 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 15 1;
SDmg: 2d4; LDmg: 1d6; Acc: -1; Crit: x3; Threat: 1; Spd: 70%;
Parry: 1;
Flags: 27, 28, 25,
42, 20, 22;
Desc: "This 15' polearm has a claw-shaped hammer head designed
      to puncture plate mail."; }

Item "two-bladed halberd" : 58
{ Image: bright purple 251;
Group: 0x00000200 | 0x00000002;
Parry: 4; Mat: 11;
Size: 5; Weight: 300; Cost: 20 1;
SDmg: 1d10; LDmg: 1d10; Acc: +2; Crit: x3; Threat: 1; Spd: 70%;
Flags: 25, 26, 27, 18, 29,
38, 36, 42;
Desc: "This uncommon variant on the popular halberd is known as a
    lajatang among some monkish orders. It is essentially a heavy pole
    with axe-pikes at both ends.";
}

Item "glaive" : 58
{ Image: green 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 13 1;
SDmg: 1d8; LDmg: 1d8; Acc: +1; Crit: x3; Threat: 1; Spd: 75%; Parry: 1;
Flags: 25, 26, 27, 20, 42;
Desc: "A long-range weapon with a simple spear-blade head,
      the glaive can be used either to slash or impale. It is
      one of the most common polearms."; }

Item "guisarme" : 58
{ Image: green 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 150; Cost: 13 1;
SDmg: 2d4; LDmg: 1d6; Acc: 0; Crit: x3; Threat: 1; Spd: 90%; Parry: 1;
Flags: 26, 20, 36, 18,
42, 33;
Desc: "A polearm with a hooked blade-head, the guisarme
      can be used to slash or trip opponents."; }

Item "voulge" : 58
{ Image: green 251; Group: 0x00000200;
Mat: 11; Size: 5; Weight: 120; Cost: 13 1;
Parry: 1;
SDmg: 2d6; LDmg: 2d6; Acc: -1; Crit: x3; Threat: 1; Spd: 70%;
Flags: 26, 22, 42;
Desc: "It's an axe on a stick! The voulge is essentially a longaxe,
      and is useful for hacking through plate armors."; }


Item "saw-toothed glaive" : 58
{ Image: bright purple 251; Group: 0x00000200 | 0x00000002;
Mat: 11; Size: 5; Weight: 150; Cost: 70 1;
SDmg: 2d8; LDmg: 2d8; Acc: +1; Crit: x3; Threat: 1; Spd: 80%;
Flags: 26, 27, 20, 25, 42,
1;
Desc: "These glaives are the signature weapons of the barbazu devils,
      with saw-like teeth created to inflict exceptional pain as well as
      ravage an opponent's flesh."; }
#line "weapons.irh" 235
Item "club" : 58
{ Image: cyan 251; Group: 0x00000080 | 0x00000001;
Mat: 8; Size: 4; Weight: 30; Cost: 7 1;
SDmg: 1d6; LDmg: 1d4; Acc: +2; Crit: x2; Threat: 1; Spd: 90%;
Parry: 1;
Flags: 28, 39, 24; }

Item "large club" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 8; Size: 5; Weight: 150; Cost: 8 1;
SDmg: 1d10; LDmg: 1d6; Acc: +4; Crit: x2; Threat: 1; Spd: 70%;
Parry: 2;
Flags: 28, 37, 24, 39; }

Item "huge club" : 58
{ Image: bright cyan 251; Group: 0x00000080;
Mat: 8; Size: 6; Weight: 500; Cost: 14 1;
SDmg: 2d8; LDmg: 2d6; Acc: +4; Crit: x2; Threat: 1; Spd: 60%;
Parry: 3;
Flags: 28, 37, 36, 24,
1, 39, 20, 21; }

Item "quarterstaff" : 58
{ Image: bright cyan '|'; Group: 0x00000001 | 0x00000040 | 0x00002000 | 0x00010000;
Mat:8; Size: 5; Weight: 7; Cost: 13 1;
Parry: 8;
SDmg:1d8; LDmg:1d6; Acc: +4; Crit: x2; Threat: 1; Spd: 100%;
Flags: 18, 28, 33, 43;
Desc: "A long stout staff used as a weapon and wielded with one hand in
    the middle and the other between the middle and the end.";
}

Item "force construct staff" : 58
{
Image: bright cyan '|';
Mat:30;
SDmg:1d10; LDmg:1d8;
Cost: 0;
Crit: x3; Threat: 4; Spd: 125%;
Weight: 0; Group: 0x00000040 | 0x00000001 | 0x00002000;
Size: 4; Parry: +8; Acc: +5;
Flags: 18, 28, 33, 1,
43;
Desc: "The decastave is a shimmering, translucent construct in the 
      form of a 10' long pole. It can be wielded like a quarterstaff,
      and often strikes foes with the devastating power of thunder itself.
      Its weightlessness allows it to strike quite rapidly.";
On Event (16+500), (31+500) {
EActor->IPrint("You dispel the conjured staff.");
EItem->Remove(true);
return 1;
},
32 {
if (EActor->isType((-4)) &&
GetHandle(EActor->m) != ((hObj)0))
{
EActor->IDPrint("","The conjured staff vanishes.");
EActor->Remove(true);
return 1;
}
return 0;
},
(54+500) {
EItem->Remove(true);
return 1;
},
(14+500) {
EActor->IPrint("You can't put a force construct in a container.");
return 2;
},
(13+500) {
if (e.EParam != 1 && e.EParam != 2) {
EActor->IPrint("You need to hold the decastave in your hands, else it will disperse.");
return 2;
}
return 0;
},
163 {
e.nCursed = "";
e.nAppend += XPrint(" (<Num> turn<hText>)",
EActor->GetStatiDur(67), EActor->GetStatiDur(67) == 1 ? "" : "s");
return 0;
};
}

Item "maul" : 58
{ Image: bright cyan 251; Group: 0x00000080;
Mat:11; Size: 5; Weight: 700; Cost: 18 1; Parry: 3;
SDmg:2d8; LDmg:2d8; Acc: +2; Crit: x4; Threat: 2; Spd: 70%;
Desc: "A maul is heavy (often wooden-headed) hammer used
    especially for driving wedges. It can be thought of as a sledgehammer
    with one wedge-shaped end and is often used to split wood.";
Flags: 34, 28, 39, 41, 42,
38;
}

Item "great maul" : 58
{ Image: bright cyan 251; Group: 0x00000080;
Mat:11; Size: 6; Weight: 700; Cost: 18 1; Parry: 3;
SDmg:2d12; LDmg:2d12; Acc: +2; Crit: x4; Threat: 2; Spd: 70%;
Desc: "A maul is heavy (often wooden-headed) hammer used
      especially for driving wedges. It can be thought of as a sledgehammer
      with one wedge-shaped end and is often used to split wood. Great
      mauls are used by giants or by creatures able to magically grow
      larger.";
Flags: 34, 28, 39, 41, 42,
38, 37, 36;
}

Item "light mace" : 58
{ Image: cyan 251; Group 0x00000001 | 0x00000080 | 0x00010000;
Mat: 11; Size: 3; Weight: 60; Cost: 5 1; Parry: 4;
SDmg: 1d6; LDmg: 1d6; Acc: +2; Crit: x2; Threat: 1; Spd: 110%;
Flags: 28, 39;
Desc: "Maces are traditionally considered to be the weapons of
      the clergy on Therya, but many warriors also use them. The
      light mace is most commonly used by mounted warriors, and by
      those who lack the strength to use the heavier variant."; }

Item "heavy mace" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 11; Size: 4; Weight: 120; Cost: 12 1; Parry: 3;
SDmg: 1d10; LDmg: 1d8; Acc: +2; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 37, 39;
Desc: "The heavy mace is the symbol of militant clergy on Therya.
      It requires great strength to use, and the lead-filled head
      strikes its victims with tremendous impact."; }

Item "morningstar" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 11; Size: 4; Weight: 120; Cost: 12 1; Parry: 3;
SDmg: 1d8; LDmg: 1d8; Acc: +3; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 37, 27, 39;
Desc: "Satirically called the 'holy water sprinkler', the
      morningstar is essentially a heavy mace with spikes added
      to its head, thus inflicting both blunt trauma and piercing
      wounds."; }

Item "huge morningstar" : 58
{ Image: cyan 251; Group: 0x00000080;
Mat: 11; Size: 6; Weight: 120; Cost: 12 1; Parry: 3;
SDmg: 3d8; LDmg: 3d8; Acc: +1; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 37, 27, 39;
Desc: "Satirically called the 'holy water sprinkler', the
      morningstar is essentially a heavy mace with spikes added
      to its head, thus inflicting both blunt trauma and piercing
      wounds. This morningstar is humongous -- larger than a human
      could ever wield -- and is obviously sized for a giant or
      similar creature."; }

Item "warhammer" : 58
{ Image: red 251; Group: 0x00000080;
Mat: 11; Size: 4; Weight: 120; Cost:
14 1; Parry: 3;
SDmg: 1d8; LDmg: 1d8; Acc: 0; Crit: x3; Threat: 1; Spd: 80%;
Flags: 28, 37, 39, 22;
Desc: "The warhammer is a blunt weapon designed specifically to
      punch through plate armors. Its blows carry terrible force
      with them."; }
#line "weapons.irh" 400
Item "short sword" : 58
{ Image: gray '('; Group: 0x00000004 | 0x00010000;
Mat:11; Size: 3; Weight: 30;
Cost: 9 1; Parry: 4;
SDmg:1d6; LDmg:1d6+1; Acc: +1; Crit: x2; Threat: 2; Spd: 140%;
Flags: 17, 26, 27;
}

Item "scimitar" : 58
{ Image: gray '('; Group: 0x00000008 | 0x00010000; Parry: 5;
Mat: 11; Size: 4; Weight:40; Cost: 10 1;
SDmg: 1d8; LDmg: 1d8; Acc: +2; Crit: x2; Threat: 3; Spd: 115%;
Flags: 26, 27; }

Item "falchion" : 58
{ Image: cyan '('; Group: 0x00000004; Parry: +3;
Mat: 11; Size: 5; Weight: 160; Cost: 11 1;
SDmg: 2d4; LDmg: 2d6; Acc: +1; Crit: x2; Threat: 3; Spd: 120%;
Flags: 26; }

Item "broadsword" : 58
{ Image: green '('; Group: 0x00000008; Parry: 2;
Mat: 11; Size: 4; Weight: 70; Cost: 11 1;
SDmg: 2d4; LDmg: 2d5; Acc: 0; Crit: x2; Threat 2; Spd: 110%;
Flags: 26, 37;
Desc: "Smaller than a bastard sword, but heavier than a long sword,
      the broadsword is something of a tactical midpoint between the
      two weapons. The name derives from the fact that its blade is
      wider than either of the two swords or originated from. The
      broadsword is the heaviest weapon a human can wield in one hand
      without special training."; }


Item "flame blade;weapon" : 58
{
Image: bright red '('; Group: 0x00000008 | 0x00010000; Parry: 0;
Mat: 30; Size: 4; Weight:10;
Flags: 26, 27, 43, 1;
SDmg: 3d8; LDmg: 3d8; Acc: +2; Crit: x2; Threat: 2; Spd: 115%;
Desc: "A flame blade is a brilliantly-hot blade composed of
      solidified flame wielded by a skilled druid.";
On Event (16+500), (31+500) {
EActor->IPrint("You dispel the conjured flame-sword.");
EItem->Remove(true);
return 1;
},
32 {
if (EActor->isType((-4)) &&
GetHandle(EActor->m) != ((hObj)0))
{
EActor->IDPrint("","The conjured flame-sword vanishes.");
EActor->Remove(true);
return 1;
}
return 0;
},
(54+500) {
EItem->Remove(true);
return 1;
},
(41+500) {
if (GetHandle(EItem) != ((hObj)0))
if (EItem->iID == $"flame blade;weapon")
e.DType = 1;
},
(14+500) {
EActor->IPrint("You can't put a flame blade in a container.");
return 2;
},
(13+500) {
if (e.EParam != 1 && e.EParam != 2) {
EActor->IPrint("You need to hold the flame blade in your hands, else it will disperse.");
return 2;
}
return 0;
},
163 {
e.nCursed = "";
e.nAppend += XPrint(" (<Num> turn<hText>)",
EActor->GetStatiDur(67), EActor->GetStatiDur(67) == 1 ? "" : "s");
return 0;
};
}


Item "long sword" : 58
{ Image: gray '('; Group: 0x00000008 | 0x00010000;
Mat:11; Size: 4; Weight: 40;
Cost: 10 1; Parry: 3;
SDmg:1d8; LDmg:1d8+1; Acc: +2; Crit: x2; Threat: 2; Spd: 115%;
Flags: 26;
Desc: "A long sword consists of a blade, a cross-guard, a handle  and a
  pommel.  The blade comes in two basic styles, a straight cutting blade and
  a tapered thrusting blade, though both styles can cut and thrust.  The
  cross-guard is generally straight, but it can be curved and it's ends may
  be rounded, spiked or ornate.  A long sword handle has enough space for two
  handed use; it can be waisted and has an oval cross- section.  The pommel
  is a counter weight to the blade and comes in many shapes and sizes.
  Because of this, it can be a formidable weapon in it's own right, when used
  to strike hammer-like blows.";
}

Item "small long sword" : 58
{ Image: gray '('; Group: 0x00000008 | 0x00010000;
Mat:11; Size: 3; Weight: 20;
Cost: 10 1; Parry: 3;
SDmg:1d6; LDmg:1d6+1; Acc: +2; Crit: x2; Threat: 2; Spd: 115%;
Flags: 26;
Desc: "A long sword consists of a blade, a cross-guard, a handle  and a
  pommel.  The blade comes in two basic styles, a straight cutting blade and
  a tapered thrusting blade, though both styles can cut and thrust.  The
  cross-guard is generally straight, but it can be curved and it's ends may
  be rounded, spiked or ornate.  A long sword handle has enough space for two
  handed use; it can be waisted and has an oval cross- section.  The pommel
  is a counter weight to the blade and comes in many shapes and sizes.
  Because of this, it can be a formidable weapon in it's own right, when used
  to strike hammer-like blows.\n
  __This long sword has been made specifically for members of Small races
  to wield -- it is about the size of a short sword, but is balanced to be
  a slashing, rather than a thrusting, weapon.";
}

Item "two-bladed sword" : 58
{ Image: bright gray '('; Group: 0x00000008 | 0x00000002; Parry: 4;
Mat: 11; Size: 5; Weight: 300; Cost: 20 1;
SDmg: 1d8; LDmg: 1d8; Acc: +1; Crit: x2; Threat: 2; Spd: 120%;
Flags: 26, 27, 29; }

Item "bastard sword" : 58
{ Image: gray '('; Group: 0x00000008;
Mat:11; Size: 4; Weight: 100;
Cost: 13 1; Parry: 3;
SDmg:1d10; LDmg:1d12; Acc: +2; Crit: x2; Threat: 2; Spd: 100%;
Flags: 32, 26;
}

Item "greatsword" : 58
{ Image: gray '('; Group: 0x00000008; Parry: +2;
Mat: 11; Size: 5; Weight: 150; Cost: 17 1;
SDmg: 3d4; LDmg: 3d6; Acc: +0; Crit: x2; Threat: 2; Spd: 80%;
Flags: 26, 37, 36;
Desc: "Greatswords were only used by infantrymen and were used against
    pole-arms and axes. To protect the hands from opposing weapons, it
    features a large guard with side rings plus integral parrying hooks
    that allow the blade to be shortened for close range slashing and
    stabbing attacks. The handle is covered with leather
    and is extra long to afford a full two-handed grip.";
}
#line "weapons.irh" 563
Item "fullblade" : 58
{ Image: bright gray '('; Group: 0x00000008 | 0x00000002; Parry: 2;
Mat: 11; Size: 5; Weight: 250; Cost: 20 1;
SDmg: 3d6; LDmg: 3d8; Acc: 0; Crit: x2; Threat: 2; Spd: 75%;
Flags: 26, 36, 37;
Desc: "Originally forged by ogres and hill giants, fullblades are
      a foot and a half longer than even greatswords, and are simply
      too large and heavy to be used by human-sized creatures without
      special training. They have little military or civil application,
      and are rarely seen outside of the adventuring community, where
      heroes continually search for weapons with greater and greater
      killing power to use against primordial horrors."; }

Item "rapier" : 58
{ Image: gray '('; Group: 0x00000004 | 0x00010000;
Mat:11; Size: 4; Weight: 15;
Cost: 10 1; Parry: 6;
SDmg:1d12; LDmg:1d10; Acc: -1; Crit: x2; Threat: 3; Spd: 150%;
Flags: 27, 19, 17, 43;
Desc: "The weapon of choice for nobles, duelests and swashbucklers,
      the rapier is a newer sword with a thin, strong blade that focuses
      on piercing thrusts rather than slashing swings."; }

Item "elven thinblade" : 58
{ Image: bright grey '('; Group: 0x00000004 | 0x00000002 | 0x00010000;
Mat: 17; Size: 4; Weight: 5;
Cost: 18 1; Parry: 6;
SDmg: 1d12; LDmg: 1d10; Acc: -1; Crit: x2; Threat: 3; Spd: 160%;
Flags: 27, 19, 22, 44,
43;

Desc: "The natural evolution of the rapier given the existance of
      extremely strong and light metals like mithril, the elven thinblade
      is a long, needle-like sword that weighs almost nothing, can pass
      through the links of crude chain armor and swings with terrible
      speed. These weapons are uncommon outside the elven
      courts, as they don't tend to stand up well to wear and tear, are
      tremendously expensive and fare poorly against the natural armors
      of creatures that adventurers usually fight."; }

Item "mercurial broadsword" : 58
{ Image: bright gray '('; Group: 0x00000008|0x00000002; Parry: +3;
Mat: 11; Size: 4; Weight: 120; Cost: 13 1;
SDmg: 3d4; LDmg: 3d6; Acc: +2; Crit: x3; Threat: 2; Spd: 80%;
Flags: 26, 28, 39, 36, 38,
33;
Desc: "This weapon was originally developed by gnomes to counter the edge
      that human weapons like the greatsword grant to Medium-sized
      creatures. It is similar in shape to a broadsword,
      but contains a hollow channel within the blade through which
      mercury can flow from a globe mounted in the handle. The
      momentum of the mercury gives it extra force of impact, which
      allows it to approximate the damage of a greatsword, but its
      strange balance makes it an exotic weapon and requires that it
      be wielded two-handed, regardless of the wielder's size.";
}
#line "weapons.irh" 624
Item "dagger" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00000001 | 0x00000100 | 0x00010000;
Mat: 11; Size: 2; Weight: 10;
Cost: 2 1; Parry: 4; Range: 3;
SDmg: 1d4; LDmg: 1d3; Acc: 0; Crit: x2; Threat: 2; Spd: 135%;
Flags: 27, 26, 17, 7;
Desc: "One of the most common weapons in existance. The dagger's
      foot-long blade can be used to slash or pierce, and its easy
      concealability makes it popular with rogues and diplomats."; }

Item "stiletto" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00000100 | 0x00010000;
Mat: 11; Size: 2; Weight: 30;
Cost: 1 1; Parry: 3;
SDmg: 1d6; LDmg: 1d3; Acc: 0; Crit: x3; Threat: 1; Spd: 170%;
Flags: 27, 17, 22, 43;
Desc: "This exceedingly thin blade is most famous for its ability
      to cut through chain armors."; }

Item "main gauche" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00010000;
Mat: 11; Size: 2; Weight: 15;
Cost: 4 1; Parry: 5;
SDmg: 1d4; LDmg: 1d3; Acc: 0; Crit: x2; Threat: 2; Spd: 130%;
Flags: 27, 26, 17, 19;
Desc: "This dagger is designed as an off-hand weapon for a fencer.
      Its special guard and grip make it excelent for parrying and
      disarming."; }

Item "knife" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00000001 | 0x00010000 | 0x00000100;
Mat: 11; Size: 2; Weight: 5; Cost: 1 1; Parry: 0;
SDmg: 1d3; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 2; Spd: 140%;
Flags: 26, 17;
Desc: "A utilitarian weapon, the common war knife is useful for
      many purposes outside of combat."; }

Item "punching dagger" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00010000 | 0x00000002;
Mat: 11; Size: 2; Weight: 12;
Cost: 3 1; Parry: 2;
SDmg: 1d6; LDmg: 1d4; Acc: -1; Crit: x3; Threat: 3; Spd: 140%;
Flags: 27, 17;
Desc: "This dagger is gripped with a closed fist around its H-shaped
      handle and thrust forward. Like the kukri, it originates in far-
      Northern lands, and has only recently become commonly used in the
      Kinlands areas."; }

Item "kukri" : 58
{ Image: grey '('; Group: 0x00001000 | 0x00010000 | 0x00000002;
Mat: 11; Size: 2; Weight: 30; Cost: 3 1; Parry: 3;
SDmg: 1d3; LDmg: 1d2; Acc: +2; Crit: x2; Threat: 3; Spd: 160%;
Flags: 26, 17;
Desc: "This weapon hails from exotic Northern lands, and features
      a blade that slants upward into a large, flat cutting surface.
      It is often used by assasins."; }
#line "weapons.irh" 686
Item "spiked chain" : 58
{ Image: bright blue '{'; Group: 0x00000002|0x00004000;
Mat:11; Size: 4; Weight:30; Cost: 20 1;
Parry: 7; SDmg:2d4; LDmg:2d6; Acc: +3; Crit: x2; Threat: 1; Spd: 100%;
Flags: 20, 18, 26, 23,
35, 34, 21, 33;
Desc: "A length of chain studded with large, wicked blades, 
      the spiked chain is exceedingly lethal -- both to its
      victims and to anyone who has not mastered its use fully.";
}

Item "scourge" : 58
{ Image: blue '{'; Group: 0x00004000 | 0x00000002;
Mat: 7; Size: 4; Weight: 40; Cost: 7 1;
Parry: 5;
SDmg: 1d6; LDmg: 1d6; Acc: +3; Crit: x2; Threat: 1; Spd: 85%;
Flags: 23, 19, 18,
26, 17;
Desc: "The scourge, or cat o' nine tails, in a multi-headed whip
      with hooks or blades mounted along each tail's length. While it
      is commonly viewed as a torturer's weapon, it can also be useful
      on a battlefield. Many demons, such as the dread balors, favor
      this weapon."; }

Item "whip" : 58
{ Image: bright blue '{'; Group: 0x00004000 | 0x00000002;
Mat:7; Size: 3; Weight: 20; Cost: 6 1;
Parry: 5; SDmg:1d4; LDmg:1d1; Acc: +1; Crit: x2; Threat: 1; Spd: 130%;
Flags: 20, 24, 39, 26,
18, 19, 17;
Desc: "This weapon is noted primarily for its ability to cause
      intense pain, and is thus primarily a tool of intimidation...
      but adventurers also find good use from the many tricks that
      can be performed with it."; }

Item "scythe" : 58
{ Image: purple 251; Group: 0x00000008 | 0x00000002;
Mat: 11; Size: 5; Weight: 120; Cost: 8 1;
Parry: 4;
SDmg: 2d6; LDmg: 1d8; Acc: -2; Crit: x4; Threat: 3; Spd: 80%;
Flags: 26, 34, 42, 18,
41;
Desc: "Originally an agricultural implement, the scythe can also be
      a terrifying instrument of war. It is difficult to use effectively,
      but devastating in skilled hands. Druids, and those who kill in
      their service, often favor this weapon."; }

Item "great scythe" : 58
{ Image: bright purple 251; Group: 0x00000008 | 0x00000002;
Mat: 11; Size: 6; Weight: 240; Cost: 36; Parry: 5;
SDmg: 2d8; LDmg: 2d8; Acc: 0; Crit: x4; Threat: 2; Spd: 70%;
Flags: 1, 27, 26, 34, 42,
18, 20, 21, 41;
Desc: "Originally an agricultural implement, the scythe can also be
      a terrifying instrument of war. It is difficult to use effectively,
      but devastating in skilled hands. This particular scythe is 
      unnaturally large."; }

Item "sickle" : 58
{ Image: purple 251; Group: 0x00000001 | 0x00010000;
Mat: 11; Size: 3; Weight: 30; Cost: 5 1;
Parry: 3;
SDmg: 1d6; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 1; Spd: 110%;
Flags: 26, 42;
Desc: "Peasants forced to defend themselves often wield sickles,
      because the tool's importance to farming meant that most such
      families owned one. The weapon also has secret symbolic import
      to the druidic hierarchy."; }

Item "bolas" : 58
{ Image: purple 251; Group: 0x00000002 | 0x00000100;
Mat: 11; Size: 3; Weight: 50; Cost: 8 1;
Range: 3; SDmg: 1d6; LDmg: 1d4; Acc: +1; Crit: x2; Threat: 2; Spd: 70%;
Parry: 0;
Flags: 23, 26, 28, 13,
41, 46;
Desc: "Bolas are sets of three weighted balls tied together with a
      thin, strong, sharp steel wire. Thrown proficiently, they can
      ensnare an opponent in their coils, effectively taking him out
      of the fight."; }

Item "shotput" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00000002;
Mat: 11; Size: 3; Weight: 60; Cost: 11 1;
Range: 2; Parry: 0;
SDmg: 1d10; LDmg: 1d8; Acc: 0; Crit: x3; Threat: 2; Spd: 70%;
Flags: 28, 41, 39, 36, 37,
7;
Desc: "Nothing more then a steel globe the size of a cantelope,
      the shotput is nonetheless a terrifying weapon; in the
      hands of a proficient user, a solid throw can crush flesh and
      bone alike into a fine paste -- its weight puts a terrible
      force behind its impact. Because of the great strength needed
      to throw it effectively, its also gained something of a mystique
      as a legendary hero's weapon in orcish subcultures."; }

Item "fighting stick" : 58
{ Image: purple '|'; Group: 0x00002000;
Mat: 8; Size: 3; Weight: 5; Cost: 8 1;
Parry: +7; SDmg: 1d6; LDmg: 1d4; Acc: +1; Crit: x2; Threat 1; Spd: 130%;
Flags: 19, 39, 28; Desc: "Traditionally dual-wielded in pairs of two, the fighting
      sticks are signature weapons of the monk tradition. They are
      short and thin -- about a foot and a half long each -- and
      seem deceptively harmless to those not trained in their use."; }

Item "nunchaku" : 58
{ Image: purple 251; Group: 0x00002000;
Mat: 8; Size: 3; Weight: 20; Cost: 10 1;
Parry: +5; SDmg: 1d6; LDmg: 1d4; Acc: +1; Crit: x2; Threat: 2; Spd: 160%;
Flags: 28, 19;
Desc: "Two short wooden sticks connected by a chain or rope, the
      nunchaku are a weapon favored by some monkish orders, and almost
      nobody else."; }

Item "chakram" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00002000;
Mat: 11; Size: 3; Weight: 30; Cost: 13 1;
Range: 3; Parry: 1;
SDmg: 1d8; LDmg: 1d6; Acc: 0; Crit: x3; Threat: 2; Spd: 115%;
Flags: 26, 40, 34, 46;
Desc: "The chakram is a hollow circular disc with a bladed edge,
      often with a stylized grip bar running through the center. It
      is used by certain monk groups, tribes in Ahavdi Dih and many
      assasins' guilds."; }

Item "boomerang" : 58
{ Image: brown 251; Group: 0x00000100 | 0x00000002;
Mat: 8; Size: 3; Weight: 15; Cost: 2 1;
Range: 6; Parry: 0;
SDmg: 1d6; LDmg: 1d4; Acc: +2; Crit: x2; Threat: 2; Spd: 100%;
Flags: 28, 40, 46;
Desc: "The boomerang is a curved wooden throwing instrument
      designed for blunt impact; the lizardfolk are known to
      favor their use."; }

Item "sap" : 58
{ Image: brown 251; Group: 0x00000002 | 0x00000001 | 0x00010000;
Mat: 8; Size: 2; Weight: 20; Cost: 6 1;
Parry: 2;
SDmg: 1d4; LDmg: 1d2; Acc: -2; Crit: x2; Threat: 1; Spd: 60%;
Flags: 28;
Desc: "A tiny weighted bag or shaped piece of wood, the sap is
      intended for attacking from surprise, and has the potential
      to render a humanoid target unconscious in a single shot.
      (The victim must make a Fortitude save to resist being knocked
      out is attacked by surprise or while flat-footed.)";
On Event (20+1000) {
int32 SaveDC;
if (EVictim->HasMFlag(1) && EVictim->isMType(91))
if (EActor->WepSkill($"sap") >= 1)
if ((e.isFlanking || e.isFlatFoot || e.isSurprise) && !e.Died)
{
SaveDC = 15 + EActor->GetBAB(2) + EActor->Mod(0);
if (EVictim->SavingThrow(0,SaveDC,0x00000008))
return 0;
VPrint(e,"The world reels...",
"The <EVictim> collapses unconscious!");

EVictim->GainTempStati(7, NULL,4d8,7,5);
}
return 0;
};
}

Item "hunga-munga" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00002000;
Mat: 11; Size: 4; Weight: 60; Cost: 10 1;
Range: 2; Parry: 2;
SDmg: 1d10; LDmg: 1d8; Acc: +2; Crit: x2; Threat: 2; Spd: 95%;
Flags: 26, 27, 36;
Desc: "This triple-pronged throwing knife resembles a giant
      shuriken, with parallel blades around a balanced center.
      It originated in Angla Maua as a hunting weapon, but it has
      since found popularity with several monkish orders in the
      Kinlands."; }

Item "siangham" : 58
{ Image: purple 251; Group: 0x00002000 | 0x00010000;
Mat: 11; Size: 3; Weight: 10; Cost: 6 1;
Parry: +3;
SDmg: 1d6; LDmg: 1d4; Acc: +2; Crit: x2; Threat: 1; Spd: 120%;
Flags: 27, 19; }

Item "shuriken" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00002000;
Mat: 11; Size: 2; Weight: 1; Cost: 4 1;
Range: 4; Parry: 0;
SDmg: 1d2; LDmg: 1d1; Acc: -1; Crit: x3; Threat: 3; Spd: 175%;
Flags: 27, 43, 17, 34,
8, 46;
Desc: "Shuriken, or throwing stars, are tiny, symmetical bladed
      stars or discs that can be thrown extremely rapidly. Because
      they are so light, they have little force of impact and do not
      carry through the power of the thrower's strength; however, they
      are an ideal method for delivering poison, due to their speed.
      Shuriken thus have a cultural association with assasins and
      assasination."; }

Item "tiger claws" : 58
{ Image: purple 251; Group: 0x00000001 | 0x00002000 | 0x00010000;
Mat: 11; Size: 2; Weight: 4; Cost: 6 1;
Parry: 1;
SDmg: 1d6; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 2; Spd: 120%;
Flags: 26, 17, 13;
Desc: "Similar in make to contemporary brass knuckles, but
      with inch-long curved blades sprouting from each 'knuckle',
      these weapons are favored by theieves and assasins because
      their small size makes it easy to get them into places
      where weapons aren't supposed to be."; }

Item "rock" : 58
{ Image: brown '*'; Group: 0x00000001 | 0x00000100; Range: 1;
Mat: 28; Size: 2; Weight: 1; Cost: 0; Parry: 1;
SDmg: 1d6; LDmg: 1d2; Acc: -1; Crit: x2; Threat: 2; Spd: 90%;
Flags: 28, 8;
Desc: "A chunk of unworked rock.";
}
#line "weapons.irh" 911
Item "long bow" : 24
{
Image: green ')';
Mat: 8;
SDmg: 1d8;
LDmg: 1d4;
Range: 10; Speed: 150%;
Crit: x3; Threat: 3;
Weight: 30; Group: 0x00000020;
Fires: $"sheaf arrow", $"flight arrow";
Size: 5;
Flags: 33, 43, 27, 42,
46, 27;
Desc: "The long bow is favored by elven warriors for its simplicity,
      power and easy creation. It is also the staple of many of the less
      funded units of the Great Empire's armies.";
#line "weapons.irh" 929
}

Item "short bow" : 24
{
Image: green ')';
Mat: 8;
SDmg: 1d6;
LDmg: 1d3;
Range: 7; Speed: 165%;
Crit: x3; Threat: 3;
Weight: 20; Group: 0x00000020;
Fires: $"sheaf arrow", $"flight arrow";
Size: 4;
Flags: 33, 43, 46, 27;
Desc: "The short bow is lighter and slightly faster then the long bow,
      but not nearly as powerful. However, its primary advantage is that
      it is maneuverable enough to use effectively while mounted. It is
      thus also known as the cavalry bow or horseman's bow.";
}


Item "sheaf arrow" : 45
{
Image: green 24; Group: 0x00000020;
Mat: 8; Size: 3; Weight: 0; Cost: 5 4;
SDmg: 0d0+1; LDmg: 0d0+1; Acc: -1; Range: -2;
Flags: 8, 27;
Desc: "These arrows have sharp, barbed heads. Their range and
      accuracy is not as good as that of flight arrows, but they
      increase damage inflicted by +1.";
}

Item "flight arrow" : 45
{
Image: green 24; Group: 0x00000020;
Mat: 8; Size: 3; Weight: 0; Cost: 3 4;
SDmg: 0d0; LDmg: 0d0; Acc: 0; Range: 0;
Flags: 8, 27;
Desc: "These arrows are longer, thinner and more aerodynamic. 
      Their range and accuracy is greater than that of a sheaf
      arrow.";
}

Item "arbalest" : 24
{
Image: green ')'; Group: 0x00000001 | 0x00000020; Range: 12;
Mat: 8; Size: 4; Weight: 20; Cost: 35;
SDmg: 1d10; LDmg: 1d4; Acc: +4; Crit: x5; Threat: 3; Spd: 135%;
Flags: 33, 30, 22, 43,
46, 27;
Fires: $"crossbow bolt";
Desc: "The arbalest, or light crossbow, is the favoured weapon of city
      militia everywhere -- it's accurate, easy to use and among the most
      lethal weapons known. Skilled adventurers, however, often favour the
      more conventional bows, because the slow reload time that crossbows
      have can be a great weakness in a dungeon setting. Dwarves and gnomes
      tend to favour these weapons, while elves cleave to more traditional
      archery and look on crossbows with distaste.";
}

Item "cranquin" : 24
{
Image: bright green ')'; Group: 0x00000002; Range: 14;
Mat: 8; Size: 4; Weight: 40; Cost: 35;
SDmg: 1d12; LDmg: 1d8; Acc: +5; Crit: x5; Threat: 3; Spd: 135%;
Flags: 33, 30, 22, 43,
46, 27, 39;
Fires: $"crossbow bolt";
Desc: "The cranquin, or heavy crossbow, is a crank-operated miniature
      ballista favored by dwarven and orcish militaries. It is rather
      difficult for a single person to reload, and is a large and awkward
      weapon in general, which explains why it is considered an exotic
      weapon. Skilled adventurers often favour the more conventional bows, 
      because the slow reload time that crossbows have can be a great weakness 
      in a dungeon setting. Dwarves and gnomes tend to favour these weapons, 
      while elves cleave to more traditional archery and look on crossbows 
      with distaste.";
}

Item "hand crossbow" : 24
{
Image: bright purple ')'; Group: 0x00000002; Range: 8;
Mat: 17; Size: 2; Weight: 10; Cost: 1000;
SDmg: 1d6; LDmg: 1d3; Acc: +5; Crit: x3; Threat: 3; Spd: 135%;
Flags: 44, 30, 22, 43,
42, 46, 27, 17;
Fires: $"hand crossbow dart";
Desc: "This weapon was created by the drow, and is only superficially
      similar to the human crossbows. It is an intricate mechanism that
      projects a tiny metal dart at high speeds; as an assasin's weapon,
      it lacks the power of normal crossbows, but its bolts are often
      coated with drow sleep poison. Because it has many precision parts
      that must stand up under stress, it must be made from mithril,
      making it a terribly expensive weapon.";
}

Item "hand crossbow dart" : 45
{
Image: bright purple 24; Group: 0x00000001;
Mat: 11; Size: 2; Weight: 0; Cost: 1 3;
SDmg: 0d0; LDmg: 0d0; Acc: 0; Range: 0;
Flags: 8, 44, 27, 1;
Desc: "This bolt is thin, sharp and not longer then three inches. It
      is often coated with some type of poison.";
}


Item "crossbow bolt" : 45
{
Image: green 24; Group: 0x00000001;
Mat: 11; Size: 2; Weight: 0; Cost: 1 3;
SDmg: 0d0; LDmg: 0d0; Acc: 0; Range: 0;
Flags: 8, 27;
Desc: "A simple, pointed metal shaft. It can be fired from either a
      arbalest (light crossbow) or cranquin (heavy crossbow).";
}

Item "javelin" : 58
{ Image: green 251; Group: 0x00000100|0x00000400; Range: 3;
Mat: 11; Size: 5; Weight: 5; Cost: 1 1;
SDmg: 1d6; LDmg: 1d6; Acc: -1; Crit: x2; Threat: 2; Spd: 90%;
Flags: 27, 42, 46, 7;
Desc: "The javelin is a light spear designed purely for throwing.
      It cannot be used effectively as a melee weapon."; }

Item "blowpipe" : 24
{
Image: green ')';
Mat: 8;
SDmg: 0d0+3;
LDmg: 0d0+3;
Range: 5; Speed: 200%; Acc: +2;
Crit: x2; Threat: 2;
Weight: 10; Group: 0x00000020;
Fires: $"dart";
Size: 3;
Flags: 43, 27, 42, 46;
Desc: "The blowpipe provides a method of rapidly delivering darts at a
      longer range. It is favored in Angla Maua, especially in conjunction
      with poisoned darts, but is often rejected in favor of the bow or
      arbalest in the rest of Therya.";
}

Item "dart" : 45
{ Image: green 24; Group: 0x00000001 | 0x00000100; Range: 2;
Mat: 11; Size: 2; Weight: 0; Cost: 0;
SDmg: 1d3; LDmg: 1d4; Acc: 0; Crit: x2; Threat: 2; Spd: 150%;
Flags: 27, 46, 8;
Desc: "The dart is a simple missile weapon. It may be thrown or
    launched with a blowpipe.";
}

Item "boulder" : 58
{ Image: brown '*'; Group: 0x00000001 | 0x00000100; Range: 2;
Mat: 28; Size: 5; Weight: 4000;
Cost: 0; Parry: 1;
SDmg: 2d10; LDmg: 2d8; Acc: 0; Crit: x3; Threat: 2; Spd: 70%;
Flags: 28, 41, 39, 36, 37, 1;
Desc: "A huge stone boulder.";
}

Item "sling" : 24
{
Image: green ')';
Mat: 8;
SDmg: 1d6;
LDmg: 1d2;
Range: 5;
Crit: x3; Threat: 1;
Weight: 2; Group: 0x00000100, 0x00000001;
Fires: $"sling stone";
Size: 3;
Flags: 39, 24, 46;
Desc: "Slings are often associated with peasants and halflings,
      but despite their mundanity they can be deadly weapons in the
      hands of a crack shooter.";
}

Item "sling stone" : 45
{
Image: green '*'; Group: 0x00000100;
Mat: 28; Size: 1; Weight: 0; Cost: 5 4;
Flags: 8;
Desc: "This tiny rock has a surprising weight for its size, and
      has been carefully smoothed down to fly straight.";
}
#line "weapons.irh" 1121
Item "padded armor" : 21
{
Image: white 228; Cost: 5;
Mat: 6; Weight: 100;
Arm: Slash 2, Pierce 1, Blunt 3;
Coverage: 8; Penalty: -1;
Group: 0x20000000; Flags: 13;
}

Item "cord armor" : 21
{
Image: blue 228; Cost: 7;
Mat: 7; Weight: 120;
Arm: Slash 3, Pierce 1, Blunt 2;
Coverage: 6; Penalty: -2;
Group: 0x20000000; Flags: 13;
}

Item "bonemail armor" : 21
{
Image: white 228; Cost: 9;
Mat: 9; Weight: 150;
Arm: Slash 3, Pierce 2, Blunt 1;
Coverage: 8; Penalty: -1;
Group: 0x20000000; Flags: 13;
}

Item "leather armor" : 21
{
Image: brown 228; Cost: 10;
Mat: 7; Weight: 150;
Arm: Slash 3, Pierce 1, Blunt 3;
Coverage: 8; Penalty: -2;
Group: 0x20000000; Flags: 13;
}

Item "bark armor" : 21
{
Image: green 228; Cost: 5;
Mat: 8; Weight: 150;
Arm: Slash 3, Pierce 3, Blunt 3;
Coverage: 9; Penalty: -4;
Group: 0x20000000; Flags: 13;
}

Item "studded leather" : 21
{
Image: brown 228; Cost: 25;
Mat: 7; Weight: 200;
Arm: Slash 3, Pierce 4, Blunt 4;
Coverage: 8; Penalty: -4;
Group: 0x20000000; Flags: 13;
}

Item "coat of plates" : 21
{
Image: cyan 228; Cost: 35;
Mat: 11; Weight: 250;
Arm: Slash 5, Pierce 2, Blunt 2;
Coverage: 7; Penalty: -1;
Group: 0x20000000;
}

Item "chainmail shirt" : 21
{
Image: cyan 228; Cost: 100;
Mat: 11; Weight: 250;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 5; Penalty: -5;
Group: 0x20000000;
}

Item "hide armor" : 21
{
Image: blue 228; Cost: 15;
Mat: 7; Weight: 250;
Arm: Slash 4, Pierce 5, Blunt 5;
Coverage: 8; Penalty: -5;
Group: 0x40000000; Flags: 13;
}

Item "ring mail" : 21
{
Image: red 228; Cost: 40;
Mat: 11; Weight: 250;
Arm: Slash 4, Pierce 4, Blunt 2;
Coverage: 9; Penalty: -3;
Group: 0x40000000; Flags: 13;
}

Item "scale mail" : 21
{
Image: red 228; Cost: 50;
Mat: 11; Weight: 300;
Arm: Slash 4, Pierce 5, Blunt 4;
Coverage: 10; Penalty: -4;
Group: 0x40000000; Flags: 13;
}

Item "brigandine" : 21
{
Image: red 228; Cost: 60;
Mat: 11; Weight: 300;
Arm: Slash 5, Pierce 5, Blunt 3;
Coverage: 10; Penalty: -6;
Group: 0x40000000; Flags: 13;
}

Item "chainmail" : 21
{
Image: cyan 228; Cost: 150;
Mat: 11; Weight: 400;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 10; Penalty: -7;
Group: 0x40000000; Flags: 13;
}

Item "chainmail hauberk" : 21
{
Image: cyan 228; Cost: 125;
Mat: 11; Weight: 400;
Arm: Slash 7, Pierce 5, Blunt 3;
Coverage: 7; Penalty: -3;
Group: 0x40000000;
}


Item "breastplate" : 21
{
Image: purple 228; Cost: 200;
Mat: 11; Weight: 300;
Arm: Slash 12, Pierce 8, Blunt 6;
Coverage: 5; Penalty: -6;
Group: 0x40000000;
}

Item "augmented mail" : 21
{
Image: red 228; Cost: 250;
Mat: 11; Weight: 500;
Arm: Slash 9, Pierce 6, Blunt 5;
Coverage: 10; Penalty: -6;
Group: 0x40000000; Flags: 13;
}



Item "splint mail" : 21
{
Image: red 228; Cost: 200;
Mat: 11; Weight: 450;
Arm: Slash 6, Pierce 7, Blunt 9;
Coverage: 10; Penalty: -7;
Group: 0x80000000; Flags: 13;
}

Item "banded mail" : 21
{
Image: red 228; Cost: 200;
Mat: 11; Weight: 350;
Arm: Slash 11, Pierce 7, Blunt 9;
Coverage: 10; Penalty: -8;
Group: 0x80000000; Flags: 13;
}

Item "plate mail" : 21
{
Image: purple 228; Cost: 600;
Level: 3;
Mat: 11; Weight: 450;
Arm: Slash 12, Pierce 8, Blunt 8;
Coverage: 10; Penalty: -7;
Group: 0x80000000; Flags: 13;
}

Item "field plate armor" : 21
{
Level: 4;
Image: bright purple 228; Cost: 1500;
Mat: 11; Weight: 500;
Arm: Slash 13, Pierce 9, Blunt 8;
Coverage: 10; Penalty: -9;
Group: 0x80000000; Flags: 13;
}

Item "full plate armor" : 21
{
Level: 5;
Image: bright purple 228; Cost: 5000;
Mat: 11; Weight: 600;
Arm: Slash 15, Pierce 13, Blunt 8;
Coverage: 10; Penalty: -8;
Group: 0x80000000; Flags: 13;
}

Item "lamellar armor" : 21
{
Image: brown ']';
Mat: 11; Weight: 250;
Arm: Slash 5, Pierce 6, Blunt 7;
Coverage: 10; Penalty: -6;
Group: 0x80000000; Flags: 13;
}

Item "hard steel cap" : 41
{
Image: yellow 155;
Mat: 11; Weight: 30;
Coverage: 2; Penalty: -2;
Group: 0x40000000;
}

Item "cured leather boots" : 23
{
Image: white 224;
Mat: 7; Weight: 10;
Coverage: 1; Group: 0x20000000;
Flags: 13;
}
#line "weapons.irh" 1355
Item "giant shield" : 51
{
Image: pink ']'; Group: 0x10000000 | 0x00000002;
Mat: 11; Weight: 1000; Size: 6;
Flags: 1;
Desc: "This huge shield is essentially a tower shield for giantkin. 
      Human-sized creatures cannot hope to wield it effectively.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "tower shield" : 51
{
Image: red ']'; Mat: 11; Weight: 400; Size: 5;
Group: 0x10000000;
Desc: "This large shield is essentially portable hard cover for
      human-sized creatures. It is large enough to fully obscure a
      human-sized being and completely negate many attacks, but its size
      can be quite a burden.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "kite shield" : 51
{
Image: cyan ']';
Mat: 11; Weight: 150; Size: 4;
Group: 0x10000000;
Desc: "The kite shield is what most people envision when
      they think of a medieval knight's shield: a large square
      that slopes to a point at the bottom, about three feet
      long and a foot and a half wide. 
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "small shield" : 51
{
Image: white ']';
Mat: 11; Weight: 50; Size: 3;
Group: 0x10000000;
Desc: "The common small shield is larger than a buckler but
           smaller than a kite shield. 
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "buckler;leather" : 51
{
Image: brown ']';
Mat: 7; Weight: 5; Size: 2;
Group: 0x10000000|0x00000001;
Desc: "The buckler is the smallest possible shield, and is
      usually worn strapped to one arm. It's only about a foot
      in diameter, and is made of wood or cured leather.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}

Item "buckler;wooden" : 51
{
Image: green ']';
Mat: 8; Weight: 5; Size: 2;
Group: 0x10000000|0x00000001;
Desc: "The buckler is the smallest possible shield, and is
      usually worn strapped to one arm. It's only about a foot
      in diameter, and is made of wood or cured leather.
      Its surface is often 
      emblazoned with a knight's crest or a god's holy symbol.";
}
#line "m_items.irh" 42
35 Effect "Manual of Gainful Exercise" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 50
EActor->GainInherantBonus(0,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This ancient tome contains descriptions of mystical
		  exercises capable of bestowing upon the reader supernatural
			strength.";
}

35 Effect "Treatise of Efficious Celerity" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 69
EActor->GainInherantBonus(1,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This tome documents arcane rites and rituals that may
		  be used to supernaturally augment a character's natural
			reflexes and agility.";
}

35 Effect "Libram of Bodily Health" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 88
EActor->GainInherantBonus(2,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This libram describes an esoteric process by which a
		  person can acquire supernatural, inherant toughness and
			health.";
}

35 Effect "Clear Thought" : 46
{ Flags: 44;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 107
EActor->GainInherantBonus(3,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "The mental transfigurations described in this manual
		  allow the reader to augment his intellect, sometimes to a
			superhuman degree.";
}

35 Effect "Treatise of Revealed Enlightenment" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 126
EActor->GainInherantBonus(4,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This book of haikus and metaphors is said to alter the
		  reader's outlook on the world, improving their perrception,
			willpower and understanding of spiritual matters.";
}

35 Effect "Leadership and Influence" : 46
{ Flags: 44;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 145
EActor->GainInherantBonus(5,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "Penned by a long-forgotten general, this book describes
		  supernatural rites to permanently augment the reader's force
			of personality and magnetic presence.";
}

35 Effect "Manual of Fortuitous Methodology" : 46
{ Flags: 44, 20;
pval: -93; Purpose: 0x00010; Level: -62;
On Event 28 {
#line "m_items.irh" 164
EActor->GainInherantBonus(6,e.vDmg,true);
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This manual describes the art of geomancy -- moving in
		  line with the unseen currents of the universe in order to
			attain good fortune and serendipity. Reading it will permanantly
			better a character's luck.";
}
#line "m_items.irh" 178
33
Effect "Giant Strength" : 2
{ xval: 106; yval: 0; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This augments a wearer's strength, granting him a 
           magic bonus to his Strength score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 186
7
Effect "Ogre Power" : 2
{ xval: 114; yval: 0; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This augments a wearer's strength, granting him a 
           morale bonus to his Strength score, but also a 
           commensurate morale penalty to his Intelligence
           score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 196
and 2
{ xval: 114; yval: 3;
On Event (28+500) {
if (e.efNum == 1)
e.vDmg = -(EItem->GetPlus());
return 0;
};
}
10
Effect "Might" : 2
{ xval: 106; yval: 0; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This augments a wearer's strength, granting him a 
           magic bonus to his Strength score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 213
7
Effect "Gloves of Dexterity" : 2
{ xval: 106; yval: 1; pval: -93;
Flags: 44, 20; 0x00000080; Level: -92;
Desc: "This bestows preternatural grace and agility
      when worn, improving the wearer's Dexterity through a magic
      bonus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 );
#line "m_items.irh" 222
Constants:
* 101 $"gloves";
}
10
Effect "Graceful Motion" : 2
{ xval: 106; yval: 1; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This bestows preternatural grace and agility
      when worn, improving the wearer's Dexterity through a magic
      bonus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 234
13
Effect "the Dancer" : 2
{ xval: 106; yval: 1; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This bestows preternatural grace and agility
      when worn, improving the wearer's Dexterity through a magic
      bonus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 244
10
Effect "Health" : 2
{ xval: 106; yval: 2; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This grants its bearer a supernatural resilience,
      improving her Constitution with a magic bonus equal in magnitude
      to its own plus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 253
33
Effect "Tenacity" : 2
{ xval: 106; yval: 2; pval: -93;
Flags: 44; 0x00000080; Level: -92;
Desc: "This grants its bearer a supernatural resilience,
      improving her Constitution with a magic bonus equal in magnitude
      to its own plus.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 263
14 Effect "Periapt of Wisdom" : 2
{ xval: 106; yval: 4; pval: -93;
Flags: 44, 20; 0x00000200; Level: -92;
Desc: "This item mystically augments a wearer's willpower,
      perception and spiritual consciousness, granting her a magic
      bonus to her Wisdom score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 271
27 Effect "Heartstone" : 2
{ xval: 106; yval: 4; pval: -93;
Flags: 44, 20; 0x00000200; Level: -92;
Desc: "This item mystically augments a wearer's willpower,
      perception and spiritual consciousness, granting her a magic
      bonus to her Wisdom score.";
Lists:
* 25 ( (1000 * 150) / 200 ) ( (4000 * 150) / 200 ) ( (8000 * 150) / 200 ) ( (16000 * 150) / 200 ) ( (32000 * 150) / 200 ) ( (64000 * 150) / 200 ); }
#line "m_items.irh" 279
37 Effect "Mystic Insight" : 2
{ xval: 106; yval: 4; pval: -93;
Flags: 44; 0x00000200; Level: -92;
Desc: "This item mystically augments a wearer's willpower,
      perception and spiritual consciousness, granting her a magic
      bonus to her Wisdom score.";
Lists:
* 25 ( (1000 * 120) / 200 ) ( (4000 * 120) / 200 ) ( (8000 * 120) / 200 ) ( (16000 * 120) / 200 ) ( (32000 * 120) / 200 ) ( (64000 * 120) / 200 ); }
#line "m_items.irh" 288
34 Effect "Intellect" : 2
{ xval: 106; yval: 3; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item increases a wearer's intellect and mental
      prowess, granting her a magic bonus to Intelligence equal to
      its enchantment level.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 296
27 Effect "Mindstone" : 2
{ xval: 106; yval: 3; pval: -93;
Flags: 44, 20; 0x00000008; Level: -92;
Desc: "This item increases a wearer's intellect and mental
      prowess, granting her a magic bonus to Intelligence equal to
      its enchantment level.";
Lists:
* 25 ( (1000 * 150) / 200 ) ( (4000 * 150) / 200 ) ( (8000 * 150) / 200 ) ( (16000 * 150) / 200 ) ( (32000 * 150) / 200 ) ( (64000 * 150) / 200 ); }
#line "m_items.irh" 304
37 Effect "the Scholar" : 2
{ xval: 106; yval: 3; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item increases a wearer's intellect and mental
      prowess, granting her a magic bonus to Intelligence equal to
      its enchantment level.";
Lists:
* 25 ( (1000 * 120) / 200 ) ( (4000 * 120) / 200 ) ( (8000 * 120) / 200 ) ( (16000 * 120) / 200 ) ( (32000 * 120) / 200 ) ( (64000 * 120) / 200 ); }
#line "m_items.irh" 313
29 Effect "Charisma" : 2
{ xval: 106; yval: 5; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item evokes a supernatural aura of awe, composure
      and affiability around its wearer, effectively giving him a
      magic bonus to his Charisma score.";
Lists:
* 25 ( (1000 * 80) / 200 ) ( (4000 * 80) / 200 ) ( (8000 * 80) / 200 ) ( (16000 * 80) / 200 ) ( (32000 * 80) / 200 ) ( (64000 * 80) / 200 ); }
#line "m_items.irh" 321
8 Effect "Majesty" : 2
{ xval: 106; yval: 5; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item evokes a supernatural aura of awe, composure
      and affiability around its wearer, effectively giving him a
      magic bonus to his Charisma score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 329
37 Effect "the Courtesan" : 2
{ xval: 106; yval: 5; pval: -93;
Flags: 44; 0x00000008; Level: -92;
Desc: "This item evokes a supernatural aura of awe, composure
      and affiability around its wearer, effectively giving him a
      magic bonus to his Charisma score.";
Lists:
* 25 ( (1000 * 120) / 200 ) ( (4000 * 120) / 200 ) ( (8000 * 120) / 200 ) ( (16000 * 120) / 200 ) ( (32000 * 120) / 200 ) ( (64000 * 120) / 200 ); }
#line "m_items.irh" 339
27 Effect "Luckstone" : 2
{ xval: 106; yval: 6; pval: -93;
Flags: 44, 20; 0x00000100; Level: -92;
Desc: "When carried, this item bestows
      good luck upon its wielder in the form of a magic bonus to
      his Luck score.";
Lists:
* 25 ( (1000 * 150) / 200 ) ( (4000 * 150) / 200 ) ( (8000 * 150) / 200 ) ( (16000 * 150) / 200 ) ( (32000 * 150) / 200 ) ( (64000 * 150) / 200 ); }
#line "m_items.irh" 347
13 Effect "Good Fortune" : 2
{ xval: 106; yval: 6; pval: -93;
Flags: 44; 0x00000100; Level: -92;
Desc: "When carried or worn, this item bestows
      good luck upon its wielder in the form of a magic bonus to
      his Luck score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 355
9 Effect "Providence" : 2
{ xval: 106; yval: 6; pval: -93;
Flags: 44; 0x00000100; Level: -92;
Desc: "When carried or worn, this item bestows
      good luck upon its wielder in the form of a magic bonus to
      his Luck score.";
Lists:
* 25 ( (1000 * 100) / 200 ) ( (4000 * 100) / 200 ) ( (8000 * 100) / 200 ) ( (16000 * 100) / 200 ) ( (32000 * 100) / 200 ) ( (64000 * 100) / 200 ); }
#line "m_items.irh" 364
9 Effect "the Druid;boots" : 2
{ 0x00000100; xval: 39; yval: 110;
Level: 3;
Desc: "These boots allow the wearer to walk through webbing, trees,
    brimstone and other troublesome terrain without ill effect. In
    addition, they make you inoffensive to sylvan creatures";
Lists:
* 25 6000; }
and 2 { xval: 214; yval: 81; }
#line "m_items.irh" 379
35 Effect "Libram of Hidden Secrets" : 46
{ Flags: 20;
Purpose: 0x00010; Level: 5;
On Event 28 {
if (!EActor->HasStati(101)) {
EActor->GainPermStati(101,EActor,5,1,1,
$"Libram of Hidden Secrets",5);
EActor->IPrint("You now understand how to see the unseen!");
} else if (!EActor->HasAbility(57)) {
EActor->GainAbility(57,1,$"Libram of Hidden Secrets",1);
EActor->IPrint("Your eyes pierce the fog of the natural world!");
} else {
EActor->IPrint("You feel your potential expand!");
EActor->GainFeat(0,0);
}
EActor->IdentByTrial(EItem);
EItem->Remove(true);
EActor->IPrint("The tome vanishes!");
return 1;
};
Desc: "This tome documents arcane rites and rituals that may
          be used to supernaturally augment a character's natural
          vision or talents: after reading it the unseen will become canny,
          the shrouded will be made plain, and the technique of the master
          will become commonplace. Subsequent readings will reveal
          additional truths.";
}
#line "m_items.irh" 439
9 Effect "the Winterlands" : 2
{ 0x00000001;
xval: 104; yval: 2; pval: -91; Flags: 44;
Level: -92;
Desc: "This renders you (and your mount) immune to slipping on
    ice, and gives you three levels of cold resistance per magical plus
    they are enchanted with."; }

14 Effect "Ice" : 2
{ 0x00000001; 0x00000100;
xval: 104; yval: 2; pval: -91; Flags: 44;
Level: -92;
Desc: "Only thirteen of these ancient amulets are known to exist.
      Wearing one increases the caster level of all the bearer's cold-
      based spells by its magical plus, and also grants three levels
      of cold resistance per magical plus."; }
and 2
{ xval: 152; yval: 0x00000800; pval: -93; }

10 Effect "the Inferno" : 2
{ 0x00000001; xval: 104; yval: 1; pval: -90;
Flags: 44; Level: -92;
Desc: "This bestows upon its wearer 4 points of fire
      resistance for every magical plus it is imbued with and allows you
      (and your mount) to travel safely over fiery terrain."; }

13 Effect "Fire Resistance" : 2
{ 0x00000001; xval: 104; yval: 1; pval: -91;
Flags: 44; Level: -92;
Desc: "This ring makes its wearer supernaturally resistant to heat
      and fire, granting her a fire resistance of 3 points per magical
      plus, and allowing her (and her mount) to cross over fiery terrain
      safely."; }

33 Effect "Surtur" : 2
{ 0x00000001; 0x00000008; xval: 104; yval: 1; pval: -91;
Flags: 44, 49, 76; Level: -91;
Desc: "This magical belt renders its wearer resistant to flame,
      granting three levels of fire resistance per magical plus. Further,
      it allows the wearer to mentally dominate all fire creatures within
      80 feet whose CR is lower than twice its magical plus when it is 
      activated, up to three times per day."; }
and 3
{ xval: 137; yval: 4;
aval: 11; cval: 4; lval: 8;
On Event 155 {
if (e.efNum == 1) {
if (EVictim->isMType(95))
if (EVictim->ChallengeRating() <= EItem->GetPlus() * 2)
return 0;
return 1;
}
return 0;
};
}

14 Effect "Bile" : 2
{ 0x00000001; xval: 104; yval: 3; pval: -90;
Flags: 44; Level: -92;
Desc: "This bestows an acid and disease resistance of 4 per level of
      enchantment it possesses on its wearer."; }
and 2
{ xval: 104; yval: 27; pval: -90; }

13 Effect "Acid Warding" : 2
{ 0x00000001; xval: 104; yval: 3; pval: -90;
Flags: 44, 56; Level: -92;
Desc: "This ring protects its wearer from acid damage, granting four
      levels of acid resistance per magical plus. However, the ring carries
      a potent weakness compared to similar items: if the wearer ever deals
      acid damage herself, it will shatter. This is a good-aligned item,
      forged on the principle that acid is a horrific form of attack that
      causes exceptional pain and mutilates its victims."; }
and 2
{ xval: 79; yval: (41+500);
On Event ((41+500)+10000) {
hObj hRing;
if (GetHandle(EActor) == GetHandle(EVictim))
return 0;
if (e.DType == 3) {
hRing = EActor->GetEffStatiObj(104, $"Acid Warding");
if (hRing == ((hObj)0))
return 0;
EActor->IDPrint("Your <hObj2> shatters!",
"The <hObj>'s <hObj2> shatters!", EActor, hRing);
hRing->Remove(true);


hRing = EActor->GetEffStatiObj(104, $"Acid Warding");
if (hRing == ((hObj)0))
return 0;
EActor->IDPrint("Your <hObj2> shatters!",
"The <hObj>'s <hObj2> shatters!", EActor, hRing);
hRing->Remove(true);
}
return 0;
};
}

13 Effect "Brass and Glass" : 2
{ (0x00000010 | 0x00000001); xval: 104; yval: 4; pval: -91;
qval: 0x0001 | 0x0004; }
and 1
{ xval: 4; pval: (-92)d8; aval: 1;
sval: 1; Flags: 11, 49, 44, 76;
On Event 200 "ball lightning"; Purpose: 0x00001;
Level: -92; cval: 14;
Desc: "This item has a dual effect, granting you lightning resistance
      equal to thrice its magical plus, and allowing you to project blasts
      of ball lightning (which inflict 2d8 per plus) when it is activated."; }

33 Effect "the Stormlord" : 2
{ 0x00000001; xval: 104; yval: 4; pval: -91;
Flags: 44; Level: -91; }
and 2
{ xval: 104; yval: 10; pval: -91;
Desc: "This magical belt gives the wearer authority over storms, granting
      her three levels magical resistance to thunder and lightning (i.e., 
      electrical and sonic damage) for every magical plus."; }

14 Effect "Periapt of Proof against Poisons" : 2
{ 0x00000001; xval: 123; yval: 8; pval: -92; }
and 2
{ xval: 104; yval: 5; pval: -90;
Flags: 44, 20; Level: -92;
Desc: "This item protects its wearer from toxins, granting a +2
      magic bonus to saving throws versus poison and 4 points of
      toxic damage resistance per magical plus it possesses."; }

8 Effect "Clear Sound" : 2
{ 0x00000001; xval: 104; yval: 10; pval: -90;
Flags: 44; Level: -92;
Desc: "This item grants the wearer resistance to sonic damage 
            and confusion effects equal to its magical bonus multipled by
            four."; }
and 2
{ 0x00000001; xval: 123; yval: 13; pval: -90; }

38 Effect "Musical Defense" : 2
{ 0x00000001; xval: 104; yval: 10; pval: -91;
Flags: 44; Level: -92;
Desc: "This magical instrument grants its bearer protection from
      sound-based attacks -- three levels of sonic resistance per
      magical plus it possesses. In the hands of a character with
      three or more bard levels, it also adds its magical plus to 
      all saving throws against spells."; }
and 2
{ xval: 123; yval: 16; pval: -93;
On Event 28 {
if (e.efNum == 1 && !e.isRemove) {
if (EActor->ItemPrereq((rID)($"bard"),3,15))
return 0;
return 1;
}
return 0;
};
Constants:
* 101 $"mandolin";
}
#line "m_items.irh" 608
Effect "quality::light fortification" : 2
{ xval: 129; pval: 25; }

Effect "quality::medium fortification" : 2
{ xval: 129; pval: 50; }

Effect "quality::heavy fortification" : 2
{ xval: 129; pval: 75; }

Effect "quality::auspicious" : 2
{ xval: 120; yval: 52; pval: -93; }

Effect "quality::rapid healing" : 2
{ 0x00000080; xval: 39; yval: 66; pval: -93; }

Effect "quality::fire resistance" : 2
{ xval: 104; yval: 1; pval: -91; }
Effect "quality::acid resistance" : 2
{ xval: 104; yval: 3; pval: -91; }
Effect "quality::cold resistance" : 2
{ xval: 104; yval: 2; pval: -91; }
Effect "quality::lightning resistance" : 2
{ xval: 104; yval: 4; pval: -91; }
Effect "quality::sonic resistance" : 2
{ xval: 104; yval: 10; pval: -91; }
Effect "quality::poison resistance" : 2
{ xval: 104; yval: 5; pval: -91; }
and 2
{ xval: 123; yval: 8; pval: -93; }

Effect "quality::animated" : 46 { }

Effect "quality::arrow-deflecting" : 2
{ xval: 41; yval: (((49 + 1) + 32) + 30); }

Effect "quality::bashing" : 46 { }

Effect "quality::blinding" : 2
{ xval: 79; yval: (19+2000);
On Event ((19+2000)+10000) {
if (EActor->Percieves(EVictim) & 0x0001)
{
e.vDef += 2;
e.strDef += " +2 glint";
if (!random(20))
{
VPrint(e,"Your armor flares!", "The <EVictim>'s armor flares!");
if (EActor->ResistLevel(24) == -1)
DPrint(e,"You are unaffected.", "The <EActor> is unaffected.");
else if (EActor->SavingThrow(0,10 + EVictim->GetEffStatiObj(79,
$"quality::blinding")->ItemLevel()/2 + EVictim->Mod(5),0x00000001))
DPrint(e,"You resist the effect.","The <EActor> resists the effect.");
else {
EActor->GainTempStati(3,NULL,1d4,7);
DPrint(e,"You are blinded by the glare!","The <EActor> is blinded by the glare!");
}
}
}
return 0;
};
}

Effect "quality::etherealness" : 3
{ xval: 102; yval: 3;
Flags: 48, 66, 54, 76;
On Event (52+1000) {
if (e.isActivation)
EActor->LoseFatigue(2,false);
return 0;
};
}

Effect "quality::feather-light" : 46 { }

Effect "quality::ghost-touch" : 46 { }

Effect "quality::graceful" : 46 { }

Effect "quality::invulnerability" : 2
{ xval: 39; yval: 105; pval: 1; }

Effect "quality::great invulnerability" : 2
{ xval: 39; yval: 105; pval: 4; }

Effect "quality::magic resistance" : 2
{ xval: 106; yval: 18; pval: -88; }

Effect "quality::shadow" : 2
{ xval: 124; yval: 18; pval: -92; }

Effect "quality::silent moves" : 2
{ xval: 124; yval: 36; pval: -92; }

Effect "quality::slick" : 2
{ xval: 124; yval: 13; pval: -92; }

Effect "quality::might" : 2
{ xval: 106; yval: 0; pval: -93; }
Effect "quality::agility" : 2
{ xval: 106; yval: 1; pval: -93; }
Effect "quality::endurance" : 2
{ xval: 106; yval: 2; pval: -93; }

Effect "quality::radiant" : 46
{ aval: 9; lval: 6; cval: 14;
rval: 0x00000002|0x00000080; }

Effect "quality::fearsome" : 46 { }
Effect "quality::shifting" : 46 { }
Effect "quality::bane-blind" : 46 { }
Effect "quality::spiked" : 46 { }

Effect "quality::resistant" : 2
{ 0x00000008; xval: 106; yval: 52; pval: -93; }

Effect "quality::command" : 2
{ xval: 106; yval: 5; pval: -93; 0x00000008; }

Effect "quality::sacred" : 2
{ xval: 33; yval: 76; pval: -93;
On Event 28 {
e.vDmg = max(e.vDmg,EActor->HighStatiMag(
33,76) + EItem->GetPlus());
};
}

Effect "quality::graven" : 46 { }

Effect "quality::life-keeping" : 2
{ xval: 125; yval: 51; pval: -93; }
and 2
{ xval: 104; yval: 6; pval: -91; }
#line "m_items.irh" 746
2 Spell "Identify;scroll" : 46
{ 0x00000004; Level: 1; qval: 0x0008;
Flags: 40, 41, 45;
Desc: "This scroll identifies the basic magical nature of one chosen
      item when fired."; Purpose: 0x00000;
On Event
52 {
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
hObj it;
if (GetHandle(EItem) != ((hObj)0) && EItem->isBlessed())
if (1d100 < EActor->Mod(6)*3)
{
EActor->IPrint("The magic of this scroll is especially deep!
                You are overcome with revelations!");
for (it=EActor->FirstInv();it;it=EActor->NextInv())
it->MakeKnown(0xFF);
return 1;
}
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
}

2 Spell "*Identify*;scroll" : 46
{ 0x00000004; Level: 3;
Desc: "This scroll identifies the basic magical nature of every item
      in the reader's possession when it is used."; Purpose: 0x00000;
On Event
28 {
hObj it;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
it->MakeKnown(0xFF);
return 1;
};
}

2 Effect "Enchant Armor" : 46
{
Level: 3;
Desc: "This scroll, when read, will increase the plus of the
      suit of armor you currently wear by 1 (to a maximum of +5),
      provided that the armor's item level (before enchantment) is 
      lower than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->GetInherantPlus() >= 5 ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->SetInherantPlus(Ar->GetInherantPlus()+1);
return 1;
};
}

2 Effect "Enchant Armor (featherlight)" : 46
{
Level: 3;
Desc: "This scroll, when read, will bestow the featherlight
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(76) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->AddQuality(76);
return 1;
};
}

2 Effect "Enchant Armor (graceful)" : 46
{
Level: 3;
Desc: "This scroll, when read, will bestow the featherlight
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(17) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->AddQuality(17);
return 1;
};
}

2 Effect "Enchant Armor (life-keeping)" : 46
{
Level: 5;
Desc: "This scroll, when read, will bestow the featherlight
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(39) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
Ar->AddQuality(39);
return 1;
};
}


2 Effect "Enchant Armor (fortification)" : 46
{
Level: 4;
Desc: "This scroll, when read, will bestow a level of the
      fortification (no fortification becomes light, light
      becomes medium and medium becomes heavy) 
      quality on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if (Ar->HasQuality(3) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
if (Ar->HasQuality(2))
{ Ar->RemoveQuality(2);
Ar->AddQuality(3);
return 1; }
else if (Ar->HasQuality(1))
{ Ar->RemoveQuality(1);
Ar->AddQuality(2);
return 1; }
else
Ar->AddQuality(1);
return 1;
};
}

2 Effect "Enchant Armor (resistance)" : 46
{
Level: 4;
Desc: "This scroll, when read, will bestow one of the 
      elemental resistance qualities (that your armor doesn't
      already have) on the suit of armor you currently wear, provided 
      that the armor's item level (before enchantment) is lower 
      than your character level plus your Charisma modifier, 
      +2 if enchanting medium armor or +4 if enchanting heavy armor.";
On Event 28 {
hObj Ar; int32 lev;
lev = EActor->ChallengeRating() + EActor->Mod(5);
Ar = EActor->InSlot(9);
if (Ar == ((hObj)0))
return 0;
if (!Ar->isType(21))
return 0;
if (Ar->isGroup(0x80000000))
lev += 4;
else if (Ar->isGroup(0x40000000))
lev += 2;
if (Ar->isCursed())
{
EActor->IPrint("Your armor glows an angry red!",
"The <hObj>'s armor glows an angry red!",
EActor);
EActor->MakeKnown(0x02);
return 1;
}
if ((Ar->HasQuality(4) && Ar->HasQuality(5) &&
Ar->HasQuality(6) && Ar->HasQuality(7) &&
Ar->HasQuality(8) && Ar->HasQuality(9)) ||
Ar->ItemLevel() > lev)
{
EActor->IDPrint("Your armor glows white, but the glow soon fades.",
"The <hObj>'s armor glows white, but the glow soon fades.",
EActor);
return 1;
}
EActor->IDPrint("Your armor glows white!",
"The <hObj>'s armor glows white!", EActor);
do {
switch(1d6) {
case 1:
if (!Ar->HasQuality(4))
{ Ar->AddQuality(4);
return 1; }
break;
case 2:
if (!Ar->HasQuality(5))
{ Ar->AddQuality(5);
return 1; }
break;
case 3:
if (!Ar->HasQuality(8))
{ Ar->AddQuality(8);
return 1; }
break;
case 4:
if (!Ar->HasQuality(7))
{ Ar->AddQuality(7);
return 1; }
break;
case 5:
if (!Ar->HasQuality(6))
{ Ar->AddQuality(6);
return 1; }
break;
case 6:
if (!Ar->HasQuality(9))
{ Ar->AddQuality(9);
return 1; }
break;
}
}
while (1);
};
}
#line "m_items.irh" 1104
1 Effect "Fury" : 3
{ 0x00000008; xval: 66; yval: +4; Level: 1;
Flags: 67, 25, 86; Purpose: 0x00010;
Desc: "This potion drives you into a mad fury, allowing you to
      rage as a barbarian does (+4 Str, +4 Con, +2 Will saves)."; }

1 Effect "Valor;potion" : 3
{ 0x00000008; xval: 177; yval: 28; Level: 1;
Flags: 68, 25, 86; Purpose: 0x00200 (25); }
and 26
{ xval: 0x10; yval: 10;
Desc: "This potion removes fear, and renders you immune to fear
      for a long period after drinking it."; }

1 Effect "Neutralize Poison;potion" : 3
{ xval: 104; yval: 5; pval: 7;
Flags: 86; Level: 1;
Purpose: 0x00200 (14); }
and 26
{ xval: 0x10; yval: 2; }
and 3
{ xval: 123; yval: 8; pval: +5;
Desc: "This potion neutralizes poisons active in your system,
      gives you a +5 bonus to save against further exposures and
      grants you resistance to toxic damage (level 7) for a brief
      period after drinking it."; }


1 Effect "Wakefulness" : 3
{ 0x00000008; xval: 177; yval: 16; Level: 1;
Desc: "This potion renders you immune to sleep effects for a
      limited period after you drink it."; }

1 Effect "Healing" : 26
{ 0x00000080; Cost: 3; xval: 0x01; pval: 2d8+8;
Purpose: 0x00080 (1); Level: 1;
Flags: 45;
Desc: "When drunk, this potion heals 2d8+8 points of
      damage suffered."; }

1 Effect "Extra-Healing" : 26
{ 0x00000080; Cost: 7; xval: 0x01; pval: 3d8+12;
Purpose: 0x00080 (1); Level: 4;
Desc: "When drunk, this potion heals 3d8+12 points of
      damage suffered."; }

1 Effect "True-Healing" : 26
{ 0x00000080; Cost: 7; xval: 0x01; pval: 4d8+20;
Purpose: 0x00080 (1); Level: 7;
Desc: "When drunk, this potion heals 4d8+20 points of
      damage suffered."; }

1 Effect "Mana" : 26
{ 0x00000080; Level: 1; xval: 0x02; pval: 3d8+8;
Purpose: 0x00080 (2);
Flags: 45; Level: 1;
Desc: "This potion restores 3d8+8 points of mana when 
      drunk."; }

1 Effect "*Mana*" : 26
{ 0x00000080; Level: 3; xval: 0x02; pval: 5d12+12;
Purpose: 0x00080 (2); Level: 3;
Desc: "This potion restores 5d12+12 points of mana when 
      drunk."; }

1 Effect "*MANA*" : 26
{ 0x00000080; Level: 5; xval: 0x02; pval: 8d20+20;
Purpose: 0x00080 (2);
Level: 7;
Desc: "This potion restores 8d20+20 points of mana when 
      drunk."; }


1 Effect "Dimunition" : 46
{ 0x00000080; Level: 1; Flags: 67, 18;
On Event 28 {
return RedirectEff(e,$"reduce");
};
Desc: "When drunk, this potion causes you to shrink, lowering
      your size by one size catagory.";
}

1 Effect "Growth" : 46
{ 0x00000080; Level: 1; Flags: 67, 86;
On Event 28 {
return RedirectEff(e,$"enlarge");
};
Desc: "When drunk, this potion causes you to grow, increasing
      your size by one size catagory.";
}
#line "m_items.irh" 1216
1 Effect "Remove Curse;potion" : 46
{ 0x00000001; Level: 2; qval: 0x0008 | 0x0004;
Flags: 78, 45, 40;
Purpose: 0x00000;
Desc: "Drinking this potion lifts a curse from a single chosen
      item or individual.\n
      __Curses include the effects of a cursed item that cannot be removed
      or the effects of spells like <9>bestow curse<1> or <9>mark of justice<1>.
      A -6 luck penalty to an attribute is a <9>bestow curse<1> effect.
      Other attribute damage, poisoning, diseases and experience drain do not count
      as curses -- though some curse effects do reduce attributes.";
On Event 28 {
if (ETarget->isCreature())
{
#line "m_items.irh" 1237
ETarget->RemoveStatiSource(12);
VPrint(e,"Your body glows with a soft blue light.",
"The <EVictim>'s body glows with a soft blue light.");
return 1;
}
if (ETarget->isType((-4))) {
ETarget->MakeKnown(0x02);
if (!(ETarget->IFlags & 0x0002))
{
DPrint(e,"Your <ETarget> glows with a soft blue light.",NULL);
return 1;
}
#line "m_items.irh" 1254
ETarget->IFlags &= ~0x0002;
DPrint(e,"Your <ETarget> glows with a soft blue light.",NULL);

}
else
APrint(e,"The <ETarget> glows with a soft blue light.");
return 0;
},
157 {
if (ETarget->isCreature())
return 1;
if (ETarget->isType((-4)))
if (!(ETarget->isCursed() && ETarget->isKnown(0x02)))
return 2;
return 0;
};
}

1 Effect "Giant Strength;potion" : 3
{ 0x00000080; xval: 106; yval: 0; pval: 2d4+2;
Level: 1; Flags: 86;
Desc: "This potion gives you a magic bonus to your Strength
      of 2d4+2 points for a brief period."; }

1 Effect "Disorientation" : 3
{ 0x00000080; Cost: 4; xval: 6; pval: 6d6;
Flags: 67, 2; Level: 0;
Desc: "This cursed potion causes you to become confused for
      a short period of time when drunk."; }


1 Effect "Blindness" : 3
{ 0x00000080; xval: 3; pval: 6d6;
Flags: 67, 2; Level: 0;
Desc: "This cursed potion strikes you blind for a brief
      period of time when drunk."; }

1 Effect "Beast Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 35; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby beast when it is drunk."; }

1 Effect "Undead Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 76; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby grave-born abomination when it is drunk."; }

1 Effect "Elemental Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 38; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby elemental when it is drunk."; }

1 Effect "Outsider Control" : 3
{ 0x00000008; xval: 137; yval: 4; Level: 5;
tval: 48; aval: 11; qval: 0x0004;
Flags: 4, 25, 69; sval: 2;
Desc: "This potion allows you to mentally dominate any one
      nearby outsider when it is drunk."; }

1 Effect "Fire Breath" : 1
{ 0x00000010; Level: 2; aval: 2; qval: 0x0001 | 0x0004; Level: 3;
xval: 1; lval: 4; sval: 1 partial; pval: 3d8+3;
Purpose: 0x00001; cval: 4; Flags: 67;
Desc: "Drinking this potion allows you to breathe out a gout
      of fire inflicting 3d8+3 points of fire damage in a direction
      you specify."; }

1 Effect "Vitality" : 26
{ 0x00000080; Cost: 7; xval: 0x20; pval: 3d4+1;
Purpose: 0x00080 (13); Level: 2;
Flags: 45;
Desc: "Drinking this potion removes fatigue and exhaustion,
      restoring 3d4+1 lost fatigue points."; }

1 Effect "Weakness;potion" : 4
{ 0x00000080; xval: 50; pval: 1d6+1; Flags: 67, 2;
Desc: "This cursed potion inflicts 1d6+1 points of damage to
      your Strength if you drink it."; }

1 Effect "Unhealth" : 4
{ 0x00000080; xval: 52; pval: 1d6+1; Flags: 67, 2;
Desc: "This cursed potion inflicts 1d6+1 points of damage to
      your Constitution if you drink it."; }

1 Effect "Philter of Stammering and Stuttering" : 4
{ 0x00000080; xval: 55; pval: 1d6+1;
Flags: 67, 2, 20;
Desc: "This cursed potion inflicts 1d6+1 points of damage to
      your Charisma if you drink it."; }

1 Effect "Poison" : 46
{ Flags: 2, 67; Level: 0;
On Event 28 {
rID pID;
pID = theGame->GetEffectID(11,0,8,0);
if ((int32)pID)
EActor->GainPermStati(2,NULL,7,0,0,pID);
EActor->IdentByTrial(EItem);
};
Desc: "This potion poisons its imbiber with a random sort of
      poison when drunk. It cannot be used to poison a weapon like
      a normal poison, however.";
}

1 Effect "Restore Strength" : 26
{ xval: 0x80; yval: 0; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Strength when it is drunk."; }
1 Effect "Restore Dexterity" : 26
{ xval: 0x80; yval: 1; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Dexterity when it is drunk."; }
1 Effect "Restore Constitution" : 26
{ xval: 0x80; yval: 2; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Constitution when it is drunk."; }
1 Effect "Restore Intelligence" : 26
{ xval: 0x80; yval: 3; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Intelligence when it is drunk."; }
1 Effect "Restore Wisdom" : 26
{ xval: 0x80; yval: 4; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Wisdom when it is drunk."; }
1 Effect "Restore Charisma" : 26
{ xval: 0x80; yval: 5; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Charisma when it is drunk."; }
1 Effect "Restore Luck" : 26
{ xval: 0x80; yval: 6; pval: 6d8; Flags: 45;
Desc: "This potion heals [6d8 / 5] points of damage to your
      Luck when it is drunk."; }

1 Effect "Light;potion" : 3
{
xval: 79; yval: (41+500); Level: 3;
Desc: "A potion of light in a congealed cocktail of positive
      energy, held in reserve by the body for a brief period of
      time to deflect experience-draining negative energy attacks.
      Once drunk, the imbiber is immune to such attacks for 3d6
      turns.";
Flags: 67;
On Event ((41+500)+10000) {
if (e.DType == 32) {
APrint(e,"A warm glow blocks the negative energy!");
return 1;
}
return 0;
},
205
"PotLight",
52 {
EActor->IPrint("You feel warm inside.");
return 0;
},
170 {
e.vDuration = 3d6;
return 0;
},
74
"The feeling of inner warmth fades.";
}

1 Effect "Faerie;potion" : 3
{
xval: 144; Level: 4;
Desc: "A potion of faerie, distilled from the blood of fae creatures,
      duplicates the inherant elven ability of manifestation, enhancing
      the imbiber's Charisma and allowing her to exist on all planes at
      once for 3d6 turns.";
Flags: 67;
On Event 205
"PotFaerie",
52 {
EActor->IPrint("You feel spectacular, ancient and whole.");
return 0;
},
170 {
e.vDuration = 3d6;
return 0;
},
74
"The feeling of grandeur fades.";
}
#line "m_items.irh" 1469
1 Effect "Oil of Transformation" : 46
{
Desc: "This oil, when applied to the surface of a weapon,
      permanently transforms that weapon into any other type
      of weapon, as a limited form of the <9>polymorph any
      object<7> spell. The weapon retains any magical qualities
      it had before being transformed, provided that they apply
      to its new form; any inapplicable abilities are lost.
      Thus, a +4 keen longsword could be changed into a +4
      keen scimitar or a +4 keen dagger, but only into a +4
      quarterstaff, since the keen quality only applies to
      slashing weapons. Unique or specific weapons cannot be
      transformed by this oil.\n
      __Use the Apply verb to transform a weapon with this oil.";
Level: 5;
Flags: 20, 40, 41, 67;
On Event 35 { EActor->IPrint("Boy, that tasted greasy!"); EItem->TakeOne()->Remove(true); return 1; }, 95 { if (!EItem->isKnown(0x04)) return 0; if (GetHandle(EActor) == GetHandle(ETarget)) DPrint(e, "You rub the oil into your skin.", "The <EActor> rubs the oil into <his:EActor> skin."); else DPrint(e, "You rub the oil on the <ETarget>.", "The <EActor> rubs the oil on <his:EActor> <ETarget>."); if (ETarget->isType(58)) ReThrow(52,e); else APrint(e,"Nothing happens."); EItem->TakeOne()->Remove(true); };
#line "m_items.irh" 1486
rID currID;
On Event 28 {
rID newID; int32 i;
if (!ETarget->isType(58))
{
EActor->IPrint("Only weapons can be transformed!");
return 2;
}
if (ETarget->ieID != ((rID)0))
{
EActor->IPrint("That weapon cannot be transformed!");
return 2;
}
currID = ETarget->iID;
newID = ETerm->ChooseResource(
"Select a New Form", 63, $"Oil of Transformation");
if (newID == -1)
return 1;
if (ETarget->isPlural())
EActor->IPrint("Your <hObj> change into <hText>!",
ETarget,Pluralize(NAME(newID)));
else
EActor->IPrint("Your <hObj> changes into a <Res>!",
ETarget,newID);
ETarget->ChangeIID(newID);
for (i=0;i!=64;i++)
if (ETarget->HasQuality(i))
{
ETarget->RemoveQuality(i);
if (ETarget->QualityOK(i))
ETarget->AddQuality(i);
}
return 1;
},
157 {
if (!ETarget->isType(58))
return 2;
if (ETarget->ieID != ((rID)0))
return 2;
return 0;
},
171 {
if (e.eID == currID)
return false;
if (ResourceHasFlag(e.eID,7) !=
ResourceHasFlag(currID,7))
return false;
if (ResourceHasFlag(e.eID,8) !=
ResourceHasFlag(currID,8))
return false;
if (ResourceHasFlag(e.eID,1))
return false;
if (e.eID->RIType != currID->RIType)
return false;
return true;
};
}

1 Effect "See Invisibility;potion" : 3
{ 0x00000004; Level: 1; xval: 101; Flags: 25, 67;
On Event 205 "See Invis" / "SI";
Desc: "Drinking this potion allows the imbiber to see invisible 
      creatures normally; it also renders visible creatures on
      the etherial plane, who normally cannot be seen by observers
      from the material plane.";
On Event
206
"Your vision expands into the otherworldly!",
74
"Your vison fades back to mundane levels.";
}
#line "m_items.irh" 1561
10 Effect "the Endless Wave" : 2
{ 0x00000080; 0x00000001; xval: 124; yval: 45; pval: -92;
Purpose: 0x00010; Flags: 44; Level: -72;
Desc: "When worn, this item grants you a magic bonus to your
      Swimming skill equal to twice its plus. In addition, it makes
      you inoffensive to water creatures and makes you immune to soaking
      damage."; }
and 2 { xval: 214; yval: 92; }
and 2 { xval: 177; yval: 74; }

37 Effect "Detection" : 2
{ 0x00000004|0x00000008; xval: 124; yval: 41; pval: -92;
Purpose: 0x00010; Flags: 44; Level: -92;
Desc: "When worn, this item grants you a magic bonus to your
      Search and Wilderness Lore skills equal to twice its plus. It also
      grants you the Sharp Senses ability, allowing you a chance to
      automatically detect secret doors as you walk by them."; }
and 2 { xval: 124; yval: 48; pval: -92; }
and 2 { xval: 39; yval: 73; pval: 1; }

37 Effect "the Eagle" : 2
{ 0x00000080; 0x00000001; xval: 124; yval: 44; pval: -92;
Purpose: 0x00010; Flags: 44; Level: -92;
Desc: "When worn, this item grants you a magic bonus to your
      Spot skill equal to twice its plus. It grants the Superior
      Senses feat, thus doubling you basic vision range.  In addition, it
      makes you inoffensive to birds."; }
and 2 { xval: 41; yval: ((49 + 1) + 2); }
and 2 { xval: 214; yval: 4; }

37 Effect "the Soul;eyes" : 2
{ 0x00000040|0x00000200; xval: 124; yval: 20; pval: -92;
Level: -92; Flags: 44;
Desc: "These lenses grant the bearer a terrifying window in the souls
    of others and the holes where the souls of the undead would be. This
    grants the wearer a skill bonus to Intimidate and Knowledge (Theology) skill checks
    equal to twice their plus. In addition, the wearer adds their magical
    plus as a bonus to saving throws versus fear."; }
and 2 { xval: 124; yval: 30; pval: -92; }
and 2 { xval: 123; yval: 11; pval: -93; }
and 2 { xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3); }
#line "m_items.irh" 1624
9 Effect "Stability;boots" : 2
{ 0x00000001|0x00000008; 0x00000080; xval: 177; yval: 20; Level: -92;
Flags: 44; }
and 2
{ xval: 124; yval: 5; pval: -92;
Desc: "When worn, these boots grant you a bonus to your Balance skill
    equal to twice their plus. In addition, they make you immune to
    Polymorph effects."; }

10 Effect "Contortion" : 2
{ 0x00000080; xval: 124; yval: 13;
pval: -92; Flags: 44;
Level: -92;
Desc: "These magical items allow you a great deal of extra flexibility
    when you attempt to bend your body. As a a result you gain a +2 bonus
    to Escape Artist and Tumble skill checks per magical plus they possess.
    In addition, you enjoy the benefits of the Featherfoot feat."; }
and 2 { xval: 124; yval: 46; pval: -92; }
and 2 { xval: 41; yval: ((((49 + 1) + 32) + 50) + 20); }

34 Effect "Magical Aptitude" : 2
{ 0x00000002; xval: 124; yval: 47; pval: -92;
Flags: 44; Level: -92;
Desc: "This magic item enhances your ability to cast spells and use
  magical items. It grants you a +2 bonus to Concentration and Use Magic
  skill checks per magical plus it possesses. In addition, it grants
  you the power to detect summoned monsters within 100 feet (10 squares)
  plus 20 feet (2 squares) per magical plus."; }
and 2 { xval: 124; yval: 8; pval: -92; }
and 2 { xval: 134; yval: 108; pval: -66; }

27 Effect "Shadowstone" : 46
{ 0x00000002|0x00000020; Flags: 67 | 44;
lval: 1; Level: -92;
aval: 9; rval: 0x00000200; cval: shadow;
Purpose: 0x00002; Flags: 80, 20;
Desc: "This item creates a field of supernatural shadow. Inside the
    field bright lights (e.g., from wall torches) do not prevent creatures
    from hiding. The field of shadow is not a field of darkness, and
    surroundings and features can still be seen, even via torchlight. In
    addition, the cloak grants a bonus to Hide skill checks equal to its
    magical plus.";
} and 2 { xval: 124; yval: 18; pval: -92; }
#line "m_items.irh" 1704
37 Effect "the Druid;eyes" : 2
{ 0x00000100; xval: 39; yval: 57;
Level: 3;
Desc: "These lenses allow the wearer to see through fog, trees, webbing
    and other visual impediments without trouble. In addition, they
    make you inoffensive to sylvan creatures."; }
and 2 { xval: 214; yval: 81; }

37 Effect "the Night" : 2
{ 0x00000080; xval: 39; yval: 42; pval: +6;
Level: 1;
Desc: "This grants you Infravision to a range of 60 feet, or
      improves the range of your existing Infravision by 60 feet."; }

37 Effect "Terror;eyes" : 2
{ 0x00000040; xval: 124; yval: 20; pval: +5;
Level: 1;
Desc: "These lenses give the wearer the illusionary effect of a
    terrifying visage. The visage is so terrifying that many beings will
    see the wearer as a being to be feared. This grants the wearer a +5
    bonus to Intimidation checks and conversely grants the wearer a +5
    bonus to saves against Fear effects."; }
and 2
{ 0x00000001; xval: 123; yval: 11; pval: +5; }

37 Effect "Stone;eyes" : 2
{ 0x00000001; xval: 225; yval: 2; Level: 1;
Desc: "These lenses appear to be opaque, but when worn they
    can be seen through normally.  They grant the wearer immunity to
    all incoming gaze attacks (i.e. - from basilisks, jackal lords,
    medusae, floating eyes, etc.) as well as all light-based damage."; }
and 2 { xval: 177; yval: 9; }

37 Effect "Precision;eyes" : 2
{ 0x00000080; xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 25); pval: -93;
Level: -91; Flags: 44;
Desc: "These lenses give the wearer a preternatural sharpness of
    vision and a steady hand. While worn they grant the benefits of the
    Precise Shot and Aimed Shot feat as well as increasing the lowlight
    vision (and typically thus perception range) of the wearer by 20 feet
    (2 squares). They are a great benison to archers."; }
and 2
{ 0x00000080; xval: 41; yval: ((49 + 1) + 4); pval: -93; }
and 2
{ xval: 39; yval: 53; pval: -92; }
#line "m_items.irh" 1842
3 Effect "Fire Bolts" : 1
{ 0x00000010; Cost: 3; xval: 1; pval: (-92)d6;
sval: 1; qval: 0x0001 | 0x0004 | 0x0002; aval: 1;
Flags: 44, 67; Purpose: 0x00001;
cval: 4; On Event 200 "fire bolt";
Level: -93;
Desc: "This wand produces a flaming bolt that strikes a
      single target for 2d6 fire damage per plus. A successful
      Reflex saving throw represents dodging the bolt, and
      completely negates the damage."; }
#line "m_items.irh" 1855
3 Effect "Ice;wand" : 1
{ 0x00000010; Cost: 5; xval: 2; pval: (-93)d8;
sval: 1 Partial; qval: 0x0001 | 0x0004 | 0x0002; aval: 2;
Purpose: 0x00001; Level: -71; sval: 1 partial;
cval: 11; On Event 200 "frigid blast";
Flags: 44, 67, 40;
Desc: "This wand projects a cone of blue light inside of which
      ice magically forms on every exposed surface and flesh cracks
      from the unearthly cold. This inflicts 1d8 points of damage 
      per plus due to frigid cold, and turns both water and plain
      floor into ice squares. If a target fails to save, they also
      become stuck as their body is encased in ice.";
On Event (28+1000) {
if (EVictim->isCreature() && !e.Resist)
{ EVictim->GainPermStati(11,NULL,6,e.saveDC,0,$"Ice;wand");
VPrint(e,"You are partially encased in ice!",
"The <EVictim> is partially encased in ice!"); }
return 0;
};
}
and 5
{ xval: 6; rval: $"ice floor"; }
and 5
{ xval: 7; rval: $"ice floor"; }
#line "m_items.irh" 1882
3 Effect "Scouring" : 1
{ 0x00000002; 0x00000010; Cost: 10; xval: 3; pval: (-93)d8;
sval: 1 Partial; qval: 0x0001 | 0x0004 | 0x0002; aval: 2;
Purpose: 0x00001; Level: -72;
cval: 2; On Event 200 "sulpherous fumes";
Flags: 44, 67;
Desc: "This wand projects a blast of sulpherous fumes that inflict
      1d8 acid damage and 1d8 toxic damage for every magical plus the
      wand has. Creatures that do not breathe suffer only the acid
      damage. A Reflex save halves the damage.";
On Event 28 {
if (e.efNum == 1 && !EVictim->isMType(78))
{ VPrint(e,"The poison doesn't affect you.",
"The poison doesn't affect the <EVictim>.");
return 1; }
return 0;
};
}
and 1
{ aval: 2; sval: 1 partial;
xval: 5; pval: (-93)d8; }
#line "m_items.irh" 1907
3 Effect "Ash" : 46
{ 0x00000002; Cost: 10; pval: (-93)d6; Purpose: 0x00001;
qval: 0x0001 | 0x0004 | 0x0002; aval: 2; cval: 0;
Level: -71; Flags: 44, 67;
Desc: "When activation, a cloud of thick, greasy ash pours
      out from the tip of this wand, moving in a line to consume
      everything in its path. Victims must make two Fortitude
      saves -- one, if they have eyes, to avoid being blinded
      for 3d6 turns. The second save applies only to creatures
      who breathe, and halves both of the wand's primary effects:
      1d6 damage per plus and a -4 general penalty for 3d6 rounds, 
      both due to violent, bloody choking after breathing in the 
      ash.";

On Event 28 {
e.Immune = true;
if (EVictim->onPlane() != EActor->onPlane())
return 1;
if (!EVictim->HasMFlag(6)) {
e.Immune = false;
if (!EVictim->SavingThrow(0,e.saveDC,0x00000001))
{
VPrint(e,"You are blinded!",
"The <EVictim> is blinded!");
#line "m_items.irh" 1935
EVictim->GainTempStati(3,NULL,3d6,6);
}
else
e.Resist = true;
}
if (EVictim->isMType(78))
{
e.Immune = false;
if (!EVictim->SavingThrow(0,e.saveDC,0x00000001))
{
VPrint(e,"You choke horrifically!",
"The <EVictim> chokes horrifically!");
EVictim->GainTempStati(117,NULL,3d6,6,
51,-4);
ThrowDmg(41, 0, e.vDmg, "a cloud of choking ash",
EActor, EVictim, EItem);
}
else
{
VPrint(e,"You choke!",
"The <EVictim> chokes!");
EVictim->GainTempStati(117,NULL,3d6 / 2,6,
51,-2);
ThrowDmg(41, 0, e.vDmg / 2, "a cloud of choking ash",
EActor, EVictim, EItem);
}
}
return 1;
},
155 {
return EVictim->isMType(78) ||
!EVictim->HasMFlag(6) ?
0 : -1;
};
}
#line "m_items.irh" 1973
3 Effect "Dehydration" : 1
{ 0x00000080; Cost: 5; pval: (-93)d8; Purpose: 0x00001;
qval: 0x0001 | 0x0004 | 0x0002; aval: 2; cval: 6;
tval: 75; Purpose: 0x00001; xval: 0;
Flags: 4, 44, 67;
sval: 0 partial; Level: -71;
On Event 200 "thin amber bolt",
28 {
VPrint(e,"You feel ravenously thirsty suddenly!",
"The <EVictim>'s skin splits and peels!");
EVictim->LoseFatigue(e.vDmg/4,false);
return 0;
};
Desc: "This wand produces a thin amber bolt that flares out
      to strike a target, destroying a portion of the water in
      their body to inflict 1d8 points of damage per plus, and
      additionally sap the target of 1 fatigue for every 4 points
      of damage inflicted. A successful Fortitude saving throw
      halves the effect. Only living creatures are subject to
      dehydration -- undead, constructs and similar beings are
      immune.";
}
#line "m_items.irh" 1998
3 Effect "Shards" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001;
qval: 0x0001 | 0x0004 | 0x0002; aval: 2; cval: 15;
Flags: 44, 67; sval: 1 partial;
On Event 200 "spray of glass shards";
xval: 11; pval: (-92)d10;
Level: -64;
Desc: "When fired, this wand projects a stream of tiny glass
      shards in a line about 5 feet wide. The glass shreds anything
      organic it comes in contact with, inflicting 2d10 points of
      damage per magical plus of the wand. Additionally, targets
      with blood bleed for [plus] points of damage per turn after
      being struck by this wand, lasting for one turn per 4 points
      of damage the target actually took the initial spray. A Reflex 
      saving throw halves the initial damage (and thus the bleeding
      duration as well).";
On Event (28+1000)
{
if (e.aDmg && EVictim->isMType(77))
EVictim->GainTempStati(12,NULL,e.aDmg / 4,
6,0,EItem->GetPlus());
return 0;
};
}
#line "m_items.irh" 2030
3 Effect "the Void" : 1
{
0x00000040; 0x00000100; Cost: 5; Purpose: 0x00001; tval: 75;
qval: 0x0004 | 0x0002 | 0x0001; aval: 5; lval: 7; cval: 19;
Flags: 69, 44, 4; sval: 1 partial;
xval: 2; pval: (-93)d6; Level: -63;
On Event 200 "ball of dark energy";
Desc: "This wand produces a ball of unnatural, life-sapping vacuum
      drawn from the places where the Negative Energy Plane edges
      the Paraelemental Plane of Vacuum. This ball inflicts 1d6
      points of cold damage and 1d6 points of necromatic damage for
      every plus the wand has. Undead and constructs are immune;
      other targets caught in the area can make a Reflex saving 
      throw for half damage.";
On Event 28
"You feel a deathly chill!" /
"The <EVictim> withers!";
}
and 1
{ xval: 6; pval: (-93)d6; }
#line "m_items.irh" 2054
3 Effect "Life Stealing" : 1
{
0x00000040; Cost: 10; Purpose: 0x00001; tval: 75;
qval: 0x0004 | 0x0002 | 0x0001; aval: 5; lval: 7; cval: 19;
Flags: 69, 44, 4; sval: 1 partial;
xval: 73; pval: (-93)d6; Level: -64;
On Event 200 "ball of dark energy";
Desc: "When fired, this wand emits a blast of life-sapping
      shadow that drains the vitality of any living targets it
      hits even as it heals and strengthens the wielder. The
      blast inflicts 1d6 points of necromantic damage to
      everyone caught in its area, healing the caster for half
      of the total hit points it actually inflicts. Victims
      may make a Reflex saving throw for half damage.";
}
#line "m_items.irh" 2072
3 Effect "Sound Bursts" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001;
aval: 11; lval: 8; Level: -62;
Flags: 67, 44, 40,
34;
sval: 0 partial; xval: 10; pval: (-93)d6;
On Event 200
"cacophany",
28 {
if (EVictim->isCreature() && !e.Resist)
{
EVictim->GainTempStati(5,NULL,3d6,6);
EVictim->StatiMessage(5,0,false);
}
return 0;
};
Desc: "When fired, this wand releases a tremendous cacophany of
      sound and vibration all around the wielder (who is immune).
      The blast inflicts 1d6 points of damage per magical plus the
      wand has, allowing a Fortitude save for half damage. Those
      who fail the save are also stunned for 3d6 rounds. The
      destructive sonics also damage any unattended equipment, or
      items held by those who fail a saving throw.";
}
#line "m_items.irh" 2100
3 Effect "Acid;wand" : 1
{
0x00000002; Cost: 5; Purpose: 0x00001; Level: -62;
qval: 0x0001 | 0x0004 | 0x0002; aval: 1; cval: 10;
Flags: 67, 44, 40; sval: 3;
xval: 3; pval: (-93)d8;
On Event 200
"glob of acid",
74
"The acid has run its course." /
"The <EActor>'s flesh stops bubbling.",
(32+10000) {
hObj killer;
killer = EActor->GetEffStatiObj(79,$"Acid;wand");
if (killer)
ThrowDmg(41,1,1d6,"residual acid damage",killer,EActor);
else
ThrowDmg(41,1,1d6,"residual acid damage",EActor,EActor);
if (EActor->isDead())
DPrint(e,"The acid burns, killing you.",
"The acid burns the <EActor> to death.");
else
DPrint(e,"The acid burns you!",
"The acid burns the <EActor>!");
if (EActor->isDead() && killer != NULL)
killer->KillXP(EActor);
return 0;
},
(28+1000) {
if (!EVictim->isDead())
EVictim->GainTempStati(79,EActor,EItem->GetPlus(),
6,32,0,$"Acid;wand");
return 0;
};
Desc: "This wand fires a glob of concentrated acid with unerring accuracy,
      striking a single target for 1d8 points of acid damage for every magical
      plus it possesses. The acid can also damage the victim's equipment. If
      the victim survives the initial damage, she also suffers 1d6 points of
      damage every turn thereafter for a number of turns equal to the wand's
      magical plus as the acid continues to burn her.";
}
#line "m_items.irh" 2144
3 Effect "Thunderbolts" : 1
{
0x00000010; Cost: 5; Purpose: 0x00001; qval: 0x0001|0x0004|0x0002;
aval: 1; cval: 14; Flags: 44, 67;
sval: 1; xval: 4; pval: (-92)d6;
Level: -64;
Desc: "This wand fires a brilliant stroke of lightning about a
      meter long that arcs across space to strike a single target
      with a terrible thunderclap, inflicting 2d6 points of electrical
      damage and 1d6 points of sonic damage for every plus the wand
      possesses. A Reflex save indicates dodging the bolt utterly,
      but if a target is struck, the must attempt a second Fortitude
      save or be left stunned for 1d4+1 rounds."; }
and 1
{ xval: 10; pval: (-93)d6;
On Event
200
"thunderbolt",
(28+1000) {
if (!EVictim->SavingThrow(0,e.saveDC,0x00000001|0x00100000))
{
EVictim->GainTempStati(5,NULL,1d4+1,6);
EVictim->StatiMessage(5,0,false);
}
return 0;
};
}
#line "m_items.irh" 2174
3 Effect "Surtension" : 1
{
0x00000010; Cost: 5; Purpose: 0x00001; qval: 0x0004 | 0x0002 | 0x0001;
aval: 4; cval: 9; Level: -71;
Flags: 44, 67, 4;
sval: 0 partial; xval: 4; pval: (-93)d8;
On Event
200
"arc of electricity",
(28+1000) {
if (EVictim->isMType(75))
{
if (!e.Resist)
{
EVictim->GainTempStati(9,NULL,1,6);
VPrint(e,"Your muscles lock up!",
"The <EVictim> goes rigid!");
}
else
VPrint(e,"Your muscles stiffen!",
"The <EVictim> goes briefly rigid!");
}
APrint(e,"The smell of ozone fills the air!");
return 0;
},
(52+500) {
#line "m_items.irh" 2203
if (e.isDir)
if (!(EMap->FCreatureAt(EActor->x + DirX(e.EDir),
EActor->y + DirY(e.EDir)) || EMap->FCreatureAt(EActor->x +
DirX(e.EDir)*2, EActor->y + DirY(e.EDir)*2)))
return 1;
if (e.isLoc)
if (!EMap->FCreatureAt(e.EXVal,e.EYVal))
return 1;
return 0;
},
170 {
e.vRange = 2;
return 0;
};
Desc: "This wand produces a brilliant, crackling arc of electrical
      energy striking a target of the user's choice. The arc can only
      reach 20 feet (2 squares), but hits a target for 1d8 points of
      lightning damage per plus; a Fortitude save halves the damage.
      The current also locks up its victim's muscles, inflicting 1d2 +
      the wand's magical plus points of Dexterity damage (again, halved
      on a successful save) and paralyzing targets who fail the save
      for a single round. The paralysis and Dexterity damage affect
      only living targets.";
}
and 1
{ xval: 51; pval: 1d2 + -93; sval: 0 partial;
tval: 75; }
#line "m_items.irh" 2233
3 Effect "Cleansing Light" : 1
{
0x00000010; 0x00000400; Cost: 10; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 16; cval: 17; Level: -64;
Flags: 44, 67, 71;
sval: 0 partial; xval: 0; pval: (-102)d6;
On Event
200
"ray of moonlight",
155 {
if ( EVictim->isMType(48) ||
EVictim->isMType(58) ||
EVictim->isMType(76) )
return 0;
else
return -1;
},
#line "m_items.irh" 2262
170 {
if (GetHandle(EItem) != ((hObj)0))
e.vChainMax = EItem->GetPlus();
return 0;
};
Desc: "This translucent wand fires a swirling, incandescant beam of
      glittering moonlight that is harmless to most creatures. However,
      when is strikes an aberration, undead or outsider, that creature
      withers away for 2d6 points of damage per magical plus the wand
      possesses. This is not elemental damage and cannot be avoided by
      most standard resistances. After striking one viable target, the
      beam will curl around to encompass a number of other targets equal
      to the wand's magical plus.";
}
#line "m_items.irh" 2279
3 Effect "Soul Flaying" : 1
{
0x00000100; Cost: 10; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 3; cval: 29; lval: 20;
xval: 54; pval: (-93)d4; sval: 2 partial;
Flags: 44, 67, 71;
Level: -62;
On Event
200
"silver fire",
155 {
return EVictim->HasMFlag(33) ?
-1 : 0;
};
Desc: "This wand, crafted by the derro, fires a tiny globe
      that explodes into a huge blast of silvery flames. This
      unnatural flame does no harm to matter or flesh, but scours
      the psyches of self-aware beings on the astral plane,
      inflicting 1d4 points of Wisdom damage for every magical
      plus it possesses. A Will save halves the damage.";
}
#line "m_items.irh" 2303
3 Effect "Striking;wand" : 1
{
0x00000010; Cost: 3; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 1; cval: 15; Flags: 44, 67;
sval: 1 partial; xval: 13; pval: (-92)d10;
Level: -64;
On Event
200
"bolt of telekinetic force";
Desc: "This wand fires a telekinetic bolt which strikes a
      single target for 2d10 points of blunt damage per magical
      plus of the wand. A Reflex save halves the damage, but on
      failure the target will also be knocked back 1d4 + [magical
      plus] squares.";
}
and 1
{ xval: 61; pval: 1d4 + -93; sval: 1; }
#line "m_items.irh" 2326
3 Effect "the Hellstorm" : 1
{
0x00000010; Cost: 20; Purpose: 0x00001; qval: 0x0004|0x0001|0x0002;
aval: 3; cval: 16; Flags: 44, 67, 55;
sval: 1 partial; xval: 1; pval: (-93)d10; lval: 40;
Level: -64;
On Event
200
"hellstorm",
155 {
return EActor->isMType(73) ?
0 : 1;
};
Desc: "This wand projects a globe that blossoms into a vast
      infernal conflaguration, inflicting 1d10 points of fire damage
      and 1d10 points of unavoidable damage resulting directly from
      infernal power for every plus it has. Devils are immune to the
      effects of a hellstorm.";
}
and 1
{ xval: 0; pval: (-93)d10; }
#line "m_items.irh" 2350
3 Effect "Unearthly Harmonies" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001; qval: 0;
aval: 11; lval: 3; cval: 14;
Flags: 44, 67, 22, 4;
sval: 2 partial; xval: 10; pval: (-93)d8;
Level: -64;
Desc: "This wand produces a sanity-rending blast of otherworldly
      music drawn from the Clockwork Nirvana of Mechanus -- the
      outer-planar home of absolute Law. This music inflicts 1d8
      points of sonic damage per plus the wand possesses, and
      hearing it also damages the sanity of thinking beings,
      inflicting 1d2 points of Intelligence damage. Chaotic
      creatures suffer double damage from both effects, but a
      successful Will saving throw halves the effects. The
      caster is immune to the sonic damage, but not to the
      Intelligence damage.";
On Event
200
"otherworldly music",
170 {
if (GetHandle(EVictim))
if (EVictim->isCreature())
if (EVictim->isMType(105))
e.vDmg *= 2;
return 0;
},
28 {
if (GetHandle(EActor) == GetHandle(EVictim))
if (e.efNum == 0)
return 1;
return 0;
};
}
and 1
{ xval: 53; pval: (-93)d2; }
#line "m_items.irh" 2391
3 Effect "cracked" : 1
{
0x00000010; Cost: 10; Purpose: 0x00001; qval: 0;
Level: -72;
Flags: 44, 67, 19;
xval: 52; pval: (-93)d4;
Desc: "The attempt to manufacture magical wands involves
      channelling vast amounts of mystical energy into a very
      finite space -- and it isn't always successful. When
      wand creation fails, the result may be an instrument
      that contains a metaphysical fracture in its tapestry,
      causing a destructive flow of mana that can warp its
      wielder's body or mind if mistakenly fired. Sometimes
      careless gnomes leave such items abandoned in dungeons,
      not wanting to dispose of them safely; other times,
      kobold mages use them as traps, hoping to trick others
      into trying to fire them.\n
      __This cracked wand inflicts 1d4 points of Constitution
      damage to its user per magical plus it has.";
}
#line "m_items.irh" 2599
3 Effect "Negation" : 3
{ 0x00000080; Cost: 12; Level: -91; qval: 0x0004;
xval: 168; lval: -78; aval: 2; cval: 2;
Flags: 44, 89, 85;
Purpose: 0x00004; sval: 0;
Desc: "When the beam from this baleful wand strikes a
      creature, all the magic inherant to that creature is
      suppressed for a day unless they succeed in a Fortitude
      save. This includes innate spell-like abilities, special
      powers like a lantern archon's light ray or a vrock's
      screech, the breath weapons of dragons and other creatures,
      and most special damage forms, such as the life energy-sapping
      touch of many undead."; }

3 Effect "Dispelling" : 46
{ 0x00000001; Cost: 12; Level: -92; qval: 0x0002;
lval: -78; aval: 4; cval: 4;
Flags: 44; Purpose: 0x00004 | 0x20000;
Desc: "This wand produces a ray of shimmering crimson
      light that disperses any standing magical effect it
      strikes, duplicating the effect of a <9>dispel magic<7>
      spell with a caster level of 3 + thrice its magical
      plus.";
On Event 28 {
e.vCasterLev = 3 + EItem->GetPlus()*3;
return RedirectEff(e,$"dispel magic");
};
}

3 Effect "Curing;wand" : 26
{ 0x00000200; Cost: 0; Level: -91; qval: 0x0100|0x0004;
xval: 0x01; pval: (-92)d8; yval: 10;
Flags: 44;
Purpose: 0x00080 (1);
Desc: "This wand heals a nearby target of 2d8 hit points of 
      damage per magical plus.";
}


3 Effect "Polymorph" : 32
{ 0x00000080; Cost: 6; sval: 0; qval: 0x0001 | 0x0004 | 0x0002;
aval: 2; cval: 2; Level: -72;
Flags: 69, 89, 44;
Purpose: 0x00001 | 0x00004;
Desc: "This wand produces a beam that changes the shape of
      whatever it strikes into a different creature or object
      for a brief period. A Fortitude save negates."; }


3 Effect "Paralysis" : 3
{ 0x00000080; Cost: 8; xval: 9; Level: -64;
sval: 0; qval: 0x0001 | 0x0004; aval: 2;
cval: 7; Purpose: 0x00001;
Flags: 69, 44;
Desc: "This wand produces a beam which paralyzes
      and creature struck, provided that creature fails a
      Fortitude saving throw."; }

3 Effect "Terror" : 3
{ 0x00000008; Cost: 2; xval: 10; Level: -92;
Flags: 69, 44, 89;
sval: 2; qval: 0x0001 | 0x0004; aval: 2;
cval: 1; Purpose: 0x00004 (25);
Desc: "This wand produces a callow blue light ray
      which causes any creature it strikes to flee in
      terror, assuming that creature fails a Will saving
      throw."; }

3 Effect "Sleep;wand" : 3
{ 0x00000008; Cost: 7; xval: 7; Level: -91;
Flags: 69, 44;
sval: 2; qval: 0x0001 | 0x0004; aval: 2;
cval: 9; Purpose: 0x00001;
Desc: "This wand emits a ray of blue light that causes
      creatures it strikes to fall into a deep slumber. A
      Will saving throw negates this effect."; }

3 Effect "Lethargy" : 3
{ 0x00000080; Cost: 2; qval: 0x0001 | 0x0004 | 0x0002;
sval: 2; aval: 2; lval: 6;
cval: 2; Purpose: 0x00004 | 0x00040;
Flags: 69, 89, 44;
Level: -92;
On Event 28 {
return RedirectEff(e,$"slow");
};
Desc: "This wand induces intense lethargy in creatures struck
      by its beam, <9>slow<7>ing them as if by the spell of the
      same name on a failed Will save."; }

3 Effect "Fey Trapping;wand" : 3
{ 0x00000100; Cost: 6; xval: 133; Level: -92;
Flags: 44, 89;
sval: 2; qval: 0x0001 | 0x0004; aval: 2;
cval: 10; Purpose: 0x00004 (4);
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
Desc: "This wand produces a thin green beam that, when it strikes
      any creature, prevents them from teleporting or plane-shifting
      for an extended duration. Creatures already phased will be
      forced back to their natural plane. A Will save resists this
      effect."; }

3 Effect "Alacrity" : 3
{ 0x00000080; Cost: 5; qval: 0x0001 | 0x0004 | 0x0002;
sval: 2; aval: 2; lval: 6; Level: -71;
cval: 10; Purpose: 0x00010;
xval: 106; yval: 54; pval: 5d1+(-89);
Flags: 69, 86, 25;
On Event 84 {
EActor->LoseFatigue(2,false);
EActor->Abuse(2,3d10);
return 1;
},
(28+500) {
VPrint(e, "You feel yourself start to move faster!",
"The <EVictim> starts moving faster!");
if (EVictim->HasEffStati(-1,$"slow"))
{
EVictim->RemoveEffStati($"slow");
return 1;
}
return 0;
};
Desc: "This wand imbues creatures struck by its beam with a 
      preternatural speed, increasing their attack speed (in all
      categories) and movement rate by 25~ + 25~ per magical plus
      the wand possesses. When the effect wears off, the subject
      loses two points of Fatigue and is considered to have abused
      their Constitution.";
}
and 3
{ xval: 106; yval: 26; pval: 5d1+(-89); }

3 Effect "Dismissal;wand" : 46
{ 0x00000100; Cost: 2; qval: 0x0001 | 0x0004 | 0x0002;
sval: 2; aval: 2; lval: 6;
cval: 15; Purpose: 0x00004 | 0x00040;
Flags: 69, 88, 44;
Level: -72;
On Event 28 {
e.vCasterLev = 0;
return RedirectEff(e,$"dismissal",28);
};
Desc: "This wand has a similar effect to the <9>dismissal<7> spell,
      casting creatures struck by its beam [4d12 x 10] away from their
      current location if they fail a Will save.";
}

3 Effect "Dragon Summoning" : 9
{ 0x00000100; Cost: 25; pval: -62; level: -55;
Purpose: 0x00100; Flags: 67, 44;
xval: 37; rval: $"generic summons";
Desc: "This wand summons a dragon when fired. If the dragon's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the dragon may
      arrive uncontrolled and hostile.";
}


3 Effect "Animal Summoning" : 9
{ 0x00000100; Cost: 10; pval: -92; level: -92;
Purpose: 0x00100; Flags: 67, 44;
xval: 37; rval: $"generic summons";
Desc: "This wand summons an animal when fired. If the animal's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the animal may
      arrive uncontrolled and hostile.";
}

3 Effect "Goblinoid Summoning" : 9
{ 0x00000100; Cost: 6; pval: -92; level: -92;
Purpose: 0x00100; Flags: 67, 44;
rval: $"summoned goblinoid";
Desc: "This wand summons a goblinoid when fired. If the goblinoid's
      CR is too high in comparison to the user's level, or if the
      wand has not been properly identified when fired, the goblinoid may
      arrive uncontrolled and hostile.";
}

3 Effect "Beast Summoning" : 9
{ 0x00000100; Cost: 15; pval: -91; level: -91;
Purpose: 0x00100; Flags: 67, 44;
xval: 35; rval: $"generic summons";
Desc: "This wand summons a beast when fired. If the beast's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the beast may
      arrive uncontrolled and hostile.";
}

3 Effect "Undead Summoning" : 9
{ 0x00000100; Cost: 20; pval: -91; Level: -91;
Purpose: 0x00100; Flags: 67, 44;
xval: 76; rval: $"generic summons";
Desc: "This wand summons an undead when fired. If the undead's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the undead may
      arrive uncontrolled and hostile.";
}


3 Effect "Vermin Summoning" : 9
{ 0x00000100; Cost: 10; pval: -92; level: -92;
Purpose: 0x00100; Flags: 67, 44;
xval: 31; rval: $"generic summons";
Desc: "This wand summons vermin when fired. If the vermin's
      CR is too high in comparison to the user's level, or if the
      wand has nor been properly identified when fired, the vermin may
      arrive uncontrolled and hostile.";
}

3 Spell "Identify;wand" : 46
{ 0x00000004; Level: 1; qval: 0x0008; Cost: 8;
Flags: 40, 41;
Desc: "This wand identifies the basic magical nature of one chosen
      item when fired."; Purpose: 0x00000;
On Event
52 {
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
},
150 {
EItem->SetCharges(10+1d10);
return 0;
};
Lists:
* 25 4000;
}

3 Effect "Opening" : 46
{ 0x00000002; Level: 3; Cost: 5; qval: 0x0002; cval: 15;
aval: 2; lval: 8;
Desc: "This wand creates a beam when fired which opens any locked 
      or sealed object it strikes.";
On Event 75 {
hObj h; int32 fx, fy;
for (h=EMap->FItemAt(e.EXVal,e.EYVal);h;h=EMap->NItemAt(e.EXVal,e.EYVal))
if (h->isType(26) && h->HasStati(228))
{
h->RemoveStati(228);
APrint(e,"The <hObj> clicks.",h);
}
#line "m_items.irh" 2863
fx = e.EXVal + DirX(EActor->DirToXY(e.EXVal,e.EYVal));
fy = e.EYVal + DirY(EActor->DirToXY(e.EXVal,e.EYVal));
for (h=EMap->FFeatureAt(fx,fy);h;h=EMap->NFeatureAt(fx,fy))
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20)))) {
h->DoorFlags &= ~0x08;
h->DoorFlags |= 0x02;
h->SetImage();
e.isSomething = true;
DPrint(e,"The <hObj> opens.",NULL,h);
}
};
}
#line "m_items.irh" 3047
4 Effect "Size Alteration" : 2
{ xval: 169; Level: 5; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 255),1,10))
return 0;
return 1;
};
Lists:
* 18 $"enlarge" $"reduce"; }

4 Effect "Fellowship" : 2
{ xval: 169; Level: 5; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 255),2,10))
return 1;
if (!EActor->ItemPrereq((rID)(7000 + 106),2,10))
return 1;
return 0;
};
Lists:
* 18
$"calm emotions"
$"shield other"
$"call companions"
$"heroism";
Desc: "This ivory staff is a symbolic represetation of
      alliance and loyalty; many priesthoods create them
      to reward adventuring groups or other heroic bands who
      have done great service for the clergy. In the hands of
      a good-aligned 2nd-level spellcaster of any type, the 
      staff can produce the spells <9>calm emotions<7>, 
      <9>shield other<7>, <9>call companions<7> and
      <9>heroism<7>.";
}


4 Effect "Healing;staff" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0008 + 0x0020),1,10))
return 0;
return 1;
};
Lists:
* 18
$"cure critical wounds" $"restoration"
$"cure disease" $"neutralize poison";
}

4 Effect "the Spider" : 2
{
xval: 169; Level: 5; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 255),3,10))
return 1;
if (e.efNum >= 2 && !EActor->ItemPrereq((rID)(7000 + 66),0,20))
return 1;
return 0;
};
Lists:
* 18
$"spider climb" $"summon swarm"
$"serpent tongue" $"web";
Desc: "A solid adamant rod adorned with carvings of spiders,
      these staves are frequently created by drow sorcerors eager
      to earn the favor of their demonic Spider Queen.\n
      __In the hands of a spellcaster of 3rd level or higher,
      a staff of the spider allows access to the spells <9>spider
      climb<7>, <9>serpent tongue<7>, <9>web<7> and <9>summon
      swarm<7>; it also sustains its wielder's Dexterity. If its
      wielder meets the above requirement and is also a drow, it
      grants a +2 bonus to Poison Use and a +2 bonus to saving
      throws against poison, as well as making spiders inherantly
      friendly to the wielder.";
}
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 124; yval: 39; pval: +2; }
and 2
{ xval: 123; yval: 8; pval: +2; }
and 2
{ xval: 216; yval: (26+(2*256)); }

4 Effect "the Goblin Queen" : 2
{
xval: 169; Level: 6; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 255),3,10))
return 1;
if (!EActor->ItemPrereq((rID)(7000 + 84),0,20))
return 1;
return 0;
};
Lists:
* 18
$"dancing lights" $"improved phantasmal force"
$"summon swarm" $"spook" $"gust of wind"
$"shocking grasp" $"grease" $"visage of death"
$"caustic vitae" $"expeditious retreat" $"reduce"
$"shatter" $"pyrotechnics";
Desc: "Crafted by goblin witch doctors, these staves eminate
      malice and insanity. They are carved with hundreds of eerie, 
      leering inhuman faces, the gemstones set into each face's
      eyesockets glittering even in darkness. A staff of the goblin
      queen holds within it thirteen potent charms that can be used
      by any goblinoid spellcaster of 1st level or above: <9>dancing 
      lights<7>, <9>improved phantasmal force<7>, <9>summon swarm<7>, 
      <9>spook<7>, <9>gust of wind<7>, <9>shocking grasp<7>, <9>grease<7>, 
      <9>visage of death<7>, <9>caustic vitae<7>, <9>expeditious
      retreat<7>, <9>reduce<7>, <9>shatter<7> and <9>pyrotechnics<7>.
      Wielders of the staff also gain a +4 bonus to the Handle Device
      and Bluff skills.\n
      __This power (and diversity!) comes with a price. Wielders of
      the staff constantly hear a giddy, high-pitched laughter that
      gives them a -4 penalty to Spot, Listen and Concentration skills.
      Over time, their behaviour is said to become erratic as they
      become prone to paranoia, mischief, pyromania and generally
      psychotic behaviour.\n
      __Goblins would normally be friendly to the wielder of such an
      item, but in the Goblin Caves the authority of Murgash is
      greater still, and they remain resolute.";
}
and 2
{ xval: 124; yval: 16; pval: +4; }
and 2
{ xval: 124; yval: 6; pval: +4; }
and 2
{ xval: 124; yval: 44; pval: -4; }
and 2
{ xval: 124; yval: 32; pval: -4; }
and 2
{ xval: 124; yval: 8; pval: -4; }

4 Effect "Exorcism" : 2
{
xval: 169; Level: 6; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (!EActor->ItemPrereq((rID)(11000 + 0x0008 + 0x0004),3,10))
return 1;
if (!EActor->ItemPrereq((rID)(9000 + 106),0,20))
return 1;
return 0;
};
Lists:
* 18
$"aura of abjuration"
$"bless"
$"detect evil"
$"dispel evil"
$"dispel magic"
$"magic circle vs. evil"
$"remove curse"
$"spiritwrack";
Desc: "Frequently crafted by priests of the church of Immotian,
      these staves are solid and heavy, carved from ivory and clad
      with a ruby at the tip. They allow an accomplished (caster level
      3+) mage or priest of good alignment access to the spells <9>aura 
      of abjuration<7>, <9>bless<7>, <9>detect evil<7>, <9>dispel
      evil<7>, <9>dispel magic<7>, <9>remove curse<7> and
      <9>spiritwrack<7>. Worthy bearers also recieve a +2 sacred
      bonus to all their saving throws.";
}
and 2
{ xval: 107; yval: 52; pval: +2; }

4 Effect "Abjuration" : 2
{
xval: 169; Level: 10; pval: 3;
Desc: "This staff is specially attuned to the magical school 
      of Abjuration, and is carved with sacred words and protective
      glyphs. If the hands of any character with three or more
      arcane casting levels, it grants the a +2 magic bonus to saving
      throws when grasped, and allows access to the spells
      <9>banishment<7>, <9>dismissal<7>, <9>dispel magic<7>,
      <9>energy buffer<7>, <9>magic circle vs. evil<7> and
      <9>minor globe of invulnerability<7>.";
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0008 + 0x0004),3,20))
return 0;
return 1;
};
Lists:
* 18
$"magic circle vs. evil" $"dismissal"
$"dispel magic" $"banishment"
$"minor globe of invulnerability"
$"energy buffer";
}
and 2
{ xval: 106; yval: 52; pval: +2; }

4 Effect "Illusion" : 2
{
xval: 169; Level: 10; pval: 3;
Desc: "This staff is carved from a milky, nearly translucent
      marble, and has a swirling, colorful design painted on its
      surface. In the hands of any character with three or more
      levels as an arcane caster, or a gnome, it grants a +4 bonus to the
      Illusioncraft skill and access to the following spells:
      <9>chromatic orb<7>, <9>spectral force<7>, <9>mirror image<2>,
      <9>displacement<2>, <9>phantasmal killer<7> and
      <9>hypnotic pattern<7>.";
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0004),3,20) ||
EActor->ItemPrereq((rID)(7000 + 64),1,20))
return 0;
return 1;
};
Lists:
* 18
$"chromatic orb" $"spectral force"
$"mirror image" $"displacement"
$"phantasmal killer" $"hypnotic pattern";
}
and 2
{ xval: 124; yval: 19; pval: +4; }

4 Effect "Divination" : 2
{
xval: 169; Level: 10; pval: 3;
Desc: "This staff formed of gnarled oak and engraved with
      an eye motif. In the hands of any character with three or more
      levels as an arcane caster, it grants a +1 bonus to all
      Knowledge skills and access to the following spells:
      <9>detect monsters<7>, <9>Mord's lucubration<7>,
      <9>wizard sight<7>, <9>premonition<7>, <9>identify<7> and
      <9>true sight<7>.";
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0004 + 0x0000),3,20))
return 0;
return 1;
};
Lists:
* 18
$"detect monsters" $"mord's lucubration"
$"wizard sight" $"premonition" $"identify"
$"true seeing";
}
and 2
{ xval: 124; yval: 25; pval: +1; }
and 2
{ xval: 124; yval: 23; pval: +1; }
and 2
{ xval: 124; yval: 24; pval: +1; }
and 2
{ xval: 124; yval: 26; pval: +1; }
and 2
{ xval: 124; yval: 27; pval: +1; }
and 2
{ xval: 124; yval: 28; pval: +1; }
and 2
{ xval: 124; yval: 29; pval: +1; }
and 2
{ xval: 124; yval: 31; pval: +1; }
and 2
{ xval: 124; yval: 30; pval: +1; }

4 Effect "Earth and Stone" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
switch(e.efNum)
{
case 0:
if (EActor->ItemPrereq((rID)(11000 + 0x0004 +
0x0008 + 0x0020 + 0x0000),3,15))
#line "m_items.irh" 3335
return 0;
return 1;
case 1: case 2:
if ( EActor->ItemPrereq((rID)(7000 + 62),1,20) ||
EActor->ItemPrereq((rID)(7000 + 63),1,20) )
return 0;
return 1;
case 3:
if (EActor->ItemPrereq((rID)(7000 + 62),1,20))
return 0;
return 1;
case 4:
if (EActor->ItemPrereq((rID)(7000 + 63),1,20))
return 0;
return 1;
}
};
Lists:
* 18
$"Earthmaw" $"Wall of Stone"
$"Meld into Stone" $"Transmute Rock to Mud"
$"Rooting";
Desc: "Carved out of fine white marble with deep green streaks,
      and topped with a large emerald, mythlore claims that these
      staves are the work of high dwarven clerics working in conjunct
      with ancient grey elf wizards. This rare cooperation has produced
      items of great power and greater artistic value still, celebrating
      the beauty of the element of Earth in both the underground world
      of the dwarves and the life-giving fae glens of elvenkind. Carved
      into the base of the staff are the words <14>Long May Good Causes
      Foster Great Alliances<7> in elven and dwarven script.\n
      __In the hands of a character with three or more levels as a 
      spellcaster, they grant access to the following spells: 
      <9>earthmaw<7>, <9>wall of stone<7>, <9>meld into stone<7>,
      <9>transmute rock to mud<7> and <9>rooting<7>.\n
      __In the hands of an elf or dwarf, the staff also sustains
      Dexterity and Constitution. It grants an elf a +2
      magic bonus to Constitution and a dwarf a +2 bonus to
      Dexterity.";
}
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 125; yval: 2; }
and 2
{ xval: 106; yval: 2; pval: +2; }
and 2
{ xval: 106; yval: 1; pval: +2; }
#line "m_items.irh" 3388
4 Effect "Wind and Water" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 255),3,20))
return 0;
return 1;
};
Lists:
* 18
$"Gust of Wind" $"Gaseous Form"
$"Wall of Fog" $"Waterspout"
$"Air Walk" $"Solid Fog";
Desc: "This staff initially appear to be nothing more than
      a gnarled old cudgel, and in fact that it what most of
      them began their existance as -- the walking sticks of
      a powerful, wise and ancient water spirit that walks the
      lands of Theyra in the guise of an elderly, eccentric
      hermit, giving advice and magical tokens freely to those
      he finds worthy. Nowadays, sadly, they are more likely 
      to show up in the hands of mage guilds or black markets
      then in any pseudohistorical water spirit's hands. Still,
      many mages and priests view these items quite reverantly,
      and pay all due respects to their legendary creator,
      wherever he might be.\n
      __In the hands of a character with three or more levels
      as a spellcaster, this staff grants a +2 enhancement
      bonus to Luck, and also allows access to the spells
      <9>gust of wind<7>, <9>gaseous form<7>, <9>wall of fog<7>,
      <9>waterspout<7>, <9>air walk<7> and <9>solid fog<7>.";
}
and 2
{ xval: 117; yval: 6; pval: +2; }

4 Effect "the Fiery Citadel" : 2
{
xval: 169; Level: 7; pval: 3;
On Event 28 {
if (e.isRemove)
return 0;
#line "m_items.irh" 3432
if (e.isWield && e.efNum == 0)
if (!EActor->ItemPrereq((rID)(11000 + 255),3,20))
return 1;
return 0;
};
Lists:
* 18
$"Burning Hands" $"Produce Flame"
$"Wall of Fire" $"Flame Blade"
$"Flaming Sphere" $"Fire Shield";
Desc: "Forged from brass and set with shiny black
      gemstones of unidentifyable quality, this staff
      is said to give a spellcaster authority over the
      power of flame itself. When anyone grasps it,
      they recieve the benefit of the Endurance feat
      and a Cold Resistance of 5. If the bearer is also
      a spellcaster with three or more caster levels,
      she gains access to the spells of <9>burning
      hands<7>, <9>produce flame<7>, <9>wall of fire<7>,
      <9>flame blade<7>, <9>flaming sphere<7> and
      <9>fire shield<7>.";
}
and 2
{ xval: 41; yval: ((((49 + 1) + 32) + 50) + 8); }
and 2
{ xval: 104; yval: 2; pval: 5; }

4 Effect "Winter" : 2
{
xval: 169; yval: 8; pval: 3; Level: 7;
Flags: 55, 93;
On Event 28 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 255),3,20))
return 0;
return 1;
};
Constants:
* 102 +2;
Lists:
* 18
$"Ice Storm" $"Chill Touch"
$"Wall of Ice" $"Cone of Cold"
$"Creeping Cold" $"Blight Plants";
* 12 38;
Desc: "Carved from a beautiful aquamarine crystal and
      adorned with a valuable gemstone of a piercing, clear
      blue hue at each end, the witch who created these
      staves was renowned for her vanity, cruelty and
      haughty disposition. A Staff of Winter acts as a 
      <14>+2 quarterstaff of weakening<7>, and also allows
      anyone with a caster level of three or higher who
      grasps it access to the spells <9>blight plants<7>,
      <9>chill touch<7>, <9>cone of cold<7>, <9>creeping 
      cold<7>, <9>ice storm<7>, and <9>wall of ice<7>.\n
      __The staff also grants such a worthy wielder a +2
      enhancement bonus to Charisma and a +4 enhancement
      bonus to Intimidate, but numbs her ability to 
      understand the feelings of others, granting a -6
      penalty to the Sense Motive skill.\n
      __These staves are Lawful Evil in temperment, and
      using them is an evil act.";
}

4 Effect "the Abyss" : 2
{ 0x00000080; 0x00000008; Level: 12; xval: 169;
Flags: 55, 76, 49, 25, 93;
On Event (28+500) {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(11000 + 0x0004 + 0x0008),5,20))
return 0;
return 1;
};
Lists:
* 18
$"bestow curse" $"burning blood" $"contagion"
$"deeper darkness" $"desecrate"
$"dire charm" $"enervation" $"unholy blight"
$"wall of fire" ;
Desc: "There is no academically credible mortal origin
      for these staves, despite several forged manuscripts 
      claiming to be an ancient wizard's account of inventing
      them. All extant accounts of the creation of these
      blasphemous items -- there are only perhaps a dozen
      in total -- refer to reverse engineering of prior
      principles based on research or observation of an older
      Staff of the Abyss. What is commonly said about these
      items among demonologists is that they are a genius
      triumph of human will over supernatural evil, giving 
      mortal men power over the Abyss itself. But considering
      their conspicious lack of history, holy men wise in the
      ways of demons say the opposite: that the first such
      staff was forged in the Abyss, by the Demon Lords, and 
      that its intent in the long run was not to give men
      power over demons -- but the exact opposite. Demons, 
      after all, understand the ways of men all too well.\n
      __A staff of the Abyss is an inert stick in the hands of
      any good character, or any character with less then five
      levels as an arcane or divine spellcaster -- druids lack
      the abstract ethos to grasp the staff's function. In the
      hands of a non-good caster, however, it grants access to
      the following spells: <9>bestow curse<7>, <9>burning blood<7>,
      <9>cacodaemon<7>, <9>contagion<7>, <9>death knell<7>, 
      <9>deeper darkness<7>, <9>desecrate<7>, <9>dire charm<7>,
      <9>enervation<7>, <9>ensnarement<7>, <9>unholy blight<7>
      and <9>wall of fire<7>.\n
      __Its spells, however, are not nearly its most potent
      ability. It strikes in combat as a <11>+2 vampiric quarterstaff
      of terror<7>, and three times per day its wielder can
      activate it, commanding it to change into a vrock -- an
      inhuman demon that will (seem to) serve him as a loyal
      follower for the duration of the effect if he succeeds
      in an opposed Charisma check with it. If he fails, however,
      the vrock is uncontrolled, and will likely attack the former
      staff-bearer. It is this dangerous ability that has destroyed
      dozens of mages, and even if the caster can dominate the
      demon's personality, another issue remains: if the vrock is
      slain in combat, the staff will consume the very life-essence
      of its bearer in order to re-create the creature, costing him
      7500 experience points permanently.\n
      __Despite these incredible risks, these staves continue to
      turn a brisk trade in the assasins markets and the dark
      circles of necromancers and diabolists."; }
and 46
{ On Event 28 {
hObj hVrock;
if (e.isActivation)
{
EMap->thEnGenMonSummXY($"exact monster", $"vrock",
0x00000004, 36, 0, EActor, e.EXVal, e.EYVal);
hVrock = EMap->GetEncounterCreature(0);
hVrock->GainTempStati(167,EItem,e.vDuration,
2,0,0,$"the Abyss",e.vCasterLev);
hVrock->GainPermStati(79,EItem,7,
(42+2000),0,$"the Abyss",0);
EItem->Remove(false);
DPrint(e, "Your staff transforms into a terrible vulture-demon!",
"The <EActor>'s staff transforms into a terrible vulture-demon!");
EActor->IdentByTrial(EItem);
return 1;
}
return 0;
},
((42+2000)+10000)
{
hObj hCreator;
hCreator = EActor->GetEffStatiObj(
79,$"the Abyss");

hCreator->IPrint("Your Staff of the Abyss devours part of your
          soul to replace the destroyed vrock!");
if (hCreator->isCharacter())
hCreator->LoseXP(7500);
return 0;
};
Constants:
* 102 +2;
Lists:
* 12 32 31;
}
#line "m_items.irh" 3602
9 Effect "Striding and Springing" : 2
{ Flags: 44;
0x00000080; xval: 106; yval: 26; pval: -90; Level: -92; }
and 2
{ xval: 124; yval: 22; pval: -92;
Desc: "When worn, these boots grant a 20~ bonus to your
      movement rate and a +2 magic bonus to your Jump skill per magical
      plus they possess."; }

9 Effect "Evasive Footwork" : 2
{ 0x00000080; xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 27); Level: 3; }
and 2
{ xval: 41; yval: (((49 + 1) + 32) + 44);
Desc: "When worn, these boots grant you the benefit of the Dodge and
      Mobility feats."; }

9 Effect "the Spur" : 2
{ 0x00000008; xval: 79; yval: 19; pval: -93;
Flags: 44; Level: -92;
On Event (19+10000) {
hObj hBoots; int32 bonus;
if (e.AType == 2 && e.DType == 13) {

bonus = EActor->GetEffStatiVal(79,$"the Spur");
e.vHit += bonus;
e.vDmg += bonus*2;
hBoots = EActor->GetEffStatiObj(79,$"the Spur");
if (GetHandle(hBoots) != ((hObj)0) && hBoots->isKnown(0x08))
{
e.strHit += Format(" %+d spur",bonus);
e.strDmg += Format(" %+d spur",bonus*2);
}
}
return 0;
};
Desc: "When kicking while wearing these boots, you recieve a
      magic bonus to the attack roll equal to the boots' magic
      plus, and a magic bonus to the kick's damage equal to twice
      their plus. In addition, they provide a magical bonus to your
      Ride skill equal to two times their plus. Finally, you enjoy the
      benefit of the Overrun feat while mounted.";
}
and 2
{ xval: 124; yval: 40; pval: -92; }
and 2
{ xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 6); }

9 Effect "Elvenkind;boots" : 2
{ 0x00000020; xval: 124; yval: 36;
pval: -91; Flags: 44, 44;
Level: -92;
Desc: "These boots grant you a magic bonus to your Move
      Silently skill rating equal to thrice their magical plus."; }

9 Effect "Thunder" : 3
{ 0x00000002; Level: 3;
aval: 11; lval: 6; qval: 0x0002;
xval: 15; sval: 1; cval: 6;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (ETarget->HasMFlag(12))
return -1;
if (ETarget->HasMFlag(13))
return -1;
if (ETarget->HasAbility(36))
return -1;
if (ETarget->HasStati(127))
return -1;
return 0; },
52 {
if (!e.isWield && !e.isRemove) {
DPrint(e, "You stomp your feet, and the floor shakes violently!",
"The <EActor> stomps <his:EActor> feet, and the floor shakes violently!");
}
return 0;
},
28
"The <EVictim> falls down." /
"You fall down!" /
"The <EVictim> falls down.";
Flags: 48; Purpose: 0x00004;
Desc: "When these powerful magical boots are activated, they cause
      the floor to shake, making every bipedal creature within 60 feet
      of you that fails a Reflex saving throw fall down and become
      Prone."; }

9 Effect "Levitation;boots" : 2
{ 0x00000002; xval: 127; yval: 2; pval: 2;
Flags: 67; Level: 3; }
and 2
{ xval: 117; yval: 50; pval: -2; }
and 2
{ xval: 117; yval: 55; pval: -3; }
and 2
{ xval: 117; yval: 26; pval: -10;
Desc: "These boots cause you to levitate when worn, duplicating
      the effects of the <9>Levitation<7> spell."; }

9 Effect "Phasing" : 2
{ 0x00000100; Flags: 67;
xval: 39; yval: 61; pval: 2;
Level: 14;
Desc: "These boots grant you the ability to phase in and out
      of the ethereal plane, which can be accessed with the Use
      Special Ability ('u') command.";
On Event 84, 74 {
EActor->RemoveStati(102);
return 0;
};
}



9 Effect "Tripping and Stumbling" : 2
{ 0x00000080; Level: 6; Flags: 2;
xval: 106; yval: 26; pval: -10; }
and 2
{ xval: 79; yval: (19+1000); pval: 2;
On Event ((19+1000)+10000) {
if (random(10))
return 0;
if (EActor->isFlatFooted())
return 0;
if (EActor->HasStati(15))
return 0;
DPrint(e,"You trip and fall!",
"The <EActor> trips and falls!");
EActor->IdentByTrial(EActor->GetEffStatiObj(-1,$"Tripping and Stumbling"),0);
EActor->GainPermStati(15,NULL,7);
return 1;
};
Desc: "These cursed boots reduce your movement rate by -50~, and
      cause you to trip (and thus become Prone) at random times when
      trying to attack in combat.";
}
#line "m_items.irh" 3751
10 Effect "Archery" : 2
{ 0x00000008; xval: 109; yval: 12; pval: -93;
Level: -80; Flags: 44; }
and 2
{ 0x00000008; xval: 109; yval: 20; pval: -93;
Desc: "This item gives you a competance bonus to hit and damage
       equal to its plus when firing a bow, crossbow or sling
       (or any other launcher that fires a missile, e.g. a blowpipe)."; }

7 Effect "the Powerful Grip" : 2
{ 0x00000080; xval: 41; yval: ((((((49 + 1) + 32) + 50) + 38) + 30) + 28); Level: 3; }
and 2
{ xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Desc: "This item gives you supernaturally strong arms and wrists,
      granting you the benefits of the Monkey Grip and Power Attack
      feats."; }

10 Effect "the Dervish" : 2
{ 0x00000080; xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12); Level: 6; }
and 2
{ 0x00000080; xval: 41; yval: ((49 + 1) + 7); }
and 2
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 11);
Desc: "These bracers gives you supernaturally skilled arms, granting you the
     benefits of the Two-Weapon Style, Ambidexterity and Twin Weapon Style
     feats."; }

10 Effect "Blinding Strikes" : 2
{ 0x00000080; Flags: 44;
xval: 117; yval: 54; pval: -72;
Level: -72; }
and 2
{ xval: 117; yval: 50; pval: -92;
Desc: "These powerful magical items give you a 5~ circumstance bonus to
      your attack speed, plus 10~ per plus they possess, as well as a +2
      circumstance bonus to all attack rolls you make per plus they
      possess."; }

10 Effect "Missile Deflection" : 2
{ 0x00000001; Flags: 67;
xval: 41; yval: (((49 + 1) + 32) + 30); Level: 1;
Desc: "These bracers bestow upon you the benefit of the Deflect
      Arrows feat, even if you do not meet the prerequisites for
      gaining that feat normally."; }

10 Effect "Neutralization" : 2
{ 0x00000001; Level: 10;
xval: 177; yval: 3;
Desc: "These legendary bracers grant you a total immunity to
      damage from acid when worn."; }

10 Effect "Grounding" : 2
{ 0x00000001; Level: 10;
xval: 177; yval: 4;
Desc: "These legendary bracers grant you a total immunity to
      damage from lightning or electricity when worn."; }

10 Effect "Defense" : 2
{ 0x00000001; Level: -92; Flags: 44;
xval: 106; yval: 27; pval: -93;
Desc: "These bracers improve your defense class and coverage with a magic
      bonus equal to the magical plus they possess."; } and 2
{ xval: 106; yval: 39; pval: -92; }

10 Effect "Killing Hands" : 2
{ 0x00000080; Level: -92; Flags: 44;
xval: 106; yval: 13; pval: -93; } and 2
{ 0x00000080;
xval: 106; yval: 21; pval: -93;
Desc: "These increase your hit rolls and the damage you inflict when
    making unarmed attacks by two points per plus. In addition, your
    unarmed strikes count as magical weapons with a plus equal to this
    item's plus. This is a magic bonus.";
} and 2
{ 0x00000080; xval: 39; yval: 48; pval: -93; }

10 Effect "Vulnerability" : 2
{ 0x00000008; xval: 106; yval: 27; pval: -92;
Flags: 2, 44; Level: -93;
Desc: "These cursed bracers reduce your defense class by two
      points per magical plus they possess."; }

Item "springblade" : 58
{ Image: gray '('; Group: 0x00000004;
Mat:11; Size: 3; Weight: 30;
Cost: 9 1; Parry: 4;
SDmg:1d6; LDmg:1d6+1; Acc: +1; Crit: x2; Threat: 3; Spd: 130%;
Flags: 17, 26, 27, 1;
On Event (20+500) {
if (EItem->HasEffStati(188,$"Springblade Bracers"))
{ e.isFlatFoot = true;
EActor->IPrint("Springblade effect!");
EItem->RemoveEffStati($"Springblade Bracers"); }
return 0;
};
}

10 Effect "Springblade Bracers" : 46
{ 0x00000002; 0x00000008; Level: 3;
Flags: 20, 48, 66, 33;
Desc: "These crafty mechanical bracers are favored by gnomes
      and assasins. Mounted carefully inside them are two spring-loaded
      telescoping mithril blades, that when fully extended are not
      unlike those of a short sword. Activating the bracers causes
      the blades to snap out; this takes no time, but does require
      a Handle Device check (DC 15). The blades can be retracted
      by using the Cancel Standing Power ('x') command. Rogues use
      these weapons because they often allow them to get in a
      second sneak attack after a fight has begun -- the first
      attack made with a springblade within a single round of their
      deployment automatically treats a foe as flat-footed.\n
      __This particular set of springblade bracers contains a pair
      of <11>+2 keen springblades<7>.";
On Event 28 {
hObj hBlade1, hBlade2; int32 count;
EActor->Timeout = 0;
if (EActor->HasStati(170))
{
EActor->IPrint("You're already loaded!");
return 1;
}

hBlade1 = EItem->GetEffStatiObj(189,
$"Springblade Bracers");
hBlade2 = EItem->GetEffStatiObj(190,
$"Springblade Bracers");

if (!(hBlade1 || hBlade2))
{
EActor->IPrint("Both the blades in these bracers have been
            destroyed. They're useless now.");
return 1;
}

count = 0;
if (hBlade1)
{
EActor->GainTempStati(170,hBlade1,-2,
7,2,0, $"Springblade Bracers");
hBlade1->RemoveStati(188);
hBlade1->GainTempStati(188,NULL,2,
7,0,0, $"Springblade Bracers");
count++;
}

if (hBlade2 && (EActor->HasFeat((((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12)) ||
!hBlade1))
{
EActor->GainTempStati(170,hBlade2,-2,
7,1,0, $"Springblade Bracers");
hBlade2->RemoveStati(188);
hBlade2->GainTempStati(188,NULL,2,
7,0,0, $"Springblade Bracers");
count++;
}

if (count == 2)
DPrint(e,"Gleaming blades snap out of your bracers!",
"Gleaming blades snap out of the <EActor>'s wrists!");
else
DPrint(e,"A gleaming blade snaps out of one of your bracers!",
"A gleaming blade snaps out of the <EActor>'s wrist!");
return 1;
},
31 {
EActor->RemoveEffStati($"Springblade Bracers");
return 0;
},
150 {
hObj nhBlade1, nhBlade2; int32 type;

nhBlade1 = CreateItem($"springblade");
nhBlade2 = CreateItem($"springblade");
type = 1d6;

switch (type)
{
case 1:
nhBlade1->SetInherantPlus(2);
nhBlade1->AddQuality(13);
nhBlade2->SetInherantPlus(1);
nhBlade2->AddQuality(13);
break;
case 2:
nhBlade1->SetInherantPlus(3);
nhBlade2->SetInherantPlus(3);
break;
case 3:
nhBlade1->SetInherantPlus(2);
nhBlade1->AddQuality(7);
nhBlade2->SetInherantPlus(2);
nhBlade2->AddQuality(9);
break;
case 4:
nhBlade1->SetInherantPlus(2);
nhBlade1->AddQuality(8);
nhBlade2->SetInherantPlus(1);
nhBlade2->AddQuality(53);
break;
case 5:
nhBlade1->SetInherantPlus(1);
nhBlade1->AddQuality(47);
nhBlade1->GainPermStati(2,NULL,7,
0,0, $"lich dust");
nhBlade2->SetInherantPlus(3);
break;
case 6:
nhBlade1->SetInherantPlus(1);
nhBlade1->AddQuality(37);
nhBlade2->SetInherantPlus(1);
nhBlade2->AddQuality(38);
break;
}
EActor->GainPermStati(189,nhBlade1,7, type, 0, $"Springblade Bracers");
EActor->GainPermStati(190,nhBlade2,7, type, 0, $"Springblade Bracers");
return 0;
},
163 {
switch(EActor->GetEffStatiVal(-1,$"Springblade Bracers"))
{
case 1: e.nAppend += " (+2 keen/+1 keen)"; break;
case 2: e.nAppend += " (+3/+3)"; break;
case 3: e.nAppend += " (+3 flame/+2 frost)"; break;
case 4: e.nAppend += " (+2 shock/+1 pain)"; break;
case 5: e.nAppend += " (+1 venom/+3)"; break;
case 6: e.nAppend += " (+1 weakening/+1 numbing)"; break;
default: e.nAppend += " (broken)"; break;
}
return 0;
};
}
#line "m_items.irh" 3991
7 Effect "Fumbling" : 2
{ 0x00000080; xval: 106; yval: 1; pval: -93;
Flags: 2, 44; Level: -93;
Desc: "These cursed gauntlets apply their magical plus as a 
      penalty to your Dexterity score."; }

7 Effect "Rust;gauntlet" : 2
{ 0x00000001; Level: 2; xval: 177; yval: 39; }
and 2
{ 0x00000001; Level: 2; xval: 177; yval: 57; }
and 2
{ xval: 177; yval: 74;
Desc: "This magical item grants you total immunity to rust
    attacks (such as those from a Rust Monster or rust trap), water
    splashes (such as those from a Water Elemental or deep water) and
    organic decay attacks (such as those from a Bornw Pudding or a decay
    trap)."; }
and 46
{ aval: 6;
xval: 39; pval: 8d6; Purpose: 0x00001;
cval: 5; Flags: 71, 49,
76;
#line "m_items.irh" 4015
On Event 155 {
hObj h;
if (h = ETarget->InSlot(2))
if (h->Material() == 11)
return 1;
if (h = ETarget->InSlot(9))
if (h->Material() == 11)
return 1;
if (h = ETarget->InSlot(15))
if (h->Material() == 11)
return 1;
if (h = ETarget->InSlot(17))
if (h->Material() == 11)
return 1;
return -1;
},
206
"Your gauntlets glow with a russet aura!" /
"The <EActor>'s gauntlets glow with a russet aura!";
}

7 Effect "Lightning;gauntlets" : 2
{ 0x00000010; xval: 79; yval: (20+1000);
Level: -92; Flags: 44;
On Event ((20+1000)+10000) {
hObj gl; gl = EActor->InSlot(15);
if (!((e.AType) > 0 && (e.AType) <= 29) || (!gl))
return 0;
EActor->IDPrint("Your gauntlets crackle!",
"The <hObj>'s gauntlets crackle!",EActor);
ThrowDmg(41,4,(gl->GetInherantPlus())d4,"lightning gauntlets",EActor,EVictim);
EActor->IdentByTrial(gl);
};
Desc: "When you make a natural attack (e.g., a punch, a kick, a claw
    attack) against a creature, these inflict 1d4 points of bonus
    electrical damage on the victim per magical plus they possess.";
}

7 Effect "Legerdemain" : 2
{ 0x00000080; xval: 41; yval: ((((49 + 1) + 32) + 50) + 17); Level: 2;
Desc: "This magical item grants its wearer the benefits of the Faster
    Then The Eye feat, allowing for rapid item shuffling and looting. In 
    addition, it allows its wearer to detect all chests within 300 feet 
    (30 squares)."; }
and 2 { xval: 153; yval: 26; pval: 30; }

7 Effect "Nimble Fingers" : 2
{ 0x00000002; xval: 124; yval: 38;
pval: -92; Flags: 44;
Level: -92;
Constants:
* 101 $"gloves";
Desc: "These fine black gloves improve your Handle Devices, Lockpicking 
      and Pick Pockets skill with a magic bonus equal to twice their plus."; }
and 2 { xval: 124; yval: 33; pval: -92; }
and 2 { xval: 124; yval: 16; pval: -92; }
#line "m_items.irh" 4076
13 Spell "Identify;ring" : 46
{ 0x00000004; Level: 1; qval: 0x0008; Purpose: 0x00000;
Flags: 40, 41, 45, 76,
48;
Desc: "This ring identifies the basic magical nature of one chosen
      item when activated; it can be used thus three times per day.";
On Event
13 {
EActor->IPrint("The ring self-identifies!");
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
Lists:
* 25 2500;
}

13 Spell "Greater Ring of Identify" : 46
{ 0x00000004; Level: 5; qval: 0x0008; Purpose: 0x00000;
Flags: 40, 41, 45, 77,
20, 48;
Desc: "This ring identifies the basic magical nature of one chosen
      item when activated; it can be used thus seven times per day.";
On Event
13 {
EActor->IPrint("The ring self-identifies!");
EActor->IdentByTrial(EItem);
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
Lists:
* 25 8000;
}

13 Effect "Evasion" : 2
{ 0x00000080; xval: 39; yval: 31; pval: +4;
Level: 5;
Desc: "This ring grants you four levels of the Evasion ability (as
      the rogue and monk class feature), or improves any existing Evasion 
      ability you may have by four levels. Evasion allows you to dodge
      spell blasts if you are wearing light armor or no armor and you
      make a successful Reflex save. If you dodge a spell that allows a
      saving throw you take no damage. If the spell does not normally
      allow a saving throw, you take half damage."; }

13 Effect "Infravision;ring" : 2
{ 0x00000080; xval: 39; yval: 42; pval: +6;
Level: 1;
Desc: "This ring grants you Infravision to a range of 60 feet, or
      improves the range of your existing Infravision by 60 feet."; }
#line "m_items.irh" 4152
13 Effect "the Imp" : 9
{ 0x00000100; rval: $"true imp"; pval: 2; Level: 1; Purpose: 0x00100;
Flags: 48, 95, 55, 22, 25,
76;
Desc: "This elegant, sharp-edged ring serves as a planar prison
      for an imp, holding the creature within it until its wearer
      summons it by activating the ring. The service of the imp is
      truly eternal -- if it is slain, it reforms after a day's 
      rest inside the ring, and it heals fully when resting inside 
      the ring.";
On Event 214
"The imp isn't currently in the ring.",
74
"The imp returns to the ring.",
(28+1000) {
hObj hImp;
hImp = EMap->GetEncounterCreature(0);
if (hImp != NULL)
hImp->GainPermStati(79,EItem,7,
((42+2000)+1000), 0, $"the Imp", e.vCasterLev);
return 0;
},
(52+500) {
if (EItem->HasEffStati(72,$"the Imp"))
{
EActor->IPrint("The imp is still recovering after being killed.");
return 2;
}
return 0;
},
(((42+2000)+1000)+10000) {
hObj hRing;
if (!EVictim->isDead())
return 0;
hRing = EVictim->GetEffStatiObj(79,$"the Imp");
hRing->GainTempStati(72,NULL,-1,7, 0, 0, $"the Imp");
return 0;
};
}

13 Effect "Ring, Djinn Prison" : 9
{ 0x00000100; rval: $"djinni"; pval: 8; Level: 7; Purpose: 0x00100;
Flags: 48, 95, 25, 76, 20;
Desc: "This finely crafted Arabic ring serves as a planar prison
      for djinn, holding the creature within it until its wearer
      summons it by activating the ring. The service of the djinni is
      truly eternal -- if it is slain, it reforms after a day's 
      rest inside the ring, and it heals fully when resting inside 
      the ring.";
On Event 214
"The djinni isn't currently in the ring.",
74
"The djinni returns to the ring.",
(28+1000) {
hObj hImp;
hImp = EMap->GetEncounterCreature(0);
if (hImp != NULL)
hImp->GainPermStati(79,EItem,7,
((42+2000)+1000), 0, $"Ring, Djinn Prison", e.vCasterLev);
return 0;
},
(52+500) {
if (EItem->HasEffStati(72,$"Ring, Djinn Prison"))
{
EActor->IPrint("The djinni is still recovering after being killed.");
return 2;
}
return 0;
},
(((42+2000)+1000)+10000) {
hObj hRing;
if (!EVictim->isDead())
return 0;
hRing = EVictim->GetEffStatiObj(79,$"Ring, Djinn Prison");
hRing->GainTempStati(72,NULL,-1,7, 0, 0, $"Ring, Djinn Prison");
return 0;
};
}


13 Effect "Mind Shielding" : 2
{ 0x00000001; xval: 106; yval: 30; pval: -92;
Flags: 44; Level: -92;
Desc: "This ring shields you from unnatural mental influences, giving
      you a magic bonus to your Will saving throw equal in magnitude to
      twice times its plus. In addition, it sustains the wearer's
      Intelligence and Wisdom. Finally, the wearer cannot be sensed by
      telepathy."; } and 2
{ xval: 125; yval: 3; pval: -92; } and 2
{ xval: 125; yval: 4; pval: -92; } and 2
{ xval: 211; yval: 0x0080; }

13 Effect "Water Walking;ring" : 2
{ 0x00000020; xval: 130; pval: 1; Level: 4;
Desc: "This ring allows you to walk upon water as if it were a
      solid surface when worn, avoiding the effects of getting wet
      or drowning."; }

13 Effect "Climbing" : 2
{ 0x00000080; xval: 124; yval: 7; pval: -91;
Flags: 44; Level: -92;
Desc: "When worn, this ring grants you a magic bonus to your
      Climbing skill equal to three times its plus."; }

13 Effect "the Chameleon" : 2
{ 0x00000080; xval: 124; yval: 18; pval: -91;
Flags: 44; Level: -92;
Desc: "This ring causes your image to shift color to match the
      surrondings, giving you a magic bonus to your Hide skill equal
      to thrice its level of enchantment. In addition, it may be
      used to dominate any one nearby reptile three times per day."; }
and 2
{ 0x00000008; xval: 137; yval: 4; Level: -91;
tval: 51; aval: 11; qval: 0x0004;
Flags: 49, 4, 25, 69, 76;
sval: 2; }

13 Effect "Animal Kinship" : 2
{ 0x00000080; xval: 124; yval: 2; pval: -92;
Flags: 44; Level: -92;
Desc: "This ring bestows a supernatural kinship to animals,
      improving your Animal Empathy skill by twice its level of
      enchantment. At +3 or higher, it will allow you to use the
      skill even if you have no ranks in it. In addition, true
      animals will always be initially neutral to you."; }
and 2
{ xval: 214; yval: 2; }

13 Effect "Jumping" : 2
{ 0x00000080; xval: 124; yval: 22; pval: -91;
Flags: 44; Level: -92;
Desc: "When worn, this ring grants you a magic bonus to your
      Jumping skill equal to three times its plus."; }

13 Effect "Invisibility;ring" : 3
{ 0x00000020; xval: 100; yval: 1; pval: -90;
Flags: 25, 48, 76; Level: 7;
Desc: "This ring renders the wearer invisible for a brief period
      when it is activated, subject to the same limitations as the
      <9>invisibility<7> spell. It can be used in this manner three 
      times per day."; }
#line "m_items.irh" 4317
13 / 37 Effect "Penetrating Sight" : 2
{ 0x00000004; xval: 141; yval: 1; pval: -92;
Level: -67; Flags: 44;
Desc: "This item allows its wearer to see through solid matter,
      percieving all things within 20 feet per magical plus it
      possesses, even if they would normally be obstructed by a
      wall or other barrier."; }

13 / 27 Effect "Channeling" : 2
{ 0x00000100; xval: 106; yval: 37; pval: -90;
Flags: 44; Level: -91;
Desc: "This item augments a character's natural reserve of magical
      energy, increasing the size of her mana pool by 20 points per
      plus it possesses."; }

14 / 37 Effect "See Invisible" : 2
{ 0x00000004; xval: 101; Level: 1;
Desc: "Wearing this allows a character to see invisible creatures
      and objects clearly, as if they were not invisible."; }

13 Effect "Regeneration" : 2
{ 0x00000080; xval: 39; yval: 66; pval: -92;
Level: -67; Flags: 44;
Desc: "This item causes a character to constantly and rapidly heal
      any wounds they suffer, with the rate at which hit points are
      recovered being determined by the ring's magical plus."; }

13 Effect "the Ram" : 1
{ 0x00000010; Cost: 5; xval: 13; pval:(-93)d10; cval: 15;
aval: 1; qval:0x0001 | 0x0004; sval: 1 Partial; Flags: 48;
Purpose: 0x00001; Level: -92; Flags: 44, 76;
Desc: "This ring can project a blast of concussive force shaped vaguely
      like a ghostly ram's head when activated, inflicting 1d10 points of
      blunt damage per magical plus. The bolt may also knock its victim
      back, and if the victim fails a Reflex save for half damage, it is
      also stunned. This effect can be used three times per day."; }
and 1
{ xval: 61; pval: (-93)d2; sval: 1 partial; aval: 1; }
and 3
{ xval: 5; sval: 1; Flags: 24; aval: 1;
On Event 200 "ram-shaped force construct"; }

13 Effect "Polymorphing" : 32
{ 0x00000080; lval: 50; Flags: 1; Level: 3;
Flags: 3;
Desc: "When worn, this ring causes a wearer to randomly shapeshift 
      into a different type of creature at regular intervals."; }

13 Effect "Spell Disruption" : 2
{ 0x00000008; xval: 106; yval: 55; pval: -10; Flags: 2;
Level: 3;
Desc: "This accursed ring inhibits spellcasting, inflicting a
      -50~ penalty to all spell success chances."; }

13 Effect "Weakness;ring" : 2
{ 0x00000080; xval: 106; yval: 0; pval: -6; Flags: 2;
Level: 0;
Desc: "This cursed ring weakens its wearer, granting a -6 magic
      penalty to her Strength."; }

13 Effect "Ignorance" : 2
{ 0x00000008; xval: 106; yval: 3; pval: -6; Flags: 2;
Level: 0;
Desc: "This cursed ring stunts its wearer's intellect, granting
      a -6 magic penalty to her Intelligence."; }


13 Effect "Free Action;ring" : 2
{ 0x00000001; xval: 177; yval: 18; Level: 3;
Desc: "This item grants its wearer supernatural freedom of movement, rendering 
      her immune to paralysis, petrification, slowing, entangling and similar 
      impediments."; }
and 2 { xval: 177; yval: 14; }
and 2 { xval: 177; yval: 25; }
and 2 { xval: 177; yval: 19; }

13 Effect "Aggravate Monster" : 2
{ 0x00000008; xval: 215; yval: -1; Flags: 2; Level: 0;
Desc: "This cursed item causes all monsters to be hostile to the wearer
    by default.";
}

13 Effect "Elemental Command (Air)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The air ring was given to...\n
      __The Ring of Elemental Command (Air) carries several benefits.
      Air elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of air (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command air
      creatures as an Air priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also duplicates the
      effects of a Ring of Feather Falling.\n
      __The bearer of the ring of air does suffer a minor curse among all
      the benefits, however, suffering a -4 penalty to saving throws
      versus knockdown or knockback.\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental air: <9>wind column<7>, <9>gust of wind<7>,
      <9>wind wall<7>, <9>air walk<7>, <9>cloudkill<7> and <9>chain
      lightning<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(93))
return 0;

e.strHit += " -2 EC(Air)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,93);
EVictim->GainPermStati(35,EItem,1, 93,
max(10,clev+5), $"Elemental Command (Air)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"gaseous form" $"gust of wind" $"wind wall"
$"air walk" $"cloudkill"
2 $"chain lightning";
}
and 2
{ xval: 39; yval: 77; pval: 1; }
and 2
{ xval: 123; yval: 20; pval: -4; }

13 Effect "Elemental Command (Earth)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The earth ring was given to...\n
      __The Ring of Elemental Command (Earth) carries several benefits.
      Earth elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of earth (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command earth
      creatures as an Earth priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also sustains its
      wearer's Strength and Constitution.\n
      __The bearer of the ring of air does suffer a minor curse among all
      the benefits, however, suffering a -4 penalty to saving throws
      versus petrification.\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental earth: <9>soften stone<7>, <9>stone tell<7>,
      <9>stoneskin<7>, <9>meld into stone<7>, <9>wall of stone<7> and 
      <9>tremor<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(94))
return 0;

e.strHit += " -2 EC(Earth)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,94);
EVictim->GainPermStati(35,EItem,1, 94,
max(10,clev+5), $"Elemental Command (Earth)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"meld into stone" $"stoneskin" $"soften stone"
$"tremor" $"wall of stone" $"stone tell";
}
and 2
{ xval: 125; yval: 0; pval: 10; }
and 2
{ xval: 125; yval: 2; pval: 10; }
and 2
{ xval: 123; yval: 7; pval: -4; }

13 Effect "Elemental Command (Fire)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The fire ring was given to...\n
      __The Ring of Elemental Command (Fire) carries several benefits.
      Fire elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of fire (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command fire
      creatures as a Fire priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also grants its
      wearer a Fire Resistance of 10.\n
      __The bearer of the ring of fire does suffer a minor curse among all
      the benefits, however, suffering 150~ damage from all cold-based
      attacks (before resistance).\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental fire: <9>burning hands<7>, <9>flaming sphere<7>,
      <9>pyrotechnics<7>, <9>wall of fire<7>, <9>flame strike<7> and 
      <9>flame blade<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(95))
return 0;

e.strHit += " -2 EC(Fire)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,95);
EVictim->GainPermStati(35,EItem,1, 95,
max(10,clev+5), $"Elemental Command (Fire)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"burning hands" $"flaming sphere" $"pyrotechnics"
$"wall of fire" $"flame blade"
2 $"flame strike";
}
and 2
{ xval: 104; yval: 1; pval: 12; }
and 2
{ xval: 79; yval: (41+2000);
On Event ((41+2000)+10000) {
if (e.DType = 2)
e.vDmg = (e.vDmg * 3) / 2;
return 0;
};
}

13 Effect "Elemental Command (Water)" : 2
{ 0x00000010; 0x00000100; 0x00000002; Level: 14;
xval: 79; yval: (19+2000);
Desc: "Legends claim that D'Salyn, the mouth of the Elder
      Elemental Eye and the one of the eldest of the 13 mage-kings,
      crafted four rings to give to his most senior warlords, each
      of which offered unearthly power in the form of near-absolute
      domination over one of the four basic elements: earth, air,
      fire and water.\n
      __The water ring was given to...\n
      __The Ring of Elemental Command (Water) carries several benefits.
      Water elementals cannot attack the wearer unless they succeed at
      a Will saving throw (DC 10 + 1/2 the wearer's level + the wearer's
      Charisma modifier). All creatures with ties to the elemental plane
      of water (including elementals who make the save) attack the ring
      bearer at a -2 penalty. The wearer gains the ability to command water
      creatures as a Water priest of 12th level, or augments their existing
      ability by +6 -- whichever is superior. The ring also grants its
      wearer the ability to breath water.\n
      __The bearer of the ring of water does suffer a minor curse among all
      the benefits, however -- suffering a -4 penalty to saving throws
      against poison.\n
      __Finally, the bearer is granted access to several staff-spells
      related to elemental fire: <9>water walking<7>, <9>part water<7>,
      <9>wall of ice<7>, <9>ice storm<7>, <9>create water<7> and 
      <9>waterspout<7>. The wearer of the ring may make use of these spells
      even if she has no spellcasting ability of her own, per the normal
      rules and restrictions of staff-spells.";
On Event ((19+2000)+10000) {
hObj hRing;
if (!EActor->isMType(92))
return 0;

e.strHit += " -2 EC(Water)";
e.vHit -= 2;

if (!EActor->isMType(38))
return 0;

if (EActor->SavingThrow(2, 10 + EVictim->ChallengeRating() / 2 +
EVictim->Mod(5),0x00000001|0x00008000))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;

DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28 {
int32 clev;
if (e.isWield && e.efNum == 0)
{
clev = EVictim->GetStatiMag(35,92);
EVictim->GainPermStati(35,EItem,1, 95,
max(10,clev+5), $"Elemental Command (Water)", e.vCasterLev);
}
return 0;
};
}
and 2
{ xval: 169;
Lists:
* 18
1 $"create water" $"water walking" $"waterspout"
$"wall of ice" $"ice storm" $"part water";
}
and 2
{ xval: 132; }
and 2
{ xval: 123; yval: 8; pval: -4; }
#line "m_items.irh" 4735
13 Effect "Item Preservation" : 2
{ 0x00000008; 0x00000100; Level: 2; Purpose: 0x00010;
xval: 79; yval: ((42+2000)+1000);
#line "m_items.irh" 4750
Desc: "These rings are highly valued by merchants, especially
      those who sell valuable magical items. Their enchantment is
      simple -- upon the death of the wearer, or if the wearer is
      rendered unconscious or paralyzed, they transport any items 
      the wearer carries into a specially prepared extradimensional 
      space. These items can later be retrieved by the merchant guild 
      or family the merchant works for using powerful magical rituals.
      Thus, they serve as powerful deterrants to those who would
      murder merchants and shop-keepers in order to loot the goods
      from their bodies.\n
      __Powerful NPC adventurers also sometimes wear these rings as
      deterrants against theft-by-murder, and to preserve their
      items for their (hopeful) ressurection. However, they aren't as
      useful to player characters, who typically don't belong to 
      the powerful guilds that have the means to recover the items
      sequestered by the ring's magic.";
}
#line "m_items.irh" 4889
14 Effect "Natural Armor" : 2
{ xval: 118; yval: 17; pval: -92;
Flags: 44; Level: -91;
Desc: "This amulet grants its wearer a natural armor rating of
      twice its magical plus against slashing, piercing and blunt
      damage."; }

14 Effect "Strangulation" : 2
{ 0x00000002; xval: 79; yval: 32; tval: 75;
Flags: 2, 67; Level: 0;
On Event (32+10000) {
ThrowDmg(41,0,1d8,"strangulation",EActor,EActor);
return 0;
};
On Event 83
"The amulet's cord tightens around your neck!" /
"The amulet's cord tightens around the <EVictim>'s neck!";
Desc: "This twisted amulet begins to strangle its wearer as soon
      as it is put on, inflicting 1d8 points of damage per turn until
      it is removed.";
}

14 Effect "Radiance" : 46
{ 0x00000010; Flags: 67 | 44;
lval: -76;
Level: -78;
aval: 9; rval: 0x00000080; cval: 14;
On Event 83
"The amulet emits a great radiance!" /
"The <EActor>'s amulet emits a great radiance!";
Desc: "This amulet emits a brilliant aura of golden light, illuminating
      an area 50 feet (5 squares) in radius around its wearer, plus 10 feet
      (1 square) per magical plus."; }

14 Effect "Life Protection" : 2
{ xval: 104; yval: 6; pval: -90; Flags: 44; }
and 2
{ xval: 123; yval: 5; pval: -92; Level: -92;
Desc: "This item shields its wearer from negative energy, granting
      four levels of necromantic damage resistance and a +2 bonus to save
      versus death effects per magical plus it is imbued with."; }

14 Effect "Amulet versus Undead" : 2
{ xval: 33; yval: 76; pval: -92;
On Event 28 {
e.vDmg = max(e.vDmg,EActor->HighStatiMag(
33,76) + EItem->GetPlus());
};
Desc: "This sacred amulet grants you the power to turn undead
      as a priest of a level equal to twice its plus, or adds its
      plus to your existing priest level for turning purposes --
      whichever grants a greater benefit.";
Level: -70; Flags: 20;
}

14 Effect "Periapt of Wound Closure" : 2
{ xval: 79; yval: (45+1000);
On Event ((45+1000)+10000) {
EActor->cHP = EActor->mHP + EActor->GetAttr(36);
return 0;
},
(((20+2000)+1000)+10000) {
EVictim->RemoveStati(12);
return 0;
};
Desc: "This powerful item stops bleeding, removes infections and
      speeds healing, such that all of your wounds heal fully over
      the course of a single night's rest.";
Level: 6; Flags: 20;
}
and 2
{ xval: 79; yval: ((20+1000)+2000); }

14 Effect "Medallion of ESP" : 2
{ 0x00000004; xval: 39; yval: 91; pval: 3d1+-91;
Level: -78; Flags: 20 | 44;
Desc: "This amulet grants its wearer telepathic awareness, gifting
      her with the ability to sense all creatures with minds within
      30 feet (3 squares), plus 30 feet per magic plus, of her."; }

14 Effect "Medallion of Mental Domination" : 3
{ xval: 137; yval: 4; sval: 2; qval: 0x0004;
Flags: 44, 48, 71,
20, 25, 34, 77;
Level: -68;
On Event 155 {
if (!EVictim->isCreature())
return -1;
if (!EVictim->isMType(75))
return -1;
if (EVictim->isPlayer())
return -1;
return 1;
},
83 {
if (EVictim->ChallengeRating() > EItem->GetPlus()*2)
{
e.Immune = true;
return 1;
}
return 0;
};
Desc: "This amulet allows its owner to psychically control creatures
      of challenge ratings equal to twice its bonus, provided they fail
      a Will saving throw.";
On Event 28
"You sieze control of the <EVictim>'s mind!" /
"The <EActor> siezes control of your mind!" / "",
74
"You shake off the effect of the domination." /
"The <EActor> shakes off the effect of the domination.";

}

14 Effect "Periapt of Health" : 2
{ xval: 177; yval: 27; Level: 5;
Desc: "This polished ivory periapt renders its wearer completely
      immune to diseases of all types."; Flags: 20; }
#line "m_items.irh" 5023
33 Effect "Dwarvenkind" : 2
{ xval: 124; yval: 35; pval: -92; }
and 2
{ 0x00000008; xval: 39; yval: 87; pval: -92; }
and 2
{ xval: 106; yval: 2; pval: -92;
Flags: 67 | 44; Level: -91;
Desc: "This sturdy item conveys or augments many of the inborn talents
    of the dwarven people to the wearer: a sense for stonework, skill with
    mining and a superior bodily constitution."; }

13 Effect "the Kobolds" : 2
{ 0x00000008; xval: 39; yval: 31; pval: -93; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 3; pval: -93; }
and 2
{ xval: 123; yval: 8; pval: -93;
Flags: 67 | 44; Level: -91;
Desc: "This twisty ring conveys or augments many of the inborn talents
    of the kobold race to the wearer: evasion, a bonus to save vs. poison 
    and a crafty, slippery nature."; }

13 Effect "the Gnomes" : 2
{ xval: 124; yval: 47; pval: -92; }
and 2
{ xval: 124; yval: 35; pval: -92; }
and 2
{ xval: 106; yval: 3; pval: -92; }
and 2
{ xval: 39; yval: 71; pval: -93;
Flags: 67 | 44; Level: -91;
Desc: "This tinkered item conveys or augments many of the inborn talents
    of the gnomish race to the wearer: an eager mind, a sensitive nose and
    a knack for mining and magical devices."; }

13 Effect "Elvenkind;ring" : 2
{ 0x00000008; xval: 39; yval: 73; pval: -92; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 4; pval: -93; }
and 2
{ xval: 177; yval: 16; pval: -93; }
and 2
{ xval: 39; yval: 68; Flags: 67 | 44; Level: -91;
Desc: "This graceful item conveys or augments many of the inborn talents
    of the elven people to the wearer: grace and foresight, probing eyes
    and an immunity to sleep magics." ; }

37 Effect "Drow Kinship" : 2
{ xval: 106; yval: 18; pval: -89; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 3; pval: -93; }
and 2
{ xval: 39; yval: 42; pval: -92;
Flags: 67 | 44; Level: -91;
Desc: "This graceful set of lenses conveys or augments many of the inborn talents
    of the drow people to the wearer: grace and cunning, a resistance to
    magic and unparalled infravision." ; }

29 Effect "the Hin" : 2
{ xval: 124; yval: 46; pval: -92; }
and 2
{ 0x00000008; xval: 39; yval: 88; pval: -93; }
and 2
{ xval: 106; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 6; pval: -93;
Flags: 67 | 44; Level: -91;
Desc: "This comfortable item conveys or augments many of the inborn
    talents of the halflings to the wearer: agility, luck and a resistance 
    to ability damage." ; }

33 Effect "the Lizardfolk" : 2
{ 0x00000008; xval: 39; yval: 1; pval: -93; }
and 2
{ xval: 106; yval: 0; pval: -93; }
and 2
{ xval: 106; yval: 2; pval: -93; }
and 2
{ xval: 104; yval: 1; pval: -89;
Flags: 67 | 44; Level: -91;
Desc: "This scaled belt conveys or augments many of the inborn talents
    of the lizardfolk to the wearer: a racial memory, resistance
    to fire and a bit of power and endurance."; }

8 Effect "Orcsblood" : 2
{ xval: 106; yval: 0; pval: -93; }
and 2
{ xval: 106; yval: 4; pval: -93; }
and 2
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 67 | 44; Level: -91;
Desc: "This ugly item conveys or augments many of the inborn talents
    of the orcish race to the wearer: superior strength, additional willpower
    and legendary Toughness."; }

33 Effect "Fortification" : 2
{ 0x00000080; xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 2); Level: 2; }
and 2
{ xval: 39; yval: 117; pval: +1; }
and 2
{ xval: 41; yval: ((((49 + 1) + 32) + 50) + 32);
Desc: "This potent belt augments your resistance to fatigue and
    poisons: while it is worn you enjoy the benefits of the Hardiness and
    Great Fortitude feats as well as a bit of fatigue regeneration."; }
#line "m_items.irh" 5156
29 Effect "Quietus" : 46
{ 0x00000002; Flags: 67 | 44;
lval: -93; Level: -78;
aval: 9; rval: 0x00001000;
Purpose: 0x00002; Flags: 3;
Desc: "This item creates a field of supernatural silence. Inside the
    field spellcasters cannot produce verbal components for spells, items
    cannot be activated, attacks and actions do not make noise, and Listen
    checks always fail. The field extends out 10 feet (1 square) per
    magical plus.";
}

29 Effect "Displacement;cloak" : 2
{ 0x00000020; xval: 145; yval: 2; pval: 50;
Flags: 67; Level: 5; On Event 83
"Your image shifts two feet away from your location." /
"The <EActor>'s image shifts two feet.",
84
"Your image shifts back to your true position." /
"The <EActor>'s image shifts two feet.";
Desc: "This cloak creates a clever illusion causing the wearer
		  to appear about two feet distant from where he actually is,
			giving attacks against him a 50~ miss chance.";
}

29 Effect "Resistance" : 2
{ 0x00000008; xval: 106; yval: 52; pval: -93;
Flags: 44; Level: -91;
Desc: "This cloak wards away harm, giving the wearer a resistance
            bonus to all his saving throws equal to its magical bonus."; }

29 Effect "Shadow Shifting" : 6
{ 0x00000100; pval: 2d12+12; Purpose: 0x00008;
xval: 2; Flags: 48, 77; Level: 4;

On Event 83
"You merge with the shadows, moving without walking." /
"The <EActor> vanishes in a puff of shadow.";
Desc: "This cloak allows the wearer to step into one shadow and out
	  of another when it is activated, teleporting around at will in
		darkened areas."; }

29 Effect "the Bat" : 2
{ 0x00000020; xval: 124; yval: 32; pval: -93; }
and 32
{ 0x00000080; rval: $"bat"; xval: 1; Flags: 49, 66; }
and 2
{ xval: 111; yval: 27; pval: -93; }
and 2
{ xval: 39; yval: 13; pval: -93; }
and 2
{ xval: 214; yval: 3;
Level: -91; Flags: 44;
Desc: "This powerful item conveys a number of abilities associated
            with bats: a +1 Listen skill bonus and +1 deflection bonus
            to defense per magical plus, as well as Blindsight out to 10
            feet (1 square) per magical plus. The wearer can polymorph into
            a bat and bats are neutral to the wearer."; }


29 Effect "Arachnida" : 5
{ 0x00000002; aval: 3; Flags: 48; lval: 2;
xval: 6; rval: $"webbing"; qval: 0x0002|0x0004|0x0001;
Purpose: 0x00040 | 0x00004 | 0x01000; }
and 2
{ xval: 123; yval: 8; pval: +4; }
and 2
{ xval: 40; yval: 26; pval: +10; }
and 2 { xval: 214; yval: 26; }
and 2 { xval: 177; yval: 14; }
and 2
{ xval: 124; yval: 7; pval: +10;
Level: 6;
Desc: "This spider-silk cloak has a number of functions. It conveys an
        empathic affinity for arachnids similar to a gnome's affinity for
        burrowing mammals, and conjures a mass of sticky webbing to entrap
        foes when activated. It also conveys a +4 bonus to saving throws
        versus poison, a +10 competance bonus to the Climb skill, and prevents
        the wearer from becoming stuck in webs and weblike effects."; }

29 Effect "Elvenkind;cloak" : 2
{ 0x00000020; xval: 124; yval: 18;
pval: -91; Flags: 44;
Flags: 44;
Level: -92;
Desc: "This cloak enhances the ability of a wearer to conceal
		  their presence, granting a bonus to his Hide skill equal to 
			thrice its magical plus."; }

29 Effect "Mantle of Magic Resistance" : 2
{ 0x00000100; xval: 106; yval: 18; pval: -87;
Level: -63;
Flags: 44, 20;
Desc: "This powerful garment imbues its wearer with a 
      Magic Resistance bonus equal to fifteen times is magical plus."; }

29 Effect "Frostbite" : 2
{ 0x00000008; xval: 79; yval: (41+2000);
Flags: 2; Level: 0;
On Event (41+2000) {
if (e.DType == 2)
e.vDmg = (e.vDmg * 150) / 100;
return 0;
};
Desc: "This accursed cloak increases the damage its wearer
		  suffers from cold by 50~.";
}

29 Effect "Fireburn" : 2
{ 0x00000008; xval: 79; yval: (41+2000);
Flags: 2; Level: 0;
On Event (41+2000) {
if (e.DType == 1)
e.vDmg = (e.vDmg * 125) / 100;
return 0;
};
Desc: "This accursed cloak increases the damage its wearer
		  suffers from fire by 25~.";
}

29 Effect "Mana Bleeding" : 2
{ 0x00000008; xval: 79; yval: 45;
Flags: 2; Level: 7;
On Event (45+10000) {
e.EParam |= 0x0004;
return 0;
};
Desc: "This twisted cloak weakens its bearer's link to the supernatural
		  tapestry of creation, causing her not to recover mana when resting the
			way that she normally would.";
}
#line "m_items.irh" 5293
8 Effect "Telepathy" : 2
{ 0x00000004; xval: 39; yval: 91; pval: -76;
Level: -72; Flags: 44;
Desc: "This helm conveys telepathic awareness when worn, causing the
        wearer to sense the presence of all minds within 60 feet of him.";
}

8 Effect "Teleportation" : 6
{ 0x00000100; pval: 2d12+12; xval: 1;
Flags: 48, 77; Level: 7;
Desc: "This helm can be activated to teleport the wearer randomly
        with a range of 2d12+12 squares, seven times per day."; }


8 Effect "Comprehending Languages and Reading Magic" : 2
{ 0x00000008; xval: 124; yval: 10; pval: 10; Level: 3;
Desc: "This helm grants the wearer a +10 competance bonus to his
		  Decipher Script skill rating."; }

8 Effect "Lesser Helm of Brilliance" : 46
{ 0x00000010; Flags: 48, 20; Level: 8;
On Event 163 {
if (EActor->isType((-4)))
if (EActor->isKnown(0x04))
{
e.nAppend = " (";

if (EActor->GetStatiMag(188,1) == 1)
e.nAppend += "1 topaz, ";
else if (EActor->GetStatiMag(188,1) > 1)
e.nAppend += Format("%d topazes, ",
EActor->GetStatiMag(188,1));

if (EActor->GetStatiMag(188,2) == 1)
e.nAppend += "1 ruby, ";
else if (EActor->GetStatiMag(188,2) > 1)
e.nAppend += Format("%d rubies, ",
EActor->GetStatiMag(188,2));

if (EActor->GetStatiMag(188,3) == 1)
e.nAppend += "1 fire opal, ";
else if (EActor->GetStatiMag(188,3) > 1)
e.nAppend += Format("%d fire opals, ",
EActor->GetStatiMag(188,3));

if (EActor->GetStatiMag(188,4) == 1)
e.nAppend += "1 diamond, ";
else if (EActor->GetStatiMag(188,4) > 1)
e.nAppend += Format("%d diamonds, ",
EActor->GetStatiMag(188,4));

if (e.nAppend.GetLength() <= 2)
e.nAppend += "no gems remaining)";
else
e.nAppend = Left(e.nAppend, e.nAppend.GetLength() - 2) + ")";
}
return 0;
},
52 {
int32 found; int32 choice; rID neID;
if (!EItem->HasStati(188))
{
EActor->IPrint("There are no gems left to throw.");
return 2;
}
if (!EActor->isPlayer())
return 2;
if (EItem->GetStatiMag(188,1))
{ found = true;
ETerm->LOption(XPrint("Throw topaz (<9>call light<7>)"),1); }
if (EItem->GetStatiMag(188,2))
{ found = true;
ETerm->LOption(XPrint("Throw ruby (<9>fireball<7>)"),2); }
if (EItem->GetStatiMag(188,3))
{ found = true;
ETerm->LOption(XPrint("Throw fire opal (<9>color burst<7>)"),3); }
if (EItem->GetStatiMag(188,4))
{ found = true;
ETerm->LOption(XPrint("Throw diamond (<9>searing light<7>)"),4); }
choice = ETerm->LMenu(0,"Helm of Brilliance");
switch (choice)
{
case -1:
return 2;
case 1:
neID = $"call light";
break;
case 2:
neID = $"fireball";
break;
case 3:
neID = $"color burst";
break;
case 4:
neID = $"searing light";
break;
}
e.eID = neID;
if (!ETerm->EffectPrompt(e,0x0002|0x0004,false,"Choose a target:"))
return 2;
RedirectEff(e,neID);
if (EItem->GetStatiMag(188,choice) == 1)
EItem->RemoveStati(188,choice);
else
EItem->SetStatiMag(188,choice,NULL,
EItem->GetStatiMag(188,choice) - 1 );
return 1;
},
150 {
ETarget->GainPermStati(188,NULL,7,1,40+random(10));
ETarget->GainPermStati(188,NULL,7,2,10+random(5));
ETarget->GainPermStati(188,NULL,7,3,10+random(5));
ETarget->GainPermStati(188,NULL,7,4,20+random(10));
return 0;
};
}


34 Effect "Circlet of Blasting" : 1
{ 0x00000010; qval: 0x0001|0x0004; Level: -91; cval: 14;
xval: 9; pval: 5d8; tval: 75;
Flags: 60, 4, 48, 49,
50, 20, 77; aval: 2; }
and 1
{ xval: 9; pval: 10d6; tval: 76;
aval: 2; }
and 1
{ xval: 9; pval: 5d6; tval: 36;
aval: 2;
Desc: "The circlet of blasting projects a destructive beam of
        radiance when activated that inflicts 10d6 damage to undead,
      5d6 damage to constructs and 5d8 damage to everything else."; }

34 Effect "Tactical Combat" : 2
{ 0x00000080; xval: 41; yval: ((((49 + 1) + 32) + 50) + 13); Level: 3;
Desc: "This headband grants you a superior insight into tactical
    combat. You enjoy the benefits of the Expertise, Tactical Withdrawl
    and Expert Tactician feats while it is worn.";
} and 2 { xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 1); }
and 2 { xval: 41; yval: ((((49 + 1) + 32) + 50) + 14); }


34 Effect "Crown of the Magi" : 2
{ 0x00000100; xval: 106; yval: 55; pval: -93;
Flags: 20, 44; Level: -92;
Desc: "This powerful crown increases the chance of spellcasting
        success by +5~ for every magical plus that it possesses."; }

34 Effect "Circlet of Spellbreaking" : 2
{ 0x00000001; xval: 123; yval: 16;
pval: -93; Flags: 20, 44;
Level: -92;
Desc: "This empowered headband grants a bonus to saving throws
            against all spells equal to its own magical bonus."; }

34 Effect "Cowl of Warding" : 2
{ 0x00000001; xval: 177; yval: 21; Level: -59;
Flags: 20 | 44; }
and 2
{ xval: 177; yval: 18; }
and 2
{ xval: 123; yval: 16; pval: -78; }
and 2
{ xval: 119; yval: 17; pval: -76; }
and 2
{ xval: 177; yval: 6;
Desc: "This powerful defensive garment conveys five distinct protective
      effects: immunity to mind magic, charms, paralysis, a +4 bonus
            to save versus spells, a +6 luck bonus to armor and immunity to
            life draining and necromantic damage."; }
#line "m_items.irh" 5468
5 Effect "the Python" : 2
{ 0x00000001; 0x00000080; Level: -91; Flags: 44;
xval: 123; yval: 8; pval: -93; }
and 2
{ xval: 106; yval: 2; pval: -93; }
and 46
{ Flags: 49, 76, 25; qval: 0x0002;
On Event 28 {
hObj hPython;
if (e.isActivation)
{
EMap->thEnGenMonSummXY($"exact monster", $"boa constrictor",
0x00000004, 36, 0, EActor, e.EXVal, e.EYVal);
hPython = EMap->GetEncounterCreature(0);
switch (EItem->GetPlus())
{
case 1:
break;
case 2:
hPython->AddTemplate($"Companion;2");
break;
case 3:
hPython->AddTemplate($"Companion;4");
break;
case 4:
hPython->AddTemplate($"Companion;6");
break;
case 5:
hPython->AddTemplate($"Companion;8");
break;
}
hPython->GainTempStati(167,EItem,e.vDuration,
2,0,0,$"the Python",e.vCasterLev);
EItem->Remove(false);

if (!EItem->isKnown(0x04))
DPrint(e, "Your <EItem> transforms into a mighty python!",
"The <EActor>'s <EItem> transforms into a mighty python!");
else
DPrint(e, "Your rod transforms into a mighty python!",
"The <EActor>'s rod transforms into a mighty python!");
EActor->IdentByTrial(EItem);
return 1;
}
return 0;
};
}

5 Effect "Rod of Lordly Might" : 46
{
Level: 7; Flags: 56, 48, 20, 93;
On Event 28 {
int32 choice; hObj hDoor, hHorse;
if (EActor->isPlayer())
{
if (EItem->GetEffStatiMag(188,$"Rod of Lordly Might") < 3)
{
ETerm->LOption("Use paralyzing touch attack",1,
"This spell-like function of the rod grants the wielder a
                   touch attack -- by lightly touching a victim with the
                   tip of the rod, the bearer can cause them to be paralyzed.
                   A Fortitude save (DC 12 + twice the wielder's Charisma
                   modifier) negates the effect. Once active, this effect
                   lasts for three touches. The three spell-like functions
                   of the rod can be used three times a day in total, in
                   any combination.");
ETerm->LOption("Invoke fear in all who see the rod",2,
"This spell-like function of the rod causes all creatures
                   within 80 feet of the wielder who can see the rod to be
                   overwhelmed with fear as he holds it in the air defiantly.
                   A Will save (DC 12 + twice the wielder's Charisma modifier)
                   negates the effect. The three spell-like functions
                   of the rod can be used three times a day in total, in
                   any combination.");
ETerm->LOption("Use life transfer touch attack", 3,
"This spell-like function of the rod grants the bearer a
                   touch attack using the rod which drains 3d6 hit points
                   from the victim and transfers any successfully drained
                   (some creatures resist necromantic damage) to the bearer,
                   healing him up to his normal maximum. A Fortitude save 
                   (DC 12 + twice the wielder's Charisma modifier) negates 
                   the effect. Once active, this effect lasts for seven 
                   touches. The three spell-like functions of the rod can 
                   be used three times a day in total, in any combination.");
}
if (EItem->iID != $"rod")
ETerm->LOption("Change back into a plain rod", 4,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it back into its natural form as a
                 magical rod.");
if (EItem->iID != $"light mace")
ETerm->LOption(XPrint("Change into a <15>+2 light mace<7>"), 5,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"long sword")
ETerm->LOption(XPrint("Change into a <15>+1 flaming long sword<7>"),6,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"battleaxe")
ETerm->LOption(XPrint("Change into a <15>+4 battleaxe<7>"),7,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"shortspear")
ETerm->LOption(XPrint("Change into a <15>+3 shortspear<7>"), 8,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
if (EItem->iID != $"longspear")
ETerm->LOption(XPrint("Change into a <15>+3 longspear<7>"), 9,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into the form selected.");
ETerm->LOption("Change into a climbing pole", 10,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can change it into a magical climbing pole
                 that grants a +10 circumstance bonus to climb checks when
                 wielded.");
ETerm->LOption("Use the rod to force a door", 11,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can cause it to extend in the form a a powerful
                 telescoping rod, using the leverage and force this provides to
                 force open a door.");
ETerm->LOption("Change into a light warhorse", 12,
"By pressing one of the buttons carefully concealed in the rod's 
                 hilt, the bearer can cause it to magically change into a fully
                 healthy warhorse ready to be ridden (or a warpony, for a Small
                 bearer).");
choice = ETerm->LMenu(0x0100|0x0002|0x0001,
"Rod of Lordly Might",14);
if (choice == -1)
{
EActor->Timeout = 0;
return 2;
}
}
else
{

EActor->Timeout = 0;
return 2;
}

if (choice == 1 || choice == 2 || choice == 3)
EItem->IncEffStatiMag(188,$"Rod of Lordly Might",7,NULL,1);

switch (choice)
{
case 1:
EActor->RemoveStati(149);
EActor->GainTempStati(149,EItem,30,2,
0,7,$"paralysis;RoLM",e.vCasterLev);
EActor->Timeout = 0;
break;
case 2:
e.eID = $"fear;RoLM";
ReThrow(52,e);
e.eID = $"Rod of Lordly Might";
break;
case 3:
EActor->RemoveStati(149);
EActor->GainTempStati(149,EItem,30,2,
0,7,$"life drain;RoLM",e.vCasterLev);
EActor->Timeout = 0;
break;
case 4:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"rod");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(1);
EActor->CalcValues();
break;
case 5:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"light mace");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(2);
EActor->CalcValues();
break;
case 6:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"long sword");
EItem->PurgeAllQualities();
EItem->AddQuality(7);
EItem->SetInherantPlus(2);
EActor->CalcValues();
break;
case 7:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"battleaxe");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(4);
EActor->CalcValues();
break;
case 8:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"shortspear");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(3);
EActor->CalcValues();
break;
case 9:
EActor->RemoveEffStati($"climbing pole;RoLM");
EItem->ChangeIID($"longspear");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(3);
EActor->CalcValues();
break;
case 10:
EItem->ChangeIID($"climbing pole;RoLM");
EItem->PurgeAllQualities();
EItem->SetInherantPlus(0);
EActor->GainPermStati(124,EItem,7,7,10,
$"climbing pole;RoLM",12);
EActor->CalcValues();
break;
case 11:
ETerm->EffectPrompt(e,0x0001,false,"Select a door:");
hDoor = EMap->FDoorAt(EActor->x+DirX(e.EDir),EActor->y+DirY(e.EDir));
if (hDoor == NULL)
{
EActor->IPrint("There's no door to force there.");
EActor->Timeout = 0;
return 2;
}
ThrowDmg(41,13,12d6,"a Rod of Lordly Might",
EActor, hDoor, EItem);
break;
case 12:
EMap->thEnGenMonSummXY($"exact monster",
EActor->isSmallRace() ? $"warpony" : $"warhorse",
0x00008000|0x00000004, 36, 0, EActor, e.EXVal, e.EYVal);
hHorse = EMap->GetEncounterCreature(0);
hHorse->GainTempStati(167,EItem,e.vDuration*10,
2,0,0,$"Rod of Lordly Might",e.vCasterLev);
EItem->Remove(false);
DPrint(e, "Your rod transforms into a noble steed!",
"The <EActor>'s rod transforms into a noble steed!");
EActor->IdentByTrial(EItem);
break;
}
return 1;
},
45 {
EItem->RemoveStati(188);
return 0;
},
150 {
EItem->ChangeIID($"rod");
return 1;
},
163 {
switch (EItem->iID)
{
case $"light mace":
e.nBase += " [+2 light mace]";
e.nPlus = "";
break;
case $"long sword":
e.nBase += " [+1 flaming long sword]";
e.nPlus = "";
break;
case $"battleaxe":
e.nBase += " [+4 battleaxe]";
e.nPlus = "";
break;
case $"longspear":
e.nBase += " [+3 longspear]";
e.nPlus = "";
break;
case $"shortspear":
e.nBase += " [+3 shortspear]";
e.nPlus = "";
break;
default:
e.nPlus = "";
break;
}
};
Constants:
* 102 +1,
* 101 $"light mace";
}

0 Effect "paralysis;RoLM" : 3
{ 0x00000080; aval: 6; sval: 0; Flags: 20, 18;
xval: 9; yval: 0;
On Event 170 {
e.saveDC = 12 + EActor->Mod(5) * 2;
};
}

Effect "life drain;RoLM" : 1
{ 0x00000040; aval: 6; sval: 0; Flags: 20, 18;
xval: 6; pval: 3d6;
On Event 28 {
EActor->cHP = min(EActor->mHP+EActor->GetAttr(36),EActor->cHP + e.vDmg);
return 0;
};
On Event 170 {
e.saveDC = 12 + EActor->Mod(5) * 2;
};
}

Effect "fear;RoLM" : 3
{ aval: 11; sval: 2; lval: 8; cval: 8;
xval: 10; yval: 0;
Flags: 20, 18, 70, 34;
On Event 155 {
if (EVictim->Percieves(EActor))
return 0;
return -1;
};
On Event 170 {
e.saveDC = 12 + EActor->Mod(5) * 2;
};
}

Item "climbing pole;RoLM" : 56
{ Image: cyan 234; Group: 0x00000040; Mat:11;
Size: 4; Weight: 5; Parry: 2; SDmg: 1d4; LDmg: 1d2;
Acc: -3; Crit: x2; Threat: 1; Spd: 70%;
Flags: 1, 28;
Desc: "This special telescoping pole is a form taken by the
      Rod of Lordly Might. It can seperate into sections connected
      by an impossibly strong rope, which can be stretched out to
      a length of up to 30 feet, then magically retracted back into
      the climbing pole as if by a powerful winch, allowing the
      bearer to pull himself up a significant distance by the
      retraction of the rope. In game terms, wielding this item
      gives the bearer a +10 circumstance bonus to Climb checks.";
On Event 13 {
EActor->GainPermStati(124,EItem,7,7,10,
$"climbing pole;RoLM",12);
},
31 {
EActor->RemoveEffStati($"climbing pole;RoLM");
};
}
#line "m_items.irh" 5812
31 Effect "Fog;horn effect" : 46
{ 0x00000002; lval: 12; Level: 1;
rval: 0x00000100; cval: 7; Purpose: 0x00002; aval: 7;
Flags: 26, 64, 67, 48, 58;
Desc: "When blown (activated), this horn creates a large field of fog
		  obscuring sight within a 120 foot radius."; }

31 Effect "Goodness" : 3
{ 0x00000001; aval: 11; lval: 6; tval: 103; sval: 2;
xval: 10; Flags: 48, 4, 67, 58;
Level: 3; On Event 52 {
EMap->NewField(0x00000020|0x00000004,EActor->x,EActor->y,
2,249+15*256,10,$"Magic Circle vs. Evil",EActor);
};
Desc: "When blown (activated), this horn creates a protective field
		  against evil creatures and influences (similar to Magic Circle
			vs. Evil) 60 feet in radius.";
}

31 Effect "Valhalla" : 9
{ 0x00000100; rval: $"horde of valhalla"; pval: 8; Level: -78;
Flags: 48, 63, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons berzerk warriors 
		  to fight on the hornblower's behalf.";

}
#line "m_items.irh" 5842
31 Effect "the Kobolds;horn" : 9
{ 0x00000100; xval: 18; rval: $"mass summons"; Level: -92;
pval: -92; Purpose: 0x00100;
Flags: 48, 25, 67, 58,
76, 44;
Desc: "When blown by a kobold, this horn summons a group of
      her fellows to fight on her behalf with a CR equal to twice 
      its magical plus. In the hands of a member of any other
      race, however, the kobolds will be hostile.";
}

31 Effect "Madness" : 4
{ 0x00000008; Level: -92; sval: 2;
xval: 54; pval: (-93)d4;
aval: 11; cval: 13; lval: 6; }
and 3
{ xval: 5; aval: 11; lval: 6;
Desc: "This baleful horn is carved with ancient horrors from
      the earliest days of Theyra. When it is blown, its strange,
      uluating tone shatters the minds of all who listen to it,
      causing them to become Stunned and to suffer 1d4 points of
      Intelligence damage per magical plus the horn possesses. Its
      user is immune to the effect, provided that the item is
      identified and activated with a full understanding of what
      it is going to do."; }

31 Effect "Ordered Defense" : 9
{ 0x00000100; xval: 117; rval: $"mass summons"; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons a Lawful creature of
        CR equal to twice its magical plus to fight on the user's behalf.";
}

31 Effect "the Frenzied Hunt" : 9
{ 0x00000100; xval: 118; rval: $"mass summons"; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 79, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons Chaotic creatures of
        CR equal to twice its magical plus to fight on the user's behalf.";
}

31 Effect "the Sewers" : 9
{ 0x00000100; rval: $"pack of rats"; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 79, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons rodents with CR 
      equal to its magical plus to fight on the user's behalf.";
}

31 Effect "the Tritons" : 9
{ 0x00000100; xval: 80; rval: $"mass summons"; Level: -92;
pval: (-92)d(1); Purpose: 0x00100;
Flags: 48, 79, 25, 67, 58,
76, 44;
Desc: "When blown (activated), this horn summons Aquatic creatures of
        CR equal to twice its magical plus to fight on the user's behalf.";
}

31 Effect "Panic" : 3
{ 0x00000040; Level: 4; sval: 2;
xval: 10; aval: 3; lval: 9; cval: 3;
Purpose: 0x00040 | 0x00004; qval: 0;
Flags: 53 , 34, 58;
Desc: "Causes all other creatures within 90 feet of the user
      to become afraid, if they fail a Will saving throw.";
}

31 Effect "Blasting" : 1
{ 0x00000010; xval: 10; pval: (-93)d12; qval: 0x0010;
Level: -92;
aval: 2; cval: 15; lval: 8; Purpose: 0x00001;
Flags: 40, 48,
44, 67, 58, 77;
qval: 0x0001|0x0004;
On Event 200 "cone of deafening sound"; }
and 3
{ xval: 5; sval: 0; aval: 2;
Desc: "When blown (activated), this horn created a destructive
            blast of sound that inflicts 1d12 points of sonic damage per
            magical plus to everything it strikes, potentially stunning
            victims as well. The horn may be sounded 7 times a day."; }

31 Effect "Plenty" : 13
{ 0x00000100; rval: $"pile of fresh food"; pval: 8; Level: 4;
Flags: 48, 67, 58, 76;
xval: 0x04;
Desc: "When blown, at the cost of fatiguing its bearer, this horn
      creates a rich pile of fresh fruits and vegetables ready to 
      eat.";
On Event 52 {
EActor->LoseFatigue(4,false);
return 0;
},
83
"Fruits and produce appear at your feet!" /
"Fruits and produce appear at the <EActor>'s feet!";
Desc: "When blown (activated), this horn conjures a pile of
		  fresh food at the blower's feet.";
}
#line "m_items.irh" 5948
Item "pile of fresh food" : 37
{
Image: pink '%';
Mat: 3; Weight: 20;
Nutrition: 100; Flags: 1;
}

27 Effect "Hearthstone of Onanda" : 46
{
0x00000008; Level: 4; Flags: 20, 48;
Desc: "In legend, these blackened stones were taken
      from the hearth of Onanda, the halfling goddess
      safety, family and happy returns. If the stone is
      crumbled to ash and sprinkled around the area of
      a campsite (i.e., activated), it will bring peace
      and good rest to its user -- in game terms
      preventing any encounters and allowing the recovery
      of full hit points and mana.\n
        Beware, however, for their enchantment will be
      wasted if the bearer does not rest very shortly
      after they are activated.";
On Event 28 {
hObj hStone;
EActor->IPrint("You crumble a hearthstone and prepare
        to break camp, secure in Onanda's blessing.");
ThrowVal(45,0x0100|0x0001|0x0002,
EActor,EActor);
hStone = EItem->TakeOne();
hStone->Remove(true);
return 1;
};
Constants:
* 101 $"stone;light";
}
#line "m_items.irh" 5987
23 Effect "Luckblade" : 2
{ 0x00000008; Level: 8; Flags: 20, 50;
xval: 106; yval: 6; pval: -93; }
and 2
{ xval: 119; yval: 52; pval: -93; }
and 46
{ On Event 28 {
if (!e.isActivation)
return 0;
if (EItem->GetInherantPlus() <= 0)
{
EActor->IPrint("There are no wishes left.");
return 1;
}


EItem->SetInherantPlus(EItem->GetInherantPlus() - 1);
#line "m_items.irh" 6007
EActor->SetEffStatiMag(106,$"Luckblade",EItem->GetPlus());
EActor->SetEffStatiMag(119,$"Luckblade",EItem->GetPlus());
EActor->CalcValues();


EActor->IPrint("Wishes aren't implemented yet; sorry.");
return 1;
};
Constants:
* 101 $"short sword",
* 102 +3;
Lists:
* 12 13;
Desc: "The Luckblade is a powerful and rare treasure often favored
      by adventurers and followers of Semirath, who are the best known
      for creating these valuable relics. It is a <11>+3 keen short sword<7>,
      and it adds its magical plus as a magic bonus to the wearer's Luck
      score and as a luck bonus to the wearer's saving throws. Additionally,
      it can be activated to grant the wearer a wish, but doing so
      permanently depletes the sword of one of its magical plusses, and
      this lost enchantment cannot be restored in any manner.";
}

23 Effect "Holy Avenger" : 2
{ 0x00000001; Level: 5; Flags: 91, 93;
xval: 106; yval: 18; pval: 50;
On Event 52 {
if (e.isRemove)
return 0;
if ( EActor->ItemPrereq((rID)($"paladin"),4,30) &&
EActor->ItemPrereq((rID)(7000 + 104),1,30) &&
EActor->ItemPrereq((rID)(7000 + 106),1,30) )
{
EItem->SetInherantPlus(5);
EItem->PurgeAllQualities();
EItem->AddQuality(1);
EItem->AddQuality(19);
EItem->AddQuality(35);
EItem->AddQuality(70);
return 0;
}
else
{
EItem->SetInherantPlus(2);
EItem->PurgeAllQualities();
EItem->AddQuality(1);
EItem->AddQuality(70);
return 1;
}
},
((20+1000)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Holy Avenger"))
return 0;


if (EItem->GetInherantPlus() < 5)
return 0;


if (EVictim->isDead())
return 0;


e.vCasterLev = 12;
e.eID = $"dispel magic";
ReThrow(28,e);
e.vCasterLev = 0;
e.eID = ((rID)0);
return 0;
};
Constants:
* 101 $"long sword",
* 102 +2;
Lists:
* 12 70 1,
* 17 72 73 76;
Desc: "The architypical sacred sword, in the hands of a paladin of
      4th level or higher, a Holy Avenger is a <11>+5 holy smiting adamant 
      long sword<7> with bane properties against demons, devils and the 
      undead. Wielding it grants the paladin a 50% magic resistance,
      and on a successful hit it enacts a <9>dispel magic<7> effect
      with a caster level equivalent to the wielder's paladin levels.\n
      __In the hands of any other character, the Holy Avenger remains a
      <11>+2 holy adamant long sword<7>.";
}

Item "short sword;sunblade" : 58
{ Image: gray '('; Group: 0x00000004;
Mat:11; Size: 3; Weight: 30;
Cost: 9 1; Parry: 4;
SDmg:1d10; LDmg:1d12; Acc: +3; Crit: x3; Threat: 2; Spd: 140%;
Flags: 17, 26, 27, 1;
Constants:
* 103 $"short sword";
}

23 Effect "Sunblade" : 2
{ 0x00000010; Level: 8; Flags: 20, 49, 76;
xval: 104; yval: 6; pval: -92;
Desc: "Though this weapon materially appears to be a bastard
      sword, and is such to all physical examination, when picked
      up and wielded it has the balance, weight and handling of a
      short sword. It can thus be handled as if it were a short
      sword by anyone proficient with such.\n
      __Thus, the Sunblade is a <11>glowing holy keen ghost touch +2 short 
      sword<7> that inflicts damage (and has the accuracy modifier and 
      crit multiplier) of a bastard sword. Against creatures with ties
      to the Negative Material Plane, it inflicts double damage.
      Against creatures vulnerable to or penalized by light, it
      acts as a weapon of terror.\n
      __Wielding a Sunblade causes a character to be mildly resistant
      to cold and strongly resistant to life-draining.Finally, three 
      times a day, the wielder can activate the sunblade by spinning
      it vigorously in a wide arc above his head, producing a nearly
      blinding emination of golden light out to a range of 60 feet.
      This incurs all the normal penalties for light-average creatures.\n
      __<14>Terror:<7> On a critical hit, this weapon fills its target 
      with a mortal terror, causing the victim to flee for 3d6 rounds 
      if a Will save is failed.";
On Event ((20+500)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Sunblade"))
return 0;

if (EVictim->HasMFlag(8))
EItem->AddQuality(31);
#line "m_items.irh" 6144
if (EVictim->isMType(57))
{
e.xDmg += 5d6;
e.strXDmg += " +5d6 sunblade";
}
return 0;
},
((20+1000)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Sunblade"))
return 0;
EItem->RemoveQuality(31);
return 0;
};
Constants:
* 101 $"short sword;sunblade",
* 102 +2;
Lists:
* 12 52 13 1 77;
}
and 46
{ aval: 7; lval: 5; rval: 0x00000080; cval: yellow; }

Item "small hornblade" : 58
{ Image: purple 251; Group: 0x00000001;
Mat: 9; Size: 3; Weight: 30;
Parry: 2; Flags: 26, 1;
SDmg: 1d6; LDmg: 1d3; Acc: +1; Crit: x2; Threat: 1; Spd: 110%;
Desc: "This hornblade is about the size of a knife.";
Constants:
* 103 $"sickle",
* 104 $"horn"; }
Item "medium hornblade" : 58
{ Image: purple 251; Group: 0x00000001;
Mat: 9; Size: 3; Weight: 30;
Parry: 2; Flags: 26, 1;
SDmg: 1d8; LDmg: 1d4; Acc: +1; Crit: x2; Threat: 1; Spd: 110%;
Desc: "This hornblade is about the size of a dagger.";
Constants:
* 103 $"sickle",
* 104 $"horn"; }
Item "large hornblade" : 58
{ Image: purple 251; Group: 0x00000001;
Mat: 9; Size: 4; Weight: 30;
Parry: 2; Flags: 26, 1;
SDmg: 1d8; LDmg: 1d6+1; Acc: +2; Crit: x2; Threat: 1; Spd: 110%;
Desc: "This hornblade is about the size of a scimitar.";
Constants:
* 103 $"sickle",
* 104 $"horn"; }

23 Effect "Hornblade" : 46
{ 0x00000008; Level: -78; Flags: 20, 93;
On Event 150 {
switch (1d3)
{
case 1:
EItem->ChangeIID($"small hornblade");
EItem->SetInherantPlus(1);
break;
case 2:
EItem->ChangeIID($"medium hornblade");
EItem->SetInherantPlus(2);
break;
case 3:
EItem->ChangeIID($"large hornblade");
EItem->SetInherantPlus(3);
break;
}
return 0;
},
((20+500)+4000) {

if (!(GetHandle(EItem) &&
EItem->ieID == $"Hornblade"))
return 0;

if (!EVictim->HasEffStati(187,$"Hornblade"))
{
e.isFlatFoot = true;
EVictim->GainPermStati(187,((hObj)0),7,0,0,$"Hornblade");
}
return 0;
};
Constants:
* 101 $"sickle",
* 102 2;
Lists:
* 12 51;
Desc: "A very cleverly disguised weapon, a hornblade appears to
      all examination to be a piece of an animal's horn carved in an
      intricate manner. Only a proficient user knows how to wield it
      as a sickle-like slashing weapon. Because it is so difficult
      to visually recognize as a weapon, the first attack made with
      it against any given foe is considered to be a sneak attack.
      Rogues favor hornblades for this reason, and druids favor them
      because they are treated as sickles with no metal parts.";
}

23 Effect "Dwarven Thrower" : 2
{
Level: 7; xval: 125; yval: 0;
Flags: 91, 93;
On Event 52 {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(7000 + 63),1,25))
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(4);

EItem->AddQuality(27);
EItem->AddQuality(46);
EItem->AddQuality(35);
}
else
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(2);

EItem->AddQuality(35);
return 1;
}
return 0;
},
155 {
return EActor->isMType(63) ?
0 : -1;
};
Constants:
* 101 $"warhammer",
* 102 +2;
Lists:
* 12 27 35,
* 17 22 41;
Desc: "__Crafted by the dwarven elders of Thogorolain
      Citadel, these seven mighty hammers were created
      to aid the Dwarven people in their eternal
      struggle against their racial enemies.\n
      __A Dwarven Thrower is a <11>+4 throwing returning warhammer
      of impact<7>, and it possesses bane properties
      against orcs and giants, in the hands of a dwarf.
      Any other character who wields one finds that it
      acts merely as a <11>+2 warhammer<7>, with the
      above-mentioned banes.\n
      __When wielded by a dwarf, the hammer also sustains
      its wielder's Strength and allows him to use the
      Power Attack feat.";
}
and 2
{ xval: 41; yval: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20); }

23 Effect "Nine Lives Stealer" : 46
{ Level: 7; Flags: 91, 48, 66, 55,
93;
Desc: "This weapon's blade is made from a slick black iron alloy,
      difficult to identify clearly. It has the power to steal nine
      souls -- once nine souls are taken, the blade cannot steal 
      souls ever again. Thus, the wielder has the ability to turn on
      and off its soul-stealing power, using the Activate or Cancel
      commands.\n
      __If the weapon scores a critical hit while it is activated,
      its victim must make a Fortitude save (DC 20 + the bearer's
      Charisma modifier), or be struck dead instantly. (<9>Death 
      ward<7> and similar effects protect against this demise).
      When the sword slays a victim in this manner, the bearer
      gains the same benefits an orc would upon consuming the corpse
      of the victim. The sword can do this only nine times, and
      then its special power is expended.\n
      __Regardless of whether the blade has any lives left to
      steal, it remains a <11>+2 unholy keen long sword<7>.";
On Event ((20+500)+4000) {
e.saveDC = 20 + EActor->Mod(5);
if (e.isCrit)
if (EActor->HasEffStati(189,$"Nine Lives Stealer"))
if (EItem->GetEffStatiMag(188,$"Nine Lives Stealer") < 9)
if (EVictim->ResistLevel(6) != -1)
if (!EVictim->SavingThrow(0,e.saveDC,
0x00000010|0x00000004|0x00000001|0x00000002))
{
TPrint(e,"You snuff out the <EVictim>'s soul!",
"The <EActor>'s sword snuffs out your life!",
"The <EVictim>'s life is snuffed out instantly!");
ThrowDmg(42,6,0,"having <EVictim:his> soul snuffed out",
EActor,EVictim,EItem);
if (EVictim->isDead())
EActor->DevourMonster(EVictim);
EItem->IncEffStatiMag(188,$"Nine Lives Stealer",
7, NULL, +1);
return 1;
}
return 0;
},
28 {
if (e.isActivation)
{
if (EItem->GetEffStatiMag(188,$"Nine Lives Stealer") >= 9)
{
EActor->IPrint("That sword can no longer steal lives.");
EActor->Timeout = 0;
return 2;
}
if (EActor->HasEffStati(189,$"Nine Lives Stealer"))
{
EActor->IPrint("It's already activated.");
EActor->Timeout = 0;
return 2;
}
EActor->GainPermStati(189,EItem,2,0,0,
$"Nine Lives Stealer",e.vCasterLev);
DPrint(e, "Your <EItem> glows a malignant crimson.",
"The <EActor>'s <EItem> glows a malignant crimson.");
return 1;
}
return 0;
},
84
"Your Nine Lives Stealer stops glowing crimson." /
"The <EActor>'s sword stops glowing crimson.",
163
{
if (EActor->isKnown(0x04) && EActor->isKnown(0x08))
e.nAppend += Format(" (%d thefts left)",
9 - EActor->GetEffStatiMag(188,$"Nine Lives Stealer"));

return 0;
};
Constants:
* 101 $"long sword",
* 102 +2;
Lists:
* 12 2 13;
}

23 Effect "Bloodspear" : 2
{
Level: 10; Flags: 92, 93, 49;
xval: 123; yval: 16; pval: +4;
Desc: "This ancient, weathered spear was forged by primordial 
      orc shamans a half-dozen millenia ago, and its head was
      dipped in the hearts-blood of the greatest 'heroes'
      who sought the extermination of the orcish race. In
      the hands of a human, elf or similar such creature,
      it is a <11>+2 longspear<7>. In the hands of a kobold, goblin,
      lizardman, troll or other sometimes-ally to the orcs,
      it is a <11>+3 wounding longspear<7> with bane properties
      against humans, elves, dwarves, gnomes and halflings. It 
      is only in the hands of an orc (or a high-level Rogue with
      Trick Magic), however, that it's full powers are revealed.\n
      __Then, it is a <11>+4 keen wounding weakening longspear of 
      pain<7> with the aforementioned bane proerties, and it 
      possesses certain very potent special
      abilities as well. When it strikes a critical hit against
      a foe, it imbues its bearer with the ability to regenerate
      damage just like a <9>ring of regeneration<7> -- a number
      of hit points per turn equal to the foe's Challenge Rating.
      This effect lasts for 20 turns for every hit point of damage
      the critical hit inflicted, but every additional hit made
      while the wielder is already regenerating adds 5 turns per
      hit point inflicted. If a critical is inflicted while the
      wielder is already regenerating, the duration is augmented
      as normal and the rate of regeneration is increased if the
      foe has a higher CR.\n
      __When wielded by an orc, the Bloodspear also grants a +4
      bonus to saving throws versus spells.\n
      __Any wielder can activate the Bloodspear to cause it to
      transform from a longspear into a shortspear, or vice
      versa if already changed.";
Constants:
* 101 $"longspear",
* 102 2;
Lists:
* 17 61 62 63 65;
On Event (13+4000) {
if (e.isRemove)
return 0;
if (EActor->ItemPrereq((rID)(7000 + 22),1,25))
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(+4);
EItem->AddQuality(13);
EItem->AddQuality(28);
EItem->AddQuality(37);
EItem->AddQuality(35);
EItem->AddQuality(53);
}
else if (EActor->isMType(84) ||
EActor->isMType(54) ||
EActor->isMType(18))
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(+3);
EItem->AddQuality(28);
EItem->AddQuality(35);
}
else
{
EItem->PurgeAllQualities();
EItem->SetInherantPlus(+2);
}
return 0;
},
((20+1000)+4000) {
int32 amt, CR, Dur;
if (EActor->isMType(22))
{
CR = EVictim->ChallengeRating();
amt = e.aDmg;
Dur = EActor->GetEffStatiDur(126,$"Bloodspear");

if (e.isCrit) {
if (EActor->GetEffStatiMag(126,$"Bloodspear") < max(1,CR)*100)
{
if (EActor->HasEffStati(126,$"Bloodspear"))
{
EActor->SetEffStatiMag(126,$"Bloodspear",max(1,CR)*100);
EActor->SetEffStatiDur(126,$"Bloodspear",
min(Dur+amt*5,1000));
}
else {
EActor->GainTempStati(126,EItem,min(amt*5,1000),2,
0, max(1,CR)*100, $"Bloodspear", e.vCasterLev);
EActor->IPrint("<10>You feel your blood quicken...<7>");
}

return 0;
}
else
{
if (EActor->HasEffStati(126,$"Bloodspear"))
EActor->SetEffStatiDur(126,$"Bloodspear",min(Dur+amt,1000));
return 0;
}
}
#line "m_items.irh" 6483
if (!EActor->HasEffStati(126,$"Bloodspear"))
return 0;

EActor->SetEffStatiDur(126, $"Bloodspear",Dur+amt*5);
return 0;
}
return 0;
};
}
and 46
{ On Event 28 {
if (e.isActivation) {
if (EItem->iID == $"longspear")
EItem->ChangeIID($"shortspear");
else
EItem->ChangeIID($"longspear");

EActor->CalcValues();
DPrint(e,"The Bloodspear changes into a <Res>.",
"The <EActor>'s weapon changes into a <Res>.", EItem->iID);
return 1;
}
return 0; };
}

23 Effect "Sword of the Planes" : 46
{
Level: 7; Flags: 93, 20;
Desc: "This unusual weapon is forged from a special form of
      adamant mined on the plane of Concordant Opposition, the
      spiritual homeland of True Neutrality. It is among the
      most common of the unique weapons overall, favored by
      adventurers who mount extraplanar expeditions and by the
      humans and other brave souls who fight against the harsh
      rigor of the Outer Planes. Swords of the Planes are not
      forged in hatred or judgement -- their bane properties
      are born of pragmatism, and the desperate need of humanity
      to level the playing field against the terrible power and
      innate magic possessed by many outsiders.\n
      __Under normal circumstances, a sword of the planes is a 
      <11>+1 adamant brilliant energy long sword of binding<7> with 
      bane properties against outsiders and elementals. However, 
      its enhancement bonus can increase circumstantially if the 
      user is on a plane other then the Prime Material, or if 
      fighting an outsider.\n
      __On an elemental plane, or when fighting elementalkin,
      the sword has a +2 bonus. Against denizens of the ethereal
      or astral planes, or when the wielder is in such a locale
      herself, the bonus is +3. On the outer planes, or against
      demons, devils or celestials, the sword has a bonus of +4.";
On Event ((18+500)+4000) {
int32 oldBonus, newBonus;
oldBonus = EItem->GetInherantPlus();
newBonus = 1;
if (EVictim->isMType(72) ||
EVictim->isMType(73) ||
EVictim->isMType(34) )
newBonus = 4;
else if (EVictim->isMType(44))
newBonus = 2;
else if (EVictim->isMType(48))
newBonus = 3;
else
newBonus = 1;
#line "m_items.irh" 6550
if (EActor->HasStati(102))
newBonus = max(newBonus,3);

if (newBonus != oldBonus)
{
#line "m_items.irh" 6558
EItem->SetInherantPlus(newBonus);
EActor->CalcValues();
}
return 0;
},
((18+1000)+4000), (13+4000), (31+4000) {
int32 oldBonus2, newBonus2;
oldBonus2 = EItem->GetInherantPlus();
newBonus2 = 1;
if (EActor->HasStati(102))
newBonus2 = max(newBonus2,3);
if (oldBonus2 != newBonus2)
{
EItem->SetInherantPlus(newBonus2);
EActor->CalcValues();
}
return 0;
};
Constants:
* 102 +1,
* 101 $"long sword";
Lists:
* 12 70 20 41 35,
* 17 48 38;
}

23 Effect "flame tongue" : 2
{ Level: 7; xval: 41; yval: ((((49 + 1) + 32) + 50) + 8); }
and 2
{ xval: 125; yval: 2;
Flags: 50, 76 93, 91;
Desc: "Seven of these powerful blades are believed to exist.
      Revered as holy by the priesthood of Immotian, scholars
      believe they have an older, and more primal, origin than
      the clergy of purity. In fact, many obscure sources link
      them to the efreeti, and some sages claim that a flame
      tongue sword is forged when such a genie slays another
      living creature in the throes of inhuman rage and bathes
      the blade in their blood. The truth remains unknown --
      and the church of Immotian strives to keep it that way.\n
      __Regardless, a flame tongue is a <11>+2 flaming burst
      long sword<7> with a number of special qualities. It
      grants its bearer the Endurance feat and sustains their
      Constitution. When it strikes a corporeal undead, that
      creature's dry, withered flesh catches flame and continues
      to burn, causing it to suffer 3d6 fire damage the first
      turn after the hit, 2d6 the second turn and 1d6 on the
      third. (It is this property, as well as the fire-symbolism,
      that makes the swords so reverred by Immotian). But the
      most famous power the sword has is its <9>tongue of flame<7>
      ability, which can be called upon 3 times a day by activating
      the weapon.\n
      __If a flame tongue sword is ever immersed in water or any
      other flame retardant, the eternal fire that burns on its
      blade it put out, and the sword becomes temporarily inert.
      It can regain its magic after a day has passed by striking
      another creature or being activated.\n
      __<9>Tongue of Flame:<7>  When you activate this special 
      ability, the sheath of flames that normally surrounds the 
      sword's blade extends far past its tip and magically takes 
      on a tangible element like the lash of a whip. The tongue of
      flame lashes out from the sword to a maximum range of the 
      bearer's Charisma modifier times ten in feet (minimum 20) to 
      snare a chosen target.\n
      __The swordbearer must make a ranged touch attack
      to hit the intended target. If this is successful,
      the tongue of flame deals 4d8 damage to the
      victim and then, if the victim still lives and is
      a Large or smaller corporeal creature, it and the
      swordbearer make an opposed Strength test.\n
      __If the bearer prevails, his foe is yanked into
      the air, pulled across the map and lands directly
      at his feet (i.e., in melee range), and
      automatically suffers knockdown in the process.
      Unless he succeeds a Reflex save, he remains
      entangled in smoldering strands (i.e., Stuck) for
      another 1d4+1 rounds thereafter.";
On Event 28 {
int32 oefNum;
if (e.isActivation)
{
if (EItem->HasStati(70))
return 0;
if (!EItem->HasQuality(7))
{
DPrint(e,"Your sword is sheathed in flame!",
"The <EActor>'s sword is sheathed in flame!");
EItem->AddQuality(7);
EItem->AddQuality(11);
}

if (!ETerm->EffectPrompt(e,0x0004,false,"Select a target:"))
return 2;
RedirectEff(e,$"tongue of flame");

return 1;
}
return 0;
},
(41+2000) {
hObj hOwner;
if (e.DType == 74)
{
hOwner = EVictim->Owner();
if (GetHandle(hOwner))
hOwner->IDPrint("Your flame tongue is snuffed out!",
"The <hObj>'s flaming sword is extinguished!",
hOwner);
else
APrint(e,"The flaming sword is snuffed out.");
EVictim->GainTempStati(70,NULL,-2,7,0,0,((rID)0),0);
EVictim->RemoveQuality(7);
EVictim->RemoveQuality(11);
if (EVictim->Owner())
{
EVictim->Owner()->IPrint("You suddenly feel weak...");
EVictim->Owner()->LoseFatigue(1d4+3,false);
}
}
return 0;
},
((19+500)+4000) {
if (EItem->HasStati(70))
return 0;
if (!EItem->HasQuality(7))
{
DPrint(e,"Your sword is sheathed in flame!",
"The <EActor>'s sword is sheathed in flame!");
EItem->AddQuality(7);
EItem->AddQuality(11);
}
return 0;
},
(20+4000) {

return 0;
};
Constants:
* 101 $"long sword",
* 102 +2;
Lists:
* 12 7 11;
}
and 46 { }

0 Effect "tongue of flame" : 1
{ xval: 1; pval: 4d8;
aval: 4; cval: 12; qval: 0x0004;
On Event (28+1000) {
int32 dr;
if (EVictim->isDead())
return 0;
if (EVictim->GetAttr(25) >= 5)
return 0;
if (EActor->Mod(0) + 1d20 >= EVictim->Mod(0) + 1d20)
{
TPrint(e,"Your tongue of flame lashes around the <EVictim>
                      and pulls <him:EVictim> to your side.",
"The tongue of flame lashes around you and yanks
                      you through the air!",
"The tongue of flame lashes around the <EVictim>
                      and yanks <him:EVictim> through the air!");
dr = EActor->DirTo(EVictim);
EVictim->PlaceAt(EMap, EActor->x + DirX(dr),
EActor->y + DirY(dr));
EVictim->GainPermStati(15,NULL,6);
if (!EVictim->SavingThrow(1,e.saveDC,0x00000008|0x00000200))
EVictim->GainTempStati(11,NULL,1d4+1,6);
}
else
VPrint(e,"You hold your ground!",
"The <EVictim> holds <his:EVictim> ground!");
return 0;
},
170 {
e.vRange = 3 + max(0, EActor->Mod(5));
return 0;
};
}

15 Effect "Dragonshield" : 1
{ Level: -92; qval: 0x0004 | 0x0001;
Desc: "A Dragonshield is a kite shield carved with the
      image of a dragon's head, its mouth wide open as if
      to breathe. Three times per day, the shield can be
      activated to produce an elemental blast similar to a
      dragon's breath inflicting 2d10 points of damage per
      magical plus the item possesses (with a Reflex save
      for half damage). The type of damage depends upon
      the type of dragon the shield is modelled after --
      white, red, brown, green, black, blue or purple.\n
      __In addition to this special ability, a Dragonshield
      is a <11>+1 <7>(or higher)<11> light fortification 
      fearsome shield<7>. Bearing a Dragonshield makes all
      chromatic dragons hostile to the bearer -- rumors
      claim that their blood is an essential component in
      these shields' manufacture.";
Flags: 93, 20, 48, 11,
44, 76; sval: 1; aval: 2;
lval: -78;
xval: 1; pval: (-92)d10;
On Event 150 {
int32 dt;
switch(1d7)
{
case 1: dt = 1; break;
case 2: dt = 2; break;
case 3: dt = 4; break;
case 4: dt = 3; break;
case 5: dt = 6; break;
case 6: dt = 11; break;
case 7: dt = 5; break;
}
EItem->GainPermStati(189,NULL,7,dt,0,$"Dragonshield",0);
return 0;
},
163 {
String Col;
switch (EActor->GetEffStatiVal(189,$"Dragonshield"))
{
case 1: Col = "Red "; break;
case 2: Col = "White "; break;
case 4: Col = "Blue "; break;
case 3: Col = "Black "; break;
case 6: Col = "Purple "; break;
case 11: Col = "Yellow "; break;
case 5: Col = "Green "; break;
}
e.nBase = Col + e.nBase;
return 0;
},
170 {
if (GetHandle(EItem) == ((hObj)0))
return 0;
if (e.efNum != 0)
return 0;
e.xval = EItem->GetEffStatiVal(189,$"Dragonshield");
e.DType = e.xval;
switch (EItem->GetEffStatiVal(189,$"Dragonshield"))
{
case 1: e.cval = 4; break;
case 2: e.cval = 9; break;
case 4: e.cval = 14; break;
case 3: e.cval = 2; break;
case 6: e.cval = 8; break;
case 11: e.cval = 6; break;
case 5: e.cval = 2; break;
}
return 0;
},
200 "dragonbreath";
Constants:
* 101 $"kite shield",
* 102 +2;
Lists:
* 12 1 32;
}
and 2
{ xval: 215; yval: 37; aval: 0; lval: 0; }


23 Effect "Lightning;jav" : 1
{
Level: -92; sval: 1; aval: 2; cval: 14;
Flags: 11, 44;
xval: 4; pval: (-92)d6;
On Event ((48+500)+4000) {
hObj hJavelin;
hJavelin = EItem2->TakeOne();
hJavelin->Remove(true);
e.isItem = true;
return RedirectEff(e,$"Lightning;jav");
},
170 {
e.vRange = 6;
#line "m_items.irh" 6837
return 0;
};
Constants:
* 101 $"javelin";
Desc: "When thrown, a javelin of lightning transforms into a
      magical stroke of lightning that functions similarly to the
      <9>lightning bolt<7> spell, inflicting 2d6 lightning damage
      for every magical plus and allowing a Reflex save (DC 10 +
      1/2 the thrower's character level + the thrower's Dexterity
      modifier) for half damage.";
}

23 Effect "Sylvan Scimitar" : 2
{
xval: 41; yval: (((49 + 1) + 32) + 7); Level: 4;
Flags: 20, 93;
Desc: "Crafted by the wood elves, these swords serve both as
      useful utility items and as emblems of their trust. They are
      one of the more common specific magical items of Theyra, with
      perhaps as many as thirty in total still in existance from
      the earliest days when the wood elves' lands were much larger
      in scope.\n
      __A sylvan scimitar is a <11>+3 defending scimitar<7> with bane 
      properties against orcs and beasts; wielding it grants the user 
      the Cleave feat. When the user is on verdant terrain, the scimitar 
      gains an additional +2 circumstance bonus to hit and damage. Elves 
      tend to be friendly to a character that bears one of these weapons;
      in the hands of an elf or a druid, it also benefits from the
      <11>keen<7> quality.";
Constants:
* 101 $"scimitar",
* 102 +3;
Lists:
* 12 35 16,
* 17 22 35;
On Event ((19+500)+4000) {
int32 ax, ay;
ax = EActor->x;
ay = EActor->y;
if (EMap->TerrainAt(ax,ay)->TerrainHasFlag(24))
{
e.vHit += 2;
e.bDmg += 2;
e.strHit += " +2 ss";
e.strDmg += " +2 ss";
}
return 0;
},
13 {
if (EActor->ItemPrereq((rID)(7000 + 62),1,20) ||
EActor->ItemPrereq((rID)($"druid"),1,20) )
EItem->AddQuality(13);
else
EItem->RemoveQuality(13);
return 0;
},
31 {
EItem->RemoveQuality(13);
return 0;
};
}
and 2
{ xval: 214; yval: 62; }

23 Effect "Oathbow" : 2
{ Level: 5; xval: 39; yval: 29;
Flags: 20;
Desc: "For more then six hundred years now, the drow have
      sent raiding parties to the surface, moving in perfect
      stealth at night, to silently slaughter the children of
      the surface elves. They seldom stay long enough for true
      engagement, because they fear the solidarity of the
      surface elves' military and because they do not want to
      weaken their own military forces in the light of the
      continual, internecine political brinkmanship of their
      own society. So year after year, they sneak up to the
      surface to commit acts of terrorism upon the surface
      elves, then vanish before they can be caught.\n
      __These bows are one facet of the elven nation's response.
      Carved in a vindictive anger unusual for the surface elves,
      they are none the less beautiful items, made with a composite
      of ivory and darkwood and painted a chill white. In the hands
      of an elf, an Oathbow acts as a <11>+3 fey-trapping thundering 
      composite long bow of accuracy<7> with bane properties against the drow.
      It also grants a oath-swearing ability similar in effect to
      Dwarven Focus, allowing the user extra power and will when
      she swears to slay a specific enemy.\n
      __In the hands of anyone other than an elf, the bow remains a
      <11>+2 fey-trapping composite long bow<7> with bane properties
      against drow.";
On Event 13 {
if (EActor->ItemPrereq((rID)(7000 + 62),1,25))
{
EItem->SetInherantPlus(3);
EItem->AddQuality(10);
EItem->AddQuality(23);
}
else
{
EItem->SetInherantPlus(2);
EItem->RemoveQuality(10);
EItem->RemoveQuality(23);
}
return 0;
},
31 {
EItem->SetInherantPlus(2);
EItem->RemoveQuality(10);
EItem->RemoveQuality(23);
},
(19+4000) {
if (!EActor->ItemPrereq((rID)(7000 + 62),1,25))
return 0;
if (EVictim->isMType(66) ||
EActor->HasStati(81,-1,EVictim))
EActor->IPrint("<1>'Swift death to those who have wronged us!'<7>");
else if (!random(4))
EActor->IPrint("<1>'Swift defeat to my enemies!'<7>");
return 0;
},
28 {
if (e.isWield)
if (!EActor->ItemPrereq((rID)(7000 + 62),1,25))
return 1;
return 0;
};
Constants:
* 101 $"long bow",
* 102 +2;
Lists:
* 12 49 35,
* 17 66;
}

23 Effect "Kinslayer" : 2
{ Level: 9; Flags: 92, 55, 93;
xval: 39; yval: 80; pval: 2; }
and 2
{ xval: 124; yval: 6; pval +4; }
and 2
{ xval: 169; int32 kinflag;
On Event 13 {
if (EActor->isMType(66))
EItem->SetBane(66);
else if (EActor->isMType(62))
EItem->SetBane(62);
else if (EActor->isMType(64))
EItem->SetBane(64);
else if (EActor->isMType(10))
EItem->SetBane(10);
else if (EActor->isMType(58))
EItem->SetBane(58);
else if (EActor->isMType(63))
EItem->SetBane(63);
else if (EActor->isMType(51))
EItem->SetBane(51);
else if (EActor->isMType(61))
EItem->SetBane(61);
else if (EActor->isMType(18))
EItem->SetBane(18);
else if (EActor->isMType(22))
EItem->SetBane(22);
else if (EActor->isMType(65))
EItem->SetBane(65);
else if (EActor->isMType(72))
EItem->SetBane(72);
else if (EActor->isMType(73))
EItem->SetBane(73);
else if (EActor->isMType(44))
EItem->SetBane(44);
else if (EActor->isMType(34))
EItem->SetBane(34);
return 0;
},
((19+500)+4000) {
if (EVictim->isHostileTo(EActor) ||
EVictim->HasMFlag(44) ||
EVictim->HasStati(67) ||
EVictim->HasStati(74) )
kinflag = 0;
else
kinflag = 1;
return 0;
},
((19+1000)+4000) {
if (kinflag && (EVictim->isDead() ||
EVictim->isHostileTo(EActor)) )
EActor->KillXP(EVictim);
return 0;
},
31 {
#line "m_items.irh" 7031
EActor->RemoveEffStati($"invisibility");
EActor->RemoveEffStati($"true strike");
return 0;
};
Desc: "This jet-black halfspear has an obsidian spearhead
      and a halt carved with twisting runes akin to some of the
      more debased tribal peoples of Angla Maua; it radiates
      betrayal and treachery from its very being. Though its
      existance is most commonly blamed on kobolds or goblins,
      it is in truth the work of one bitter halfling warrior.\n
      __It is a <11>+4 thirsty warning keen halfspear<7>, and when it is
      wielded it automatically gains bane properties against
      the wielder's own race. It also grants 2d6 sneak attack
      damage (as a Rogue's) and a +4 bonus to the Bluff skill.
      Finally, it allows the wearer access to the spells
      <9>invisibility<7> and <9>true strike<7>.";
Constants:
* 101 $"halfspear",
* 102 4;
Lists:
* 12 55 13 17 35,
* 18 $"true strike" $"invisibility";
}

23 Effect "Quickblade" : 2
{ Level: 12; Flags: 92, 93;
xval: 124; yval: 22; pval: -92; }
and 2
{ xval: 106; yval: 26; pval: 10; }
and 2
{ xval: 125; yval: 1; }
and 2
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 33); }
and 2
{ xval: 124; yval: 46; pval: -92;
Constants:
* 102 3,
* 101 $"rapier";
Lists:
* 12 13 52 22
58 16 74;
Desc: "Crafted by fae, these rare blades convey truly
      exceptional speed and grace to their bearer, allowing
      him to move as if he were a flicker, a mote in his
      opponent's eye. The blade glistens almost as if wet,
      and seems to be made of some strange, mutable, nearly 
      liquid kind of silver.\n
      __A Quickblade is a <11>+3 keen glowing defending
      silver shifting sword of speed<7>. In addition to these 
      formidable properties, it grants its bearer a +50~ magic
      bonus to her movement rate, and a +2 bonus to the Jump
      and Tumble skills for every magical plus that it possesses. 
      Finally, it sustains the bearer's
      Dexterity and allows her the use of the Whirlwind Attack
      feat without needing to meet the normal prerequisites
      for possessing that feat.\n
      __A Quickblade regenerates one point of damage (inflicted
      to the sword, not its wielder) per turn."; }
#line "m_items.irh" 7282
Item "brazier" : 56
{
Image: red '&'; Flags: 1;
Mat: 13; Weight: 25;
Desc: "This is a large, three-legged brass brazier of the sort
      that might be used to burn incense in a temple. In fact, there's
      a ready supply of incense contained in special ridges within the
      brazier's interior already. It just needs to be lit.";
}

38 Effect "Brazier Commanding Fire Elementals" : 9
{ 0x00000100; Cost: 15; Level: -72;
Purpose: 0x00100; Flags: 44, 48,
20, 76, 25, 95;
Desc: "Once per day, this brazier can be lit to summon
      a fire elemental of power commensurate to its magical
      plus to serve the holder faithfully.";
On Event (28+500) {
switch (EItem->GetPlus())
{
case 1:
e->rval = $"tiny fire elemental";
break;
case 2:
e->rval = $"small fire elemental";
break;
case 3:
e->rval = $"medium fire elemental";
break;
case 4:
e->rval = $"large fire elemental";
break;
default:
e->rval = $"huge fire elemental";
break;
}
};
Constants:
* 101 $"brazier";
}

38 Effect "Hat of Disguise" : 3
{ 0x00000020; Base: 90; Cost: 5; Level: 1;
Desc: "This plain brown fedora is in fact a potent magical item
      usable by any character with Disguise as a class skill. When
      activated, it weaves an illusion over the user's body not unlike
      the mage spell <9>change self<7>, allowing the user to use the 
      Disguise skill with a +10 magic bonus. The hat also removes the 
      need to spend an hour preparing the disguise, and removes the need 
      for a disguise kit. However, the effect is an illusion, and is 
      automatically penetrated by anything which penetrates illusions, 
      including <9>true sight<1>.\n
      __It can be used three times per day.";
xval: 124; yval: 12; pval: +10;
Flags: 13, 48, 76, 20;
On Event (28+1000) {
EActor->GainPermStati(44,NULL,7,12);
ReThrow(130,e);
EActor->RemoveStati(44,7,12);
if (!EActor->HasStati(175))
EActor->RemoveEffStati($"Hat of Disguise");
return 0;
};
Constants:
* 101 $"hat";
}
#line "m_items.irh" 7353
Item "robes;magic" : 27
{
Image: purple '[';
Mat: 6; Weight: 0; hp: 20;
Flags: 13;
}
#line "m_items.irh" 7433
38 Effect "Robe of Blending" : 2
{ 0x00000002|0x00000020; Flags: 44, 20;
Level: -91;
xval: 124; yval: 18; pval: -92;
Lists:
* 18
1 $"change self"
2 $"blur"
3 $"invisibility"
4 $"gaseous form"
5 $"meld into stone";
Desc: "The robe of blending grants a +2 magic bonus to
      Hide in Shadows for every magical plus that it has.
      Furthermore, it grants its wearer the ability to use
      one spell as an innate spell-like ability for every
      plus it has, in the following order: <9>change self<1>,
      <9>blur<1>, <9>invisibility<1>, <9>gaseous form<1> and
      <9>meld into stone<1>.";
Constants:
* 101 $"robes;magic"; }
and 2
{ xval: 169; }

38 Effect "Robe of Eyes" : 2
{ 0x00000004|0x00000080; Level: 6; Flags: 56, 67, 20;
Desc: "This macabre item resembles a normal cloak until
      its properties are known, at which point hundreds of
      living eyes open all over the robe to enhance the wearer's
      perception. A Robe of Eyes grants a +5 magic bonus to all
      Search and Spot checks, grants the wearer 60 feet of
      Infravison and the ability to see invisible and ethereal
      creatures as well as letting her see in a full 360 degree
      arc, making her very difficult to surprise. In game terms,
      this grants her the benefit of the Improved Initiative 
      feat. Unfortunately, the wearer of a Robe of Eyes cannot
      avert their eyes to help them avoid gaze attacks.";
xval: 124; yval: 44; pval: 5; }
and 2
{ xval: 124; yval: 41; pval: 5; }
and 2
{ xval: 101; }
and 2
{ xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 27); }
and 2
{ xval: 79; yval: 49;
On Event (49+10000) {
if (e.AType == 80)
{
EActor->IPrint("You cannot avert your eyes while wearing a
            Robe of Eyes.");
return 2;
}
return 0;
},
52 {
if (e.isWield) {
DPrint(e, "As you don the robe, hundreds of living eyes
          open all across its surface!",
"As the <EActor> dons the robe, hundreds of living eyes
          open all across its surface!");
EActor->RemoveStati(226);
}
return 0;
};
Constants:
* 101 $"robes;magic";
}

38 Effect "Robe of Scintillating Colors" : 2
{ 0x00000008; 0x00000020; Level: 4;
xval: 145; yval: 2; pval: 20;
Flags: 34, 53, 48,
49, 66, 20, 86; }
and 2
{ xval: 124; yval: 18; pval: -50; }
and 3
{ rval: 0x00000004|0x00000002|0x00000080;
aval: 9; lval: 3; cval: 21; xval: 117;
yval: 51; pval: -4;
Desc: "When activated, this robe flows and ripples with hypnotic,
      distracting colors, giving anyone within 5 squares of the wearer
      a -4 circumstance penalty to all actions, and granting the wearer
      a 20% miss chance against all attacks. You can't hide while this
      effect is active.";
On Event
13
"A nimbus of hypnotic, distracting colors appears around you." /
"A nimbus of hypnotic, distracting colors appears around the <EActor>.",
43
"Wow, those shifting colors are so pretty!" /
"The <EActor> is fascinated.",
44
"At this distance, the colors no longer affect you." /
"The <EActor> seems clearer-headed now.";
Constants:
* 101 $"robes;magic";
}

38 Effect "Vest of Health" : 46
{
Level: -72; Cost: 30;
Flags: 44, 48, 20, 54;
Desc: "An astounding item, the Vest of Health has the ability
      to shield its wearer from all physical (slashing, piercing
      or bludgeoning) or elemental (fire, cold, acid, sound or
      lightning) damage -- up to a limit. The vest can absorb up
      to 30 points of damage for each magical plus it bears, but
      if this full limit is ever exceeded, the vest is destroyed
      irrevocably. Fortunately, it can be activated and deactivated
      nearly instantly. Provided it is not destroyed, the vest
      'recovers' five hit points of damage per day.";
xval: 79; yval: (41+2000);
On Event ((45+1000)+10000) {
hObj hVest2;

hVest2 = EActor->InSlot(8);
if (!hVest2)
return 0;
if (hVest2->ieID != $"Vest of Health")
return 0;

if (hVest2->HasEffStati(188,$"Vest of Health"))
hVest2->SetEffStatiMag(188,$"Vest of Health",
max(0,hVest2->GetEffStatiMag(188,$"Vest of Health") - 5));
return 0;
},
(15+500) {
if (EActor->HasEffStati(79,$"Vest of Health;active"))
{ EActor->IPrint("It's already active.");
return 2; }
return 0;
},
(15+1000) {
#line "m_items.irh" 7568
EActor->IPrint("Your vest glows softly.");
EActor->Timeout = 0;
return 0;
},
163 {
int32 hp;
hp = EActor->GetPlus() * 30;
if (EActor->HasEffStati(188,$"Vest of Health"))
hp -= EActor->GetEffStatiMag(188,$"Vest of Health");
if (EActor->isKnown(0x04) && EActor->isKnown(0x08)) {
e.nAppend = Format(" (%d/%d HP left)", hp, EActor->GetPlus()*30);
if (EActor->Owner() != ((hObj)0))
if (EActor->Owner()->InSlot(8) == GetHandle(EActor))
if (EActor->Owner()->HasEffStati(79,$"Vest of Health;active"))
e.nAppend += " [Active]";
}
return 0;
},
31, 54 {
EActor->RemoveEffStati($"Vest of Health");
EActor->RemoveEffStati($"Vest of Health;active");
return 0;
},
28 {
if (e.isActivation) {
EVictim->GainPermStati(79,EItem,2,
(41+2000),0,$"Vest of Health;active");
return 1;
}
return 0;
} ;
#line "m_items.irh" 7605
Constants:
* 101 $"robes;magic";
}
and 2
{ xval: 79; yval: (45+1000); }


Effect "Vest of Health;active" : 46
{
Flags: 54, 66;
Desc: "An astounding item, the Vest of Health has the ability
      to shield its wearer from all physical (slashing, piercing
      or bludgeoning) or elemental (fire, cold, acid, sound or
      lightning) damage -- up to a limit. The vest can absorb up
      to 30 points of damage for each magical plus it bears, but
      if this full limit is ever exceeded, the vest is destroyed
      irrevocably. Fortunately, it can be activated and deactivated
      nearly instantly. Provided it is not destroyed, the vest
      'recovers' five hit points of damage per day.";
On Event ((41+2000)+10000) {
int32 amtTaken, amtAllowed; hObj hVest;

if (e.DType != 13 && e.DType != 11 &&
e.DType != 12 && e.DType != 1 &&
e.DType != 2 && e.DType != 3 &&
e.DType != 4 && e.DType != 10)
return 0;

hVest = EVictim->InSlot(8);
if (!hVest)
return 0;
if (hVest->ieID != $"Vest of Health")
return 0;

amtAllowed = hVest->GetPlus() * 30;
if (!hVest->HasEffStati(188,$"Vest of Health"))
hVest->GainPermStati(188,NULL,7,0,0,
$"Vest of Health", hVest->ItemLevel());
amtTaken = hVest->GetEffStatiMag(188,$"Vest of Health");

if (amtTaken + e.vDmg > amtAllowed)
{
VPrint(e,"Your vest absorbs some of the damage and is destroyed!",
"The <EVictim>'s vest absorbs some of the damage and is destroyed!");
hVest->Remove(true);
e.vDmg -= (amtAllowed - amtTaken);
return 0;
}

VPrint(e,"Your vest absorbs the damage!",
"The <EVictim>'s vest absorbs the damage!");
hVest->SetEffStatiMag(188,$"Vest of Health",amtTaken + e.vDmg);
e.vDmg = 0;
return 1;
};
}

38 Effect "Vestment of Faith" : 2
{ Level: -92; Flags: 44, 56, 20;
xval: 107; yval: 27; pval: -93; }
and 2
{ xval: 106; yval: 4; pval: -93;
Desc: "The robes of great saints and religious heroes are often
      enchanted to become Vestments of Faith. These holy items only
      function for characters who have one or more levels in the
      priest class; for these characters they add their magical plus
      as a sacred bonus to Defense Class and as a magic bonus to
      Wisdom.";
Constants:
* 101 $"robes;magic";
On Event (28+500) {
if (EVictim->ItemPrereq((rID)($"priest"),1,20) == 0)
return 1;
return 0;
};

}



33 Effect "Uncanny Growth" : 2
{ xval: 106; yval: 25; pval: -93;
Purpose: 0x00010;
Flags: 44 | 67; 0x00000080; Level: -90;
Desc: "Causes a you to become larger, increasing your
      size catagory by one level per plus.";
}

14 Effect "Incredible Shrinking" : 2
{ Level 6;
xval: 106; yval: 25; pval: -1;
Flags: 67 | 2; 0x00000080; Level: 0;
Desc: "Causes a you to become smaller, decreasing your
      size catagory by one.";
}

14 Effect "Boldness" : 2
{ 0x00000001; Level: 1;
xval: 177; yval: 28;
Desc: "Makes you immune to fear.";
}

27 Effect "Courage" : 2
{ xval: 114; yval: 51; pval: -93;
Purpose: 0x00010;
Flags: 44; 0x00000200; Level: -91;
Desc: "Grants a morale bonus to your attacks
      and saves equal to its plus.";
}

33 Effect "Lesser Divine Aspect" : 2
{ xval: 106; yval: 5; pval: 4; Purpose: 0x00010;
Level: -49; Flags: 44;
Desc: "Causes you to take on some of the qualities of a
      celestial being: you gain an enhancement bonus of +4
      to your Charisma score; darkvision; a +2 bonus to saving
      throws against disease and poison; and acid, cold and 
      electricity resistance of 5."; }
and 3
{ xval: 104; yval: 2; pval: -89 ; }
and 3
{ xval: 104; yval: 4; pval: -89 ; }
and 3
{ xval: 104; yval: 3; pval: -89 ; }
and 2
{ 0x00000080; xval: 39; yval: 42; pval: -50; }
and 3
{ xval: 123; yval: 8; pval: -92; }
and 3
{ xval: 123; yval: 14; pval: -92; }

29 Effect "Nondetection;item" : 2
{ xval: 211;
yval: 0x0004|0x0080|0x0100;
Purpose: 0x00010; 0x00000001; Level: 3;
Desc: "This item makes its wearer difficult to detect by
    divination or other non-standard means. Scent, Telepathy and 
    Detection are all blocked. The creature can
    still be tracked or perceived visually. Note that this does *not* by
    itself hide or otherwise make the wearer invisible.";
}



14 Effect "Undead Warding" : 2
{ xval: 214; yval: 76;
Purpose: 0x00010; 0x00000001; Level: 3;
Desc: "This item makes the bearer innocuous to the lifeless eyes of 
    the undead. Undead will be initially neutral to the bearer, but will 
    still become angry if attacked.";
}

29 Effect "Vermin Friendship" : 2
{ xval: 214; yval: 31;
Purpose: 0x00010; 0x00000001; Level: 3;
Desc: "This item makes the bearer innocuous in the eyes of vermin. 
    Such creatures will be initially neutral to the bearer, but will 
    still become angry if attacked." ;
}

14 Effect "Planar Warding" : 2
{ xval: 214; yval: 48;
Purpose: 0x00010; 0x00000001; Level: 6;
Desc: "This item attunes the essense of the bearer to the Prime
    Material plane. Outsiders will view the bearer as, essentially, part of
    the terrain, and will rarely be hostile.  Outsiders will still become
    angry if attacked."; }


10 Effect "Devilbane" : 2
{ xval: 218; yval: 73; Level: 4; 0x00000001;
Flags: 19;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect devils. Unfortunately,
      bearing this item will also cause such creatures to view you with
      marked disdain. Kysul is quite fond of such devices -- the Multitude
      merely tolerate them for their own purposes."; }
and 2
{ xval: 215; yval: 73; }

13 Effect "Elemental Disjunction" : 2
{ xval: 218; yval: 38; Level: 5; 0x00000001;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect Elementals and their kind.
      Unfortunately, bearing this item will also cause such creatures to
      view you with marked disdain. Ekliazeh, Immotian, Kysul and Sabine 
      favor such devices, but any they can be useful in the hands of a
      devout priest of any faith.";
} and 2 { xval: 215; yval: 38; }

27 Effect "Theryan Inviolability" : 2
{ xval: 218; yval: 48; Level: 7; 0x00000001;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect Outsiders. 
      Unfortunately, bearing this item will also cause such creatures to
      view you with marked disdain. Ekliazeh, Immotian and Kysul all 
      favor such devices.";
} and 2 { xval: 215; yval: 48; }

10 Effect "Purity" : 2
{ xval: 218; yval: 58; Level: 6; 0x00000001;
Desc: "This sacred item allows your deity to channel additional energy
      through you. Any Rebuke, Command or Turn action you take against the
      Undead will additionally affect Aberrations. Unfortunately, bearing 
      this item will also cause such creatures to view you with marked 
      disdain.";
} and 2 { xval: 215; yval: 58; }
#line "wspells.irh" 141
50 Spell "Endure Fire" : 3
{ 0x00000001|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 143
xval: 104; yval: 1; pval: 3d1 + (-106);
Desc: "Grants the target fire resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Cold" : 3
{ 0x00000001|0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 149
xval: 104; yval: 2; pval: 3d1 + (-106);
Desc: "Grants the target cold resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Lightning" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 155
xval: 104; yval: 4; pval: 3d1 + (-106);
Desc: "Grants the target lightning resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Acid" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 161
xval: 104; yval: 3; pval: 3d1 + (-106);
Desc: "Grants the target acid resistance equal to 3 plus
      1 per 2 caster levels."; }

50 Spell "Endure Sound" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 2; Level: 1; qval: 0x0004;
#line "wspells.irh" 167
xval: 104; yval: 10; pval: 3d1 + (-106);
Desc: "Grants the target sound resistance equal to 3 plus
      1 per 2 caster levels."; }
#line "wspells.irh" 178
50 Spell "Mage Armor" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0;
#line "wspells.irh" 180
Flags: 83, 29;
xval: 116; yval: 17; pval: 15d1 + (-107);
Desc: "This euphamistically-named spell created a ward around the
      mage's body which mystically dampens the lethality of attacks,
      manifesting through luck and coincidence (with no physical form)
      to protect her from harm. This effect is represented in game
      terms by granting the caster [4 + Luck modifier] levels armor in 
      each armor catagory, or [6 + Luck modifier] if the caster is an
      Abjurer. Mage Armor is not compatible with real armor, and counts
      as medium armor for the purpose of abilities like defensive roll
      and Zen Defense.";
On Event 205
"Mage Armor" / "MArm",
28
"You feel safe." /
"The <EVictim> seems more solid, somehow.",
84
"You feel threatened." /
"The <EVictim> seems vulnerable, somehow.",
170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->HasStati(37,0))
SetPVal(e,6 + EActor->Mod(6));
else
SetPVal(e,4 + EActor->Mod(6));
},
(52+500) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("You cannot combine <9>mage armor<7> with
            conventional armor.");
return 2;
}
return 0;
},
((13+1000)+10000) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("Your <9>mage armor<7> is cancelled.");
EActor->RemoveEffStati($"mage armor");
}
return 0;
};
}
and 30
{ }


50 / 52 / 2 Spell "Protection from Evil" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0; Flags: 56;
#line "wspells.irh" 231
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(103)) {
e.vHit -= 2;
e.strHit += " -2 ProtEvil";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from evil's influence with a tripartite
      effect: evil creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
On Event 205 "ProEvil" / "PEvil"; }

50 Spell "Protection from Good" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0;
#line "wspells.irh" 254
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(106)) {
e.vHit -= 2;
e.strHit += " -2 ProtGood";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from good's influence with a tripartite
      effect: good creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
Flags: 55;
On Event 205 "ProGood" / "PGood"; }

50 Spell "Protection from Law" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0;
#line "wspells.irh" 278
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(104)) {
e.vHit -= 2;
e.strHit += " -2 ProtLaw";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from law's influence with a tripartite
      effect: lawful creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
Flags: 21;
On Event 205 "ProLaw" / "PLaw"; }

50 Spell "Protection from Chaos" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0;
#line "wspells.irh" 302
xval: 79; yval: (19+2000); pval: 2;
On Event ((19+2000)+10000) {
if (EActor->HasStati(67)) {
DPrint(e,"","The <EActor> hesitates.");
return 2;
} if (EActor->isMType(105)) {
e.vHit -= 2;
e.strHit += " -2 ProtChaos";
}
return 0;
}, 28 "You feel safer.",
84 "You no longer feel protected.";
} and 3
{ xval: 123; yval: 6; pval: +4;
Desc: "Shields you from chaos's influence with a tripartite
      effect: chaotic creatures suffer a -2 penalty to attack you,
      you recieve a +4 bonus to save against enchantment spell 
      effects and summoned creatures cannot physically attack 
      you.";
Flags: 22;
On Event 205 "ProChaos" / "PChaos"; }

50 Spell "Shield" : 3
{ 0x00000001|0x00000010|0x00010000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0;
#line "wspells.irh" 326
xval: 79; yval: (19+2000);
Desc: "Creates a shield-shaped force construct that hovers
      nearby you, granting you a +5 defense class bonus versus 
      physical attacks that you are aware of, so long as you are
      not being flanked, and rendering you immune to Magic Missiles.
      This bonus persists even during a spellcasting timeout.";
On Event ((19+2000)+10000) {
if (!e.isFlanking && !e.isSurprise && !e.isFlatFoot)
{
e.vDef += 5;
e.strDef += " +5 shield";
}
return 0;
},
((28+2000)+10000) {
if (e.eID == $"magic missile")
{
VPrint(e,"Your shield deflects the missiles!",
"The <EVictim>'s shield deflects the missiles!");
return 2;
}
return 0;
},
28
"A shield-sized wall of force appears by your arm." /
"A shield-sized wall of force appears by the <EVictim>'s arm.",
84
"Your magical shield vanishes." /
"The <EActor>'s magical shield vanishes.";
}
and 3
{ xval: 79; yval: (28+2000); }

50 Spell "Spiritwrack" : 1
{
Desc: "By casting this spell, a mage creates an intense dissonance
      between the fabric of the material plane and those nearby it,
      injuring and driving back creatures that reach into the Prime
      Material from other planes of existance. Incorporeal creatures
      (whether their existance overlaps into the astral, ethereal or
      negative energy planes) suffer 1d8 points of damage per caster
      level, material creatures native to the Outer Planes, astral or
      ethereal suffer 1d6 points of damage per caster level and creatures
      native to the elemental planes suffer 1d4 points of damage per
      caster level. The spell affects a 30 foot burst, and all damage
      is scaled after 9th level. A Will saving throw negates the
      damage completely, but failure also leaves the victim in a
      state of psychic shock causing a -4 circumstance penalty.\n
      __Since the Spiritwrack effect is essentially an attack made of
      pure will, if an affected creature makes the Will saving throw 
      and has a Wisdom score of 15 or higher, it may attempt to reflect 
      the wave of torment back at the caster, making him subject to the
      damage from his own spell. This requires that the creature beat
      the caste in a contest of wills -- an opposed Concentration check.";
0x00000001; 0x00000100; Cost: 3; Level: 1; Base: 90; qval: 0x0002;
xval: 0; pval: (-126)d8; aval: 11; cval: 15;
sval: 2; Purpose: 0x00001; Flags: 53;
On Event 170 {
int32 n, s;
if (!GetHandle(EVictim))
return 0;
if (!EVictim->isCreature())
return 0;
n = LevelAdjust(-126,e.vCasterLev);
if (EVictim->onPlane() != 0)
s = 8;
else if (EVictim->isMType(44))
s = 4;
else
s = 6;
if (e.MM & 0x00010000)
e.vDmg = n * s;
else
e.vDmg = (n)d(s);
if (e.MM & 0x00000200)
e.vDmg = (e.vDmg * 15) / 10;
},
155 {
if (EVictim->onPlane() != 0)
return 0;
if (EVictim->isMType(48))
return 0;
if (EVictim->isMType(44))
return 0;
return -1;
},
(83+1000) {
int32 a, b;
if (e.Resist && EVictim->GetAttr(4) >= 15)
{
EActor->IPrint("The <hObj> locks wills with you!",EVictim);
EVictim->IPrint("You lock wills with the <hObj>!",EActor);
EActor->SkillCheck(8,0,true);
a = LastSkillCheckResult();
EVictim->SkillCheck(8,0,true);
b = LastSkillCheckResult();
if (b >= a)
{
EActor->IPrint("The <hObj> turns your magic back on you!", EVictim);
EVictim->IPrint("You turn the wave of psychic torment back on the <hObj>!", EActor);
ThrowDmg(41,0,e.vDmg,
"a reflected Spiritwrack spell",EVictim,EActor);
}
else
{
EActor->IPrint("Your will is stronger than the <hObj>'s!",EVictim);
EVictim->IPrint("The <hObj>'s will is stronger than yours!",EActor);
}
}
return 0;
},
28
"You scream in agony!" /
"The <EVictim> screams in agony!";
}
and 3
{ xval: 117; yval: 51; pval: -4; }

50 Spell "Erase" : 46
{ 0x00000001; Base: 90; Cost: 2; Level: 1; qval: 0x0002 | 0x0004 | 0x0008;
sval: 2; Purpose: 0x00004 | 0x01000;
Flags: 71, 40;
Desc: "When cast, this spell erases magical writings as if they
      never were. It will destroy a <9>glyph of warding<1> or a
      manifestation of the <9>symbol<1> spell, as well as any number
      of spellbooks or scrolls on the ground, rendering the latter
      blank but physically damaged. Used against another creature,
      it will blank 1 randomly chosen scroll or spellbook in that
      creature's possession, plus one for every three full levels
      the caster has. A Will save negates the effect if the spell
      is targeted against a living creature.";
On Event 155 {
hObj it;
if (GetHandle(ETarget) == ((hObj)0))
return 1;
if (ETarget->isType((-4)))
if (!(ETarget->isType(50) ||
ETarget->isType(55) ||
ETarget->isType(22)))
return -1;
if (ETarget->isCreature())
for (it=ETarget->FirstInv();it;it=ETarget->NextInv())
if (it->isType(50) || it->isType(22) ||
it->isType(55))
return 0;
return 1;
},
52 {
int32 i, c; hObj it, cr; rID xID;
if (GetHandle(EVictim) != ((hObj)0) && EVictim->isCreature())
{
c = 1 + e.vCasterLev/3;
for (i=0;i!=c;i++)
{
ClearCandidates(); cr = GetHandle(EVictim);
for (it=EVictim->FirstInv();it;it=EVictim->NextInv())
if (it->isType(50) || it->isType(22) ||
it->isType(55))
if (it->iID != $"blank spellbook")
if (it->iID != $"scroll" || (it->ieID != (rID)0))
AddCandidate((int32)it);
if (nCandidates() == 0)
{ if (!i)
APrint(e,"Nothing apparent happens.");
return 1; }
it = (hObj)RandCandidate();
SetETarget(e,it);
RedirectEff(e,$"Erase",28);
SetETarget(e,cr);
}
return 1;
}
if (GetHandle(ETarget) != ((hObj)0) && ETarget->isType((-4)))
{
if (ETarget->isType(50) || ETarget->isType(55))
{ ETarget->ieID = (rID)0; ETarget->SetInherantPlus(0); }
else if (ETarget->isType(22))
ETarget->ChangeIID($"blank spellbook");
else
Error("Strange object targeted in Erase!");
EActor->IDPrint("Magical writing fades from the <hObj>!",
"Magical writing fades from the <hObj>!",ETarget);
e.isSomething = true;
return 1;
}
xID = EMap->TerrainAt(e.EXVal,e.EYVal);
switch (xID)
{
case $"strange rune":
case $"guardian runes;2":
case $"guardian runes":
APrint(e,"The runes vanish!");
e.isSomething = true;
EMap->RemoveTerraXY(e.EXVal,e.EYVal,xID);
if (xID == EMap->TerrainAt(e.EXVal,e.EYVal))
EMap->WriteTerra(e.EXVal,e.EYVal,$"floor");
break;
case $"warded wall":
APrint(e,"Runes vanish from the wall!");
e.isSomething = true;
EMap->WriteTerra(e.EXVal,e.EYVal,$"dungeon wall");
break;
}
for(it=EMap->FirstAt(e.EXVal,e.EYVal);it;it=EMap->NextAt(e.EXVal,e.EYVal))
{
if (it->isType(50) || it->isType(55) || it->isType(22))
{
SetETarget(e,it);
e.isSomething = true;
RedirectEff(e,$"Erase",28);
SetETarget(e,((hObj)0));
}
if (it->isFeature()) {
if (it->fID == $"warding rune")
{
it->Remove(true);
e.isSomething = true;
APrint(e,"The warding rune vanishes!");
}
if (it->isType(12))
if (it->tID == $"symbol of sleep;trap" ||
it->tID == $"symbol of pain;trap")
{
it->Remove(true);
e.isSomething = true;
APrint(e,"The symbol vanishes!");
}

if (it->fID == $"warded oak door")
{
it->fID = $"oak door";
it->SetImage();
e.isSomething = true;
EMap->Update(e.EXVal,e.EYVal);
APrint(e,"Runes vanish from the door!");
}
}
}
if (!e.isSomething)
APrint(e,"Nothing apparent happens.");
return 1;
};
}




50 / 2 Spell "Feather Fall" : 3
{ 0x00000002; Base: 95; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 575
xval: 79; yval: ((41+500)+2000);
Desc: "__While this spell is active, you float gentley downward rather then
      plummeting, suffering no damage for falls and not becoming prone as a result
      of them, though you can still be tripped.";
On Event (((41+500)+2000)+10000) {
if (e.DType == 94)
{
VPrint(e, "You float gracefully downward.",
"The <EVictim> floats gracefully downward.");
return 1;
}
return 0;
};
}

50 / 2 Spell "Grease" : 5
{ 0x00000002; Base: 75; Cost: 2; Level: 1; qval: 0x0002; sval: 3;
Purpose: 0x00040 | 0x01000;
xval: 6; rval: $"pool of grease"; aval: 11; lval: 3;
Desc: "Creates a patch of grease on open ground that can
      cause foes to slip and fall.";
On Event 206
"A pool of grease appears!",
74
"The pool of grease fades away."; }

50 / 2 Spell "Knock" : 46
{ 0x00000002; Base: 95; Cost: 1; Level: 1;
Purpose: 0x00400 | 0x10000; Flags: 25;
hObj h;
On Event 155 {
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20))) &&
EActor->Percieves(h))
return 0;
else if ((h->isType(30) || h->isType(26)) &&
(h->HasStati(228)) && EActor->Percieves(h))
return 0;
}
return -1;
} ;
On Event 28 {
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && (!(h->DoorFlags & (0x02|0x20))) &&
EMap->LineOfFire(EActor->x,EActor->y,h->x,h->y,EActor) &&
EActor->DistFrom(h) <= 6) {
h->DoorFlags &= ~0x08;
h->DoorFlags |= 0x02;
h->SetImage();
e.isSomething = true;
DPrint(e,"The <hObj> opens.",NULL,h);
}
}
return 1;
};
Desc: "Magically causes all doors in your line of fire within 60 
    feet to open. This spell opens locked doors but does expose secret 
    doors. This spell opens wizard-locked doors but does not remove the
    wizard-locked enchantment.";
}

1 / 50 / 2 Spell "Mending" : 46
{ 0x00000002; Base: 75; Cost: 7; Level: 1; qval: 0x0008;
pval: 1d6+-101; Flags: 78;
Desc: "Repairs 1d6+[caster level] hit points of damage to
      any non-metallic item in the player's possesion.";
On Event
155 {
hObj it;
if (!(EVictim->isType((-4)) && !EVictim->isMetallic()))
return -1;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->GetHP() < it->MaxHP())
return 0;
}
return 1;
} ,
83 {
if (EVictim->GetHP() < EVictim->MaxHP()) {
EVictim->MendHP(e.vDmg);
if (EVictim->GetHP() >= EVictim->MaxHP())
VPrint(e,"Your <hObj> has been fully restored.",NULL,EVictim);
else
VPrint(e,"Your <hObj> has been partially restored.",NULL,EVictim);
}
} ;
Constants:
* 109 200;
}

50 / 53 Spell "Wall of Fog" : 5
{ 0x00000002|0x00001000|0x00008000; Base: 90; Cost: 1; Level: 1; qval: 0x0001; aval: 8;
Purpose: 0x00040 | 0x00004 | 0x01000 (3);
xval: 6; rval: $"fog"; Flags: 25;
Desc: "Conjures a curtain of fog useful for, among other things,
      blocking spellcasters and archers' lines of sight. Characters
      with true sight or Nature Sense can see through fog clearly, and
      anyone can see creatures within one square of the fog on either
      side.";
On Event 206
"A curtain of obscuring fog appears.",
74
"The curtain of fog disperses.";
}


50 / 2 Spell "Wizard Lock" : 46
{ 0x00000002; Base: 75; Cost: 1; Level: 1; qval: 0;
Purpose: 0x00010 | 0x00040 | 0x10000; Flags: 25;
Desc: "Magically closes, locks and wizard-locks all doors you can perceive.  A wizard-locked door has double the normal hardness and the DC to pick its locks increases by +10. You can open one of your wizard-locked doors instantaneously with a mental command when next to it. You can close one of your wizard-locked doors normally. Doors that are already wizard-locked are unaffected by this spell.";
hObj h;
On Event 155 {
for(h=EMap->FirstThing();h;h=EMap->NextThing())
if (h->isType(11) && !h->HasStati(182) && EActor->Percieves(h))
return 0;
return -1;
} ;
On Event 28 {
for(h=EMap->FirstThing();h;h=EMap->NextThing()) {
if (h->isType(11) && !h->HasStati(182) && EActor->Percieves(h)){
h->DoorFlags &= ~0x02;
h->DoorFlags |= 0x08;
h->GainTempStati(182,EActor,e.vDuration,7,0,e.saveDC,$"Wizard Lock");
h->SetImage();
e.isSomething = true;
VPrint(e,"The <hObj> is now wizard-locked.",NULL,h);
}
}
return 1;
};
}
#line "wspells.irh" 716
50 / 2 Spell "Detect Secret Doors" : 46
{ 0x00000004; Base: 90; Cost: 2; Level: 1;
Purpose: 0x00000;
On Event 28 {
hObj h; int32 found; found = 0;
for(h = EMap->FirstThing(); h ; h = EMap->NextThing())
if (dist(EActor->x,EActor->y,h->x,h->y) <= 25 + e.vCasterLev*2) {
if (h->isType(11))
if (h->DoorFlags & 0x20) {
h->DoorFlags &= ~0x20;
h->SetImage();
EActor->IPrint("A secret door!");

EMap->MarkAsSeen(0,h->x,h->y,0);
found = 1;
}
}
if (!found)
EActor->IPrint("You find nothing of note.");
};
Desc: "Reveals the presence of secret doors. The range of this spell is
    25 squares plus 2 squares per caster level.";
}

50 / 2 Spell "Detect Stairs" : 46
{ 0x00000004; Base: 95; Cost: 10; Level: 1;
Purpose: 0x00000;
Desc: "Tells you where the staircases (up and down) and portals on the
    current level are, and reveals them on the map. May not reveal some
    hidden, secret of special types of staircases.";
On Event 28 {
Rect r; int32 x, y; hObj f;

if (!EVictim->isPlayer())
return 0;

r@x1 = 1;
r@x2 = EMap->SizeX()-1;
r@y1 = 1;
r@y2 = EMap->SizeY()-1;
for (x=r@x1;x<=r@x2;x++)
for (y=r@y1;y<=r@y2;y++)
{
for (f=EMap->FFeatureAt(x,y);f;f=EMap->NFeatureAt(x,y))
if ( f != NULL && f->isType(10) )

EMap->MarkAsSeen(0,x,y,0);
}
EMap->VUpdate(EVictim->x,EVictim->y);
return 0;
};
}

Effect "Know Alignment" : 25
{ 0x00000004; Base: 75; Cost: 2; Level: 1; qval: 0x0004;
Purpose: 0x00000;
Desc: "A beneficiary of this spell instantly recognizes the
      alignment of any creature; this information is displayed
      whenever the 'L'ook command is used to examine the creature.";
On Event 28 {
EActor->IPrint("No alignments yet.");
return 1;
};
}

1 / 50 / 2 Spell "True Strike" : 3
{ 0x00000004; Base: 90; Cost: 2; Level: 1;
Purpose: 0x00010 (1);
Flags: 61, 26, 13, 86;
xval: 108; yval: 50; pval: 10;
Desc: "Grants you a +10 insight toHit bonus (due to preternatural 
      perception) on your next single attack roll.";
}

50 Spell "Read Magic" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; Purpose: 0x00010;
#line "wspells.irh" 792
Flags: 61; On Event 200 "ReadMagic" / "RM";
xval: 124; yval: 10; pval: -82;
Desc: "Casting this spell grants you an exceptional facility
      for reading and correctly interpreting magical writings,
      granting you a bonus to the Read Magic skill equal to your
      caster level (minimum +5).";
}

50 Spell "Daggerspell" : 3
{
0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 1; Purpose: 0x00010;
#line "wspells.irh" 803
Desc: "In casting this spell, a mage grants herself the
      facility to use a dagger as an instrument of divination
      like the classical dowsing rod -- a symbolic weapon to
      cut away obfuscation and reveal truth. Instead of
      attuning it to seek out water, however (as is done
      with a dowsing rod), the mage attunes the dagger to
      seek out flaws and weaknesses. In the hands of a mage
      with this spell, a dagger is drawn intuitively to the
      flaws in a structure or enemy's armor.\n
      __A specialist Diviner recieves an insight bonus to damage
      rolls equal to her Intelligence bonus when using a dagger;
      for other mages, this bonus caps out at +2. In any mage's 
      hands the base threat range of the weapon is treated as 
      being 18-20. When using a dagger, she can halve the hardness
      of an object when she attacks it, and an armor-wearing
      enemy's Coverage is reduced by 4 against her attacks.\n
      __Creatures with Nondetection are unaffected by this spell,
      and the caster gains no extra damage or increased threat
      range aainst them.";
xval: 79; yval: 19;
On Event (19+10000) {
int32 bon;
if (e.AType == 63 || e.AType == 41)
if ((GetHandle(EItem) != ((hObj)0) && EItem->iID == $"dagger") ||
(GetHandle(EItem2) != ((hObj)0) && EItem2->iID == $"dagger") )
{
if (EVictim->XORStatiVal(211) & 0x0100)
return 0;
bon = EActor->Mod(3);
if (!EActor->HasStati(37,2))
bon = min(bon,2);
bon = max(0,bon);
e.bDmg += bon;
e.strDmg += Format(" %+d insight", bon);
e.vThreat = 20 - (((21 - e.vThreat)/2)*3);
e.halfHardness = true;
e.vPenetrateBonus += 4;
}
return 0;
};
}

50 Spell "Arrow Mind" : 3
{ 0x00000004; Cost: 3; Base: 75; Level: 1;
Desc: "Casting this spell, a mage or ranger enters a trance state of
      preternatural awareness and acute focus on her archery. She gains
      the benefits of the Zen Archery and Defensive Shot feats, as well
      as a +3 bonus to hit and a +25~ bonus to speed on attacks with a 
      bow. At the end of the spell's duration, the caster loses one Fatigue
      point from the intense devotion of the trance. The effect lasts 10
      rounds, plus three rounds per point of the caster's Constitution
      bonus (if any).";
xval: 117; yval: 12; pval: +3; }
and 3
{ xval: 117; yval: 7; pval: +5; }
and 3
{ xval: 41; yval: (((49 + 1) + 32) + 25); }
and 3
{ xval: 41; yval: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41);
On Event 84 {
if (e.EParam == 10 && e.vVal == (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 41))
EActor->LoseFatigue(1,false);
return 0;
},
170 {
e.vDuration = 10 + max(0,EActor->Mod(2)*3);
};
}




50 / 2 Spell "Charm Person" : 3
{ 0x00000008; Base: 75; Cost: 3; Level: 1; sval: 2;
Purpose: 0x00004 (9); tval: 86;
xval: 137; yval: 1; qval: 0x0004;
Flags: 25, 53, 4, 34;
Desc: "Improves a hostile, sapient humanoid's temperment
      towards you, such that it ceases attacking and becomes a
      neutral creature.";
On Event 28
"The <EVictim> gives way to your charm." /
"You fall under the influence of the <EActor>." /
"The <EVictim> falls under the influence of the <EActor>.",
74
"You shake off the effect of the charm." /
"The <EActor> shakes off the effect of the charm.";
}

50 / 2 Spell "Cause Fear" : 3
{ 0x00000008; Base: 75; Cost: 2; Level: 1; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 10; Flags: 53, 70;
Desc: "Causes one target creature to be overcome with mortal
      terror, such that it will flee from you to the best of its
      ability for the spell's duration.";
}

50 Spell "Friends" : 3
{
0x00000008; Level: 1; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10;
#line "wspells.irh" 904
xval: 234; yval: 0; pval: 2;
Desc: "Casting this spell imbues you with an aura of affiability
      and good candor, causing other creatures to react favorably
      to you. You recieve a +2 (+4 for specialist Enchanters) social
      modifier to all social actions taken against other characters,
      and shop prices are calculated for you as if your Diplomacy
      skill rating was that much higher.";
On Event 170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->HasStati(37,3))
SetPVal(e,+4);
return 0;
};
}

50 Spell "Nystrom's Magical Aura" : 3
{ 0x00000008; 0x00000020; Base: 90; Cost: 3; Level: 1; qval: 0x0008;
xval: 234; pval: 100; Flags: 85;
Desc: "__Casting this spell imbues a chosen item with a surreal
      quality of power and mystique that misleads the intuition
      and divinations of others into believing that items is a
      powerful magical treasure surpassing all others, and they
      will be led by the spell to covet it intensely. Intelligent,
      tool-using monsters will seek to acquire this item, and will 
      equip it in preferance to others if this possess it. Thus, 
      this spell can be used as a kind of trap, causing monsters 
      to not use their real magical equipment in favor of fakes, or
      as a thrown lure to draw a monster to a specific location.\n
      __The item is also much more desirable to thieves and pickpockets 
      than a normal item of its type would be, but most merchants have
      devised a way of detecting the use of this spell. Selling an
      item affected by this spell is a chaotic act; if the seller is
      not evil, it is also an evil one.";
On Event 28
"The <EVictim> glows with a blindingly bright silvery light.";
}

50 / 2 Spell "Sleep" : 3
{ 0x00000008; 0x00000080; Base: 75; Cost: 3; Level: 1; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004 | 0x0002;
Flags: 25, 53, 34; lval: 2;
xval: 7; yval: 2;
aval: 11; cval: 9;
On Event 155 {
return EVictim->ChallengeRating() > max(2,
EActor->ChallengeRating() / 2) ?
-1 :
0;
};
Desc: "Causes creatures whose levels are half your own 
      or less within a 20 foot (2 square) radius globe to 
      fall into slumber until woken or attacked; creatures
      with two or fewer Hit Dice are affected regardless of 
      their level.";
}

50 Spell "Spook" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 963
Flags: 34, 53, 70, 86,
85;
rval: 0x00000004|0x00000002; aval: 9; lval: 3; cval: 8;
xval: 114; yval: 51; pval: -2;
Desc: "Manifests a disquieting aura around you, such that living
      beings are unsettled and demoralized, and suffer a -2 morale
      penalty to all their rolls.";
On Event
206
"You evoke an disturbing aura around yourself." /
"The <EActor> evokes an unsettling aura around <him:EActor>self.",
43
"You feel disquieted." /
"The <EActor> seems unsettled.",
44
"You feel less disturbed now." /
"The <EActor> seems more composed now.";
}
#line "wspells.irh" 986
50 / 2 Spell "Force Bolt" : 1
{ 0x00000010|0x00010000; Base: 75; Cost: 4; Level: 1; qval: 0x0001 | 0x0004;
Purpose: 0x00001 (0); cval: 10;
xval: 61; pval: 1d4;
sval: 1 partial; aval: 1; }
and 1
{ xval: 13; pval: (-115)d12;
aval: 1; sval: 1; }
and 3
{ xval: 5; sval: 1; Flags: 24, 60,
89, 88;
aval: 1;
Desc: "Projects a powerful unseen force that batters a single
      target for 1d12 points of blunt damage, plus 1d12 for every
      three additional caster levels; the bolt may also knock its
      victim back, and if the victim fails the Reflex save for half
      damage, they are also stunned for one round. Force bolt is a
      weapon-like spell and requires an attack roll to hit. This
      spell has an inherant +6 bonus to its save DC.";
On Event 200 "force bolt"; }


50 Spell "Magic Missile" : 1
{ 0x00000010|0x00010000; Base: 90; Cost: 1; Level: 1; xval: 8;
Purpose: 0x00001 (0); cval: 15;
pval: (-114)d4+(-114); sval: 3;
Flags: 83, 32;
qval: 0x0004; aval: 1;
Desc: "Strikes a visible foe with bolts of magical energy inflicting 1d4+1 
      damage; creates 1 bolt every odd level."; }

50 Spell "Shocking Grasp" : 1
{ 0x00000010; 0x00000080; Base: 95; Cost: 1; Level: 1;



aval: 6; lval: -83;

xval: 4; pval: 1d8+(-101);
Purpose: 0x00001; Flags: 86, 61, 25, 66;
cval: 14;
Desc: "Projects lightning through your grip, inflicting 1d8 + 
      you caster level points of damage on the first target you
      touch. You may use this touch attack one time per caster
      level (minimum 3 times).";
On Event 206
"Your hands crackle with electricity!" /
"The <EActor>'s hands crackle with electricity!",
83
"Fzzap!" /
"Fzzap!"; }

50 / 2 Spell "Burning Hands" : 1
{ 0x00000010|0x00004000; Base: 95; Cost: 2; Level: 1;
xval: 1; pval: (-122)d4; qval: 0x0001;
Purpose: 0x00001 (10); Flags: 75;
On Event 52 {
hObj h1,h2,h3;
#line "wspells.irh" 1054
h1 = NULL; h2 = NULL; h3 = NULL;
if (DirX(e.EDir) && DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir), 197 + (12*256)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1057
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 + (12*256)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "wspells.irh" 1058
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 + (12*256)); h3 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1059
}
else if (DirX(e.EDir)) {
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 0) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 0)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 0, 197 + (12*256)); h1 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 0); }
#line "wspells.irh" 1062
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + 1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + 1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + 1, 197 + (12*256)); h2 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + 1); }
#line "wspells.irh" 1063
if (EMap->InBounds(EActor->x + DirX(e.EDir),EActor->y + -1) && !EMap->SolidAt(EActor->x + DirX(e.EDir),EActor->y + -1)) { ETerm->PutGlyph(EActor->x + DirX(e.EDir), EActor->y + -1, 197 + (12*256)); h3 = EMap->FCreatureAt(EActor->x + DirX(e.EDir),EActor->y + -1); }
#line "wspells.irh" 1064
}
else if (DirY(e.EDir)) {
if (EMap->InBounds(EActor->x + 0,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 0,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 0, EActor->y + DirY(e.EDir), 197 + (12*256)); h1 = EMap->FCreatureAt(EActor->x + 0,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1067
if (EMap->InBounds(EActor->x + 1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + 1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + 1, EActor->y + DirY(e.EDir), 197 + (12*256)); h2 = EMap->FCreatureAt(EActor->x + 1,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1068
if (EMap->InBounds(EActor->x + -1,EActor->y + DirY(e.EDir)) && !EMap->SolidAt(EActor->x + -1,EActor->y + DirY(e.EDir))) { ETerm->PutGlyph(EActor->x + -1, EActor->y + DirY(e.EDir), 197 + (12*256)); h3 = EMap->FCreatureAt(EActor->x + -1,EActor->y + DirY(e.EDir)); }
#line "wspells.irh" 1069
}
else {
e.SetParam(1,EActor);
ReThrow(83,e);
e.isSomething = true;
return 1;
}
if ((EActor != NULL && EActor->isPlayer()) ||
(EVictim != NULL && EVictim->isPlayer())) {
ETerm->TermUpdate();
ETerm->StopWatch(500);
ETerm->RefreshMap();
}
if (h1) {
e.SetParam(1,h1);
ReThrow(83,e);
}
if (h2) {
e.SetParam(1,h2);
ReThrow(83,e);
}
if (h3) {
e.SetParam(1,h3);
ReThrow(83,e);
}
e.isSomething = true;
return 1;

},
155 {
#line "wspells.irh" 1101
if (!EVictim->isBeside(EActor))
return -1;
return 0;
},
200 "sheet of flame";
Desc: "Causes jets of flame to spread out of your outstretched fingertips
      in a fan pattern, striking creatures in the three squares nearest you in
      the direction you select for 1d4 points of damage per caster level (max
      5d4).";
}

50 / 2 Spell "Floating Disc" : 3
{ 0x00000010|0x00010000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1114
Purpose: 0x00010 | 0x00000;
xval: 150 ; yval: 23;
Desc: "You create a slightly concave, circular plane of force that
    follows you about and carries your pack for you. The disk is 3 feet in
    diameter and 1 inch deep at its center.  The disk floats approximately
    3 feet above the ground at all times and remains level. It floats along
    horizontally with you and will accompany you as you move. While this
    spell is in effect the weight of your backpack (and its contents) will
    not count against your encumbrance." ;
On Event 205 "FloatDisc" / "Disc";
On Event 28
"A conjured floating disk supports your pack." /
"A conjured floating disk appears near the <EVictim>.",
84
"Your conjured floating disk vanishes." /
"The <EVictim>'s conjured floating disk vanishes."; }




50 / 2 Spell "Chromatic Orb" : 46
{ 0x00000020 | 0x00000002 | 0x00020000; Base: 75; Cost: 0; Level: 1; qval: 0x0004 | 0x0001;
Purpose: 0x00000; cval: 21; Flags: 60, 59; aval: 1;
int32 ch, i;
On Event 52 {
i = e.vCasterLev;
if (i > 20 && EActor->cMana() >= 21)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow, Green, Azure, Violet or Black?","cwroygavb",'b');
else if (i >= 17 && EActor->cMana() >= 18)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow, Green, Azure or Violet?","cwroygav",'v');
else if (i >= 15 && EActor->cMana() >= 15)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow, Green or Azure?","cwroyga",'a');
else if (i >= 12 && EActor->cMana() >= 12)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange, Yellow or Green?","cwroyg",'g');
else if (i >= 9 && EActor->cMana() >= 9)
ch = EActor->ChoicePrompt("Clear, White, Red, Orange or Yellow?","cwroy",'y');
else if (i >= 7 && EActor->cMana() >= 7)
ch = EActor->ChoicePrompt("Clear, White, Red or Orange?","cwro",'o');
else if (i >= 5 && EActor->cMana() >= 6)
ch = EActor->ChoicePrompt("Clear, White or Red?","cwr",'r');
else if (i >= 3 && EActor->cMana() >= 5)
ch = EActor->ChoicePrompt("Clear or White?","cw",'w');
else if (EActor->cMana() >= 4)
ch = 'c';
else {
EActor->IPrint("You don't have enough mana!");
return 2;
}
switch (ch) {
case 27: return 2;
case 'c': EActor->LoseMana(4); e.cval = 7; break; case 'w': EActor->LoseMana(5); e.cval = 15; break; case 'r': EActor->LoseMana(6); e.cval = 12; break; case 'o': EActor->LoseMana(7); e.cval = 6; break; case 'y': EActor->LoseMana(9); e.cval = 14; break; case 'g': EActor->LoseMana(12); e.cval = 2; break; case 'a': EActor->LoseMana(15); e.cval = 9; break; case 'v': EActor->LoseMana(18); e.cval = 5; break; case 'b': EActor->LoseMana(21); e.cval = 0; break; }
return 0;
},
19 {
if (ch == 'c')
e.isGhostTouch = true;
return 0;
},
28 {
hText ht;
i = (e.vCasterLev + 1)/2;
if (e.isCrit)
i = i*2;

if (ch == 'w') {
if (e.MM & 0x00010000)
i = i*6;
else
i = (i)d6;
}
else {
if (e.MM & 0x00010000)
i = i*8;
else
i = (i)d8;
}
if (e.MM & 0x00000200)
i = (i * 15) / 10;
i += EActor->Mod(4);

TPrint(e,"Your orb strikes an <EVictim>!",
"A colored orb strikes you!",
"A colored orb strikes the <EVictim>!");

switch(ch) {
case 'c':
ThrowDmg(41,8,i,"chromatic orb",EActor,EVictim);
ht = "pure magic";
break;
case 'w':
if (EVictim->HasMFlag(8) || EVictim->isMType(57)) {
EVictim->GainTempStati(10,EItem,1d4,2,1,-1);
EVictim->StatiMessage(10);
}
ThrowDmg(41,9,i,"chromatic orb",EActor,EVictim);
ht = "sunlight";

break;
case 'r':
ThrowEff(83,$"faerie fire",EActor,EVictim);
ThrowDmg(41,1,i,"chromatic orb",EActor,EVictim);
ht = "fire";
break;
case 'o':
if (!EVictim->SavingThrow(2,e.saveDC, 0x00001000|0x00008000)) {
EVictim->GainTempStati(6,EItem,1d6+1,2,-1,-1);
EVictim->StatiMessage(6);
}
ThrowDmg(41,7,i,"chromatic orb",EActor,EVictim);
ht = "psychic";
break;

default:
#line "wspells.irh" 1239
if (!EVictim->SavingThrow(2,e.saveDC, 0x00001000|0x00008000)) {
EVictim->GainTempStati(5,EItem,2d8,2,-1,-1);
EVictim->StatiMessage(5);
}
ThrowDmg(41,4,i,"chromatic orb",EActor,EVictim);
ht = "electrical";
break;
}
e.strBlastDmg = XPrint("<13>Damage:<7> <hText><Num>d8<hText><hText><hText> = <Num> <hText>",
e.isCrit ? "(" : "", (e.vCasterLev + 1)/2, (e.MM & 0x00000200) ? " + 50%" : "",
e.strDmg, e.isCrit ? ") x2" : "", i, ht);

if (EVictim->isDead())
TPrint(e,"The <EVictim> is slain!", "",
"The <EVictim> is slain!");
return 1;
},
200
"colored orb";
Desc: "__Creates orbs of various color that inflict 1d8 points of damage (of
      varying types, or 1d6 for the white orb) per odd caster level and cause various 
      special effects on a failed saving throw. A ranged touch attack determines if 
      the orb hits a desired target or not.\n
   	  __<9>Clear Orb (Level 1, 4 mana):<1> Inflicts pure magic (like <9>magic missile<1>) damage, 
	    and strikes true against incorporeal creatures.\n
	    __<9>White Orb (Level 3, 5 mana):<1> Inflicts sunlight-based damage, and causes targets
  	  who are vulnerable to light to become frightened for 1d4 rounds.\n
	    __<9>Red Orb (Level 5, 6 mana):<1> Inflicts fire damage and illuminates the target as per 
	    <9>faerie fire<1>.\n
  	  __<9>Orange Orb (Level 7, 7 mana):<1> Inflicts psychic damage and confuses the target for
	    1d6+1 rounds if they fail a Will save.\n
	    __<9>Yellow Orb (Level 9, 9 mana):<1> Inflicts lightning damage and stuns the target for
	    2d8 rounds if they fail a Will save.";
}

50 Spell "Color Spray" : 46
{
0x00000020|0x00000010|0x00020000; Base: 75; Cost: 3; Level: 1;
qval: 0x0001 | 0x0004;
Purpose: 0x00001 (0); Flags: 89;
cval: 21; aval: 2; sval: 1;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->ChallengeRating() > (e.vCasterLev + 4))
return -1;
if (EVictim->isBlind())
return -1;
if (EVictim->HasMFlag(33))
return -1;
return 0;
},
83
"Your spray of colors strikes an <EVictim>." /
"The <EActor>'s spray of colors strikes you." /
"The <EActor>'s spray of colors strikes an <EVictim>.",
28 {
if (EVictim->ChallengeRating() < (e.vCasterLev / 2)) {
EVictim->GainTempStati(5, NULL, 2d6, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 2d6, 2, -1, -1);
}
else if (EVictim->ChallengeRating() < e.vCasterLev) {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 1d6+1, 2, -1, -1);
}
else {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
}
return 1;
};
Desc: "This spell projects a splash of multicolored light that may 
      blind or stun creatures it strikes -- creatures whose CR is less
      than half the caster's level are blinded and stunned for 2d6
      turns, other creatures whose CR is lower than the caster's
      level are blinded for 1d6+1 turns and stunned for 2 turns and
      creatures whose CR equals or exceeds the caster's level are
      merely stunned for 2 turns. A Reflex saving throw negates the
      effect, but the spell gains a +4 bonus to its DC.";
}

50 / 2 Spell "Phantasmal Force" : 8
{ 0x00000020; Base: 75; Cost: 4; Level: 1;
Purpose: 0x00100; xval: 75; yval: 0;
rval: $"generic summons";
Desc: "This spell creates an illusionary creature, force 
      or object. The illusion affects only one sense, and is
      therefore automatically disbelieved by any creature with
      tremorsense, sharpened senses, scent or blindsight. An
      illusion created by this spell winks out of existance
      if even one person (other than the caster) disbelieves 
      it.\n
      __Sustaining a Phantasmal Force requires concentration --
      the caster suffers a -2 general penalty while the illusion
      is active, and suffering damage requires a Concentration
      check (DC 11 + the amount of damage) to avoid the illusion 
      winking out of existance.";
Flags: 25, 61;
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
},
(28+1000) {
hObj hPhantasm;
if (e.eID != $"Phantasmal Force")
return 0;
if (e.illType != 'c')
return 0;
hPhantasm = EMap->GetEncounterCreature(0);
if (hPhantasm == ((hObj)0))
return 0;
if (!hPhantasm->isCreature())
return 0;
EActor->GainPermStati(117,hPhantasm,7,
51,-2, $"Phantasmal Force");
EActor->GainPermStati(79,hPhantasm,7,
((41+2000)+1000),0, $"Phantasmal Force");
return 0;
},
(((41+2000)+1000)+10000) {
hObj hPhantasm;
if (!EVictim->SkillCheck(8,11 + e.aDmg,true))
{
hPhantasm = EVictim->GetEffStatiObj(
117,$"Phantasmal Force");
if (hPhantasm == ((hObj)0))
return 0;
EVictim->IPrint("You lose concentration on the illusionary <hObj>!",
hPhantasm);
hPhantasm->Remove(true);
}
else
EVictim->IPrint("You maintain concentration!");
return 0;
},
205 "Concentrating" / "Concent";
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop";
}

50 Spell "Ventriloquism" : 46
{ 0x00000020; Base: 95; Cost: 1; Level: 1; qval: 0x0004 | 0x0002;
Purpose: 0x00000;
Desc: "Allows you to project your voice, which will typically cause
    monsters to investigate the target area. The target for this spell is
    a location on the map to which you project your voice. All monsters
    within a 16 square radius of the target square will hear the
    projection.";
On Event 28 {
EMap->MakeNoiseXY(e->EXVal,e->EYVal,16);
return 1;
},
206 "You project your voice." /
"You think you hear the <EActor> speaking.";
}

50 Spell "Change Self" : 3
{ 0x00000020; Base: 90; Cost: 5; Level: 1;
Desc: "Casting this spell crafts a dynamic illusion over your body,
      allowing you to use the Disguise skill with a +10 magic bonus.
      The spell also removes the need to spend an hour preparing the
      disguise, and removes the need for a disguise kit. However, the
      effect is an illusion, and is automatically penetrated by anything
      which penetrates illusions, including <9>true sight<1>.";
xval: 124; yval: 12; pval: +10; Flags: 13;
On Event (28+1000) {
EActor->GainPermStati(44,NULL,7,12);
ReThrow(130,e);
EActor->RemoveStati(44,7,12);
if (!EActor->HasStati(175))
EActor->RemoveEffStati($"Change Self");
return 0;
};
}

50 / 2 Spell "Dancing Lights" : 9
{ 0x00000020; 0x00000010; 0x00020000; Cost: 2; Level: 1; Base: 90;
qval: 0x0002; rval: $"globes of light";
Desc: "Conjures a number of glowing globes of light not
      unlike a will o' wisp that move about as you direct.
      The globes shed light in a 20 foot radius around them,
      and can be used to distract creatures with Intelligence
      below 14, and frighten creatures of CR 2 or lower; on a
      critical hit, they can also blind. The globes are
      incorporeal, but very weak, possessing only one hit
      point and thus being easily dispelled by any attack
      which can strike them."; }

Monster "globes of light" : 36
{ Image: bright cyan 249; Size: 2; Mana: 0;
CR: 1/2; HD: 1; Def: 16; Hit: 0; Mov: 250%; Spd: 75%;
Str 0, Dex 18, Con 3, Int 0, Wis 12, Cha 0;
Attk: 12 for 0d0 90;
Stati[39,13,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040,
0x00000001, 0x00000200, 0x00000002, 0x00000004, 0x00000008,
0x00000010;
Flags: 3, 2, 4, 23,
24, 25, 44, 41, 33,
56, 66, 88, 9;
Desc: "These globes of light are the result of a wizard's
      <9>dancing lights<1> spell.";
On Event 41 {
if (e.DType == 90)
{
if ( EVictim->HasMFlag(33) ||
EVictim->HasMFlag(6) )
{
e.Immune = true;
return 1;
}
if (EVictim->HasMFlag(8))
if (EVictim->ChallengeRating() <= 2)
if (!EVictim->SavingThrow(2,14,
0x00008000|0x00000001|0x00000400|0x00000800))
{
EVictim->GainTempStati(10,EActor,1d4+1,
2,1,0,$"dancing lights",
EActor->GetStatiObj(67)->CasterLev());
}
if (!EVictim->SavingThrow(2,14,
0x00008000|0x00000001|0x00000800))
{
EVictim->GainTempStati(16,EActor,1d4+1,
2,0,0,$"dancing lights",
EActor->GetStatiObj(67)->CasterLev());
}
else
e.Resist = true;
return 1;
}
return 0;
};
}




50 / 2 Spell "Minor Drain" : 1
{ 0x00000040; Base: 75; Cost: 1; Level: 1; xval: 6;
Purpose: 0x00001 | 0x00080 (1); cval: 15;
pval: 1d4; sval: 3;
qval: 0x0001|0x0004|0x0002; aval: 1;
Desc: "With this spell, the wizard drains the life force from a target
    and adds it to his own. The target creature suffers 1-4 damage, while
    the wizard gains 1-4 hit points. ";
On Event 28 {
EActor->cHP = min(EActor->mHP+EActor->GetAttr(36),EActor->cHP + e.vDmg);
return 0;
};
}

50 Spell "Chill Touch" : 1
{ 0x00000040|0x00000800; Base: 95; Cost: 1; Level: 1;
aval: 6; lval: -83;
Purpose: 0x00001 (15); cval: 8;
xval: 6; pval: 1d6+-106; tval: 75;
Flags: 4, 86, 25, 61, 66; }
and 1
{
aval: 6;
xval: 43; pval: 1d2; sval: 0; tval: 75; }
and 3
{
aval: 6;
xval: 10; sval: 2; tval: 76;
Desc: "Your hands glow with a cold blue aura of negative
      energy, and your touch inflicts 1d6+[Caster Level / 2] points
      of damage (max 1d8+10) to the living, as well as draining
      1d2 points of Strength. Against undead, your touch causes
      great terror. You may use this touch attack one time per 
      caster level (minimum 3 times).";
On Event 206
"Your hands glow with a cold blue aura." /
"The <EActor>'s hands glow with a cold blue aura.";
}

Effect "Chill Blood" : 1
{ 0x00000040|0x00000800; Base: 75; Cost: 4; Level: 1; sval: 1 partial;
xval: 2; pval: (-126)d4+(-126); Purpose: 0x00001;
aval: 1; qval: 0x0001 | 0x0004; cval: 19;
Flags: 4, 62; tval: 77;
Desc: "A coruscating black bolt of negative energy is created by this
    spell. A small amount of the victim's blood suddenly freezes in its
    veins, causing pain and discomfort. It deals 1d4+1 points of damage per
    caster level and stuns the target for one round. A subject succeeding
    in a Reflex save suffers half normal damage and is not stunned. This
    spell may only be cast on victims that have blood. Half of the damage
    is cold damage and half of it is untyped and may not be resisted.";
}
and 3
{ xval: 5; sval: 1; aval: 1;
flags: 24, 4; tval: 77; }

50 / 2 Spell "Rigor Mortis" : 1
{ 0x00000040; Base: 75; Cost: 2; Level: 1; sval: 0;
xval: 51; pval: 1d8; qval: 0x0004; tval: 75;
Flags: 4, 63; Purpose: 0x00001;
Desc: "Induces the effects of rigor mortis in a still-living
      creature, causing 1d8 points of Dexterity damage if the
      creature fails a Fortitude save."; }

50 / 52 / 2 Spell "Detect Undead" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5;
#line "wspells.irh" 1548
Level: 1; xval: 134; yval: 76;
pval: 25d1 + (-102);
Desc: "Reveals all Undead creatures, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetUndead" / "DUnd";
}

50 Spell "Halt Undead" : 3
{ 0x00000040; Base: 90; Cost: 2; Level: 1; sval: 0; lval: 9;
xval: 106; yval: 26; pval: -40; tval: 76; cval: 1;
Purpose: 0x00004 | 0x00040; Flags: 4; aval: 11;
Desc: "Reduces the movement rate of any undead within 90 feet (9
      squares) of the caster to 0%, effectively freezing them in place
      and preventing them from approaching. A Fortitude save negates
      the effect."; }

50 / 52 / 2 Spell "Protection from Undead" : 46
{ 0x00000001|0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; sval: 2;
#line "wspells.irh" 1566
Purpose: 0x00010 (23);
On Event 28 {

EVictim->GainTempStati(79, EActor, e.vDuration, 7,
(19+2000),e.saveDC,$"protection from undead");
return 1;
},
((19+2000)+10000) {
if (!EActor->isMType(76))
return 0;
if (e.AType == 65 || e.AType == 112)
return 0;
if (EActor->SavingThrow(2,
EVictim->GetEffStatiVal(79,$"protection from undead"),0x00000001|0x00008000))
return 0;
DPrint(e,"You find yourself unable to strike!",
"The <EActor> hesitates.");
return 1;
},
28
"You feel safe." /
"The <EActor> is surronded by a warm aura.",
84
"You feel less safe." /
"The <EActor>'s warm aura fades.",
205
"ProtUndead" / "ProU";
Desc: "Evokes a mystical protection around you such that undead
      cannot physically strike you without first succeeding in a Will
      save against this spell.";
Flags: 61, 25;
}




53 / 50 / 2 Spell "Jump;spell" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level 1; qval: 0x0004; sval: 3;
#line "wspells.irh" 1604
xval: 124; yval: 22; pval: 10d1 + -102;
Desc: "The target gains a +10 enhancement bonus on Jump checks, +2 per
    caster level."; }

50 Spell "Enlarge" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 1; qval: 0x0004; sval: 0;
#line "wspells.irh" 1610
xval: 106; yval: 25; pval: 1;
Desc: "Causes a target creature to become larger, increasing their
      size catagory by one level.";
On Event 28 {
if (EVictim->GetAttr(25) == 8)
{
EActor->IPrint("You can't get any larger!");
return 1;
}
if (EVictim->HasEffStati(106,$"reduce"))
{
EVictim->RemoveEffStati($"reduce");
return 1;
}
VPrint(e,"You grow larger!",
"The <EVictim> grows larger!");
e.Terse = true;
return 0;
},
84
"You return to your normal size." /
"The <EActor> grows smaller again.";
}
#line "wspells.irh" 1636
50 / 2 Spell "Expeditious Retreat" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1638
Flags: 66, 86;
Purpose: 0x00040 | 0x02000;
xval: 106; yval: 26; pval: 20; }
and 3
{ xval: 106; yval: 54; pval: -10;
Desc: "Increases your movement rate by 100~, while decreasing your attack speed by 50~."; }

50 Spell "Reduce" : 3
{ 0x00000080; Base: 90; Cost: 2; Level: 1; qval: 0x0004; sval: 0;
Purpose: 0x00004; xval: 106; yval: 25; pval: -1;
Flags: 61;
Desc: "Causes a target creature to become smaller, lowering their
      size catagory by one level.";
On Event 28 {
if (EVictim->GetAttr(25) == 1)
{
EActor->IPrint("You can't get any smaller!");
return 1;
}
if (EVictim->HasEffStati(106,$"enlarge")) {
EVictim->RemoveEffStati($"enlarge");
return 1;
}
VPrint(e,"You grow smaller!",
"The <EVictim> grows smaller!");
e.Terse = true;
return 0;
},
84
"You return to your normal size." /
"The <EActor> grows larger again.";
}

50 / 2 Spell "Spider Climb" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1673
xval: 124; yval: 7; pval: +10;
Desc: "Casting this spell causes your hands to become adhesive, granting a
      +10 bonus to Climb checks for the duration, and removing the need for a
      climbing set when using the skill. You also gain the Brachiation feat 
      while the spell is active."; }
and 3
{ xval: 41; yval: ((49 + 1) + 27); pval: 0; }
and 3
{ xval: 44; yval: 7; pval: 0; }
#line "wspells.irh" 1687
50 / 2 Spell "False Life": 3
{ Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; 0x00000040; 0x00000080; Level: 1;
#line "wspells.irh" 1689
xval: 106; yval: 36; pval: 3d10+(-126);
On Event 205 "False Life" / "FL";
Desc: "You draw upon eldricht energies to toughen your body
      against harm and injury. While this spell is in effect, you gain
      temporary hit points equal to 3d10 + 1 per caster level (scaled
      after 9th level)."; }

50 Spell "Convulsion" : 3
{ 0x00000080; Base: 90; sval: 0; qval: 0x0004; Cost: 4; Level: 1; sval: 0;
xval: 117; yval: 51; pval: -6; tval: 91;
Flags: 4, 83, 23;
Desc: "This spell briefly disrupts the biology of a living being, 
      inducing a brief state of system shock where the victim's muscles clench
      and she suffers a kind of seizure. Creatures with Constitution 12
      or less are automatically affected, whereas those with Constitution
      scores of 13 or higher recieve a Fortitude saving throw to negate the
      effect. The effect lasts for only 1d4 rounds, causing the victim to
      suffer a -6 circumstance penalty to all rolls.";
On Event 170 {
e.vDuration = (e.MM & 0x00000004) ? 2d4 : 1d4;
return 0;
},
(83+500) {
if (EVictim->GetAttr(2) > 12)
e.sval = 0;
else
e.sval = 3;
return 0;
},
(83+1000)
{ e.sval = 0;
return 0; },
28
"The <EVictim> is struck with a violent convulsion!" /
"You are struck with a violent convulsion!" /
"The <EVictim> is struck with a violent convulsion!";
}



50 / 2 Spell "Alarm" : 46
{ 0x00000100; Base: 75; Cost: 1; Level: 1; Purpose: 0x00000;
On Event 28 {
ThrowVal(45,0x0100,EActor,EActor);
EActor->Timeout = 0;
EActor->RemoveStati(7);
EActor->FFCount = 0;
return 1;
};
Flags: 45;
Desc: "Casting this spell wards an area you intend to use as a
      campsite with a kind of magical early warning system, making
      you psychically aware when hostile creatures breach its
      boundries.\n
      __In effect, this causes your character to rest, similarly
      to the 'z' command. If you have an encounter, however, you are
      instantly alert and the monsters do not get the chance to make
      a string of attacks against you as usual.";
}

50 / 2 Spell "Phantom Steed" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 1753
Desc: "Summons a quasi-real horselike creature that the caster begins
    to ride. The steed can be ridden by you quite rapidly (half again as
    fast as a warhorse or warpony). It can also magically traverse
    dangerous terrain (e.g., icy floors, brimstone).";
On Event 155 {
if (EActor->HasStati(87) ||
EActor->SkillLevel(40) <= 0 ||
!EActor->HasMFlag(1) ||
EActor->HasMFlag(2) ||
EActor->GetAttr(25) < 3 ||
EActor->GetAttr(25) > 4)
return -1;
return 0;
}, 28 {
hObj hMount;
rID rval;

if (EActor->GetAttr(25) <= 3)
rval = $"phantom pony";
else
rval = $"phantom horse";

hMount = CreateMonster(rval);

if (EActor->onPlane() != 0) {
hMount->GainPermStati(102,hMount,7,EActor->onPlane(),0,
$"mount");
}

SetSilence();
hMount->PartyID = EActor->PartyID;
if (EActor->isPlayer())
hMount->MakeCompanion(EActor,2);
hMount->CalcValues();
if (!hMount->isFriendlyTo(EActor))
{
hMount->Remove(true);
APrint(e,"The mount vanishes.");
return 1;
}
Throw(110,EActor,hMount);
hMount->CalcValues();
UnsetSilence();
hMount->Initialize();
hMount->Reveal(true);

DPrint(e,"A phantom mount appears under you!", "A phantom mount appears under the <EActor>!");
return 0;
} ;
}

Monster "phantom horse" : 24, 48, 36
{
Image: grey 'q'; Size: 5;
CR: 2; HD: 3; Hit: 0; Def: 14; Mov: 250%; Spd: 100%;
Str 15, Dex 20, Con 15, Int 2, Wis 12, Cha 6; Arm: 10;
Stati[39,71,6];
Stati[39,110,6];
Feats: 32, 44, 22;
Flags: 66, 35, 37, 3, 11, 24;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00002000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
}

Monster "phantom pony" : 24, 48, 36
{
Image: grey 'q'; Size: 4;
CR: 2; HD: 3; Hit: 0; Def: 14; Mov: 250%; Spd: 100%;
Str 15, Dex 20, Con 15, Int 2, Wis 12, Cha 6; Arm: 10;
Stati[39,71,6];
Stati[39,110,6];
Feats: 32, 44, 22;
Flags: 66, 35, 37, 3, 11, 24;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00002000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
}


50 / 2 Spell "Mount" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1;
#line "wspells.irh" 1833
Desc: "Summons a horse that the caster begins to ride. At fifth level
    it summons a warhorse instead.  If the caster is size Small (or
    smaller), a pony (or warpony) is summoned instead. You must be a
    humanoid with limbs and a non-zero skill level in Ride to take
    advantage of this spell.";
On Event 155 {
if (EActor->HasStati(87) ||
EActor->SkillLevel(40) <= 0 ||
!EActor->HasMFlag(1) ||
EActor->HasMFlag(2) ||
EActor->GetAttr(25) < 3 ||
EActor->GetAttr(25) > 4)
return -1;
return 0;
}, 28 {
hObj hMount;
rID rval;

if (EActor->CasterLev() >= 5) {
if (EActor->isMType(66) || EActor->isMType(67))
rval = $"war lizard";
else if (EActor->isMType(64))
rval = $"mastiff";
else if (EActor->GetAttr(25) <= 3)
rval = $"warpony";
else
rval = $"warhorse";
} else {
if (EActor->isMType(66) || EActor->isMType(67))
rval = $"riding lizard";
else if (EActor->isMType(64))
rval = $"riding dog";
else if (EActor->GetAttr(25) <= 3)
rval = $"pony";
else
rval = $"horse";
}

hMount = CreateMonster(rval);
if (EActor->onPlane() != 0) {
hMount->GainPermStati(102,hMount,7,EActor->onPlane(),0,
$"mount");
}

hMount->PartyID = EActor->PartyID;
if (EActor->isPlayer())
hMount->MakeCompanion(EActor,2);
hMount->CalcValues();
if (!hMount->isFriendlyTo(EActor))
{
hMount->Remove(true);
APrint(e,"The mount vanishes.");
return 1;
}
Throw(110,EActor,hMount);
hMount->Initialize();
hMount->Reveal(true);

DPrint(e,"A mount appears under you!", "A mount appears under the <EActor>!");
return 0;
} ;
}

50 Spell "Monster Summoning I" : 9
{ 0x00000100; Base: 75; Cost: 2; Level: 1; qval: 0x0002;
Purpose: 0x00100; rval: $"summoned monster"; pval: 1;
Desc: "Summons a living creature of CR 1 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 1+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 1905
50 Spell "Phase Door" : 6
{ 0x00000100; Base: 75; Cost: 2; Level: 1; pval: 1d4+4;
Purpose: 0x00008; xval: 1; Flags: 75;
Desc: "Teleports you randomly 1d4+4 squares away."; }

52 / 2 / 50 Spell "Magic Weapon" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 1; qval: 0x0008;
#line "wspells.irh" 1912
Desc: "Casting this spell temporarily enchants a single weapon (or
      a stack of ammunition) with a +1 magical bonus. This bonus does 
      not stack with any other magical bonus the weapon may have. 
      Magical weapons strike true against undead, outsiders and many 
      other fiends.";
hObj it;
On Event
155 {
if (ETarget->isType(58))
if (ETarget->GetQuantity() == 1)
return 1;
if (ETarget->isType(45))
return 1;
if (ETarget->isMonster())
if (ETarget->InSlot(2) != ((hObj)0))
if (ETarget->InSlot(2)->GetPlus() == 0)
return 0;
return -1;
},
157 {
if (EItem->isType(58))
return 0;
return 2;
},
(52+500) {
if (ETarget->isMonster())
SetETarget(e,ETarget->InSlot(2));
return 0;
},
83 {
ETarget->GainTempStati(185,EActor,e.vDuration,2,1,1,
$"magic weapon", e.vCasterLev);
VPrint(e,"","The <EVictim> gives off a soft silvery glow.");
return 1;
};
Constants:
* 109 75;
}
#line "wspells.irh" 1969
50 / 2 Spell "Protection from Arrows" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2; qval: 0x0004;
#line "wspells.irh" 1971
xval: 79; yval: (20+2000);
Purpose: 0x00010 | 0x00200 (3);
Desc: "Renders a target of the caster's choice immune to any
      arrows or bolts with a bonus of less than +3.";
On Event ((20+2000)+10000) {
if (e.AType == 65)
if (GetHandle(EItem2))
if (EItem2->GetPlus() < 3)
{
VPrint(e,"The <EItem2> is deflected by an invisible force!",
"The <EItem2> is deflected by an invisible force!");
return 1;
}
return 0;
},
205 "ProtArrows" / "PArw";
}

50 / 2 Spell "Gaze Reflection" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 1991
xval: 225; yval: 1; Flags: 25;
Purpose: 0x00010 | 0x00200 (26);
Desc: "Creates a reflective shield, redirecting
      any incoming gaze attacks back at the gazer. If both the attacker and
      the defender both have gaze reflection, the gaze is reflected to the
      original attacker. The ability of a nymph's beauty to strike a man
      dead is considered a gaze attack for the purpose of this spell.";
On Event 206
"A reflective sheen covers your vision." /
"A reflective sheen covers the <EActor>'s eyes.",
207
"The reflective sheen vanishes." /
"The reflective sheen covering the <EActor>'s eyes vanishes.";
}

50 / 2 Spell "Iron Mind" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 2008
xval: 106; yval: 30; pval: +10;
Purpose: 0x00010 | 0x00200 (9);
Desc: "Grants the chosen target a +10 enhancement bonus 
      to her next Will saving throw.";
Flags: 13, 86, 25, 61;
}

50 / 2 / 53 Spell "Resist Water" : 3
{ 0x00000001|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 5; Level: 2; qval: 0x0004;
#line "wspells.irh" 2017
xval: 124; yval: 45; pval: -126;
On Event 205 "ResWater" / "RWat";
Desc: "Grants the target an immunity to rusting, soaking and decay,
    three of the ravages of water. In addition, it grants the target a
    bonus to Swim skill checks equal to your caster level (scaled at 10th).
    This mundane-seeming spell is of critical importance to mages
    interested in protecting their spellbooks from soaking traps or
    underground rivers."; }
and 3 { xval: 177; yval: 74; }
and 3 { xval: 177; yval: 39; }
and 3 { xval: 177; yval: 57; }
and 2 { xval: 124; yval: 45; pval: -126; }

50 / 52 / 53 / 2 Spell "Resist Fire" : 3
{ 0x00000001|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2032
xval: 104; yval: 1; pval: 5d1 + (-110);
Desc: "Grants the target fire resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Cold" : 3
{ 0x00000001|0x00000800; 0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2038
xval: 104; yval: 2; pval: 5d1 + (-110);
Desc: "Grants the target cold resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Lightning" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2044
xval: 104; yval: 4; pval: 5d1 + (-110);
Desc: "Grants the target lightning resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Acid" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2050
xval: 104; yval: 3; pval: 5d1 + (-110);
Desc: "Grants the target acid resistance equal to 5 plus
      2 per 3 caster levels."; }

50 / 52 / 53 / 2 Spell "Resist Sound" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 7; Level: 2; qval: 0x0004;
#line "wspells.irh" 2056
xval: 104; yval: 10; pval: 5d1 + (-110);
Desc: "Grants the target sound resistance equal to 5 plus
      2 per 3 caster levels."; }




50 Spell "Glitterdust" : 3
{ 0x00000002; Base: 75; Cost: 4; Level: 2; sval: 0;
qval: 0x0004 | 0x0002 | 0x0001;
Purpose: 0x00004 | 0x02000; Flags: 34;
aval: 3; lval: 8; cval: 21; xval: 3; }
and 3 {
aval: 3; lval: 8; xval: 139; pval: +1;
On Event 28 {
EVictim->RemoveStati(100);
EVictim->Reveal(false);
};
Desc: "A cloud of golden particles covers everyone and everything in 
      the area, causing creatures to become blinded (Will save negates) and 
      visibly outlining invisible or hiding creatures. All within the area 
      are covered by the dust (no save), which cannot be removed and continues 
      to sparkle until it fades. Any creature covered by the dust takes a -40 
      penalty on Hide checks.";
On Event 206
"A cloud of glittering particles sprays forth!",
(28+1000) {
if (EVictim->HasEffStati(3,$"Glitterdust"))
VPrint(e,"You are blinded by the dust!",
"The <EVictim> is blinded by the dust!");
return 0;
};
}


50 / 2 Spell "Passwall" : 6
{ 0x00000002; Base: 60; Cost: 4; Level: 2; qval: 0x0001;
xval: 5; pval: 3; Purpose: 0x00400;
Desc: "Allows the caster to phase through solid stone or wood,
      moving two squares in the indicated direction even if the
      middle square is blocked by a door or wall.";
On Event 28 {
switch(e.EDir) {
case 0: e.EXVal = EActor->x; e.EYVal = EActor->y - 2; break;
case 1: e.EXVal = EActor->x; e.EYVal = EActor->y + 2; break;
case 2: e.EXVal = EActor->x + 2; e.EYVal = EActor->y; break;
case 3: e.EXVal = EActor->x - 2; e.EYVal = EActor->y; break;
case 4: e.EXVal = EActor->x + 2; e.EYVal = EActor->y - 2; break;
case 5: e.EXVal = EActor->x - 2; e.EYVal = EActor->y - 2; break;
case 6: e.EXVal = EActor->x + 2; e.EYVal = EActor->y + 2; break;
case 7: e.EXVal = EActor->x - 2; e.EYVal = EActor->y + 2; break;
}
e.isDir = false;
e.isLoc = true;
if (EMap->SolidAt(e.EXVal,e.EYVal))
{
DPrint(e,"You flicker, but remain where you are.",
"The <EActor> flickers, but remains where he is.");
return 1;
}
return 0;
};
}

50 / 52 / 53 Spell "Wind Wall" : 5
{ 0x00000002|0x00001000; Base: 90; Cost: 3; Level: 2; lval: 6;
xval: 9; aval: 8; Flags: 25;
rval: $"strong updraft"; qval: 0x0001;
Purpose: 0x00200 | 0x00004 | 0x01000 (3);
Desc: "Creates a vertical curtain of wind that deflects all
      arrows, bolts and throws weapons weighing less than three
      pounds crossing its area.";
On Event 206
"A curtain of wind appears!",
74
"The winds die down."; }

Terrain "strong updraft"
{ Image: cyan '~'; Mat:21;
Flags: 5, 12;
On Event 159 {
if (GetHandle(EItem2) == NULL)
return 0;
if (EItem2->Weight() >= 30)
return 0;
APrint(e,"The <EItem2> is deflected!");
return 2;
};
}

50 / 2 Spell "Web" : 5
{ 0x00000002; Base: 60; Cost: 4; Level: 2; aval: 11; lval : 2;
xval: 9; rval: $"webbing"; qval: 0x0002|0x0004; cval: 7;
Purpose: 0x00040 | 0x00004 | 0x01000; sval: 3;
Desc: "Creates a mass of sticky webbing that holds enemies
      in place and slows their attacks.";
On Event 206
"Sticky webbing materializes out of nowhere!",
74
"The webs dissolve into mist.",
155
{
if (GetHandle(EVictim))
if (EMap->TerrainAt(EVictim->x,EVictim->y) == $"web")
return 1;
if (e.isLoc)
if (EMap->TerrainAt(e.EXVal,e.EYVal) == $"web")
return 1;
return 0;
};
}

50 / 2 Spell "Spirit Net" : 46
{ 0x00000002; 0x00000040; Base: 90; Cost: 4; Level: 2;
aval: 3; lval : 4; qval: 0x0001|0x0004|0x0002;
Purpose: 0x00040 | 0x00004 | 0x01000 | 0x00200 (7);
sval: 3;
Desc: "Mystically inscribes open surfaces and wall edges within a
    volumetric 'blast' of radius 40 feet (4 squares) with warding runes.
    The runes prevent incorporeal creatures and summoned creatures from
    passing. Such creatures can still attack and cast spells. The runes
    appear simultaneously but fade and disappear at a slightly staggered
    rate.";
On Event 75 {
hObj w;
w = CreateFeature($"warding rune");
w->GainTempStati(67,EActor,e.vDuration > 0 ?
e.vDuration + (1d6) : e.vDuration,2);
w->PlaceAt(EMap,e.EXVal,e.EYVal);
return 0;
} ;
On Event 155 {
if (ETarget->onPlane() != 0 ||
ETarget->HasStati(67)) return 0;
else
return 1;
} ;
On Event 206 "Warding runes materialize!";
}

50 Spell "Wall of Doors" : 46
{ 0x00000002; Base: 90; Cost: 8; Level: 2; lval: 6; qval: 0x0001;
aval: 8; pval: 2d6 + (-125);
Purpose: 0x00004 | 0x00800 | 0x01000;
Desc: "Conjures a solid barrier made out of wooden doors, displacing
      any creatures in its path and blocking further passage. The doors are
      initially locked but can be opened or destroyed normally. At caster
      level 5 the doors are created Wizard Locked (+10 to Lockpicking DC,
      double hardness, but they open automatically for you). At caster
      level 7 the doors are created with wards that prevent incorporeal and
      summoned creatures from passing through a door while it is closed.";
On Event 206
"A wall of solid doors materializes!";
On Event 75 {
hObj w;
if (EActor->CasterLev() >= 7)
w = CreateDoor($"warded oak door");
else
w = CreateDoor($"oak door");
if (EActor->CasterLev() >= 5) {
w->GainTempStati(182,EActor,e.vDuration,7,0,e.saveDC,$"Wall of Doors");
}
w->GainTempStati(67,EActor,e.vDuration,2);
w->DoorFlags = 0x08;
w->PlaceAt(EMap,e.EXVal,e.EYVal);
return 0;
} ;
}

50 / 53 / 2 Spell "Pyrotechnics" : 46
{
0x00000002|0x00004000; Base: 90; Cost: 3; Level: 2; qval: 0x0002;
Desc: "To cast this spell, you must target an already existing
      fire, such as a wall torch, a fire elemental or even something
      fire-related like a flow of magma. You can also target any
      creature carrying a lit torch; in this case the torch is
      consumed in the casting of the spell. The spell transforms the 
      fire in one of three ways, at your option:\n
      __<9>Cloud of Smoke:<1> The fire instantly begins emitting a
      greasy, unnatural and thick black smoke, filling an area with
      a radius of 3 squares around the fire. This blocks sight like
      fog, and breathing creatures in the area must make a Fortitude
      save each turn or begin choking.\n
      __<9>Fireworks:<1> The fire explodes into a brilliant display
      of fireworks. Everyone within 40 feet of it (other then the
      caster and his allies, who are assumed to be prepared) must
      make a Fortitude save or be blinded for 1d4+1 rounds. Further,
      creatures with an aversion to light (such as orcs and wraiths)
      must make a second save or become afraid for a much longer
      duration.\n
      __<9>Explosion:<1> The fire explodes outward in a sizzling
      blast, striking everyone within two squares of it for 3d8
      fire damage and 2d6 blunt damage. Additionally, creatures
      in the area must save or be knocked down. The caster is <9>not<1>
      immune to the effects of this version.";
hObj hTorch;
On Event 52 {
int32 ch;
ch = EActor->ChoicePrompt("Smoke, fireworks or explosion?",
"sfe", 's', 4, 12);
if (hTorch)
hTorch->Remove(true);

if (ch == 's') {
RedirectEff(e,$"Pyrotechnics;smoke");
return 1;
}
else if (ch == 'f') {
RedirectEff(e,$"Pyrotechnics;flash");
return 1;
}
RedirectEff(e,$"Pyrotechnics;blast");
return 1;
},
(52+500) {
rID terID; hObj hMon;
hTorch = NULL;
terID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (terID == $"magma" || terID == $"Wall Torch")
return 0;
for (hMon = EMap->FCreatureAt(e.EXVal, e.EYVal);hMon;
hMon = EMap->NCreatureAt(e.EXVal, e.EYVal))
{
if ((hMon != ((hObj)0)) &&
hMon->isMType(38) &&
hMon->isMType(95))
return 0;
if ((hMon != ((hObj)0)) &&
hMon->tmID == $"flaming sphere")
return 0;


if (hMon) {
hTorch = hMon->InSlot(3);
if (hTorch && (hTorch->iID == $"torch" ||
hTorch->iID == $"brass lantern"))
if (hTorch->GetLightRange())
return 0;
}
}
EActor->IPrint("You must target a square with a source of
        flame to use that spell.");
return 2;
};
}

0 Effect "Pyrotechnics;blast" : 1
{ aval: 11; lval: 2; cval: 4;
xval: 1; pval: 3d8; }
and 1
{ aval: 11; lval: 2; cval: 4;
xval: 13; pval: 2d6; }
and 1
{ aval: 11; lval: 2; cval: 4;
xval: 67;
On Event 200
"fiery explosion"; }

0 Effect "Pyrotechnics;smoke" : 3
{ cval: 8; lval: 3; aval: 7; rval: 0x00000100 | 0x00000040;
xval: 14; sval: 0; Flags: 64; }

0 Effect "Pyrotechnics;flash" : 1
{ cval: 21; lval: 4; aval: 11;
xval: 24; pval: 1d4+1; Flags: 34;
On Event (28+500) {
if (EVictim->HasMFlag(8))
if (!EVictim->SavingThrow(2,e.saveDC,
0x00000400|0x00008000|0x00000001))
{
#line "wspells.irh" 2329
EVictim->GainTempStati(10,NULL,10d6,7,1);
VPrint(e,"You flee in panic from the pyrotechnic display!",
"The <EVictim> flees in panic from the pyrotechnic display!");
}
return 0;
};
}

50 Spell "Animate Rope" : 46
{
0x00000002; Level: 2; Base: 75; Cost: 7; Purpose: 0x00100;
Desc: "Casting this spell imbues a coil of rope with a semblance
      of life and motion, causing it to animate and attack the
      caster's enemies. The animated rope has Strength and Dexterity
      equal to the caster's Wisdom and Intelligence, hit points and
      damage based on the type of rope the spell is used on and the 
      same Hardness it has when inanimate.\n
      __Casting <9>animate rope<1> consumes 30 feet from a coil of
      rope, so a well-equipped caster can animate several distinct
      coils at the same time.";
hObj hRope;
On Event (52+500) {
hObj it; hObj it2; int32 found;
found = false;
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (ResourceHasFlag(it->iID,15))
if (it->GetQuantity() >= 3)
{
found = true;
if (!EActor->isPlayer())
{ it2 = it; break; }
ETerm->LOption(it->Name(0),(int32)it);
}
if (!found)
{
EActor->IPrint("You need at least 30 feet of rope to cast
            that spell!");
return 2;
}
if (EActor->isPlayer())
{
it2 = (hObj) ETerm->LMenu(0x0100|0x0002,"Choose a Rope:");
if (it2 == (hObj)-1)
return 2;
}

if (it2 == ((hObj)0))
return 2;


if (it2->GetQuantity() == 3)
{ it2->Remove(false); hRope = it2; }
else {
hRope = it2->TakeOne();
it2->SetQuantity(it2->GetQuantity() - 2);
hRope->SetQuantity(3);
}
return 0;
},
155 {
hObj it3;
for (it3=EActor->FirstInv();it3;it3=EActor->NextInv())
if (ResourceHasFlag(it3->iID,15))
if (it3->GetQuantity() >= 3)
return 0;
return 1;
},
28 {
hObj hAnim; rID monID;

switch(hRope->iID)
{
case $"hemp rope": monID = $"animated hemp rope"; break;
case $"silk rope": monID = $"animated silk rope"; break;
case $"giant's-hair rope": monID = $"animated giant's-hair rope"; break;
default:
Error("Strange rope in Animate Rope::EV_MAGIC_HIT!");
return 2;
}

EMap->thEnGenMonSummXY($"exact monster", monID, 0x00008000|0x00000004,
36, 0, EActor, e.EXVal, e.EYVal);


hAnim = EMap->GetEncounterCreature(0);
if (hAnim == ((hObj)0))
return 2;
hAnim->GainPermStati(113,NULL,7,0,
EActor->GetAttr(4)-10);
hAnim->GainPermStati(113,NULL,7,3,
EActor->GetAttr(3)-10);
hAnim->GainPermStati(79,NULL,7,
((41+2000)+500),0,$"Animate Rope", e.vCasterLev);
hAnim->GainTempStati(167,hRope,e.vDuration,2,0,0,
$"Animate Rope", e.vCasterLev);
return 1;
},
(((41+2000)+500)+10000) {
hObj hItem, hAnim; int32 percent;
#line "wspells.irh" 2430
if (e.DType <= 13)
{
hItem = EVictim->GetStatiObj(167);
hAnim = GetHandle(EVictim);
SetETarget(e,hItem);
ReThrow(41,e);
SetETarget(e,hAnim);
if (hItem->isDead())
hAnim->Remove(true);
else {
percent = (hItem->GetHP() * 100) / hItem->MaxHP();
hAnim->cHP = max(1,(hAnim->mHP * percent) / 100);
}
return 1;
}
return 0;
};
}

Monster "animated hemp rope" : 36
{ Image: bright red 234; Size: 4;
CR: 1; HD: 1; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 10, Wis 1, Cha 1;
Attk: 21 for 0d0 63 (DC 15),
32 for 1d6 13;
Stati[39,42,6];
Flags: 24, 3, 4, 2,
7, 19, 20, 23,
25, 33, 88, 66;
}

Monster "animated silk rope" : 36
{ Image: bright red 234; Size: 4;
CR: 1; HD: 2; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 10, Wis 1, Cha 1;
Attk: 21 for 0d0 63 (DC 17),
32 for 1d8 13;
Stati[39,42,6]; Flags: 24;
Flags: 24, 3, 4, 2,
7, 19, 20, 23,
25, 33, 88, 66;
}

Monster "animated giant's-hair rope" : 36
{ Image: bright red 234; Size: 4;
CR: 1; HD: 3; Hit: +4; Def: 10; Mov: 125%; Spd: 150%;
Str 10, Dex 10, Wis 1, Cha 1;
Attk: 21 for 0d0 63 (DC 19),
32 for 1d10 13;
Stati[39,42,6]; Flags: 24;
Flags: 24, 3, 4, 2,
7, 19, 20, 23,
25, 33, 88, 66;
}




50 / 2 Spell "Detect Objects" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; xval: 153;
#line "wspells.irh" 2490
yval: (-4);
pval: 25d1 + (-102);
Purpose: 0x00010 | 0x00000;
Desc: "Reveals all items, seen or unseen, within (25 + [caster
    level x 2]) squares of you.";
On Event 205 "DetObj" / "DObj";
}

50 Spell "Identify" : 46
{ 0x00000004; Base: 95; Cost: 10; Level: 2; qval: 0x0008;
Flags: 40, 41;
Desc: "Identifies the basic magical nature of one chosen
      item. This spell requires a ritual which takes one hour
      to perform and costs two fatigue points.";
Purpose: 0x00000;
On Event
52 {
if (EActor->isPlayer())
if (EActor->SpendHours(1,1) != 1)
return 2;
if (!EActor->LoseFatigue(2, true))
return 2;
return 0;
},
157 {
if (EItem->isKnown(0x60) || EItem->isType(44) ||
EItem->isType(37))
return 2;
return 0;
},
28 {
ETarget->MakeKnown(0xFF);
EActor->IPrint("That is an <hObj>.",ETarget);
return 1;
};
Constants:
* 109 50;
}

50 / 2 / 53 Spell "Infravision" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 2531
xval: 39; yval: 42; pval: 6;
Desc: "Grants the caster temporary magical infravision out to
      a range of 60 feet (6 squares), or increases his existing
      infravision by a similar amount.";
}

50 / 2 Spell "See Invisibility" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; xval: 101;
#line "wspells.irh" 2539
On Event 205 "See Invis" / "SI";
Desc: "Casting this spell allows the caster to see invisible 
      creatures normally; it also renders visible creatures on
      the etherial plane, who normally cannot be seen by observers
      from the material plane.";
}

50 / 2 Spell "ESP" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "wspells.irh" 2548
xval: 39; yval: 91; pval: 4;
Desc: "Renders the caster telepathic, allowing him to sense the
      presence and location of any thinking creatures within 40 feet (4
      squares) of him."; }

50 Spell "Revealed Lore" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 2555
Purpose: 0x00010 (1);
xval: 106; yval: 3; pval: 1d4+1;
Desc: "By casting this spell, the mage gains a divinatory
      capacity toward whatever problems she focuses on, and
      solutions are revealed to her that she could not otherwise
      have known. In game terms, this spell grants the subject a 
      magic bonus to their Intelligence of 1d4+1 points.";
}



50 Spell "Eagle's Splendour" : 3
{ 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 2568
xval: 106; yval: 5; pval: 1d4+1;
Desc: "Improves your Charisma score by 1d4+1 points for 
      the duration."; }

50 Spell "Hypnotism" : 3
{ 0x00000008; Base: 90; Cost: 4; Level: 2; qval: 0x0004;
xval: 9; yval: 1; sval: 2;
Flags: 53, 25, 34, 89;
Purpose: 0x00040 | 0x01000 (9);
On Event (83+500) {
if (!EActor->isBeside(EVictim))
{
EActor->IPrint("That creature is too far away to hypnotize!");
return 1;
}
return 0;
},
155 {
if (EActor->isMonster())
if (!EActor->isBeside(EVictim))
return -1;
return 0;
};
Desc: "Causes a creature immediately beside you to become
      entranced if it fails a Will save, such that it will not
      act until it suffers damage or is otherwise shocked back
      to its senses (though it is not helpless as with Hold
      Person, and cannot be Coup de Grace'd). This spell has a
      +4 spell bonus to its save DC.";

}

50 Spell "Touch of Idiocy" : 4
{ 0x00000008; Base: 95; Cost: 3; Level: 2;



aval: 6;

lval: -101; xval: 53; pval: 1d6; sval: 0;
Purpose: 0x00001;
Flags: 53, 86, 4, 61, 66;
tval: 85;
On Event 28 {
ThrowDmg(41,54,e.vDmg,"Touch of Idiocy",
EActor, EVictim, EItem, EItem2);
ThrowDmg(41,55,e.vDmg,"Touch of Idiocy",
EActor, EVictim, EItem, EItem2);
};
Desc:
"With a touch, you reduce a sapient target's mental faculties. Your
    successful touch attack does 1d6 points of damage to the target's
    Intelligence, Wisdom and Charisma scores. You may make one such Touch
    attack per level.";
On Event 206
"Your hands glow with a dull aura." /
"The <EActor>'s hands glow with a dull aura.";
}

50 Spell "Hideous Laughter" : 3
{ 0x00000008; Base: 75; Cost: 4; Level: 2; tval: 85;
Purpose: 0x00004 (9); xval: 5; qval: 0x0004;
Flags: 4, 61, 23, 53;
On Event 205 "Laughing" / "Lau"; sval: 2;
Desc: "Causes a sapient creature to be completely overcome
      with uncontrollable laughter for 1d4 rounds.";
On Event 28
"You are overcome with uncontrollable laughter!" /
"The <EVictim> is overcome with uncontrollable laughter!",
84
"The laughter abates."; }

50 Spell "Dire Charm" : 3
{ 0x00000008; Base: 90; Cost: 3; Level: 2; qval: 0x0004;
Purpose: 0x00004 (9); xval: 147;
sval: 2; Flags: 53;
Desc: "Causes a creature to be overwhelmed with bloodthirst,
      going berzerk and racing forward to attack the caster in 
      melee in preferance to all other actions."; }
#line "wspells.irh" 2697
50 Spell "Electric Loop" : 1
{ 0x00000010; Base: 95; Cost: 3; Level: 2; sval: 1 partial;
xval: 4; pval: (-122)d4; Purpose: 0x00001;
Flags: 34, 75;
aval: 11; cval: 20; lval: 2;
Desc: "Creates a ring of electricity that deals 1d4 points of
    lightning damage (max 5d4) to all creatures adjacent to the caster.
    In addition, creatures that fail a Reflex save are stunned for one
    round.";
}
and 3
{ xval: 5; sval: 1; Flags: 24, 34;
aval: 11; lval: 2; }

50 Spell "Scorcher" : 1
{ 0x00000010|0x00004000; Base: 90; Cost: 4; Level: 2; aval: 2; qval: 0x0001|0x0004;
xval: 1; lval: 4; sval: 1 partial; pval: 2d8+-124;
Purpose: 0x00001 (10); cval: 4;
Desc: "Projects a ray of fire at the caster's enemies inflicting
      2d8+[caster level, max 15] points of damage. A Reflex save halves
      the damage."; }

50 Spell "Acid Arrow" : 1
{ 0x00000010; Base: 60; Cost: 4; Level: 2; Purpose: 0x00001;
xval: 3; pval: 2d4; Flags: 61;
aval: 1; qval: 0x0001 | 0x0004; cval: 2;
Desc: "A magical arrow of acid springs from your hand and speeds to its
    target. You must succeed on a ranged touch attack to hit your target.
    The arrow deals 2d4 points of acid damage with no splash damage. For
    every caster level, the acid, unless somehow neutralized, lasts for
    another round, dealing another 1d4 points of damage in that round.";
}
and 3 {
aval: 1; xval: 79; yval: 32;
On Event (32+10000) {
hObj killer;
ThrowDmg(41,3,1d4,"lingering acid",EActor,EActor);
DPrint(e,"The acid sears!", "Acid sears the <EActor>!");
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"acid arrow");
if (killer)
killer->KillXP(EActor);
}
return 0;
},
200 "arrow of acid";
}

50 / 51 / 52 Spell "Globe of Shadow" : 3
{ 0x00000010|0x00040000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0;
#line "wspells.irh" 2748
aval: 9; rval: 0x00000200|0x00000004; lval: 1;
Purpose: 0x00002|0x00010;
Flags: 80; cval: 8;
Desc: "Creates a 10' (1 square) radius globe of magical gloom
      and shadows that travels with you and grants all creatures within it
      a +4 circumstance bonus to Hide and a 25% miss chance versus ranged
      attacks due to concealment.";
xval: 124; yval: 18; pval: +4; }
and 3
{ xval: 145; yval: 1; pval: 25; }


50 / 51 Spell "Decastave" : 13
{ 0x00000010; Base: 90; Cost: 5; Level: 2;
xval: 0x01 | 0x10; rval: $"force construct staff";
Flags: 25; Purpose: 0x00010 (1);
pval: +6;
On Event 28
"A force-staff appears in your hands!" /
"A force-staff appears in <EActor>'s hands!";
Desc: "Creates a force staff in the caster's hands that inflicts
      1d10 (1d8 vs. large creatures) points of blunt damage, 1d6 points 
      of sonic damage, scores at threat on 17-20 (crit x3) and has a 
      speed modifier of +25~.";
hObj it;
On Event 155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->iID == $"force construct staff")
return 1;
return 0;
} ;
On Event (28+1000) {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->iID == $"force construct staff") {
it->AddQuality(10);
}
}
};
}


52 / 51 / 50 Spell "Shatter" : 1
{ 0x00000010; Base: 75; Cost: 4; Level: 2; qval: 0x0004 | 0x0010;
xval: 10; pval: (-126)d4; Purpose: 0x00004;
aval: 2; Flags: 58;
Purpose: 0x00000;
Desc: "Creates a harmonic sound that shatters objects, inflicting
      1d4 sonic damage per caster level, scaled after 9th, to each exposed 
      item in the target creature's inventory. If the target is a 
      construct, it also suffers this damage directly.";
On Event (28+500) {
if (ETarget->isCreature() && !ETarget->isMType(36))
return 1;
};
On Event 200 "harmonic burst";
}

50 / 53 / 2 Spell "Gust of Wind" : 1
{ 0x00000010|0x00001000; Base: 90; Cost: 4; Level: 2; qval: 0x0001;
aval: 2; lval: 9; cval: 9;
Purpose: 0x00040 | 0x00004 | 0x01000;
xval: 61; pval: 1d4+-115; Flags: 75;
Desc: "Creates a tremendous blast of wind that forces enemies it
      strikes 1d4 + 1 per three levels starting at 1st backwards.
      The wind can also be used to disperse fog created by spells
      like <9>obscurement<1>, <9>fog cloud<1>, <9>mind fog<1>,
      <9>stinking cloud<1> or <9>pyrotechnics<1>, or the similar
      conjurations of <9>rainstorm<1>, <9>summon swarm<1> or 
      <9>insect plague<1>, or the fumes produced by a thunderbeast. 
      This dispersal is automatic.";
On Event 200 "blast of wind";
}
and 4
{ xval: 67; sval: 3; Flags: 54; aval: 2;
On Event 75 {
rID tID;
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Obscurement",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Fog Cloud",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Mind Fog",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Pyrotechnics;smoke",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Stinking Cloud",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Thunderbeast Fumes",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"fog;horn effect",0))
APrint(e,"The blast of wind disperses the fog!");
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Insect Plague",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Summon Swarm",0))
APrint(e,"The blast of wind disperses the insects!");
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Rainstorm",0))
APrint(e,"The blast of wind disperses the rainstorm!");
tID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (tID == $"stinking cloud;terrain" ||
tID == $"fog" || tID == $"acid fog") {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The blast of wind clears the air!");
}
return 0;
},
170 {
e.vRange = 9;
return 0;
};
}



1 / 50 / 2 Spell "Invisibility" : 3
{ 0x00000020; Base: 60; Cost: 5; Level: 2; qval: 0x0004;
xval: 100; yval: 1; pval: -101;
Flags: 25, 86; Purpose: 0x00010 | 0x00002;
Desc: "Renders a chosen character unseen by others. The
      magic creates a faint shimmering effect around the
      character's location that might be spotted by powerful
      (CR 5+) creatures when the invisible creature moves
      within 30 feet, or if they are alerted by the invisible 
      creature making noise or turning invisible within their 
      line of sight. A Spot check (DC 20) allows them to discern
      the invisible creature's location (as an unclear shape --
      they still cannot 'see' the creature) for the remainder
      of the day. Even if the invisible creature drops and
      reactivates her invisibility magic, alerted monsters
      will still be able to track her via this shimmer.
      However, creatures only get one Spot check per day to
      notice the shimmer of an invisible creature."; }
#line "wspells.irh" 2876
50 / 2 Spell "Blur" : 3
{ 0x00000020|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "wspells.irh" 2878
xval: 145; yval: 2; pval: 20;
Desc: "Causes your image to ripple and become distorted as if
      reflected on the surface of water, giving attacks a 20% miss 
      chance against you.";
On Event 28
"Your image becomes blurred and indistinct." /
"The <EVictim>'s image becomes blurred and indistinct.",
74
"Your image snaps back into focus." /
"The <EVictim>'s image snaps back into focus.";
}

50 / 2 Spell "Mirror Image" : 3
{ 0x00000020; Base: 90; Cost: 5; Level: 2; Flags: 61, 72;
xval: 79; yval: (20+2000); pval: 1d4+-107;
Purpose: 0x00010;
Desc: "Creates 1d4 + 1 per three caster levels illusionary images
      of you. Foes have an equal chance of striking each individual
      image as they do of striking the real you. Tremorsense,
      blindsight, telepathic awareness or true seeing all allow an
      enemy to strike unerringly at the real you.";
On Event ((20+2000)+10000) {
int32 count, per;

if (((e.AType) > 39 && (e.AType) <= 53) || ((e.AType) > 53 && (e.AType) <= 60))
return 0;


if (!random(EVictim->GetEffStatiVal(79,$"mirror image")+1))
return 0;

if (EActor->HasStati(148))
return 0;

per = EActor->Percieves(EVictim);
if (per & (0x0020 | 0x0008 | 0x0010 | 0x0080))
return 0;

count = EVictim->GetEffStatiVal(79,$"mirror image");

if (count == 1)
VPrint(e,"The last of your images vanishes.",
"The last of the <EVictim>'s images vanishes.");
else
VPrint(e,"One of your images vanishes.",
"One of the <EVictim>'s images vanishes.");

if (count == 1) {
SetSilence();
EVictim->RemoveEffStati($"mirror image");
UnsetSilence();
}
else
EVictim->SetEffStatiVal(79,$"mirror image",count - 1);

return 1;
},
28 {
DPrint(e,"<Num> images split off from your body.",
"The <EVictim> splits into a miasma of <Num2> identical images!",
e.vDmg, e.vDmg+1);
e.Terse = true;
return 0;
},
84
"Your remaining images vanish." /
"The <EActor>'s remaining images vanish.",
205
"MirrorImg" / "MI";
}

50 / 2 Spell "Hypnotic Pattern" : 3
{ 0x00000020; Base: 90; Cost: 4; Level: 2; qval: 0x0002;
aval: 11; cval: 14; lval: 2; sval: 2;
xval: 9; yval: 1; Flags: 53;
Purpose: 0x00004 (9);
On Event 155 {
if (!EVictim->isCreature())
return -1;
if (EVictim->HasMFlag(33) ||
EVictim->HasMFlag(6))
return -1;
if (EVictim->ChallengeRating() > ((e.vCasterLev+1)/2))
return -1;
if (EVictim->HasStati(3) || EVictim->HasStati(148))
return -1;
if (EVictim->GetAttr(3) >= 14)
return -1;
return 0;
};
Desc: "Causes creatures in a 20-foot globe to become entranced with
      a display of weaving lines and images, standing rapt and motionless,
      provided that their Intelligence is lower then 14, their CR is lower
      than half your caster level (rounded up) and they are able to see
      the pattern normally. Attacking an entranced creature ends the trance.";
On Event 206
"A swirling pattern of lights appears!";
}

50 / 2 Spell "Improved Phantasmal Force" : 8
{ 0x00000020; Base: 75; Cost: 6; Level: 2;
Purpose: 0x00100; xval: 75; yval: 2;
rval: $"generic summons";
Desc: "This spell creates an illusionary creature, force 
      or object, just as Phantasmal Force does, but the illusion
      affects all natural and supernatural senses, and is thus
      believable to creatures who have scent, tremorsense, sharp
      senses or blindsight.";
Flags: 25, 61;
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
},
(28+1000) {
hObj hPhantasm;
if (e.eID != $"Improved Phantasmal Force")
return 0;
if (e.illType != 'c')
return 0;
hPhantasm = EMap->GetEncounterCreature(0);
if (hPhantasm == ((hObj)0))
return 0;
if (!hPhantasm->isCreature())
return 0;

EActor->GainPermStati(117,hPhantasm,7,
51,-2, $"Phantasmal Force");
EActor->GainPermStati(79,hPhantasm,7,
((41+2000)+1000),0, $"Improved Phantasmal Force");
return 0;
},
(((41+2000)+1000)+10000) {
hObj hPhantasm;
if (!EVictim->SkillCheck(8,11 + e.aDmg,true))
{
hPhantasm = EVictim->GetEffStatiObj(
117,$"Improved Phantasmal Force");
if (hPhantasm == ((hObj)0))
return 0;
EVictim->IPrint("You lose concentration on the illusionary <hObj>!",
hPhantasm);
hPhantasm->Remove(true);
}
else
EVictim->IPrint("You maintain concentration!");
return 0;
},
205 "Concentrating" / "Concent";
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop";
}
#line "wspells.irh" 3041
50 Spell "Visage of Death": 46
{ Flags: 86, 85, 78, 61, 66;
Base: 100; Cost: 20; 0x00000040; 0x00000020; Level: 2; Purpose: 0x00000;
Desc: "This spell allows you to alter your appearance to that of a
    zombie of the same size class. Your body temperature will feel cold and
    your limbs will appear stiff, putrid and rotting; you lose six points
    of Charisma. This spell does not actually make you undead or grant the
    usual undead abilities or resistances. However, it does grant
    resistance to cold and electricity and you do not need to breathe while
    the spell is in effect. Finally and perhaps most importantly, the spell
    makes you neutral to undead by default.";
On Event 205 "Visage" / "Vis";
On Event 155 {
if (EVictim->CanAddTemplate($"zombie;visage"))
return 0;
return -1;
},
83 {
if (EVictim->CanAddTemplate($"zombie;visage")) {
EVictim->GainTempStati(71,EActor,e.vDuration,2,
0, 1, $"zombie;visage",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->GainTempStati(214,EActor,e.vDuration,2,
76, 76, $"visage of death",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
EVictim->SetImage();
EVictim->CalcValues();
return 1;
} else return 2;
} ;
}
#line "wspells.irh" 3075
50 Spell "Aura of Death" : 3
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2;
#line "wspells.irh" 3077
Flags: 83;
xval: 79; yval: ((20+1000)+2000); pval: (-99);
On Event (((20+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s aura of death drains you!",
"Your aura of death drains the <EActor>!",
"The <EVictim>'s aura of death drains the <EActor>!");
ThrowDmg(41,6,1d4+EVictim->GetEffStatiVal(79,$"aura of death"),
"an aura of death", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
},
52 {
if (e.MM & 0x00800000)
{
EActor->IPrint("This spell can't be transmuted.");
return 2;
}
},
205 "AuraDeath" / "AuDe",
206
"You are wreathed in a shroud of death!" /
"The <EActor> is wreathed in a shroud of death!",
84
"Your aura of death fades." /
"The <EActor>'s aura of death fades.";
Desc: "Envelops you in a shroud of crackling black energy that deals
    (1d4 + [caster level / 2]) points of necromatic damage to anyone
    who attacks you in melee.";
} and 3 {
xval: 79; yval: ((21+1000)+2000); pval: (-99);
On Event (((21+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s aura of death drains you!",
"Your aura of death drains the <EActor>!",
"The <EVictim>'s aura of death drains the <EActor>!");
ThrowDmg(41,6,1d4+EVictim->GetEffStatiVal(79,$"aura of death"),
"aura of death", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
};
}
#line "wspells.irh" 3134
50 Spell "Scare" : 1
{ 0x00000040; 0x00000800; 0x00000020; Base: 90; Cost: 4; Level: 2; sval: 2;
aval: 16; lval: 12; cval: 3; tval: 111;
Purpose: 0x00040 | 0x00004; qval: 0x0004;
xval: 2; pval: 2d4;
Flags: 53, 4, 71, 70;
Desc: "Casting this spell weaves material drawn from
      the Negative Energy Plane into a swirling stream of
      translucent, ghostly figures -- beastial, snarling
      faces tapering off into indistinct bodies. The
      swarm of apparitions only lasts for a few seconds,
      flying through the air at considerable speed and
      passing through the bodies of the caster's foes,
      carrying with them an icy, unnatural chill.\n
      __This spell arcs to a number of targets equal to
      the caster's level, requiring each target to make
      a Will saving throw or become afraid for 1d4 rounds
      plus one round for every three full caster levels.
      Creatures who fail the save also take 2d4 point of
      psychosomatic cold damage.\n
      __Creatures who are blind, mindless, have sharpened 
      senses, tremorsense or blindsight are immune to this 
      effect. (The apparitions are intangible and thus 
      can't be revealed as illusions via Scent).";
On Event 155 {
if (EVictim->isBlind())
return -1;
if (EVictim->HasMFlag(33))
return -1;
if (EVictim->HasAbility(13) ||
EVictim->HasAbility(95) ||
EVictim->HasAbility(73))
return -1;
return 0;
},
170 {
e.vDuration = 1d4 + e.vCasterLev / 3;

e.vChainMax = 1 + e.vCasterLev / 3;
return 0;
},
200
"stream of ghostly horrors";
}
and 3
{ xval: 10; yval: 1; }

50 Spell "Bladethirst" : 3
{ 0x00000040; Cost: 2; Base: 90; Level: 2; qval: 0x0008; tval: 58;
xval: 79; yval: (20+1000); Purpose: 0x00010;
Flags: 25, 41, 40;
Desc: "Imbues a blade with negative energy, causing it to drink the
      blood of its next victim, inflicting a bonus 2d8 points of
      necromantic damage.";
On Event 155 {
if (ETarget->isType(58) &&
(ETarget->isGroup(0x00000008) ||
ETarget->isGroup(0x00000004) ||
ETarget->isGroup(0x00001000)))
return 1;
return -1;
},
((20+1000)+10000) {
if (!EVictim->isCreature())
return 0;
if (EVictim->isDead())
return 0;
VPrint(e,"The <EItem> drinks your blood!",
"The <EItem> drinks the <EVictim>'s blood!");
ThrowDmg(41,6,2d8,"a thirsty blade",EActor,EVictim,EItem);
if (GetHandle(EItem))
EItem->RemoveEffStati($"bladethirst");
if (GetHandle(EItem2))
EItem2->RemoveEffStati($"bladethirst");
return 0;
};
On Event 28
"" /
"The <ETarget> glows crimson!";
}




50 / 2 Spell "Ghoul Touch" : 3
{ 0x00000040; Base: 95; Cost: 3; Level: 2; sval: 0;
aval: 6; xval: 9;
Flags: 25, 86, 66;
cval: 1; Purpose: 0x00001;
On Event (28+1000) {
if (!e.Resist) {
EMap->NewField(0x00000004,EVictim->x,EVictim->y,2,
2*256,e.vDuration,$"ghast stench",EActor);
VPrint(e,NULL,"A terrible stench rises from the <EVictim>'s body!");
}
return 0;
},
206
"Your hands glow with a sickly green light." /
"The <EActor>'s hands glow with a sickly green light.";
Desc: "Your touch can paralyze a creature (Fortitude negates) and
      cause it to emit a stench similar to a ghast's.";
}

50 Spell "Choke" : 3
{ 0x00000040|0x00001000; 0x00000080; Base: 75; Cost: 4; Level: 2; qval: 0x0004;
xval: 79; yval: 32; tval: 78;
Flags: 4; Purpose: 0x00001;
On Event 155 {
if (ETarget->HasMFlag(4))
return -1;
return 0;
},
(32+10000) {
hObj killer;
DPrint(e,"You're being strangled!",
"The <EActor> gets strangled!");
ThrowDmg(41,62,1d8,"a choke spell",EActor,EActor);
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"choke");
if (killer)
killer->KillXP(EActor);
}
return 0;
};
On Event 28
"Spectral hands appear around your neck!" /
"Spectral hands appear around the <EVictim>'s neck!",
74
"The glowing hands fade.";
Desc: "Causes spectral hands to appear around the target's neck, 
      choking him for 1d8 points of damage every turn and lasting a
      number of turns equal to half your caster level.";
}

50 Spell "Spectral Hand" : 9
{
0x00000040; Base: 75; Cost: 6; Level: 2; qval: 0x0002;
Desc: "Casting this spell conjures a ghostly hand with a sympathetic
      bond to the caster's own life aura, such that any touch spell the
      caster has active can have its effects delivered at a distance by
      the hand. The hand is a very minor magical creation, a wisp of
      negative energy, but still an undead creature in its own right. It
      is considered a summoned creature and can be banished or held at
      bay by <9>protection from evil<1> and similar magics.\n
      __Since the hand is shaped from your own life force, you lose 1d4
      hit points when casting the spell.";
rval: $"spectral hand;mon"; pval: 1;
On Event (28+1000) {
ThrowDmg(41,0,1d4,"casting spectral hand",
EActor, EActor);
return 0;
};
}

Monster "spectral hand;mon" : 76, 36, 124
{
Image: bright blue 'U'; Size: 2;
CR: 1; HD: 1; Def: 22; Mov: 200%; Spd: 125%;
Str 10, Dex 10, Con 0, Int 0, Wis 0, Cha 0;
Attk: 9 for 0d0 90;
Stati[39,42,12];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "wspells.irh" 3297
Flags: 9, 13, 2, 4, 3,
5, 7, 24, 21, 66, 55,
88;
On Event (17+500) {
hObj hCaster;
hCaster = EActor->GetStatiObj(67);
if (hCaster == ((hObj)0))
{ EActor->Remove(true); return 1; }
SetSilence();
EActor->RemoveStati(149);
if (hCaster->HasStati(149))
EActor->GainPermStati(149,
hCaster->GetStatiObj(149),
2, hCaster->GetStatiVal(149),
hCaster->GetStatiMag(149),
hCaster->GetStatiEID(149),
hCaster->GetStatiCLev(149));
UnsetSilence();
return 0;
},
(17+1000) {
hObj hCaster;
hCaster = EActor->GetStatiObj(67);
if (hCaster == ((hObj)0))
{ EActor->Remove(true); return 1; }

if (EActor->HasStati(149))
hCaster->SetStatiMag(149,-1,NULL,
EActor->GetStatiMag(149));
else
hCaster->RemoveStati(149);

SetSilence();
EActor->RemoveStati(149);
UnsetSilence();
return 0;
},
(83+500) {
hObj hHand;
if (EActor->mID == $"spectral hand;mon")
{
hHand = GetHandle(EActor);
SetEActor(e,EActor->GetStatiObj(67));
ReThrow(83,e);
SetEActor(e,hHand);
return 1;
}
return 0;
},
156 {
EActor->GainPermStati(113,NULL,7,
50, EActor->GetStatiObj(67)->CasterLev(),((rID)0));
EActor->GainPermStati(113,NULL,7,
1, EActor->GetStatiObj(67)->GetAttr(3)-10,((rID)0));
},
209
"It has an inherant bonus to its attack roll equal to its
        creator's caster level, and an inherant modifier to its
        Dexterity making that attribute equal to it's creator's
        Intelligence.",
210
"deliver its creator's touch spells",
(41+500) {
if (e.DType == 90)
return 1;
return 0;
};
}



1 / 50 / 2 Spell "Levitation" : 3
{ 0x00000080; Base: 75; Cost: 4; Level: 2;
xval: 127;
Purpose: 0x00400;
Desc: "Allows you to float a foot off the ground and move normally,
      thus avoiding many traps, becoming invisible to tremorsense and
      gaining the ability to cross pits and chasms safely, but halving
      your movement rate, granting you a -2 circumstance penalty
      to attack rolls, and a -15~ circumstance penalty to spell failure
      chances.\n
      __You also suffer the normal penalties for flying, needing a
      Balance check to cast spells with somatic components and
      potentially suffering knockback when you are struck in
      combat.";
Flags: 45, 25, 86, 66;
}
and 3
{ xval: 117; yval: 50; pval: -2; }
and 3
{ xval: 117; yval: 26; pval: -10; }
and 3
{ xval: 117; yval: 55; pval: -3; }


50 / 52 / 53 / 2 Spell "Bull's Strength" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 3394
Purpose: 0x00010 (1);
xval: 106; yval: 0; pval: 1d4+1;
Desc: "Grants the subject a magic bonus to their Strength 
      of 1d4+1 points.";
}

50 / 2 Spell "Cat's Grace" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 3402
Purpose: 0x00010 (1);
xval: 106; yval: 1; pval: 1d4+1;
Desc: "Grants the subject a magic bonus to their Dexterity 
      of 1d4+1 points.";
}

50 / 52 / 53 / 2 Spell "Bear's Endurance" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 15; Level: 2; qval: 0x0004;
#line "wspells.irh" 3410
Purpose: 0x00010;
xval: 106; yval: 2; pval: 1d4+1;
Desc: "Grants the subject a magic bonus to their Constitution 
      of 1d4+1 points.";
}

50 / 2 Spell "Ray of Enfeeblement" : 4
{ 0x00000080; Base: 90; Cost: 4; Level: 2; qval: 0x0001 | 0x0004;
aval: 2; cval: 2; lval: 8; tval: 75;
xval: 43; pval: 1d8+-99; sval: 0;
Flags: 4, 60; Purpose: 0x00004;
Desc: "Projects a ray from your hand that drains 1d8 points of
      Strength, plus one point per two caster levels, from any living
      target that it strikes (ranged attack roll required) that fails
      a Fortitude saving throw.";
On Event 28
"You feel yourself grow weak!" /
"The <EVictim> weakens!",
200 "wan ray";

}

50 / 2 Spell "Heightened Senses" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2;
#line "wspells.irh" 3434
xval: 39; yval: 73; pval: +4;
Desc: "This dwenomer heightens the caster's sensory input to an
      incredible degree, giving her a +4 insight bonus to Search,
      Spot and Listen and the ability to detect secret doors as an
      elf does, along with 4 squares of low-light vision.";
}
and 3
{ xval: 39; yval: 53; pval: +4; }



50 Spell "Apportation" : 46
{ 0x00000100; Level: 2; Cost: 4; Base: 90; qval: 0x0004; sval: 2;
Flags: 40, 71; Purpose: 0x00004;
Desc: "Casting this spell allows you to teleport a Large or smaller
      inanimate object into your hands from up to 80 feet away. When an 
      unattended object is the focus of this spell, the effect is automatic; 
      when the spell targets a creature, the caster may select any one 
      object in the creature's inventory to claim, but the creature is 
      entitled to a Will save to resist the magic. This saving throw is 
      modified by the difference between the victim's Spot skill rating 
      and the caster's Pick Pockets skill rating.";
On Event 155 {
if (!(EVictim->isCreature() || EVictim->isType((-4))))
return -1;
if (EVictim->isCreature() && EVictim->FirstInv() == ((hObj)0))
return 1;
if (ETarget->isType((-4)) && ETarget->Size() > 5)
return -1;
return 0;
},
170 {
if (GetHandle(EVictim) != ((hObj)0) && EVictim->isCreature())
e.saveDC += EActor->SkillLevel(38) -
EVictim->SkillLevel(44);
return 0;
},
28 {
int32 blev; hObj it, best; int32 found;
if (ETarget->isCreature())
{
found = false; blev = -100;
for (it=EVictim->FirstInv();it;it=EVictim->NextInv())
if (it->Size() <= 5)
{
found = true;
if (EActor->isPlayer())
ETerm->LOption(it->Name(0),(int32)it);
else if (it->ItemLevel() > blev)
{ best = it; blev = it->ItemLevel(); }
}
if (!found)
{
EActor->IPrint("Unfortunately, that creature has nothing
                that you can apport.");
return 1;
}
if (EActor->isPlayer())
it = (hObj) ETerm->LMenu(0x0100|0x0008,"Choose an Item:",
14);
else
it = best;

}
else
it = GetHandle(ETarget);

if (it->HasStati(133) || EVictim->HasStati(133) ||
EVictim->HasEffStati(79,$"Item Preservation") ||
it->isCursed())
{
APrint(e,"The <hObj> flickers briefly.",it);
return 1;
}

if (it->GetParent() != ((hObj)0) && it->GetParent()->isType(30))
{
EVictim->IPrint("Your <hObj> feels lighter.", it->GetParent());
EActor->IPrint("An <hObj> appears in your hands!",it);
}
else if (EVictim->isCreature())
{
TPrint(e,"The <EVictim>'s <hObj> vanishes and appears in your hands!",
"Your <hObj> vanishes and appears in the <EActor>'s hands!",
"The <EVictim>'s <hObj> vanishes and appears in the <EActor>'s hands!",it);
}
else
DPrint(e,"The <hObj> vanishes and appears in your hands!",
"The <hObj> vanishes and appears in the <EActor>'s hands!",it);

it->Remove(false);
EActor->GainItem(it,false);
return 1;
};
}

53 / 2 / 50 Spell "Summon Swarm" : 4
{ 0x00000100; Base: 75; Cost: 3; Level: 2; qval: 0x0002; lval: 3;
rval: 0x00000008 | 0x00004000 | 0x00000004 | 0x00000100 | 0x00000040;
xval: 0; pval: 1d2; cval: 6; aval: 7;
Purpose: 0x00004; Flags: 25, 65;
On Event
206
"A roiling cloud of small insects appears!",
83
"" /
"Insects sting you!" /
"",
74
"The cloud of insects vanishes.",
43
"You're in the stinging swarm of bugs.",
44
"You escape the insect swarm.";
Desc: "Conjures a cloud of stinging, biting insects that inflict
	  1d2 points of damage to everyone within every turn, along with
	  inflicting a -2 general circumstance penalty.";
}
and 2
{ xval: 117; yval: 51; pval: -2; aval: 7; cval: 6; }

50 / 51 Spell "Monster Summoning II" : 9
{ 0x00000100; Base: 75; Cost: 4; Level: 2; qval: 0x0002;
Purpose: 0x00100; rval: $"summoned monster"; pval: 2;
Desc: "Summons a living creature of CR 2 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 2+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 3562
50 Spell "Transposition" : 46
{ 0x00000100; Level: 2; Cost: 4; Base: 90; qval: 0x0004;
Desc: "This specialized form of <9>phase door<1> allows the caster to
      swap locations with any other creature within [Caster Level
      + Wisdom Modifier] x 10 feet of her. A Fortitude saving throw
      on the target's part negates the effect; the save recieves
      a +4 circumstance bonus if the caster is standing on dangerous
      terrain (including dry land for aquatic creatures), and this
      modifier raises to +8 if the caster is flying or levitating
      over a chasm and the target creature can't fly.\n";
On Event 170 {
e.vRange = e.vCasterLev + EActor->Mod(4);
if (!GetHandle(EVictim))
return 0;
e.sval = EVictim->isFriendlyTo(EActor) ? 3 : 0;
if (ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y),18))
e.saveDC -= 8;
else if (ResourceHasFlag(EMap->TerrainAt(EActor->x,EActor->y),6))
e.saveDC -= 4;
else if (EVictim->isMType(80) && !ResourceHasFlag(
EMap->TerrainAt(EActor->x,EActor->y),7))
e.saveDC -= 6;
return 0;
},
28 {
int32 cx, cy, vx, vy; hObj m;
if (EActor->HasStati(133) || EVictim->HasStati(133))
{
TPrint(e, "You and the <EVictim> flicker in place.",
"You and the <EActor> flicker in place.",
"The <EActor> and the <EVictim> flicker in place.");
return 1;
}
m = EActor->m;
cx = EActor->x;
cy = EActor->y;
vx = EVictim->x;
vy = EVictim->y;
EActor->Remove(false);
EVictim->Remove(false);
EActor->PlaceAt(m,vx,vy);
EVictim->PlaceAt(m,cx,cy);

EActor->IPrint("You trade places with the <hObj>!",EVictim);
EVictim->IPrint("You suddenly find yourself elsewhere!");

return 1;
};
}

50 Spell "Mana Theft" : 1
{
0x00000100; Base: 60; Cost: 5; Level: 2;
aval: 6; lval: -102; Purpose: 0x00004;
xval: 90; pval: (-101)d8; sval: 2;
Flags: 25, 61, 66, 11;
Desc: "By casting this spell, you turn your body into a natural
      conduit for magical energies, allowing you to steal the mana
      of other creatures with a successful touch attack. Your touch
      causes other creatures to lose 1d8 points of mana for every
      caster level, and you gain a similar amount -- up to a maximum 
      of whatever the target had to lose. A Will save allows the 
      target to halve the mana loss. Mana Theft cannot replace mana
      allocated to persistant spells like Mage Armor, and any mana
      above the caster's normal maximum fades after a brief period
      -- although mana stolen from a victim does not regenerate.\n
      __Channeling magical energies in this manner is draining and
      costs you a point of Fatigue when the spell is first cast. A
      single casting gives you two touches for every caster level you
      have.";
On Event 206
"Your hands glow with a dissonant white light." /
"The <EActor>'s hands glow with a dissonant white light.",
(41+500) {
int32 amt, full;
if (e.DType == 90 && e.eID == $"Mana Theft")
{
if (EVictim->cMana() <= 0)
{
EActor->IPrint("The <hObj> has no more mana left to steal.",EVictim);
return 1;
}
amt = e.vDmg;
full = EActor->nhMana();


if (EVictim->cMana() <= amt)
amt = EVictim->cMana();


EVictim->LoseMana(amt,true);


if (amt <= EActor->uMana)
{

EActor->GainMana(amt);
amt = 0;
}
else
{

amt -= EActor->uMana;
EActor->GainMana(EActor->uMana);


if (EActor->HasEffStati(117,$"Mana Theft")) {
EActor->IncEffStatiMag(117,$"Mana Theft",
2, NULL, (amt+3)/5);
EActor->SetEffStatiDur(117,$"Mana Theft",
e.vCasterLev*10);
}
else
EActor->GainTempStati(117,NULL,e.vCasterLev,
2, 37, (amt+3)/5, $"Mana Theft", e.vCasterLev*10);
}
TPrint(e, "You steal <hText> of the <EVictim>'s mana!",
"The <EActor> steals <hText> of your mana!",
NULL, EVictim->cMana() ? "some" : "all");


EActor->CalcValues();
EVictim->CalcValues();
return 1;
}
return 0;
},
(52+500) {
if (!EActor->LoseFatigue(1,true))
return 2;
return 0;
};
}

50 Spell "Ethereal Blade" : 3
{
0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 20; Level: 2; qval: 0x0008;
#line "wspells.irh" 3699
Desc: "By casting this spell, a wizard weaves the materiality
      of a specific object -- traditionally a dagger or sword --
      into the tapestry of reality on a more fundamental level,
      making it capable of striking true against incorporeal
      creatures that dwell on the ethereal, astral or negative
      energy planes. The weapon effectively gains the Ghost Touch
      quality while the spell is active.";
xval: 183; yval: 77;
Flags: 40, 41;
}
#line "wspells.irh" 3728
50 / 52 / 53 / 2 Spell "Dispel Magic" : 22
{
0x00000001; Base: 75; Cost: 15; Level: 3; qval: 0x0004 | 0x0002;
aval: 11; lval: 3; cval: 11; Purpose: 0x00004|0x00001;
xval: 0x01 | 0x10; pval: 1d20 + -101;
Desc: "Negates standing magical effects within a 30 foot
      (3 square) radius globe, if the opposed caster level 
      check (made once for each effect) succeeds.";
Purpose: 0x00004 | 0x20000 (6);
Flags: 45, 78;
On Event 75 {
rID xID; hObj it;
xID = EMap->TerrainAt(e.EXVal,e.EYVal);
switch (xID)
{
case $"strange rune":
case $"guardian runes;2":
case $"guardian runes":
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20 >
(xID == $"strange rune" ? 18 : 24)) {
APrint(e,"The rune glows grey and vanishes!");
e.isSomething = true;
EMap->RemoveTerraXY(e.EXVal,e.EYVal,xID);
if (xID == EMap->TerrainAt(e.EXVal,e.EYVal))
EMap->WriteTerra(e.EXVal,e.EYVal,$"floor");
}
else
APrint(e,"The rune glows grey, but the glow fades quickly.");
break;
case $"warded wall":
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20 > 18) {
APrint(e,"Runes vanish from the wall!");
e.isSomething = true;
EMap->WriteTerra(e.EXVal,e.EYVal,$"dungeon wall");
}
break;
}
for(it=EMap->FirstAt(e.EXVal,e.EYVal);it;it=EMap->NextAt(e.EXVal,e.EYVal))
{
if (it->isFeature()) {
if (it->fID == $"warding rune") {
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20 > 18)
{
it->Remove(true);
e.isSomething = true;
APrint(e,"The warding rune glows grey, then vanishes!");
}
else
APrint(e,"The warding rune glows grey, but the glow quickly fades.");
}
if (it->isType(12) && !ResourceHasFlag(it->tID,33)) {
if (e.vCasterLev + EActor->AbilityLevel(65) + 1d20
> 14 + it->TrapLevel())
{
it->TrapFlags |= (0x0001|0x0002);
it->SetImage();
e.isSomething = true;
APrint(e,"The <hObj> glows grey!",it);
}
else {
it->TriggerTrap(e,false);
e.eID = $"dispel magic";
}
}

if (it->fID == $"warded oak door")
{
it->fID = $"oak door";
it->SetImage();
e.isSomething = true;
EMap->Update(e.EXVal,e.EYVal);
APrint(e,"Runes vanish from the door!");
}
}
}
},
155 {
if (EActor->CasterLev() ||
EActor->isPlayer())
return 0;
return 1;
},
170 {

if (e.isItem)
if (GetHandle(EItem) != ((hObj)0))
if (EItem->isType(57))
e.vCasterLev = EItem->GetPlus()*3 + 3;
return 0;
};
}
#line "wspells.irh" 3826
50 / 52 / 2 Spell "Magic Circle vs. Evil" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 56; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 103; Flags: 4, 56; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 56; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all evil creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 Spell "Magic Circle vs. Good" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 55; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 106; Flags: 4, 55; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 55; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all good creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 Spell "Magic Circle vs. Law" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 21; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 104; Flags: 4, 21; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 21; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all lawful creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 Spell "Magic Circle vs. Chaos" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 108;
aval: 7; cval: 15; Flags: 4, 22; }
and 2
{ xval: 106; yval: 51; pval: -3; cval: 15;
tval: 105; Flags: 4, 22; aval: 7; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4, 22; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of summoned creatures, inflicts a
      -3 penalty to all chaotic creatures' attacks and saves,
      and grants everyone a +4 bonus to save versus enchantment.";
Purpose: 0x00200 (7); }

50 / 52 Spell "Magic Circle vs. Undead" : 46
{ 0x00000001; Base: 90; Cost: 6; Level: 3; lval: 5;
rval: 0x00000020 | 0x00000004; tval: 76;
aval: 7; cval: 15; Flags: 4; }
and 2
{ xval: 123; yval: 6; pval: +4; cval: 15;
tval: 109; Flags: 4; aval: 7;
Desc: "Creates an enchanted circle (30 ft. radius) that
      prevents the entry of Undead creatures and grants everyone a +4
      bonus to save versus enchantment.";
Purpose: 0x00200 (21); }

50 / 2 Spell "Minor Globe of Invulnerability" : 3
{
0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; aval: 9;
#line "wspells.irh" 3905
cval: 5; lval: 6; rval: 0x00000004;
xval: 79; yval: 37; Flags: 34;
On Event (37+10000) {
if (e.eID)
if (ResourceLevel(e.eID) <= 3)
{
DPrint(e, "Your spell is negated.",
"The <EActor> chants, then stops abruptly.");
EActor->Timeout += 15;
return 1;
}
return 0;
};
Desc: "Creates a zone 30 feet (3 squares) in radius that moves with the
      caster in which spells of 3rd level or lower cannot be cast
      by anyone other then the globe's creator.";
}



50 / 2 Spell "Stinking Cloud" : 46
{ 0x00000002|0x00001000; Base: 75; Cost: 6; Level: 3; qval: 0x0002;
aval: 7; lval: 3; cval: 2;
rval: 0x00000008|0x00000100|0x00000040;
Flags: 64;
Purpose: 0x00004 |0x01000;
Desc: "Creates a 30 foot (3 square) radius cloud of noxious
      vapors, causing all breathing creatures within the cloud to make a
      Fortitude save (DC 20) every round or suffer nausea for 2d4
      additional rounds.  Nauseated creatures cannot attack or cast spells
      and are considered flat-footed for the purposes of sneak attacks. The
      caster is not immune!";
On Event 83 {
if (EVictim->onPlane() == 0 &&
EVictim->isMType(78) &&
!EVictim->SavingThrow(0,20))
EVictim->GainTempStati(20,EActor,2d4,2,0,0,
$"stinking cloud");
},
206
"A cloud of greenish vapors billows up!",
74
"The stinking cloud effect is over.";
}

50 Spell "Explosive Runes" : 5
{ 0x00000002|0x00002000; Base: 95; Cost 5; Level: 3; qval: 0x0002; xval: 6;
rval: $"strange rune"; sval: 1; pval: (-123)d6;
Desc: "Turns one chosen floor square into a rune that explodes
      for 1d6 damage per caster level (max 10d6) when stepped on.";
Purpose: 0x00000;
On Event 206
"A glowing rune appears on the ground!"; }

Terrain "strange rune"
{ Image: pink '#'; Mat:28;
Flags: 5, 11, 6;
On Event 161 {
if (EActor->cHP < EMap->GetTerraDmg(e.EXVal,e.EYVal) &&
EActor->GetAttr(3) > 10)
return 2;
return 0;
} ;
On Event 154 {
hObj mp; mp = GetHandle(EMap);
DPrint(e, "The rune explodes!", "The rune explodes!");
if (EActor->SavingThrow(1,EMap->GetTerraDC(e.EXVal,e.EYVal)))
ThrowTerraDmg(41,0,EMap->GetTerraDmg(e.EXVal,e.EYVal)/2,
"an exploding rune",EActor, $"strange rune");
else
ThrowTerraDmg(41,0,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"an exploding rune",EActor, $"strange rune");

mp->RemoveTerraXY(e.EXVal,e.EYVal,$"explosive runes");
mp->RemoveTerraXY(e.EXVal,e.EYVal,$"glyph of warding");
return 0;
};
}



50 / 53 / 2 Spell "Wall of Ice" : 5
{ 0x00000002|0x00000800; Base: 90; Cost: 6; Level: 3; lval: 6; qval: 0x0001;
xval: 9; aval: 8; Flags: 25;
rval: $"ice wall"; pval: 2d6 + (-125);
Purpose: 0x00040 | 0x00008 | 0x00800 | 0x01000;
Desc: "Conjures a solid barrier made out of ice, displacing
      any creatures in its path and blocking further passage.";
On Event 206
"A wall of solid ice materializes!",
74
"The icy wall melts away to nothing."; }

50 / 2 Spell "Keen Edge" : 46
{ 0x00000002; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 4000
Desc: "Imbues all of your non-blunt, non-missile weapons with a
    supernaturally sharp edge, doubling their threat ranges.";
Purpose: 0x00010;
hObj it;
On Event
155 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(24))
if (it->QualityOK(13))
return 0;
}
return -1;
} ,
83 {
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(58) || it->isType(24))
if (it->QualityOK(13))
it->GainTempStati(183,EActor,e.vDuration,2,13,13,$"keen edge");
}
};
}

50 Spell "Alisdair's Fundamental Breakdown" : 1
{ 0x00000002; Cost: 3; Level: 3; Base: 90; qval: 0x0002;
Desc: "Potions contain a complex synthesis of rare alchemical
      elements and potent, potentially destructive magical energies
      bound with precise skill into a stable configuration. Casting
      this spell induces entropy in that balance, causing the elements
      of a chosen potion to decompose and become unstable -- essentially
      turning it into a kind of magical grenade that the caster can
      throw at square within 60 feet of her. The potion explodes into
      a volumetric blast or flame and toxic smoke inflicting 1d6 points 
      of damage per caster level, plus an added number of dice of damage 
      based on the potency of the potion used. This causes half fire
      damage and half toxic damage to all creatures caught in the area;
      a Reflex save halves the damage.";
On Event (52+500) {
hObj hPotion, it; int32 i; int32 found;
ClearCandidates(); found = false;
e.MM &= ~(0x08000000);
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->isType(47) && it->isMagic())
{
if (EActor->isPlayer())
ETerm->LOption(it->Name(0x0080),(int32)it);
else
AddCandidate((int32)it);
found = true;
}
if (!found)
{
EActor->IPrint("You need a potion to use that spell.");
return 2;
}
if (EActor->isPlayer())
{
hPotion = (hObj) ETerm->LMenu(0x0100|0x0002,
"Choose a Potion:");
if (hPotion == (hObj) -1)
return 2;
}
else
hPotion = (hObj) RandCandidate();

EActor->GainTempStati(152,NULL,1,7,
0x00000002, hPotion->ItemLevel()*2,$"Alisdair's Fundamental Breakdown");

hPotion = hPotion->TakeOne();

hPotion->Remove(true);
return 0;
},
(52+1000) {
EActor->RemoveEffStati($"Alisdair's Fundamental Breakdown");
return 0;
},
206
"You hurl the unstable potion!" /
"The <EActor> throws a potion -- and it explodes!",
200
"alchemical fireball";
aval: 3; cval: 23; lval: 18; sval: 1 partial;
pval: (-114)d6; xval: 1; }
and 1
{ pval: (-106)d6; xval: 5; }

50 Spell "Minor Creation" : 46
{
0x00000002; Base: 90; Cost: 12; Level: 3; Purpose: 0x00000;
Desc: "Casting this spell allows a mage to create any object make of
      organic material -- wood, hemp, cloth, etc. -- or stone. The mage
      must make a Craft check to create an item of any notable complexity,
      or must make a Poison Use check against the poison's save DC + 5 to
      conjure a poison. Metal items, magical materials and some rare
      synthetic poisons are beyond the domain of this spell, as is anything
      which contains writing (such as a spellbook).\n
      __Created items are permanent, but drawing forth matter from nothing
      costs a mage 25 XP, plus 1 XP per 25 gp the created items are worth.";
On Event 28 {
hObj it; int32 CraftDC, XPCost, mat;
it = ETerm->AcquisitionPrompt(6,0,0,0);
if (it == ((hObj)0))
return 1;
XPCost = 25;
if (it->isType(12))
{
e.vRange = 1;
if (!ETerm->EffectPrompt(e,0x0002,false,"Trap Location"))
{ it->Remove(true); return 1; }
it->PlaceAt(EActor->m,e.EXVal,e.EYVal);
}
else
{
if (it->isType(37) || it->HasIFlag(15) ||
it->iID == $"club" || it->iID == $"large club" ||
it->iID == $"quarterstaff" || it->iID == $"torch")
CraftDC = 0;
else
CraftDC = 15;
if (CraftDC && !EActor->SkillCheck(9,CraftDC,true))
{
EActor->IPrint("You fail to shape the created matter properly!");
if (EActor->isPlayer())
EActor->LoseXP(25 );
it->Remove(true);
return 1;
}

if (it->iID == $"small glass vial" && it->ieID != ((rID)0))
if (!EActor->SkillCheck(39,PoisonDC(it->ieID)+5,true))
{
EActor->IPrint("You fail to synthesize the poison properly!");
it->ieID = ((rID)0);
}
#line "wspells.irh" 4162
if (it->HasIFlag(15))
it->SetQuantity(30);
else if (it->HasIFlag(8))
it->SetQuantity(e.MM & 0x00010000 ? 100 : 10d10);
else if (it->HasIFlag(7))
it->SetQuantity(e.MM & 0x00010000 ? 24 : 2d12);

if (e.MM & 0x00000200)
it->SetQuantity((it->GetQuantity()*3)/2);

EActor->GainItem(it,false);
}
if (EActor->isPlayer())
EActor->LoseXP(XPCost );
return 1;
};
}




50 / 51 / 1 / 2 Spell "Clairvoyance" : 47
{ 0x00000004; Level: 3; Cost: 15; Base: 95; Purpose: 0x00000;
xval: 0x01 | 0x20; pval: 30; yval: 5;
Desc: "Allows the caster to scry around the nearby area."; }

50 / 2 Spell "Detect Monsters" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3; xval: 134; yval: 0;
#line "wspells.irh" 4190
Desc: "Reveals all creatures, seen or unseen, within (15 + caster
    level) squares of the caster; specialist Diviners have an exceptional
    facility with this magic, and instead gain a range of 30 + [caster
    level x 2]) squares."; int32 range;
On Event 205
"DetMon" / "DetM",
170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->HasStati(37,2))
e.vDmg = 30 + e.vCasterLev*2;
else
e.vDmg = 15 + e.vCasterLev;
range = e.vDmg;
return 0;
},
(28+1000) {
EVictim->SetEffStatiMag(134,$"Detect Monsters",range);
return 0;
};
}

50 / 2 Spell "Magic Mapping" : 46
{ 0x00000004; Level: 3; Cost: 20; Base: 95; Purpose: 0x00000;
pval: 10d1 + -104;
Desc: "Reveals to the caster the physical layout of the nearby area
      out to a range of (100 + [Caster Level x 40]) feet. This spell does
      not detect monsters, objects or terrain.";
On Event 28 {
int32 x, y;
for (x = EActor->x - e.vDmg; x!= (EActor->x + e.vDmg + 1); x++)
for (y = EActor->y - e.vDmg; y!= (EActor->y + e.vDmg + 1); y++)
if (x > 1 && y > 1 && x+1 < EMap->SizeX() && y+1 < EMap->SizeY())
if (dist(x,y,EActor->x,EActor->y) <= e.vDmg)
if (EMap->SolidAt(x,y))
if (!(EMap->SolidAt(x+1,y) && EMap->SolidAt(x-1,y) &&
EMap->SolidAt(x,y+1) && EMap->SolidAt(x,y-1) &&
EMap->SolidAt(x+1,y+1) && EMap->SolidAt(x-1,y-1) &&
EMap->SolidAt(x-1,y+1) && EMap->SolidAt(x+1,y-1)))
EMap->MarkAsSeen(0,x,y,0);
ETerm->RefreshMap();
return 1;
};
}

50 Spell "Anyspell" : 46
{ 0x00000004; Level: 3; Cost: 35; Base: 60; Purpose: 0x00000;
Desc: "Casting this spell mystically reveals to the mage
      knowledge of any single arcane spell of 2nd level or
      lower, just as if she had learned the spell herself.
      This kind of revealed knowledge only lasts for a short
      time, but for that duration the mage can cast the
      gained spell just as if she knew it naturally. When
      the duration of Anyspell expires, any persistant
      effects of the revealed spell cease. Gaining knowledge
      in this manner is intensely straining, costing the
      mage two Fatigue points.\n
      __Specialist Diviners are able to make more efficiant
      use of this spell than other mages -- they spend only
      one Fatigue and gain any arcane spell of 3rd level or
      lower.";
On Event 28 {
int32 maxlev, i; rID spID;
maxlev = 2;
maxlev += EActor->HasStati(37,2) ? 1 : 0;
if (e.MM & 0x00004000)
maxlev++;
for(i=0;i!=theGame->LastSpell();i++)
{
spID = theGame->SpellID(i);
if (spID->HasSource(50) && spID->Level <= maxlev)
if (!(EActor->getSpellFlags(spID) & 0x0001))
ETerm->LOption(XPrint("<Res>",spID),(int32)spID);
}
spID = (rID) ETerm->LMenu(0x0100|0x0010|0x0002|0x0080,
"Choose a Spell:", 14);
if (spID == (rID) -1)
return 2;
if (!EActor->LoseFatigue(1 + EActor->HasStati(37,3), true))
return 2;
EActor->GainTempStati(189,NULL,e.vDuration,2,
theGame->SpellNum(spID),0,$"Anyspell",e.vCasterLev);
EActor->setSpellFlags(spID, EActor->getSpellFlags(spID)
| 0x0001 | 0x0004);
EActor->IPrint("Mystical knowledge of <9><Res><7> imprints
        itself on your mind!", spID);
},
84 {
rID spID2;
spID2 = theGame->SpellID(e.vVal);
EActor->RemoveEffStati(spID2);
EActor->IPrint("The knowledge of <9><Res><7> fades from your mind.",spID2);
EActor->setSpellFlags(spID2,EActor->getSpellFlags(spID2) &
~(0x0004|0x0001));
return 0;
};
}
#line "wspells.irh" 4294
50 Spell "Lorecall" : 3
{
0x00000004; Level: 3; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 17;
#line "wspells.irh" 4297
Desc: "Casting this spell, you greatly enhance your proficiency via
      magically revealed knowledge. You select any one skill that you
      have as an affinity skill, and you gain a magic bonus to that
      skill equal to the number of ranks invested into the skill. This
      bonus caps at +5, or +10 for specialist Diviners.";
xval: 124; yval: 105; pval: +1; int32 sk, mag;
On Event (52+500) {
int32 i; int32 found;
if (EActor->HasEffStati(124,$"Lorecall"))
{
EActor->IPrint("You can only have one Lorecall at a time.");
return 2;
}
if (EActor->isPlayer())
{
found = false;
for(i=0;i!=49;i++)
if (EActor->HasSkill(i) && EActor->GetSkillRanks(i))
{ found = true; ETerm->LOption(SkillName(i),i); }
if (!found)
{ EActor->IPrint("You have no skills with ranks in them.");
return 2; }
sk = ETerm->LMenu(0x0080|0x0100|0x0010|0x0002,
"Choose a Skill:", 14);
if (sk == -1)
return 2;
}
else
{
if (EActor->HasSkill(34))
sk = 34;
else if (EActor->HasSkill(43))
sk = 43;
else if (EActor->HasSkill(19))
sk = 19;
else if (EActor->HasSkill(18))
sk = 18;
else
return 2;
}
return 0;
},
(28+1000) {
EVictim->SetEffStatiVal(124,$"Lorecall",sk);
EVictim->SetEffStatiMag(124,$"Lorecall",mag);
return 0;
},
170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (EActor->isPlayer())
e.vDmg = EActor->GetSkillRanks(sk);
else
e.vDmg = (EActor->SkillLevel(sk) * 2) / 3;
if (EActor->HasStati(37,2))
e.vDmg = min(e.vDmg,10);
else
e.vDmg = min(e.vDmg,5);
if (e.MM & 0x00000200)
e.vDmg = (e.vDmg * 15) / 10;

mag = e.vDmg;
return 0;
};
}

50 Spell "Insightful Stroke" : 3
{ 0x00000004; Base: 90; Cost: 10; Level: 3; Purpose: 0x00010 (1);
Flags: 61, 25, 13, 86;
xval: 108; yval: 53; pval: -101;
Desc: "Casting this spell reveals the hidden weaknesses of a target
      and the most perfect pattern of attack specific to a given target
      in a given instant, granting the caster a bonus to her next single
      physical attack's damage equal to her caster level plus her Wisdom
      modifier.";
On Event 170 {
if (GetHandle(EActor))
e.vDmg = e.vCasterLev + EActor->Mod(4);
return 0;
};
}

50 Spell "Warning" : 3
{ 0x00000004; Level: 3; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25;
#line "wspells.irh" 4381
Desc: "This spell grants the caster a preternatural awareness of danger
      and threats, giving her a +4 bonus to save versus traps as well as
      granting her the Improved Initiative feat while it is active.";
xval: 41; yval: (((((49 + 1) + 32) + 50) + 38) + 27); }
and 2
{ xval: 123; yval: 9; pval: +4; }



50 Spell "Heroism" : 3
{ 0x00000080; 0x00000008; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; qval: 0x0004;
#line "wspells.irh" 4392
xval: 114; yval: 51; pval: +2;
Desc: "Grants the chosen subject a +2 morale bonus to attack
      rolls, damage rolls, and saving throws."; }

50 Spell "Deep Slumber" : 3
{ 0x00000008; Base: 75; Cost: 7; Level: 3; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004 | 0x0002;
Flags: 25, 53, 5, 34; lval: 2;
xval: 7; yval: 2; tval: -101;
aval: 11; cval: 9;
Desc: "Causes creatures whose levels are equal to your own 
      or less within a 20 foot (2 square) radius globe to 
      fall into slumber until woken or attacked.";
}

50 / 2 / 52 Spell "Hold Person" : 3
{ 0x00000008; Level: 3; Cost: 6; Base: 75; qval: 0x0004;
xval: 9; sval: 2; tval: 86;
Purpose: 0x00004 (9); Flags: 4, 53;
Desc: "Paralyzes one chosen humanoid, provided they fail a Will
      saving throw.";
}
#line "wspells.irh" 4418
50 Spell "Sign of Discord" : 46
{ 0x00000008; Base: 90; Cost: 6; Level: 3; lval: 12;
sval: 2 + 10; qval: 0x0004; Flags: 21;
Purpose: 0x00004 | 0x00040 | 0x01000;

Desc: "By making an archaic gesture, the caster curses a single
      creature, causing discord between it and all nearby creatures.
      All creatures within 120 feet, even the victim's allies, who
      fail a Will saving throw will view that creature as hostile
      and act accordingly to it. The target herself is not affected
      and does not make a saving throw. This spell is considered a
      considered a confusion effect, and save bonuses for such apply
      against it.";
On Event 28 {
hObj hMon;
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && hMon->DistFrom(EVictim) <
((e.MM & 0x00000800) ? 24 : 12))
if (hMon != GetHandle(EActor) && hMon != GetHandle(EVictim))
{
if (hMon->ResistLevel(21) == -1 ||
hMon->HasMFlag(33))
hMon->IDPrint("You are unaffected.",
"The <hObj> is unaffected.", hMon);
else if (hMon->SavingThrow(2,e.saveDC,0x00008000|0x00000020|0x00000001|0x00001000))
hMon->IDPrint("You resist.", "The <hObj> resists.", hMon);
else {
if (hMon->isFriendlyTo(EVictim))
hMon->IDPrint("", "The <hObj> snaps and turns on the <hObj>!",
hMon, EVictim);
else
hMon->IDPrint("", "The <hObj> gets angry at the <hObj>!",
hMon, EVictim);
hMon->TurnHostileTo(EVictim);
hMon->GainTempStati(173,EActor,6d20,2,0,0,$"Sign of Discord");
}
}
return 1;
},
206
"You make an archaic gesture." /
"The <EActor> makes an archaic gesture.";
}

50 / 2 Spell "Minor Malison" : 3
{ 0x00000008; Level: 3; Cost: 6; Base: 90; qval: 0x0004;
xval: 106; yval: 52; pval: -2; Purpose: 0x00004;
Desc: "Afflicts a target with ill luck, causing him to suffer
      a -2 penalty to all saving throws.";
On Event 28
"You feel unlucky.";
}

50 / 2 Spell "Suggestion" : 3
{
0x00000008; Level: 3; Cost: 7; Base: 90;
xval: 124; yval: 11; pval: +10;
Desc: "Casting this spell allows the wizard to weave a post-hypnotic
      suggestion into normal speech, leading others into doing what she
      wants imperceptably. In game terms, the dwenomer gives the mage a
      +10 magic bonus to her next single Diplomacy check, unless the target
      is immune to Enchantment magic, in which case the spell has no effect.
      Though there is no saving throw, if the target has a bonus to save
      versus Enchantment spells, that is applied as a penalty against the
      bonus given, to a minimum of 0. The Diplomacy check must be made
      shortly after casting the spell for it to be effective.";
Flags: 61, 13;
}



50 Spell "Fireball" : 1
{ 0x00000010|0x00004000; Base: 75; Cost: 6; Level: 3; sval: 1 partial;
xval: 1; pval: (-126)d6; Purpose: 0x00001;
aval: 3; qval: 0x0001 | 0x0004 | 0x0002; cval: 16; lval: 8;
Flags: 32;
Desc: "Creates a volumetric blast of fire that inflicts 1d6 
      points of damage for every caster level. The blast can also
      disperse magical fog if it inflicts more than five times the 
      creator's caster level in fire damage.";
On Event 75 {
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"Obscurement",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Fog Cloud",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Mind Fog",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Pyrotechnics;smoke",e.vDmg / 5) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Thunderbeast Fumes",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"Stinking Cloud",0) ||
EMap->DispelField(e.EXVal,e.EYVal,0,$"fog;horn effect",e.vDmg / 5))
APrint(e,"The fire burns away the fog!");
return 0;
};
}

50 / 2 Spell "Flame Arrow" : 46
{ 0x00000010|0x00004000; Base: 90; Cost: 6; Level: 3;
Desc: "This spell can be cast in one of two forms:\n
    __<9>Augment Existing Arrows:<1> This version of the spell imbues a
    stack of piercing missile weapons with the flaming quality for the
    next thirty turns.\n
    __<9>Conjure Arrows of Flame:<1> This version of the spell creates
    bolts of solid flame inflicting 5d6 points of fire damage. The caster gains
    one such bolt in the turn the spell was cast, and one bolt for every
    turn thereafer, until the spell is cancelled or the duration expires.
    An attack roll must be made to hit with the bolts. A reflex save may
    be made to halve the damage from a flame arrow.";
On Event (32+10000) {
e.eID = $"Flame Arrow;blast";
if (!ETerm->EffectPrompt(e,0x0004,false,"Target Flame Arrow:"))
{
e.eID = (rID) 0;
return 0;
}
e.eID = (rID) 0;
if (!GetHandle(EVictim))
return 0;
e.vCasterLev = EActor->CasterLev();
e.MM = EActor->GetEffStatiMag(189,$"Flame Arrow") +
EActor->GetEffStatiMag(190,$"Flame Arrow") * 0xFFFF;
RedirectEff(e,$"Flame Arrow;blast",52);
return 0;
},
28 {
EActor->GainTempStati(189,NULL,e.vDuration,2,
e.MM & 0xFFFF,0,$"Flame Arrow",e.vCasterLev);
EActor->GainTempStati(190,NULL,e.vDuration,2,
(e.MM & 0xFFFF0000) << 16,0,$"Flame Arrow",e.vCasterLev);
EActor->GainTempStati(79,NULL,e.vDuration,2,
32,0,$"Flame Arrow",e.vCasterLev);
return 0;
},
(28+1000) {
RedirectEff(e,$"flame arrow",(32+10000));
return 0;
},
(52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Augment missiles or conjure arrows?","ac",'c');
if (ch == 'a')
{
RedirectEff(e,$"flame arrow;augment",52);
return 1;
}
return 0;
};
Flags: 66, 78;
}

Effect "Flame Arrow;blast" : 1
{ xval: 1; pval: 5d6; sval: 1 partial;
aval: 1; cval: 4;
Flags: 60;
}

Effect "Flame Arrow;augment" : 46
{
qval: 0x0008;
On Event 155 {
hObj it;
for(it=EActor->FirstInv();it;it=EActor->NextInv()) {
if (it->isType(45) && it->QualityOK(7))
if (it->HasIFlag(27))
return 0;
}
return 1;
},
157 {
if (!EItem->QualityOK(7))
return 2;
if (!EItem->isType(45))
return 2;
if (!EItem->HasIFlag(27))
return 2;
return 0;
},
170 {
e.vDuration = 30;
return 0;
},
83 {
if (ETarget->isType(45) && ETarget->QualityOK(7))
if (ETarget->HasIFlag(27))
ETarget->GainTempStati(183,EActor,e.vDuration,2,
7,7,$"flame arrow");
return 1;
};

}

50 Spell "Icelance" : 1
{ 0x00000010|0x00000800; Base: 75; Cost: 6; Level: 3; sval: 3;
xval: 2; pval: 5d6; Purpose: 0x00001;
aval: 1; qval: 0x0001 | 0x0004; cval: 17;
Desc: "This spell fires a magical lance of ice at a target of the caster's
    choosing.  It automatically hits, inflicting 5-30 points of damage and
    forcing the target to make a Fortitude save or be stunned for 1-4
    rounds.";
}
and 3
{ xval: 5; sval: 0; aval: 1; flags: 23; }

50 Spell "Lightning Bolt" : 1
{ 0x00000010; Base: 75; Cost: 6; Level: 3; sval: 1 partial;
xval: 4; pval: (-126)d6; Purpose: 0x00001;
aval: 2; qval: 0x0001 | 0x0004; cval: 14; lval: 15;
Desc: "Creates a bolt of lightning that inflicts 1d6 points 
      of damage for every caster level.";
Flags: 32;
}


50 / 2 Spell "Thunderlance" : 1
{ 0x00000010; Base: 75; Cost: 6; Level: 3; sval: 1 partial;
xval: 13; pval: 5d4 + (-102); Purpose: 0x00001;
aval: 2; qval: 0x0001 | 0x0004; cval: 5; lval: 6;
Flags: 58;
Desc: "This spell creates a lance of force, extending from the caster
    to a specified point 60 feet in the distance.  Any creatures in the
    lance's path take 5d4 points of crushing damage, +2 points of damage
    per level of the caster (maximum of +30).  Victims can Reflex save for
    half damage.";
}

50 / 52 Spell "Deeper Darkness" : 46
{ 0x00000010|0x00040000; Base: 75; Cost: 4; Level: 3; qval: 0x0002;
aval: 7; rval: 0x00010000; lval: 6; cval: 8;
Purpose: 0x00002 | 0x00040; Flags: 25;
Purpose: 0x00000;
Desc: "Creates a 60' (6 squares) radius globe of inpenetrable
      magical darkness that obscures all natural and magical sight.
      The spell will also negate the effects of a <9>call light<1>
      spell existing in its area when it is cast.";
On Event 75 {
if (EMap->DispelField(e.EXVal,e.EYVal,0,$"call light",0))
APrint(e,"The darkness snuffs out the magical light!");
return 0;
};
}




50 / 2 Spell "Displacement" : 3
{ Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; 0x00000020; Level: 3;
#line "wspells.irh" 4661
xval: 145; yval: 2; pval: 50;
On Event 206
"Your image shifts two feet away from your location." /
"The <EActor>'s image shifts two feet.",
84
"Your image shifts back to your true position." /
"The <EActor>'s image shifts two feet.";
Desc: "Causes the caster to appear to be about 2 feet from where
      he actually is, thereby giving all attacks -- ranged and physical --
      against him a 50% miss chance."; }

50 Spell "Group Invisibility" : 3
{ 0x00000020; Base: 75; Cost: 6; Level: 3; aval: 11;
xval: 100; yval: 1; pval: -101;
lval: 6; tval: 109; Flags: 4, 86; cval: 1;
Purpose: 0x00010 | 0x00002;
Desc: "Renders the caster and all allies within 60 feet (6 squares)
      of her invisible.";
}

50 / 2 Spell "Nondetection" : 2
{ 0x00000020; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 4683
xval: 211; yval:
0x0100|0x0004|0x0080;
Purpose: 0x00010 | 0x00002 ;
Desc: "The warded creature or object becomes difficult to detect by
    divination or other non-standard means. Scent, 
    Telepathy and Detection are all blocked. The creature can
    still be tracked or perceived visually. Note that this does *not* by
    itself hide or otherwise make the wearer invisible.";
On Event 205 "Nondet" / "ND";
}

50 / 2 Spell "Spectral Force" : 8
{ 0x00000020; Base: 75; Cost: 8; Level: 3;
Purpose: 0x00100; xval: 75; yval: 1;
rval: $"generic summons";
Desc: "This spell creates an illusionary creature, force 
      or object, just as Phantasmal Force does, but the illusion
      has a greater depth and independance to it -- it does not wink
      out of existance when a single character sees through it,
      and any psychosomatic damage it inflicts lasts for (3d6 x 100)
      turns, as opposed to 3d6. More significantly, it is self-sustaining
      -- the caster does not need to concentrate to keep it active, and
      it can move outside the caster's line of sight.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout";
}

50 Spell "Illusory Stance" : 3
{ 0x00000020; Base: 75; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3;
#line "wspells.irh" 4727
Desc: "Casting this spell causes the caster's body to become a
      confusing blur of afterimages, making it difficult for
      foes to percieve the real positioning of her arms and
      legs and the location of her melee attacks. She gains a
      +2 bonus to hit, and for every melee attack foes must
      make a successful opposed Spot test against her Illusioncraft
      skill or be treated as flat-footed. \n
      __Possessing true sight negates these bonuses in regard
      to any true-seeing opponent, and they do not apply against
      mindless or blind opponents.";
xval: 79; yval: 19;
On Event (19+10000) {
if (EVictim->HasStati(148))
return 0;
if (EVictim->HasMFlag(33))
return 0;
if (EVictim->HasMFlag(6))
return 0;
if (e.AType == 41 || e.AType == 65 ||
e.AType == 112 || ((e.AType) > 29 && (e.AType) <= 39))
return 0;

e.vHit += 2;
e.strHit += " +2 IS";

if (EVictim->SkillCheck(44, 11 +
EActor->SkillLevel(19),true))
return 0;

EMap->SetQueue(2);
TPrint(e,"Your afterimages confuse the <EVictim>!",
"A bewildering miasma of images confuses you!",
"The <EActor>'s afterimages comfuse the <EVictim>!");
EMap->UnsetQueue(2);

if (!EVictim->AbilityLevel(100))
e.isFlatFoot = true;
#line "wspells.irh" 4770
return 0;
};
}

50 Spell "Animate Shadows" : 46
{
0x00000020|0x00040000; Base: 75; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level 3;
#line "wspells.irh" 4777
Desc: "Casting this spell causes all of the shadows around the
      caster in a mobile globe with an 80-foot radius to begin to 
      pulse and writhe unnaturally. The effect is initially very 
      subtle, but increases as the victims of the spell become more
      and more agitated. Sometimes monsterous shapes can be seem
      within the area for a brief period of time, while at other
      times tendrils of shadow stroke at characters within the
      area almost lasciviously.\n
      __All hostile characters within the area of effect that are 
      not blind, mindless or gifted with true
      seeing must make a Will saving throw every turn or suffer a
      -1 morale penalty to all rolls. Multiple failed saving throws
      are culmulative; when the penalty exceeds -5, creatures enter
      a state of panic and flee. A <9>call light<1> spell or similarly
      bright, sustained radience will cancel the effect within its
      area, but a lantern is insufficient. Creatures immune to fear
      will not panic, but still suffer the morale penalty.\n
      __Any creatures in the area also suffer a -6 circumstance
      penalty to Spot checks.";
aval: 9; rval: 0x00000008; lval: 8; cval: 8;
Flags: 34, 86, 85;
On Event 52 {

EActor->RemoveEffStati($"Animate Shadows");
EActor->GainPermStati(189,NULL,7,0,e.saveDC,$"Animate Shadows");
return 0;
},
28 {
if (GetHandle(EActor) == GetHandle(EVictim))
return 1;
if (EVictim->isBlind() || EVictim->HasMFlag(33))
return 1;
if (EVictim->HasStati(148))
return 1;
if (!EVictim->isHostileTo(EActor))
return 1;

if (!EVictim->HasEffStati(124,$"Animate Shadows;spot penalty"))
RedirectEff(e,$"Animate Shadows;spot penalty",28);

e.saveDC = EActor->GetEffStatiMag(189,$"Animate Shadows");
if (EVictim->SavingThrow(2,e.saveDC,0x00008000|0x00000001|0x00000800))
return 1;
if (EVictim->ResistLevel(28) == -1)
return 1;

if (EVictim->GetEffStatiMag(114,$"Animate Shadows") <= -5 &&
!EVictim->HasStati(10))
{
EVictim->IDPrint("You snap and panic!",
"The <hObj> snaps and panics!", EVictim);
EVictim->GainTempStati(10,NULL,5d6,7,1,0);
}
else {
if (EVictim->HasEffStati(114,$"Animate Shadows")) {
if (EVictim->GetEffStatiMag(114,$"Animate Shadows") <= -5) {
EVictim->IPrint("The shadows ripple...");
return 1;
}
EVictim->IncEffStatiMag(114,$"Animate Shadows",7,NULL,-1);
}
else
EVictim->GainPermStati(114,NULL,7,51,-1,$"Animate Shadows");

EVictim->IDPrint("The shadows ripple...",
"The <hObj> seems more paranoid.",EVictim);
}
return 1;
},
43
"The shadows seem to ripple at the edges of your vision.",
44 {
EActor->IPrint("The shadows seem more stable now.");
EActor->RemoveEffStati($"Animate Shadows;spot penalty");
EActor->RemoveEffStati($"Animate Shadows");
return 0;
};
}

Effect "Animate Shadows;spot penalty" : 3
{ xval: 124; yval: 44; pval: -6;
Desc: "Creatures within the area of an <9>animate shadows<1> spell
      suffer a -6 penalty to Spot checks."; }


50 Spell "Adamant Facade" : 3
{
0x00000020; Level: 3; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30;
#line "wspells.irh" 4865
Purpose: 0x00000;
xval: 79; yval: ((20+2000)+1000);
Desc: "This powerful spell wraps an illusion around the
      caster's body, causing her to appear to be in full
      health and unharmed by any attacks or maladies.
      Even should a sword stroke all but cripple her, it
      appears to onlookers as nothing more than a glancing
      blow.
      \n__This has the effect of causing sapient monsters to
      have a chance of retreating as if afraid after they or
      their allies strike the caster with no apparent effect.
      The chance of this happening is 1 in (10 - the caster's
      Charisma mod), and lowers by one for every attack from
      the same group of monsters after the first, until it
      reaches 1 in 1 and is certain. When it does occur, all
      members of the same group of monsters will flee at the
      same time. This is not magical fear, instead being a
      rational choice made in the face of a seemingly
      invincible foe. As such, it is unaffected by fear immunity
      and no saving throws apply.
      \n__Creatures with an Intelligence of 14 or higher have
      a chance of recognizing the guise for what it is and
      thus disbelieving it -- this chance is 5% per point of
      Intelligence above 14, rolled after every hit.
      \n__If this spell is cast at caster level 9 or higher,
      it conveys an additional benefit: when the caster is
      struck with a metal weapon, the weapon will seem to shatter
      upon hitting her, when in fact it merely falls from the
      attacker's hand and turns invisible to the attacker on
      the ground.";
hObj hLeader, hAlly, hPlayer, hSword;
On Event (((20+2000)+1000)+10000) {
int32 chance, x, y, count;
hLeader = EActor->getLeaderOrFirst();

if (hLeader->HasEffStati(189,$"Adamant Facade"))
return 0;
if (1d100 <= (EActor->GetAttr(3) - 14)*5)
{
EVictim->IPrint("The <hObj> disbelieves your adamant facade!",EActor);
EActor->IPrint("You realize that the <hObj>'s seeming
            invulnerability is merely an illusionary facade!",EVictim);
EActor->GainTempStati(189,EVictim,-2,7);
}
hLeader->IncEffStatiMag(190, $"Adamant Facade", 7, EVictim, +1);
hLeader->SetEffStatiDur(190, $"Adamant Facade", -2);
chance = 11 - EVictim->Mod(5);
chance -= hLeader->GetEffStatiMag(190,$"Adamant Facade");
if (1d(max(1,chance)) > 1)
return 0;
hPlayer = ((hObj)0);
count = 0;
for (x=hLeader->x-10;x <= hLeader->x+10;x++)
for (y=hLeader->y-10;y <= hLeader->y+10;y++)
if (EMap->InBounds(x,y))
for(hAlly=EMap->FCreatureAt(x,y);hAlly;
hAlly=EMap->NCreatureAt(x,y))
if (hAlly->isFriendlyTo(hLeader) && hAlly->Percieves(EVictim))
{
count++;
SetSilence();
hAlly->GainTempStati(10,NULL,-2,7,
4);
if (hAlly->isPlayer())
hPlayer = hAlly;
UnsetSilence();
}
VPrint(e,count > 1 ? "The <EActor> and <his:EActor> allies flee
        from your seeming invincibility!" : "The <EActor> flees from
        your seeming invincibility!", "");
if (hPlayer != ((hObj)0))
hPlayer->IPrint("You feel certain that the <hObj> is utterly immune
                           to your attacks!", EVictim);
if (EVictim->CasterLev() >= 7)
if (e.AType == 63 || e.AType == 67 ||
e.AType == 73 || e.AType == 74)
if ((hSword = EActor->InSlot(2)) && (EVictim->x != -1))
{
hSword->Remove(false);
#line "wspells.irh" 4947
hSword->PlaceAt(EMap, EVictim->x, EVictim->y);
EActor->IPrint("As you strike the <hObj>, your <hObj>
                                shatters!", EVictim, hSword);
EVictim->IPrint("The <hObj1> drops <his:hObj1> <hObj2> at your feet,
                                believing it destroyed.", EActor, hSword);
}
return 0;
};
}
#line "wspells.irh" 4961
50 / 2 Spell "Major Drain" : 1
{ 0x00000040; Base: 90; Cost: 6; Level: 3; xval: 6;
Purpose: 0x00001 | 0x00080 (1); cval: 15;
pval: (-126)d4; sval: 3;
qval: 0x0001|0x0004|0x0002; aval: 1;
Desc: "With this spell, the wizard drains the life and vital force from
      a target and adds it to his own. The target creature suffers 1d4
      vampiric damage per caster level. If this spell kills a target and the
      caster is a specialist necromancer, she can gain potencies and resistances 
      as if he had devoured the corpse.";
On Event 28 {
EActor->cHP = min(EActor->mHP+EActor->GetAttr(36),EActor->cHP + e.vDmg);
return 0;
};
On Event (28+1000) {
if (ETarget->isDead() || e.Died)
if (GetHandle(EActor) && !EActor->isDead() && EActor->isCreature()
&& ETarget->isMonster())
if ( EActor->GetStatiVal(37) == 6 )
EActor->DevourMonster(EVictim);
};
}

50 / 2 Spell "Vampiric Touch" : 4
{ 0x00000040; Base: 95; Cost: 5; Level: 3; sval: 0 partial;
aval: 6; lval: -83;
xval: 73; pval: (-114)d6; cval: 4;
tval: 75;
Flags: 4, 25, 86, 66, 61;
Purpose: 0x00001;
Desc: "Causes your touch attack to inflict 1d6 points of necromantic
      damage per odd caster level to living creatures; you also heal 
      damage taken up to the damage this spell actually inflicts. One 
      casting of this spell gives you a number of touches equal to your 
      caster level.";
On Event 206
"Your hands glow with a throbbing red aura." /
"The <EActor>'s hands glow with a throbbing red aura.";
}

50 / 2 Spell "Spirit Armor" : 3
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "wspells.irh" 5003
Flags: 83, 30;
xval: 106; yval: 17; pval: 9d1 + (-107);
On Event 52 {
ThrowDmg(41,0,3d6,"casting spirit armor",EActor,EActor);
if (EActor->Flags & 0x0008)
return 1;
return 0;
},
206
"A shimmering azure aura appears around you." /
"A shimmering azure aura appears around the <EActor>.",
(52+500) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("You cannot combine <9>spirit armor<7> with
            conventional armor.");
return 2;
}
return 0;
},
((13+1000)+10000) {
if (EActor->InSlot(9) != ((hObj)0))
{
EActor->IPrint("Your <9>spirit armor<7> is cancelled.");
EActor->RemoveEffStati($"spirit armor");
}
return 0;
};
Desc: "Forges a protective shield out of your own life essence, giving
      you defenses similar to plate armor (9 + 1/3 caster levels armor rating) 
      but costing you 3d6 of your own hit points. Spirit Armor counts as hwavy
      armor for the purposes of abilities like Defensive Roll, and is not
      compatable with mundane physical armor.";
}
and 3
{ xval: 79; yval: (13+1000); }


50 Spell "Blackmantle" : 3
{ 0x00000040; Base: 60; Cost: 5; Level: 3; qval: 0x0004;
xval: 79; yval: ((28+500)+2000);
Purpose: 0x00004;
Flags: 63, 61;
On Event 28
"A black aura surronds you." /
"A black aura surronds the <EVictim>.",
(((28+500)+2000)+10000) {
if (e.eval == 26 && EActor != NULL)
if (((int32)e.xval) & 0x01)
{
EActor->IPrint("Nothing happens.");
return 1;
}
return 0;
};
Desc: "Brings into existance around the target a black aura
      that prevents supernatural healing of any sort (but does not
      prevent regeneration).";
}
#line "wspells.irh" 5067
50 / 2 Spell "Animate Dead" : 46
{ 0x00000040; Base: 30; Cost: 6; Level: 3; tval: 31; cval: 4;
Flags: 6, 40, 41, 78;
aval: 11; lval: 6; Purpose: 0x00100 (21);
int32 ch, first;
On Event 52 {
ch = EActor->ChoicePrompt("Skeletons or Zombies?", "sz");
first = 1;
},
28 {
rID cmID; hObj zom;
int32 isMarist; isMarist = (EActor->getGod() == $"Mara" || (EActor->isCharacter() && EActor->getGodLevel($"Mara") >= 2));
#line "wspells.irh" 5079
if (!ETarget->isType(31))
return 1;
cmID = ETarget->GetCorpseType();
if (!cmID)
return 1;
#line "wspells.irh" 5091
if (ResourceLevel(cmID) > max(1,e.vCasterLev/2))
{
APrint(e,"The <hObj> shifts briefly, but does not move.",ETarget);
return 1;
}
zom = CreateMonster(cmID);
if (!zom)
return 2;

if (ch == 's')
zom->AddTemplate($"skeleton");
else
zom->AddTemplate($"zombie");

if (ETarget->Owner() == EActor)
zom->PlaceAt(EMap,EActor->x,EActor->y);
else
zom->PlaceAt(EMap,ETarget->x,ETarget->y);
zom->Initialize();
zom->PartyID = EActor->PartyID;

if (EActor->isPlayer()) {
SetSilence();
if (!zom->MakeCompanion(EActor,5)) {
UnsetSilence();
APrint(e,"The <hObj> shifts briefly, but does not move.",ETarget);
zom->Remove(true);
return 1;
}
UnsetSilence();
}

ETarget->Remove(true);
if (first) {
first = 0;
APrint(e,"The dead rise!");
e.isSomething = true;
}

if (zom->isMType(103) && zom->HasMFlag(53)) { EActor->Transgress($"mara",5,false,"creating inherantly evil undead"); EActor->AlignedAct(0x0040|0x0008,3,"creating inherantly evil undead"); } else if (zom->isMType(103) && !EActor->isMType(103) && EActor->isCharacter() && isMarist) zom->GainPermStati(222,NULL,7,0x0004|0x0001); if (ETarget->HasStati(231,-1,EActor)) EActor->Transgress($"Mara",5,false,"desecrating foes' bodies"); if (!ETarget->HasEffStati(97,$"Mara")) if (zom->isMType(85)) EActor->gainFavor($"Mara",50); if (!isMarist) EActor->AlignedAct(0x0040|0x0008,1,"creating undead with infernal power"); EActor->Transgress($"Immotian",7,false,"creating undead"); EActor->Transgress($"Hesani",7,false,"creating undead"); EActor->Transgress($"Xavias",4,false,"creating undead"); EActor->Transgress($"Erich",4,false,"creating undead"); EActor->Transgress($"Ekliazeh",6,false,"creating undead");
#line "wspells.irh" 5132
return 1;
};
Desc: "Casting this spell causes humanoid corpses within 60 feet of the
      caster to animate, permanently taking on unlife as either skeletons
      or zombies (at the caster's elective), enslaved to her.\n
      __There are two metaphysical powers that can be invoked on Theyra to
      animate the dead. The first is various archfiends, notably Orcus --
      the demon lord of undead. The second is the goddess of death, Mara.
      As such, casting this spell is an evil act (as a result of allying
      with fiends) unless the caster is devoted to Mara or has earned at
      least two blessings from her as a lay worshipper.";
}

50 Spell "Skull Trap" : 46
{
0x00000040; Base: 60; Level: 3; Cost: 9; qval: 0x0002;
Desc: "Casting this spell enchants a mundane skull, turning it into a
      malignant magical trap. The skull remains dormant until such a time
      as any living creature steps near it, at which point is rises up from
      the ground and spins around, jaw-bone clacking up and down as it
      emits a piercing howl inflicting 2d6 points of sonic damage and
      awakening all creatures within 60 squares. All creatures that witness
      this spectacle must make a Will saving throw or become afraid.
      Then, malignant red light begins to pour from the skull's eyes, and 
      after several seconds it explodes, inflicting 1d6 points of fire damage 
      per even caster level and 1d6 points of necromantic damage per odd 
      caster level, to the creature that awoke it. A Reflex saving throw 
      negates this damage.";
On Event 28 {
hObj hSkull;
hSkull = CreateTrap($"trap", $"skull trap;trap");
if (EActor->isPlayer())
hSkull->TrapFlags |= 0x0001;
hSkull->SetImage();
hSkull->PlaceAt(EMap,e.EXVal,e.EYVal);
hSkull->GainPermStati(189,EActor,7,0,0,$"Skull Trap");
return 1;
};
}

36 Effect "skull trap;trap" : 1
{
Desc: "A grinning human skull lies on the ground here.";
Flags: 18, 55; 0x00000040;
On Event (52+500) {
hObj hCaster;

hCaster = EItem->GetEffStatiObj(189,$"Skull Trap");
if (hCaster) {
SetEActor(e,hCaster);

e.isTrap = false;
}
EActor->MakeNoise(60);
return 0;
},
(52+1000) {
EItem->Remove(true);
return 0;
},
28 {
if (e.efNum == 2)
APrint(e,"The skull explodes!");
return 0;
},
206
"The skull rises from the ground, spins... and <12>*screams*<7>!";
aval: 11; lval: 6; cval: 4; xval: 10; pval: 2d6;
}
and 3
{ xval: 10; yval: 0; sval: 2; }
and 1
{ xval: 1; pval: (-106)d6; sval: 1; }
and 1
{ xval: 6; pval: (-114)d6; sval: 1; }



52 / 53 / 50 / 2 Spell "Water Walking" : 3
{ 0x00000080|0x00008000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; sval: 3;
#line "wspells.irh" 5212
Purpose: 0x00010 | 0x00400; qval: 0x0004;
xval: 130;
Desc: "Causes one target creature to be able to walk on 
      water. That creature will suffer no ill effects from crossing
      deep water and need not make swimming checks.";
On Event 205 "WtrWlk" / "WW";
}

50 / 2 Spell "Haste" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3; qval: 0x0004;
#line "wspells.irh" 5222
xval: 106; yval: 54; pval: +10;
Desc: "IMultiplies one chosen target's attack speed and movement by 
      150%, and grants that same target a +4 circumstance bonus to 
      Defense. Alternatively, negates slow.";
On Event 28 {
if (EVictim->HasEffStati(-1,$"slow"))
{
EVictim->RemoveEffStati($"slow");
e.efNum = 2;
return 1;
}
if (e.efNum == 0)
VPrint(e,"You feel yourself speed up.",
"The <EVictim> seems to be moving faster.");
},
84
"You feel yourself slow down again." /
"The <EVictim> slows back down.";
}
and 3
{ xval: 106; yval: 26; pval: +10; }
and 3
{ xval: 117; yval: 27; pval: +4; }

50 / 51 Spell "Slow" : 3
{ 0x00000080; Base: 90; Cost: 7; Level: 3; qval: 0x0002; sval: 2;
aval: 11; lval: 3; xval: 106; yval: 54; pval: -10;
cval: 2; Purpose: 0x00004 | 0x00040;
Desc: "Slows the motion of all creatures in a 30 foot (3 square)
      radius globe at the time the spell is cast, causing them to
      suffer a -50% attack speed and movement rate, and a -2 circumstance
      penalty to defense. Alternatively, cancels haste.";
On Event 28 {
if (EVictim->HasEffStati(-1,$"haste"))
{
EVictim->RemoveEffStati($"haste");
e.efNum = 2;
return 1;
}
if (EVictim->HasEffStati(-1,$"alacrity"))
{
EVictim->RemoveEffStati($"alacrity");
e.efNum = 2;
return 1;
}
if (e.efNum == 0)
VPrint(e,"You feel yourself slow down.",
"The <EVictim> seems to be moving slower.");
},
84
"You feel yourself speed up again." /
"The <EVictim> is moving normally again.";
}
and 3
{ xval: 106; yval: 26; pval: -10; aval: 11; sval: 2; }
and 3
{ xval: 117; yval: 27; pval: -2; aval: 11; sval: 2; }

50 / 2 Spell "Polymorph Self" : 32
{ 0x00000080; Base: 60; Cost: 10; Level: 3;
Flags: 78, 25, 66; Purpose: 0x00010;
Desc: "Changes you into a random monster of your own challenge
      rating or lower, at the cost of 2 fatigue points.";
On Event (52+500) {
if (EActor->HasStati(103))
{
EActor->IPrint("The interaction of multiple polymorph
            effects tears at your metabolism!");
ThrowDmg(41,8,3d6,"polystrain",EActor,EActor);
}
if (EActor->isDead())
return 1;
EActor->LoseFatigue(2,false);
return 0;
};
}

50 / 2 Spell "Fly" : 3
{ 0x00000080; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "wspells.irh" 5301
xval: 127; yval: 1; Purpose: 0x00010 | 0x00400;
Desc: "Grants advantages similar to levitation, but without the
      penalties and grants an additional +2 circumstance bonus to
      attack rolls and defense class. You cannot fly while mounted,
      and the spell affects only humanoid casters. When flying, you
      need to make a Balance check to cast spells with somatic 
      components and potentially suffer knockback when you are 
      struck in combat."; }
and 3
{ xval: 117; yval: 50; pval: +2; }
and 3
{ xval: 117; yval: 27; pval: +2; }
and 3
{ xval: 79; yval: (110+500);
On Event (28+500) {
if (EVictim->HasStati(87))
ThrowVal(111,1,EVictim,
EVictim->GetStatiObj(87));
if (EVictim->HasStati(87))
return 2;
if (!EVictim->HasMFlag(1))
return 2;
return 0;
},
((110+500)+10000) {
EActor->IPrint("First, you cancel your <9>fly<7> spell.");
EActor->RemoveEffStati($"Fly");
return 0;
};
}

50 / 2 Spell "Gaseous Form" : 25
{ 0x00000080|0x00001000; Base: 90; Cost: 1; Level: 3; Flags: 66;
Desc: "Transforms the caster into an animate cloud of grey vapours.
      In this state the caster cannot cast spells, but it also immune
      to most forms of physical attack. The gaseous form moves very
      slowly at 30~ of normal human speed."; }




50 / 2 Spell "Blink" : 3
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 3;
#line "wspells.irh" 5344
xval: 145; yval: 2; pval: 50;
Desc: "Causes the caster to flicker in and out of the etherial
      plane, giving attacks against him a 50~ miss chance. Creatures
      that can see invisible or are using a ghost touch weapon ssuffer only a 
	  25~ miss chance, and creatures who can do both do not suffer 
	  any miss chance at all.";
On Event 28
"Your body begins to flicker in and out of sight..." /
"The <EVictim>'s body begins to flicker in and out of sight...",
84
"You stop flickering." /
"The <EVictim> stops flickering."; }

50 / 2 Spell "Monster Summoning III" : 9
{ 0x00000100; Base: 75; Cost: 6; Level: 3; qval: 0x0002;
Purpose: 0x00100; rval: $"summoned monster"; pval: 3;
Desc: "Summons a living creature of CR 3 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 3+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 5364
50 / 1 Spell "Dimension Door" : 6
{ 0x00000100; Base: 90; Cost: 6; Level: 3; pval: 2d20+-101;
Purpose: 0x00008; xval: 2;
Flags: 45, 75, 45;
Desc: "Casting this spell teleports you randomly 2d20+(caster level) squares away."; }

50 / 2 Spell "Rope Trick" : 46
{ 0x00000100; Base: 75; Cost: 15; Level: 3;
Purpose: 0x00000; Flags: 45;
On Event 28 {
hObj hPortal;
hPortal = CreatePortal($"dangling rope");
hPortal->PlaceAt(EMap,EActor->x,EActor->y);
return 1;
},
(52+500) {
if (EMap->RegionAt(EActor->x,EActor->y) ==
$"Extradimensional Space;rope trick")
{
EActor->IPrint("Don't cross the streams!");
return 2;
}
if (!EActor->ConsumeRope(15))
return 2;
};
Desc: "Casting this spell enchants a rope, causing it to
      rise up and seem to hang down from empty air; when the 
      caster climbs the rope, she vanishes. In truth, the rope 
      leads to a tiny extradimensional space -- a kind of safe 
      sanctuary where the caster can rest and recuperate. 
      Casting this spell thus consumes 15 feet of rope.\n
      __The caster is safe to rest for as long as desired in
      the pocket space created by the spell, but as soon as
      she leaves the portal and re-enters the real world, the
      effect ends and the rope is drawn back up into the space.
      However, the tiny pocket dimension serves as only a weak
      bulkhead against the entropy and dissolution of the astral
      plane, and those who rest there often find that the mental
      plane's nearness saps away some of their recent learning
      and will -- in game terms, costing 150 XP.\n
      __Since the tiny pocket world is created anew with every 
      casting of the spell, any items the caster has left on
      the floor in the extradimensional space will be cast
      out into the depths of the astral plane when the caster
      herself leaves, thus being lost forever.\n
      __Taking other extradimensional spaces, such as a bag of
      holding or a Howard's Handy Haversack, into the space
      created by a rope trick causes a disasterous magical
      explosion with unpredictable effects.";
}

Region "Extradimensional Space;rope trick" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Grid:{:
      ###################
      ######.......######
      ####...........####
      ###.............###
      ##...............##
      ##...............##
      #.................#
      #........>........#
      #.................#
      ##...............##
      ##...............##
      ###.............###
      ####...........####
      ######.......######
      ###################
      :}
 ;
Flags: 15;
Tiles:
'>': $"floor" with $"portal;rope trick" [0x08];
On Event (45+1000) {
EActor->IPrint("Resting so close to the magical radiations of
        the astral plane saps away some of your sense of identity
        and recent learning.");
EActor->LoseXP(150);
return 0;
};
}

Feature "dangling rope" : 10
{
Image: bright green '<';
Mat:6;
xval:7;
Target: $"Extradimensional Space;rope trick";
}

Feature "portal;rope trick" : 10
{
Image: bright green '>';
Mat:31;
xval:10;
Target: $"dangling rope";
On Event (50+500) {
hObj hDropped;
for (hDropped = EMap->FirstThing();
hDropped; hDropped = EMap->NextThing())
if (!hDropped->isPlayer())
if ((!hDropped->isFeature()) ||
hDropped->fID != $"portal;rope trick")
hDropped->Remove(true);
return 0;
},
(50+1000) {
hObj hRope;
for (hRope = EMap->FFeatureAt(EActor->x,EActor->y);hRope;
hRope = EMap->NFeatureAt(EActor->x,EActor->y))
if (hRope->fID == $"dangling rope")
hRope->Remove(true);
return 0;
};
}


50 Spell "Conjure Vortex" : 9
{ 0x00000100; Base: 60; Cost: 15; Level: 3; qval: 0x0002;
Purpose: 0x00100; rval: $"conjured vortex"; pval: 5;
Flags: 25, 95;
Desc: "Casting this spell opens a conduit to the turbulent para-elemental
      or quasi-elemental planes, calling forth a vortex with a Challenge Rating
      of up to five. The creature lasts longer then one summoned with Monster
      Summoning III, and is typically more powerful, but opening the conduit is
      draining for the caster, costing her two Fatigue points. The caster also
      needs to succeed on a Knowledge (Planes) check against DC 10 to open the
      conduit, or the effect is wasted and the caster suffers 2d6 points of
      damage from trauma.";
On Event 52 {
if (!EActor->LoseFatigue(2,true))
return 2;
if (!EActor->SkillCheck(29,10,true))
{
EActor->IPrint("You fail to open the <hText>elemental conduit properly!",
1d2 == 1 ? "quasi" : "para");
ThrowDmg(41,1+random(9),2d6, "a warped conduit",
EActor, EActor);
return 1;
}
return 0;
};
}

52 / 2 / 50 Spell "Greater Magic Weapon" : 46
{ 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 25; Level: 3; qval: 0x0008;
#line "wspells.irh" 5510
Desc: "Casting this spell temporarily enchants a single weapon (or
      a stack of ammunition) with a magical bonus of +1 per three caster
      levels, to a maximum of +5 at 15th. This bonus does 
      not stack with any other magical bonus the weapon may have. 
      Magical weapons strike true against undead, outsiders and many 
      other fiends.";
hObj it;
On Event
155 {
if (ETarget->isType(58))
if (ETarget->GetQuantity() == 1)
return 1;
if (ETarget->isType(45))
return 1;
if (ETarget->isMonster())
if (ETarget->InSlot(2) != ((hObj)0))
if (ETarget->InSlot(2)->GetPlus() <
max(1,min(5,EActor->CasterLev() / 3)))
return 0;
return -1;
},
157 {
if (EItem->isType(58))
return 0;
return 2;
},
(52+500) {
if (ETarget->isMonster())
SetETarget(e,ETarget->InSlot(2));
return 0;
},
83 {
ETarget->GainTempStati(185,EActor,e.vDuration,2,1,
max(1,min(5,e.vCasterLev / 3)), $"greater magic weapon", e.vCasterLev);
VPrint(e,"","The <EVictim> gives off a soft silvery glow.");
return 1;
};
Constants:
* 109 150;
}
#line "wspells.irh" 5581
50 / 52 / 53 Spell "Protection from Fire" : 3
{ 0x00000001|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5583
xval: 104; yval: 1; pval: 10d1 + (-101);
Desc: "Grants the target fire resistance equal to 10 plus
      her caster level."; }

50 / 52 / 53 Spell "Protection from Cold" : 3
{ 0x00000001|0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5589
xval: 104; yval: 2; pval: 10d1 + (-101);
Desc: "Grants the target cold resistance equal to 10 plus
      her caster level."; }

50 / 52 / 53 Spell "Protection from Lightning" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5595
xval: 104; yval: 4; pval: 10d1 + (-101);
Desc: "Grants the target lightning resistance equal to 10 plus
      her caster level."; }


50 / 52 / 53 Spell "Protection from Acid" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5602
xval: 104; yval: 3; pval: 10d1 + (-101);
Desc: "Grants the target acid resistance equal to 10 plus
      her caster level."; }

50 / 52 / 53 Spell "Protection from Sound" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; qval: 0x0004; Level: 4;
#line "wspells.irh" 5608
xval: 104; yval: 10; pval: 10d1 + (-101);
Desc: "Grants the target acid resistance equal to 10 plus
      her caster level."; }

50 / 53 Spell "Endure the Elements" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 10; Level: 4; qval: 0x0004;
#line "wspells.irh" 5614
xval: 104; yval: 10; pval: 3d1 + (-106);
On Event 205 "EndureElem" / "EE";
Desc: "Grants the target resistance equal to 3 plus
      1 per 2 caster levels against Fire, Cold, Lightning, Acid and Sound."; }
and 3 { xval: 104; yval: 1;
flags: 25; pval: 3d1+(-106); }
and 3 { xval: 104; yval: 2;
flags: 25; pval: 3d1+(-106); }
and 3 { xval: 104; yval: 4;
flags: 25; pval: 3d1+(-106); }
and 3 { xval: 104; yval: 3;
flags: 25; pval: 3d1+(-106); }

50 Spell "Wandwierd" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4; aval: 9;
#line "wspells.irh" 5629
cval: 13; lval: 9; rval: 0x00000004;
xval: 79; yval: (7+500); Flags: 34;
On Event ((7+500)+10000) {
DPrint(e,"Nothing happens.",
"The <EActor> zaps an <EItem>, but nothing happens.");
return 1;
};
Desc: "Creates a zone 90 feet (9 squares) in radius that moves with the
      caster in which nobody other than the caster can use wands.";
}

50 / 52 / 2 Spell "Dismissal" : 6
{ 0x00000001; 0x00000100; Base: 60; Cost: 8; Level: 4; pval: 4d12+-102;
Purpose: 0x00008 | 0x00004 | 0x01000;
xval: 2; sval: 2; qval: 0x0004;
Flags: 34, 89;
Desc: "Teleports an enemy who fails a Will save 4d12+(caster level x 2) 
      squares away. The save DC of Dismissal gains a +4 spell bonus."; }
#line "wspells.irh" 5660
50 Spell "Aura of Abjuration" : 3
{ 0x00000001; 0x00000100; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 40; Level: 4; Purpose: 0x00010;
#line "wspells.irh" 5662
Desc: "This spell evokes an invisible aura around the caster's body
      that casts away anyone who tries to contact her physically, whether
      with an unarmed attack or a melee weapon -- thrown or fired weapons
      do not trigger the effect. For every such attack, the victim must
      make a Will saving throw or be teleported away from the caster as
      per the spell <9>phase door<1>. A single successful save renders
      that given creature immune to the spell for the remainder of the
      day, but does not break the spell with regard to other creatures.";
xval: 79; yval: ((19+500)+2000); sval: 2 + 10;
On Event (28+1000) {

EVictim->GainTempStati(190,NULL,e.vDuration,
2,e.MM,e.saveDC,$"Aura of Abjuration", e.vCasterLev);
return 0;
},
(((19+500)+2000)+10000) {
int32 svDC;
if (e.AType == 112 ||
e.AType == 41 ||
e.AType == 65)
return 0;
if (EActor->HasEffStati(189,$"Aura of Abjuration"))
return 0;
if (EActor->GetAttr(18) > 1d100)
return 0;
svDC = EVictim->GetEffStatiMag(190,$"Aura of Abjuration");
if (EActor->SavingThrow(2,svDC,0x00000001|0x00008000))
{
VPrint(e,"The <EActor> breaks your <9>Aura of Abjuration<7>!",
"You overcome a nearly tangible resistance to strike 
                     the <EVictim>!");
EActor->GainTempStati(189,EVictim,-2,7,0,0,
$"Aura of Abjuration");
return 0;
}
if (!(EActor->HasStati(133) || EVictim->HasStati(133)))
VPrint(e,"As <he:EActor> moves to strike you, the <EActor> is cast back!",
"You are cast away from the <EVictim>!");
ThrowEff(83,$"phase door",EVictim,EActor);
return 2;
};
}



50 / 53 / 2 Spell "Solid Fog" : 5
{ 0x00000002|0x00001000|0x00008000; Base: 90; Cost: 8; Level: 4; qval: 0x0002; sval: 3;
Purpose: 0x00004 | 0x00040 | 0x01000;
xval: 9; rval: $"solid fog bank"; aval: 11; lval: 4;
Desc: "Creates a bank of solid fog. Solid fog reduces movement to 15~
    of normal and deflects all physical missiles.";
On Event 206
"A bank of solid fog appears!",
74
"The bank of solid fog fades away."; }

50 / 53 / 2 Spell "Transmute Rock to Mud" : 5
{ 0x00000002|0x00002000; Base: 90; Cost: 8; Level: 4; aval: 11; lval: 3;
xval: 2; rval: $"shallow mud"; Purpose: 0x00400 | 0x02000;
qval: 0x0002; Flags: 54;
Desc: "Turns all walls within a 30 foot (3 square) radius of the
      targeted square into mud.";
On Event 28
"The rock collapses into thick mud!"; }

50 Spell "Tremor" : 4
{ 0x00000002|0x00002000; Base: 90; Cost: 8; Level: 4;
aval: 11; lval: 6; qval: 0x0002;
xval: 67; sval: 1 + 10; cval: 6;
Purpose: 0x00004;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (ETarget->isAerial())
return -1;
return 0; },
52
"The floor shakes violently!",
28
"The <EVictim> falls down." /
"You fall down!" /
"The <EVictim> falls down.",
(28+500) {

if ((e.efNum == 1) && !EVictim->HasStati(15))
return 1;
return 0;
};
Desc: "Causes a 60 foot (6 square) radius area to shake violently,
      knocking anyone who fails a Reflex save off their feet and inflicting
      2d12 points of blunt damage to those who fall.";
}
and 1
{ xval: 13; pval: 2d12; }

50 / 53 / 2 Spell "Wall of Fire" : 5
{ 0x00000010|0x00004000; Base: 90; Cost: 8; Level: 4; lval: 6;
qval: 0x0001;
xval: 9; aval: 8; Flags: 25;
rval: $"curtain of flame"; pval: 2d6 + (-125);
Purpose: 0x00800 | 0x00004 | 0x00040 | 0x01000;
On Event 52 {
switch (e.DType) {
case 1: e.rval = $"curtain of flame"; break;
case 2: e.rval = $"curtain of frost"; break;
case 3: e.rval = $"curtain of acid"; break;
case 10: e.rval = $"curtain of vibrating air"; break;
case 5: e.rval = $"curtain of toxic gas"; break;
case 4: e.rval = $"curtain of lightning"; break;
}
APrint(e,"A <Res> flares into existance!",e.rval);
return 0; };
Desc: "Creates a curtain of violet flames which causes (2d6
      + caster level) points of fire damage to any creature
      which passes through it."; }

Terrain "curtain of flame"
{ Image: magenta ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(1);
if ( rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Flames sear you!","Flames sear the <EActor>!");
ThrowTerraDmg(41,1,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of fire",EActor, $"curtain of flame");
return 1;
};
}

Terrain "curtain of frost"
{ Image: bright cyan ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(2);
if ( rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Frost chills you!","Frost chills the <EActor>!");
ThrowTerraDmg(41,2,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of frost",EActor, $"curtain of frost");
return 1;
};
}

Terrain "curtain of acid"
{ Image: bright green ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(3);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Acid burns you!","Acid burns the <EActor>!");
ThrowTerraDmg(41,3,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of acid",EActor, $"curtain of acid");
return 1;
};
}

Terrain "curtain of vibrating air"
{ Image: bright white ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(10);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Sonic vibration tears at you!","Sonic vibration tears at the <EActor>!");
ThrowTerraDmg(41,10,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of vibrating air",EActor, $"curtain of vibrating air");
return 1;
};
}

Terrain "curtain of toxic gas"
{ Image: green ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(5);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Toxins poison you!","Toxins poison the <EActor>!");
ThrowTerraDmg(41,5,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of toxic gas",EActor, $"curtain of toxic gas");
return 1;
};
}

Terrain "curtain of lightning"
{ Image: bright yellow ';'; Mat:21;
Flags: 5, 12, 6;
On Event 161 {
int32 rl;
rl = EActor->ResistLevel(4);
if (EActor->GetAttr(3) > 4 && rl != -1)
return 2;
return 0;
} ;
On Event 154 {
DPrint(e,"Lightning shocks you!","Lightning shocks the <EActor>!");
ThrowTerraDmg(41,4,EMap->GetTerraDmg(e.EXVal,e.EYVal),
"moving through a wall of lightning",EActor, $"curtain of lightning");
return 1;
};
}

50 Spell "Copy" : 46
{ 0x00000002; Base: 95; Cost: 50; Level: 4; qval: 0x0008;
Flags: 78, 40, 6;
Purpose: 0x00000;
tval: 22;
Desc: "Creates a duplicate copy of any spellbook that you choose
      to cast it upon.";
On Event 28 {
hObj new_book;
new_book = CreateItem(ETarget->iID);
if (!new_book)
return -1;
EActor->GainItem(new_book,false);
return 1;
};
}

50 / 2 Spell "Fabricate" : 3
{ 0x00000002; Base: 75; Cost: 25; Level: 4;
Desc: "Casting this spell allows a mage to shape inanimate material
      with her mind alone, doing the work of a master craftsman without
      the need for tools. Raw material can be turned into a finished
      product with ease. In game terms, casting this spell grants the
      mage a +10 bonus on her next single Craft skill check, and also
      frees her from the requirement to have a skill kit or forge to 
      perform certain functions with Crafts.";
xval: 124; yval: 9; pval: +10; }
and 3
{ xval: 44; yval: 9;
Flags: 13, 61; }



50 Spell "Track Monster" : 46
{ 0x00000004; Base: 95; Cost: 3; Level: 4; qval: 0x0004;
Purpose: 0x00000;
Flags: 85;
On Event 155 {
if (ETarget->HasMFlag(33))
return -1;
if (!ETarget->isMType(75))
return -1;
return 0;
},
28 {
EActor->RemoveEffStati($"track monster");
EActor->GainTempStati(73,EVictim,e.vDuration,2,0,
126,$"track monster");
EActor->IPrint("You psychically lock on to the <hObj>'s mind.", EVictim);
};
Desc: "Allows you to mystically track a single creature in 
	  a manner similar to a ranger's tracking ability. Mindless and
	  non-living creatures are immune.";
}

50 / 2 Spell "Premonition" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 3; Level: 4;
#line "wspells.irh" 5943
xval: 108; yval: 27; pval: 15;
Desc: "Gives you forewarning of the next attack made against you,
      granting a +15 insight bonus to your Defense Class versus the
      next single melee, unarmed or missile attack made against you."; }
and 3
{ xval: 79; yval: ((27+1000)+2000);
On Event (((27+1000)+2000)+10000)
{ EVictim->RemoveEffStati($"Premonition");
return 0; },
205 "Premonition" "Prem"; }

50 Spell "Detect Magic" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 40; Level: 4; xval: 153;
#line "wspells.irh" 5956
yval: 0; pval: 25d1 + (-102);
Desc: "Reveals all magical items or creatures carrying magical
      items, seen or unseen, within (25 + [caster level x 2]) 
      squares of you.";
On Event 205 "DetMag" / "DMag",
158
{
hObj h;
if (EActor->isType((-4)))
if (EActor->isMagic())
return 1;
if (EActor->isType((-2)))
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isMagic())
return 1;
return -1;
};
}

50 Spell "Nemesis Spell" : 46
{ 0x00000004; Base: 60; Cost: 26; Level: 4; pval: 5;
Purpose: 0x00004 (1);
On Event 155 {
if (EVictim->ChallengeRating() > e.vCasterLev)
return -1;
if (EVictim->HasMFlag(33))
return -1;
if (EVictim->isMType(48))
return -1;
return 0;
},
170 {
e.vDuration = 13;
if (e.MM & 0x00000004)
e.vDuration *= 2;
return 0;
},
28 {
EActor->GainTempStati(79,EVictim,e.vDuration,2,
19, e.vDmg, $"Nemesis Spell", e.vCasterLev);
EActor->GainTempStati(79,EVictim,e.vDuration,2,
(19+2000), e.vDmg, $"Nemesis Spell", e.vCasterLev);
EActor->IPrint("You invoke the Fates to declare yourself the
                        <hObj>'s mortal nemesis!", EVictim);
EVictim->IPrint("You feel very gravely threatened.");
return 1;
},
(19+10000) {
int32 bonus;
bonus = EActor->GetEffStatiVal(79,$"Nemesis Spell");
if (GetHandle(EVictim) == EActor->GetEffStatiObj(
79,$"Nemesis Spell")) {
if (EVictim->XORStatiVal(211) & 0x0100)
return 0;
e.vHit += bonus;
e.vDmg += bonus;
e.strHit += Format(" %+d NS", bonus);
e.strDmg += Format(" %+d NS", bonus);
}
else {
e.vHit -= bonus;
e.vDmg -= bonus;
e.strHit += Format(" %+d NS", -bonus);
e.strDmg += Format(" %+d NS", -bonus);
}
return 0;
},
((19+2000)+10000) {
int32 bonus;
bonus = EVictim->GetEffStatiVal(79,$"Nemesis Spell");
if (GetHandle(EActor) == EVictim->GetEffStatiObj(
79,$"Nemesis Spell")) {
if (EActor->XORStatiVal(211) & 0x0100)
return 0;
e.vDef += bonus;
e.strDef += Format(" %+d NS", bonus);
}
else {
e.vDef -= bonus;
e.strDef += Format(" %+d NS", -bonus);
}
return 0;
},
74 {
EActor->IPrint("The Fates extract their grim price!");
if (EActor->isCharacter())
EActor->LoseXP(2000);
};
Desc: "Casting this spell, the wizard designates herself as the Fates'
      chosen instrument of vengeance against a single chosen target, which
      must be a creature possessed of a mind and native to the Prime
      Material plane -- outsiders are not influenced by fate in the sense
      this spell affects. Once cast, for the next 13 rounds the wizard 
      gains such exceptional insight into the target creature that she
      recieves a +5 bonus to hit and damage that creature, and a +5 bonus 
      to defense class against that creature's attacks.\n
      __However, this power comes at a price. All attacks made against
      other creatures while the spell is active suffer a -5 penalty to
      hit and damage, and the caster has a -5 penalty to her Defense Class
      against others' attacks on her. If the caster has not
      destroyed the target by the time the spell expires, the fates extract
      a penalty from her own karma, costing her 2000 XP permanently.\n
      __If the target is subject to <9>nondetection<1> or a similar effect,
      no insight (and thus no bonuses) are gained, but the penalties remain
      and the creature must still be destroyed within 13 rounds.";
}

50 Spell "Mord's Lucubration" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 30; Level: 4;
#line "wspells.irh" 6065
xval: 155; yval: 6; pval: 1d4+-109;
Desc: "Casting this spell allows you to cast any other arcane
      spell of up to sixth level that you know but do not have a 
      scroll or spellbook for -- the Lucubration allows perfect 
      recall of the spell's details without a physical referance. 
      A single casting of Lucubration allows you to so recall 1d4 
      spells, plus 1 per 5 caster levels."; }
and 3
{ xval: 79; yval: (37+1000);
On Event ((37+1000)+10000)
{
hObj h; int32 i;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
{
if (h->isType(50))
if (h->ieID == e.eID)
return 0;
if (h->isType(22))
if (h->HasSpell(e.sp))
return 0;
}
i = EActor->GetEffStatiMag(155,$"Mord's Lucubration");
if (i <= 1)
EActor->RemoveEffStati($"Mord's Lucubration");
else
EActor->SetEffStatiMag(155,$"Mord's Lucubration",i-1);
return 0;
},
37
{
if (EActor->HasEffStati(155,$"Mord's Lucubration"))
{
EActor->IPrint("You cannot stack multiple castings of 
              <9>Mord's Lucubration<7>.");
return 2;
}
return 0;
},
205 "MordLuc" / "Luc";
}




50 / 2 Spell "Charm Monster" : 3
{ 0x00000008; Base: 75; Cost: 9; Level: 4; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 137; yval: 1; Flags: 25, 53;
Desc: "Improves a hostile, sapient creature's temperment
      towards you, such that it ceases attacking and becomes a
      neutral creature.";
On Event 28
"The <EVictim> gives way to your charm." /
"You fall under the influence of the <EActor>." /
"The <EVictim> falls under the influence of the <EActor>.",
74
"You shake off the effect of the charm." /
"The <EActor> shakes off the effect of the charm.";
}

50 Spell "Confusion" : 3
{ 0x00000008; Base: 75; Cost: 8; Level: 4; sval: 2;
xval: 6; aval: 11; lval: 3; cval: 3;
Purpose: 0x00004 | 0x00040; qval: 0x0002;
Flags: 34, 53;
Desc: "Causes all living creatures within 30 feet of the target
      point to become confused, if they fail a Will saving throw.";
}
#line "wspells.irh" 6148
50 / 2 Spell "Emotion" : 46
{ 0x00000008; Base: 75; Cost: 8; Level: 4; sval: 2;
qval: 0x0004; Flags: 53; int32 ch;
Purpose: 0x00000;

On Event 52 {
if (EActor->isPlayer())
ch = EActor->ChoicePrompt("Love, Hate, Despair, Terror, Fury or Hope?","lhdtfo");
else if (EActor->isHostileTo(EVictim))
{
if (random(2))
ch = 't';
else
ch = 'l';
}
else
{
if (random(2))
ch = 'o';
else
ch = 'f';
}
return 0;
},
28 {
hObj h;
switch (ch) {
case 'l':
TPrint(e,"The <EVictim> falls under your sway.",
"You are in thrall to the <EActor>.",
"The <EVictim> falls under the <EActor>'s sway.");
EVictim->GainTempStati(137,EActor,e.vCasterLev+10,2,3,0,$"emotion");
break;
case 'h':
VPrint(e,"You feel an unspeakable hate well up within you.",
"The <EVictim>'s face twists with hatred.");
EVictim->GainTempStati(147,EActor,e.vDuration,2,0,0,$"emotion");
break;
case 'd':
VPrint(e,"You are is overcome with despair.",
"The <EVictim> is overcome with despair.");
EVictim->GainTempStati(9,EActor,1d4+1,2,1,0,$"emotion");
break;
case 't':
VPrint(e,"You feel panic overwhelm your reason.",
"The <EVictim> turns and runs.");
if (h = EVictim->InSlot(2))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
if (h = EVictim->InSlot(1))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
EVictim->GainTempStati(10,EActor,e.vDuration,2,0,0,$"emotion");
break;
case 'f':
VPrint(e,"You fly into a berzerk rage!",
"The <EVictim> flies into a berzerk rage.");
EVictim->GainTempStati(66,EActor,e.vDuration,2,0,+2,$"emotion");
break;
case 'o':
VPrint(e,"You feel uplifted.",
"The <EVictim> gets a second wind!");
EVictim->GainTempStati(106,EActor,e.vDuration,2,51,+1,$"emotion");
break;
}
return 1;
};
Desc: "Allows you to inflict one of six emotions (love, hate, despair,
      terror, fury or hope) on a single target, with varying game effects.";
}

50 / 2 Spell "Fear" : 46
{ 0x00000008; Base: 75; Cost: 7; Level: 4; sval: 2;
qval: 0x0001; Flags: 53, 89, 70; aval: 2;
Purpose: 0x00004 (9); lval: 8; cval: 5;
On Event 28 {
hObj h;
if (EVictim->ResistLevel(0x08000000) == -1) {
e.Immune = true;
return 1;
}
VPrint(e,"You feel panic overwhelm your reason.",
"The <EVictim> turns and runs.");
if (h = EVictim->InSlot(2))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
if (h = EVictim->InSlot(1))
if (!h->isCursed())
{
h->Remove(false);
h->PlaceAt(EMap,EVictim->x,EVictim->y);
}
EVictim->GainTempStati(10,EActor,e.vDuration,2,0,0,$"emotion");
};
Desc: "Produces an invisible cone of terror out to a range of 80 feet, causing 
      all creatures with minds within its area of effect to drop their weapons and 
      flee if they fail a Will saving throw; this spell grants a +4 bonus to its 
      save DC.";

}
#line "wspells.irh" 6261
50 / 51 Spell "Crushing Despair" : 3
{ 0x00000008; Base: 75; Cost: 7; Level: 4; aval: 2; qval: 0x0001|0x0004;
xval: 114; yval: 51; pval: -2; lval: 3;
Purpose: 0x00004; cval: 8; Flags: 53;
Desc: "Projects a ray of despair at the caster's enemies inflicting
      at -2 morale penalty on attack rolls, saving throws, 
      spellcasting, and weapon damage rolls. There is no resistance
      to this effect."; }
and 3
{ aval: 2;
xval: 114; yval: 53; pval: -2; lval: 3; }

50 Spell "Fire Charm" : 3
{ 0x00000008|0x00004000; Base: 90; Cost: 9; Level: 3; sval: 2;
aval: 11; lval: 6; cval: 4; qval: 0x0002;
Flags: 53, 34, 89;
xval: 9; yval: 1;
#line "wspells.irh" 6281
Desc: "This spell enchants a source of open, sustained 
      flame or molten stone (such as a wall torch, fire elemental
      or magma square), causing it to be hypnotically compelling
      and forcing creatures to stare at it blankly, paralyzed.
      You must target a square with a source of flame for this
      spell to be effective, and it only affects creatures who
      can see and have a mind.";
On Event (52+500) {
rID terID; hObj hMon;
terID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (terID == $"magma" || terID == $"Wall Torch")
return 0;
for (hMon = EMap->FCreatureAt(e.EXVal, e.EYVal);hMon;
hMon = EMap->NCreatureAt(e.EXVal, e.EYVal))
{
if ((hMon != ((hObj)0)) &&
hMon->isMType(38) &&
hMon->isMType(95))
return 0;
if ((hMon != ((hObj)0)) &&
hMon->tmID == $"flaming sphere")
return 0;
}
EActor->IPrint("You must target a square with a source of
        flame to use that spell.");
return 2;
},
155 {
if (EVictim->HasMFlag(6) || EVictim->HasMFlag(33))
return -1;
return 0;
};
}
#line "wspells.irh" 6323
50 Spell "Force Missiles" : 1
{ 0x00000010|0x00010000; Base: 90; Cost: 7; Level: 4; sval: 3;
xval: 8; pval: (-110)d4;
Purpose: 0x00001;
aval: 1; qval: 0x0001 | 0x0004; cval: 18;
Desc: "This spell creates a brilliant globe of magical energy that
    streaks forth from the caster's hand to unerringly strike its target,
    much like a Magic Missile spell. Each missile does 2d4 points of damage
    and the caster fires one missile for every three caster levels. In
    addition, the missiles burst on impact and deal concussive damage
    equal to twice the caster's level to all creatures within a 10 foot
    (1 square) radius.";
} and 1 {
sval: 1; xval: 13; pval: (-102)d1; aval: 3;
lval: 2; cval: 18; Flags: 34;
}

50 / 2 Spell "Shout" : 1
{ 0x00000010; Base: 90; Cost: 12; Level: 4; lval: 5; cval: 28;
qval: 0x0001; xval: 10; sval: 0 partial; Flags: 58;
pval: (-106)d10; aval: 2; Purpose: 0x00001; }
and 3
{ xval: 5; sval: 2; aval: 2; lval: 5;
Desc: "Amplifies a shout into a shattering cone of sound that
      inflicts 1d10 points of damage for every 2 caster levels (Fortitude 
      save for half) and stuns anyone who fails a Will save.";
On Event 200 "deafening shout"; }

50 / 53 Spell "Ice Storm" : 1
{ 0x00000010|0x00000800; Base: 75; Cost: 8; Level: 4; lval: 6; aval: 3;
xval: 2; sval: 1 partial; pval: 3d10+(-101);
Flags: 62, 32; Purpose: 0x00001; cval: 9;
On Event 200 "storm of hail"; qval: 0x0002;
Desc: "This spell can be cast in one of two forms, at the caster's
      elective, as follows:\n
      __<9>Hail Storm:<1> Conjures a brief storm of biting cold and huge, hard 
      hailstones in a 60 foot (6 square) radius area, inflicting 3d10 points of
      damage, plus one per caster level. Half this damage is cold damage; the
      other half is trauma damage, and cannot be avoided by resistances.\n
      __<9>Sleet Storm:<1> Driving sleet blocks all sight (even darkvision) 
      within it and causes the ground in the area to be icy. A creature can 
      walk within or through the area of sleet at half normal speed with a DC 
      15 Balance check. Failure means it can't move in that round, while 
      failure by 5 or more means it falls.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Hail or sleet?","hs",(1d2 == 2) ? 'h' : 's');
if (ch == 's')
{
RedirectEff(e,$"sleet storm",52);
return 1;
}
return 0;
};
}

Effect "Sleet Storm" : 5
{ 0x00000010|0x00000800; aval: 11; lval: 8;
xval: 9; rval: $"storm of sleet"; qval: 0x0002;
Purpose: 0x00040 | 0x00004 | 0x01000;
Flags: 40;
sval: 3;
Desc: "";
On Event 206
"A storm of sleet materializes out of nowhere!",
74
"The sleet storm stops."; }



50 Spell "Vitriolic Sphere" : 1
{ 0x00000010; Base: 75; Cost: 8; Level: 4; Purpose: 0x00001;
xval: 3; pval: (-99)d8;
aval: 1; qval: 0x0001 | 0x0004; cval: 2;
Desc: "Projects a emerald globe of acid that strikes a target
      to inflict 1d8 damage per two caster levels (max 5d8) instantly, 
      plus 1d4 points of lingering acid damage every turn thereafter for
      the duration (1 round/caster level)."; }
and 3 {
aval: 1; xval: 79; yval: 32;
On Event (32+10000) {
hObj killer;
ThrowDmg(41,3,1d4,"lingering acid",EActor,EActor);
DPrint(e,"The acid sears!", "Acid sears the <EActor>!");
if (EActor->isDead()) {
killer = EActor->GetEffStatiObj(79,$"vitriolic sphere");
if (killer)
killer->KillXP(EActor);
}
return 0;
},
200 "globe of acid";
}

50 / 2 Spell "Fire Shield" : 3
{ 0x00000010|0x00004000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6419
Purpose: 0x00010 | 0x00200 (11);
xval: 104; yval: 2; pval: 12d1 + -106; }
and 3
{ xval: 79; yval: ((20+1000)+2000); pval: (-124);
On Event (((20+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;

TPrint(e,"The <EVictim>'s flame aura sears you!",
"Your flames burn the <EActor>!",
"The <EVictim>'s flame aura sears the <EActor>!");
ThrowDmg(41,1,1d8+EVictim->GetEffStatiVal(79,$"fire shield"),
"a nimbus of fire", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
},
52 {
if (e.MM & 0x00800000)
{
EActor->IPrint("This spell can't be transmuted.");
return 2;
}
},
205 "FShield" / "FSh",
206
"You are wreathed in a shroud of flames!" /
"The <EActor> is wreathed in a shroud of flames!",
84
"Your fiery shroud fades." /
"The <EActor>'s fiery shroud fades.";
Desc: "Envelops you in a shroud of flames with give you cold resistance
      (12 + [caster level / 2]) and inflicts 1d8+caster level (max 1d8+15)
      points of fire damage on anyone who attacks you in melee.";
} and 3 {
xval: 79; yval: ((21+1000)+2000); pval: (-124);
On Event (((21+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;

TPrint(e,"The <EVictim>'s flame aura sears you!",
"Your flames burn the <EActor>!",
"The <EVictim>'s flame aura sears the <EActor>!");
ThrowDmg(41,1,1d8+EVictim->GetEffStatiVal(79,$"fire shield"),
"a nimbus of fire", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
};
}

50 Spell "Chill Shield" : 3
{ 0x00000010|0x00000800; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6476
Purpose: 0x00010 | 0x00200 (10);
xval: 104; yval: 1; pval: 12d1 + -106; }
and 3
{ xval: 79; yval: ((20+1000)+2000); pval: (-124);
On Event (((20+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s icy aura sears you!",
"Your aura chills the <EActor>!",
"The <EVictim>'s icy aura sears the <EActor>!");
ThrowDmg(41,2,1d8+EVictim->GetEffStatiVal(79,$"chill shield"),
"an aura of frost", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
},
52 {
if (e.MM & 0x00800000)
{
EActor->IPrint("This spell can't be transmuted.");
return 2;
}
},
205 "CShield" / "CSh",
206
"You are wreathed in a shroud of frost!" /
"The <EActor> is wreathed in a shroud of frost!",
84
"Your chill aura fades." /
"The <EActor>'s chill aura fades.";
Desc: "Envelops you in an aura of frost with give you fire resistance
      (12 + [caster level / 2]) and inflicts 1d8+caster level (max 1d8+15)
      points of cold damage on anyone who attacks you in melee.";
}
and 3
{ xval: 79; yval: ((21+1000)+2000); pval: (-124);
On Event (((21+2000)+1000)+10000) {
if (!EActor->isBeside(EVictim))
return 0;
if (e.AType == 112 || e.AType == 65)
return 0;
TPrint(e,"The <EVictim>'s icy aura sears you!",
"Your aura chills the <EActor>!",
"The <EVictim>'s icy aura sears the <EActor>!");
ThrowDmg(41,2,1d8+EVictim->GetEffStatiVal(79,$"chill shield"),
"an aura of frost", EVictim, EActor);
if (EActor->Flags & 0x0008)
e.ADied = true;
return 0;
};
}




50 Spell "Phantasmal Killer" : 46
{ 0x00000020; Base: 60; Cost: 8; Level: 4; qval: 0x0004; sval: 2;
Desc: "Summons a phantasm of the target's worst fear, which the
      target may make a Will save to disbelieve absolutely. If the
      target fails, a second Fortitude save determines if the target
      is slain outright, or merely becomes Afraid and suffers 1d6
      points each of Wisdom and Charisma damage.";
On Event 28 {
VPrint(e,"You feel your heart turn to ice!",
"The <EVictim> turns deathly pale!");
if (ETarget->SavingThrow(0,e.saveDC,0x00000800|0x00000010|0x00000400))
{
if (EActor->ResistLevel(28) != -1) {
ThrowDmg(41,54,1d6,"a phantasm",EActor,EVictim);
ThrowDmg(41,54,1d6,"a phantasm",EActor,EVictim);
EVictim->GainTempStati(10,EActor,e.vDuration,2,0,0,$"Phantasmal Killer");
}
EVictim->IPrint("You narrowly avoid death by terror!");
}
else if (EActor->ResistLevel(28) != -1)
ThrowDmg(42,6,0,"a phantasmal killer",EActor,EVictim);
return 1;
};
Flags: 53, 63, 70; Purpose: 0x00001 (9);
}

50 Spell "Improved Spectral Force" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 4;
Purpose: 0x00100; xval: 75; yval: 1|2;
rval: $"generic summons";
Desc: "This spell creates an illusionary creature, force 
      or object, combining the advantages of both Spectral
      Force (resilience, independence, longer-lasting psychosomatic 
      damage) and Improved Phantasmal Force (affecting all senses).";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout";
}

50 Spell "Improved Invisibility" : 3
{
0x00000020; Level: 4; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 40;
#line "wspells.irh" 6585
xval: 100; yval: 1;
Desc: "As one might expect from the name, this is a superior
      version of the 2nd-level spell <9>invisibility<1>. It
      functions like that spell in all respects, except that if
      the invisibility effect is broken due to attacking or a
      similar cause, it will automatically recur in 1d4+1 rounds,
      at no cost in mana or time and with no chance of failure.
      Improved Invisibility lasts a full day, but if dispelled
      or cancelled by means other than attacking, it does not
      recur.";
On Event 84 {
EActor->GainTempStati(189,NULL,1d4+1,2,0,0,
$"Improved Invisibility;renewal", EActor->CasterLev());
return 0;
},
74, 126 {
return 1;
},
205 "ImpInv" / "IInv";
}

Effect "Improved Invisibility;renewal" : 46
{
Desc: "As one might expect from the name, this is a superior
      version of the 2nd-level spell <9>invisibility<1>. It
      functions like that spell in all respects, except that if
      the invisibility effect is broken due to attacking or a
      similar cause, it will automatically recur in 1d4+1 rounds,
      at no cost in mana or time and with no chance of failure.
      Improved Invisibility lasts a full day, but if dispelled
      or cancelled by means other than attacking, it does not
      recur.";
On Event 74 {
EActor->IPrint("You turn invisible again!");
ThrowEff(52,$"Improved Invisibility",EActor,EActor);
};
}

50 Spell "Hallucinatory Terrain" : 46
{ 0x00000020; Base: 75; Cost: 16; Level: 4; qval: 0x0002;
yval: 1; aval: 7; rval: 0x00000001; lval: 3;
Flags: 25, 66;
Desc: "Casting this spell weaves an elaborate illusion of terrain
      features over a globe 30 feet in radius, with a point of origin
      that you select. The illusory terrain appears only in map squares
      containing a normal floor, and can simulate magma, a deep pool of 
      water, a gaping chasm, entangling webs or sticky slime. Just like 
      an illusionary creature, the effects of this terrain are real in the
      case of those who believe in it, and can inflict psychosomatic
      damage normally, though it can have no effect on those who are
      able to see through the illusion. Like the spell <9>phantasmal
      force<1>, this illusion affects only sight and hearing, and is
      thus automatically seen though by sharpened senses, blindsight,
      tremorsense or scent, as well as magics designed specifically to
      penetrate illusions, like <9>true seeing<1>.\n
      __However, hallucinatory terrain does not require concentration
      or line of sight in order to maintain.";
On Event 52 {
int32 ch;
if (EActor->HasEffStati(189,$"Hallucinatory Terrain") ||
EActor->HasEffStati(189,$"Mirage Arcana"))
{
EActor->IPrint("You can only have one terrain illusion
            active at a time.");
return 2;
}

ch = EActor->ChoicePrompt("Magma, Chasm, Slime, Pool or Webbing?",
"mcspw", 'm', 1, 9);
EActor->GainTempStati(189,NULL,e.vDuration,2,ch,e.saveDC,
$"Hallucinatory Terrain");
return 0;
},
84 {
EMap->RemoveEffField($"Hallucinatory Terrain");
return 0;
},
127 {
int32 ch; rID tID;
tID = EMap->TerrainAt(e.EXVal, e.EYVal);
if ((tID->Image & 0xFF) == 250 ||
(tID->Image & 0xFF) == 249)
{
ch = EActor->GetEffStatiVal(189,$"Hallucinatory Terrain");
switch (ch)
{
case 'm': e.eID = $"magma"; break;
case 'c': e.eID = $"chasm"; break;
case 's': e.eID = $"pool of slime"; break;
case 'p': e.eID = $"deep water"; break;
case 'w': e.eID = $"webbing"; break;
}
}
else
e.eID = tID;
return 1;
};
}

50 Spell "Shadow Monsters" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 4;
Purpose: 0x00100; xval: 75; yval: 1|16;
rval: $"generic summons";
Desc: "This spell draws material from the Demiplane of Shadow in 
      order to form partially real illusions of one or more monsters
      to fight in the caster's name. These creatures are functionally
      identical to the creature illusions created by <9>spectral force<1>, 
      but they are 20~ real -- their attacks inflict 20~ real damage to
      all creatures (and 80~ psychosomatic damage to any creatures that
      do not see through the illusion). Likewise, they can affect inanimate
      objects with a Strength score equal to 20~ of the Strength of a real
      creature of their type.\n
      __The downside of this is that they only have 20~ of the hit points
      of a normal creature of their type -- if a creature that sees through
      the illusion strikes them for damage, or they suffer damage from an
      inanimate source such as a trap, and this damage brings their current
      hit points to less than 80~ of their total, they are dispelled and
      cease to exist with regard to all characters.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61, 98;
}

50 Spell "Shadow Magic" : 8
{ 0x00000020; Base: 75; Cost: 15; Level: 4;
Purpose: 0x00100; xval: 75; yval: 1|16|8;
Desc: "This spell draws forth matter from the Demiplane of Shadows in order
      to create a blast of elemental force duplicating certain wizard evocation
      spells of 3rd or 4th level. However, the magic, created from shadow, is
      only 30~ real, and all creatures who are subject to it recieve an immediate
      chance to disbelieve. All creatures suffer 30~ of the duplicated spell's
      normal damage; creatures who fail the disbelief check also suffer the
      remaining 70~ as psychosomatic damage.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 99;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop";
}



50 / 52 / 53 Spell "Contagion" : 46
{ 0x00000040; Base: 90; Cost: 7; Level: 4; qval: 0x0004;
rID diseaseID; sval: 0; Purpose: 0x00004;
On Event 52 {
if (EActor->isMonster())
switch(random(7)) {
case 0: diseaseID = $"blinding sickness"; break;
case 1: diseaseID = $"cackle fever"; break;
case 2: diseaseID = $"filth fever"; break;
case 3: diseaseID = $"red ache"; break;
case 4: diseaseID = $"mindfire"; break;
case 5: diseaseID = $"the shakes"; break;
case 6: diseaseID = $"slimy doom"; break;
}
else {
ETerm->LOption("blinding sickness",(int32)$"blinding sickness");
ETerm->LOption("cackle fever",(int32)$"cackle fever");
ETerm->LOption("filth fever",(int32)$"filth fever");
ETerm->LOption("red ache",(int32)$"red ache");
ETerm->LOption("mindfire",(int32)$"mindfire");
ETerm->LOption("the shakes",(int32)$"the shakes");
ETerm->LOption("slimy doom",(int32)$"slimy doom");
diseaseID = (rID) ETerm->LMenu(0,"Choose a disease:");
}
if (diseaseID == (rID)0)
{
Error("Undefined disease in $Contagion::EV_EFFECT!");
return 2;
}
},
28 {
EVictim->GainPermStati(19,NULL,7, 0, 0, diseaseID);
EVictim->StatiMessage(19,0,0);
return 1;
};
Desc: "Infects a living creature with one of the following diseases
	  if they fail a Fortitude saving throw: blinding sickness, cackle
	  fever, filth fever, red ache, mindfire, the shakes or slimy doom.";
}

50 Spell "Enervation" : 3
{ 0x00000040; Base: 90; Cost: 7; Level: 4; qval: 0x0001 | 0x0004;
xval: 112; yval: 51; pval: 1d4+1; aval: 1;
tval: 75; Flags: 4, 60; cval: 1;
Purpose: 0x00001;
Desc: "Produces a bolt of negative energy that inflicts a
      -(1d4+1) general penalty if it strikes a living target.
      You must make a ranged attack roll to hit with this spell.";
On Event 28 {
if (e.vDmg > 0)
e.vDmg = -e.vDmg;
VPrint(e, "You feel like someone just walked over your grave.",
"The <EVictim> shivers.");
e.Terse = true;
return 0;
};
}

50 Spell "Revenance" : 3
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6793
xval: 107; yval: 51; pval: +2; tval: 76;
Flags: 4;
aval: 11; lval: 6; cval: 19;
Desc: "Channels negative energy to strengthen all undead
      within 60 feet (6 squares) of you, giving
      them all a +2 profane bonus to hit, damage and saves, and
      a +4 turn resistance.";
On Event 155 {
if (!EActor->isMType(76))
return -1;
else
return 0;
},
28
"You feel empowered!" /
"A roiling aura of negative energy strengthens the <EVictim>!";
}
and 3
{ aval: 11; lval: 6;
xval: 39; yval: 98; pval: +4; }
#line "wspells.irh" 6817
50 / 51 Spell "Summon Shadows" : 9
{ 0x00000040; 0x00000020; Base: 75; Cost: 7; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"mass summons"; pval: 6;
Flags: 95;
Desc: "Summons a group of shadows worth CR 6. Casting this spell
      costs one fatigue point.";
Flags: 79;
On Event (184+500) {
e.enConstraint = (int32) $"shadow";
EActor->LoseFatigue(1,false);
return 0;
};
}




50 / 2 Spell "Polymorph Other" : 32
{ 0x00000080; Base: 75; Cost: 8; Level: 4; sval: 0; qval: 0x0004;
Flags: 26; Purpose: 0x00004;
Desc: "Changes one target creature into a different, random creature
      of the same challenge rating or lower.";
On Event 28 {
if (GetHandle(EActor) == GetHandle(EVictim))
{
EActor->IPrint("You need <9>Polymorph Self<7> to change your
            own form.");
return 1;
}
};
}

50 Spell "Stoneskin" : 3
{ 0x00000080|0x00002000; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 4;
#line "wspells.irh" 6851
xval: 79; yval: (20+2000); pval: 1d4+-106;
Flags: 72;
Desc: "Turns your skin as hard as rock, automatically and completely
      negating 1d4+(caster level/2) blows from any weapon of less than +5
      enchantment. Critical hits damage you, but only as much as a normal
      hit would usually.";
On Event ((20+2000)+10000) {
int32 count;
if (e.DType != 11 && e.DType != 12 && e.DType != 13)
return 0;
#line "wspells.irh" 6864
DPrint(e,"Click.","Click.");
count = EVictim->GetEffStatiVal(79,$"stoneskin");
if (count == 1)
EVictim->RemoveEffStati($"stoneskin");
else
EVictim->SetEffStatiVal(79,$"stoneskin",count - 1);
if (GetHandle(EItem))
if (EItem->GetPlus() >= 5)
return 0;
if (e.isCrit) {
e.isCrit = false;
return 0;
}
return 1;
};
On Event 28
"Your skin turns to stone!" /
"The <EVictim>'s skin turns to stone!",
205
"Stoneskin" / "SS";
}

50 Spell "Burning Blood" : 3
{ 0x00000080|0x00004000; Base: 90; Cost: 7; Level: 4; qval: 0x0004;
xval: 79; yval: 32; Purpose: 0x00001 | 0x00004;
On Event 155 {
if (!EVictim->isMType(77))
return -1;
if (EVictim->ResistLevel(1) == -1)
return 1;
return 0;
}, 28
"You feel your blood begin to boil!" /
"The <EVictim> screams in agony!",
74
"Your blood stops boiling." /
"The <EActor>'s blood stops boiling.",
(32+10000) {
hObj killer;
killer = EActor->GetEffStatiObj(79,$"burning blood");
if (killer) {
ThrowDmg(41,1,2d6,"burning blood",killer,EActor);
ThrowDmg(41,0,1d6,"burning blood",killer,EActor);
} else {
ThrowDmg(41,1,2d6,"burning blood",EActor,EActor);
ThrowDmg(41,0,1d6,"burning blood",EActor,EActor);
}
if (EActor->isDead())
DPrint(e,"Your blood foams out of your body, killing you.",
"The <EActor>'s blood foams out of <his:EActor> body, killing <him:EActor>.");
else
DPrint(e,"Your blood boils!",
"The <EActor>'s blood boils!");
if (EActor->isDead()) {
if (killer)
killer->KillXP(EActor);
}
return 0;
};
Desc: "Causes a victim's blood to boil, dealing 2d6 points of fire
      damage and 1d6 points of unblockable damage to him every turn for
      your caster level in rounds. Can only be cast on victims that
      possess blood.";
}

50 / 2 Spell "Evard's Black Tentacles" : 46
{ 0x00000080; Base: 75; Cost: 12; Level: 4; qval: 0x0002;
Purpose: 0x00100|0x00040; pval: 1d4 + -101;
Purpose: 0x00000;
On Event 28 {
int32 i, j, x, y; hObj hTent;
for (i=0;i<=e.vDmg;i++)
{
for (j=0;j<20;j++)
{
x = e.EXVal - 6 + 1d11;
y = e.EYVal - 6 + 1d11;
if (EMap->InBounds(x,y))
if (!(EMap->SolidAt(x,y) ||
EMap->FallAt(x,y)))
if (dist(EActor->x,EActor->y,x,y) > 2)
{
hTent = CreateMonster($"black tentacle");
hTent->PartyID = 76;
hTent->PlaceAt(EMap,x,y);
hTent->Initialize();
j = 20;
}
}
}
return 1;
},
206
"Ropy black tentacles grow from the walls and floor!";
Desc: "This spell causes 1d4 tentacles, plus one per caster
      level, to grow out of the nearby stone, earth, wood or any
      other surface and lash out mindlessly to entangle whatever
      might be nearby. The tentacles have Strength 18, Dexterity
      18, 3 hit dice, a +3 base attack bonus and are DC 13 with
      +5 natural armor. The tentacles cannot move from the spot
      they first appear, which will be within 50 feet of the 
      spell's chosen point of origin.\n
      __The tentacles are <9>not<1> summoned creatures -- they
      are grown by thaumaturgic means out of nothing -- and are
      unaffected by spells and powers which affect summoned beings.
      Further, they are <9>not<1> subservient to the caster, attacking
      him as casually as anyone else who comes within their reach.
      Fortunately, no tentacles will grow in the squares directly
      surronding the caster.\n
      __If the spell is cast is a very constricted area such as a
      corridor, less then the normal number of tentacles may appear.";
}

Monster "black tentacle" : 58
{
Image: black '{'; Size: 5; Arm: 5;
CR: 2; HD: 3; Hit: +3; Def: 14; Mov: 0%; Spd: 70%;
Str 18, Dex 18, Con 14, Int 2, Wis 13, Cha 4;
Attk: 14 for 63 (DC 17),
32 for 1d6 13;
Stati[39,95,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 66, 3, 4, 7, 33,
5, 6, 14, 20,
22, 23, 24, 25,
30, 55, 56;
Desc: "A slick, black tentacle ten feet long and as thick
      across as a man's arm, this horror is no natural thing,
      growing out of stone or earth, but obviously the working
      of a powerful wizard's spell.";
}

50 / 2 Spell "Waves of Weariness" : 46
{ 0x00000080; Base: 90; Cost: 7; Level: 4; qval: 0x0001;
lval: 6; aval: 2; sval: 0; pval: 2d8; cval: GRAY;
tval: 75; Flags: 4; Purpose: 0x00004;
Desc: "Creates a grey wave which saps vitality from
      everyone it strikes, draining 2d8 fatigue points
      from any living creature that fails a Fortitude
      save.";
On Event 28 {
EVictim->IPrint("You suddenly feel exhausted!");
EVictim->LoseFatigue(e.vDmg,false);
return 1;
},
206
"A grey wave ripples forth from your hands!" /
"A grey wave ripples forth from the <EActor>'s hands!";
}



50 / 51 Spell "Monster Summoning IV" : 9
{ 0x00000100; Base: 75; Cost: 12; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"summoned monster"; pval: 4;
Desc: "Summons a living creature of CR 4 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 4+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 7024
50 / 52 Spell "Dimensional Anchor" : 3
{ 0x00000100; Base: 90; Cost: 7; Level: 4; qval: 0x0004 | 0x0001;
aval: 1; Purpose: 0x00004 | 0x00200 (4);
xval: 133; cval: 10; Flags: 60;
Desc: "Produces a thin bolt of green energy that, upon
      striking a target (ranged attack roll), locks that
      target into place and prevents them from teleporting,
      being teleported or plane-shifting. Creatures already
      phased will be forcibly returned to their natural plane
      of existance.";
On Event 28
"You feel a strange wrenching sensation." /
"The <EVictim> suddenly seems more solid, somehow.";
}

50 Spell "Shift Level" : 46
{ 0x00000100; Base: 90; Cost: 12; Level: 4; Purpose: 0x00008;
Desc: "This unusual variant of <9>dimension door<1> allows the
      caster to travel on the vertical plane, either ascending by
      teleporting through the ceiling to the next stable surface
      that can support her weight above her, or similarly travelling
      through the floor and whatever depth of stone seperates her
      from the nearest open area immediately below her.";
On Event 28 {
int32 ch;
ch = EActor->ChoicePrompt("Ascend or descend?", "ad", 'd');
if ( (EMap->dID == ((rID)0)) ||
(ch == 'a' && EMap->Depth == 1) || EActor->HasStati(133) ||
(ch == 'd' && EMap->Depth >= EMap->dID->GetConst(44)))
{
VPrint(e,"You flicker for a brief instant, but remain where you are.",
"The <EVictim> flickers in place.");
return 1;
}
VPrint(e,NULL,"The <EVictim> vanishes!");
EVictim->MoveDepth(EMap->Depth + ((ch == 'a') ? -1 : 1),true);
VPrint(e,NULL,"An <EVictim> appears!");
return 1;
};
}

50 Spell "Lesser Planar Conjuration" : 9
{
0x00000100; Base: 60; Cost: 65; Level: 4; Purpose: 0x00000;
Desc: "This spell -- the first hint young mages recieve of the true
      art of conjuration -- allows a caster to summon a powerful creature
      with a CR of up to (6 + caster's Charisma mod) from the outer planes 
      in order to serve her for a full day. This kind of summoning is
      extremely difficult -- in addition to a staggering mana cost, it
      requires that the caster stand next to a specially perpared summoning
      circle (which, fortunately, are sometimes found in dungeons already
      prepared by ancient mages) to conduct a two hour ritual, and it costs 
      the caster 2 fatigue points.\n
      __Opening the outer-planar conduit correctly requires a Knowledge
      (Planes) check against DC 15 -- if this check fails, the creature
      is unbound and arrives hostile. If the check is successful, however,
      the caster can proceed to negotiate terms of service with the creature
      by means of an opposed Diplomacy test. [ For now, if the creature wins,
      it just leaves -- later, the spell will have more complexity, allowing
      the caster to pay the creature to stay, maybe stays for a shorter term,
      different modifiers, etc. Creatures summoned with this spell have +200~
      movement until we can fix the companion AI.]\n
      __A caster can only have one creature summoned with <9>lesser planar
      conjuration<1> at a time, though she may summon others with spells 
      like <9>planar conjuration<1> or <9>conjure earth elemental<1>.";
Flags: 95, 78; int32 hostile_flag; rval: $"conjured outsider";
On Event 170 {
SetPVal(e,6 + EActor->Mod(5));
return 0;
},
(52+500) {
int32 dir;
e.isLoc = false;
for(dir=0;dir!=8;dir++)
{
if (EMap->TerrainAt(EActor->x + DirX(dir), EActor->y + DirY(dir))
== $"Summoning Circle")
{
e.isLoc = true;
e.EXVal = EActor->x + DirX(dir);
e.EYVal = EActor->y + DirY(dir);
}
}
if (!e.isLoc)
{
EActor->IPrint("You need to stand directly beside a summoning circle
            to cast this spell.");
return 2;
}
if (!EActor->LoseFatigue(2,true))
return 2;
EActor->IPrint("You begin an elaborate ritual...");
if (EActor->isPlayer())
if (EActor->SpendHours(2,2) != 1)
return 2;

if (!EActor->SkillCheck(29,15,true))
{ hostile_flag = true;
EActor->IPrint("You evoke the conduit imprecisely!
            You are in mortal danger!");
EActor->GainTempStati(5,NULL,3d6,7); }
else
hostile_flag = false;
return 0;
},
(28+1000) {
hObj hDemon; int32 a, b;
hDemon = EMap->GetEncounterCreature(0);
if (hDemon == ((hObj)0))
return 0;
if (hostile_flag)
{
hDemon->TurnHostileTo(EActor);
return 0;
}
EActor->IPrint("You negotiate terms of service with the <hObj>.",hDemon);
EActor->SkillCheck(11,0,true);
a = LastSkillCheckResult();
hDemon->SkillCheck(11,0,true);
b = LastSkillCheckResult();
if (b >= a)
{
EActor->IPrint("Unable to form a binding pact, 
            you dismiss the <hObj>.", hDemon);
hDemon->Remove(true);
}
else
{
EActor->IPrint("You successfully form a service pact with
            the <hObj>. The summoning circle fades.", hDemon);
EMap->WriteTerra(hDemon->x,hDemon->y,$"floor");
}
#line "wspells.irh" 7159
hDemon->GainPermStati(113,NULL,7,26,+40);

return 0;
};
}
#line "wspells.irh" 7344
50 / 2 Spell "Energy Buffer" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 5;
#line "wspells.irh" 7346
xval: 79; yval: (41+2000); pval: (-101)d12;
Flags: 72;
On Event ((41+2000)+10000) {
int32 buff;
if (e.DType != 1 && e.DType != 2 &&
e.DType != 3 && e.DType != 5 &&
e.DType != 4 && e.DType != 10)
return 0;
buff = EVictim->GetEffStatiVal(79,$"Energy Buffer");
if (e.vDmg < buff) {
EVictim->SetEffStatiVal(79,$"Energy Buffer",buff - e.vDmg);
e.Immune = true;
return 1;
}
else {
EVictim->RemoveEffStati($"Energy Buffer",84);
if (e.vDmg == buff) {
e.Immune = true;
return 1;
}
e.vDmg -= buff;
return 0;
}
},
205 "Energy Buffer" / "EBuf",
28 {
e.vDmg = min(126, e.vDmg);
return 0;
};
Desc: "Absorbs the first [1d12 / caster level] points of damage you take
        from elemental (i.e., fire, cold, lightning, poison, sonic or acid)
        sources. ";
}

50 Spell "Mooncloak" : 3
{
0x00000001; 0x00000010; Level: 5; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45;
#line "wspells.irh" 7383
Desc: "Casting this spell evokes a shimmering silver
      lumenescence around the mage's body not unlike that
      produced by <9>faerie fire<1>, but the Mooncloak
      has a much greater effect then that. The dwenomer
      abjures several kinds of protection against the next
      applicable attack she suffers -- a Cold Resistance of
      7, a +5 bonus on saving throws versus paralyzation
      and petrification and absolute immunity to a single
      negative energy effect. Once the Mooncloak has offered
      its protection against one of these effects, it is
      expended and the radiance vainshes.\n
      __Alternatively, once the Mooncloak is in effect, the
      caster can choose to expend its magic at any time (by
      'a'ctivating it) as a destructive silvery bolt. This
      bolt inflicts 5d6 points of pure magic damage, triple
      that against lycanthropes. If victims fail a Fortitude
      save for half damage, they are also confused for 3d6
      rounds -- literally, they are moonstruck. The bolt hits
      a single creature and requires a ranged attack roll to
      successfully impact.";
xval: 139; pval +1;
Flags: 50, 49, 13, 60;
}
and 1
{ xval: 8; pval: 3d6; aval: 1; sval: 0;
On Event 28 {
if (e.efNum == 1)
if (EVictim->isMType(19))
e.vDmg *= 3;
return 0;
},
(52+1000) {
if (e.isActivation)
EActor->RemoveEffStati($"Mooncloak");
return 0;
};
}
and 1
{ xval: 26; pval: 3d6; aval: 1; sval: 0; }
and 3
{ xval: 104; yval: 2; pval: 7; aval: 0; sval: 3;}
and 3
{ xval: 123; yval: 4; pval: +5; }
and 3
{ xval: 123; yval: 7; pval: +5; }
and 3
{ xval: 79; yval: ((41+2000)+500);
On Event (((41+2000)+500)+10000) {
if (e.DType == 32)
{
APrint(e,"A tremendous burst of positive enery
                        deflects the life-drain!");
EVictim->RemoveEffStati($"Mooncloak");
return 1;
}
return 0;
};
}
and 3
{ xval: 179; }


50 / 52 / 53 Spell "Resist the Elements" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 35; Level: 5; qval: 0x0004;
#line "wspells.irh" 7447
xval: 104; yval: 1; pval: 5d1 + (-110);
On Event 205 "ResistElem" / "ResE";
Desc: "Grants the target resistance equal to 5 plus
      2 per 3 caster levels against Acid, Cold, Lightning, Fire and Sound.";
}
and 3 { xval: 104; yval: 2;
flags: 25; pval: 5d1+(-110); }
and 3 { xval: 104; yval: 4;
flags: 25; pval: 5d1+(-110); }
and 3 { xval: 104; yval: 3;
flags: 25; pval: 5d1+(-110); }
and 3 { xval: 104; yval: 10;
flags: 25; pval: 5d1+(-110); }
#line "wspells.irh" 7465
50 / 2 Spell "Cloudkill" : 1
{ 0x00000002|0x00001000; Base: 75; Cost: 10; Level: 5; qval: 0x0001 | 0x0004 | 0x0002;
lval: 8;
xval: 5; pval: (-126)d4; aval: 3;
cval: 23; Purpose: 0x00001; sval: 0;
Flags: 11, 4, 64, 34;
tval: 78;
On Event (28+1000) {
if (e.Immune || EVictim->isDead())
return 0;
if (EVictim->ChallengeRating() <= 2 || ((!e.Resist) &&
EVictim->ChallengeRating() <= 5)) {
ReThrow(42,e);
}
return 0;
};
Desc: "Creates a cloud of poisonous gas that kills outright
        any creature of CR 2 or less, kills any creature of CR 3
        to CR 5 on a failed saving throw, and inflicts 1d4 toxic
        damage per caster level on everything else (Fortitude for
        half). Only creatures who breathe are affected. The caster is
        immune. ";
}

50 / 53 / 52 Spell "Wall of Stone" : 5
{ 0x00000002|0x00002000; Base: 90; Cost: 10; Level: 5; lval: 10; qval: 0x0001;
xval: 9; aval: 8; Flags: 25;
rval: $"dungeon wall"; pval: 2d6 + (-125);
Purpose: 0x00040|0x00008|0x00800|0x01000;
Desc: "Conjures a solid stone wall, displacing any creatures in 
      its path and blocking further passage.";
On Event 206
"Solid stone appears out of nowhere!",
74
"The stone wall vanishes."; }

50 / 2 Spell "Major Creation" : 46
{
0x00000002; Base: 90; Cost: 15; Level: 5; Purpose: 0x00000;
Desc: "This spell functions similarly to <9>minor creation<1>, but
      the restrictions on items which may be created are less severe.
      The mage can now conjure crafted metal, including swords, armor
      and other steelworks. She may also create exceptionally rare
      special materials like adamant, silver, gold or mithril -- but
      doing so increases the experience cost of the spell based on
      the specific rare material she chooses to conjure.";
On Event 28 {
hObj it; int32 CraftDC, XPCost, mat;
it = ETerm->AcquisitionPrompt(7,0,0,0);
if (it == ((hObj)0))
return 1;
XPCost = 25;
if (it->isType(12))
{
e.vRange = 1;
if (!ETerm->EffectPrompt(e,0x0002,false,"Trap Location"))
{ it->Remove(true); return 1; }
it->PlaceAt(EActor->m,e.EXVal,e.EYVal);
}
else
{
if (it->isType(37) || it->HasIFlag(15) ||
it->iID == $"club" || it->iID == $"large club" ||
it->iID == $"quarterstaff" || it->iID == $"torch")
CraftDC = 0;
else
CraftDC = 15;
if (CraftDC && !EActor->SkillCheck(9,CraftDC,true))
{
EActor->IPrint("You fail to shape the created matter properly!");
if (EActor->isPlayer())
EActor->LoseXP(25 );
it->Remove(true);
return 1;
}

if (it->iID == $"small glass vial" && it->ieID != ((rID)0))
if (!EActor->SkillCheck(39,PoisonDC(it->ieID)+5,true))
{
EActor->IPrint("You fail to synthesize the poison properly!");
it->ieID = ((rID)0);
}

if (it->isMetallic() || it->Material() == 8)
if (EActor->yn("Alter default material?",'n'))
{
ETerm->LOption(it->isMetallic() ? "Iron" : "Wood", 0);
if (it->QualityOK(74))
ETerm->LOption("Silver (+5 XP)", 74);
if (it->QualityOK(70))
ETerm->LOption("Adamant (+100 XP)", 70);
if (it->QualityOK(72))
ETerm->LOption("Ironwood (+50 XP)", 72);
if (it->QualityOK(73))
ETerm->LOption("Mithril (+50 XP)", 73);
if (it->QualityOK(71))
ETerm->LOption("Darkwood (+75 XP)", 71);
mat = ETerm->LMenu(0x0100, "Choose a Material:");
switch (mat)
{
case 74: XPCost += 5; break;
case 70: XPCost += 100; break;
case 72: XPCost += 50; break;
case 73: XPCost += 50; break;
case 71: XPCost += 75; break;
}
if (mat)
it->AddQuality(mat);

}
if (it->HasIFlag(15))
it->SetQuantity(30);
else if (it->HasIFlag(8))
it->SetQuantity(e.MM & 0x00010000 ? 100 : 10d10);
else if (it->HasIFlag(7))
it->SetQuantity(e.MM & 0x00010000 ? 24 : 2d12);

if (e.MM & 0x00000200)
it->SetQuantity((it->GetQuantity()*3)/2);

EActor->GainItem(it,false);
}
if (EActor->isPlayer())
EActor->LoseXP(XPCost );
return 1;
};
}

50 Spell "Watery Double" : 46
{ 0x00000002|0x00008000; Base: 60; Cost: 22; Level: 5; qval: 0x0004;
Purpose: 0x00004; Flags: 66, 78;
Desc: "To cast this spell, a wizard must target an opponent
      standing in a water square, whose Challenge Rating is less
      than or equal to her caster level. A watery duplicate of the
      target rises up -- a creature identical to the target with the
      aqueous template applied. This creature is not considered
      summoned, but can be dispelled. It cannot be ordered, and
      fights relentlessly with only one goal in mind: to slay
      utterly the creature the spell targeted.\n
      __The watery double is immune to fear, mind-affecting
      spells and death magic. A given caster can sustain only one
      watery double at once, and the spell can be cancelled at any
      time.";
On Event 155 {
rID trID;
if (EVictim->isCharacter())
return -1;
if (!EVictim->CanAddTemplate($"aqueous"))
return -1;
if (EVictim->onPlane() != 0)
return -1;
trID = EMap->TerrainAt(EVictim->x, EVictim->y);
if (!ResourceHasFlag(trID,7))
return -1;
if (EActor->HasEffStati(189,$"Watery Double"))
return 1;
return 0;
},
52 {
if (EActor->HasEffStati(189,$"Watery Double"))
{
EActor->IPrint("You can only sustain one watery double
            at a time.");
return 2;
}
EActor->GainPermStati(189,EVictim,7);
return 0;
},
28 {
hObj hDouble;
hDouble = CreateMonster(EVictim->tmID);
hDouble->CopyStati(EVictim,71);
hDouble->AddTemplate($"aqueous");
hDouble->TurnHostileTo(EVictim);
hDouble->GainTempStati(190,EActor,e.vDuration,
2,0,0,$"Watery Double");
hDouble->PlaceAt(EMap,EVictim->x,EVictim->y);
hDouble->Initialize();
EVictim->IDPrint("A duplicate of you rises up, formed out of the water!",
"A duplicate of the <hObj> rises up, formed out of the water!", EVictim);
return 1;
},
84 {

if (e.EParam == 190)
{
EActor->IDPrint("","The <hObj> collapses back to inanimate water!", EVictim);
EActor->Remove(true);
return 0;
}

EVictim->IDPrint("","The <hObj> collapses back to inanimate water!", EVictim);
EVictim->Remove(true);
return 0;
};
}
#line "wspells.irh" 7667
50 / 2 Spell "Wizard Sight" : 3
{ 0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 50; Level: 5;
#line "wspells.irh" 7669
xval: 141; pval: 6;
Desc: "Allows the caster to percieve everything within 60 feet
            of himself, even through walls.";
On Event 205 "Wizard Sight" / "WizSi"; }

50 Spell "Open the Third Eye" : 46
{ 0x00000004; 0x00000080; Base: 30; Cost: 100; Level: 5; qval: 0;
Purpose: 0x00010; Flags: 86, 78;
On Event 155 {
if (EActor->CanAddTemplate($"three-eyed"))
return 0;
return -1;
},
83 {
EVictim->AddTemplate($"three-eyed");
if (EActor->isCharacter())
EActor->LoseXP(5000);
return 1;
} ;
Desc: "Casting this irrevocable spell opens a mystical third eye in
    the center of the caster's forehead. 
    The caster gains a +6 racial bonus to Spot and Search checks as
    well as 60 feet of infravision. The caster also gains a gaze attack
    that confuses victims for 1d8 rounds (Fortitude save, DC 14).\n
    __Casting this spell costs the caster 5000 XP.";
}

50 / 2 Spell "Power Word: Stop" : 3
{ 0x00000004; Base: 30; Cost: 30; Level: 5; qval: 0x0004;
Purpose: 0x00004; xval: 79; yval: (1+500);
Flags: 58, 71; sval: 3;
Desc: "Power words are ancient pieces of the sorcerous truespeak
      from the dawn times of the world. They are inherantly unknowable,
      and creatures who hear one spoken irresistably forget the exact
      structure of its syllables immediately after hearing it. They
      can not be recorded, transcribed or preverved by any mortal
      magic; however, certain powerful divinations can grant a skilled
      mage knowledge of a Power Word just long enough to speak it once,
      allowing its terrible effect to take hold on the world.\n
      __One of the earliest and simplest power words, 'Stop' freezes a
      single target creature in place, preventing it from walking,
      running, jumping or otherwise moving naturally. The effect does
      not prevent teleportation, nor does it stop the creature from
      being knocked prone or bull rushed. The creature is not paralyzed,
      simply fixed in place, and can still make melee and ranged attacks.
      Free action negates this power word, but like all power words there
      is no saving throw against its effects.";
On Event ((1+500)+10000) {
EActor->IPrint("You find yourself unable to move!");
return 2;
},
155 {
if (EVictim->ResistLevel(18) == -1)
return -1;
return 0;
},
206
"You point at the <EVictim> and speak an ineffable word!" /
"The <EActor> points at you and speaks an ineffable word!" /
"The <EActor> points at the <EVictim> and speaks an ineffable word!";
}



50 Spell "Dominate Person" : 3
{ 0x00000008; Base: 75; Cost: 10; Level: 5; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 137; yval: 4; tval: 86;
Flags: 25, 53, 4, 103;
Desc: "Gives you telepathic control over a single intelligent,
      medium-sized humanoid.";
On Event 28
"You sieze control of the <EVictim>'s mind!" /
"The <EActor> siezes control of your mind!" / "",
74
"You shake off the effect of the domination." /
"The <EActor> shakes off the effect of the domination.";
}

50 / 2 / 52 Spell "Hold Monster" : 3
{ 0x00000008; Level: 5; Cost: 10; Base: 75; qval: 0x0004;
xval: 9; sval: 0;
Purpose: 0x00004 (9); Flags: 53;
Desc: "Paralyzes one chosen creature, provided they fail a Fortitude
      save.";
}

50 / 52 / 2 Spell "Lower Resistance" : 3
{
0x00000008; 0x00000100; Base: 90; Cost: 9; Level: 5; qval: 0x0002;
aval: 11; lval: 6; cval: 11; sval: 3;
xval: 112; yval: 18; Purpose: 0x00004;
Flags: 35;
Desc: "This dwenomer strips outsiders, creatures of the Underdark
      and powerful supernatural horrors like hags of their inherant
      resistance to magic. The spell must first penetrate that resistance
      to take effect, but once it does no saving throw applies and the
      creature's Magic Resistance is halved; this is a damage penalty.
      The spell is targeted on a point, affecting all creatures within
      60 feet of that point, but is selective and excludes the caster
      and her allies.";
On Event 155 {
if (EVictim->GetAttr(18) == 0)
return -1;
return 0;
},
170, (28+500) {
#line "wspells.irh" 7778
if (e.MM & 0x00000200)
e.vDmg = -75;
else
e.vDmg = -50;
return 0;
},
28
"You feel threatened!" /
"The <EVictim>'s resistance is lowered!";
}



50 Spell "Fire Lotus" : 1
{ 0x00000010|0x00004000; Base: 90; Cost: 10; Level: 5; sval: 1 partial;
xval: 1; pval: (-126)d4; Purpose: 0x00001;
aval: 11; cval: 16; lval: 6;
Flags: 34;
Desc: "A fire lotus is an explosive burst of flame similar to a fireball,
    but centered on the caster. All creatures (except the caster!) within
    60 feet (6 squares) of the caster take 1d4 points of fire damage per
    caster level (scaled after 9th). A Reflex save halves the damage.";
}

50 / 2 Spell "Cone of Cold" : 1
{ 0x00000010|0x00000800; Base: 75; Cost: 10; Level: 5; aval: 2; qval: 0x0001;
xval: 2; lval: 7; sval: 1 partial; pval: (-126)d8;
Purpose: 0x00001 (11); cval: 9;
On Event 200 "cone of cold"; Flags: 32;
Desc: "Projects a cone of numbing frost out in a direction you
		  select, inflicting 1d8 points of damage per caster level, scaled
			after 9th level."; }
#line "wspells.irh" 7815
50 Spell "Telekinesis" : 2
{ 0x00000010|0x00010000; Base: 90; Cost: 10; Level: 5; Purpose: 0x00010;
Desc: "__This spell can be enacted in one of two
      forms, as chosen when the spell is cast:\n
      __<9>Violent Thrust:<1> This form of Telekinesis
      targets a single creature of your choice,
      causing them to be knocked down and back
      up to one square per caster level and to
      suffer 1d4 points of blunt damage for
      every caster level, scaled after 10th.\n
      __<9>Sustained Force:<1> This version of the
      spell allows you to exert force at a range
      of 10 feet per caster level. You can use
      the combat maneuvers Grapple, Punch, Trip
      and Bull Rush in this manner, with your
      Wisdom standing in for Strength and
      Intelligence for Dexterity. You can also
      open or kick doors, pick up items or try 
      to disarm traps at range.";
xval: 176; pval: -101;
Flags: 61;
Lists:
* 22 $"telekinesis;thrust";
On Event 52 {
if (EActor->ChoicePrompt("Violent thrust or sustained force?",
"vs",'s', 5, 13) == 'v')
{
if (!ETerm->EffectPrompt(e,0x0004,false,"Target:"))
return 2;
return RedirectEff(e,$"Telekinesis;thrust");
}
return 0;
},
205 "Telekinesis" / "T-K";
}

Effect "Telekinesis;thrust" : 1
{ xval: 13; pval: (-126)d4; Purpose: 0x00001;
aval: 1; cval: 15; }
and 1
{ xval: 61; pval: -126; }




50 Spell "Advanced Illusion" : 8
{ 0x00000020; Base: 75; Cost: 12; Level: 5;
Purpose: 0x00100; xval: 75; yval: 1|2|4;
rval: $"generic summons";
Desc: "An advanced illusion is a complex and responsive dwenomer
      that includes all the properties of an <9>improved spectral force<1>,
      as well as a powerful enhancement: the illusion can spawn secondary
      illusionary effects that are consequences of its actions or existance.
      This means that an illusionary monster can make use of that monster's
      special attacks or equipment typical to a monster of its type -- an
      illusionary dragon can produce an illusionary blast of fire, and an
      illusionary kobold can fire illusionary crossbow bolts. The illusion
      is still unreal and can't affect inanimate matter in any way, but it
      can simulate those effects remarkably -- an illusionary basilisk's
      gaze would cause people to become paralyzed for a period, for example,
      believing they had been petrified.\n
      __This facility also allows the illusion takes active and
      intelligent measures to preserve its own believability:
      the shadows cast by an illusionary fountain change position
      as new light sources manifest, an illusionary wall creates
      illusionary dust as it is hacked apart, and even the illusion
      of the scent of cooler air wafting in through a created hole
      into the room beyond. Illusions that inflict damage create
      illusionary blood and bruises rather than merely psychosomatic
      shock. As a result of these improvements, advanced illusions are not
      subject to disbelief checks when they appear out of nowhere, someone
      passes through them or ignores their attacks, they cause a victim to
      fall unconscious or so forth. The magic creates secondary illusions
      to cover over the things which might cause disbelief checks -- an
      adavanced illusion appearing out of nowhere might seem to jump out
      of a previously unnoticed illusionary skylight in a shadowy area of
      the ceiling, for example.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout" $"cone of cold"
$"fire lotus" $"chain lightning";
}


50 / 51 Spell "Color Burst" : 46
{
0x00000020|0x00020000; Base: 75; Cost: 9; Level: 5; sval: 1;
Purpose: 0x00001 (0); lval: 8;
cval: 21; aval: 3;
Flags: 34, 35;
On Event 155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->ChallengeRating() > (e.vCasterLev + 4))
return -1;
if (EVictim->HasMFlag(6))
return -1;
if (EVictim->HasMFlag(33))
return -1;
return 0;
},
83 {
TPrint(e,"Your spray of colors strikes an <EVictim>.",
"The <EActor>'s spray of colors strikes you.",
"The <EActor>'s spray of colors strikes an <EVictim>.");
return 0;
},
28 {
if (EVictim->ChallengeRating() < (e.vCasterLev / 2)) {
EVictim->GainTempStati(5, NULL, 1d6+1, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 1d6+1, 2, -1, -1);
EVictim->StatiMessage(5);
EVictim->StatiMessage(3);
}
else if (EVictim->ChallengeRating() < e.vCasterLev) {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
EVictim->GainTempStati(3, NULL, 1d6+1, 2, -1, -1);
EVictim->StatiMessage(5);
EVictim->StatiMessage(3);
}
else {
EVictim->GainTempStati(5, NULL, 2, 2, -1, -1);
EVictim->StatiMessage(5);
}
return 1;
};
Desc: "Projects a burst of multicolored light that may blind or stun
      creatures it strikes briefly, dependant on their CR in contrast
      to the spell's caster level. The spell is selective -- the caster
      and her allies are immune, but neutral creatures are not.";

}
#line "wspells.irh" 7960
50 Spell "Nightmare;spell" : 1
{ 0x00000020; Level: 5; Cost: 45; Base: 60;
Desc: "Casting this spell sends a horrific nightmare to all the 
      sleeping creatures on the current level within [caster level x 
      50] feet, even outside your sight. The creatures suffer 2d6 
      points of fatigue loss, 1d8 damage to Wisdom and Charisma and 
      1d6 points of psychic damage per odd caster level.\n
      __(Remember that spells have verbal components, and casting near
      sleeping creatures will awaken them before they can be affected -- 
      but Nightmare has a greater range then the 120 feet away from which
      spellcasting can be heard.)";
aval: 11; cval: 9; Flags: 97;
On Event 170 {
e.vRange = 5 * e.vCasterLev;
return 0;
},
(75+500) {
return 1;
},
155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->HasStati(7))
return 0;
return -1;
},
28 {
if (e.efNum == 0)
{
EVictim->LoseFatigue(2d6,false);
EActor->GainTempStati(73,EVictim,-2,7,
0,e.vRange,$"Nightmare;spell");
EVictim->Awaken();
}
return 0;
},
206
"You project a horrific nightmare..." / "";
xval: 7; pval: (-114)d6;
}
and 1
{ xval: 54; pval: 1d8; }
and 1
{ xval: 55; pval: 1d8; }

50 Spell "Dream" : 3
{ 0x00000020; 0x00000004; 0x00000008; Level: 5; Cost: 20; Base: 60;
Desc: "Casting this spell sends a beguiling and seductive dream 
      to all sleeping creatures on the current level within [caster 
      level x 50] feet, even those outside your sight, leading them to
      see you as a friend and ally -- failing a Will save causes the 
      affected creature to be charmed. Regardless of whether you manage
      to ensnare a creature with this spell, you can sense their presence
      for the remainder of the day in which it was cast.\n
      __(Remember that spells have verbal components, and casting near
      sleeping creatures will awaken them before they can be affected -- 
      but Dream has a greater range then the 120 feet away from which
      spellcasting can be heard.)";
aval: 11; cval: 9; sval: 2 + 10;
Flags: 97, 54, 86;
On Event 170 {
e.vRange = 5 * e.vCasterLev;
return 0;
},
(75+500) {
return 1;
},
155 {
if (!ETarget->isCreature())
return -1;
if (EVictim->HasStati(7))
return 0;
return -1;
},
(28+500) {
EActor->GainTempStati(73,EVictim,-2,7,
0,e.vRange,$"Dream");
if (EVictim->SavingThrow(2,e.saveDC,0x00000800|0x00000001|0x00008000|0x00000020))
{ e.Resist = true; return 1; }
return 0;
},
206
"You weave a beguiling dream..." / "";
xval: 137; yval: 1;
}

50 Spell "Misdirection" : 3
{ 0x00000020; Level: 5; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Purpose: 0x00010;
#line "wspells.irh" 8048
Desc: "This clever deception weaves an illusion over a large
      area, causing hostile enemies to mistake other characters 
      for you, directing their ranged attacks against others -- 
      potentially including their teammates -- believing them 
      to be you. The delusion affects all enemies within a 90 
      foot radius field that moves with you, but if the only 
      creature in the field percieved by a given enemy is you, 
      that enemy will target you normally.\n
      __Intelligent enemies recieve a chance to disbelieve this
      spell when they hit the wrong target; this chance is 5% per
      point of Intelligence about 12.";
aval: 9; cval: 10; lval: 9; rval: 0x00000004;
xval: 79; yval: 48;
hObj hCaster, hTarg; int32 x, y;
On Event (48+10000) {
hCaster = EActor->GetEffStatiObj(79,$"Misdirection");
if (hCaster == ((hObj)0))
return 0;

if (!EVictim->isFriendlyTo(hCaster))
return 0;

if (EActor->HasEffStati(189,$"Misdirection"))
return 0;

if (EActor->HasStati(148))
return 0;

ClearCandidates();
for (x = EActor->x - 10; x != EActor->x + 10; x++)
for (y = EActor->y - 10; y != EActor->y + 10; y++)
for (hTarg=EMap->FCreatureAt(x,y);hTarg;hTarg=EMap->NCreatureAt(x,y))
if (EMap->LineOfFire(EActor->x,EActor->y,x,y,EActor))
if (!hTarg->isFriendlyTo(hCaster))
AddCandidate((int32)hTarg);


if (!nCandidates())
return 0;

hTarg = (hObj) GetCandidate((1d(nCandidates()))-1);

SetEVictim(e,hTarg);

EMap->SetQueue(2);

if (hCaster->Percieves(EActor))
hCaster->IPrint("The <hObj>'s attack is misdirected!",EActor);

if (1d100 <= (EActor->GetAttr(3)-12)*5)
{
hCaster->IPrint("The <hObj> disbelieves your misdirection!",EActor);
EActor->IPrint("You disbelieve the misdirection effect!");
EActor->GainTempStati(189,hCaster,-2,7,0,0,$"Misdirection");
}

EMap->UnsetQueue(2);

return 0;
};
}

50 Spell "Demi-Shadow Monsters" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 5;
Purpose: 0x00100; xval: 75; yval: 1|32|8;
rval: $"generic summons";
Desc: "This spell functions identically to <9>shadow monsters<1>,
      except that the created creatures are 50~ real, and thus inflict
      50~ if their normal damage on disbelieving characters and can suffer
      up to 50~ of their total hit points from disbelievers before being
      dispelled.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61, 98;
}
#line "wspells.irh" 8159
50 Spell "Skeletal Spikes" : 46
{ 0x00000040; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; qval: 0x0004; Level: 5;
#line "wspells.irh" 8161
On Event 155 {
if (EVictim->CanAddTemplate($"spiked;template"))
return 0;
return -1;
},
83 {
if (EVictim->CanAddTemplate($"spiked;template")) {
EVictim->GainTempStati(71,EActor,e.vDuration,2,
0, 1, $"spiked;template",
e.vCasterLev + (e.MM & 0x00002000 ? 5:0));
} else return 2;
} ;
Desc: "This spell causes the target's bones to warp and writhe until
    large, wickedly sharp spikes burst forth from under its skin. These
    bony spikes grant three additional goring attacks, each one of which
    deals 1d6 piercing damage, as well as the multiattack feat. Only 
    undead and constructs can be targeted by this spell.";
}

50 / 52 Spell "Lesser Symbol" : 46
{
0x00000040; 0x00000008; Cost: 10; Level: 5; Base: 60;
Desc: "This spell creates an ornate rune imbued with magical power,
      a kind of mystic trap that is triggered whenever a character comes
      close enough to see it by stepping onto the square which contains
      it. A symbol trap is very difficult to detect and disarm (DC 30).
      When the spell is cast, the caster can determine what effect
      the symbol will have from the following options:\n
      __<9>Symbol of Sleep:<1> All creatures with Challenge Rating less 
      than or equal to 10 within 60 feet (6 squares)) fall asleep for 
      3d6x10 minutes. The caster is not immune.\n
      __<9>Symbol of Pain:<1> When the trap is triggered, all creatures 
      within 60 feet (6 squares)) suffers wracking pain that imposes a 
      -4 circumstance penalty on attack, defense, saving throw, spell 
      success, damage and attack speed. These effects last for one hour. 
      The caster is not immune.";
On Event (52+500) {
int32 ch;
ch = EActor->ChoicePrompt("Sleep or Pain?","sp",'s');
switch (ch)
{
case 's':
RedirectEff(e,$"symbol of sleep",52);
return 1;
case 'p':
RedirectEff(e,$"symbol of pain",52);
return 1;
}
return 0;
};
}

Effect "Symbol of Pain" : 13
{ 0x00000040; Base: 95; Cost: 10; Level: 5; qval: 0x0002;
xval: 0x40 | 0x10 | 0x80; rval: $"symbol of pain;trap";
Purpose: 0x00004 | 0x00040 | 0x01000;
}

Effect "Symbol of Sleep" : 13
{ 0x00000008; Base: 95; Cost: 10; Level: 5; qval: 0x0002;
xval: 0x40 | 0x10 | 0x80; rval: $"symbol of sleep;trap";
Purpose: 0x00004 | 0x00040 | 0x01000;
}

50 Spell "Eldritch Bolt" : 1
{ 0x00000040; Base: 75; Cost: 10; Level: 5; qval: 0x0001 | 0x0004; aval: 1;
xval: 6; pval: (-126)d8; sval: 0; tval: 75;
cval: 5; Purpose: 0x00001;
Flags: 60, 11, 63, 4;
Desc: "Projects a bolt of negative energy that, with a successful
    ranged attack roll, inflicts 1d8 points of necromantic damage per
    caster level (scaled beginning at 10th level), allowing a Fortitude
    save for half damage.	A target who fails their save also gains a
    negative level.";
} and 3
{ xval: 112; yval: 51; pval: -1;
aval: 1; sval: 0; }



50 / 2 Spell "Force Shapechange" : 4
{ 0x00000080; Base: 60; Cost: 9; Level: 5; aval: 3; lval: 8;
cval: 13; Flags: 25, 34;
xval: 0; pval: 3d12;
Purpose: 0x00001 | 0x00004;
On Event 28 {
EVictim->GainTempStati(177,NULL,e.vDuration,7,20);
if (EVictim->HasStati(103)) {
EVictim->RemoveStati(103,84);
return 0;
}
else {
e.Immune = true;
return 1;
}
};
Desc: "Forces shapechanged and polymorphed creatures back to their
          natural form and prevents them from changing form for a while,
        inflicting 3d12 damage in the process.";
}



50 Spell "Distance Distortion" : 2
{ 0x00000100; Base: 75; Cost: 16; Level: 5; qval: 0x0002;
Purpose: 0x00004|0x02000; aval: 7; lval: 6; cval: 1;
rval: 0x00000004; sval: 3; Flags: 86, 85,
78;
xval: 117; yval: 26; pval: +20; }
and 3
{ xval: 117; yval: 26; pval: -10; }
and 3
{ xval: 20;
Desc: "Casting this spell produces a globe 60 feet in radius,
      targeted on a point of the caster's choice, where distance
      and geometry simply do not work in normal Euclidean ways,
      instead melting and flowing in a perverse and disturbing
      manner to make distances shorter for the caster's allies
      and the reverse for her enemies. Creatures within the spell's
      area of effect may suffer one or more of the following 
      effects:\n
      __<7>*<1> The caster and her allies find that their movement
      rates are doubled within the area.\n
      __<7>*<1> Enemies of the caster find that their movement rate
      is halved as long as they are in the area.\n
      __<7>*<1> Any creatures of Challenge Rating 4 or lower are
      automatically nauseated while inside the area; this element
      of the effect does not discriminate between friend and
      enemies.";
On Event (28+500) {
switch (e.efNum)
{
case 0:
return EVictim->isFriendlyTo(EActor) ? 0 : 1;
case 1:
return EVictim->isHostileTo(EActor) ? 0 : 1;
case 2:
return EVictim->ChallengeRating() <= 4 ? 0 : 1;
}
return -1;
},
206
"Distance and geometry warp and flow like melting butter!",
43
"You enter the globe of sundered geometry!",
44
"You leave the globe of sundered geometry.";
}

50 / 2 Spell "Monster Summoning V" : 9
{ 0x00000100; Base: 75; Cost: 10; Level: 5; qval: 0x0002;
Purpose: 0x00100; rval: $"summoned monster"; pval: 5;
Desc: "Summons a living creature of CR 5 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 5+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 8317
50 / 2 Spell "Teleport" : 6
{ 0x00000100; Base: 75; Cost: 10; Level: 5; qval: 0;
xval: 5; Purpose: 0x00008; pval: 127;
Flags: 75;
Desc: "Teleports you up to 120 squares away in the general direction
    you specify.";
On Event 52 {
if (EActor->isPlayer()) {
if (e.MM & 0x00000020) {
e.vRange = 127;
if (!ETerm->EffectPrompt(e,0x0002,false,"Teleport Location"))
return 2;
}
else {
if (!ETerm->EffectPrompt(e,0x0001,false,"Teleport Direction"))
return 2;
e.isDir = false;
e.isLoc = true;

if (DirX(e.EDir) == 1)
e.EXVal = (EActor->x + EMap->SizeX()) / 2;
else if (DirX(e.EDir) == -1)
e.EXVal = EActor->x / 2;
else
e.EXVal = EActor->x;

if (DirY(e.EDir) == 1)
e.EYVal = (EActor->y + EMap->SizeY()) / 2;
else if (DirY(e.EDir) == -1)
e.EYVal = EActor->y / 2;
else
e.EYVal = EActor->y;
}
}
if (e.EDir == 8 || !EActor->isPlayer()) {
e.isLoc = true;
do {
e.EXVal = random(EMap->SizeX() - 4)+2;
e.EYVal = random(EMap->SizeY() - 4)+2;
}
while ( EMap->SolidAt(e.EXVal,e.EYVal) ||
((int32)EMap->FTrapAt(e.EXVal,e.EYVal)) );
}
return 0;
};
}

50 Spell "Steal Magic" : 46
{
0x00000100; Level: 5; Cost: 7; Base: 90;
aval: 6; lval: -107; sval: 2;
Desc: "Casting this spell grants you a touch attack which allows
      you to steal the innate magic of supernatural creatures. Only
      those abilities which mimic spells (arcane, divine or otherwise)
      can be stolen in this manner. When you touch a creature with
      innate spell-like abilities, they must succeed in a Will saving
      throw or they lose access to one of their spell-likes for the
      remainder of the day, and you gain same.\n
      __Casting this spell gives you one touch per three caster levels,
      so you have the potential to steal several different spells from
      one or more creatures while the effect is active. This spell
      itself only lasts a short time, but any spells stolen remain
      usable by you all day.";
On Event 28 {
int32 found; int32 i; rID spID;

found = false;
ClearCandidates();
for(i=0;i!=theGame->LastSpell();i++)
{
spID = theGame->SpellID(i);
if (EVictim->HasInnateSpell(spID))
if (!ResourceHasFlag(spID,82))
if (!EVictim->HasEffStati(189,
$"Steal Magic",i))
{
AddCandidate((int32)spID);
found = true;
}
}
if (!found)
{
EActor->IPrint("That creature has no <hText>innate magic to steal.",
EVictim->HasEffStati(189,$"Steal Magic") ? "more " : "");
return 1;
}
spID = (rID) RandCandidate();

if (!EVictim->HasEffStati(79,$"Steal Magic"))
EVictim->GainTempStati(79,NULL,-2,7, (36+500),
0, $"Steal Magic");
EVictim->GainTempStati(189,NULL,-2,7,
theGame->SpellNum(spID),0,$"Steal Magic");
EActor->GainTempStati(42,NULL,-2,7,0,0,spID);
EActor->IPrint("You steal the <hObj>'s <9><Res><7> power!", EVictim, spID);
EVictim->IPrint("The <hObj> steals your <9><Res><7> power!", EActor, spID);
return 1;
},
((36+500)+10000) {
if (EActor->HasEffStati(189,$"Steal Magic",
theGame->SpellNum(e.eID)))
{
if (EActor->isPlayer())
{
APrint(e,"Nothing happens.");
EActor->Timeout += 20;
return 1;
}
return 2;
}
return 0;
},
155 {
if ((EVictim->isMType(48) &&
!EVictim->isMType(44) ) ||
EVictim->isMType(37) ||
EVictim->isMType(66) ||
EVictim->isMType(42))
return 0;
return 1;
},
206
"Your hands glow with a dissonant white light." /
"The <EActor>'s hands glow with a dissonant white light.";
}
#line "wspells.irh" 8469
50 / 2 Spell "Chain Lightning" : 1
{
0x00000010; Base: 90; Cost: 18; Level: 6;
Desc: "Casting this spell causes a stroke of lightning to arc
      from the caster's hand to an enemy of her choice, inflicting
      1d6 points of damage per caster level with no scaling. After
      striking the first foe, the lightning arcs to the next
      creature hostile to the caster nearest to the original target,
      and from there to the next, and so forth. The lightning can
      arc up to one time for every four caster levels, so at 12th
      level it hits a minimum of four targets -- the original and
      three arcs. Every arc decreases the damage by 2d6.\n
      __Note that the lightning can concievably hit a creature more 
      than once in the process of arcing from creature to creature
      (but it only *arcs to* any given creature once); furthermore,
      it can strike creatures the player does not percieve, for
      example turning 90 degrees to strike a hiding creature further 
      down an unexplored hallway.";
aval: 16; cval: 14; xval: 4;
pval: (-101)d6; qval: 0x0004; sval: 1;
Flags: 11;
On Event 170
{

e.vChainMax = e.vCasterLev / 3;


e.vCasterLev -= e.vChainCount*2;

return 0;
};
}
#line "wspells.irh" 8525
50 / 2 Spell "Disintegrate" : 1
{ 0x00000002; Base: 75; Cost: 22; Level: 6;
Purpose: 0x00001; qval: 0x0004|0x0008|0x0002;
sval: 0; aval: 4; cval: 2; pval: 20d6;
xval: 0; Flags: 40, 83;
Desc: "This terrifying spell creates a wan green ray that
      utterly destroys anything it touches, erasing up to 10 
      cubic feet of matter and leaving behind only a tiny
      trace remnant of grey dust. If a creature, or an item
      in a creature's possession, is the target of this spell,
      the victim recieves a Fortitude save to negate the
      effect. Since disintegration utterly destroys the target,
      no body remains for ressurection.\n
      __There are some other defenses against disintegration,
      of course. It's a ray, so reflection and absorbtion both
      negate it. Huge or larger creatures lose 10 cubic feet
      of mass on a failed save, suffering 20d6 points of untyped
      damage and possibly losing limbs or being otherwise maimed.
      Creatures wearing armor with the Fortification quality are
      resistant to this spell -- a creature with Light Fortification
      takes 20d6 (and possible maiming) on a failed save, Medium 
      Fortification reduces this to half, and a creature wearing
      Heavy Fortification armor is immune to disintegration.
      This spell is not a death effect, however.\n
      __Disintegrate cancels, and is cancelled by, <9>stoneskin<1>;
      this occurs before the saving throw.\n
      __If a character's total Fortitude save bonus is higher than
      the saving throw DC of this spell, the character is considered
      immune as well -- the saving throw isn't rolled, so the
      character doesn't die on a natural 1.";
On Event 83 {
if (EVictim->HasEffStati(-1,$"stoneskin"))
{
EVictim->RemoveEffStati($"stoneskin",84);
VPrint(e,"A fine layer of dust settles off of
            your skin.", "A fine layer of dust settles off of
            the <EVictim>'s skin.");
return 1;
}
if (EVictim->GetAttr(28) >= e.saveDC ||
EVictim->HasStati(177,22))
{
e.Immune = true;
return 1;
}
return 0;
},
28 {
int32 isKill, isMaimed; int32 Fort, Div;
#line "wspells.irh" 8583
if (EVictim->isFeature())
{
VPrint(e,NULL,"The <EVictim> disintegrates!");
EVictim->Remove(true);
return 1;
}


if (EVictim->isType((-4)))
{
if (EVictim->HasQuality(70) )
#line "wspells.irh" 8595
{
e.Immune = true;
return 1;
}
if (EVictim->Owner())
EVictim->Owner()->IDPrint(
"Your <hObj2> disintegrates!",
"The <hObj1>'s <hObj2> disintegrates!",
EVictim->Owner(), EVictim);
else
VPrint(e,"","The <EVictim> disintegrates!");
EVictim->Remove(true);
return 1;
}

isKill = true; isMaimed = true;
Fort = EVictim->HighStatiMag(129);
if (Fort >= 75)
{ e.Immune = true; return 1; }
else if (Fort >= 50 || EVictim->GetAttr(25) >= 7)
{ isKill = false; isMaimed = false; Div = 2; }
else if (Fort >= 25 || EVictim->GetAttr(25) >= 6)
{ isKill = false; isMaimed = true; Div = 1; }
else
isKill = true;
#line "wspells.irh" 8624
if (isKill)
{
VPrint(e,"You disintegrate!",
"The <EVictim> disintegrates!");
ThrowDmg(42,22,0,"disintegration",EActor,EVictim,EItem);
return 1;
}

if (isMaimed)
{
#line "wspells.irh" 8637
}

e.vDmg /= Div;
return 0;
},
(28+1000) {
hObj hBody;
if (EVictim->isCreature())
if (EVictim->isDead())
{
#line "wspells.irh" 8651
}
return 0;
},
75 {
rID terID;
terID = EMap->TerrainAt(e.EXVal,e.EYVal);

if (!EMap->SolidAt(e.EXVal,e.EYVal))
return 0;
#line "wspells.irh" 8669
APrint(e,"The <rID> disintegrates!",terID);
return 0;
};
}
and 5
{ rval: $"floor"; xval: 10; }
#line "wspells.irh" 8680
50 / 52 / 53 Spell "Protection from Elements" : 3
{ 0x00000001; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 45; Level: 6; qval: 0x0004;
#line "wspells.irh" 8682
xval: 104; yval: 1; pval: 10d1 + (-101);
On Event 205 "ProtElem" / "ProE";
Desc: "Grants the target resistance equal to 10 plus her caster 
      level against Acid, Cold, Lightning, Fire and Sound.";
}
and 3 { xval: 104; yval: 2;
flags: 25; pval: 10d1+(-101); }
and 3 { xval: 104; yval: 4;
flags: 25; pval: 10d1+(-101); }
and 3 { xval: 104; yval: 3;
flags: 25; pval: 10d1+(-101); }
and 3 { xval: 104; yval: 10;
flags: 25; pval: 10d1+(-101); }

50 / 2 Spell "Tevlar's Transformation" : 2
{ 0x00000080; Base: 75; Cost: 36; Level: 6;
Desc: "Casting this spell, the mage becomes a veritable
      combat juggernaut. She adds her Wisdom modifier as a magic
      bonus to her Strength and Constitution, her Intelligence
      modifier as a magic bonus to Dexterity, and her Charisma
      bonus becomes a natural bonus to armor, overlapping any
      natural armor she might already possess. She also gains
      1d10 temporary hit points per caster level.\n
      __These great benefits come at a price. While this spell
      is active, the mage cannot cast spells, read scrolls,
      invoke innate abilities, zap wands or make ranged weapon
      attacks. As always with effects that grant temporary hit
      points, the caster should have a source of healing ready
      -- if the spell expires and her wounds exceed her true
      hit points, she will die. Regardless, when the spell
      expires the caster loses three Fatigue points.\n
      __Tevlar's Transformation can be cancelled at will.";
Flags: 66;
xval: 106; yval: 36; pval (-101)d10; }
and 2
{ xval: 106; yval: 0; }
and 2
{ xval: 106; yval: 2; }
and 2
{ xval: 106; yval: 1; }
and 2
{ xval: 118; yval: 17; }
and 2
{ xval: 79; yval: 36; }
and 2
{ xval: 79; yval: 37; }
and 2
{ xval: 79; yval: 7; }
and 2
{ xval: 79; yval: 38; }
and 2 {
xval: 79; yval: 48;
On Event 170 {
if (GetHandle(EActor) == ((hObj)0))
return 0;
if (e.xval == 106 || e.xval == 118) {
if (e.yval == 0 || e.yval == 2)
e.vDmg = EActor->Mod(4);
else if (e.yval == 1)
e.vDmg = EActor->Mod(3);
else if (e.yval == 17)
e.vDmg = EActor->Mod(5);
}
return 0;
},
(37+10000), (36+10000), (7+10000),
(38+10000), (48+10000) {
EActor->IPrint("You can't do that while <9>Tevlar's 
      Transformation<7> is active.");
return 2;
},
84 {
if (e.EParam == 106 && e.vVal == 36)
EActor->LoseFatigue(1,false);
};
}

50 / 2 Spell "Fiendform" : 32
{ 0x00000080; Base: 60; Cost: 20; Level: 6; Flags: 66, 55;
Desc: "By casting this inherantly evil spell, you polymorph yourself
      into one of the following six forms, randomly chosen: osyluth,
      barbazu, hamatula, babau, jovoc or palrethee."; Purpose: 0x00010;
On Event (28+500) {
int32 i;
if (e.MM & 0x00000020)
i = EActor->ChoicePrompt(
"Osyluth, Barbazu, Hamatula, Babau, Jovoc or Palrethee?",
"123456", '3') - '0';
else
i = 1d6;
switch (i)
{
case 1: e->rval = $"osyluth"; break;
case 2: e->rval = $"barbazu"; break;
case 3: e->rval = $"hamatula"; break;
case 4: e->rval = $"babau"; break;
case 5: e->rval = $"jovoc"; break;
case 6: e->rval = $"palrethee"; break;
}
return 0;
};
}
#line "wspells.irh" 8891
50 Spell "Immortal Grandeur" : 46
{ 0x00000008; Base: 60; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 50; Level: 6; sval: 2 + 10;
#line "wspells.irh" 8893
Purpose: 0x00010; Flags: 61, 70, 53;
On Event 28 {
EVictim->GainTempStati(79, EActor, e.vDuration, 2,
(19+2000),e.saveDC,$"Immortal Grandeur");
EVictim->GainTempStati(79, EActor, e.vDuration, 2,
(52+2000),e.saveDC,$"Immortal Grandeur");
return 1;
},
((19+2000)+10000), ((52+2000)+10000) {
int32 saveDC, saveType;
if (e.Event % 1000 != 19)
if ((GetHandle(EActor) == GetHandle(EVictim))
|| !EActor->isHostileTo(EVictim))
return 0;
if (EActor->ResistLevel(28) == -1)
return 0;
if (!EActor->Percieves(EVictim))
return 0;
EActor->LoseFatigue(1,false);
saveDC = EVictim->GetEffStatiVal(79,$"Immortal Grandeur");
if (e.AType == 65 || e.AType == 41)
saveDC -= 4;
saveDC -= EActor->GetEffStatiMag(189,$"Immortal Grandeur");
saveType = 0x00000020|0x00004000|0x00000001|0x00008000|0x00000400;
if (EActor->ChallengeRating() <= 5 && EVictim->isMType(62))
saveType |= 0x00000010;
if (EActor->SavingThrow(2,saveDC,saveType))
return 0;
if (e.AType == 65 || e.AType == 112)
return 2;
if (EVictim->isMType(62) && EActor->ChallengeRating() <= 3)
{
if (EActor->ResistLevel(6) == -1)
return 1;
DPrint(e,"The <EVictim>'s soul-wrenching grandeur stops your heart.",
"The <EActor> collapses dead from your soul-wrenching grandeur.");
ThrowDmg(42,28,0,"a terrifying and wonderous sight",
EVictim, EActor);
return 1;
}
TPrint(e,"The <EVictim> is too terrifying for you to attack!",
"The <EActor> hesitates.", "The <EActor> hesitates.");
return 1;
},
206
"You take on a mein of terrible grandeur!" /
"The <EActor> suddenly seems overwhelmingly awesome!",
84
"You feel less grand." /
"The <EActor> looks less heart-stoppingly beautiful now.",
205
"Grand";
Desc: "__Casting this spell wraps a character in an aura
      of radiant, terrifying glory so palpable as to
      almost be a physical force. Her force of presence
      is augmented to the point where she seems to
      formidable to even offend, let alone actually
      attack.\n
      __To attack a character under the effect of this
      spell head-on requires a Will saving throw; making
      a ranged attack also requires a saving throw, but
      this save have a +4 bonus from the distance. Every
      attack requires a seperate Will save, but every
      past successful saving throw against this spell
      grants a +1 culmulative circumstance bonus to
      further saves against this spell.\n
      __The psychological exertion requires to defy this
      spell is tremendous, and no matter how strong one's
      will, no one can last forever against it. Every
      saving throw made against it costs the maker a point
      of Fatigue.\n
      __Elves have a special advantage with regard to this
      ancient magic -- after all, it originated with them.
      If they both have this spell active and use their
      Manifestation ability, their force of presence is
      so overwhelming that living creatures of Challenge
      Rating 5 or lower die instantly, their hearts stopped
      in shock, should they fail to save against this spell
      when trying to attack. This additional aspect is a 
      death effect and a fear effect, and can be avoided 
      accordingly.";
}

50 / 2 Spell "Power Word: Stun" : 3
{ 0x00000004; Base: 30; Cost: 15; Level: 6; qval: 0x0004;
Purpose: 0x00004; xval: 5;
Flags: 58, 71; sval: 3;
Desc: "Power words are ancient pieces of the sorcerous truespeak
      from the dawn times of the world. They are inherantly unknowable,
      and creatures who hear one spoken irresistably forget the exact
      structure of its syllables immediately after hearing it. They
      can not be recorded, transcribed or preverved by any mortal
      magic; however, certain powerful divinations can grant a skilled
      mage knowledge of a Power Word just long enough to speak it once,
      allowing its terrible effect to take hold on the world.\n
      __This power word scrambles a creature's mind, preventing it from
      acting coherantly. The victim becomes stunned for a duration that
      is dependant upon their current hit points -- 1d4 rounds if the
      victim has 250 or more HP, 3d6 rounds if the victim has 150 to 249
      HP, 10d6 rounds if the victim has 149 to 75 HP and a full day if
      the victim has 74 or fewer HP.";
On Event 170 {
if (GetHandle(EVictim) == ((hObj)0))
return 0;
if (EVictim->cHP >= 250)
e.vDuration = 1d4;
else if (EVictim->cHP >= 150)
e.vDuration = 3d6;
else if (EVictim->cHP >= 75)
e.vDuration = 10d6;
else
e.vDuration = -2;
return 0;
},
206
"You point at the <EVictim> and speak an ineffable word!" /
"The <EActor> points at you and speaks an ineffable word!" /
"The <EActor> points at the <EVictim> and speaks an ineffable word!";
}

50 Spell "Mirage Arcana" : 46
{ 0x00000020; Base: 75; Cost: 16; Level: 6; qval: 0x0002;
yval: 1; aval: 7; rval: 0x00000001; lval: 6;
Flags: 25, 66;
Desc: "This spell is similar in effect to the 4th-level illusion
      <9>hallucinatory terrain<1>, but much improved and wider in
      scope. Like the improved illusion spells, it affects all natural
      and exceptional senses and can only be seen through with <9>true
      seeing<1> or similar magic. It affects a 60-foot radius rather
      than a 30-foot one. Most significantly, however, it allows the
      illusionist to conceal terrain as well as create it -- a river
      of magma could be made to look like a shallow stream, or a chasm
      could be concealed with the illusion of smooth floor. The
      concealed terrain is real, of course, and has its full normal
      effect if monsters (or the player character) are tricked into
      walking over it, though these effects are concealed from their
      perception.";
On Event 52 {
int32 ch;
if (EActor->HasEffStati(189,$"Hallucinatory Terrain") ||
EActor->HasEffStati(189,$"Mirage Arcana"))
{
EActor->IPrint("You can only have one terrain illusion
            active at a time.");
return 2;
}

ch = EActor->ChoicePrompt("Floor, Magma, Chasm, Slime, Pool or Webbing?",
"fmcspw", 'm', 1, 9);
EActor->GainTempStati(189,NULL,e.vDuration,2,ch,e.saveDC,
$"Mirage Arcana");
return 0;
},
84 {
EMap->RemoveEffField($"Mirage Arcana");
return 0;
},
127 {
int32 ch; rID tID;
tID = EMap->TerrainAt(e.EXVal, e.EYVal);
if (!ResourceHasFlag(tID,1))
{
ch = EActor->GetEffStatiVal(189,$"Mirage Arcana");
switch (ch)
{
case 'f': e.eID = $"floor"; break;
case 'm': e.eID = $"magma"; break;
case 'c': e.eID = $"chasm"; break;
case 's': e.eID = $"pool of slime"; break;
case 'p': e.eID = $"deep water"; break;
case 'w': e.eID = $"webbing"; break;
}
}
else
e.eID = tID;
return 1;
};
}

50 Spell "Demi-Shadow Magic" : 8
{ 0x00000020; Base: 75; Cost: 15; Level: 6;
Purpose: 0x00100; xval: 75; yval: 1|32|8;
Desc: "This functions similarly to <9>shadow magic<1>, except that the spells
      it can duplicate are 3rd and 4th level, and the damage it inflicts is 50~
      real.";
Flags: 99;
Lists:
* 21 $"magic missile" $"force bolt" $"burning hands"
$"ice dagger" $"sandblast" $"sunscorch"
$"scorcher" $"electric loop" $"fireball"
$"lightning bolt" $"thunderlance" $"ice storm"
$"force missiles" $"shout";
}

50 Spell "Shades" : 8
{ 0x00000020; Base: 75; Cost: 10; Level: 6;
Purpose: 0x00100; xval: 75;
yval: 1|32|8|16;
rval: $"generic summons";
Desc: "This spell functions identically to <9>shadow monsters<1>,
      except that the created creatures are 70~ real, and thus inflict
      70~ if their normal damage on disbelieving characters and can suffer
      up to 70~ of their total hit points from disbelievers before being
      dispelled.";
On Event (28+500) {
e.vDmg = max(1, EActor->SkillLevel(19) - 3);
return 0;
};
Flags: 25, 61, 98;
}

50 / 52 Spell "True Seeing" : 3
{
0x00000004; Flags: 86, 85, 78, 61, 66; Base: 100; Purpose: 0x00010; Cost: 60; Level: 6;
#line "wspells.irh" 9107
Desc: "This august divination shatters all deceptions, causing
      the caster to inherantly see through every spell of the
      Illusion school -- the effect is automatic and uncontested,
      unless the creator of the illusion has a <9>false vision<1>
      spell active. Shadow creatures and effects still affect the 
      caster with regard to the percent that they are real, but she 
      automatically disbelieves them and never suffers full 
      damage.";
#line "wspells.irh" 9119
xval: 148;
On Event 205 "TrueSight" / "TS";
}

50 / 2 Spell "Monster Summoning VI" : 9
{ 0x00000100; Base: 75; Cost: 12; Level: 6; qval: 0x0002;
Purpose: 0x00100; rval: $"summoned monster"; pval: 6;
Desc: "Summons a living creature of CR 6 to fight in the 
      caster's name.";
On Event (28+1000) { hObj cr; if (EActor->isCharacter()) if (EActor->LevelAs($"alienist") >= 6+1) { cr = EMap->GetEncounterCreature(0); if (cr != ((hObj)0)) if (cr->CanAddTemplate($"pseudonatural")) cr->AddTemplate($"pseudonatural"); } return 0; }; }
#line "wspells.irh" 9185
50 Spell "Othello's Irresistable Dance" : 3
{ 0x00000008; Base: 75; Cost: 75; Level: 8; tval: 11;
Purpose: 0x00004 (9); qval: 0x0002;
aval: 11; cval: 10; lval: 30;
Flags: 4, 61, 23, 53;
On Event 205 "Dancing" / "Dan";
Desc: "Causes all humanoid creatures within a 30 foot radius
      globe to dance and caper wildly, inflicing a -6 penalty to 
      Defense Class, -6 to Reflex saves and halving attack speed 
      and movement rate for the 1d4+1 rounds the effect lasts. 
      There is no saving throw against this effect, though it can 
      be dispelled normally, and mindless creatures are immune.";
On Event 28
"You are magically compelled to begin a ludicrous dance!" /
"The <EVictim> begins dancing wildly!",
84
"You stop dancing." /
"The <EActor> manages to stop dancing.";
xval: 117; yval: 27; pval: -6; }
and 3
{ xval: 117; yval: 29; pval: -6; }
and 3
{ xval: 117; yval: 54; pval: -10; }
and 3
{ xval: 117; yval: 26; pval: -10; }
#line "wspells.irh" 9262
Effect "Dominate Monster" : 3
{ 0x00000008; Base: 75; Cost: 10; Level: 5; sval: 2;
Purpose: 0x00004 (9); qval: 0x0004;
xval: 137; yval: 4;
Flags: 25, 53, 103;
Desc: "Gives you telepathic control over any single
      creature with a mind.";
On Event 28
"You sieze control of the <EVictim>'s mind!" /
"The <EActor> siezes control of your mind!" / "",
74
"You shake off the effect of the domination." /
"The <EActor> shakes off the effect of the domination.";
}



Effect "Unseen Servant" : 25 { }
Effect "Sculpt Sound" : 25 { }
Effect "Sound Burst" : 25 { }
Effect "Serpent Tongue" : 25 { }
Effect "Commune" : 25 { }
Effect "Blade Barrier" : 25 { }
Effect "Word of Recall" : 25 { }
Effect "Plant Growth" : 25 { }
Effect "Water Breathing" : 25 { }
Effect "Wrack" : 25 { }
Effect "Planar Conjuration" : 25 { }
Effect "Contact Other Plane" : 25 { }
Effect "Fog Cloud" : 25 { }
Effect "Feeblemind" : 25 { }
Effect "Unholy Aura" : 25 { }
Effect "Find the Path" : 25 { }
Effect "Phantasmagoria" : 25 { }
Effect "Tempus Fugit" : 25 { }
Effect "Reverse Gravity" : 25 { }
Effect "Spell Turning" : 25 { }
Effect "Energy Drain" : 25 { }
Effect "Rainbow Pattern" : 25 { }
Effect "Mind Fog" : 25 { }
Effect "Persistant Illusion" : 25 { }
#line "dungeon.irh" 5
int32 murgash_killed,
murgash_quelled;
Dungeon "The Goblin Caves"
{
Constants:
* 18 16,
* 20 16,
* 21 20,
* 22 4,
* 50 $"up stairs",
* 51 $"down stairs",
* 12 $"Rough-Hewn Tunnel",
* 44 10,
* 57 $"ancient passage";
Specials:
* $"entry chamber" at level 1,
* $"ancient library" at level 2,


* $"Parthenion" at level 2,
#line "dungeon.irh" 31
* $"place of sanctuary" at level 3,
* $"armoury" at level 3,
* $"place of sanctuary" at level 5,
* $"abandoned temple" at level 6,
* $"place of sanctuary" at level 7,
* $"armoury" at level 7,
* $"place of sanctuary" at level 9,
* $"the Goblin Encampment" at level 10;
Desc: "These are the Goblin Caves, the subterrainian passages in 
        eastern Mohandi where many kings and warlords believe the goblinoid
        peoples are preparing for a massive attack upon the surface world
        of Therya. Many believe them to have once been an ancient dwarven
        or drow citadel, long since abandoned.";
}

Dungeon "The Nine Hells"
{
Constants:
* 44 9,
* 45 10,
* 57 $"infernal portal";
Specials:
* $"entry chamber;hells" at level 1;
#line "dungeon.irh" 78
}

Dungeon "Monster Evaluation Arena"
{
Constants:
#line "dungeon.irh" 89
* 21 20,
* 22 4,
* 50 $"up stairs",
* 51 $"down stairs",
* 12 $"Rough-Hewn Tunnel",
* 44 1;
Specials:
* $"arena chamber" at level 1;
Desc: "This area is used to compare the combat prowess of various
           monsters.";
}
#line "dungeon.irh" 105
Feature "oak door" : 11 {
Image: brown '-';
Mat:8;
HP: 20;
}

Feature "ice door" : 11 {
Image: bright blue '-' on blue;
Mat:24;
HP: 30;
}



Feature "iron door" : 11 {
Image: grey '-';
Mat:11;
HP: 40;
}

Feature "darkwood door" : 11 {
Image: shadow '-';
Mat:29;
HP: 60;
}


Feature "vault door" : 11 {
Image: cyan '-';
Mat:18;
HP: 60;
}

Feature "warded oak door" : 11
{
Image: purple '-'; Mat:8; HP: 20;
Desc: "This door has been imbued with mystic runes that keep out
    (or perhaps keep in) incorporeal threats. It is solid (when
    not opened) to creatures on other planes.";
On Event 161 {
if (!(EItem->DoorFlags & 0x02))
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67)))
return 2;
};
On Event 47 {
if (!(EItem->DoorFlags & 0x02))
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67))) {
EActor->IPrint("When closed, the warded door bars entry to incorporeal and summoned creatures.");
return 2;
}
};
}
#line "dungeon.irh" 164
Feature "up stairs" : 10
{
Image: pink '<';
Mat:28;
xval:1;
}

Feature "down stairs" : 10
{
Image: pink '>';
Mat:28;
xval:2;
}

Feature "infernal portal" : 10
{
Image: red 240;
Mat: 31;
xval: 7;
Target: $"The Nine Hells";
Desc: "This shimmering red portal leads to the Nine Hells.";
}

Feature "material portal" : 10
{
Image: green 240;
Mat: 31;
xval: 7;
Target: $"The Goblin Caves";
}

Feature "ancient passage" : 10
{
Image: bright cyan '<';
Mat:31;
xval:7;
Target: $"The Goblin Caves";
}

Feature "cave enterance" : 10
{
Image: bright green '<';
Mat:31; xval:1;
Desc: "Warm light and the reassuring clear air of the surface
      world waft out of this upward egress.";
hObj hRoark, hCoins;
On Event 50 {
if (murgash_killed) {
ETerm->Box("__You step out of the caves and back into the light
          of day, content that your mission is complete. The world has
          not changed much for your absence, but it is new to your
          eyes -- where you left it as a novice, you re-emerge into it
          as a hero, having taken the first steps toward becoming like
          the great adventurer-lords of old.
          \n\tThe goblin king is dead. His tribes will scatter across
          the lands, and perhaps that is ultimately for the best. But
          the shadow of a great and subtle evil still hangs over the
          land of Therya, and you very much doubt that your ordeals
          have come to an end on this day.");
Throw(87,EActor);
return 1;
}
else if (murgash_quelled) {
ETerm->Box("__You step out of the caves and back into the light
          of day, content that your mission is complete. The world has
          not changed much for your absence, but it is new to your
          eyes -- where you left it as a novice, you re-emerge into it
          as a hero, having taken the first steps toward becoming like
          the great adventurer-lords of old.
          \n\tThe goblin king has been defeated. His tribes will scatter 
          across the lands, and perhaps that is ultimately for the best. 
          But the shadow of a great and subtle evil still hangs over the
          land of Therya, and you very much doubt that your ordeals
          have come to an end on this day.");
Throw(87,EActor);
return 1;
}
else {
do {
if (EActor->InSlot(0))
return 1;
switch(EActor->ChoicePrompt("Store, Inn, Retire or Descend?", "sird", 'd'))
{
case 's':
if (hRoark == ((hObj)0))
hRoark = InitShopkeeper($"Roark Ironbeard",100000);

Throw(56,EActor,hRoark);
break;
case 'i':
if (EActor->TotalLevel() >= 5 ||
EActor->getMaxDepth($"The Goblin Caves") >= 4)
{
ETerm->Box("__You make your way to the inn, but stop around
                      the streetcorner as you spot armed hobgoblin sentinels
                      surveilling the area -- and see suspiciously humanoid
                      shapes slumped dead in the alley. It looks as though
                      your descent has beed noticed by Murgash, and assassins
                      allied with the goblins wait in the hamlet to strike at
                      you when you let down your guard. It might be safer to
                      rest in a secured area in the Goblin Caves themselves
                      from now on.");
return 2;
}
ETerm->Box("__You return to the surface world for a brief night
                  of rest and respite, replenishing your magical energies and
                  giving your wounds time to heal. Yet, duty awaits, and you
                  dare not dally too long. Regretfully, you return to the
                  claustrophobic enclaves of the Goblin King.");
ThrowVal(45,0x0001|0x0020,EActor);
break;
case 'd':
return 1;
break;
case 'r':
ETerm->Box("__Having done all you feel able against the hordes
                  of the Goblin King, you choose to turn away from the life of
                  the adventurer and move on with a more mundane existance. As
                  the next few years pass, however, you continue to hear the
                  drums of war in the back of your mind, and when the hordes
                  finally do boil forth and the sky is filled with fire, you
                  find yourself wishing you had found the fortitude to continue
                  with your quest, no matter how impractical it may have seemed
                  to you at the time.");
ThrowDmg(42, 0,0,"the coming storm", EActor, EActor);
return 1;
}
}
while (1);
return 1;
}
};
}

Monster "Roark Ironbeard" : 63, 87
{
Image: red 1; Size: 4; Mana: 10;
CR: 5; HD: 5; Hit:+5; Def:15; Mov: 100%; Speed: 100%;
Str 16, Dex 14, Con 16, Int 14, Wis 16, Cha 13, Luc 8;
Attk:1 for 1d2 13;
Stati[39,42,6];
Flags: 36, 37, 1, 106, 67, 24;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 11, 44, 21,
32, 3;
Gear:
5d10 $"potion" of $"mana",
2d6 $"potion" of $"see invisibility;potion",
5d10 $"potion" of $"dimension door",
3d10 $"potion" of $"light;potion",
50% 1d8 $"potion" of $"faerie;potion",
20d20 $"hemp rope",
50% 5d20 $"silk rope",
2d4 $"spellbook [Adventurers' Arts]",
1d4 $"spellbook [Fundamentals of Magick]",
50% $"spellbook [Mystic Aegis]",
50% $"spellbook [Tome of Magic]",
50% $"spellbook [Practical Divinings]",
50% $"spellbook [Book of Glamour]",
50% $"spellbook [Energy Magicks]",
50% $"spellbook [Magician's Manual]",
50% $"spellbook [Ars Mortis]",

50% $"spellbook [Place and Time]",
3d4 $"medium backpack",
1d4+1 $"small backpack",
50% $"medium backpack" +2,
50% $"medium backpack" +3,
50% $"small backpack" +2,
50% $"gnomish backpack",
$"long sword" of random 2 to 3,
$"long sword" of random 6 to 12,
25% $"greatsword" of random 6 to 12 else
33% $"warhammer" of random 6 to 12 else
50% $"halberd" of random 6 to 12 else
$"longspear" of random 6 to 12,
10d10 $"dagger",
75% 2d10 $"dagger" +1,
35% 2d10 $"dagger" of random 2 to 5,
$"cloak" of $"nondetection",
$"leather armor",
$"studded leather",
$"full plate armor",
$"chainmail shirt",
$"plate mail",
50% $"splint mail",
50% $"banded mail",
2d6 $"bag" of $"tanglefoot bag",
random 58 of random 3 to 10,
random 58 of random 3 to 10,
random 58 of random 3 to 10,
50% random 58 of random 3 to 10,
50% random 58 of random 3 to 10,
50% random 58 of random 3 to 10,
random 21 of random 3 to 10,
random 21 of random 1 to 10,
50% random 21 of random 1 to 10,
25% random 48 of random 1 to 10,
25% random 48 of random 1 to 10,
15% random 23 of random 1 to 10,
15% $"amulet" of random 1 to 10,
15% random 41 of random 1 to 10,

10% $"girdle" +3 of $"giant strength" else
50% $"girdle" +2 of $"giant strength" else
$"girdle" +1 of $"giant strength",
10% $"gauntlets" +3 of $"gloves of dexterity" else
50% $"gauntlets" +2 of $"gloves of dexterity" else
$"gauntlets" +1 of $"gloves of dexterity",
10% $"bracers" +3 of $"health" else
50% $"bracers" +2 of $"health" else
$"bracers" +1 of $"health",
10% $"headband" +3 of $"intellect" else
50% $"headband" +2 of $"intellect" else
$"headband" +1 of $"intellect",
10% $"amulet" +3 of $"periapt of wisdom" else
50% $"amulet" +2 of $"periapt of wisdom" else
$"amulet" +1 of $"periapt of wisdom",
10% $"cloak" +3 of $"charisma" else
50% $"cloak" +2 of $"charisma" else
$"cloak" +1 of $"charisma",
50% random 22,
50% random 22,
50% random 22,
3d10 $"potion" of $"remove curse;potion",
2d10 $"potion" of $"cure disease",
50% 2d4 $"potion" of $"antitoxin",
50% 1d4 $"potion" of $"restore strength",
50% 1d4 $"potion" of $"restore dexterity",
50% 1d4 $"potion" of $"restore constitution",
50% 1d4 $"potion" of $"restore intelligence",
50% 1d4 $"potion" of $"restore wisdom",
50% 1d4 $"potion" of $"restore charisma",
50% 1d4 $"potion" of $"restore luck",
1d2+1 $"potion" of $"restoration",
1d2+1 $"potion" of $"detect stairs",
1d3 $"wand" of $"identify;wand",
50% $"climbing rig",
66% $"alchemy set",
50% $"viewing lens",
50% $"healing kit",
1d2 $"craftsman's tools",
50% $"mechanical tools",
30% $"disguise kit",
75% 1d2 $"pickaxe",
3d10 $"food ration";
On Event 215
"Roark Ironbeard's All-Purpose Adventurers' Store",
(173+2000) {
if (EItem->isType(39))
return 1;

if (EActor->SkillLevel(11) +
EVictim->getSocialMod(EActor,false) >= 12)
{
if (!EVictim->HasStati(189,-1,EActor))
EActor->IPrint("Roark says, 'Now normally I don't buy my wares
              from adventurers, but you really look like you could use a
              hand so I'll help you out here.'");
if (!((EItem->isType(58) || EItem->isType(21) ||
EItem->isType(24) || EItem->isType(45)) &&
EItem->isMagic() && EItem->ItemLevel() > 3))
{
EActor->IPrint("Roark grumbles, 'I don't think I can move that, but I do want
                to help. If you could bring me some powerful, magical weapons
                or armor, though, I'd be interested in that...'");
return 3;
}
if (EVictim->GetStatiMag(189) > (EActor->SkillLevel(
11) + EVictim->getSocialMod(EActor,false)) / 4)
{
EActor->IPrint("Roark frowns. 'No question, you bring in 
                great goods, but I'm already overstocked with the other
                items you've sold me.'");
return 3;
}
EVictim->IncStatiMag(189,7,-1,EActor,+1);
return 1;
}
EActor->IPrint("Roark says, 'Sorry, <hText>, I get my wares from the
        guild. I do by gems and precious metals, though -- got a nice
        contract with the blacksmiths and jewellers. It's me dwarven soul,
        what can I say.'", EActor->StateFlags & 0x0004 ? "love" : "son");
return 3;
};
}
#line "dungeon.irh" 455
Region "Underground River" : 19
{ Floor: $"shallow water";
Lists:
* 10
50 (-2) $"lone dark-dwelling beast" 80
40 (-2) $"pack encounter" 80
20 (-2) $"tribal warband" 80
(-2) $"oozes" 80
$"band of ixitxachitl"
$"water creatures"
5 (-2) $"uniform classed group" 80
(-2) $"aberration group" 80
;
}

Region "Cooled Magma Flow" : 19
{ Floor: $"smooth igneous rock"; }

Region "Mud-Choked River" : 19
{ Floor: $"shallow mud"; }

Region "Magma Flow" : 19
{ Floor: $"brimstone"; Depth: 3; }

Region "Raging Underground River" : 19
{ Floor: $"turbulent water"; Depth: 5;
#line "dungeon.irh" 493
}

Region "Quartz Streamer" : 17
{ Floor: $"quartz"; }

Region "Limestone Streamer" : 17
{ Floor: $"limestone"; }

Region "Glacial Streamer" : 17
{ Floor: $"ice wall"; }

Region "Crumbled Crevice" : 17
{ Floor: $"loose-packed earth"; }

Region "Vast Chasm" : 18
{ Floor: $"chasm"; Depth: 5; }
#line "dungeon.irh" 514
Terrain "Solid Rock"
{ Image: brown 176; Mat:28;
Flags: 1, 2, 20; }

Terrain "Indestructable Rock"
{ Image: shadow 176; Mat:23;
Flags: 1, 2, 20, 5;
On Event 1, 161 {
return 2;
};
}

Terrain "Dungeon Wall"
{ Image: grey 177; Mat:28;
Flags: 1, 2, 20; }

Terrain "Ice Wall"
{ Image: bright blue 219 on blue; Mat:24;
Flags: 1, 20, 5;
On Event 75 {
if (e.DType == 1 && e.vDmg > (10+random(10))) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"shallow water");
SinglePrintXY(e,"The ice melts!");
}
return 0;
};
}

Terrain "Wall Torch"
{ Image: yellow 177; Mat: 28;
Flags: 1, 2, 10, 14, 20; }

Terrain "quartz"
{ Image: grey 176; Mat:26;
Flags: 20, 1, 2; }

Terrain "solid igneous rock"
{ Image: shadow 176; Mat:25;
Flags: 20, 1, 2; }

Terrain "limestone"
{ Image: green 176; Mat:21;
Flags: 20, 1, 2; }

Terrain "Warded Wall"
{ Image: bright purple 176; Mat:28;
Flags: 1, 2, 20, 5;
On Event 50, 161 {
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67)))
return 2;
};
Desc: "This wall has been imbued with mystic runes that keep out
    (or perhaps keep in) incorporeal threats and summoned creatures. It is
    solid to creatures on other planes.";
}

Terrain "Building Wall"
{ Image: brown 177; Mat:8;
Flags: 1, 2, 20; }

Terrain "Adamant Wall"
{ Image: shadow 219; Mat:18;
Flags: 1, 2, 20; }

Terrain "bookshelf"
{ Image: brown 219; Mat: 8;
Flags: 1, 2, 20; }



Terrain "Steel Fence"
{ Image: cyan 240; Mat:11;
Flags: 1, 20; }
#line "dungeon.irh" 594
Terrain "gold vein"
{ Image: yellow 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"gold nugget");
it->SetQuantity( (3d10 + EActor->SkillLevel(35)) *
(3 + EMap->Depth));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
}

Item "gold nugget" : 39
{
Image: yellow 4; Cost: 10;
Mat: 15; Weight: 1; HP: 10;
Size: 1; Flags: 8, 1;
}

Terrain "diamond deposit"
{ Image: white 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"diamond");
it->SetQuantity( (1d4 + EActor->SkillLevel(35)/3) *
(3 + EMap->Depth/2));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
Constants:
* 110 3;
}

Item "diamond" : 39
{
Image: white 4; Cost: 100;
Mat: 15; Weight: 0; HP: 1;
Size: 1; Flags: 8, 1;
}

Terrain "mithril vein"
{ Image: grey 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"mithril ingot");
it->SetQuantity( (1d4 + EActor->SkillLevel(35)/3) *
(3 + EMap->Depth/2));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
Constants:
* 110 5;
}

Item "mithril ingot" : 39
{
Image: grey 4; Cost: 300;
Mat: 18; Weight: 1; HP: 20;
Size: 1; Flags: 8, 1;
}

Terrain "adamant vein"
{ Image: grey 176; Mat:21;
Flags: 1, 2, 20, 26, 5;
On Event 129 {
hObj it;
it = CreateItem($"adamant ingot");
it->SetQuantity( (1d4 + EActor->SkillLevel(35)/3) *
(3 + EMap->Depth/2));
it->PlaceAt(EMap,e.EXVal,e.EYVal);
};
Constants:
* 110 7;
}

Item "adamant ingot" : 39
{
Image: grey 4; Cost: 500;
Mat: 18; Weight: 1; HP: 40;
Size: 1; Flags: 8, 1;
}
#line "dungeon.irh" 680
Terrain "chasm"
{ Image: white ' ' on shadow; Mat:31;
Flags: 18, 6, 12;
On Event 161 {
if (EActor->isAerial() || EActor->HasStati(85))
return 0;
return 2;
};
}

Feature "tightrope" : 13
{
Image: brown 197; Mat: 6;
Flags: 0x10000, 0x20000;
On Event 133 {
#line "dungeon.irh" 699
if (EActor->SkillLevel(5) < 10)
{
EActor->IPrint("You lack the skill to balance on the tightrope!");
return 0;
}
if (!EActor->HasEffStati(205,$"tightrope"))
EActor->IDPrint("You step out onto the tightrope...",
"The <hObj> begins walking along the tightrope bridge...",
EActor);
if (EActor->GetEffStatiVal(205,$"tightrope") ==
(EActor->x + EActor->y*128))
return 1;
if (!EActor->SkillCheck(5,15,true))
{ EActor->RemoveEffStati($"tightrope");
EActor->IDPrint("You fall!","The <hObj> falls!", EActor);
return 0; }
EActor->RemoveEffStati($"tightrope");
EActor->GainTempStati(205,NULL,2,7,
EActor->x + EActor->y*128,0,$"tightrope");
EActor->IPrint("You stay balanced...");
return 1;
};
}

Effect "create tightrope bridge" : 46
{
aval: 2; qval: 0x0002; cval: 6;
int32 feet_needed, tx, ty;
Flags 102;
On Event (52+500) {
feet_needed = 0;
if (EMap->SolidAt(EActor->x,EActor->y) ||
EMap->FallAt(EActor->x,EActor->y) ||
ResourceHasFlag(EMap->TerrainAt(
EActor->x,EActor->y), 16))
{
EActor->IPrint("You must stand on solid, open ground
            before you create a tightrope bridge.");
return 2;
}
return 0;
},
52 {
hObj hRope;
switch (e.efNum)
{
case 0:
if (e.isLoc) {
tx = e.EXVal;
ty = e.EYVal;
}
else if (e.isDir) {
tx = EActor->x + DirX(e.EDir);
ty = EActor->y + DirY(e.EDir);
}
else {
tx = ETarget->x;
ty = ETarget->y;
}
break;
case 1:
if (!feet_needed)
{
EActor->IPrint("There's nothing there to make a bridge over.");
return 2;
}
hRope = EActor->ConsumeRope(feet_needed);
if (hRope == ((hObj)0))
return 2;
hRope->Remove(true);
EActor->IPrint("You anchor a rope at the other side tightly,
              wrapping it around an outcropping and pulling it taut.");
return 0;
case 2:
e.EXVal = tx;
e.EYVal = ty;
e.isLoc = true;
e.isDir = false;
SetETarget(e,((hObj)0));
break;
}
return 0;
},
75 {
if ((e.efNum == 0) && (EMap->FallAt(e.EXVal, e.EYVal) ||
ResourceHasFlag(EMap->TerrainAt(e.EXVal, e.EYVal), 16)))
feet_needed += 10;
return 0;
},
170 {
e.vRange = 15;
return 0;
};
}
and 46
{
aval: 0;
}
and 5
{
aval: 2; lval: 12; cval: 6;
xval: 11; rval: $"tightrope";
}
#line "dungeon.irh" 807
Feature "Pillar" : 13
{ Image: grey 9; Mat:28;
Flags: 0x0001, 0x0200; HP: 40;
}

Feature "altar" : 13
{ Image: white '8'; Mat: 21;
Flags: 0x40000; HP: 25;
}

Feature "pews" : 13
{ Image: brown 219; Mat: 8; HP: 10; }

Feature "rock column" : 13
{ Image: brown 9; Mat:21;
HP: 10;
Flags: 0x0001, 0x0200;
Desc: "Stalactites and stalagmites are naturally occurring rock
    formations that look somewhat like massive icicles or spears crafted
    from stone. They are especially common in areas with limestone
    deposits.";
}

Feature "pile of rubble" : 13
{ Image: brown ':'; Mat:28;
Flags: 0x8000, 0x10000; HP: 10;
Constants:
* 140 2;
}
#line "dungeon.irh" 841
Terrain "Floor"
{ Image: grey 250; Mat:28;
Flags: 4; }

Terrain "Floor;2"
{ Image: grey 249; Mat:28;
Flags: 4; }

Terrain "smooth igneous rock"
{ Image: shadow 247; Mat:25;
Flags: 12 ; }

Terrain "obsidian"
{ Image: shadow 250; Mat:25;
Flags: 12 , 4; }

Terrain "bloodstain"
{ Image: red 249; Mat:28;
Flags: 4, 12; }

Terrain "pool of blood"
{ Image: red 247; Mat:1; }

Terrain "pile of trash"
{ Image: shadow '&'; Mat: 4;
Desc: "A messy pile of rags, tattered papers and rotting food, along
      with lumps and fluids you would rather not try to identify.";
Flags: 12;
}

Terrain "pile of bones"
{ Image: red '&';
Desc: "A pile of greasy, gnawed bonus.";
Flags: 12;
}

Terrain "pool of slime"
{ Image: purple 247 on brown; Mat:1;
Flags: 6, 19, 12;
Constants:
* 140 1;

}

Terrain "Loose-Packed Earth"
{ Image: brown 249; Mat:21;
Flags: 4;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 74)
if (random(20) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"shallow mud");
SinglePrintXY(e,"The ground turns to mud!");
}
return 0;
},
154 {
if (EActor->isMType(38) && EActor->isMType(92))
{
EMap->WriteTerra(EActor->x,EActor->y,$"shallow mud");
SinglePrintXY(e,"The ground turns to mud!");
}
return 0;
};
Flags: 5;
}
#line "dungeon.irh" 914
Feature "hanging vines" : 13
{ Image: brown 157; Mat:3;
Flags: 0x2000;
Move: 100%; HP: 11;
Desc: "This area contains strong hanging vines. The vines do not impede
    movement or vision, but they can be climbed and they do give the area
    a verdant feel.";
}

Feature "tree" : 13
{ Image: green 157; Mat:8;
Flags: 0x2000, 0x4000;
Move: 75%; HP: 20;
}

Feature "giant mushroom" : 13
{ Image: purple 157; MAT:3;
Flags: 0x2000, 0x4000;
Move: 75%; HP: 20;
}

Feature "verdant bloom" : 13
{ Image: bright green 157; MAT:3;
Flags: 0x2000;
Move: 75%; HP: 10;
Desc: "This area is thick with fungal outcroppings and rope-like roots.
    A soft, warm light shines indirectly from incandescent motes in the
    air. It would appear to be the perfect habitat for plant life." ;
On Event 156 {
if (1d6 >= 5 && EMap->Depth > 1)
EMap->thEnGenMTypeXY($"single monster", 49, 0x00000004,
EMap->Depth, 0, e.EXVal, e.EYVal);
};
}

Terrain "thorn wall"
{ Image: green 34; Mat:3;
Flags: 15, 2, 6, 5, 12; Mov: 15%;
On Event 161 {
if (EActor->HasAbility(110) ||
EActor->onPlane() != 0 ||
EActor->ResistLevel(11) == -1 ||
EActor->ResistLevel(11) >= 20)
return 0;
else
return 2;
} ;
On Event 75 {
if (e.aval == 2 || e.aval == 3 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(20) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The thorn wall burns!");
}
return 0;
};
On Event 1 {
if (EActor->HasAbility(110) ||
EActor->onPlane() != 0)
return 0;
if (!EActor->SkillCheck(13,30,true,false))
{
DPrint(e,"You are still tangled in the thorn wall!",
"An <EActor> remains tangled in the thorn wall!");
EActor->Reveal(false);
EActor->MakeNoise(3);
EActor->Timeout += 30;
return 2;
}
ThrowTerraDmg(41,11,25,"a wall of thorns",EActor, $"thorn wall");
return 0;
};
Desc: "A towering wall of thorns. Moving out of a thorn wall requires a
    DC 30 Escape Artist check. Creatures moving through a thorn wall
    suffer 25 points of slashing damage. Creatures with the woodland
    stride ability or creatures on different planes are immune.";
}
#line "dungeon.irh" 998
Terrain "stinking cloud;terrain"
{ Image: green '~'; Mat:31;
Flags: 3, 12, 6, 5;
On Event 1 {
if (EActor->onPlane() == 0 &&
EActor->isMType(78) &&
!EActor->SavingThrow(0,20))
EActor->GainTempStati(20,EVictim,2d4,2,0,0,
$"stinking cloud");
} , 161 {
if (EActor->onPlane() == 0 &&
EActor->isMType(78) &&
!EActor->GetAttr(28) < 15)
return 2;
else
return 0;
} ;
Desc: "Any breathing creature in a stinking cloud must make a
    Fortitude Save (DC 20) each round to avoid becoming nauseated for
    an additional 2d4 rounds. Nauseated creatures cannot attack or
    cast spells.";
}

Terrain "fog"
{ Image: grey '~'; Mat:31;
Flags: 3, 12;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1 || e.DType == 2)
if (!random(3)) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The fog is cleared!");
}
return 0;
};
}

Terrain "solid fog bank"
{ Image: skyblue '~'; Mat:30;
Flags: 5, 12, 3; Mov: 15%;
On Event 159 {
if (GetHandle(EItem2) == NULL)
return 0;
APrint(e,"The <EItem2> is deflected by the solid fog!");
return 2;
};
}

Terrain "acid fog"
{ Image: brown '~'; Mat:31;
Flags: 3, 12, 5, 6;
On Event 161 {
if ((EActor->onPlane() != 0) ||
(EActor->ResistLevel(3) == -1) ||
(EActor->ResistLevel(3) >= 6))
return 0;
else
return 2;
} ;
On Event 1, 19, 37 {
if (EActor->onPlane() != 0)
return 0;
ThrowTerraDmg(41,3,1d6,"acid fog",EActor, $"acid fog");
if (EActor->ResistLevel(3) < 6)
ThrowTerraDmg(41,39,1d6,"acid fog",EActor, $"acid fog");
return 0;
} ;
Desc: "This deadly corrosive fog deals 1d6 points of acid damage and
    1d6 points of rust damage to any creature that moves, attacks or casts
    a spell in it. The Woodland Stride ability does not prevent this
    damage. Acid Resistance of 6 or higher negates the threat of
    equipment damage.";
}
#line "dungeon.irh" 1078
Terrain "pool of grease"
{ Image: yellow 247 on brown; Mat:32;
Flags: 6, 5, 13, 12;
hObj mount;
On Event 161 {
if (EActor->HasStati(205))
return true;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(5) > 10 ||
mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() ||
mount->isMType(17) ||
mount->HasMFlag(9))
return true;
else
return -1;
} else {
if (EActor->SkillLevel(5) > 10 ||
EActor->HasStati(15) ||
EActor->HasAbility(110) ||
EActor->isAerial() ||
EActor->isMType(17) ||
EActor->HasMFlag(9))
return true;
else
return -1;
}
} ;
Desc: "You (or your mount) must make a Balance skill check (DC
    typically 15) to avoid slipping on the grase when you move, attack,
    jump off it or land on it. Flying creatures, jellies, incorporeal
    creatures, and creatures with the Woodland Stride ability are immune.";
On Event 1, (19+500), 167, 166 {
if (EActor->isIllusion())
return 0;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() ||
mount->isMType(17) ||
mount->HasMFlag(9))
return 0;
if (!mount->SkillCheck(5,max(15,EMap->GetTerraDC(EActor->x,EActor->y)),true,false)) {
DPrint(e,"Your mount slips and falls!",
"An <EActor>'s mount slips and falls!");
ThrowTerraDmg(41,67,-1,"pool of grease",mount, $"pool of grease");
EActor->Timeout += 10;
return 1;
}
} else {
if (EActor->HasStati(15)
|| EActor->HasAbility(110)
|| EActor->isMType(17)
|| EActor->HasMFlag(9)
|| EActor->isAerial())
return 0;
if (!EActor->SkillCheck(5,max(15,EMap->GetTerraDC(EActor->x,EActor->y)),true,false)) {
DPrint(e,"You slip and fall!",
"An <EActor> slips and falls!");
ThrowTerraDmg(41,67,-1,"pool of grease",EActor, $"pool of grease");
EActor->Timeout += 10;
return 1;
}
}
return 0;
};
}


Terrain "Old Webbing"
{ Image: shadow '#'; Mat:22; Mov: 25%;
Flags: 3, 5, 12;
hObj mount;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(20) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The old webbing burns!");
}
return 0;
},
161 {
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isMType(26) ||
mount->onPlane() != 0 ||
mount->HasAbility(110))
return 0;
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
}
if (EActor->ChallengeRating() >= 3)
return 0;
else
return 2;
} ,
1, 166 {
if (!GetHandle(EActor)) return 2;
if (EActor->isIllusion())
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isMType(26) ||
mount->onPlane() != 0 ||
mount->HasAbility(110))
return 0;
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
EActor->MakeNoise(10);
}
SinglePrintXY(e,"The old webbing is torn apart.");
EMap->WriteTerra(EActor->x,EActor->y,$"floor");
if (random(100) <= 10) {
EMap->thEnGenMTypeXY($"single monster", 26, 0x00000004,
EMap->Depth, 0x0040, e.EXVal, e.EYVal);
EActor->Timeout += 1;
}
return 0;
} ;
}

Terrain "Webbing"
{ Image: grey '#'; Mat:22;
Flags: 3, 6, 5, 19, 12;
hObj mount;
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The webbing burns!");
}
return 0;
},
161 {
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isMType(26) ||
mount->onPlane() != 0 ||
mount->HasAbility(110))
return 0;
mount->MakeNoise(10);
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
}
if (EActor->ChallengeRating() >= 3)
return 0;
else
return 2;
} ,
1, 166 {
hObj mount2;
if (!GetHandle(EActor))
return 2;
if (EActor->isIllusion())
return 0;
mount2 = EActor->GetStatiObj(87);
if (mount2) {
if (mount2->isMType(26) ||
mount2->onPlane() != 0 ||
mount2->HasAbility(110))
return 0;
mount2->MakeNoise(10);
} else {
if (EActor->isMType(26) ||
EActor->onPlane() != 0 ||
EActor->HasAbility(110))
return 0;
EActor->MakeNoise(10);
}
return 0;
} ;
Constants:
* 140 1;
}

Terrain "Ice Floor"
{ Image: grey 250 on blue; Mat:24;
Flags: 5, 12, 4;
Desc: "Landing on, jumping off of, or attacking from a patch of
    ice floor requires a DC 10 Balance Skill Check. If you fail, you
    are tripped. Attacking with a weapon that does not grant a Strength
    bonus to damage does not trigger this effect.";
hObj mount;
On Event 161 {
if (!GetHandle(EActor)) return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(5) < 10)
return 2;
}
return 0;
};
On Event (19+500), (167+500), 166 {
if (!GetHandle(EActor)) return 2;
if (EActor->HasStati(205))
return 0;
if (EActor->isIllusion())
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() || mount->isMType(96) ||
mount->HasEffStati(-1,$"the Winterlands") ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!mount->SkillCheck(5,10,true,false))
{
EActor->Reveal(false);
DPrint(e,"Your mount slips on the ice!",
"An <EActor>'s mount slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",mount,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
}
if (EActor->HasStati(15) ||
EActor->HasAbility(110) ||
EActor->isAerial() || EActor->isMType(96) ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!EActor->SkillCheck(5,10,true,false))
{
EActor->Reveal(false);
DPrint(e,"You slip on the ice!",
"An <EActor> slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",EActor,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
},
75 {
if (e.aval == 2 || e.aval == 3 ||
e.aval == 11 || (e.aval == 1 && e.EDir == 10) )
if (e.DType == 1)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"shallow water");
SinglePrintXY(e,"The ice melts!");
}
return 0;
};
}

Terrain "storm of sleet"
{ Image: bright cyan '~' on blue; Mat:24;
Flags: 5, 12, 3, 6; Move: 50%;
hObj mount;
On Event 161 {
if (!EActor) return 2;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->SkillLevel(5) < 10)
return 2;
}
return 0;
} ;
On Event (1+500), (19+500), (167+500), 166 {
if (!EActor) return 2;
if (EActor->HasStati(205))
return 0;
if (EActor->isIllusion())
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(15) ||
mount->HasAbility(110) ||
mount->isAerial() ||
mount->HasEffStati(-1,$"the Winterlands") ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!mount->SkillCheck(5,10,true,false))
{
DPrint(e,"Your mount slips on the ice!",
"An <EActor>'s mount slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",mount,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
}
if (EActor->HasStati(15) ||
EActor->HasAbility(110) ||
EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Winterlands") ||
(e.Event == 19 &&
( (EItem && !EItem->useStrength()) ||
(EItem2 && !EItem2->useStrength()) )))
return 0;
if (!EActor->SkillCheck(5,10,true,false))
{
DPrint(e,"You slip on the ice!",
"An <EActor> slips on the ice!");
ThrowTerraDmg(41,67,-1,"ice floor",EActor,$"ice floor");
EActor->Timeout += 12;
return 2;
}
return 0;
};
Desc: "Driving sleet blocks all sight (even darkvision) within it and
    causes the ground in the area to be icy. A creature can walk within or
    through the area of sleet at half normal speed with a DC 15 Balance
    check. Failure means it can't move in that round, while failure by 5 or
    more means it falls (see the Balance skill for details).";
}

Terrain "bed of spikes"
{ Image: brown '^'; Mat:28; Mov: 50%;
Flags: 6, 5, 12;
On Event 161 {
if (EActor->isAerial() || EActor->HasAbility(110)
|| EActor->HasStati(205))
return 0;
else
return 2;
};
On Event 1 {
if (EActor->isAerial() || EActor->HasAbility(110))
return 0;
if (EActor->HasStati(205))
return 0;
if (EActor->isIllusion())
return 0;
if (!EActor->SkillCheck(13,15,true,false))
{
DPrint(e,"You are still tangled in the spikes!",
"An <EActor> remains tangled in the spikes!");
EActor->Reveal(false);
EActor->MakeNoise(3);
EActor->Timeout += 30;
return 2;
}
ThrowTerraDmg(41,12,1d8,"a bed of spikes",EActor, $"bed of spikes");
return 0;
};
}

Terrain "Summoning Circle"
{ Image: bright purple 233; Mat:28;
Flags: 12 | 5;
On Event 156 {
hObj h,w;
int32 dx,dy,mx,my,trial;
#line "dungeon.irh" 1466
for (dx = -4; dx <= 4; dx++)
for (dy = -4; dy <= 4; dy++) {
mx = dx + e.EXVal;
my = dy + e.EYVal;
if (EMap->InBounds(mx,my) &&
dist(mx,my,e.EXVal,e.EYVal) <= 3 &&
dist(mx,my,e.EXVal,e.EYVal) >= 2) {
if (EMap->SolidAt(mx,my))
EMap->WriteTerra(mx,my,$"warded wall");
else {
w = CreateFeature($"warding rune");
w->PlaceAt(EMap,mx,my);
}
}
}
};
Desc: "This summoning circle sits at the center of a carefully warded
    area that keeps in (and keeps out) summoned and incorporeal
    creatures.";
}
#line "dungeon.irh" 1537
Terrain "shallow water"
{ Image: azure 247; Mat:1;
Flags: 12, 5, 7, 16;
On Event 16 {
DPrint(e,"The <EItem> is quickly swept away.",
"The <EActor> drops an <EItem>, and it is quickly swept away.");
EItem->Remove(true);
return 1;
};
On Event 75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"ice floor");
SinglePrintXY(e,"The water freezes!");
}
return 0;
};

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1559
Desc:
"__This water is shallow. It is waist-high, allowing allowing aquatic
      creatures and landlubbers to pass with equal ease.";
}



Terrain "shallow mud"
{ Image: brown 247; Mat:1; Move: 50%;
Flags: 12, 5, 7, 16;
On Event 75 {
if (e.aval == 2 || e.aval == 3 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 1 || e.DType == 2)
if (random(30) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,
EMap->RegionAt(e.EXVal,e.EYVal)->Floor);
SinglePrintXY(e,"The mud hardens!");
}
return 0;
},
1 {
if (EActor->isAerial() || EActor->HasStati(205))
return 0;
EActor->IPrint("Glup.");
return 0;
};

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1589
Desc:
"__This watery mud is shallow. It is waist-high, allowing allowing
      aquatic creatures and landlubbers to pass with equal ease.
      \n__Water Combat: Thrown weapons are ineffective against targets in
      the water. Fire damage is ineffective against targets in the water
      unless the attacker makes a DC 20 Spellcraft check. Creatures in the
      water attacked by creatures not in a water square gain a +8 defense
      bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
      creatures in the water (unless the attacker has Freedom of Movement).
      Blunt and slashing attacks do half damage to creatures in the water
      (unless the attacker has freedom of movement).
      ";
}


Terrain "deep water"
{ Image: blue 247; Mat:1;
Flags: 12, 5, 7, 6, 16;
hObj mount;
On Event 16 {
DPrint(e,"The <EItem> is quickly swept away.",
"The <EActor> drops an <EItem>, and it is quickly swept away.");
EItem->Remove(true);
return 1;
},
75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((10+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"ice floor");
SinglePrintXY(e,"The water freezes!");
}
return 0;
},
167 {
if (EActor->HasStati(205))
return 0;
EActor->IPrint("You cannot jump out of deep water.");
return 2;
},
1, (19+500), 166, (37+500) {
int32 res;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->isMType(92) ||
mount->HasMFlag(9) ||
!mount->isMType(78) ||
mount->HasStati(130) ||
mount->isAerial())
return 0;
mount->SkillCheck(45,10,true,false);
res = LastSkillCheckResult() - 10;
if (res >= 0)
return 0;
else if (res >= -5) {
EActor->Timeout += 30;
EActor->IPrint("Your mount fails to make progress in the water.");
return 2;
} else {
EActor->Timeout += 30;
EActor->IPrint("Your mount is drowning!");
mount->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d2,"drowning",mount, $"deep water");
ThrowTerraDmg(41,74,8d4,"drowning",mount, $"deep water");
return 2;
}
}
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial())
return 0;

EActor->SkillCheck(45,10,true,false);
res = LastSkillCheckResult() - 10;
if (res >= 0)
return 0;
else if (res >= -5) {
EActor->Timeout += 30;
EActor->IPrint("You fail to make progress in the water.");
return 2;
} else {
EActor->Timeout += 30;
EActor->IPrint("You are drowning!");
EActor->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d2,"drowning",EActor, $"deep water");
ThrowTerraDmg(41,74,8d4,"drowning",EActor, $"deep water");
return 2;
}
} ;
On Event 161 {
mount = EActor->GetStatiObj(87);
if (EActor->HasStati(205))
return 0;
if (mount) {
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->isMType(92) ||
mount->HasMFlag(9) ||
!mount->isMType(78) ||
mount->HasStati(130) ||
mount->isAerial())
return 0;
if (mount->SkillLevel(45) >= 5)
return 0;
} else {
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial())
return 0;
if (EActor->SkillLevel(45) >= 5)
return 0;
}
return 2;
} ;

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1722
Desc: "__This water is deep. Any attempt to move through it or attack
    through it requires a Swim skill check (DC 10). Failure means the 
    action is aborted (but it still takes time). Failure by more than 5
    means that you start drowning and take 6d2 points of damage.
    Amphibians, aquatic creatures, water creatures, water alkers,
    flyers, and creatures that don't breathe always succeed. Blunt and
    slashing attacks deal half damage in water squares.
      \n__Water Combat: Thrown weapons are ineffective against targets in
      the water. Fire damage is ineffective against targets in the water
      unless the attacker makes a DC 20 Spellcraft check. Creatures in the
      water attacked by creatures not in a water square gain a +8 defense
      bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
      creatures in the water (unless the attacker has Freedom of Movement).
      Blunt and slashing attacks do half damage to creatures in the water
      (unless the attacker has freedom of movement).
      ";
}

Terrain "turbulent water"
{ Image: cyan 247; Mat:1;
Flags: 12, 5, 7, 6, 16;
hObj mount;

On Event (41+2000) { if ((!EVictim->isAerial()) && (!EVictim->HasStati(205))) { if (e.AType == 41) { DPrint(e,"Thrown weapons are ineffective under water!", "The <EActor>'s thrown weapon is ineffective under water."); e.Immune = true; return 1; } else if (e.DType == 1) { if (EActor->SkillCheck(43,20,true)) { DPrint(e,"Your fire damage makes a bubble of steam!", "The <EActor>'s fire damage makes a bubble of steam."); } else { DPrint(e,"Your fire damage is ineffective under water!", "The <EActor>'s fire damage is ineffective under water."); e.Immune = true; return 1; } } else if ((e.DType == 13 || e.DType == 11) && (EActor->ResistLevel(14) != -1)) { e.vDmg /= 2; e.strDmg += " /2 water"; } } }; On Event (19+2000) { if (EVictim->HasStati(205)) return 0; if ((e.AType == 65 || e.DType == 11 || e.DType == 13) && (!EVictim->isAerial()) && (EActor->ResistLevel(14) != -1)) { e.vHit -= 2; e.strHit += " -2 water"; } if (!EVictim->isAerial() && !EMap->TerrainAt(EActor->x,EActor->y)->TerrainHasFlag(7)) { e.vDef += 8; e.strDef += " +8 water"; } return 0; };
#line "dungeon.irh" 1747
On Event 16 {
DPrint(e,"The <EItem> is quickly swept away.",
"The <EActor> drops an <EItem>, and it is quickly swept away.");
EItem->Remove(true);
return 1;
},
75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((15+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"ice floor");
SinglePrintXY(e,"The water freezes!");
}
return 0;
},
167 {
if (EActor->HasStati(205))
return 0;
EActor->IPrint("You cannot jump out of turbulent water.");
return 2;
},
1, (19+500), 166, (37+500) {
int32 res;
int32 progress;
if (EActor->HasStati(205))
return 0;
progress = true;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(130) ||
mount->isAerial())
return 0;
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->HasMFlag(9) ||
mount->isMType(92) ||
!mount->isMType(78)) {
} else {
mount->SkillCheck(45,10,true,false);
res = LastSkillCheckResult() - 10;
if (res >= 0) {
} else if (res >= -5) {
EActor->Timeout += 30;
progress = false;
EActor->IPrint("Your mount fails to make progress in the water.");
} else {
EActor->Timeout += 30;
EActor->IPrint("Your mount is drowning!");
mount->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d4,"drowning",mount, $"turbulent water");
ThrowTerraDmg(41,74,16d4,"drowning",mount, $"turbulent water");
ThrowTerraDmg(41,0,3d4,"drowning",EActor, $"turbulent water");
ThrowTerraDmg(41,74,8d4,"drowning",EActor, $"turbulent water");
progress = false;
}
}
}
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial()) {
} else {
EActor->SkillCheck(45,20,true,false);
res = LastSkillCheckResult() - 20;
if (res >= 0)
return 0;
else if (res >= -5) {
EActor->Timeout += 30;
EActor->IPrint("You fail to make progress in the water.");
ThrowTerraDmg(41,74,1d4,"drowning",EActor, $"turbulent water");
progress = false;
} else {
EActor->Timeout += 30;
EActor->IPrint("You are drowning!");
EActor->GainTempStati(16,NULL,2,7,0,2);
ThrowTerraDmg(41,0,6d4,"drowning",EActor, $"turbulent water");
ThrowTerraDmg(41,74,16d4,"drowning",EActor, $"turbulent water");
progress = false;
}
}

if (progress) {
return 0;
} else {
return 2;
}
} ;
On Event 161 {
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->HasStati(130) ||
mount->isAerial())
return 0;
if (mount->HasMFlag(30) ||
mount->isMType(80) ||
mount->isMType(92) ||
mount->HasMFlag(9) ||
!mount->isMType(78)) {
} else {
if (mount->SkillLevel(45) < 15)
return 2;
}
}
if (EActor->HasMFlag(30) ||
EActor->isMType(80) ||
EActor->isMType(92) ||
EActor->HasMFlag(9) ||
!EActor->isMType(78) ||
EActor->HasStati(130) ||
EActor->isAerial())
return 0;
if (EActor->SkillLevel(45) >= 15)
return 0;
return 2;
} ;
Desc: "__This water is deep and turbulent. Any attempt to move through it
    or attack through it requires a Swim skill check (DC 20). Failure means
    the action is aborted (but it still takes time). Failure by more than 5
    means that you start drowning and take 6d4 points of damage.
    Amphibians, aquatic creatures and water creatures always succeed. Blunt
    and slashing attacks deal half damage in water squares.
      \n__Water Combat: Thrown weapons are ineffective against targets in
      the water. Fire damage is ineffective against targets in the water
      unless the attacker makes a DC 20 Spellcraft check. Creatures in the
      water attacked by creatures not in a water square gain a +8 defense
      bonus.  Blunt, slashing and ranged attacks suffer a -2 penalty to hit
      creatures in the water (unless the attacker has Freedom of Movement).
      Blunt and slashing attacks do half damage to creatures in the water
      (unless the attacker has freedom of movement).
      ";
}



Terrain "magma"
{ Image: pink 247; Mat:25;
Flags: 6, 5, 12, 25, 16;
Desc: "Magma deals 6d6 points of fire damage to your or your mount
    as you cross it, land on it or jump out of it.";
hObj mount;
On Event 161 {
int32 rl;
if (!GetHandle(EActor))
return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
rl = mount->ResistLevel(1);
if (rl < 0 || rl >= 36) return 0;
} else {
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
rl = EActor->ResistLevel(1);
if (rl < 0 || rl >= 36) return 0;
}
return 2;
} ;
On Event 1, 167, 166, 19 {
int32 r, dmg;
if (!GetHandle(EActor)) return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
r = mount->ResistLevel(1);
if (r == -1) return 0;
dmg = (6d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"magma",mount,$"magma");
DPrint(e,"Your mount is burned by the magma!",
"An <EActor>'s mount is burned by magma!");
return 0;
}
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
r = EActor->ResistLevel(1);
if (r == -1) return 0;
dmg = (6d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"magma",EActor,$"magma");
return 0;
},
75 {
if (e.aval == 2 || e.aval == 3 || e.aval == 11 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((15+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"brimstone");
SinglePrintXY(e,"The magma cools!");
}
return 0;
};

}

Terrain "brimstone"
{ Image: red 247; Mat:25;
Flags: 6, 5, 12, 25, 16;
Desc: "Brimstone deals 1d6 points of fire damage to your or your mount
    as you cross it, land on it or jump out of it.";
hObj mount;
On Event 161 {
int32 rl;
if (!GetHandle(EActor))
return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
rl = mount->ResistLevel(1);
if (rl < 0 || rl >= 6) return 0;
} else {
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
rl = EActor->ResistLevel(1);
if (rl < 0 || rl >= 6) return 0;
}
return 2;
} ;
On Event 1, 167, 166, 19 {
int32 r, dmg;
if (!GetHandle(EActor))
return 2;
if (EActor->HasStati(205))
return 0;
mount = EActor->GetStatiObj(87);
if (mount) {
if (mount->isAerial() ||
mount->HasEffStati(-1,$"the Inferno") ||
EActor->HasEffStati(-1,$"the Inferno") ||
mount->HasAbility(110))
return 0;
r = mount->ResistLevel(1);
if (r == -1) return 0;
dmg = (1d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"brimstone",mount,$"brimstone");
DPrint(e,"Your mount is burned by the brimstone!",
"An <EActor>'s mount is burned by brimstone!");
return 0;
}
if (EActor->isAerial() ||
EActor->HasEffStati(-1,$"the Inferno") ||
EActor->HasAbility(110))
return 0;
r = EActor->ResistLevel(1);
if (r == -1) return 0;
dmg = (1d6) - r;
if (dmg <= 0) return 0;
ThrowTerraDmg(41,1,dmg,"brimstone",EActor,$"brimstone");
return 0;
},
75 {
if (e.aval == 2 || e.aval == 3 ||
(e.aval == 1 && e.EDir == 10) )
if (e.DType == 2)
if ((10+random(30)) < e.vDmg) {
EMap->WriteTerra(e.EXVal,e.EYVal,$"smooth igneous rock");
SinglePrintXY(e,"The brimstone cools!");
}
return 0;
};

}
#line "dungeon.irh" 2049
Feature "Tomb" : 13
{
Image: white 239;
Mat:28;
On Event 41, 75, 83 {
int32 i;

if (!EActor->isPlayer())
return 0;
if (e.Event == 41)
if (EActor->onPlane() != EVictim->onPlane())
return 0;
if (!ETarget->HasStati(187,1) &&
e.eID != $"tanglefoot bag" &&
!e.isActOfGod)
{
ETarget->GainPermStati(187,NULL,7,1);
EActor->Transgress($"Mara", 2, false, "desecrating a tomb");
EActor->IDPrint("The tomb is desecrated, the dead rise!", "The tomb is desecrated, the dead rise!");

EMap->thEnGenXY($"gravestone undead", 0x00000004,
EMap->Depth+2, 0x0040, ETarget->x, ETarget->y);
if (e.eID != $"desecrate")
ThrowEffXY(52,$"desecrate",ETarget->x,ETarget->y,
EActor,EVictim);
ETarget->Remove(false);
}
return 0;
};
}

Feature "Gravestone" : 13
{
Image: grey 239;
Mat:28;
On Event 41, 75, 83 {

if (!EActor->isPlayer())
return 0;
if (!ETarget->HasStati(187,1) &&
e.eID != $"tanglefoot bag" &&
!e.isActOfGod)
{
EActor->Transgress($"Mara", 2, false, "desecrating a grave");
ETarget->GainPermStati(187,NULL,7,1);
EActor->IDPrint("The gravestone is desecrated, the dead rise!",
"The gravestone is desecrated, the dead rise!");

EMap->thEnGenXY($"gravestone undead", 0x00000004,
EMap->Depth, 0x0040, ETarget->x, ETarget->y);
if (e.eID != $"desecrate")
ThrowEffXY(52,$"desecrate",ETarget->x,ETarget->y,
EActor,EVictim);
ETarget->Remove(false);
}

return 0;
};
}

Feature "warding rune" : 13
{
Image: bright purple 249; Mat:28;
Desc: "This mystic warding rune keeps out (or perhaps keeps in)
    incorporeal threats and summoned monsters. It is solid to creatures on
    other planes.";
On Event 161 {
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67)))
return 2;
};
On Event 47, 88 {
if ((EActor->onPlane() != 0) ||
(EActor->HasStati(67))) {
EActor->IPrint("The warding rune prevents your passage!");
return 2;
}
};
}

Feature "Forge" : 13
{ Image: red 8; Mat:11; }

Item "fountain" : 60
{
Image: bright blue 244;
Level:0; Mat:21;
Weight: 10000; Flags: 1; hp: 150;
Desc: "Deep below the earth, some natural springs absorb the magical
      radiations of the Underdark. Magical fountains are large, immobile
      magical items built to harness the energy of these springs, usually
      for the purposes of healing or item enchantment. Though useful, these
      magics are deeply chaotic and unpredictable, and using them represents
      a great risk for a significant possible reward.";
On Event 12 {
EActor->IPrint("The fountain is affixed to the floor, <hObj>.",EActor);
return 2;
},
(100+500) {
e.eID = $"fountain;effect";
return 0;
};
}
#line "dungeon.irh" 2157
42 Effect "fountain;effect" : 46
{
Level: -92; Flags: 44, 20;
On Event 28 {
int32 val, i,j; rID mID, dID; hObj hRing, hMon, it;
if (EItem->IFlags & 0x0001)
val = max(1d20,1d20);
else if (EItem->IFlags & 0x0002)
val = min(1d20,1d20);
else
val = 1d20;
val += EActor->Mod(6);

if (EActor->HasEffStati(221,$"Water;Domain"))
val += 3;

while (val < 0)
val += 5;

EActor->Exercise(6,1d20,5,70);

switch (val)
{
case 0:
if (!EActor->HasStati(113))
{
EActor->IPrint("You feel very lucky.");
break;
}
EActor->IPrint("You feel tremendously dissipated.");
for (i=0;i!=7;i++)
EActor->RemoveStati(113,-1,i);
break;
case 1:
EActor->IPrint("This water tastes like poison!");
ThrowDmg(41,5,(4 - EActor->Mod(6) + EItem->GetPlus())d10,
"poisonous fountain water", EActor, EActor);
case 2:
EActor->IPrint("This water must be contaminated!");
if (EActor->ResistLevel(27) == -1)
{
EActor->IPrint("Fortunately, you are unaffected.");
break;
}
switch (1d6)
{
case 1: dID = $"red ache"; break;
case 2: dID = $"filth fever"; break;
case 3: dID = $"cackle fever"; break;
case 4: dID = $"mindfire"; break;
case 5: dID = $"blinding sickness"; break;
case 6: dID = $"the Shakes"; break;
}
EActor->GainPermStati(19,NULL,7,0,0,dID);
break;
case 3:
EActor->IPrint("You feel a spiritual nullity pervade your body!");
if (EActor->isCharacter())
EActor->LoseXP(4d6 * 100);
break;
case 4:
EActor->IPrint("The water rises up and takes on a monsterous form!");
hMon = CreateMonster(EMap->Depth > 2 ? $"large water elemental" :
$"small water elemental");
hMon->PlaceAt(EMap,EActor->x,EActor->y);
hMon->Initialize();
hMon->TurnHostileTo(EActor);
break;
case 5:
EActor->IPrint("The eerie waters bestow a curse!");
RedirectEff(e,$"Bestow Curse",52);
break;
case 6:
EActor->IPrint("There's snakes in this fountain!");
j = 1d4;
for (i=0;i!=j;i++)
{
hMon = CreateMonster(1d2 == 1 ? $"boa constrictor" :
$"huge viper");
hMon->PlaceAt(EMap,EActor->x,EActor->y);
hMon->Initialize();
hMon->TurnHostileTo(EActor);
}
break;
case 7:
EActor->IPrint("Wow, these magic waters are trippy!");
EActor->GainTempStati(6,NULL,-2,2,0,0,$"Fountain;effect");
break;
case 8:
EActor->IPrint("After drinking the water, you begin to glow!");
RedirectEff(e,$"Faerie Fire", 52);
break;
case 9:
case 10:
RedirectEff(e,$"Fountain Polymorph",52);
break;
case 11:
EActor->IPrint("You feel like you could take on a legion!");
RedirectEff(e,$"Heroism",52);
break;
case 12:
EActor->GainTempStati(100,NULL,-2,2,1);
break;
case 13:
EActor->IPrint("Drinking these waters makes you feel mighty!");
EActor->GainTempStati(106,NULL,-2,2,0,+4);
break;
case 14:
if (!EItem->HasEffStati(189,$"Fountain;effect"))
{
EItem->GainPermStati(189,NULL,7,0,0,$"Fountain;effect");
EActor->IPrint("You discover a ring lying on the bottom of the
                                 fountain!");
hRing = GenDungeonItem(0,$"ring",EMap->Depth,10+EItem->GetPlus()*2);
EActor->GainItem(hRing,true);
break;
}

default:
EActor->IPrint("The waters taste cool and invigorating!");
EActor->cFP = min(EActor->cFP + (val - 14),EActor->GetAttr(38));
if (val >= 16 && EActor->XPDrained()) {
EActor->RestoreXP(1000 + (val-16)*500);
EActor->IPrint("You feel <hText>revitalized!",
EActor->XPDrained() ? "" : "completely ");
}
if (val >= 17)
EActor->RemoveStati(2);
if (val >= 18)
EActor->RemoveStati(19);
if (val >= 19)
EActor->RemoveStati(112);
if (val >= 20) {
for (it=EActor->FirstInv();it;it=EActor->NextInv())
if (it->IFlags & 0x0004 && it->IFlags & 0x0002)
{
DPrint(e,"Your <hObj> glows with a soft blue light.",
"The <EActor>'s <hObj> glows with a soft blue light.", it);
it->IFlags &= ~0x0002;
}
if (EActor->HasStatiFromSource(12))
{
EActor->RemoveStatiSource(12);
DPrint(e,"Your body glows with a soft blue light.",
"The <EActor>'s body glows with a soft blue light.", it);
}
}

break;
}
EItem->SetCharges(EItem->GetCharges() - 1);
if (EItem->GetCharges() <= 0)
{
APrint(e,"The fountain dries up!");
EItem->Remove(true);
}
return 1;
},
150 {
EActor->SetCharges(4 + 1d6);
return 0;
},
100 {
int32 val, x, y, oHP; int32 forceDry; hObj hMon;
if (GetHandle(EItem2) == ((hObj)0) ||
!EItem2->isType((-4)))
return 0;
if (GetHandle(EItem) == ((hObj)0) ||
!EItem->isType((-4)))
return 0;
if (EItem2->iID != $"fountain")
return 0;
if (!EItem->isMagic())
{
EActor->IPrint("Nothing happens.");
EActor->Timeout += 30;
return 1;
}


if (EItem->IFlags & 0x0001)
val = max(1d20,1d20);
else if (EItem->IFlags & 0x0002)
val = min(1d20,1d20);
else
val = 1d20;
val += EActor->Mod(6);

if (EActor->HasEffStati(221,$"Water;Domain"))
val += 3;
EActor->Exercise(6,1d20,5,70);
forceDry = false;
EActor->Timeout = 30;

DPrint(e,"You dip your <EItem> in the <EItem2>.",
"The <EActor> dips an <EItem> in the <EItem2>.");

switch (val)
{
case 1: case 2: hMon = CreateMonster($"wastrilith");
hMon->PlaceAt(EMap,EActor->x,EActor->y);
hMon->Initialize();
hMon->TurnHostileTo(EActor);
EActor->IPrint("Your misguided experiments attract a water demon!");

EActor->Timeout = 0;
break;
case 3: case 4: EItem->IFlags &= ~0x0001;
EItem->IFlags |= 0x0002;
EItem->ReApply();
APrint(e, "The <EItem> glows black!");

break;
case 7: case 8: EActor->IPrint("The waters bubble over and spray everywhere!");
ThrowDmg(41,74,3d10,"fountain splashing",EActor,EActor);
break;
case 5: case 6:
#line "dungeon.irh" 2380
case 9: case 10: EMap->thEnGenMTypeXY($"single monster", 91, 0x00000004,
EActor->ChallengeRating()+3, 0x0040, ETarget->x, ETarget->y);
hMon = EMap->GetEncounterCreature(0);
hMon->TurnHostileTo(EActor);
hMon->GainPermStati(167,EItem,2,0,0,$"fountain;effect",15);
APrint(e, "The <EItem> transforms into an <hObj>!", hMon);
EItem->Remove(false);
break;
case 11: case 12: APrint(e, "The <EItem> vanishes!");
do {
x = 1d(EMap->SizeX());
y = 1d(EMap->SizeY());
}
while (!EMap->InBounds(x,y) || EMap->FallAt(x,y) ||
!EMap->SolidAt(x,y));
EItem->Remove(false);
EItem->PlaceAt(EMap,x,y);
EItem->IDPrint(NULL,"An <hObj> appears!", EItem);
break;
case 13: case 14: APrint(e,"Magical energies warp the <EItem>'s structure!");
ThrowDmg(41,8,2d6,"",EActor,EItem);
break;
case 15: case 16: oHP = EItem->GetHP();
ThrowDmg(41,39,4d6,"",EActor,EItem);
if (EItem->isDead())
APrint(e,"The <EItem> rusts away to nothing!");
else if (oHP > EItem->GetHP())
APrint(e,"The <EItem> rusts!");
else
APrint(e,"Nothing happens.");
break;
default:
if (val <= 0)
{
APrint(e,"The <EItem> glows silvery, then explodes!");
ThrowDmg(41,11,(max(1,(1 - val)))d(max(4,EItem->ItemLevel())*2),
XPrint("an exploding <hObj>", EItem), EActor, EActor);
EItem->Remove(true);
break;
}
if (val >= 22)
if (EItem->isType(58) && EItem->QualityOK(13))
{
EItem->AddQuality(13);
APrint(e, "The <EItem> gleams with a razor edge!");
forceDry = true;
break;
}
if (EItem->ItemLevel() > EItem2->ItemLevel() + 3 ||
EItem->GetInherantPlus() >= 5)
{
APrint(e, "The <EItem> gives off a silvery glow, but it quickly
                  fades -- this fountain does not seem to be a powerful enough
                  source of magic to better its enchantment further.");
return 1;
}
APrint(e, "The <EItem> glows with a silvery light!");
EItem->SetInherantPlus(EItem->GetInherantPlus() + 1);
forceDry = true;
break;
}
EItem2->SetCharges(EItem->GetCharges() - 1);
if (EItem2->GetCharges() <= 0 || forceDry)
{
APrint(e,"The fountain dries up!");
EItem2->Remove(true);
}
return 1;
};
Desc: "Deep below the earth, some natural springs absorb the magical
      radiations of the Underdark. Magical fountains are large, immobile
      magical items built to harness the energy of these springs, usually
      for the purposes of healing or item enchantment. Though useful, these
      magics are deeply chaotic and unpredictable, and using them represents
      a great risk for a significant possible reward.";

}
#line "dungeon.irh" 2478
Effect "Fountain Polymorph" : 32
{
On Event (28+500) {
e.rval = theGame->GetMonID(3,EActor->Mod(6),EMap->Depth +
EActor->Mod(6),EMap->Depth);
return 0;
},
52
"The magical waters transfigure your form!";
Flags: 85;
}
#line "dungeon.irh" 2495
Region "Winding Corridor" : 1
{ Desc: "These corridors are about ten feet across and twelve feet tall.
  The craftmanship seems surprisingly sturdy, all things considered.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Flags: 24; RoomTypes: 0;
Door: $"oak door"; Size: 5; }

Region "Rough-Hewn Tunnel" : 1
{ Desc: "This rough tunnel twists and turns awkwardly, looking to have
      been carved out of the stone recently and under makeshift conditions.";
Flags: 15; RoomTypes: 0;
Walls: $0; Floor: $"floor"; Door: $0; Size: 5; }

Region "Vaulted Corridor" : 1
{ Desc: "The corridors here are quite large and extend at least twenty
           feet from floor to ceiling. ";
Walls: $"Dungeon Wall"; Floor: $"Floor;2";
Flags: 15; RoomTypes: 0;
Door: $"oak door";
}

Region "Icy Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      An unnatural cold permates the corridor. The walls are made of ice
      and the floors are coated with frozen water.";
Walls: $"ice Wall"; Floor: $"ice Floor"; RoomTypes: 0;
Door: $"ice door"; Size: 5; }

Region "Misty Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      This corridor is filled with a thick, obscuring fog.";
Walls: $"dungeon Wall"; Floor: $"fog"; RoomTypes: 0;
Door: $"oak door"; Size: 5; }


Region "Flooded Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      This corridor has been flooded with cold water.";
Walls: $"dungeon Wall"; Floor: $"shallow water"; RoomTypes: 0;
Door: $"oak door"; Size: 5; }

Region "Webbed Corridor": 1
{ Desc: "These corridors are about 10 feet across and twelve feet tall. 
      Webs have been spun throughout this corridor.";
Walls: $"dungeon Wall"; Floor: $"old webbing"; RoomTypes: 0;
Door: $"oak door"; Size: 5; }

Region "Twisty Little Passage" : 1
{ Desc: "This awkward, twisting tunnel is about three feet in diameter.
      A human-sized traveller would have to crawl to get through it with
      very limited maneuverability, but it would be just right for a kobold 
      or similar creature.\n
      __This is a Medium-sized corridor. Large and larger creatures cannot
      enter it. Medium-sized creatures find their movement rate halved and 
      lose their Dexterity bonus to defense. Small and smaller creatures
      can move normally and are unimpeded. Medium-sized creatures have a
      1 in 10 chance of injuring themselves for 2d10 blunt damage with
      each movement action they take in this passage while threatened by
      other creatures; a Balance check (DC 15) negates this damage.";
Walls: $"dungeon wall"; Floor: $"floor"; RoomTypes: 0;
Door: $"oak door"; Size: 4;
On Event 1 {
if (EActor->GetAttr(25) >= 4)
if (EActor->isThreatened() && (1d10 == 1))
{
if (EActor->HasAbility(87)) {
if (EActor->SkillCheck(5,15,true,EActor->AbilityLevel(
87), "Stonework Sense")) {
EActor->IPrint("You carefully navigate a treacherous slope.");
return 0;
}
}
else if (EActor->SkillCheck(5,15,true)) {
EActor->IPrint("You carefully navigate a treacherous slope.");
return 0;
}
DPrint(e,"You slip on a treacherous slope, falling hard 
              against the wet stone!", "The <EActor> trips on a treacherous
              slope, striking the wet stone!");
EActor->GainPermStati(15,NULL,7);
EActor->Timeout += 30;
ThrowDmg(41,13,2d10,"a spelunking accident",EActor,EActor);
return 1;
}
return 0;
};
Constants:
* 21 35,
* 23 1,
* 24 4,
* 22 30;
Lists:
* 7 6 7 8;
}
#line "dungeon.irh" 2609
Region "Unworked Stone" : 15
{
}
#line "dungeon.irh" 2632
Region "Bare Cavern" : 4
{ Desc: "This cavern is distinguished only by a thin layer of dust
      on the floor, and the oddly chalky texture of its plain white
      walls.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17;
Lists:
* 7 15;
}

Region "Smooth Enclosure" : 4
{ Desc: "The walls in this chamber are perfectly smooth and unblemished,
      as if carved out by some unearthly magical force.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 1, 8;
}

Region "Inner Keep" : 4
{ Desc: "This strange double room appears to have once been a
    fortification of some sort in ages gone by. You have trouble imagining
    the sort of invading forces that would inspire someone to make a stand
    inside a dungeon. Despite the passage of time, reasonably intelligent
    dungeon dwellers can recognize the strategic importance of such a
    location.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door"; RoomTypes: 10;
Lists:
* 7 5 13,
* 10
$"adventuring party"
$"experienced adventuring party"
$"goblinoid warband";
}

Region "Marble Enclave" : 4
{ Desc: "This chamber has walls carved from fine white marble; while no
      furnishings remain, the walls alone attest to its value. Perhaps it
      once served as the bedchambers of a dwarven lord or drow noble.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 1, 8, 4,
5, 6, 7;
Lists:
* 7 15 7 8 3; }

Region "Limestone Cave" : 4
{ Desc: "This vast cavern, eroded by the natural waterflow, has walls of
      crumbling, porous limestone. The ceiling is caked with stalactites, 
      and an equal number of stalagmites rise up from the floor. The water
      almost seems to glow in the dim illumination.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door"; RoomTypes: 17;
Constants:
* 61 $"shallow water";
Lists:
* 7 2,
* 8 2,
* 6 1 $"rock column",
* 10
50 (-2) $"lone dark-dwelling beast" 80
40 (-2) $"pack encounter" 80
20 (-2) $"tribal warband" 80
(-2) $"oozes" 80
$"band of ixitxachitl"
$"water creatures"
5 (-2) $"uniform classed group" 80
(-2) $"aberration group" 80
;
}

Region "Ancient Tomb" : 4
{ Desc: "This room appears to have been a tomb to a long-dead
      dwarven hero or king. Carved runes cover the walls, and an
      ornate tomb sits in the center of the room. There are
      signs of recent habitation here.";
Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"iron door";
RoomTypes: 8 | 9 | 1 | 10;
Lists:
* 7 8,
* 6 6 $"tomb"
11 $"gravestone"
10 $"pillar",
* 10
10 (-2) $"adventuring party" 63
(-2) $"uniform classed group" 63
$"mixed corporeal undead"
$"negative undead"
$"lone template undead"
5 $"graveborn creatures"
$"band of ghouls"
$"church knights";
}

Region "Graveyard" : 4
{ Desc: "This room's floor is covered with loose, rich soil about
      two feet deep, and headstones are placed over scattered burial
      mounds. There is a faint scent of rot and mildew hanging in the
      air as well.";
Walls: $"Dungeon Wall"; Floor: $"Loose-Packed Earth";
Door: $"iron door"; RoomTypes: 8 | 3 | 10;
Lists:
* 7 8,
* 6 1 $"gravestone",
* 10
10 $"mixed corporeal undead"
$"negative undead"
$"zombie horde"
$"lone template undead"
5 $"graveborn creatures"
$"band of ghouls"
$"church knights";
}

Region "Orderly Graveyard" : 4
{ Desc: "This room's floor is covered with loose, rich soil about
      two feet deep, and headstones are placed in regular rows. 
      There is a faint scent of rot and mildew hanging in the
      air as well.";
Walls: $"Dungeon Wall"; Floor: $"Loose-Packed Earth";
Door: $"iron door"; RoomTypes: 1, 11, 16;
Lists:
* 7 8,
* 6 12 $"gravestone";
* 10
10 $"mixed corporeal undead"
$"negative undead"
$"zombie horde"
$"church knights"
$"lone template undead"
5 $"graveborn creatures"
$"band of ghouls";
}

Region "Orderly Flood" : 4
{
Walls: $"Dungeon Wall"; Floor: $"shallow water";
Door: $"oak door";
Desc: "This chambers has clearly been flooded recently. The water
      depth seems to vary in a predictable pattern, but you cannot imagine
      why anyone would shape a room in this way. Small 'islands' of dry
      land should make it easier for you to cross, if you so desire.";
RoomTypes: 1, 2, 8, 16;
Lists:
* 6 12 $"floor",
* 7 1 9,
* 10
50 (-2) $"lone dark-dwelling beast" 80
40 (-2) $"pack encounter" 80
20 (-2) $"tribal warband" 80
(-2) $"oozes" 80
$"band of ixitxachitl"
$"water creatures"
5 (-2) $"uniform classed group" 80
(-2) $"aberration group" 80
;
}

Region "Island Lake" : 4
{
Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"oak door";
Desc: "This area contains an underground lake complete with its own
    island.";
RoomTypes: 9, 19, 2;
Lists:
* 6 15 $"shallow water"
13 $"floor"
6 $"large iron chest",
* 7 1 9,
* 10
50 (-2) $"lone dark-dwelling beast" 80
40 (-2) $"pack encounter" 80
20 (-2) $"tribal warband" 80
(-2) $"oozes" 80
$"band of ixitxachitl"
$"water creatures"
5 (-2) $"uniform classed group" 80
(-2) $"aberration group" 80
;
}

Region "Cultic Underchamber" : 4
{ Desc: "Torches line every inch of this circular room's walls, but the
      light nonetheless remains shadowy and indistinct. The runes on the
      walls, and the bloodstains on the floor, suggest that this area had
      once been -- or is -- the ceremony chamber of some secretive humanoid
      cult.";
Walls: $"Wall Torch"; Floor: $"Floor";
Lists:
* 6 1 $"bloodstain",
* 10
$"multitude cultists";
Door: $"oak door"; RoomTypes: 8;

}

Region "Abandoned Temple" : 4
{
Desc: "Though this place has not seen regular worship in many decades,
      there are still ritual prayers carved into the walls, and you have a
      sense that it is not entirely devoid of divine power. A crude altar
      stands at the center of the room.";
Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"iron door";
RoomTypes: 8 | 9;
Lists:
* 7 7 7 4 14,
* 6 6 $"altar"
10 $"pillar",
* 10
$"church knights";
}

Region "Uneven Ampitheater" : 4
{ Desc: "This room has a hewn appearance, almost as if it were carved
      from the earth by a massive, jagged plow. Spikes and columns of rock 
      are strewn about in no discernable pattern.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 2, 19;
Lists:
* 6 1 $"bed of spikes"
1 $"rock column",
* 10
(-2) $"lone dark-dwelling beast" 58
$"mind flayer inquisition"
$"aberration group"
;
}

Region "Vast Ampitheater" : 4
{ Desc: "Here the walls curve slightly upward, giving this vast room an
      eerie echo. Perhaps it once served as a clan assembly room or lecture
      hall. Even with a bright light source, the area is large enough
      that the far corners will always remain in shadow.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 2, 19; }

Region "Oddly-formed Hall" : 4
{ Desc: "You've given to wonder if the odd shape of this room is some artifact
      of a long-forgotten purpose, or if it is simple the result of the
      continual cycle of crafting, abandonment and rebuilding that
      characterizes dungeon structures.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 5, 6, 7,
4; }

Region "Fungal Forest" : 4
{ Desc: "Filled with deep purple toadstool 'trees' ranging from twelve to
    fifteen feet high, this chamber is at once beautiful and eerie, peaceful
    and claustrophobic. Even the floor and ceiling are coated with a fine
    layer of luminescent, multicolored moss.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door"; RoomTypes: 17;
Constants:
* 61 $"giant mushroom";
Lists:
* 6 1 $"verdant bloom",
* 7 1 5 3 2 ,
* 8 1 5 3 2 ,
* 10
$"plants"
$"mixed oozes"
$"myconid colony"
$"lone dark-dwelling beast"
$"oozes"
$"fungi"
$"mixed fungi";
Flags: 20; }

Region "Vine Region" : 4
{ Desc: "A large number of sparse, strong vines fall from the ceiling
    here.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 17, 8, 19;
Constants:
* 61 $"hanging vines";
Lists:
* 10
10 (-2) $"pack encounter" 59
2 (-2) $"lone dark-dwelling beast" 59;
}

Region "Enchanted Forest" : 4
{ Desc: "Against all logic, the dungeon here gives way to a richly verdant
      forest, lit by ambient sunlight with no discernable source. This must
      surely be the work of faerie...";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door";
RoomTypes: 17, 8, 19;
Constants:
* 61 $"tree";
Lists:
* 10
(-3) $"gated outsiders" $"dryad" 3 15
$"druid, with animals"
$"homogenous fae group"
$"diverse fae group";
Flags: 20; Depth: 4;
}

Region "Gardened Forest" : 4
{ Desc: "Some powerful force has planted trees here as regularly as the
           hin would plant carrots. Sunlight streams in from no
           discernable source.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"darkwood door";
RoomTypes: 1, 2, 8, 16;
Lists:
* 7 1 5 3 2,
* 8 1 5 3 2,
* 6 16 $"tree",
* 10
10 $"homogenous fae group"
$"diverse fae group"
30 $"sylvan creatures"
$"druid, with animals";
Flags: 20, 25, 26;
}

Region "Flooded Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17, 19;
Constants:
* 61 $"shallow water";
Lists:
* 7 1 9,
* 10
50 (-2) $"lone dark-dwelling beast" 80
40 (-2) $"pack encounter" 80
20 (-2) $"tribal warband" 80
(-2) $"oozes" 80
$"band of ixitxachitl"
$"aboleth, with slaves"
$"water creatures"
5 (-2) $"uniform classed group" 80
(-2) $"aberration group" 80
;
}

Region "Misty Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17, 19;
Desc: "A constant heavy mist hangs in the air here.";
Constants:
* 61 $"fog";
Lists:
* 10
30 (-2) $"lone dark-dwelling beast" 96
60 (-3) $"mass summons" $"vampiric mist" 1 2
10 (-3) $"mass summons" $"vampiric mist" 1 5
(-2) $"pack encounter" 82
(-3) $"tribal warband" $"kyrie" 2 7
(-2) $"adventuring party" $"kyrie"
(-2) $"experienced adventuring party" $"kyrie"
$"diverse fae group"
$"air creatures"
$"zombie horde"
(-2) $"lone dragon" $"white dragon"
(-2) $"mated pair of dragons" $"white dragon"
(-2) $"lone dragon" $"silver dragon"
(-2) $"mated pair of dragons" $"silver dragon"
(-3) $"pack encounter" 96 3 20;
}

Region "Earthen Cavern" : 4
{ Walls: $"solid rock"; Floor: $"loose-packed earth";
Door: $"oak door"; RoomTypes: 17, 19, 18;
Desc: "This portion of the dungeon appears to be unfinished or
    recently-crafted. The floor is made of loose earth that has
    given way to mud in many areas.";
Flags: 23;
Constants:
* 61 $"shallow mud";
Lists:
* 10
(-3) $"tribal warband" $"muckdweller" 1 6
(-3) $"mass summons" $"small mud elemental" 1 6
(-3) $"gated outsiders" $"ooze mephit" 3 7
(-2) $"adventuring party" 63
$"fungi"
$"oozes"
$"earth creatures";
}

Region "Acid Fog Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 17, 19;
Desc: "A constant acidic mist hangs in the air here.";
Constants:
* 61 $"acid fog";
Lists:
* 10
30 (-2) $"pack encounter" 97
$"air creatures"
$"regiment of devils"
$"horde of demons"
(-3) $"mass summons" $"vampiric mist" 1 5
(-3) $"oozes" $"acid blob" 1 4
(-3) $"fungi" $"caustic fungus" 7 12
(-3) $"lone dragon" $"black dragon" 5 30
(-3) $"mated pair of dragons" $"black dragon" 9 30
(-3) $"gated outsiders" $"vaporighu" 9 30
15 (-3) $"gated outsiders" $"dust devil;monster" 2 30
(-3) $"gated outsiders" $"storm elemental" 8 30
(-3) $"gated outsiders" $"fog elemental" 6 30,
* 6 1 $"floor",
* 7 14 6;
}

Region "Place of Sanctuary" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
RoomTypes: 8, 9, 3, 1, 10;
Flags: 15;
Desc: "This looks like it might once have been some kind of temple
      of light or other holy place, and you can't help but feel that
      some of the sacredness remains. Mosaics cover the walls here, and
      you feel an almost palpable sense of safety and restoration in
      the air. You have the sense that you would be protected if you
			rested here, preserved by the aegis of Essiah.";
On Event (45+500) {
int32 c;

c = EActor->GetEffStatiMag(189,$"Place of Sanctuary",EMap->Depth);
if (c >= 2 + max(0,EActor->Mod(6)) +
(EActor->getGodLevel($"Essiah") / 2)) {
EActor->IPrint("You fear the ancient magic that once sanctified this
          place has been all but depleted.");
if (EActor->yn("Rest here anyway?"))
return 0;
else
return 2;
}
e.EParam |= 0x0001 | 0x0002;

return 0;
},
(45+1000) {
int32 c;

if (EActor->HasEffStati(189,$"Place of Sanctuary",EMap->Depth)) {
EActor->SetEffStatiMag(189,$"Place of Sanctuary",
EActor->GetEffStatiMag(189,$"Place of Sanctuary",EMap->Depth)
+ 1, EMap->Depth);
}
else {
EActor->GainPermStati(189,((hObj)0),7,EMap->Depth,1,
$"Place of Sanctuary");
}
c = EActor->GetEffStatiMag(189,$"Place of Sanctuary",EMap->Depth);
if (c >= 2 + max(0,EActor->Mod(6)) +
(EActor->getGodLevel($"Essiah") / 2))
EActor->IPrint("You fear the ancient magic that once sanctified this
          place has been all but depleted.");

return 0;
};
Lists:
* 7 3;
Grid:{:
      %%%%%%%%%
      %%.....%%
      %.......%
      %.......%
      %.......%
      %.......%
      %.......%
      %%.....%%
      %%%%%%%%%
    :}
 ;
}

Region "Ice Cavern" : 4
{ Desc: "An abrupt, almost certainly supernatural drop in temperature greets
      you as you step into this cavern. Much of the area is coated in a thick
      layer of bright, clear ice, and snow covers the floor like a fine white
      powder.";
Walls: $"Ice Wall"; Floor: $"Floor";
Door: $"ice door";
Flags: 23;
Constants:
* 61 $"Ice Floor";
Lists:
* 8 1 11 7 3,
* 10
5 (-2) $"lone dragon" $"white dragon"
(-2) $"mated pair of dragons" $"white dragon"
(-2) $"lone dragon" $"silver dragon"
(-2) $"mated pair of dragons" $"silver dragon"
10 (-3) $"gated outsiders" $"snow angel" 1 5
40 (-2) $"lone dark-dwelling beast" 96
(-3) $"gated outsiders" $"frost slug" 1 5
(-3) $"pack encounter" 96 3 20;
RoomTypes: 1, 17; }

Region "Arachnid Lair" : 4
{ Desc: "This entire area is coated with overlapping strands of sticky
  webbing. Some of the strands are thin and brittle, others are thicker and
  glistening: it would appears that this place has been used by spiders for
  quite some time. Desiccated corpses hang wrapped in silvery threads.";
Walls: $"Dungeon Wall"; Floor: $"old webbing";
Depth: 3;
Door: $"oak door";
Lists:
* 10
30 $"spider encounter"
10 (-2) $"adventurer" $"aranea",
* 6 1 $"floor"
1 $"floor"
1 $"floor"
1 $"corpse";
RoomTypes: 11;
}

Region "Dragon Cave" : 4
{ Desc: "Piles of treasure litter the floor here, and a unique stench
      combining sulphur, rot, ozone and magic lingers in the air. The
      walls are carved with ancient glyphs warning away intruders on pain
      of death.";
Walls: $"Dungeon Wall"; Floor: $"floor"; Depth: 6;
RoomTypes: 17, 8;
Lists:
* 7 4,
* 10
$"lone dragon"
$"mated pair of dragons";
On Event 150 {
int32 i,j; hObj it;
j = 30 + random(20);
for (i=0;i!=30;i++)
if (EMap->FindOpenAreas(e.cPanel)) {
it = CreateItem($"gold piece");
it->SetQuantity(100+random(101));
it->PlaceOpen(EMap);
}
return 0;
};
}

Region "Lesser Vault;1" : 4
{ Desc: "The air is cool and still here, and the hair on the back of your
      neck bristles. This chamber's inner doors are carefully sealed and 
      covered with strange runes, among which you can only make out 'timelessness',
      'prison'... and 'death'.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3;
Flags: 2;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %.....................%
      %.#########+#########.%
      %.#.1.....1....1.+..#.%
      %.#....1.....1...#..#.%
      %.################1.#.%
      %.#..#3.#.2.....2#..#.%
      %.#..#..+....2...#..#.%
      %.#.3#..#######+##.1#.%
      %.#..#.3##.G.##..#..#.%
      %.#..+..#.....#..#..#.%
      %.#..#..#G.G.G#2.#1.#.%
      %.#..#.3#.5.5.#..#..#.%
      %.#.3#..##.G.##.2#..#.%
      %.#..######+###..#.1#.%
      %.#..+..4.....#.2#..#.%
      %.#..#.4....4.#..#..#.%
      %.#3.##########+##+##.%
      %.#..#.....1.....1..#.%
      %.#..#........1.....#.%
      %.###################.%
      %.....................%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Parthenion" : 4
{
Desc: "This room is carved with glyphs of sanctuary and faith.
      Religious mosaics depicting all the gods of the Theryan pantheon
      cover the walls, and the sides of the room are filled with alcoves
      containing altars to all the socially acceptable religions. The
      High Altar of Immotian stands before sacred fire-braziers at the
      center of the room. The air is heavy with incense, and there is a 
      strong feeling that this place of faith is shared by many diverse
      creatures.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Flags: 15;
Lists:
* 7 15;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%%%%%
      %.........................%
      %.#######################.%
      %.########.N...O.########.%
      %.######.....M.....######.%
      %.####...............####.%
      %.#H.+...............+.L#.%
      %.####.&&&&&&&&&&&&&.####.%
      %.####...............####.%
      %.#G.+.&&&&&&&&&&&&&.+.K#.%
      %.####...............####.%
      %.####.&&&&&&&&&&&&&.####.%
      %.#F.+...............+.J#.%
      %.####.&&&&&&&&&&&&&.####.%
      %.####...............####.%
      %.#E.+...............+.I#.%
      %.#####+##+##.##+##+#####.%
      %.#####.##.##.##.##.#####.%
      %.#####C##D##.##A##B#####.%
      %.###########+###########.%
      %.........................%
      %%%%%%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
Tiles:
'A': $"bloodstain" with $"altar" of $"asherath",
'B': $"floor" with $"altar" of $"hesani",
'C': $"floor" with $"altar" of $"mara",
'D': $"bloodstain" with $"altar" of $"ekliazeh",
'E': $"bloodstain" with $"altar" of $"essiah",
'F': $"bloodstain" with $"altar" of $"maeve",
'G': $"bloodstain" with $"altar" of $"kysul",
'H': $"bloodstain" with $"altar" of $"xel",
'I': $"bloodstain" with $"altar" of $"zurvash",
'J': $"bloodstain" with $"altar" of $"aiswin",
'K': $"bloodstain" with $"altar" of $"sabine",
'L': $"bloodstain" with $"altar" of $"semirath",
'M': $"floor" with $"altar" of $"immotian",
'N': $"floor" with $"altar" of $"xavias",
'O': $"bloodstain" with $"altar" of $"erich",
'&': $"floor" with $"pews";
}

Region "Lesser Vault;2" : 4
{ Desc: "The air is cool and still here, and the hair on the back of your
      neck bristles. This chamber's inner doors are carefully sealed and 
      covered with strange runes, among which you can only make out 'timelessness',
      'prison'... and 'death'.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3;
Flags: 2;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %.....................%
      %..########+########..%
      %.###..1.1...1.1..###.%
      %.####...........####.%
      %.#.###..2.2.2..###.#.%
      %.#..###.......###..#.%
      %.#1..###.3.3.###..1#.%
      %.#....###...###....#.%
      %.#1.2..###4###..2.1#.%
      %.#....3.##G##.3....#.%
      %.+..2...4GGG4...2..+.%
      %.#....3.##G##.3....#.%
      %.#1.2..###4###..2.1#.%
      %.#....###...###....#.%
      %.#1..###.3.3.###..1#.%
      %.#..###.......###..#.%
      %.#.###..2.2.2..###.#.%
      %.####...........####.%
      %.###..1.1...1.1..###.%
      %..########+########..%
      %.....................%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Unholy Sepulchre" : 4
{ Desc:
"The air is cool and still here, and the hair on the back of your neck
  bristles. Beyond that, however, a stench of death permeates the area. 
  It would appear that this room once served as a temple or tomb of some
  sort. Something about this place makes you ... afraid.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3,
* 10
$"lone vampire"
$"lone template undead";
Flags: 2;
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %.....................%
      %.###################.%
      %.#0...............0#.%
      %.#.0....##.##....0.#.%
      %.#..0..##0.0##..0..#.%
      %.#...0..#0.0#..0...#.%
      %.#....0.##.##.0....#.%
      %.#...0.0.#.#.0.0...#.%
      %.#.#0...0#.#0...0#.#.%
      %.#.#######.#######.#.%
      %.#.#0.G.0#.#0.G.0#.#.%
      %.#...0.0.#.#.0.0...#.%
      %.#....3..#.#..3....#.%
      %.#.......#.#.......#.%
      %.#.......#.#.......#.%
      %.#...3...#.#...3...#.%
      %.#..0.0..#.#..0.0..#.%
      %.#.0...0.#.#.0...0.#.%
      %.#0..G..0#.#0..G..0#.%
      %.#########+#########.%
      %.....................%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Hellish Rift" : 4
{ Desc:
"The air here is warm and sulphuric, and the hair on the back of your
  neck bristles. Something about this place seems evil beyond the 
  mundane... almost like something from another realm.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"vault door"; RoomTypes: 20;
Lists:
* 7 3,
* 10
$"regiment of devils";

Tiles:
'd': $"loose-packed earth",
'S': $"smooth igneous rock",
'B': $"brimstone",
'P': $"magma" with $"infernal portal";
Flags: 2, 15;
Grid:{:
      %%%%%%%%%%%%%%%%%
      %...............%
      %..d...SS.....d.%
      %.....BBBBBBB...%
      %.d..dBBBBBBB...%
      %.....BBBSBBBBB.%
      %..S..SBBBBBBBB.%
      %.SBBBBBBBBBBBBS%
      %..BBBBBBBSSBBBS%
      %..BBPBBBB..BBB.%
      %..BBBBBS..BBBB.%
      %.SBBBBBS.SBBB..%
      %..S.......BBBB.%
      %.....d.S.S.BBB.%
      %.d.d....BBBBBB.%
      %......BBBBBBBB.%
      %..d.dBBBBSBBBB.%
      %....BBBBBBBBBB.%
      %.d...BBBBBBBBB.%
      %...........BBB.%
      %%%%%%%%%%%%%%%%%
      :}
 ;
}

Region "Maze" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 23;
Depth: 4;
Desc: "The passages twist and turn on themselves here,
      forming an elaborate maze.";
Lists:
* 10
$"group of minotaurs"
$"adventuring party"
$"experienced adventuring party"
$"uniform classed group";
}

Region "Surreal Maze" : 4
{
Walls: $"Floor"; Floor: $"solid rock";
Door: $"oak door"; RoomTypes: 23;
Depth: 3; Flags: 23;
Desc: "The passages twist and turn on themselves here,
      forming an elaborate maze. There's something surreal and strangely
      comforting about this particular maze, but you cannot quite put your
      finger on it.";
Lists:
* 10
$"group of minotaurs"
$"adventuring party"
$"experienced adventuring party"
$"uniform classed group";
}

Region "Hedge Maze" : 4
{
Walls: $"giant mushroom"; Floor: $"Floor";
Door: $"darkwood door"; RoomTypes: 23;
Lists:
* 8 1 5 3 2;
Flags: 20, 23;
Desc: "The mushrooms in this area have been groomed and crafted into
      well-kept passageways.";
}

Region "Underground Farm" : 4
{
Walls: $"Floor"; Floor: $"shallow water";
Door: $"darkwood door"; RoomTypes: 23;
Lists:
* 7 1 11 2 10 6 14,
* 6 1 $"giant mushroom",
* 10
$"myconid colony"
$"plants"
$"druid, with plants";
Flags: 20, 23;
Desc: "This area appears to have been designed to care for undergroud
      plants. Irrigation waterways swirl through the area, conveyed by some
      unseen force. Magical torches have been placed on pillars at irregular
      intervals to provide light.";
}

Region "Kobold Warren" : 4
{ Floor: $"Floor"; Walls: $"limestone";
Door: $"oak door"; RoomTypes: 18;
Flags: 23; Size: 4;
Desc: "A cramped mess of tiny winding passages carved clean out of
      rock and turning in every imaginable direction. The surfaces are
      littered with sharp edges and tiny claw-marks, and you think that
      you can hear yelping nearby.";
Lists:
* 10
(-2) $"goblinoid warband" 18;
On Event 150 {
hObj tr; int32 i,j; rID xID;
j = 2d10;
for(i=0;i<j;i++) {
xID = theGame->GetEffectID(1,0,EMap->Depth+3,36);
if (xID) {
if (EMap->FindOpenAreas(e.cPanel)) {
tr = CreateTrap($"trap", xID);
if (tr != ((hObj)0))
tr->PlaceOpen(EMap);
}
}
}
};
}

Region "Twisting Chasm" : 4
{ Walls: $"Floor"; Floor: $"chasm";
Door: $"oak door"; RoomTypes: 18; Depth: 2;
Desc: "This otherwise-normal area is lacking huge chunks of floor,
      as if the supports had been scooped out by a giant hand or
      cataclysmic spells.";
Flags: 23;
Lists:
* 10
$"air creatures"
$"flock of birds",
* 6 1 $"floor";
}

Region "Vermin Burrow" : 4
{ Floor: $"Floor"; Walls: $"limestone";
Door: $"oak door"; RoomTypes: 18;
Flags: 23;
Desc: "This roughly-hewn area appears to be some sort of animal burrow
    that has been expanded over time by its residents.";
Lists:
* 10
$"homogenous vermin"
$"mixed vermin"
;
}

Region "Magma Vein" : 4
{ Floor: $"brimstone"; Walls: $"solid igneous rock";
Door: $"oak door"; RoomTypes: 18;
Depth: 2;
Flags: 23;
Desc: "This collection of molten, narrow tunnels seems to lead into the
    very center of the earth.";
Lists:
* 6 1 $"smooth igneous rock",
* 10
$"fire creatures"; }

Region "Fungi Garden" : 4
{ Desc: "This room is exceedingly humid, and carries with it an almost
      overpoweringly rancid smell. The walls, floor and ceiling are covered 
      with mosses, toadstools, molds and every other type of fungi you can
      imagine. Most -- but likely not all -- are harmless.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; Depth: 2;
Flags: 23;
RoomTypes: 6, 18, 21;
Constants:
* 61 $"stinking cloud;terrain";
Lists:
* 10
$"plants"
$"mixed oozes"
$"myconid colony"
$"lone dark-dwelling beast"
$"oozes"
$"fungi"
$"mixed fungi",
* 6 1 $"giant mushroom",
* 7 1 5 3 2;
}

Region "Slime Chamber" : 4
{
Walls: $"Dungeon Wall"; Floor: $"pool of grease";
Door: $"oak door"; Depth: 2;
RoomTypes: 9, 18, 8;
Desc: "The floor of this room is drenched in a few inches of a slimy,
    greasy substance. Unhealthy fluids seep from the walls.";
Flags: 23;
Constants:
* 61 $"pool of slime";
Lists:
* 6 1 $"floor",
* 7 14 6,
* 10
$"oozes"
$"mixed oozes";
}


Region "Statue Garden" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
RoomTypes: 1 , 8 , 9, 16;
Lists:
* 6 4 $"statue";
Desc: "This room is filled with statues of every description,
      scattered in a regular manner about its area."; }

Region "Orc Barracks" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor"; Depth: 2;
Door: $"oak door"; RoomTypes: 1, 14, 10;
Desc: "The bones, trash and fetid stench mark this area as the lair
      of a party of orcs.";
Lists:
* 10
(-2) $"goblinoid warband" 22,
* 7 6 14,
* 6 1 $"pile of trash";
}

Region "Troll Cave" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor"; Depth: 6;
Door: $"oak door"; RoomTypes: 17;
Desc: "A sweet, rotting smell permeates the air here, and the walls
      are coated with mildew and dirt. Tiny animal skeletons and piles
      of chewed bones litter the room, and thus you suspect that there 
      may be trolls nearby.";
Lists:
* 10
(-2) $"pack encounter" 54,
* 7 6 14,
* 6 1 $"pile of bones"; }


Region "Illithid Cenaculeum" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor"; Depth: 6;
Door: $"iron door"; RoomTypes: 17;
Desc: "A sweet, cloying smell permeates the air here, and the walls
      are coated with strange secretions. You sense a sort of throbbing
      hum in the area, but it seems to be in your mind rather than your
      ears.";
Constants:
* 61 $"pool of slime";
Lists:
* 10
$"mind flayer inquisition",
* 7 5 13;
Flags: 20;
}

Region "Naga Cavern" : 4
{ Walls: $"Dungeon Wall"; Floor: $"shallow water"; Depth: 10;
Door: $"iron door"; RoomTypes: 17, 19;
Constants:
* 61 $"shallow water";
Lists:
* 7 1 9,
* 10
$"nest of nagas";
}

Region "Jagged Chasm" : 4
{ Walls: $"Dungeon Wall"; Floor: $"floor";
Door: $"oak door"; RoomTypes: 1, 8, 19;
Desc: "This otherwise-normal area is lacking huge chunks of floor,
      as if the supports had been scooped out by a giant hand or
      cataclysmic spells.";
Constants:
* 61 $"chasm";
Lists:
* 10
$"air creatures"
$"flock of birds"
(-3) $"tribal warband" $"kyrie" 3 20,
* 6 1 $"floor";
}

Region "Floating Rock;1" : 4
{
Desc: "The center of this area contains a floating section of rocky
    floor that is supported by no visible means. Around it lies a chasm.";
Walls: $"Dungeon Wall"; Floor: $"obsidian"; Depth: 3;
Door: $"oak door"; RoomTypes: 20;
Tiles:
'X': $"chasm";
Grid:{:
      %%%%%%%%%%%%
      %..........%
      %..XXXXXX..%
      %.XXXXXXXX.%
      %.XXX1.XXX.%
      %.XX.G.1XX.%
      %.XX1.G.XX.%
      %.XXX.1XXX.%
      %.XXXXXXXX.%
      %..XXXXXX..%
      %..........%
      %%%%%%%%%%%%
      :}
 ;
}



Region "Warded Laboratory" : 4
{
Walls: $"warded wall"; Floor: $"Floor";
Door: $"warded oak door";
Desc: "Tables fill this room, covered with alchemical apparatus and
      generally inscrutable devices. More importantly, however, the walls
      and doors are deeply inscribed with mystic runes that keep out (or
      perhaps keep in) incorporeal creatures. The laboratory shows signs
      of use and may well have been used to summon something
      dangerous recently.";
Flags: 23;
RoomTypes: 3, 1, 8;
Lists:
* 7 5 13,
* 6 6 $"summoning circle"
11 $"summoning circle";
}

Region "Ritual Chamber" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "Intricate designs are carved on the walls here, and the faint
      remains of summoning and warding circles can be made out carved into
      the floor. Once, this place must have been a great mage's ritual
      area, and even now you can feel a certain unnatural tension in the
      air.";
RoomTypes: 8, 9, 1, 6;
Lists:
* 7 5 13,
* 6 6 $"summoning circle";
}


Region "Armoury" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
Desc: "Rotting stands lined with rust flakes are all that is left
      of the ancient dwarven armoury that once stood here, though a
      few of the remaining weapons seem to be at least remotely usable.";
RoomTypes: 1, 5, 6, 9;
Lists: * 6 10 $"pillar"
6 $"forge";
On Event 150 {
hObj it; int32 i,j; rID xID;
j = 8 + random(8);
for(i=0;i!=j;i++) {
if (!random(6))
xID = theGame->GetItemID(1,0,0,51);
else if (!random(4))
xID = theGame->GetItemID(1,0,0,21);
else
xID = theGame->GetItemID(1,0,0,58);
if (xID)
if (EMap->FindOpenAreas(e.cPanel)) {
it = CreateItem(xID);
if (it)
it->PlaceOpen(EMap);
}
}
it = CreateFeature($"forge");
it->PlaceOpen(EMap);
return 0;
};
}

Region "Abatoir" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Floor: $"bloodstain";
Desc: "There can be no doubt as to the purpose of this room -- the
      floor is caked with centuries of dried blood. You vaguely wonder
      who, or what, was driven to use this room as a killing ground for
      so many over such a long period.";
RoomTypes: 1, 8;
Lists:
* 6 1 $"corpse";
}

Region "Ancient Barracks" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
Desc: "These tiny, spartan chambers were once likely home to dwarven
      soldiers, or warriors or some other underground race. Regardless,
      the original inhabitants are millenia dead, but the vague imprint of
      noble crests on the limestone walls and tight, functional corridors
      still speak strongly of nobility, strength, militarism and an
      uncompromising spirit.";
Lists:
* 7 2;
RoomTypes: 14;
}

Region "Magic Academy": 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
Desc: "Here, in ages past, many young and idealistic students of the
      underdark races must have come to study the arts of magic at the
      hands of their superiors. You wonder vaguely whether their life
      was harsh or pleasant, rewarding or slavish, but so many centuries
      after their passing it hardly seems relevant.";
Lists:
* 7 5 13;
RoomTypes: 14;
}

Region "Community Offices" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "The desks, chairs and other furniture has long since rotted
      away to dust, but the signs and ideograms carved on the marble walls
      remain to indicate that this area was once some kind of civil
      bureaucracy or trade guild from a forgotten civilization.";
RoomTypes: 14;
Lists:
* 7 15 7 8 3;
}

Region "Flooded Encampment" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "These small chambers were presumably once the living spaces for
      an underground enclave. Seepage from natural water flows has made the
      area largely uninhabitable. If the original occupants were present at
      the time, they would have been witnesses to a slowly mounting
      cataclysm as their homes were slowly filled with water.";
RoomTypes: 14;
Constants:
* 61 $"shallow water";
Lists:
* 10
50 (-2) $"tribal warband" 80
50 (-2) $"lone dark-dwelling beast" 80
40 (-2) $"pack encounter" 80
20 (-2) $"oozes" 80
$"band of ixitxachitl"
$"water creatures"
5 (-2) $"uniform classed group" 80
(-2) $"aberration group" 80
,
* 6 1 $"shallow water",
* 7 1 9; }

Region "Ice Matrix" : 4
{
Walls: $"Ice Wall"; Floor: $"Ice Floor";
Door: $"ice door";
Flags: 23;
Desc: "An abrupt, almost certainly supernatural drop in temperature
  greets you as you step into this cavern. The entire area is crafted from a
  thick layer of bright, clear ice, and snow covers the floor like a fine
  white powder.";
RoomTypes: 14, 23, 18;
Lists:
* 10
5 (-2) $"lone dragon" $"white dragon"
(-2) $"mated pair of dragons" $"white dragon"
40 (-2) $"lone dark-dwelling beast" 96
(-3) $"pack encounter" $"wolf" 1 5
(-3) $"goblinoid warband" $"adlet" 1 5
(-3) $"gated outsiders" $"bonebat" 1 8
(-3) $"gated outsiders" $"frost slug" 1 5

(-3) $"generic summons" $"vampiric mist" 1 5
5 (-3) $"tribal warband" $"frost giant" 10 25
(-3) $"band of giants" $"frost giant" 10 25

20 (-3) $"pack encounter" 96 2 20
$"adventurer"
$"adventuring party"
$"experienced adventuring party";
}

Region "Icy Prison" : 4
{
Walls: $"ice Wall"; Floor: $"floor";
Door: $"oak door"; Depth: 3;
Flags: 23, 27;
Desc: "An abrupt, clearly supernatural drop in temperature greets you
    as you step into this cavern. The center of the area is dominated by
    a translucent curtain of icy, destructive magical power.";
RoomTypes: 9, 19, 2;
Lists:
* 6 15 $"curtain of frost"
14 $"floor"
6 $"large iron chest",
* 10
(-2) $"lone dragon" $"red dragon"
$"fire creatures";
}

Region "Fiery Prison" : 4
{
Walls: $"solid igneous rock"; Floor: $"floor";
Door: $"oak door"; Depth: 3;
Flags: 23, 27;
Desc: "An abrupt, clearly supernatural raise in temperature greets you
    as you step into this cavern. The center of the area is dominated by
    a translucent curtain of destructive magical fire.";
RoomTypes: 9, 19, 2;
Lists:
* 6 15 $"curtain of flame"
14 $"floor"
6 $"large iron chest",
* 10
(-2) $"lone dragon" $"white dragon"
$"water creatures";
}

Region "Ancient Library" : 4
{
Walls: $"dungeon wall"; Floor: $"floor"; Door: $"oak door";
Flags: 23, 25, 26;
RoomTypes: 2;
Lists:
* 6 16 $"bookshelf";
On Event 150 {
hObj it; int32 i,j; rID xID;
j = 1d8+theGame->GetPlayer(0)->Mod(6);
for(i=0;i<j;i++) {
xID = theGame->GetItemID(1,0,EMap->Depth+5,22);
if (xID)
if (EMap->FindOpenAreas(e.cPanel)) {
it = CreateItem(xID);
if (it)
it->PlaceOpen(EMap);
}
}
j = 1d2;
if (1d2 == 1)
for (i=0;i!=j;i++)
{
it = GenDungeonItem(0,$"tome",EMap->Depth+5,
theGame->GetPlayer(0)->GetAttr(6));
if (it != NULL)
if (EMap->FindOpenAreas(e.cPanel))
it->PlaceOpen(EMap);
}
return 0;
};
}

Region "Meeting Hall" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "The upraised speaking platform and the tiny indentations in
      the floor where rows of chairs would once have stood mark this as
      a community meeting hall. If you close your eyes, you can imagine
      the room crammed with dwarves, drow, illithids or members of some
      other underground race, eager to socialize and receive pronouncements
      from leaders spiritual or secular. But now, it is simply a vast,
      shadowed and empty chamber.";
RoomTypes: 2, 5, 11;
}

Region "Feast Hall" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door";
Desc: "The long stone table, and the noble shields carved into the
      walls, suggest that this room once served as a royal feast hall
      where nobles and kings would dine on the richest Underdark delicacies.
      Now, it is starkly empty, and the air is cool and still.";
RoomTypes: 2, 3;
Lists:
* 6 11 $"pillar";
}

Region "Underking's Court" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
RoomTypes: 2, 11;
Lists:
* 6 11 $"pillar";
}

Region "Hall of Knights" : 4
{
Desc: "The walls here are lined with ancient, rusted suits of field 
      plate, and the pillars are inscribed in forgotten languages with
      the names of knights fallen in battle ages before you were even
      born.";
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"iron door";
RoomTypes: 11;
Lists:
* 6 10 $"statue";

}


Region "Surreal Chamber" : 4
{
Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 8, 11, 6;
Desc: "You're not quite sure what it is, but there's something just
      wrong about this room. It has something to do with angles, you
      think, and the proportions of the walls, but you can't place it
      exactly, and trying to figure it out is giving you a headache. You
      feel the strange urge to pray...";
Lists:
* 10
$"aberration group";
}

Region "Elemental Chamber" : 4
{
Walls: $"dungeon wall"; Floor: $"floor";
Door: $"oak door";
RoomTypes: 2, 19, 5, 6, 7;
Desc: "This mysterious room appears to pay homage to the four
    major elements.";
Lists:
* 7 4 1 15 6,
* 10
$"earth creatures"
$"air creatures"
$"fire creatures"
$"water creatures";
On Event 150 {
int32 a1, a2, a3, a4;
int32 myrand;
a1 = 1;
a2 = 1;
a3 = 1;
a4 = 1;
for (a1=1; (a1 || a2 || a3 || a4) ; a1 = a1) {
myrand = 1d4;
if (myrand == 1 && a1) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"shallow water");
a1 = 0;
} else if (myrand == 2 && a2) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"brimstone");
a2 = 0;
} else if (myrand == 3 && a3) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"fog");
a3 = 0;
} else if (myrand == 4 && a4) {
EMap->WriteBlobs(e.cPanel,$"elemental chamber",$"loose-packed earth");
a4 = 0;
}
}
return 0;
};
}

Region "Brimstone Chamber" : 4
{
Walls: $"solid igneous rock"; Floor: $"Floor"; Depth: 2;
Door: $"oak door"; RoomTypes: 8, 11, 6;
Desc: "The strangely-hot air in this room is filled with a stench of
    sulphur. Patches of the ground glow with a faint incandescence and
    the stone crackles with heat.";
Flags: 23;
Constants:
* 61 $"brimstone";
Lists:
* 6 1 $"smooth igneous rock",
* 10
30 $"fire creatures"
5 (-2) $"lone dragon" $"red dragon";
}

Region "Entry Chamber;hells" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 20;
Desc: "A sense of dread fills you as you realize that you are no
    longer on the Prime Material plane.";
Flags: 15;
Tiles:
'.': $"bloodstain",
'1': $"bloodstain" with $"corpse" of $"human",
'>': $"floor" with $"material portal" [0x08];
Grid:{:
      %%%%%%%
      %11111%
      %11111%
      %11>11%
      %11111%
      %11111%
      %%%%%%%
      :}
 ;
}

Region "Entry Chamber" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 20;
Desc: "Your first sight of the goblin caves is not a heartening one:
      this room is a mass grave, the floor splattered with blood and the
      corpses of your fellow adventurers laying strewn around the stairs.
      There is an old, thick pillar in each corner, covered with the
      twisting, indecipherable goblin script; while you can't make out the
      message, you can discern the runes for 'light' and 'surface'.";
Flags: 15;
Tiles:
'o': $"floor" with $"pillar",
'b': $"bloodstain",
'T': $"floor" with $"tree",
'p': $"floor" with $"potion" of $"healing",
'd': $"floor" with $"potion" of $"dimension door",
'i': $"floor" with $"potion" of $"see invisibility;potion",
'1': $"bloodstain" with $"corpse" of $"human",
'2': $"bloodstain" with $"corpse" of $"elf",
'3': $"bloodstain" with $"corpse" of $"lizardman",
'4': $"bloodstain" with $"corpse" of $"dwarf",
'5': $"bloodstain" with $"corpse" of $"gnome",
'6': $"bloodstain" with $"corpse" of $"cave orc",
'7': $"bloodstain" with $"corpse" of $"kobold",

'w': $"floor" with $"wand" of $"identify;wand",
'P': $"floor" with $"infernal portal",
'>': $"floor" with $"cave enterance" [0x08];
Grid:{:
      %%%%%%%%%%%%%%%%%%%%%%%
      %pb........d..2......p%
      %.o......1..b....o..o.%
      %.....................%
      %....6...b....b...3...%
      %..b................o.%
      %...5................i%
      %.......b..4.b........%
      %..3..4...5...........%
      %.........6...7.b..7..%
      %..2...1..............%
      %p.........>.........d%
      %............3...4....%
      %...b...........b.....%
      %.........2...........%
      %.................b..b%
      %.............b.b1.b.b%
      %.o..b....b...b..b.bbb%
      %............b.b...b5b%
      %.............bbb.b.bb%
      %.o..o7....bb.b6bb.bob%
      %d.........pbbbb..bb.p%
      %%%%%%%%%%%%%%%%%%%%%%%
      :}
 ;
On Event 45 {
if (e.EParam & 0x0001)
return 0;
if (EActor->TotalLevel() >= 5 ||
EActor->getMaxDepth($"The Goblin Caves") >= 4)
return 0;
EActor->IPrint("If you want to rest, you can just climb back out
        of the dungeon entirely and rest in perfect safety in the fields
        above.");
return 2;
};
}

Region "The Goblin Encampment" : 4
{
Desc: "The air is filled with the scent of decaying trash and bodies and
   you can tell that the Goblin Encampment proper begins here. Under
   Murgash the goblins have fenced off their area from the rest of the
   dungeon, probably to keep out wandering menaces like yourself. The gates
   are unguarded, however, and a winding path paved with purple stones lies
   deserted. The goblins themselves live huddled in shanties and shacks. A
   forge and a slaughterhouse appear to be the only well-constructed
   outlying buildings. The camp itself is dominated by a squat inner keep
   surrounded by a moat. The keep itself appears to have been fashioned
   from an adamant alloy and looks quite tactically sound compared to the
   rest of the camp.";

Floor: $"floor"; Walls: $"solid rock"; Door: $"iron door";
Flags: 15; RoomTypes: 20;
Tiles:

'=': $"steel fence",
'o': $"floor" with $"pillar" as red 15,


',': $"floor" as purple 249,
#line "dungeon.irh" 4157
'$': $"guardian runes" with
$"statue" of $"Murgash, the Goblin King",


'*': $"building wall" as brown 219,
'-': $"building wall" as brown 205,
'|': $"building wall" as brown 186,
'F': $"floor" with $"forge",
'b': $"bloodstain",
'm': $"bloodstain" with $"strip of cured meat",
'g': $"floor" with $"goblin family",
'_': $"floor" with $"bed",


'1': $"floor" with $"goblin",
'2': $"floor" with $"hobgoblin",
'3': $"floor" with $"ogre",
'4': $"floor" with $"troll",
'5': $"floor" with $"hill giant",



'&': $"pile of trash",
'7': $"pile of bones",


'D': $"bloodstain" with $"corpse" of $"kobold;temp",
'H': $"bloodstain" with $"corpse" of $"human;temp",
'W': $"bloodstain" with $"corpse" of $"dwarf;temp",
'O': $"bloodstain" with $"corpse" of $"orc;temp",
'N': $"bloodstain" with $"corpse" of $"gnome;temp",
'E': $"bloodstain" with $"corpse" of $"elf;temp",


'X': $"adamant wall",

'~': $"deep water",
'`': $"deep water" with $"tojanda",
'!': $"deep water" with $"elder tojanda",
'B': $"drawbridge",
'C': $"floor" with $"caryatid column",


';': $"guardian runes",
'@': $"guardian runes;2",
'^': $"guardian runes" as azure 250,


'S': $"guardian runes"
with $"goblin vizier" [0x40], 'I': $"guardian runes"
with $"mind flayer mage" [0x40],

'T': $"floor" ,


'M': $"iron throne" with $"Murgash, the Goblin King"
[0x40];
Grid:{:
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%..........%%%%%%%%%.................%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%..............%%%%%.......................%%%%%%%%%%%%%%%%%%%%%%.%
%%.....................................................%%%%%%%%%%%%..%
%%%..============================o,o============================.%..%%
%%%..=............................,............................=...%%%
%%%..=.*--*-*--*..*--*-*--*.......,...*---*--*-*--*..*--*-*--*.=....%%
%%%..=.|g.+.+.g|..|1.+.+.g|.11111.,.1.|&.1|g.+1+.g|..|g.+1+.g|.=....%%
%%%..=.|..|.|&.|..|..|.|..|1111...,.1.|111|1.|1|.&|..|..|1|..|.=....%%
%%%..=.*--*.*--*..*--*.*--*---*...,.1.|..F*--*.*--*..*--*.*--*.=....%%
%%%..=.|g.+.+.1|..|g.+.+.g|HOH|.5.,...|111|g.+.+.g|..|1.+.+.g|.=...%%%
%%%..=.|.&|.|..|..|.&|.|&.|EHb|...,,,,+111|.&|.|..|..|..|.|&.|.=...%%%
%%...=.*--*.*--*..*--*.*--*Dbb|.1.,...|11F*--*.*--*..*--*.*--*.=...%%%
%%...=.|1.+.+.g|..|1.+.+.1|b7b|111,...|111|1.+.+.g|..|g.+.+.#|.=...%%%
%%...=.|..|.|..|..|.&|.|..|b..+,,,,...|.1.|..|.|..|..|&.|.|..|.=...%%%
%%...=.*--*.*--*..*--*.*--*..m|...,...*---*--*.*--*..*--*.*--*.=...%%%
%%%..=.|1.+.+.3|..|g.+.+.g|7mm|...,.......|g.+.+.g|..|g.+.+.g|.=...%%%
%%%..=.|.&|.|..|..|..|.|..|mmm|...,.1.5.1.|..|.|&.|..|..|.|..|.=....%%
%.%..=.*--*+*--*..*--*+*--*---*...,.......*--*+*--*..*--*+*--*.=....%%
%.%..=.....,..........,...........,.....11....,..........,.....=....%%
%.%..=.....,.221.5.11.,11111111221,.;;;.......,.11111.5..,.11..=....%%
%.%..=.....,..........,14112321111,.;$;1114131,..........,..2..=....%%
%.%..=.....,,,,,,,,,,,,11111411221,.;;;11221..,,,,,,,,,,,,.....=....%%
%.%..=.*--*+*--*......,11211232311,....11212.5,..........,.141.=....%%
%....=.|g.+.+.3|...,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,.1.....,.....=.....%
%....=.|..|.|..|...,`~~~~~~~~~~~~`B`~~~~~~~~~~~~`,.2.*--*+*--*.=.....%
%....=.*--*.*--*...,~XXXXXXX~~~~~~B~~~~~~XXXXXXX~,.1.|1.+.+.1|.=.....%
%....=.|g.+.+.1|...,~X..T.CX`~~~~!B!~~~~`XC.T..X~,.3.|..|.|&.|.=.....%
%....=.|&.|.|&.|...,~X.CX..T.............T..XC.X~,2..*--*.*--*.=.....%
%...%=.*--*.*--*...,~XTXXXXXXXXXXXXXXXXXXXXXXXTX~,.1.|1.+.+.1|.=.....%
%%..%=.|1.+.+.g|...,~X.CXXXXXXXXXXXXXXXXXXXXXC.X~,1.3|..|.|..|.=.....%
%%..%=.|..|.|..|...,~X..T.......;;;;;.......T..X~,.1.*--*.*--*.=....%%
%%..%=.*--*.*--*...,~XXX=========;;;=========XXX~,..2|g.+.+.1|.=....%%
%%.%%=.|1.+.+.g|...,~~XXX^;^;^;;@@@@@;;^;^;^XXX~~,...|..|.|&.|.=...%%%
%%.%%=.|.&|.|&.|...,~~~XX;^;^;;;;;^;;;;;^;^;XX~~~,...*--*.*--*.=...%%%
%%.%%=.*--*-*--*...,~~~XX^;^;;;;;^;^;;;;;^;^XX~~~,...|g.+.+.1|.=..%%%%
%%.%%=.............,~~~XX;^;;;;;^;^;^;;;;;^;XX~~~,...|.&|.|..|.=..%%%%
%%..%=..111214321..,~~~XX^;;;;;^S^;^S^;;;;;^XX~~~,...*--*-*--*.=..%%%%
%%..%o.............,~~~XX;;;;;^;^;^;^;^;;;;;XX~~~,.............o..%%%%
%....,,,,,,,,,,,,,,,~~~XXI;;;;;^;^M^;^;;;;;IXX~~~,,,,,,,,,,,,,,,..%%%%
%....o.............,~~~XX;;;;;;;^;^;^;;;;;;;XX~~~,.............o.%%%%%
%%%%%=.....1112121.,~~~XX;;;;;^;;^;^;;^;;;;;XX~~~,.11111311111.=.%%%%%
%%%%%=.H.E..311411.,~~~XX^;;;^S^;;^;;^S^;;;^XX~~~,.12211314111.=.%%%%%
%%%%%=HHDHOE.21112.,~~~XX;^;;;^;;;;;;;^;;;^;XX~~~,.1113123111..=.%%%%%
%%%%%=.DEW.7H.3731.,~~~XX^;^;;;;;;I;;;;;;^;^XX~~~,.121211311.&.=.%%%%%
%%%%%=EEHDWHH..222.,~~XXX;^;^;;;;;;;;;;;^;^;XXX~~,.13121111.&.&=.%%%%%
%%%%%=HHHEDWWW.111.,~XXXXXXX;^;;;;;;;;;^;XXXXXXX~,.4411111.&7&.=.%%%%%
%%%%%=.WWDENN..111.,~XXX$..X^;^;;;;;;;^;^X_._XXX~,.11111...&...=.%%%%%
%%%%.=H7DHEDEO.121.,~XX....+;^;^;;;;;^;^;+..._XX~,.1111.....&&&=..%%%%
%%%%.=.ONOHDO..131.,~XX....XXXXXXXXXXXXXXX....XX~,.111....&.&..=..%%%%
%%%%.=DHNHW.EE.141.,~XX_..XXXXXXXXXXXXXXXXX.._XX~,.43...&..&.&.=..%%%%
%%%..=DHDOWEH..111.,~XXXXXXXX~~~~~~~~~~~XXXXXXXX~,.11...&7&..&.=..%%%%
%%%..=.OOH7OWW.111.,~XXXXXXX~~~~~~~~~~~~~XXXXXXX~,.11..7...&&.&=..%%%%
%%%..=.WHHHDO...21.,~~~~~~~~~~~~~~~~~~~~~~~~~~~~~,.11...&&&.&&.=..%%%%
%%...=DHW.OE.HE..2.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,......&..&&&.=..%%%%
%%...=.DHONHDH...2................,................5...&...&7&.=..%%%%
%..%.=NEHHHDO.7O..111331112111411.,5.2211221231111....&..&&..&.=..%%%%
%..%.=.W.NWWHNE.7.................,................&7&.&..&.&&&=..%%%%
%%...============================o,o============================..%%%%
%%................................................................%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
   :}
 ;
On Event 45 {
EActor->IPrint("Taking a nap during a covert intrusion into a hostile
      enemy fortress is generally considered to be tactically inadvisable,
      you know.");
return 2;
},
150 {
hObj hMon;
for (hMon=EMap->FirstThing();hMon;hMon=EMap->NextThing())
if (hMon->isCreature() && EMap->RegionAt(hMon->x,hMon->y) ==
$"The Goblin Encampment") {
switch(hMon->mID) {
case $"goblin":
case $"hobgoblin":
switch (1d30) {
case 1: hMon->AddTemplate($"rogue-archer"); break;
case 2: hMon->AddTemplate($"archer"); break;
case 3: hMon->AddTemplate($"myrmidon"); break;
case 4: hMon->AddTemplate($"reaver"); break;
case 5: hMon->AddTemplate($"shadowdancer;template"); break;
case 6: hMon->AddTemplate($"blackguard;template"); break;
case 7: hMon->AddTemplate($"stalker"); break;
case 8: hMon->AddTemplate($"chieftan"); break;
case 9: hMon->AddTemplate($"shaman"); break;
case 10: case 11: case 12:
hMon->AddTemplate($"veteran"); break;
default: hMon->AddTemplate($"elite"); break;
}
break;
case $"ogre":
case $"hill giant":
switch (1d10) {
case 1: hMon->AddTemplate($"skilled"); break;
case 2: hMon->AddTemplate($"experienced"); break;
case 3: hMon->AddTemplate($"experienced"); break;
case 4: hMon->AddTemplate($"veteran"); break;
case 5: hMon->AddTemplate($"chieftan"); break;
case 6: hMon->AddTemplate($"shaman"); break;
}
break;
}
hMon->RemoveStati(222);
hMon->PlaceAt(EMap,hMon->x,hMon->y);
}
return 0;
};
}

Terrain "iron throne"
{ Image: grey '#'; Mat:11;
Flags: 12; }

Feature "bed" : 13
{ Image: brown 'b'; Mat:8; }

Terrain "drawbridge"
{ Image: brown '='; Mat:8;
Flags: 12; }

Terrain "guardian runes"
{ Image: pink 250; Mat:28;
Flags: 12, 6, 5;
On Event 161 {
return 0;
},
1, 167 {
int32 dmg, typ;
if (EActor->isCharacter()) {
if (EActor->HasAbility(110))
return 0;
if (murgash_quelled)
return 0;
DPrint(e,"The guardian runes flare at you!",
"The guardian runes flare at an <EActor>!");

dmg = 6 + random(6);

switch (random(6)) {
case 0: typ = 28; break;
case 1: typ = 25; break;
case 2: typ = 26; break;
case 3: typ = 72; break;
case 4: typ = 39; break;
case 5: typ = 0; break;
}

if (EActor->SavingThrow((typ == 25 || typ == 72 ||
typ == 39) ? 0 : 2, 27, 0x00000001|0x00000002 |
(typ == 28 ? 0x00000400 : 0) |
(typ == 26 ? 0x00001000 : 0)))
{
EActor->IPrint("You resist the runes' effect.");
return 0;
}

if (typ == 0) {
e.vCasterLev = 15;
SetEVictim(e,EActor);
RedirectEff(e,$"dispel magic",28);
}
else
ThrowTerraDmg(41,typ,dmg,"guardian runes",EActor,
$"guardian runes");
if (EActor->isDead())
return 2;
return 0;
}
return 0;
},
52 {
if (murgash_quelled)
return 0;
if ((e.eID == $"Phase Door" || e.eID == $"Dimension Door" ||
e.eID == $"Teleport" || e.eID == $"Shift Level" ||
e.eID == $"Shadow Shifting" || e.eID == $"Passwall" ||
e.eID == $"Shadow Step" || e.eID == $"Tree Stride" ||
e.eID == $"Teleportation") && !EActor->isMType(10))
{
if (EActor->HasStati(37,8))
if (EActor->yn("The runes try to block your weavecraft; force it?"))
if (EActor->LoseFatigue(2,true))
return 0;
EActor->IPrint("The guardian runes flare. You flicker, but remain
            where you are.");
return 1;
}
return 0;
};
}

Terrain "guardian runes;2"
{ Image: red 250; Mat:28;
Flags: 12, 6, 5;
On Event 161 {
if (EActor->isMType(10))
return 2;
return 0;
},
1, 167 {
int32 dmg, typ;
if (EActor->isCharacter()) {
if (murgash_quelled)
return 0;
if (EActor->HasAbility(110))
return 0;
DPrint(e,"The guardian runes flare at you!",
"The guardian runes flare at an <EActor>!");
dmg = 6 + random(6);
switch (random(6)) {
case 0: typ = 28; break;
case 1: typ = 25; break;
case 2: typ = 26; break;
case 3: typ = 72; break;
case 4: typ = 39; break;
case 5: typ = 0; break;
}

if (EActor->SavingThrow((typ == 25 || typ == 72 ||
typ == 39) ? 0 : 2, 27, 0x00000001 | 0x00000002 |
(typ == 28 ? 0x00000400 : 0) |
(typ == 26 ? 0x00001000 : 0)))
{
EActor->IPrint("You resist the runes' effect.");
return 0;
}

if (typ == 0) {
e.vCasterLev = 15;
SetEVictim(e,EActor);
RedirectEff(e,$"dispel magic",28);
}
else
ThrowTerraDmg(41,typ,dmg,"guardian runes",EActor,
$"guardian runes;2");
if (EActor->isDead())
return 2;
return 0;
}
return 0;
},
52 {
if (murgash_quelled)
return 0;

if ((e.eID == $"Phase Door" || e.eID == $"Dimension Door" ||
e.eID == $"Teleport" || e.eID == $"Shift Level" ||
e.eID == $"Shadow Shifting" || e.eID == $"Passwall" ||
e.eID == $"Shadow Step" || e.eID == $"Tree Stride" ||
e.eID == $"Teleportation") && !EActor->isMType(10))
{
if (EActor->HasStati(37,8))
if (EActor->yn("The runes try to block your weavecraft; force it?"))
if (EActor->LoseFatigue(2,true))
return 0;
EActor->IPrint("The guardian runes flare. You flicker, but remain
            where you are.");
return 1;
}
return 0;
};
}

Monster "goblin family" : 10
{
Image: Green 'g'; Size: 3; Mana: 6;
CR: 1/4; HD: 3; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 6, Dex 12, Con 10, Int 12, Wis 10, Cha 8;
Attk: 1 for 1d2 damage;
Flags: 36, 37, 1, 93, 94,
51, 66, 23, 24;
On Event 150 {
EActor->GainPermStati(7,NULL,7);
};
Desc: "This pitiful civilian goblin family lives under the iron fist
    of Murgash. The family members are huddling together, completely
    terrified, hoping that you will go away. Your real foes are elsewhere.";
}

Monster "goblin vizier" : 10, 122
{
Image: bright red 'g'; Size: 3;
CR: 8; HD: 7; Hit: +5; Def: 11; Mov: 100%; Spd: 125%;
Str 12, Dex 16, Con 16, Int 18, Wis 20, Cha 10;
Attk: 1 for 1d2 13;
Stati[39,42,12];
Stati[39,82,7];
Stati[39,97,7];
Gear: $"potion" of random 1 to 4,
blessed $"whip" of random 3 to 4,
20% $"wand" +4 of $"thunderbolts" else
25% $"wand" +4 of $"acid;wand" else
33% $"wand" +4 of $"the Void" else
50% $"wand" +4 of $"soul flaying" else
$"wand" +4 of $"striking;wand",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Feats: (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 15),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 17), (((((49 + 1) + 32) + 50) + 38) + 4),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 34, 47, 44;
Flags: 36, 37, 1, 49, 51, 56,
8, 23, 103, 90;
On Event 156 {
hObj it;

it = CreateItem($"field plate armor");
it->MakeMagical((rID)0,+1);
it->AddQuality(76);
EActor->GainItem(it,true);

EActor->GainPermStati(101,NULL,4);

return 0;
};
Desc: "These priests of The Multitude spread bloody doctrines and offer
      counsel to goblin rulers.";
Lists:
* 21
(52 + 1000);
}

Monster "Murgash, the Goblin King" : 10, 121, 87
{
Image: bright purple 'g'; Size: 3;
CR: 10; HD: 14; Hit: +14; Def: 22; Mov: 100%; Spd: 145%;
Str 16, Dex 24, Con 20, Int 16, Wis 16, Cha 16;
Attk: 1 for 1d2 13;
Stati[39,42,12];
Stati[39,25,1];
Stati[39,35,7];
Stati[39,79,9];
Stati[39,82,3];
Stati[39,49,9];
Immune: 0x04000000, 0x08000000;
Feats:
((49 + 1) + 5),
((49 + 1) + 25),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((49 + 1) + 32) + 50) + 13),
((((49 + 1) + 32) + 50) + 30),
(((((49 + 1) + 32) + 50) + 38) + 9),
(((((49 + 1) + 32) + 50) + 38) + 26),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 14),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
18,
32,
36,
44;
#line "dungeon.irh" 4584
Flags: 36, 37, 1, 24, 49, 51,
67, 8, 83, 64, 63,
23, 103, 56;
Spells: $"bull's strength",
$"shield of faith";
Gear:
4d2 $"potion" of $"true-healing",
$"potion" of $"stoneskin",
$"ring" of $"regeneration",
$"amulet" +3 of $"brass and glass",
$"girdle" +4 of $"the winterlands",
$"helm" +4 of $"clear sound",
$"cloak" of $"mantle of magic resistance",
$"bracers" +2 of $"blinding strikes",
$"boots" +2 of $"striding and springing";
On Event 62
"We will bury you!" /
"Bow before my soverign might!" /
"You dare to approach?" /
"Die, surfacer!";
On Event 150 {
hObj it;

EActor->GainPermStati(101,NULL,4);


it = CreateItem($"scimitar");
it->AddQuality(2);
it->AddQuality(6);
it->AddQuality(11);
it->AddQuality(13);
it->AddQuality(12);
it->AddQuality(39);
it->MakeMagical((rID)0,+5);
it->Named = "Soulcleaver";
EActor->GainItem(it,true);

it = CreateItem($"chainmail shirt");
it->MakeMagical((rID)0,+5);
it->AddQuality(19);
it->AddQuality(30);
it->Named = "Bladewarder";
EActor->GainItem(it,true);

},
32 {
#line "dungeon.irh" 4637
int32 dx,dy, mx, my;
hObj cre;
if (EActor->HasStati(195))
return 0;

for (dx = -30; dx <= 30; dx++) {
for (dy = -30; dy <= 30; dy++) {
mx = dx + EActor->x;
my = dy + EActor->y;
if (EMap->InBounds(mx,my)) {
cre = EMap->FCreatureAt(mx,my);
if (cre != NULL) {
if (cre->mID == $"goblin vizier" ||
cre->tmID == $"goblin vizier") {
EActor->GainTempStati(195,EActor,2,7);
return 0;
}
}
}
}
}
return 0;
},
(42+2000) {
if (!murgash_quelled)
theGame->GetPlayer(0)->IPrint("You have done it! You have slain the king of 
            the goblins! Now if only you can make your way back to the
            surface, you will forevermore be known as a great hero (as
            opposed to a great martyr)!");
murgash_killed = true;
},
((66+2000)+500) {
theGame->GetPlayer(0)->IPrint("You throw down your weapons and
              surrender to the king of the goblins. He escorts you to one
              of his viziers, who casts a spell of mental enslavement upon
              you, and you are sent to the barracks. For what it's worth,
              when the army of goblinoids surges out across the surface
              world a few months from now, you lead one of the great charges,
              but you are ultimately slain by a dwarven champion defending
              his city.");
ThrowDmg(42,0,0,"the fruits of treason",EVictim,EActor);
return 1;
},
((64+2000)+1000),
((57+2000)+1000),
((177+2000)+1000) {
hObj hGob;
if (murgash_quelled)
return 0;
if ((EVictim->StateFlags & 0x0001) &&
e.Event == ((177+2000)+1000))
{
theGame->GetPlayer(0)->IPrint("You have done it! You have forced terms
              from the king of the goblins! Murgash stands before the army by your
              command and orders them to disperse, returning to the tunnels and
              grottos from whence they came. Now if only you can make your way back 
              to the surface, you will forevermore be known as a great hero (as
              opposed to a great martyr)!");
}
else if ((EVictim->HasStati(10) &&
EVictim->GetStatiDur(10) == 0))
{
theGame->GetPlayer(0)->IPrint("You have done it! You have broken the 
              king of the goblins! Seeing their leader humbled and cowed before
              your might, his advisors and mercenaries turn to flee; the army is
              collapsing. Now if only you can make your way back 
              to the surface, you will forevermore be known as a great hero (as
              opposed to a great martyr)!");
for (hGob=EMap->FirstThing();hGob;hGob=EMap->NextThing())
if (hGob->isCreature() && hGob->PartyID == EVictim->PartyID) {
hGob->GainPermStati(10,EActor,7,5);
EActor->KillXP(hGob,100);
}
murgash_quelled = true;
return 1;
}
else if (EVictim->StateFlags & 0x0001)
{
theGame->GetPlayer(0)->IPrint("You speak of many things. You tell the
              goblin king's court about the strengths of human and elven armies,
              and their great numbers. You speak of the militant ambition of the
              priesthood of Erich toward goblinkind, and you present the legendary
              stories of the skill of the Assassins' Guild. With legendary eloquence,
              you describe how history would have played out: the goblins would
              devastate one, perhaps two large cities before the armies of men and
              demihumans unite in a genocidal war that would spell the end of
              the goblinoid peoples. Murgash himself would not live to see this --
              he would be quietly slain one night in his sleep by an assassin he
              would have no ability to detect. Demihumanity would suffer, and then
              goblinkind would die. On consideration, the goblin king agrees to
              accept the terms you offer for a very conditional surrender, and
              signs a notice of terms. Now if only you can make your way back
              to the surface, you will forevermore be known as a great hero (as
              opposed to a great martyr)!");
}
else
return 0;
for (hGob=EMap->FirstThing();hGob;hGob=EMap->NextThing())
if (hGob->isCreature() && hGob->PartyID == EVictim->PartyID) {
hGob->TurnNeutralTo(EActor);
EActor->KillXP(hGob,100);
}
murgash_quelled = true;
return 1;
};
Lists:
* 21
(52 + 1000);
}



Region "Arena Chamber" : 4
{ Walls: $"Dungeon Wall"; Floor: $"Floor";
Door: $"oak door"; RoomTypes: 20;
Flags: 15;
Tiles:
'p': $"floor" with $"potion" of $"healing",
'd': $"floor" with $"potion" of $"dimension door",
'R': $"Indestructable Rock",
'w': $"shallow water",
'm': $"floor" with $"giant mushroom",
'>': $"shallow water" with $"cave enterance" [0x08];
Grid:{:
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRR.....RRRRRRRRRRRRRRR
      RRRRRRRRRRRm...........mRRRRRRRRRRR
      RRRRRRRRRR.......m.......RRRRRRRRRR
      RRRRRRRRRR......mmm......RRRRRRRRRR
      RRRRRRRRRwwwwwwwwwwwwwwwwwRRRRRRRRR
      RRRRRRRRRw.w.w.w.w.w.www.wRRRRRRRRR
      RRRRRRRRRwwwwwwww>wwwwwwwwRRRRRRRRR
      RRRRRRRRRw.www.w.w.w.w.w.wRRRRRRRRR
      RRRRRRRRRwwwwwwwwwwwwwwwwwRRRRRRRRR
      RRRRRRRRRR......mmm......RRRRRRRRRR
      RRRRRRRRRR.......m.......RRRRRRRRRR
      RRRRRRRRRRRm...........mRRRRRRRRRRR
      RRRRRRRRRRRRRRR.....RRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR
      :}
 ;
}


Terrain "Testing Terrain"
{ Image: brown 176; Mat:28;
Flags: 1, 2, 20;
On Event 1 {
if (EActor->HasStati(15)
|| EActor->HasAbility(110))
return 0;
if (!EActor->SkillCheck(5,15,true,false))
{
DPrint(e,"You slip and fall!",
"An <EActor> slips and falls!");
EActor->GainPermStati(15,NULL,7);
EActor->Reveal(false);
EActor->MakeNoise(3);
EActor->Timeout += 30;
return 2;
}
return 0;
};
}
#line "mon1.irh" 216
Monster "dragon" : 37
{
Image: green 'D'; Size: 7;
Desc: "Dragons are ancient, hellishly powerful reptilian creatures known
      for breathing gouts of flame or stranger things still. It is common
      knowledge that Theyran dragons are divided into three families -- the
      good-natured but reclusive metallic dragons, the austere, mentally
      gifted gemstone dragons and the normally malicious chromatic dragons. 
      Beyond this, knowledge of a dragon's specific species can be 
      discerned with the Knowledge (Mythology) skill.";
Flags: 108, 24;
}


Monster "gold dragon" : 37, 95
{
Image: yellow 'D'; Size: 7; Hit: 20; Arm: 12;
CR: 2; HD: 26; Def: 10; Mov: 240%; Spd: 150%; Mana: 140;
Str 26, Dex 15, Con 18, Int 20, Wis 22, Cha 18;
Attk:
#line "mon1.irh" 237
42 for 0d10 1 (DC 20), 48 for 0d2 50 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,12];
Stati[118,18,70];
Stati[125,0,10];
Immune: 0x00000001;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 51, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 98, 75, 73,
72, 74, 92;
Spells: $"bless", $"call light", $"luck bonus",
$"detect gems", $"cure serious wounds",
$"polymorph self";
On Event 200 "cone of fire" /
"cloud of weakening gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Effect "Luck Bonus" : 46
{
Flags: 82; Cost: 50;
Desc: "A gold dragon has the ability to enchant a gem to create
      a luckstone with a magical bonus equal to half it's age catagory.
      Sometimes, in exchange for rare gems or other valuable services,
      a dragon will bestow such a boon on adventurers.";
}

Effect "Detect Gems" : 46
{
Flags: 82; Cost: 3;
Desc: "This effect allows a gold dragon to sense the presence of
      gems within a 180 foot (18 square) radius of it.";
}

Monster "silver dragon" : 37, 93
{
Image: grey 'D'; Size: 7; Hit: 29; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 240%; Spd: 100%; Mana: 60;
Str 32, Dex 9, Con 20, Int 16, Wis 12, Cha 15;
Attk:
#line "mon1.irh" 289
42 for 0d10 2 (DC 20), 48 for 0d10 18 (DC 20),
102 for $"dragon",
101 for $"elf";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,3];
Stati[118,18,60];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 51, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 98, 92;
Spells: $"feather fall", $"detect evil", $"cure serious wounds",
$"air walk", $"control winds", $"holy smite";
On Event 200 "cone of frost" /
"cloud of paralyzing gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +6;
}

Monster "bronze dragon" : 37, 92, 93
{
Image: brown 'D'; Size: 7; Hit: 26; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 270%; Spd: 125%; Mana: 120;
Str 29, Dex 11, Con 18, Int 24, Wis 20, Cha 22;
Attk:
#line "mon1.irh" 322
42 for 0d8 4 (DC 20), 48 for 0d8 61 (DC 20)
and 0d8 28 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,9];
Stati[118,18,80];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 31, 30, 92;
Spells: $"summon nature's ally i", $"ESP", $"create food and water",
$"obscurement", $"part water", $"waterspout";
On Event 200 "stroke of lightning" /
"repelling blast";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -6;
}

Monster "copper dragon" : 37, 94
{
Image: brown 'D'; Size: 7; Hit: 26; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 270%; Spd: 150%; Mana: 120;
Str 29, Dex 15, Con 18, Int 18, Wis 16, Cha 20;
Attk:
#line "mon1.irh" 356
42 for 0d4 5 (DC 20), 48 for 0d4 25 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,9];
Stati[118,18,70];
Immune: 0x00000010, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 52, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 72, 98, 92;
Spells: $"spider climb", $"jump;spell", $"earthmaw",
$"resist the elements", $"stoneskin", $"transmute rock to mud";

On Event 200 "stream of toxic bile" /
"cloud of slow gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +0;
}

Monster "brass dragon" : 37, 95
{
Image: bright red 'D'; Size: 7; Hit: 29; Arm: 21;
CR: 2; HD: 32; Def: 10; Mov: 200%; Spd: 100%; Mana: 100;
Str 32, Dex 9, Con 24, Int 16, Wis 12, Cha 14;
Attk:
#line "mon1.irh" 390
42 for 0d6 1 (DC 20), 48 for 0d6 16 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,60];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 52, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 92, 72, 75;
Spells: $"friends", $"create water", $"summon nature's ally iii",
$"earthmaw", $"control winds", $"summon djinni";
On Event 200 "cone of frost" /
"cloud of paralyzing gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Effect "Summon Djinni" : 9
{
0x00000100; rval: $"djinni"; pval: 8; Cost: 32; Purpose: 0x00100;
Flags: 95, 25, 82;
Desc: "This inherant ability allows a brass dragon to summon a
      djinni from the Elemental Plane of Air to aid it in a time of
      need. A given brass dragon can only have one such djinni summoned
      at a time, but it will aid him to the best of its ability.";
}


Monster "steel dragon" : 37, 94
{
Image: cyan 'D'; Size: 7; Hit: 32; Arm: 21;
CR: 2; HD: 32; Def: 10; Mov: 150%; Spd: 100%; Mana: 60;
Str 35, Dex 9, Con 24, Int 9, Wis 12, Cha 8;
Attk:
#line "mon1.irh" 434
42 for 0d12 5 (DC 20), 48 for 0d12 22 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,3];
Stati[118,18,50];
Immune: 0x00000010, 0x00200000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 51, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 92, 76, 75;
Spells: $"magic missile", $"iron mind", $"minor globe of invulnerability",
$"adamant facade", $"crushing despair", $"waves of weariness";
On Event 200 "blast of toxic gas" /
"cone of disintegration";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Monster "mercury dragon" : 37, 95, 93
{
Image: bright cyan 'D'; Size: 6; Hit: 20; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 300%; Spd: 225%; Mana: 60;
Str 23, Dex 24, Con 18, Int 16, Wis 14, Cha 15;
Attk:
#line "mon1.irh" 467
42 for 0d8 9 (DC 20)
and 0d8 24 (DC 20), 48 for 0d8 17 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,60];
Immune: 0x00000001, 0x00010000, 0x00020000, 0x00800000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 52, 50, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 92, 98, 75;
Spells: $"call light", $"mirror image", $"gaze reflection",
$"spectral force", $"telekinesis", $"bolts of glory";
On Event 200 "cone of sunlight" /
"cone of stunning gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}
#line "mon1.irh" 509
Monster "white dragon" : 37
{
Image: white 'D'; Size: 6; Hit: 26; Arm: 21; Mana: 60;
CR: 2; HD: 32; Def: 10; Mov: 270%; Spd: 150%;
Str 29, Dex 15, Con 24, Int 6, Wis 9, Cha 7;
Attk:
#line "mon1.irh" 516
42 for 0d8 2 (DC 17),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,3];
Stati[118,18,40];
Immune: 0x00000002, 0x00008000, 0x00020000;
Feats: 44, 32, 41, 20,
9, 2, 8, 14,
45, 48;
Flags: 49, 52, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 38, 99, 42, 39;
Spells: $"magic fang", $"chill metal", $"gust of wind",
$"invisibility", $"slow", $"wall of ice" ;
#line "mon1.irh" 535
Desc: "Commonly seen as the stupidest of all dragonkind, white dragons
      are solitary beings, misunderstood by their more rapicious kin. Whites
      are primal, exceedingly patient and only nominally sentient. They are
      quite content to sleep for decades or centuries without any contact
      with other beings, seeking only to hunt when hunger rises and protect
      their hoard. When disturbed, however, when events confuse them or when
      the world changes from what they have grown accustomed to, they can be
      exceedingly viscious in trying to preserve what they have always known.
      Paranoid, xenophobic and terratorial, encounters between humanoids and
      white dragons are almost universally unexpected, bloody and tragic.
      The scales of a wyrmling white dragon glisten like mirrors. As the
      dragon ages, the sheen disappears, and by very old age, scales of
      pale blue and light gray are mixed in with the white.";
On Event 200 "cone of freezing cold";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}

Monster "red dragon" : 37
{
Image: red 'D'; Size: 7; Hit: 32; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 200%; Spd: 100%; Mana: 100;
Str 35, Dex 8, Con 21, Int 9, Wis 10, Cha 14;
Attk:
#line "mon1.irh" 564
42 for 0d12 1 (DC 20), 102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,50];
Immune: 0x00000001, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 9, 2, 8;
Flags: 49, 36, 37, 27,
61, 11, 86, 26,
81, 12, 41, 39, 98;
Spells: $"friends", $"detect objects", $"enthrall", $"suggestion",
$"track monster", $"emotion";
Desc: "These dragons embody the consuming power of flame, for they are
      ever hungry -- for gold and treasure, and for less tangible treasures
      like arcane secrets and political power. It is part of their inherant
      nature as a race to covet, to burn with greed, and the primal impulse
      toward acquisition and horde-mongering is of an intensity unknown among
      the humanoid peoples. If power and wealth were food, red dragons are
      not only gluttons, but gluttons who were born with indescribable
      pangs of hunger that they can never ease, no matter how much they eat.
      Fortunately for more balanced beings, this all-consuming ambition
      often causes red dragons to lose control, sabotage their own plans or
      fall into frenzies of mindless fury.";
On Event 200 "fiery breath";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 0;
}

Monster "purple dragon" : 37
{
Image: purple 'D'; Size: 6; Hit: 23; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 200%; Spd: 125%; Mana: 140;
Str 26, Dex 11, Con 18, Int 22, Wis 20, Cha 27;
Attk:
#line "mon1.irh" 606
42 for 0d8 6 (DC 20), 102 for $"dragon",
101 for $"drow";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,12];
Stati[118,18,80];
Immune: 0x00000020, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 14;
Flags: 49, 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 96, 40;
Spells: $"esp", $"passwall", $"soften stone", $"snakeform",
$"free action;spell", $"transmute rock to mud";
Desc: "Subtle, intelligent, serene and inclined to long-term thinking,
      purple dragons weave webs of intrigue, propaganda, manipulation and
      social engeneering that can take decades or centuries to play out in
      full. Preferring to dwell deep beneath the earth, they take advantage
      of their shapechanging ability to infiltrate, manipulate or simply
      socialize with Underdark races like the drow, illithids or avolakia.
      They are born schemers, inhumanly intelligent and driven to compulsive
      mind games almost by instinct -- but their intrigues lack the real
      malice of the blacks or the slavering sociopathy of the reds, and
      indeed to humanoid ears their values and attitudes often sound eerily
      reasonable. Purple dragons are nothing if not accomidating, after all.
      \n__Many wise men are quite terrified by this fact.";
On Event 200 "stream of negative energy";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}

Effect "Snakeform" : 32
{ 0x00000080; rval $"purple dragon;snakeform"; Purpose: 0x00008;
Desc: "Allows a purple dragon to transform its body into a more
      mobile, sinous form lacking wings and hands, but able to move
      far faster and with greater agility, as well as fitting into
      smaller cracks and boltholes."; Flags: 82; }

Monster "purple dragon;snakeform" : 37, 52
{
Image: purple 's'; Size: 5; Hit: 23; Arm: 12;
CR: 2; HD: 20; Def: 16; Mov:350%; Spd: 125%; Mana: 140;
Str 26, Dex 11, Con 18, Int 22, Wis 20, Cha 27;
Attk: 42 for 0d8 6 (DC 20),
102 for $"dragon",
101 for $"drow";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,5];
Stati[118,18,80];
Immune: 0x00000020;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 14;
Flags: 49, 36, 37, 27, 3,
61, 86, 26, 2
81, 96, 12, 39, 40, 24;
Spells: $"passwall", $"ESP", $"soften stone", $"snakeform",
$"free action;spell", $"transmute rock to mud";
Desc: "Subtle, intelligent, serene and inclined to long-term thinking,
      purple dragons weave webs of intrigue, propaganda, manipulation and
      social engeneering that can take decades or centuries to play out in
      full. Preferring to dwell deep beneath the earth, they take advantage
      of their shapechanging ability to infiltrate, manipulate or simply
      socialize with Underdark races like the drow, illithids or avolakia.
      They are born schemers, inhumanly intelligent and driven to compulsive
      mind games almost by instinct -- but their intrigues lack the real
      malice of the blacks or the slavering sociopathy of the reds, and
      indeed to humanoid ears their values and attitudes often sound eerily
      reasonable. Purple dragons are nothing if not accomidating, after all.
      \n__Many wise men are quite terrified by this fact.";
On Event 200 "stream of negative energy";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -3;
}



Monster "black dragon" : 37
{
Image: bright black 'D'; Size: 6; Hit: 23; Arm: 18;
CR: 2; HD: 28; Def: 10; Mov: 200%; Spd: 100%; Mana: 100;
Str 29, Dex 9, Con 22, Int 13, Wis 15, Cha 17;
Attk:
#line "mon1.irh" 699
42 for 0d10 3 (DC 17), 102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,60];
Immune: 0x00000004, 0x00008000, 0x00020000;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 39, 41;
Spells: $"chill touch", $"globe of shadow", $"corrupt water",
$"wall of thorns", $"dominate reptile", $"insect plague";
Flags: 49, 51, 36, 37, 27,
61, 11, 86, 26,
81, 12, 38, 39, 73, 43;
Desc: "Like the acid that roils in their bellies, black dragons are
      venomous, corrosive beings. Sociable in a paranoid, vengeful way,
      they are cynics and defilers of hope whose very nature is aligned
      against trust, and who carry murderous grudges over even the most
      petty of slights for centuries or millenia. The society of the
      black dragons is filled with baroque ritual designed to degrade
      and embitter younger dragons, giving their elders a chance to
      engage in their proclivity for refined social sadism. By human
      standards, the average black dragon is irreprably damaged --
      filled with insane hatred, emotional scars and the unceasing
      thirst for vengeance upon anyone they percieve as having wronged
      them.";
On Event 200 "stream of acid";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Effect "Corrupt Water" : 5
{ 0x00000002; aval: 11; lval: 6; qval: 0x0002; Flags: 82;
xval: 2; rval: $"foul water"; Purpose: 0x00400 | 0x02000;
Desc: "Turns all water in a 60 foot (6 square) radius foul, making
      it cause damage to all aquatic creatures therein."; }

Terrain "foul water"
{ Image: green 247; Mat:1;
Flags: 7, 6;
On Event 154 {
if (EActor->isCreature())
if (EActor->HasMFlag(31) && !EActor->isAerial())
ThrowDmg(41,5,1d8,"foul water",EActor,EActor);
};
Desc: "Here, the water is foul and slimy.";
}

Effect "Dominate Reptile" : 3
{ 0x00000008; sval: 2;
Purpose: 0x00001 (9); tval: 51;
xval: 137; yval: 4; qval: 0x0004;
Flags: 25, 53, 4, 34,
82;
Desc: "Causes a single reptile to serve you and fight in your
      name, if it fails a Will saving throw."; }

Monster "green dragon" : 37
{
Image: green 'D'; Size: 6; Hit: 26; Arm: 12;
CR: 2; HD: 20; Def: 10; Mov: 270%; Spd: 125%; Mana: 120;
Str 29, Dex 10, Con 18, Int 16, Wis 17, Cha 16;
Attk:
#line "mon1.irh" 768
42 for 0d6 5 (DC 19), 102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,94,15];
Stati[39,42,12];
Stati[39,82,7];
Stati[118,18,55];
Immune: 0x00000010, 0x00020000, 0x00008000;
Feats: 6, 11, 44, 32, 41,
20, 36, 8, 39, 41,
48, 45;
Spells: $"entangle", $"water walking", $"suggestion", $"forestation",
$"Summon Nature's Ally IV", $"control plant";
Flags: 49, 51, 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 46, 74;
Desc: "Creatures of dominance and submission, green dragons are the
      symbolic representation of the food chain, Mother Nature's pecking
      order. As such, they are constantly aware of station, and always
      seeking to better themselves that they might overtake (and devour)
      whomever is currently their superior. Competitiveness comes naturally
      to greens; it an unavoidable impulse. Dwelling in the woodlands, 
      the green dragons of the Kinlands most often answer to the ultimate 
      authority of the druidic circles, acting as the grand druid's enforcers 
      and airbourne militia. They chafe under this domination, but are 
      realistic enough to know they presently lack the strength to take on 
      their druidic oppressors. In turn, they gather and dominate tribes of
      centaurs, hill giants, satyrs and other sylvan creatures beneath their
      iron-fisted rule; very few green dragons lack a sizable group of allies
      and underlings.";
On Event 200 "cloud of chlorine gas";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 +3;
}

Monster "yellow dragon" : 37
{
Image: yellow 'D'; Size: 6; Hit: 29; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 200%; Spd: 150%; Mana: 120;
Str 32, Dex 15, Con 20, Int 20, Wis 17, Cha 9;
Attk: 42 for 0d10 11 (DC 20),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,9];
Stati[118,18,70];
Immune: 0x00000001, 0x00000100, 0x00008000, 0x00020000;
Feats: 6, 44, 32, 41, 18,
20, 36, 8,
34;
Spells: $"dust devil", $"silence", $"wind wall",
$"create water", $"invisibility",
$"enervation";
Flags: 49, 36, 37, 27,
61, 11, 86, 26,
81, 12, 40, 72, 41, 47, 39;
Desc: "The hunters of the desert, yellow dragons delight in ambushes and
      betrayal. Their predatory instincts often drive them to stalk, terrorize
      and devour humanoids. Beyond this, precious little is known of them, as
      their race is exceedingly private and secretive. Yellow dragons mate for
      life, and are often encountered in mated pairs. They have unseen rituals,
      a vast and intricate mythology, and -- if the legends are to be believed
      -- hidden draconic libraries detailing the history and secrets of the
      world since the earliest days of its birth. Many yellow dragons secretly
      co-opt and ultilize tribes of desert nomads to seek out scraps of long-
      forgotten knowledge, while others dabble in sorcerous rites of diabolism
      and demon summoning.";
On Event 200 "blast of abrasive sand";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 -6;
}


Monster "blue dragon" : 37
{
Image: blue 'D'; Size: 6; Hit: 29; Arm: 15;
CR: 2; HD: 24; Def: 10; Mov: 240%; Spd: 150%; Mana: 80;
Str 32, Dex 15, Con 20, Int 14, Wis 17, Cha 16;
Attk:
#line "mon1.irh" 858
42 for 0d8 4 (DC 19),
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,82,5];
Stati[118,18,60];
Immune: 0x00000008, 0x00008000, 0x00020000;
Feats: 11, 44, 32, 41, 18,
20, 36, 8,
42;
Spells: $"rainstorm", $"blur", $"create water",
$"waterspout", $"whirlpool",
$"shadow monsters";
Flags: 49, 51, 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 45, 39, 72, 75;
Desc: "Perhaps the most truly humanistic of chromatic dragonkind 
      (as opposed to the purples, who are the most human-seeming), the blue
      dragons have a curious kind of warrior's honor. Valuing the strength
      of the group above their own well-being, blue dragons are the only
      chromatics known for ever making selfless sacrifices, and there is no
      confirmable instance of one of these dragons ever breaking their
      sworn word. Blue dragons interact with non-draconic races much more
      freely then other dragon types, and also seem to take much better to
      leadership -- indeed, some have observed that a blue seems the most
      comfortable when it has someone else giving it orders. As such, they
      often end up serving as generals in a warlord's army, a blackguard's
      mount or a guild's crack enforcer. Their loyalty, once given, is
      ironclad -- but many blue dragons do not care so much which cause
      they swear to, and are ultimately indifferent as to whether they maim
      and kill in the name of a solar or a pit fiend.";
On Event 200 "lightning breath";
Lists:
* 21
(50 + 1000)
(52 + 1000);
Constants:
* 141 0;
}



Monster "shadow ur-dragon" : 37, 31
{
Image: shadow 'D'; Size: 6; Hit: 23; Arm: 15; Mana: 20;
CR: 9; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 10, Dex 20, Con 15, Int 14, Wis 14, Cha 10;
Attk: 42 for 0d2 50 (DC 17),
102 for $"dragon",
101 for $"shadow";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,80,3];
Stati[39,142,1];
Stati[39,31,3];
Immune: 0x00008000, 0x00020000;
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((49 + 1) + 32) + 30),
(((49 + 1) + 32) + 44),
(((49 + 1) + 32) + 35),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 19),
(((49 + 1) + 32) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3),
44,
32,
18,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 39;
Spells:
$"bladethirst",
$"summon shadows",
$"deep slumber",
$"eldritch bolt",
$"phantasmal killer";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Shadow Ur-Dragons are so-called because of their strange ties to
    strength draining and necromatic damage, but 'Darting Ur-Dragon' would
    probably have sufficed as well. Physically weak they are none-the-less
    quite fast and they used a cunning knowledge to strike blows in vital
    areas. With their long limbs and serpent grace they are particularly
    adept at doding incoming blows and riposting with cruel strikes of
    their own.  Neither direct combat nor missile weapons nor the attack
    spells of novice mages prove particularly useful against them, and they
    should be approached with caution.";
On Event 200 "cone of shadowy force";
On Event (41+2000) {
if (e.DType == 8) {
e.vDmg = 0;
e.Immune = true;
}
return 0;
},
209
"They are immune to pure magic damage.";
}

Monster "brilliant ur-dragon" : 37, 31
{
Image: yellow 'D'; Size: 6; Hit: 23; Arm: 15; Mana: 20;
CR: 5; HD: 18; Def: 10; Mov: 200%; Spd: 100%;
Str 16, Dex 10, Con 16, Int 18, Wis 18, Cha 18;
Attk: 42 for 0d3 9 (DC 17),
54 for 1d6 9,
54 for 2d2 24 (DC 25),
102 for $"dragon",
101 for $"lantern archon";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,31,3];
Immune: 0x00008000, 0x00020000, 0x00000100, 0x00800000;
Feats:
(((49 + 1) + 32) + 15),
((49 + 1) + 5),
(((49 + 1) + 32) + 44),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3),
44,
32,
18,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 47, 39;
Stati[144];
Spells:
$"sunscorch",
$"scorcher",
$"searing light",
$"flame strike";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Brilliant Ur-Dragons are so-called because of the obvious glow they
    seem to give off at all times. It is very difficult for all but the
    most intuitive of monks or naturally blind plants to attack a brilliant
    ur-dragon: the glare is truly blinding.";
On Event 200 "cone of brilliant sunlight";
On Event 156 {
EMap->NewField(0x00000080|0x00000002,EActor->x,EActor->y,3,
14*256+249,-1,((rID)0),EActor);
};
On Event
209
"Their hides constantly flare with bright illumination. Any attacker 
      must make a Fortitude Saving Throw (DC 25) to avoid being blinded for
      a few rounds. In addition, the illumination does 1d6 points of
      sunlight damage. Brilliant Ur-Dragons are always illuminated like
      a manifesting elf and can never hide in shadows.";
}

Monster "shattering ur-dragon" : 37, 31
{
Image: brown 'D'; Size: 6; Hit: 28; Arm: 10; Mana: 20;
CR: 3; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 24, Dex 10, Con 18, Int 10, Wis 10, Cha 10;
Attk: 42 for 0d3 13 (DC 17)
and 6d6 92 (DC 17),
60 for 6d6 92 (DC 18),
102 for $"dragon",
101 for $"caryatid column",
101 for $"remorhaz",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Immune: 0x00008000, 0x00020000, 0x00000200;
Feats:
(((((49 + 1) + 32) + 50) + 38) + 13),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 32),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),

44,
32,
18,
14,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 48, 39;
Spells:
$"shatter",
$"dispel magic",
$"tremor",
$"explosive runes";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Shattering Ur-Dragons are a bane of militant adventurers everywhere.
    Although they are generally weaker and easier to destroy than other
    ur-dragons, their breath and attacks are quite adept at cracking,
    crumbling and otherwise destroying exposed equipment. Shattering
    ur-dragons are not particularly hardy themselves, but the thought of
    losing precious items makes many opponents avoid them.";
On Event 200 "cone of shattering vibrations";
}

Monster "plant ur-dragon" : 37, 81, 31
{
Image: green 'D'; Size: 6; Hit: 25; Arm: 14; Mana: 20;
CR: 5; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 20, Dex 12, Con 20, Int 10, Wis 10, Cha 10;
Attk: 42 for 0d3 5 (DC 17),
10 for 0d0 60 (DC 18),
101 for $"dark tree",
101 for $"sonic bloom",
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,57,1];
Stati[39,110,1];
Stati[39,42,12];
Immune: 0x00008000, 0x00020000, 0x00002000, 0x00000010;
Poison: $"black lotus extract";
Feats:
(((((49 + 1) + 32) + 50) + 38) + 13),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),

44,
32,
18,
39,
36;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 46, 39;
Stati[216,49];
Spells:

$"tree stride",
$"forestation",
$"wall of thorns",
$"barkskin";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Plant Ur-Dragons seem to have a special affinity for stinging nettles,
    grasping thorns, choking vines and poisous brambles. They exemplify all
    that is dreadful and fatal of Theryan plants. Their ropy, vine-like
    limbs are more malleable than those of other ur-dragons and they are
    quite adept at grappling foes. Their tails end in poisonous stingers.
    However, it is their ability to summon powerful plants that makes them
    truly dangerous.";
On Event 200 "cone of vegetable toxins";
}

Monster "water ur-dragon" : 37, 31
{
Image: blue 'D'; Size: 6; Hit: 25; Arm: 14; Mana: 20;
CR: 9; HD: 18; Def: 16; Mov: 200%; Spd: 100%;
Str 16, Dex 16, Con 16, Int 10, Wis 10, Cha 10;
Attk: 42 for 0d3 3 (DC 17),
101 for $"sahuagin",
101 for $"bull shark",
102 for $"dragon",
101 for $"human";
Stati[39,13,6];
Stati[39,42,12];
Stati[39,113,5];
Stati[39,66,2];
Immune: 0x00008000, 0x00020000, 0x00000004;
Feats:
(((((49 + 1) + 32) + 50) + 38) + 13),
(((((49 + 1) + 32) + 50) + 38) + 14),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
((((((49 + 1) + 32) + 50) + 38) + 30) + 36),

44,
32,
18,
36,
45;
Flags:
49, 51, 36, 37, 27,
61, 30, 11, 86, 26,
81, 12, 38, 39, 43;
Spells:
$"whirlpool",
$"waterspout",
$"acid arrow",
$"wall of ice";
Desc: "The ur-dragons remain a mystery to most Kinland scholars.
    Vivisection and magical analysis both reveal them to be closely related
    to conventional dragons, but the few peaceful dragons queried are never
    willing to discuss them. Ur-dragons have a somewhat more insectile
    appearance than do normal dragons ... and there is something
    distrinctly disconcerting about their appearance to most humanoids.
    With large, wide scales like interlocking chitin, forward-facing
    horns like mandibles, and a sinuous movement style the seem to combine
    the most fearsome aspects of insects and snakes. Ur-Dragons are
    typically associated with an element or essence rather than a color or
    ideal. However, these associations are largely conjecture by Kinland
    scholars: their real motives remain unknown.

    Water Ur-Dragons would form the basis for a number of sailing horror
    stories ... if only they were not so thankfully rare.  Water ur-dragons
    are feared for their ability to create turbulent whirlpools out of thin
    air, drowning heavily-armored fighters. Water ur-dragons actually
    appear to have their bodies formed from a combination of scales and
    slime. They are the only ur-dragons that slowly regenerate over time.";
On Event 200 "cone of caustic water";
}



Monster "hatori" : 37
{
Image: brown 'D'; Size: 6; Hit: 20; Arm: 15; Mana: 20;
CR: 2; HD: 10; Def: 15; Mov: 200%; Spd: 100%;
Str 23, Dex 16, Con 21, Int 7, Wis 14, Cha 10;
Attk: 24 for 1d8 13,
32 for 2d8+6 13,
37 for 6d1 3;
Stati[39,42,6];
Stati[39,95,6];
Stati[39,53,3];
Stati[39,94,3];
Stati[124,18,10];
Stati[39,30,1];
Stati[39,112,5];
Immune: 0x00008000, 0x00020000;
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),

((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
18,
32,
36,
44,
48;
Flags:
52, 36, 37, 27,
61, 30, 11, 86, 26,
81, 96, 40, 72;
Desc: "Much like wyverns, hatori are distant cousins of true dragons.
    The hatori resembles a cross between a dragon and a rather large
    crocodile. It is a desert creature (commonly known as a sand-wyrm for
    its relation to dragons) with a rock-like hide.";
}



Template "hatchling" : 0x0004 for 37
{
Desc: "Hatchling dragons are the youngest members of their race, similar
      to human toddlers -- though far more competant and dangerous. They are
      rarely found outside the company of their parents.";
Attk: 7 for 1d4 12,
6 for 1d3 11,
6 for 1d3 11;
CR: +0; Size: -4; Power: +1;
Str 55% (min 7), Dex 100%, Con 72%, Int 63%, Wis 58% (min 9), Cha 63% (min 6);
Mov: 40%; Arm: 20%; HitDice: 15%; Caster Level = 0; Hit: 20%;
Flags: -2, -4;
}

Template "very young" : 0x0004 for 37
{
Desc: "Comparible to a human in her early childhood, very young dragons are
      between 6 and 15 years old. They are impulsive, inquisitive and often
      reckless.";
CR: +2; Size: -2; Power: +2;
Attk: 7 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11;
Gear: 30% random 48 of random 1 to 2,
30% random 57 of random 1 to 2,
30% random 58 of random 1 to 2,
30% random 21 of random 1 to 2,
30% random 47 of random 1 to 2;
Str 64% (min 7), Dex 100%, Con 81%, Int 75%, Wis 69% (min 9), Cha 75% (min 6);
Mov: 40%; Arm: 30%; HitDice: 35%; Caster Level = 0; Hit: 25%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: -2;
}

Template "young" : 0x0004 for 37
{
Desc: "Comparible to a human in her early teen years, young dragons are
      aggressive and independant, eager to test the limits of their draconic
      power to the fullest.";
CR: +3; Size: -1; Power: +3;
Attk: 7 for 1d8 12,
111 for 0d0 93,
6 for 1d6 11,
6 for 1d6 11,
37 for 2d6 3;
Gear: 40% random 48 of random 2 to 3,
40% random 57 of random 2 to 3,
40% random 58 of random 2 to 3,
40% random 21 of random 2 to 3,
40% random 47 of random 2 to 3;
Str 76% (min 7), Dex 100%, Con 81%, Int 75%, Wis 69% (min 9), Cha 75% (min 6);
Mov: 50%; Arm: 50%; HitDice: 50%; Caster Level = 0; Hit: 40%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: -2;
}


Template "juvenile" : 0x0004 for 37
{
CR: +4; Size: -1; Power: +4;
Attk: 7 for 1d8 12,
111 for 0d0 93,
6 for 1d6 11,
6 for 1d6 11,
37 for 3d6 3;
Gear: 50% random 48 of random 3 to 4,
50% random 57 of random 3 to 4,
50% random 58 of random 3 to 4,
50% random 21 of random 3 to 4,
50% random 47 of random 3 to 4;
Str 88% (min 7), Dex 100%, Con 91%, Int 88%, Wis 79% (min 9), Cha 88% (min 6);
Mov: 60%; Arm: 70%; HitDice: 75%; Caster Level -6; Hit: 60%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13);
Flags: -2;
}

Template "young adult" : 0x0004 for 37
{
CR: +6; Size: 0; Power: +5;
Attk: 7 for 2d6 12,
111 for 0d0 93,
6 for 1d8 11,
6 for 1d8 11,
53 for 1d1 28 (DC 16), 37 for 4d6 3;
Gear: 60% random 48 of random 4 to 5,
60% random 57 of random 4 to 5,
60% random 58 of random 4 to 5,
60% random 21 of random 4 to 5,
60% random 47 of random 4 to 5;
Str 94% (min 7), Dex 100%, Con 100%, Int 88%, Wis 79% (min 9), Cha 88% (min 6);
Mov: 70%; Arm: 85%; HitDice: 120%; Caster Level -3; Hit: 80%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
((((49 + 1) + 32) + 50) + 23);
Flags: -2, 14;
}

Template "adult" : 0x0004 for 37
{
CR: +8; Size: 0; Power: +6;
Attk: 7 for 2d8 12,
111 for 0d0 93,
6 for 2d6 11,
6 for 2d6 11,
53 for 1d1 28 (DC 18),
37 for 5d6 3; Gear: 70% random 48 of random 5 to 6,
70% random 57 of random 5 to 6,
70% random 58 of random 5 to 6,
70% random 21 of random 5 to 6,
70% random 47 of random 5 to 6;
Str 100%, Dex 100%, Con 100%, Int 100%, Wis 100%, Cha 100%;
Mov: 100%; Arm: 100%; HitDice: 150%; Caster Level +0; Hit: 100%;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
((((49 + 1) + 32) + 50) + 23), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26);
Flags: -2, 14;
}



Template "half-red dragon" : 0x0100 for 91
{
CR: +2; MType: 83;
Str +8, Con +2, Int +2, Cha +2; Arm: +4;
Desc: "When in their human forms, dragons are interfertile with most
      humanoids and many other creatures. Half-dragons are the result of
      these unions -- powerful creatures who are gifted with some of the
      innate abilities of a dragon. They resemble the base creature, but
      have regions of scales in their parent dragon's color, and most
      often also have vast, reptilian wings.";
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12,
42 for 6d10 1 (DC 19);
Stati[39,42,6];
Immune: 0x00008000, 0x00020000, 0x00000001;
Flags: 49, 52, !50, !51, 12, 36, 41;
On Event 155 {
if (EActor->HasMFlag(66))
return -1;
return 0;
} ;
}
#line "mon1.irh" 1420
Monster "blast drake" : 83
{
Image: green 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 10 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Immune: 0x00000200;
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 72, 86, 26,
81, 12, 39, 48;
Desc: "Blast drakes are small, distant relatives of dragons.  They
    resemble tiny green dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, blast drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "sonic shriek";
}

Monster "caustic drake" : 83
{
Image: shadow 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 3 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Immune: 0x00000004;
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 74, 43, 38;
Desc: "Caustic drakes are small, distant relatives of dragons.  They
    resemble tiny black dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, caustic drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "caustic blast";
}

Monster "flame drake" : 83
{
Image: red 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 1 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Immune: 0x00000001;
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 41, 74;
Desc: "Flame drakes are small, distant relatives of dragons.  They
    resemble tiny red dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, flame drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "fiery blast";
}

Monster "force drake" : 83
{
Image: purple 'D'; Size: 3; Hit: 2;
CR: 2; HD: 2; Def: 17; Mov: 200%; Spd: 110%;
Str 15, Dex 12, Con 14, Int 2, Wis 11, Cha 10;
Attk: 42 for 2d6 8 (DC 13),
7 for 1d4+2 12,
6 for 1d3+1 11,
6 for 1d3+1 11,
24 for 1d3+1 13;
Stati[39,42,6];
Feats: 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 27,
61, 11, 86, 26,
81, 12, 39, 74, 44;
Desc: "Force drakes are small, distant relatives of dragons.  They
    resemble tiny purple dragons and are sometimes kept as pets by more
    powerful creatures. In some ways, they are the draconic equivalent of
    pets. Their behavior tends to reflect the alignment/desires of their
    master. In combat, force drakes usually begin an attack on the wing,
    using their breath weapon as they close, then flailing at a target with
    bite, claws, and tail, breathing as frequently as possible.";
On Event 200 "force blast";

On Event (41+2000) {
if (e.DType == 8) {
EVictim->cHP += e.vDmg;
e.vDmg = 0;
e.Immune = true;
}
return 0;
},
209
"They absorb magical force attacks (like Magic Missiles) and 
       are healed by them, rather than taking damage.";
}

Monster "wyvern" : 83
{
Image: shadow 'R'; Size: 5;
CR: 8; HD: 7; Hit: 7; Def: 14; Mov: 200%; Spd: 130%;
Arm: 4; Str 19, Dex 14, Con 15, Int 4, Wis 12, Cha 9;
Attk: 10 for 1d6 12 and 0d0 60 (DC 17),
7 for 2d8 12,
6 for 2d6 11,
6 for 2d6 11,
102 for $"black dragon";
Stati[124,44,3];
Stati[39,42,6];
Stati[39,71,5];
Immune: 0x00008000, 0x00020000;
Flags: 36, 11, 35, 74,
27, 3, 14, 55, 12;
Feats: 32, 36, 44, 18,
((49 + 1) + 5), ((((49 + 1) + 32) + 50) + 23), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Desc: "Primordial ancestors of the true dragons, these creatures
      have none of the dragon's subtlety or intellect, rather being
      ravenously aggressive flying beasts. A wyvern is always hungry,
      and can produce only two sounds: a loud hiss and a deep, wet
      growl.";
Poison: $"wyvern venom";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "wyvern venom" : 1
{
Level: 5;
cval: 3;
sval: 17;
lval: 5;
xval: 52; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>3<7> turns, and requires <11>5<7> saving throws against <11>DC 17<7> 
      to overcome.";
}
#line "mon1.irh" 1591
Monster "dragon turtle" : 46, 83
{
Image: green 'M'; Size: 6; Arm: 15;
CR: 9; HD: 12; Def: 5; Hit: +7; Mov: 75%; Spd: 75%;
Str 27, Dex 10, Con 21, Int 2, Wis 13, Cha 12, Luc 16;
Attk: 7 for 4d6 13,
111 for 0d0 93,
6 for 2d6 11,
6 for 2d6 11,
42 for 20d6 1 (DC 21),
37 for 5d6 3;
Stati[124,18,8];
Stati[124,45,8];
Stati[39,71,6];
Feats: 18, 32, 41, 44, 45,
((49 + 1) + 25), (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 3, 35, 31,
27;
On Event 200 "cloud of scalding vapor";
Desc: "One of the most feared beasts that mariners encounter,
      the dragon turtle is famous for capsizing ships. As its name
      implies, it resembles a great, prehistoric turtle, more then
      40 feet in length, with draconic features added. It possesses
      terrible strength, legendary fortitude and an irascible
      temperment.";
}

Monster "dragonne" : 46, 35, 83
{
Image: yellow 'M'; Size: 5;
CR: 7; HD: 9; Hit: 9; Def: 16; Mov: 150%; Spd: 125%;
Str 19, Dex 15, Con 17, Int 6, Wis 12, Cha 12, Luc 16;
Attk: 7 for 2d6 11,
6 for 2d4 11,
6 for 2d4 11,
47 for 2d6 28 (DC 15);
Stati[39,73,2];
Stati[39,71,6];
Feats: 44, 32, ((49 + 1) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6);
Flags: 36, 3, 35, 11,
12, 11;
#line "mon1.irh" 1636
Desc: "Resembling a cross between a lion and a brass dragon, these
      noble beasts are both terrifying and beautiful. They have a lion's
      face, paws and flanks, with draconic wings and a 'mane' of serpentine
      brass scales trailing off to their tail. Their entire body is a rich
      gold color, and their eyes seem filled with majesty. Despite this,
      however, they are still beasts, and are highly dangerous if they are
      surprised, hungry or defending their territory.";
}

Monster "griffon" : 46, 35
{
Image: brown 'M'; Size: 5;
CR: 7; HD: 7; Hit: 7; Def: 16; Mov: 250%; Spd: 160%;
Str 18, Dex 15, Con 16, Int 5, Wis 13, Cha 8, Luc 14;
Attk: 7 for 2d6 12,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,71,9];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), 22, 32, 44;
Flags: 36, 35, 11, 3,
55, 12, 104;
Desc: "A hybrid of hawks and lions, these noble beasts have been
      symbols of regency, honor and nobility since time immemorial.
      Despite this, however, they are cunning predators with a peculiar
      taste for horseflesh. Powerful knights and warlords sometimes
      manage to tame griffons to use as mounts.";
On Event 157 {
if (ETarget->isMType(24))
e.EParam *= 4;
return e.EParam; };
}

Monster "hippogriff" : 24, 35, 46
{
Image: brown 'M'; Size: 5;
CR: 4; HD: 3; Hit: 3; Def: 14; Mov: 200%; Spd: 125%;
Str 18, Dex 15, Con 16, Int 4, Wis 13, Cha 8, Luc 14;
Attk: 7 for 1d8 12,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,42,6];
Stati[124,44,4];
Feats: ((49 + 1) + 2), 32, 44;
Flags: 35, 37, 36, 3,
11, 12, 55, 104;
Desc: "A hybrid of horse and eagle, hippogriffs are dangerous
      predatorial beasts who defend their territory fiercely. They
      are highly prized as mounts by anyone trying to establish an
      aerial cavalry, and their eggs fetch a high price on the open
      market.";
}

Monster "lammasu" : 24, 46
{
Image: yellow 'M'; Size: 5; Mana: 475;
CR: 9; HD: 7; Hit: 7; Def: 18; Mov: 200%; Spd: 100%;
Str 23, Dex 10, Con 17, Int 16, Wis 17, Cha 14, Luc 16;
Attk: 6 for 1d6 11,
6 for 1d6 11;
Stati[39,82,7];
Stati[124,44,2];
Stati[39,42,6];
Feats: 32, 3, 44,
((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 11),
((((49 + 1) + 32) + 50) + 23), (((((49 + 1) + 32) + 50) + 38) + 26), ((((49 + 1) + 32) + 50) + 6),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6);
Spells: $"improved invisibility", $"dimension door";
Flags: 35, 37, 36, 3,
11, 12, 51, 50, 53;
On Event 156 {
EMap->NewField(0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
return 0;
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect.";
Desc: "Creatures of great wisdom, learning and righteousness, lammasu
      gather in small tribes in arid regions of Therya in order to combat
      the forces of evil and explore the sacred mysteries of magic and
      nature. They tend to revere Xavias, or simply embrace the philosophy
      of goodness as a religious ideal. They are quick to hunt down and
      slay any truly evil creature within their purview. Physically, lammasu
      appear as winged lions with the heads of men, their bodies covered with
      rich golden fur.";
Lists:
* 21
(52 + 1000);
}

Monster "pegasus" : 24, 81, 46
{
Image: bright cyan 'M'; Size: 5; Mana: 75;
CR: 3; HD: 4; Hit: 4; Def: 16; Mov: 200%; Spd: 100%;
Str 18, Dex 15, Con 15, Int 10, Wis 13, Cha 13, Luc 16;
Attk: 2 for 1d6 13;
Stati[124,44,4];
Stati[124,32,4];
Stati[39,71,6];
Feats: 32, 44, 3, 48,
(((((49 + 1) + 32) + 50) + 38) + 26);
Flags: 35, 37, 3, 104,
11, 12, 52, 50, 53;
Spells: $"detect evil", $"bless";
Desc: "A magnificent winged horse, the pegasus has wings
      like a dove's and a mane of white feathers, but otherwise
      resembles a snow-white horse of the highest quality. They
      are intelligent and good beings with an inherant aura of
      nobility about them, and are treasured by paladins and
      other champions as mounts.";
}

Monster "peryton" : 46, 35
{ Image: bright black 'M'; Size: 5;
CR: 5; HD: 5; Hit: +4; Def: 16; Mov: 200%; Spd: 150%;
Str 17, Dex 16, Con 12, Int 2, Wis 16, Cha 10, Luc 14;
Attk: 6 for 1d6 11,
7 for 1d6 12,
23 for 1d8 12;
Stati[39,42,6];
Stati[39,71,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((49 + 1) + 32) + 50) + 23), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19),
36, 44, 48;
Flags: 36, 3, 74, 49, 52,
99, 98, 11, 55, 12;
Desc: "While many see nobility in the visages of griffons or
      pegasi, there's nothing admirable about the peryton -- it is
      just a slavering, bloodthirsty beast. A cross between a great
      stag and a hawk, the peryton is a winged predator that hunts
      humans in order to devour their still-beating hearts. Perytons
      haunt deep forests and icy mountains, stalking their prey
      relentlessly.";
On Event (20+1000) {

if (e.isCrit && e.AType == 7) {
if (GetHandle(EVictim) == NULL)
return 0;
if (EVictim->isDead())
return 0;
if (EVictim->SavingThrow(0,17,0x00000010))
{ e.Resist = true; return 0; }
TPrint(e,"You rip out the <EVictim>'s heart!",
"The <EActor> rips out your heart!",
"The <EActor> rips out the <EVictim>'s heart!");
ThrowDmg(42,11,0,
XPrint("having <his:hObj> heart ripped out by a peryton",EVictim),
EActor,EVictim);
}
return 0;
};
}

Monster "unicorn" : 46, 24, 81
{ Image: white 'M'; Size: 5;
CR: 5; HD: 4; Hit: +3; Def: 18; Mov: 200%; Spd: 120%;
Str 20, Dex 17, Con 21, Int 10, Wis 21, Cha 24, Luc 20;
Attk: 2 for 1d4 13,
2 for 1d4 13,
23 for 1d8 12 and 1d6 69,
102 for $"horse";
Stati[39,91,6];
Spells: $"detect evil", $"cure moderate wounds", $"dimension door",
$"neutralize poison";
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((49 + 1) + 32) + 50) + 38) + 22), 2, 32,
3, 44, 48;
Flags: 50, 52, 53, 11, 44,
37, 3;
On Event 157 {
#line "mon1.irh" 1805
if (!EVictim->isMType(103))
return -1;
return 0;
},
156 {
EMap->NewField(0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "Renouned as symbols of purity and sacred to the clergy of Immotian
      despite their chaotic nature, unicorns are intelligent quadrupeds with
      a love of nature and an intense loathing of evil. Valuing innocence and
      being uncomfortable with worldly things, unicorns increasingly find
      themselves shunning human society and rebuking individual humans, often
      siding with the Druidic Circles.";
On Event (20+1000), (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "pirahna bird" : 46, 4
{
Image: bright green 'b'; Size: 2;
CR: 0; HD: 1; Hit: 4; Def: 14; Mov: 150%; Spd: 200%;
Str 7, Dex 12, Con 14, Int 2, Wis 16, Cha 11;
Attk: 7 for 1d8 12;
Flags: 36, 3, 74, 11, 2,
12, 55, 104;
Feats: (((49 + 1) + 32) + 44), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44;
Desc: "A magical hybrid of a pirahna and a parrot, pirahna birds are 
      avian creatures with colorful plumes and bodies that resemble those
      of piranhas. They are somtimes encountered alone, but are most
      dangerous when they attack in swarms.";
}
#line "mon1.irh" 1848
Monster "arsinoitherium" : 2, 35
{
Image: brown 'B'; Size: 5; Arm: 7;
CR: 6; HD: 9; Hit: 6; Def: 10; Mov: 100%; Spd: 135%;
Str 25, Dex 8, Con 22, Int 2, Wis 11, Cha 2;
Attk: 23 for 1d8 12;
Flags: 37, 35, 3, 73, 11;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), (((((49 + 1) + 32) + 50) + 38) + 2), ((((49 + 1) + 32) + 50) + 32),
32, 44, 45;
Desc: "This large herbivore is roughly the size of a rhinoceros, with
    four legs similar to those of an elephant. The arsinoitherium is armed
    with two huge, forward-pointing horns mounted to either side of the
    head. It is believed to have lived in swamps where it chewed
    coarse-leafed plants for food. With a mouth full of grinding molars it
    could not deliver a serious bite. The arsinoitherium has left no modern
    ancestors.";
}

Monster "juvenile arrowhawk" : 4, 35, 48
{
Image: cyan 'b'; Size: 3;
CR: 5; HD: 3; Hit: 3; Def: 14; Mov: 200%; Spd: 115%;
Str 12, Dex 21, Con 12, Int 10, Wis 13, Cha 13;
Attk: 9 for 2d6 4,
7 for 1d6+1 12;
Stati[39,42,6];
Feats: (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 21),
44, 32, 36, 41;
Flags: 35, 36, 3,
12, 88, 55, 39, 45;
Immune: 0x00000004, 0x00000008, 0x00000010;
Resists: 0x00000001, 0x00000002;
Desc: "An arrowhawk is a predator and scavenger from the Elemental
      Plane of Air.  By twisting its body and varying the cadence of its
      wingbeats, an arrowhawk can fly at top speed in any direction. A
      juvenile arrowhawk (1 to 10 years old) is about 5 feet long from beak
      to tail, with the body accounting for about one-third of that length.
      Its wingspan is about 7 feet, and it weighs about 20 pounds. 
      Arrowhawks are extremely territorial and always hungry. They attack
      almost any other creature they meet, seeking a meal or trying to drive
      away a rival. The primary mode of attack is an electricity ray, fired
      from the tail. The creature also bites, but it prefers to stay out of
      reach.";
}

Monster "devilfish" : 35
{
Image: cyan 'B'; Size: 2;
CR: 0; HD: 1; Hit: 2; Def: 10; Mov: 150%; Spd: 100%;
Str 14, Dex 10, Con 16, Int 2, Wis 14, Cha 11;
Attk: 7 for 1d4 11,
54 for 1d2 51,
43 for 0d0 90 (DC 14);
Stati[39,42,6];
Flags: 36, 2, 3, 7, 31,
8, 104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, 44;
On Event 210
"enact <9>doom<7>";
Desc: "The devilfish in an unnatural creature evolved in the
      lakes of the Underdark. Its skin secretes a numbing gel,
      and its gaze unsettles and disturbs anyone that meets it,
      driving off most of the creature's natural predators. A
      devilfish appears much like a large, grey salmon with milky,
      hypnotic eyes.";
On Event (41+500) {
if (e.DType == 90)
{
RedirectEff(e,$"doom");
return 1;
}
return 0;
};
}

Monster "cavefish" : 2
{
Image: grey 'a'; Size: 2;
CR: -4; HD: 1; Hit: 1; Def: 13; Mov: 150%; Spd: 100%;
Str 6, Dex 12, Con 10, Int 1, Wis 8, Cha 10;
Attk: 7 for 1d2 12;
Stati[39,95,6];
Flags: 36, 2, 3, 7, 31,
6, 8, 104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, 44;
Stati[124,45,+8];
Desc: "Many varieties of predatory fish have adapted to
      life in deep caves or the Underdark. They are blind,
      though many retain vestigal eyes, and percieve their
      world by sensing vibrations in the water.";
}

Monster "chinook salmon" : 2
{
Image: bright red 'a'; Size: 3;
CR: -1; HD: 1; Hit: 0; Def: 13; Mov: 160%; Spd: 100%;
Str 9, Dex 13, Con 10, Int 1, Wis 8, Cha 10;
Attk: 7 for 1d2 12;
Flags: 36, 2, 3, 7, 31,
104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, 44;
Stati[124,45,+8];
Desc: "Chinook salmon are the largest breed of salmon
      found in the animal kingdom. They are rarely a threat
      to thinking creatures, but can represent a danger to
      swimmers in hostile environments or people already
      worn down from other dangers.";
}

Monster "piranha" : 2
{
Image: light blue 'a'; Size: 2;
CR: 0; HD: 1; Hit: 0; Def: 13; Mov: 175%; Spd: 175%;
Str 6, Dex 15, Con 10, Int 1, Wis 8, Cha 10;
Attk: 7 for 1d4 11;
Flags: 36, 2, 3, 7, 31,
104, 105, 55;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, 44;
Stati[124,45,+8];
Desc: "Piranhas are tiny, fast fish known for travelling
      in packs and devouring meat very rapidly. Coastal orc
      settlements sometimes worship piranhas as totem beasts.";
}

Monster "cave pelican" : 2
{
Image: light purple 'a'; Size: 3;
CR: -1; HD: 2; Hit: 0; Def: 13; Mov: 125%; Spd: 125%;
Str 10, Dex 12, Con 12, Int 2, Wis 12, Cha 10;
Attk: 19 for 1d3 13,
7 for 1d2 13;
Stati[39,42,+6];
Flags: 36, 3, 12, 31, 104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, 44;
Stati[124,45,+4];
Desc: "Pelicans are large birds with distinctive pouches
      under their beaks. Several species of pelicans have
      adapted to underground life, dwelling in the great
      ancient waterflows beneath the earth, or being 
      domesticated by svirfneblin and derro. They are normally
      temperate creatures but panic easily and can become
      violent if frightened or surronded by hostile creatures
      or loud noises.";
}

Monster "ixitxachitl" : 58
{
Image: white 'X'; Size: 3;
CR: 0; HD: 1; Hit: +0; Def: 13; Mov: 100%; Spd: 75%;
Str 12, Dex 16, Con 13, Int 12, Wis 13, Cha 7;
Attk: 7 for 1d6 73
and 2d6 59 (DC 13),
10 for 1d4 12;
Stati[39,42,6];
Flags: 36, 2, 3, 7, 31,
8, 52, 49, 104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), 18, 27, 36,
45, 44, 46;
Desc: "The ixitichitl are a race of intelligent, necromantically 
      tainted manta rays. Ixitichitl look like mundane rays, but 
      possess the magical ability to drain others' blood to replenish
      themselves. Despite this, they are not truly undead. The
      ixitichitl form raiding parties to prey on nixies, sea elves,
      merfolk and tritons, and are much despised by the other
      aquatic races.";
}

Monster "greater ixitxachitl" : 58
{
Image: bright purple 'X'; Size: 3;
CR: 3; HD: 4; Hit: +3; Def: 15; Mov: 100%; Spd: 75%;
Str 13, Dex 18, Con 13, Int 16, Wis 13, Cha 10;
Attk: 7 for 2d6 73
and 2d6 59 (DC 13),
10 for 1d4 12,
102 for $"ixitxachitl";
Stati[39,42,6];
Flags: 36, 2, 3, 7, 31,
8, 52, 49;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), 18, 27, 36,
45, 44, 46;
Desc: "The ixitichitl are a race of intelligent, necromantically 
      tainted manta rays. Ixitichitl look like mundane rays, but 
      possess the magical ability to drain others' blood to replenish
      themselves. Despite this, they are not truly undead. The
      ixitichitl form raiding parties to prey on nixies, sea elves,
      merfolk and tritons, and are much despised by the other
      aquatic races.\n
      __Greater ixitichitl are the most developed of their race,
      having awakened unearthly mental powers by devouring other
      psionic beings such as grippli. They are tougher, faster
      and able to drain far more life than the average ixitichitl,
      but are physically indistinguishable.";
On Event 150 {
rID wildID;
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
return 0;
},
209
"All greater ixitxachitl are wild talents and possess a single randomly
        chosen psionic power.",
(20+1000) {
if (e.AType == 7)
EActor->IdentifyMon();
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "aurumvorax" : 35
{
Image: bright yellow 'B'; Size: 3; Arm: 10;
CR: 7; HD: 10; Hit: 7; Def: 15; Mov: 75%; Spd: 120%;
Str 11, Dex 16, Con 12, Int 2, Wis 12, Cha 12;
Attk: 7 for 1d8 12,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11;
Flags: 36, 35, 2, 96,
3, 60, 11;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((((49 + 1) + 32) + 50) + 38) + 26),
32, 44, 48, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Desc: "This legendary beast looks vaguely similar to a wild
      cougar, but it has six legs and is no larger then an average
      rottwieler. Yet it is one of the most hunted creatures on the
      face of Theyra, for it has a pelt of solid gold. The aurumvorax,
      or golden gorger, build burrows in the ground to live out the
      winter, and subsists on a diet of hares, chipmunks and other
      small mammals, supplemented by the occasional ingestion of gold,
      silver and other rare metals.";
On Event 110 {
if (EActor->mID == $"gnome" || EActor->mID == $"gnome;temp" ||
EActor->mID == $"halfling" || EActor->mID == $"halfling;temp")
if (EActor->GetAttr(25) == 3)
e.EParam = 1;
return 0;
};

}

Monster "basilisk" : 35, 83, 46
{
Image: brown 'R'; Size: 4;
CR: 4; HD: 6; Hit: +6; Def: 17; Mov: 75%; Spd: 130%;
Str 15, Dex 8, Con 15, Int 2, Wis 12, Cha 11;
Attk: 7 for 1d8+3 12,
43 for 0d0 19 (DC 13),
102 for $"cave lizard";
Stati[124,18,4];
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), ((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 32), 40;
Flags: 36, 3, 55;
Desc: "A basilisk is a reptilian monster that petrifies living
      creatures with a mere gaze. A basilisk usually has a dull brown body
      with a yellowish underbelly. Some specimens sport a short, curved horn
      atop the nose. An adult basilisk's body grows to about 6 feet long, not
      including its tail, which can reach an additional length of 5 to 7
      feet. The creature weighs about 300 pounds.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "boalisk" : 52, 46, 35
{
Image: bright red 'R'; Size: 4;
CR: 2; HD: 5; Hit: 3; Def: 12; Mov: 50%; Spd: 100%;
Str 17, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d4+1 12,
32 for 1d4+1 13,
43 for 0d0 27 (DC 14),
102 for $"boa constrictor";
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[39,71,5];
Disease: $"mummy rot";
Feats:
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
5, 7, 18, 32, 44, 45;
Flags: 3, 34, 36, 30, 74,
55;
Desc: "A magical relative of the constrictor snake, the boalisk
      is most feared for its gaze, which induces a rotting disease
      similar to that caused by a mummy's touch. The boalisk appears
      similar to a normal constrictor snake, but it has glistening
      red scales that seem to ripple like velvet and unnatural,
      segmented eyes not unlike an insect's.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "behir" : 35, 83, 52
{
Image: blue 'R'; Size: 6;
CR: 10; HD: 9; Hit: +15; Def: 16; Mov: 150%; Spd: 145%; Arm: 5;
Str 26, Dex 13, Con 21, Int 7, Wis 14, Cha 12;
Attk: 42 for 7d6 4 (DC 19),
6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
32 for 2d8+8 13;
Stati[39,42,6];
Stati[39,94,15];
Stati[39,71,6];
Immune: 0x00000008;
Feats: 18, 32, 36, 44,
((49 + 1) + 5), (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 37, 3, 45, 55, 11;
Desc: "The behir is a serpentine monster that can slither like a snake
    or use its dozen legs to move with considerable speed. A behir is about
    40 feet long and weighs about 4,000 pounds. It can fold its limbs close
    to its long, narrow body and slither in snake fashion if it desires.
    The coloration of behirs ranges from ultramarine to deep blue with
    bands of gray-brown. The belly is pale blue. The two large horns
    curving back over the head look dangerous but are actually used for
    preening the creature's scales, not for fighting.";
}


Monster "bulette" : 35, 83, 79
{ Image: brown 'B'; Size: 6; Arm 5;
CR: 9; HD: 9; Hit: +9; Def: 16; Move: 150%; Spd: 135%;
Str 27, Dex 15, Con 20, Int 2, Wis 13, Cha 6;
Attk: 7 for 2d8 12,
111 for 0d0 93,
6 for 2d6 11,
6 for 2d6 11,
37 for 4d8 3;
Stati[39,71,9];
Stati[39,95,6];
Stati[39,96,12];
Immune: 0x00010000;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 22, 32;
Flags: 36, 3, 35, 6, 27,
92, 75, 74, 56, 96,
55;
Desc: "The bulette, or landshark, is a justly feared predator with
      features that seem to be a hybrid of a shark's, an armidillo's
      and a snapping turtle's.";
}

Monster "cateoblepas" : 35, 24
{
Image: red 'q'; Size: 6;
CR: 9; HD: 6; Hit: +6; Def: 10; Mov: 75%; Spd: 75%;
Str 26, Dex 13, Con 21, Int 2, Wis 13, Cha 8;
Attk: 24 for 1d8 13
and 2d4 17 (DC 18),
43 for 1d3 45;
Stati[39,42,6];
Stati[39,71,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 32, 44, 48;
Flags: 36, 37, 73, 55, 11, 55;
Desc: "Mythology describes the cateoblepas as a mourner and a
      harbringer of death and tragedy -- its gaze is said to reflect
      the deaths of everyone close to the victim, sapping the strength
      of even the strongest men. In reality, the cateoblepas is a large
      herbivore with features reminiscent of a buffalo crossed with a
      brontosaurus. Its legs are stumpy, like those of a hippopotamus,
      and its eyes are bloodshot. Its tail has a bony globe at the end
      like the head of a mace that it uses to strike enemies with. The
      cateoblepas' head is heavier then its neck can support well, and
      thus its posture is poor, with its head near the ground. This
      slumped appearance is likely the source of the legends of the
      creature as a harbringer of despair.";
}

Monster "cockatrice" : 35, 4
{
Image: red 'b'; Size: 3; Depth: 3;
CR: 0; HD: 5; Hit: +9; Def: 10; Mov: 200%; Spd: 100%;
Str 6, Dex 17, Con 11, Int 2, Wis 13, Cha 9;
Attk: 7 for 1d4 12
and 0d0 19 (DC 12);
Stati[39,42,6];
Feats: 44, 32,
((49 + 1) + 5), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 9), (((49 + 1) + 32) + 44);
Flags: 36, 37, 92, 74, 73,
55, 3, 12, 40, 39;
Desc: "A male cockatrice has wattles and a comb, just like a rooster.
  Females, much rarer than males, differ only in that they have no wattles
  or comb. A cockatrice weighs about 25 pounds.
  A cockatrice fiercely attacks anything that it deems a threat to itself
  or its lair. Flocks of cockatrices do their utmost to overwhelm and
  confuse their foes, and sometimes fly directly into their opponents'
  faces.";
}

Monster "couatl" : 52, 48
{
Image: bright red 'R'; Size: 5; Mana: 60;
CR: 8; HD: 9; Hit: +8; Def: 24; Mov: 150%; Spd: 150%;
Str 18, Dex 16, Con 14, Int 17, Wis 19, Cha 17;
Attk: 7 for 1d3 12
and 60 (DC 16),
32 for 2d8 13,
102 for $"winged snake";
Stati[39,61,3];
Stati[39,42,6];
Stati[39,82,9];
Stati[39,91,9];
Feats: 8, 32, 41,
3, 43, 44, 46,
(((49 + 1) + 32) + 44), (((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 42), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Poison: $"couatl venom";
Spells: $"detect evil", $"invisibility",
$"polymorph self";

Flags: 36, 3, 2, 50,
51, 53, 74, 75, 98,
12, 111;
Desc: "The couatl is a winged snake of great beauty, a visitor
      from the Upper Planes that enjoys spending time on the Prime
      Material. It's intelligence, magic, virtue and beauty make
      it a revered vistor in whatever region it inhabits. Its wings
      have feathers in all the colors of the rainbow, and its total
      wingspan is about 15 feet.";
Lists:
* 21
(50 + 1000);
On Event (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "couatl venom" : 1
{
Level: 8;
cval: 3;
sval: 16;
lval: 6;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>3<7> turns, and requires <11>6<7> saving throws against <11>DC 16<7> 
      to overcome.";
}

Monster "darkmantle" : 27, 35
{
Image: Shadow 't'; Size: 5; Mana: 10;
CR: 1; HD: 2; Hit: 1; Def: 12; Mov: 150%; Spd: 70%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13,
37 for 3d4 3;
Stati[124,18,10];
Stati[39,13,6];
Stati[211,(0x0020|0x0004)];
Spells: $"globe of shadow";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, 32, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 59, 36, 3, 2,
66, 55, 104;
Desc: "Appearing vaguely like a black mottled octopus, the
      darkmantle ambushes its prey by clinging to the ceiling
      of its subterranian enviornment and then dropping over
      its victims' heads. Darkmantles move with surprising speed. 
      Darkmantles cannot be detected by Scent or Tremorsense.";
}

Monster "stifler" : 27, 35
{
Image: blue 't'; Size: 5; Mana: 10;
CR: 3;
HD: 3; Hit: 3; Def: 10; Mov: 100%; Spd: 100%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13 and
1d2 17 (DC 15),
37 for 3d4 3,
102 for $"darkmantle";
Stati[124,18,10];
Stati[39,42,6];
Stati[211,(0x0020|0x0004)];
Spells: $"stifling silence";
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags:
59, 36, 3, 2, 66, 55,
107, 104;
Desc: "Appearing vaguely like a blue mottled octopus, the
      stifler ambushes its prey by clinging to the ceiling
      of its subterranian enviornment and then dropping over
      its victims' heads with unerring accuracy. However, its most feared
      ability is its power to stifle all sound within a large area.
      Stiflers cannot be detected by Scent or Tremorsense.";
}

Effect "Stifling Silence" : 46
{ 0x00000002; Base: 90; Cost: 1;
aval: 9; rval: 0x00001000; cval: 9; lval: 6;
Purpose: 0x00010; Flags: 26;
Desc: "Creates a field of supernatural silence 60 feet in 
      radius, inside which spellcasters cannot produce the
      verbal components of their spells."; }

Monster "icemantle" : 27, 35
{
Image: bright blue 't'; Size: 5; Mana: 10;
CR: 3;
HD: 3; Hit: 3; Def: 10; Mov: 100%; Spd: 100%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13 and
1d2 25 (DC 20),
37 for 3d4 3,
54 for 1d4 2,
102 for $"darkmantle";
Stati[124,18,10];
Stati[39,42,6];
Stati[211,(0x0020|0x0004)];
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 5, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Immune: 0x00000002, 0x01000000;
Flags:
59, 36, 3, 2, 66, 55,
42, 104;
Desc: "Appearing vaguely like an ice blue mottled octopus, the
      icemantle ambushes its prey by clinging to the ceiling
      of its subterranian enviornment and then dropping over
      its victims' heads with unerring accuracy. Icemantles have
      chilling bodies that radiate cold. Icemantles cannot be detected by
      Scent or Tremorsense.";
On Event ((19+2000)+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "deathshroud" : 27, 35
{
Image: brown 't'; Size: 5; Mana: 10;
CR: 3;
HD: 3; Hit: 3; Def: 10; Mov: 100%; Spd: 100%;
Str 16, Dex 10, Con 14, Int 2, Wis 10, Cha 10;
Attk: 14 for 1d4 13 and
0d0 60 (DC 17),
37 for 3d4 3 and
0d0 60 (DC 17),
102 for $"darkmantle";
Stati[124,18,10];
Stati[39,42,6];
Poison: $"elfshot";
Stati[211,(0x0020|0x0004)];
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 39,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Immune: 0x00000010, 0x00008000;
Flags:
59, 104, 36, 3, 2, 66,
55;
Desc: "Appearing vaguely like an brown mottled octopus, the
      deathshroud or 'final blanket' ambushes its prey by clinging to the
      ceiling of its subterranian enviornment and then dropping over its
      victims' heads with unerring accuracy. Its tentacles are coated
      with a contact poison that induces an artificial slumber in victim. 
      Most creatures put to sleep by a deathshroud never awaken. Rumor has
      it that the drow harvest deathshrouds for use in making elfshot.
      Deathshrouds cannot be detected by Scent or Tremorsense.";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};

}

Monster "ettercap" : 26, 35, 59
{
Image: brown 's'; Size: 4;
CR: 4; HD: 5; Hit: +5; Def: 11; Mov: 100%; Spd: 125%;
Str 14, Dex 17, Con 13, Int 6, Wis 15, Cha 8;
Attk: 7 for 1d8+2 12 and 0d0 60 (DC 15),
6 for 1d3+1 11,
6 for 1d3+1 11;
Stati[124,9,4];
Stati[124,18,4];
Stati[124,44,4];
Stati[39,42,6];
Poison: $"ettercap venom";
Spells: $"Ettercap Web";
Feats: ((((49 + 1) + 32) + 50) + 32), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((49 + 1) + 32) + 9),
18, 32, 44;
Flags: 1, 49, 104;
Immune: 0x00002000;
}

Effect "Ettercap Web" : 5
{ 0x00000002; Base: 100; Cost: 10; Level: 1; Flags: 82;
Purpose: 0x00001 | 0x01000 | 0x00040 | 0x00004 |
0x00008;
cval: 15;
aval: 11; lval: 1;
xval: 6;
pval: 1d4+1; sval: 3;
rval: $"ettercap webbing";
qval: 0x0001|0x0004|0x0002;
Desc: "This is similar to an attack with a net but has a maximum range
    of 50 feet, with a range increment of 10 feet, and is effective against
    targets of up to Medium size. The web anchors the target in place,
    allowing no movement.  An entangled creature can escape with a DC 13
    Escape Artist check or burst the web with a DC 17 Strength check. The
    check DCs are Constitution-based, and the Strength check DC includes a
    +4 racial bonus. The web has 6 hit points, hardness 0, and takes double
    damage from fire.";
On Event 28
"The <EActor> throws a web at you!" /
"The <EActor> throws a web at the <EVictim>.",
74
"The ettercap webbing dissolves into mist."; }

Poison "ettercap venom" : 1
{
Level: 5;
cval: 3;
sval: 15;
lval: 3;
xval: 51; pval: 1d6; Desc: "This poison inflicts <11>1d6<7> points of Dexterity damage every 
      <11>3<7> turns, and requires <11>3<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Terrain "Ettercap Webbing"
{ Image: brown '#'; Mat:22; Mov: 100%;
Flags: 6, 5, 12;
On Event 1 {
if (!(EActor->mID == $"ettercap") && !EActor->HasEffStati(189,
$"Universal Solvent") &&
!(EActor->HasAbility(110)) &&
!(EActor->SkillCheck(13,17,true)))
{
DPrint(e,"You fail to escape the ettercap webbing!",
"An <EActor> fails to escape the ettercap webbing!");
EActor->Timeout += 30;
return 1;
}
return 0;
};
On Event 19 {
if (!(EActor->mID == $"ettercap") &&
!(EActor->HasAbility(110))) {
EActor->IPrint("You can't attack while in the ettercap webbing!");
return 2;
}
return 0;
};
On Event 37 {
if (!(EActor->mID == $"ettercap") &&
!(EActor->HasAbility(110))) {
EActor->IPrint("You can't cast spells while in the ettercap webbing!");
return 2;
}
return 0;
};
}

Monster "fire toad" : 35, 83
{
Image: bright red 'B'; Size: 3;
CR: 6; HD: 5; Hit: +5; Def: 16; Mov: 150%; Spd: 150%;
Str 13, Dex 21, Con 14, Int 1, Wis 15, Cha 7; Arm: 4;
Attk: 7 for 1d6 13 and 18 (DC 14),
42 for 3d6 1 (DC 17);
Stati[39,42,6];
Stati[39,66,2];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 22;
Immune: 0x00000001, 0x00008000;
Flags: 36, 3, 26,
56, 35, 41, 55,
2;
Desc: "Irascible and voracious, fire toads are as hyperactive
      as ice toads are sedentry. Their accelerated metabolism gives
      them great reflexes, but also makes them always hungry. They
      most often live near volcanos or other sources of intense
      natural heat.";
}

Monster "spitting frog" : 35, 83
{
Image: white 'B'; Size: 2;
CR: -2; HD: 1; Hit: +3; Def: 10; Mov: 75%; Spd: 75%;
Str 2, Dex 7, Con 16, Int 1, Wis 15, Cha 7;
Attk: 7 for 1d2 13,
40 for 3d6 24 (DC 16)
and 1d4 51 (DC 16);
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 22;
Immune: 0x00000001, 0x00008000;
Flags: 36, 3, 58, 26,
56, 35, 41, 55,
2, 90, 104;
Desc: "These tiny, ivory-white frogs spit a powerfully numbing venom to
      blind their foes. They were originally native to jungles,
      but the most common varieties seen underground have been
      specially bred by goblins as creatures of war -- trained
      not to spit at goblinoids but only at other creatures.";
On Event (49+500) {
if (e.AType == 40 && GetHandle(EVictim) != ((hObj)0))
if (!EVictim->isCreature() ||
EVictim->isMType(84))
return 2;
return 0;
};
}
#line "mon1.irh" 2594
Monster "giant tortoise" : 35, 51, 2
{
Image: green 'B'; Size: 5;
CR: 1; HD: 7; Hit: +2; Def: 10; Mov: 35%; Spd: 50%;
Str 17, Dex 10, Con 21, Int 2, Wis 15, Cha 7;
Attk: 7 for 1d10 13
and 63 (DC 14),
30 for 2d8 13;
Flags: 37, 35, 26, 2,
3, 11;
On Event (41+2000) {
if (e.AType == 65 || e.AType == 41)
if (1d100 >= 25)
{
VPrint(e,"The <EItem2> deflects off your shell.",
"The <EItem2> deflects off the <EVictim>'s shell.");
e.isWildMiss = true;
e.isHit = false;
e.vDmg = 0;
e.aDmg = 0;
return 1;
}
return 0;
},
209
"75~ of missile attacks deflect off of its shell.";
Desc: "Here lives a creature who has probably seen centuries pass.
      A giant tortiose resembles smaller turtles, but has a thick, hard
      shell more than two meters in diameter. It is a slow-moving,
      temperate creature and prefers to avoid conflict where possible.";
}


Monster "grey render" : 35
{
Image: shadow 'B'; Size: 5;
CR: 8; HD: 10; Hit: 10; Def: 15; Mov: 100%; Spd: 140%;
Arm: 5;
Str 23, Dex 10, Con 24, Int 3, Wis 12, Cha 8;
Attk: 7 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11,
33 for 2d6+3 11;
Stati[39,71,6];
Stati[124,44,4];
Stati[39,94,15];
Stati[39,42,6];
Feats: 18, 44, 48,
(((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 73, 92, 55, 36, 66,
11;
Desc: "A gray render stands about 9 feet tall in spite of its hunched
    posture and is about 4 feet wide. It weighs about 4,000 pounds.
    Gray renders are never found in groups. Each of these asexual creatures
    produces one offspring and carries it for a time in a pouch, but
    thereafter the young render must fend for itself.";
}

Monster "grick" : 30, 35, 79
{
Image: green 'w'; Size: 4;
CR: 2; HD: 4; Hit: 2; Def: 14; Mov: 60%; Spd: 70%; Arm: 10;
Str 14, Dex 14, Con 11, Int 3, Wis 15, Cha 5;
Attk: 14 for 1d4 13,
7 for 1d3 12,
30 for 1d8 13;
Stati[39,42,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 66, 3, 2, 4, 27, 36,
73, 8, 55, 96, 40,
11;
Desc: "An underground predator, the grick is a large green worm-creature
      with four suckered tentacles surronding its beak-like mouth. Gricks
      can be as long as 5 feet fully grown, with serpentine bodies up to a
      foot thick.";
}

Monster "ice toad" : 35, 83
{
Image: bright cyan 'B'; Size: 3;
CR: 2; HD: 4; Hit: +2; Def: 8; Mov: 45%; Spd: 70%;
Str 14, Dex 6, Con 17, Int 1, Wis 6, Cha 4; Arm: 7;
Attk: 7 for 1d4 13 and 5d20 25 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Feats: (((((49 + 1) + 32) + 50) + 38) + 26), 22; Immune: 0x00000002, 0x00400000;
Flags: 36, 3, 58, 26,
56, 35, 42, 104;
Desc: "A mottled blue toad the size of a rottwieler, ice
      toads are known for their slothful lifestyle -- they sleep
      nearly 80~ of the time -- and for their vicious temperment
      when awoken from their slumber. Their glands produce a
      venom which makes their targets numb and sluggish; in strong
      enough doses, it can paralyze.";

On Event 156 {
if (!EActor->HasStati(7))
if (random(5))
EActor->GainPermStati(7,NULL,7,2);
},
32 {
if (EActor->isFlatFooted() && !EActor->HasStati(7))
{
DPrint(e,"You go back to sleep.",
"The <EActor> goes back to sleep.");
EActor->GainPermStati(7,NULL,7,2);
}
return 0;
},
(41+2000) {
if (e.DType == 1)
e.vDmg *= 2;
return 0;
},
209
"It takes double damage from fire. It sleeps whenever it is not
        actively fighting.";
}

Monster "froghemoth" : 35, 83
{
Image: bright green 'B'; Size: 5;
CR: 11; HD: 16; Hit: +12; Def: 8; Mov: 150%; Spd: 125%;
Str 24, Dex 18, Con 30, Int 1, Wis 14, Cha 4; Arm: 5;
Attk: 14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
15 for 1d12 11,
37 for 1d8 3
and 2d8 13;
Stati[39,42,6];
Stati[124,44,6];
Stati[124,22,10];
Stati[124,45,10];
Resists: 0x00000001, 0x00000008;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
44, 18, 45, 22;
Flags: 14, 36, 55, 3, 7,
15, 30, 31, 11;
int32 hitCount;
On Event (17+500)
{ hitCount = 0; return 0; },
(20+1000) {
if (e.AType == 14)
hitCount++;
else if (e.AType == 15 && hitCount >= 4)
ThrowDmg(41,93,0,"a froghemoth",EActor,EVictim);
},
209
"If all four of its tentacles and its probiscis hit a victim in
       a single natural attack sequence, that victim is swallowed whole.";
Desc: "A froghemoth is a huge, bloated creature, eighteen feet in length, 
      with a yellow underbelly, light-green sides and a mottled-green back. 
      It is vaguely frog-shaped, but for the two mottled-green tentacles 
      that grow from each shoulder. These tentacles are very strong, and 
      are covered with a leathery hide. It has a fanged maw from which a 
      ten-foot-long barbed tongue hangs, and a weird three-eyed occular 
      appendage that can be retracted to lie flat upon its skull. The 
      froghemoth's eyestalk and nostril stalks can both be extended to 
      three feet above the creature's head.\n
      __Froghemoths swim rapidly by kicking with its webbed hindlegs. In 
      marsh or swamp, a froghemoth lies on its belly and slides forward, 
      propelled by rear legs and four tentacles. On dry land, movement is 
      by short, vaulting hops, relying on the legs to lift the body forwards 
      with the tentacles thrust well ahead of the body.\n
      __Froghemoths live solitary existences except during the late spring 
      mating season. They construct submerged lairs from uprooted trees and 
      other debris, but usually drag prey away from the lair to devour it. 
      Any valuables possessed by a froghemoth's victims will be scattered 
      thoughout the swamp nearby, usually sunk deep in the mud or beneath 
      the waters of a freshwater lake.\n
      __[ Flavor text taken from a conversion by James O'Rance. ]";

}

Monster "osquip" : 25, 2, 79
{
Image: yellow 'r'; Size: 3;
CR: 0; HD:3; Hit: +2; Def: 10; Hit: 4; Mov: 80%; Spd: 70%; Arm: 3;
Str 8, Dex 7, Con 12, Int 3, Wis 8, Cha 3;
Attk:7 for 1d8 13;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), 32, 41;
Flags: 36, 34, 3, 96, 104;
Desc: "A distant cousin of rats, the osquip is a six-legged
      rodent the size of a pit bull, with a leathery yellow hide
      and huge, blunt foreteeth that hang out of its mouth over
      its upper lip. The osquip is a sedentry creature, rarely
      aggressive, and most often content to collect trinkets and
      feed on smaller creatures -- but it will fight visciously
      if it is starved or cornered.";
}

Monster "otyugh" : 35
{
Image: brown 'B'; Size: 5;
CR: 3; HD: 6; Def: 18; Hit: +6; Mov: 75%; Spd: 80%;
Str 11, Dex 10, Con 13, Int 2, Wis 12, Cha 6;
Attk:
14 for 1d6 11,
14 for 2d6 11,
7 for 1d4 12 and 27 (DC 15);
Stati[39,71,6];
Stati[118,13,+1];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 32, 18,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 28, 4, 3, 27;
Disease: $"filth fever";
Desc: "Grotesque subterranian scavengers, otyughs have a body
      shaped like a bloated ovoid, three tentacles and three stubby
      legs. They dwell amidst trash and refuse, scavenging for
      uneaten food, but are not above trying to devour still-living
      creatures to supplement their diet.";
}

Monster "owlbear" : 35
{
Image: brown 'B'; Size: 5;
CR: 5; HD: 5; Hit: 5; Def: 15; Mov: 100%; Spd: 125%;
Str 21, Dex 12, Con 21, Int 2, Wis 12, Cha 10;
Attk: 7 for 1d8+2 12,
6 for 1d6+5 11,
6 for 1d6+5 11,
102 for $"black bear";
Stati[39,94,15];
Stati[39,71,4];
Flags: 3, 36, 35, 55, 107;
Feats: ((49 + 1) + 5), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
32, 44;
Desc: "An owlbear's coat ranges in color from brown-black to yellowish
      brown; its beak is a dull ivory color. A full-grown male can stand as
      tall as 8 feet and weigh up to 1,500 pounds. Adventurers who have
      survived encounters with the creature often speak of the bestial
      madness they glimpsed in its red-rimmed eyes.";
}

Monster "remorhaz" : 30, 35
{
Image: bright cyan 'w'; Size: 6; Arm: 11;
CR: 11; HD: 7; Def: 14; Hit: +7; Mov: 100%; Spd: 125%;
Str 26, Dex 13, Con 21, Int 2, Wis 12, Cha 10;
Attk: 7 for 2d8 13,
111 for 93,
37 for 10d10 1,
60 for 4d10 1 (DC 20);
Stati[39,95,6];
Stati[39,96,5];
Stati[124,32,4];
Immune: 0x00000001, 0x00000002;
Feats: 32, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 36, 3, 66, 35, 27,
42, 41, 96, 55;
Desc: "The remorhaz, or polar worm, resembles a cross between
      a centepede and a manta ray, crawling on hundreds of legs
      and encased in a thick chitinous shell. Its body is like a
      furnace, generating internal tempratures great enough to
      slag steel instantly. Remorhazes are aggressive predators,
      preying on polar bears, elk and the occasional frost giant.";
}


Monster "rust monster" : 35, 58
{
Image: brown 'B'; Size: 4; Depth: 2;
CR: 3; HD: 5; Hit: +5; Def: 15; Mov: 150%; Spd: 100%;
Str 10, Dex 17, Con 13, Int 2, Wis 13, Cha 8;
Attk: 7 for 1d3 13,
9 for 6d6 39 (DC 17),
#line "mon1.irh" 2869
60 for 6d6 39 (DC 25);
#line "mon1.irh" 2872
Stati[39,94,5];
Stati[39,71,9];
Stati[39,42,6];
Feats: ((49 + 1) + 5), 32, 44;
Flags: 3, 4, 2, 60, 55,
27, 40, 11;
Desc: "Recognized by its dinstinctive helicopter-shaped tail and
      twin antenna, the rust monster resembles a strange cross between
      a hedgehog, lizard and beetle. They subsist by dissolving and
      eating metals, and tend to have a playful, non-aggressive manner
      toward other living things. Druids often use rust monsters as
      companions and weapons, given their distaste for most metal
      weapons. A rust monster is only slightly larger then a great
      Bernard.";
}

Monster "porpoise" : 2
{
Image: bright blue 'a'; Size: 4;
CR: 0; HD: 2; Hit: 1; Def: 12; Mov: 100%; Spd: 100%;
Str 11, Dex 17, Con 13, Int 2, Wis 12, Cha 6;
Attk: 19 for 2d4 13;
Stati[39,13,12];
Stati[39,42,6];
Stati[124,44,4];
Stati[124,32,4];
Stati[124,45,8];
Feats: (((49 + 1) + 32) + 0),
32, 44, 45, 37;
Flags: 36, 3, 31, 30, 35, 104,
54;
Desc: "Porpoises are mammals that tend to be playful, friendly, and
    helpful. A typical porpoise is 4 to 6 feet long and weighs 110 to 160
    pounds. ";
}

Monster "cave lizard" : 51, 2
{
Image: green 'R'; Size: 3;
CR: -1; HD: 1; Hit: 1; Def: 12; Mov: 80%; Spd: 60%;
Str 10, Dex 13, Con 13, Int 5, Wis 12, Cha 6;
Attk: 7 for 1d3 12;
Stati[39,42,6];
Feats: ((49 + 1) + 5), 7, 18, 44;
Flags: 35, 36, 3, 54, 104;
Desc: "A variety of species of small lizards inhabit caves
      and underground complexes, feeding on insects, fungi and
      the occasional small rodent.";
}

Monster "shocker lizard" : 51, 35
{
Image: bright cyan 'R'; Size: 3;
CR: 1; HD: 2; Hit: 1; Def: 15; Mov: 80%; Spd: 60%;
Str 10, Dex 15, Con 13, Int 5, Wis 12, Cha 6;
Attk: 7 for 1d4 12,
9 for 2d6 4,
102 for $"cave lizard";
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), 7, 18, 44;
Immune: 0x00000008;
Flags: 35, 36, 3, 45, 104;
Desc: "A tiny blue lizard similar to a bipedal gecko, shocker
      lizards have wide, curious eyes, thin antenna-like horns and
      a bullet-shaped head. They are renouned for their ability to
      produce a strong bioelectric charge, more powerful the more
      of the lizards there are nearby, and are sometimes used by
      wizards as familiars.";
On Event (41+500) {
hObj c;
#line "mon1.irh" 2945
if (e.DType == 4 && e.AType == 9)
for(c = EMap->FirstThing(); c ; c = EMap->NextThing())
if (c->isCreature() && c->mID == $"shocker lizard")
if (c != GetHandle(EActor))
if (dist(c->x,c->y,EActor->x,EActor->y) <= 6)
e.vDmg += 5;
},
(41+1000) {
if (e.DType == 4)
EActor->IdentifyMon();
return 0;
};
}

Monster "stirge" : 3, 2
{
Image: red 'b'; Size: 2;
CR: -4; HD: 1; Hit: 1; Def: 12; Mov: 130%; Spd: 100%;
Str 3, Dex 19, Con 10, Int 1, Wis 12, Cha 6;
Attk: 10 for 1d2 12,
31 for 1d4 52,
102 for $"bat";
Stati[39,42,6];
Feats: ((((49 + 1) + 32) + 50) + 8), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 3, 8, 28, 12,
55, 36, 107, 104;
Desc: "A twisted cross between a bat and a mosquito, the stirge
      (or archaically, 'ghoulstirge') is a winged subterranian predator 
      that latches onto victims, pierces them with its probiscis and
      drains their blood to sustain itself.";
}

Monster "thunderbeast" : 35, 24
{
Image: brown 'B'; Size: 6;
CR: 7; HD: 5; Hit: +4; Def: 10; Mov: 150%; Spd: 80%;
Str 30, Dex 10, Con 21, Int 2, Wis 13, Cha 7;
Attk:
20 for 2d8 13,
23 for 2d6 12;
Stati[118,18,10];
Stati[39,42,6];
Resists: 0x00000001, 0x00000002; Immune: 0x00000010, 0x00010000;
Feats: ((((49 + 1) + 32) + 50) + 32), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6),
32, 44;
Flags: 3, 27, 37, 73,
11, 7, 8, 15,
55;
On Event 156 {
EMap->NewField(0x00000004|0x00000002|0x00000100,EActor->x,EActor->y,6,
1*256+'~',-1,$"thunderbeast fumes",EActor);
return 0;
},
(20+1000) {
if (e.AType == 20)
ThrowEff(52,$"tremor",EActor);
return 0;
},
((28+2000)+500) {
if (e.eID == $"tremor")
if (GetHandle(EActor) == GetHandle(EVictim))
return 1;
return 0;
},
209
"It exudes debilitating fumes in a 60 foot radius, inflicting
        a -2 general penalty on all breathing creatures in that area.
        When it stomps, the ground shakes as per a <1>Tremor<7> spell,
        but the thunderbeast is unaffected.";
Desc: "These creatures resemble a cross between a hippopotamus,
      a sabre-toothed tiger and a giant boar. Originally native to
      the Abyss, they have migrated to the prime material and adapted
      to life as natives. Demons sometimes use these creatures as
      mounts. They are herbivores, but are terribly strong and can
      be very dangerous if they stampede. Their name originates from
      the shroud of vapours they naturally exude, in combination with 
      their terrible roar, likening them to thunderclouds.";
}

Effect "thunderbeast fumes" : 3
{ aval: 9; rval: 0x00000004 | 0x00000002 | 0x00000100;
xval: 117; yval: 51; pval: -1;
tval: 78; lval: 6; cval: 1; Purpose: 0x00010;
Flags: 4, 33, 64, 82;
On Event
43
"Strange blue fog envelops you." /
"The <EActor> is enveloped in the fog.",
44
"The air seems cleaner now." /
"The <EActor> leaves the strange fog.";
}

Monster "juvenile tojanda" : 35, 51
{ Image: cyan 'R'; Size: 3; Mana: 7; Arm: 5;
CR: 3; Depth: 3; HD: 3; Def: 16; Hit: +4; Mov: 200%; Spd: 80%;
Str 14, Dex 13, Con 15, Int 10, Wis 12, Cha 9;
Attk: 7 for 2d6 13,
6 for 1d4 11,
40 for 3d4 24 (DC 16);
Stati[39,42,6];
Stati[39,100,3];
Immune: 0x00000004, 0x00000002; Resists: 0x00000001, 0x00000008;
Feats: 18, 32, 41, 44, ((49 + 1) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"ink cloud";
Flags: 30, 27, 3, 35,
36, 37, 38, 43;
Desc: "Tojanda resemble large snapping turtles, but are far more
      agile swimmers. Both their back and undersides are covered with
      a shell of hexagonal plates. They have four fins that they use
      to walk or propel themselves through the water with equal ease,
      and one crab-like pincer each on their lower front and upper 
      back. The creature's small head has a wide, thin vertical maw,
      and can retreat into its shell if threatened. Tojanda are generally
      serene creatures, and aren't aggressive unless threatened.";
}

Effect "ink cloud" : 46
{ aval: 7; rval: 0x00010000; pval: 6; Flags: 82;
Purpose: 0x00040 (0x01000);
}

Monster "tojanda" : 35, 51
{ Image: skyblue 'R'; Size: 4; Mana: 7; Arm: 6;
CR: 9; Depth: 3; HD: 7; Def: 17; Hit: +6; Mov: 200%; Spd: 80%;
Str 16, Dex 13, Con 15, Int 10, Wis 12, Cha 9;
Attk: 7 for 2d8 13,
6 for 1d6 11,
6 for 1d6 11,
40 for 3d4 24 (DC 18);
Stati[39,42,6];
Stati[39,100,3];
Immune: 0x00000004, 0x00000002; Resists: 0x00000001, 0x00000008;
Feats: 18, 32, 41, 44,
((49 + 1) + 25), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"ink cloud";
Flags: 30, 27, 3, 35,
36, 37, 38, 43;
Desc: "Tojanda resemble large snapping turtles, but are far more
      agile swimmers. Both their back and undersides are covered with
      a shell of hexagonal plates. They have four fins that they use
      to walk or propel themselves through the water with equal ease,
      and one crab-like pincer each on their lower front and upper 
      back. The creature's small head has a wide, thin vertical maw,
      and can retreat into its shell if threatened. Tojanda are generally
      serene creatures, and aren't aggressive unless threatened.";
}

Monster "elder tojanda" : 35, 51
{ Image: azure 'R'; Size: 5; Mana: 7; Arm: 7;
CR: 11; Depth: 5; HD: 15; Def: 18; Hit: +15; Mov: 200%; Spd: 80%;
Str 22, Dex 13, Con 19, Int 10, Wis 12, Cha 9;
Attk: 7 for 4d6 13,
6 for 1d8 11,
6 for 1d8 11,
40 for 3d4 24 (DC 20);
Stati[39,42,6];
Stati[39,100,3];
Immune: 0x00000004, 0x00000002; Resists: 0x00000001, 0x00000008;
Feats: 18, 32, 41, 44,
((49 + 1) + 25), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"ink cloud";
Flags: 30, 27, 3, 35,
36, 37, 38, 43;
Desc: "Tojanda resemble large snapping turtles, but are far more
      agile swimmers. Both their back and undersides are covered with
      a shell of hexagonal plates. They have four fins that they use
      to walk or propel themselves through the water with equal ease,
      and one crab-like pincer each on their lower front and upper 
      back. The creature's small head has a wide, thin vertical maw,
      and can retreat into its shell if threatened. Tojanda are generally
      serene creatures, and aren't aggressive unless threatened.";
}

Monster "winged snake" : 52, 35, 81
{ Image: bright green 'R'; Size: 4; Mana: 12; Arm: 3;
CR: 2; HD: 4; Def: 17; Hit: +2; Mov: 150%; Spd: 120%;
Str 12, Dex 14, Con 14, Int 3, Wis 14, Cha 14;
Attk: 7 for 1d4 12 and 2d8 3,
42 for 2d8 4;
Stati[124,7,6];
Stati[39,42,6];
Immune: 0x00000008;
Feats: 18, 36,
7;
Flags: 3, 2, 35, 36,
37, 45, 74, 35, 104;
Desc: "Winged snakes are colorful reptiles who may be distant
      relatives of the couatl. Though their acidic bite is powerful,
      they are most feared for their ability to build up a charge
      of static electricity by beating their wings in the air, then
      breathing a shower of sparks out of their mouth -- hence their
      alternate name, spark snakes.";
On Event 200
"shower of sparks";
}
#line "mon1.irh" 3148
Template "feral" : 0x0008 for 2
{ CR: +2; Hit: +6; HD: +1; Spd +50%;
MType: 35;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13);
Flags: 56, -2, 55;
Desc: "Feral animals attack with incredible speed and force. Their 
      Monk-like natural attacks make them dangerous foes in close
      quarters. Feral animals gain a +6 template bonus to their natural
      attack and damage rolls.";
On Event 156 {
EActor->GainPermStati(106,NULL,3,21,6);
};
}

Template "razorjaw" : 0x0008 for 35
{
Desc: "An evolutionary quirk has given this beast a
      hinged jaw and a terrible bite capable of maiming men or
      severing limbs.";
Flags: !35;
CR: +1;
Attk:
7 for 4d8 11;
On Event (19+1000) {
if (e.AType == 7)
EActor->IdentifyTemp($"razorjaw");
},
155 {
if (!EActor->HasAttk(7))
return -1;
return 0;
},
#line "mon1.irh" 3191
209
"On a critical hit, its bite severs a limb.";
}

Template "dire" : 0x0008 for 2
{ CR: +3; Size: +1; Str +4, Dex +2, Con +2; Immune: 0x08000000;
Arm: +3; Hit: +4; HD: +4; Flags: 55, 56, -2,
!35;
MType: 35;
Desc: "Dire animals are feral beasts with a vaguely prehistoric
      look. They are stronger, tougher and more aggressive than their
      mundane counterparts.";
#line "mon1.irh" 3214
}
#line "mon1.irh" 3384
Monster "ape" : 2, 59
{
Image: shadow 'Y'; Size: 5;
CR: 5; HD: 4; Hit: 3; Def: 12; Mov: 100%; Spd: 100%;
Str 21, Dex 15, Con 14, Int 2, Wis 12, Cha 7;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d6 12;
Stati[39,42,6];
Stati[124,7,8];
Stati[39,71,5];
Feats:
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((49 + 1) + 27),
7, 32, 44;
Flags: 1, 35, 36, 14, 74, 104;
Desc: "Gorillas are the largest of the primates, weighing up to 400
    pounds. They have a much heavier build than the chimpanzee, having more
    muscles, bigger canine teeth, and a much larger stature. The Eastern
    lowland gorilla has longer teeth, stronger jaws, and a broader body
    than the Western lowland gorilla. Gorillas walk on all fours, but use
    the knuckles on their hands instead of their palms. Eastern lowland
    gorillas have black coats, and the males develop silver backs as they
    mature.";
}

Monster "baboon" : 2, 59
{
Image: blue 'Y'; Size: 4;
CR: -2; HD: 1; Hit: 0; Def: 11; Mov: 150%; Spd: 100%;
Str 15, Dex 14, Con 12, Int 2, Wis 12, Cha 4;
Attk: 7 for 1d6 12;
Stati[39,42,6];
Stati[124,7,8];
Stati[39,71,5];
Feats:
((49 + 1) + 5), ((49 + 1) + 27),
7, 32, 44;
Flags: 1, 35, 36, 75, 104, 74;
Desc: "Baboons are powerful and aggressive primates adapted to life on
    the ground. They prefer open spaces but climb trees to find safe places
    to rest overnight. A typical baboon is the size of a big dog.
    Males can be 2 to 4 feet long and weigh as much as 90 pounds.";
}

Monster "blood ape" : 35, 59
{
Image: pink 'Y'; Size: 5;
CR: 4; HD: 4; Hit: 5; Def: 13; Mov: 100%; Spd: 100%;
Str 21, Dex 15, Con 14, Int 2, Wis 12, Cha 7;
Attk: 1 for 1d6 13,
1 for 1d6 13,
7 for 1d6 12,
102 for $"ape";
Stati[39,42,6];
Stati[39,71,5];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 7, ((49 + 1) + 27),
32,
20;
Flags: 36, 14, 104;
Spells: $"bull's strength", $"enlarge", $"cause fear";
On Event (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "girallon" : 35, 59
{
Image: purple 'Y'; Size: 5;
CR: 8; HD: 7; Hit: 7; Def: 12; Mov: 150%; Spd: 135%;
Arm: 2;
Str 22, Dex 17, Con 14, Int 2, Wis 12, Cha 7;
Attk: 6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11,
7 for 1d8 12,
102 for $"ape";
Stati[124,7,8];
Stati[39,42,6];
Stati[39,71,5];
Feats:
(((((49 + 1) + 32) + 50) + 38) + 26), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((49 + 1) + 27),
7, 36, 44;
Flags: 36, 14, 104;
Desc: "Girallons are savage, magical cousins of the gorilla. When
    moving on the ground, a girallon walks on its legs and lower arms. An
    adult girallon is about 8 feet tall, broad-chested, and covered in
    thick, pure white fur. It weighs about 800 pounds.
    A solitary girallon usually conceals itself in the branches of a tree
    or under a pile of leaves and brush, with only its nose showing. When
    it spots or scents prey, it charges to the attack. A girallon picks up
    prey that is small enough to carry and withdraws, often vanishing into
    the trees before the victim's companions can do anything to retaliate.
    Against larger foes, a girallon seeks to tear a single opponent to bits
    as quickly as it can.";
On Event (52+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "monkey" : 2, 59
{
Image: brown 'Y'; Size: 2;
CR: -6; HD: 1; Hit: 0; Def: 12; Mov: 100%; Spd: 100%;
Str 5, Dex 17, Con 10, Int 2, Wis 12, Cha 5;
Attk: 7 for 1d3 12,
9 for 0d0 36 (DC 16);
Feats: 5, 7, 18,
(((49 + 1) + 32) + 44), ((49 + 1) + 27);
Flags: 104, 1, 35, 36, 37, 74;
}
#line "mon1.irh" 3503
Monster "blazing terror" : 5, 35
{
Image: white 'c'; Size: 5;
CR: 3; HD: 3; Hit: 3; Def: 11; Mov: 150%; Spd: 120%;
Str 11, Dex 15, Con 12, Int 3, Wis 10, Cha 12;
Attk: 7 for 1d8 12 and 2d6 2,
54 for 2d6 2,
47 for 1d3 17 (DC 12);
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 19), (((49 + 1) + 32) + 44),
18, 22, 36, 44, 48;
Flags: 39, 36, 3, 55, 75, 88,
55, 11, 42;
Immune: 0x00000002;
Resists: 0x00000200;

On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
},
213 "wail" / "wails";

Desc: "These snow-white creatures appear very similar to
      a giant lynx, but with a long serrated beak. It has a
      sleek, muscular body, strong legs, and unusually
      wide paws that allow it to readily move across
      loose snow. The tail of a blazing terror is short and
      covered in a fuzz of crystalline spikes. Otherwise
      this creature is free of markings, and blends
      effortlessly into a snow or glacial background.
        The blazing terror prefers a rugged icy environment
      where it can stealthily approach its prey. It can
      easily withstand extremely cold temperatures and is
      unaffected by wind chill. It can communicate
      simple messages with its own kind in a harsh bark,
      and hungry groups of blazing terrors occasionally
      hunt cooperatively to attack small herds. However,
      they generally prefer solitary nocturnal hunting
      when plentiful small game becomes available.
        In contrast with most of the denizens of the cold
      elemental planes, the blazing terror moves with
      startling speed. It is a ferocious hunter that will
      relentlessly pursue its prey. However, the blazing
      terror prefers to leap on its prey from ambush,
      relying on speed and surprise.
        Unlike the great cats, the blazing terror does not
      use its padded feet in combat. Instead it relies on a
      razor-sharp beak that is capable of cutting through
      armor or bone.
        A blazing terror cannot consume flesh that is not
      frozen and so will not generally hunt warm-blooded
      creatures for food. However, for reasons not fully
      understood, a blazing terror hates any being from
      an ice-free environment. Thus it will attack any
      warm-blooded creatures that are not native to the
      region, even though it has no desire to consume
      their flesh.";
}

Monster "cave lion" : 5, 2
{
Image: brown 'c'; Size: 5;
CR: 6; HD: 7; Hit: +5; Def: 15; Mov: 150%; Spd: 130%;
Str 24, Dex 16, Con 17, Int 2, Wis 12, Cha 7;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[124,18,4];
Stati[124,36,4];
Flags: 36, 35, 3, 75, 55, 11;
Resists: 0x00000002;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
18, 22, 32, 36, 44;
Desc: "This believed-extinct member of the cat family was a third larger in overall
dimensions compared to the modern lion, and weighed perhaps half again as
much. They also hunted in prides, much like the modern lion.  Cave lions
were well-adapted to cold climates, with a warm coat and larger body mass to
preserve heat.";
}

Monster "cheetah" : 5, 2
{
Image: bright yellow 'c'; Size: 4;
CR: 4; HD: 3; Hit: 2; Def: 11; Mov: 200%; Spd: 115%;
Str 16, Dex 19, Con 15, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d6 12 and 67 (DC 19),
6 for 1d2 11 and 67 (DC 19),
6 for 1d2 11 and 67 (DC 19);
Stati[39,71,5];
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 21), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),
18, 32, 36, 44;
Flags: 36, 35, 3, 75, 15, 11;
Desc: "Cheetahs are swift feline predators of the plains. A cheetah is
    3 to 5 feet long and weighs 110 to 130 pounds.";
}

Monster "displacer beast" : 5, 35
{
Image: magenta 'c'; Size: 5;
CR: 7; HD: 6; Hit: 8; Def: 16; Mov: 150%; Spd: 120%;
Str 18, Dex 15, Con 16, Int 2, Wis 12, Cha 8;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12,
27 for 1d4 11,
102 for $"leopard";
Stati[39,71,6];
Feats: 18, 36, 5, 7,
44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((49 + 1) + 5), (((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Stati[145,2,50,$"displacement"];
Flags: 35, 36, 3,
92, 74, 98, 55;
Desc: "A great cat resembling a panther or leopard, the
      displacer beast is named for its magical ability to
      camoflague its position, giving the illusion that it
      is approximately two feet from where it actually is.
      This feat is accomplished with the aid of two strange
      organs mounted on the tips of tentacles growing out
      of the displacer beast's back. Displacer beasts enjoy a
      50~ miss chance against physical attacks from displacement.";
On Event ((21+2000)+1000) {
if (e.isWildMiss)
EActor->IdentifyMon();
return 0;
};
}

Monster "krenshar" : 5, 35
{
Image: pink 'c'; Size: 4;
CR: 0; HD: 2; Hit: 2; Def: 13; Mov: 150%; Spd: 110%;
Str 11, Dex 14, Con 11, Int 6, Wis 12, Cha 13;
Attk: 7 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11,
47 for 3d4 28 (DC 15),
102 for $"leopard";
Stati[124,22,4];
Stati[124,36,4];
Stati[39,42,6];
Feats: 44, 18, 36,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 3, 36, 11;
Immune: 0x08000000;
Desc: "The krenshar is a strange, catlike carnivore with extremely
    flexible skin on its head. A typical krenshar measures 4 or 5 feet in
    length with a long, narrow head. It weighs about 175 pounds.";
On Event 213 "wail" / "wails",
(49+1000) {
EActor->IdentifyMon();
return 0;
};

}

Monster "leopard" : 5, 2
{
Image: purple 'c'; Size: 4;
CR: 3; HD: 3; Hit: 5; Def: 11; Mov: 150%; Spd: 120%;
Str 16, Dex 19, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12,
27 for 1d4 11;
Stati[39,71,5];
Feats: 5, 7, 18, 36,
44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19);
Flags: 35, 36, 3, 74,
92, 11;
Desc: "Leopards live in highly variable habitats. They feel just as
    secure in swampy tropical forests as in rugged mountains. They live in
    lowland forests, mountains, grasslands, brush country, and deserts.
    These cats have an elongate and muscular body. Their paws are broad and
    their ears are short. In tropical regions their coats tend to be
    shorter and sleeker, whereas in colder climates their fur is longer and
    denser. The coloration varies from the color of straw to grayish to
    even chesnut. The backs of the ears are black except for a spot either
    located centrally or near the tips. These appear to other animals as
    eyes. The throat, chest, belly, and the insides of the limbs are white.
    The rest of the head, throat, chest, and limbs all have small black
    spots.";
}


Monster "sea cat" : 5, 35
{
Image: blue 'c'; Size: 5;
CR: 6; HD: 6; Hit: 6; Def: 18; Mov: 150%; Spd: 130%;
Str 19, Dex 12, Con 17, Int 2, Wis 13, Cha 10, Luc 16;
Attk: 7 for 1d8+2 12,
6 for 1d6+4 11,
6 for 1d6+4 11;
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
45, 18, 5, 36,
44;
Flags: 36, 3, 31, 55;
Desc: "Sea cats attack on sight, either for food or to defend their
      territory, and use both claws and teeth to grab and rend their prey.
      They display tremendous courage, always fighting to the death, even
      against creatures many times their size. Pairs and prides of sea cats
      attack in concert, trying to wear the opponent down until one beast can
      dispatch it. A typical sea cat is 12 feet long and weighs 800 pounds.";
}

Monster "smilodon" : 5, 2
{
Image: red 'c'; Size: 5;
CR: 5; HD: 5; Hit: 3; Def: 13; Mov: 100%; Spd: 120%;
Str 25, Dex 14, Con 16, Int 2, Wis 12, Cha 6;
Attk: 7 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11;
Stati[124,18,4];
Stati[124,36,4];
Stati[39,71,5];
Stati[118,13,+1];
Feats: ((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),
18, 32, 36, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3,
55, 75, 11;
Desc: "This great predator is the last in a long and
successful line of saber-toothed cats. Like other
cats, the smilodon has a warm fur coat for
protection against the elements, but they only have
a brief tail. It stands three feet in height at the
shoulders, with a mass of well over 450 lbs. 
However, the front quarters are heavier, the
hindquarters lighter, and the tail is bobbed.
The favorite prey of this cat were large, thickskinned
animals like the mammoths that carry a lot
of meat. In particular they preferred to prey on
young mammoths. Once these huge creatures died
out, the smilodon became extinct.
The long, flat canine teeth of the smilodon are a
monstrous 8 in. in length, with fine serrations along
the cutting edge to increase their slashing effect.
The lower jaw of this cat can open wide during an
attack, allowing the beast to bite deep into a hide.
By biting the prey and pulling backward, the two
fangs leave long gashes to let out blood.
The smilodon has short, muscular legs and a
powerful body, making it slow but capable of
clinging to large prey. Once the bleeding prey is
down, however, the teeth of this cat are ill suited
for chewing food, so it must survive by drinking
the blood of its victims and gulping down large
strips of meat. Much of the remains are then
consumed by scavenging creatures."; }

Monster "tiger" : 5, 2
{
Image: brown 'c'; Size: 5;
CR: 6; HD: 6; Hit: 6; Def: 13; Mov: 150%; Spd: 150%;
Str 23, Dex 15, Con 17, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d8 11,
6 for 1d8 11,
7 for 2d6 12,
27 for 1d8 11;
Feats: 45, 18, 5, 36, 22,
44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3, 11;
Desc: "The tiger's body is built in such a way to aid in its hunting
    techniques. Longer hindlimbs than forelimbs are an adaptation for
    jumping, while strong and powerful forelimbs and shoulders aid in
    dragging down large prey. Like all cats, tigers have sharp retractile
    claws. These help this predator to hold onto its prey once the initial
    attack is made.

    Another adaptation to hunting is the tiger's large and powerful jaw,
    which includes relatively flattened canines. The jaw's power makes the
    tiger's bite deadly.

    The stripes on a tiger act in the same way that a fingerprint does on a
    human. Each stripe pattern is unique to that particular individual.";
}

Monster "spectral panther" : 5, 35
{
Image: shadow 'c'; Size: 5;
CR: 5; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 18, Dex 13, Con 16, Int 13, Wis 14, Cha 15;
Attk: 7 for 1d8+6 12,
50 for 1d1 28 (DC 13),
102 for $"leopard";
Stati[124,36,4];
Stati[124,18,8];
Stati[39,42,12];
Stati[39,61,3];
Feats:
((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 27),
22, 18, 32, 36, 44;
Flags: 36, 3, 11, 49;
Desc: "Spectral panthers are mysterious creatures that feed on both the
      fear and the flesh of their prey. Spectral panthers have a Ghost Touch
      ability that allows them to attack incorporeal and corporeal creatures
      normally.";
On Event (19) {
e.isGhostTouch = true;
},
(49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "elven cat" : 5, 2, 81
{
Image: purple 'c'; Size: 2; Mana: 46;
CR: 1; HD: 1; Hit: 1; Def: 16; Mov: 150%; Spd: 120%;
Str 5, Dex 26, Con 12, Int 5, Wis 14, Cha 16;
Attk: 7 for 1d3 12,
6 for 1d2 11,
6 for 1d2 11;
Stati[124,36,10];
Stati[124,22,10];
Stati[124,18,4];
Stati[39,53,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((49 + 1) + 32) + 50) + 38) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 2),
22, 18, 36, 44, 32;
Flags: 36, 3, 50, 52;
Spells: $"detect evil", $"faerie fire", $"protection from evil",
$"cat's grace", $"spook", $"phantasmal force";
Desc: "The much-beloved housepets of ancient elves, elven cats
      resemble normal housecats but are unnaturally sleek and often
      have fur of an odd color, such as silver. They are of limited
      intelligence but great cunning and will, and while they are
      haughty creatures, they are also fierce opponents of evil
      and loyal bond-companions to any master they find worthy of
      their time.";
}

Monster "badger" : 2
{
Image: brown 'a'; Size: 2;
CR: -2; HD: 1; Hit: 1; Def: 12; Mov: 100%; Spd: 100%;
Str 8, Dex 17, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d2 11,
6 for 1d2 11,
7 for 1d3 12;
Stati[39,71,5];
Feats: 13, 32;
Flags: 35, 36, 3, 96, 74;
On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
};
Desc: "The badger is a mammal characterized by short, strong legs;
      elongated feet that are more or less plantigrade (heels touch the
      ground); and straight, strong toes adapted to burrowing. Badgers are
      heavily furred, distinctly marked, and very strong. They live in dens
      and are mostly nocturnal. They have perineal glands, which emit a
      fetid odor. The pelts have considerable value as furs, and the hairs
      are used in the manufacture of shaving and other types of brushes.";
}

Monster "bat" : 3, 2
{
Image: brown 'b'; Size: 2;
CR: -6; HD: 1; Hit: +0; Def: 10; Mov: 150%; Spd: 100%;
Str 1, Dex 15, Con 10, Int 2, Wis 14, Cha 4;
Attk: 7 for 1d1 12;
Stati[124,44,4];
Stati[124,32,4];
Stati[39,13,2];
Feats: (((49 + 1) + 32) + 44), ((49 + 1) + 5),
18, 32, 36, 44;
Flags: 36, 37, 34, 104,
3, 2, 12, 6;
Desc: "During the day, they live in hollow trees, underneath large
      leaves, and beneath the eaves of buildings. They often roost where
      there in considerable light. Every few days, they will move to a new
      roosting site. They roost in small groups containing mixed ages of
      males and females, the size of which range from three to one hundred
      individuals. They often choose the same spot to roost, at certain
      times of the year, for many consecutive years. While hanging from
      their feet in their roosts, they will isolate themselves from their
      neighbors by short distances. While roosting, they remain relatively
      quiet, and do not move very much. They make it a point to not intrude
      on each other's space.";
}

Monster "bison" : 2, 24
{
Image: brown 'q'; Size: 5;
CR: 2; HD: 5; Hit: 3; Def: 14; Mov: 130%; Spd: 90%;
Str 18, Dex 10, Con 16, Int 2, Wis 11, Cha 6;
Attk: 8 for 1d8 11;
Feats: 32;
Flags: 35, 37, 3, 75;
Desc: "Two distinctive features of
    the bisons are the shoulder hump and their huge head. The color of the
    bison is brown, varying slightly from the front and back of the animal.
    The hair is longer in the front than in the rear of the bison. The
    distinction between hair length is more noticeable in males than
    females. The horns of the bison are black, and they curve upward and
    inward, ending in a sharp tip. The legs of the bison are short but
    firm. The hooves are black and are circular in shape.";
}

Monster "black bear" : 2, 24
{
Image: bright black 'a'; Size: 4;
CR: 2; HD: 3; Hit: 3; Def: 12; Mov: 130%; Spd: 80%;
Str 19, Dex 13, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12;
Stati[39,71,5];
Feats: 7, 44, 45;
Flags: 35, 36, 3, 96, 74,
11;
Desc: "Black bears are usually black in color.  They usually have a
    pale muzzle which contrasts with their darker fur and may sometimes
    have a white chest spot. Western populations are usually lighter in
    color, being more often brown, cinnamon, or blonde.  Throughout their
    ranges, black bears consume primarily grasses and forbs in spring, soft
    mast in the form of shrub and tree-borne fruits in summer, and a
    mixture of hard and soft mast in fall. However, the availability of
    different food types varies regionally. Only a small portion of the
    diet of bears consists of animal matter, and then primarily in the form
    of colonial insects and beetles. Most vertebrates are consumed in the
    form of carrion. Black bears are not active predators and feed on
    vertebrates only if the opportunity exists.";
}

Monster "boa constrictor" : 52, 31, 2
{
Image: red 'R'; Size: 4;
CR: 1; HD: 3; Hit: 2; Def: 12; Mov: 50%; Spd: 100%;
Str 17, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d3+1 12,
32 for 1d3+1 13;
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[39,71,5];
Feats:
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
5, 7, 18, 32, 44, 45;
Flags: 3, 34, 36, 30, 74;
Desc: "A large, coiled snake up to ten feet long, the boa
      constrictor is a carnivore that kills its prey by coiling
      around it and then crushing it to death.";
}

Monster "giant constrictor snake" : 52, 31, 2
{
Image: bright red 'R'; Size: 6;
CR: 7; HD: 11; Hit: 8; Def: 14; Mov: 50%; Spd: 150%;
Str 25, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d8 12,
32 for 2d8 13;
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[39,71,5];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
5, 7, 18, 32, 44, 45;
Flags: 3, 34, 36, 30, 74;
Desc: "A large, coiled snake up to twenty feet long, the giant
      constrictor is a carnivore that kills its prey by coiling
      around it and then crushing it to death.";
}

Monster "huge viper" : 52, 31, 2
{
Image: bright green 'R'; Size: 6;
CR: 5; HD: 6; Hit: 6; Def: 15; Mov: 50%; Spd: 100%;
Str 16, Dex 15, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d6+4 12 and 0d0 60 (DC 14);
Stati[124,18,4];
Stati[124,32,4];
Stati[124,44,4];
Stati[124,5,8];
Stati[39,71,5];
Stati[124,7,8];
Stati[118,13,+1];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21),
5, 7, 18, 44, 32;
Flags: 3, 34, 36, 30;
Poison: $"viper venom";
Desc: "Generally considered a slow moving, somewhat placid animal,
    vipers are not considered aggressive unless provoked or
    hungry. If tampered with it will generally puff up and give an
    extremely loud hiss. It can, however, strike with lightning speed up to
    half its body length, in any direction.";
}

Poison "viper venom" : 1
{
Level: 5;
cval: 1;
sval: 14;
lval: 2;
xval: 52; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>1<7> turn, and requires <11>2<7> saving throws against <11>DC 14<7> 
      to overcome.";
}


Monster "wild boar" : 2, 24
{
Image: red 'a'; Size: 4;
CR: 3; HD: 3; Hit: 6; Def: 16; Mov: 130%; Spd: 150%;
Str 15, Dex 10, Con 17, Int 2, Wis 13, Cha 4;
Attk: 23 for 1d8+3 11;
Stati[39,71,12];
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
32, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 35, 36, 3, 15,
11, 74, 75;
Desc: "The boar is thought
    to represent the primitive condition of ungulates in that they have a
    comparatively simple digestive system. Smell is by far the most
    advanced of the pig's senses. A large round disk of cartilage is
    connected to muscle that gives the snout extra flexibility. The boar
    also has an advanced sense of taste. They are quick to identify unknown
    objects with their sense of taste. It is believed that boars lack
    good eyesight. The eyes are positioned on the sides of the head,
    restricting their forward vision. The boar has varying ear shapes,
    ranging from small and erect to low-flapping.";
On Event 163 {

if (EActor->HasEffStati(71,$"dire"))
e.nBase = "boar";
return 0;
};
}

Monster "arctic boar" : 2, 24
{
Image: white 'a'; Size: 4;
CR: 3; HD: 3; Hit: 6; Def: 16; Mov: 130%; Spd: 150%;
Str 16, Dex 10, Con 17, Int 3, Wis 13, Cha 4;
Attk: 23 for 1d12 12;
Stati[124,5,12];
Stati[39,71,12];
Resists: 0x00000002;
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
32, 5, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 35, 36, 3, 15,
11, 42;
Desc: "The arctic boar is a white, shaggy version of the common wild
    board. It is quite sure-footed on icy terrain.";
}


Monster "brown bear" : 2, 24
{
Image: brown 'a'; Size: 4;
CR: 5; HD: 6; Hit: 6; Def: 12; Mov: 130%; Spd: 110%;
Str 27, Dex 13, Con 19, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d8 11,
6 for 1d8 11,
7 for 2d8 12;
Stati[39,71,5];
Feats: 7, 44, 45;
Flags: 35, 36, 3, 96;
}

Monster "canis dirus" : 2, 6
{
Image: brown 'd'; Size: 4;
CR: 2; HD: 3; Hit: +2; Def: 13; Mov: 150%; Spd: 110%;
Str 16, Dex 14, Con 17, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d8 12,
102 for $"wolf";
Stati[39,94,12];
Stati[39,71,6];
Flags: 36, 35, 3, 75, 55, 11;
Stati[118,13,+1];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
18, 32, 36, 44, 48;
Desc: "This predator was a slightly larger version of the
    common wolf, with a length of 5 feet and a weight
    of 110 lbs. The canis dirus is the largest member of
    its species known to have existed. It had a heavier
    build than a common wolf, with shorter but sturdier
    legs and a larger head. It was quite capable of
    crushing bones with its large, powerful teeth.
    However, it had a smaller brain and was not as
    intelligent as its lesser cousins. Neither could it run
    as fast due to its shorter legs.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}


Monster "crocodile" : 51, 2
{
Image: blue 'R'; Size: 4;
CR: 3; HD: 3; Hit: 6; Def: 14; Mov: 50%; Spd: 110%;
Str 19, Dex 12, Con 17, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d8+6 12;
Stati[124,18,14];
Stati[39,42,6];
Feats: 45, 18, 32, 44, ((49 + 1) + 5),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3, 30, 55, 73;
Desc: "Crocodiles are aggressive predators 11 to 12 feet long. They lie
    mostly submerged in rivers or marshes, with only their eyes and
    nostrils showing, waiting for prey to come within reach.";
}

Monster "giant crocodile" : 51, 2
{
Image: bright blue 'R'; Size: 6;
CR: 9; HD: 7; Hit: 11; Def: 17; Mov: 50%; Spd: 135%;
Str 27, Dex 12, Con 19, Int 1, Wis 12, Cha 2;
Attk: 7 for 2d8+12 12,
111 for 0d0 93,
37 for 2d8 3;
Stati[39,42,6];
Feats: 45, 18, 32, 44, ((49 + 1) + 5),
(((((49 + 1) + 32) + 50) + 38) + 2), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 35, 36, 3, 30, 55, 73;
Desc: "These huge creatures usually live in salt water and can be more
    than 20 feet long.  Giant crocodiles fight and behave like their
    smaller cousins.";
}

Monster "eagle" : 4, 2
{
Image: yellow 'b'; Size: 3;
CR: -4; HD: 1; Hit: 1; Def: 11; Mov: 200%; Spd: 120%;
Str 10, Dex 15, Con 12, Int 2, Wis 14, Cha 4;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 12;
Feats: ((49 + 1) + 2), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 44, 32;
Flags: 35, 36, 3, 74,
12, 11; Desc: "The eagle tends to live in forests, where it will build
    a huge, conspicuous nest in an isolated tall tree. Old forests, and the
    forests in mountains, hills, and along rivers are all common habitats.
    It has, however, also been known to live in steppes, open landscapes,
    agricultural areas, and even semideserts. Eagles hunt in open
    fields or wetlands. During migration, a variety of habitats are used,
    though they seem to prefer to winter in wetlands.\n
    They have a pale golden crown and nape, and a grey base that extends to
    the tail. They also have very apparent white braces on their
    scapulars. Juveniles are paler and more variegated than the adults.
    Both the
    juveniles and adults have noticeably protruding head and long,
    parallel-edged wings. They have strong legs and
    feet. Their feet include long, curved talons that they use to seize,
    kill and carry their prey. They also have large eyes that are located
    slightly to the side of the head. These eyes provide them with
    extremely keen eyesight, allowing them to spot prey from high in the
    air.";
}

Monster "giant owl" : 4, 35, 81
{
Image: brown 'b'; Size: 5;
CR: 4; HD: 4; Hit: +4; Def: 13; Mov: 230%; Spd: 120%;
Str 18, Dex 17, Con 12, Int 10, Wis 14, Cha 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[124,32,8];
Stati[124,36,8];
Stati[124,44,4];
Stati[39,42,30];
Feats: 32, 44, 36,
((49 + 1) + 5);
Flags: 35, 36, 3, 12, 11, 74,
8, 50;
Desc: "Giant owls are nocturnal birds of prey, feared for their ability
    to hunt and attack in near silence. They are intelligent, and though
    naturally suspicious, sometimes associate with good creatures. A
    typical giant owl stands about 9 feet tall, has a wingspan of up to 20
    feet, and resembles its smaller cousins in nearly every way except
    size.  Giant owls speak Common and Sylvan. A giant owl attacks
    by gliding silently just a few feet above its prey and plunging to
    strike when directly overhead. A giant owl can see five times as
    far as a human can, even in darkness.";
}

Monster "chilling eel" : 48, 30
{
Image: skyblue 'w'; Size: 4;
CR: -4; HD: 1; Hit: +0; Def: +10; Mov: 75%; Spd: 100%;
Str 7, Dex 11, Con 11, Int 2, Wis 12, Cha 4;
Attk: 7 for 1d3 12 and 1d6 2;
Stati[124,18,8];
Stati[124,45,4];
Stati[39,57,1];
Stati[39,13,6];
Flags: 36, 35, 2, 3, 31, 6,
55, 38, 42, 104;
Immune: 0x00000002;
Spells: $"ice dagger";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45,
32, 44, 18;
Desc: "This is a long, slender outsider resembling an eel. It normally
   dwells in shallow, freshwater lakes and rivers. The chilling eel hunts
   and freezes small prey. It can navigate murky waters, using
   a sonar-like sense from its body to discern its surroundings.";
}

Monster "electric eel" : 2, 30
{
Image: blue 'w'; Size: 4;
CR: -6; HD: 1; Hit: +0; Def: +10; Mov: 75%; Spd: 100%;
Str 7, Dex 11, Con 11, Int 2, Wis 12, Cha 4;
Attk: 7 for 1d3 12;
Stati[124,18,8];
Stati[39,57,1];
Stati[39,13,3];
Flags: 36, 35, 2, 3, 31, 6,
55, 45, 104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 45, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
32, 44, 18;
Spells: $"Stunning Jolt";
Desc: "This is a long, slender fish resembling an eel. It
normally dwells in shallow, freshwater lakes and
rivers. The electric eel hunts small prey, stunning
them with a powerful jolt of electricity. It can
navigate murky waters, using smaller electric
emissions from its body to sense its surroundings.";
}

53 Spell "Stunning Jolt" : 1
{ 0x00000010; Base: 95; Cost: 1; Level: 1;
Purpose: 0x00001 (0); cval: 11;
Flags: 34, 75;
xval: 4; pval: 1d6;
sval: 1 partial; aval: 11; lval: 1;
On Event 155 {

if (EVictim->onPlane() != EActor->onPlane())
return -1;

if (EVictim->HasMFlag(10))
return -1;

if (EMap == NULL)
return -1;
else if (!(EMap->TerrainAt(EVictim->x,EVictim->y)->TerrainHasFlag(7)))
return -1;
return 0;
};
}
and 3
{ xval: 5; sval: 1; aval: 11; lval: 1; Flags: 34;
cval: 11;
Desc: "Delivers an electrical shock to all creatures in
the water within one square of the victim. This attack deals 1d6 points
of electric damage and stuns the victims
(Reflex save for half damage and no stun)."; }

Monster "fox" : 2, 79
{
Image: red 'a'; Size: 2;
CR: -4; HD: 1; Hit: 0; Def: 10; Mov: 175%; Spd: 125%;
Str 6, Dex 19, Con 12, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 12;
Stati[39,71,7];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34), 13, 32;
Flags: 35, 36, 3, 74, 75;
Desc: "Foxes are solitary animals and do not form packs like
    wolves. Individual adults have home ranges that vary in size depending
    on the quality of the habitat. 
    During some parts of the year adjacent
    ranges may overlap somewhat, but parts may be regularly defended. In
    other words, Foxes are at least partly territorial. Ranges are
    occupied by an adult male and one or two adult females with their
    associated young. Individuals and family groups have main earthen dens
    and often other emergency burrows in the home range. Dens of other
    animals, such as rabbits or marmots, are often taken over by foxes.
    Larger dens may be dug and used during the winter and during birth and
    rearing of the young. The same den is often used over a number of
    generations. Pathways throughout the home range connect the main den
    with other resting sites, favored hunting grounds and food storage
    areas. Foxes are terrestrial and either nocturnal or crepuscular.
    In the autumn following birth, the pups of the litter will disperse to
    their own territories.  Animals remain in the same home range for
    life.";
}

Monster "giant deer" : 24, 2
{
Image: white 'q'; Size: 5;
CR: 5; HD: 5; Hit: 3; Def: 15; Mov: 200%; Spd: 125%;
Str 24, Dex 13, Con 19, Int 2, Wis 12, Cha 10;
Attk: 23 for 2d6+4 12;
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2),
32, 44;
Flags: 35, 37, 3, 75, 74, 11;
Desc: "The giant deer stood 6 ft. at the shoulders and possessed a massive
rack of antlers that spanned over 9 ft. Megaloceros were browsing animals
inhabiting woodland areas, with long legs that were ideal for running long
distances quickly. While the huge antlers undoubtedly presented an
intimidating threat to any predators, they evolved primarily for the
purpose of gender display. The great weight of the horns was a burden for
the megaloceros, and it required a strong, healthy frame to raise the head
after taking a drink.";
}

Monster "giant rat" : 25, 2
{
Image: brown 'r'; Size: 2;
CR: -6; HD: 1; Hit:1; Def:14; Mov:90; Speed: 40%;
Str 4, Dex 12, Con 12, Int 3, Wis 8, Cha 3;
Attk:7 for 1d2 12;
Stati[39,53,6];
Feats: 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Flags: 36, 34, 3, 104;
Desc: "Wharf rats the size of badgers, possessing a foul temperment
      to match, these creatures pose little real danger to an experienced
      adventurer, but in numbers can take down less skilled humanoid
      prey.";
}

Monster "glyptodon" : 2, 24, 79
{
Image: yellow 'a'; Size: 5;
CR: 5; HD: 6; Hit: +4; Def: +10; Arm: 8; Mov: 75%; Spd: 120%;
Str 21, Dex 9, Con 15, Int 2, Wis 12, Cha 6;
Attk: 24 for 1d8 11;
Flags: 37, 35, 3, 73;
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
32, 44;
Desc: "These large herbivores are related to the armadillo,
although their rigid, bony carapace is a good deal
more solid. Some species can be as large as a rhino,
growing up to 13 ft. in length and standing 5 ft. at
the peak of their turtle-like shell of bony plates.
Rings or solid sheaths of bone encase the deep,
heavily boned head, the upper limb segments, and
the short tail. The four short legs are sturdy, with
hoofed claws that are built for digging for roots.
As its movement is slow and clumsy, the
glyptodont relies primarily on its heavy shell for
protection. The glyptodont consumes grass-like
plants, particularly in wetland areas.";
}

Monster "jackal" : 6, 2
{
Image: bright blue 'd'; Size: 4;
CR: 1; HD: 2; Hit: 2; Def: 15; Mov: 200%; Spd: 150%;
Str 12, Dex 15, Con 12, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d6 12
and 0d0 67 (DC 17);
Stati[39,71,3];
Feats: 32, 36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 35, 36, 3, 11, 72, 104;
Desc: "Jackals are very vocal creatures. Yipping calls are made when
    the family gathers and are specific to individual families. Non-members
    do not recognize, or respond to the calls of other families.
    Additionally, when threatened, these jackals make loud screaming
    vocalizations. When seriously wounded, the vocalizations change from
    screams to low croaks.";
}



Monster "monitor lizard" : 51, 2
{
Image: green 'R'; Size: 4;
CR: 1; HD: 3; Hit: 2; Def: 10; Mov: 80%; Spd: 80%;
Str 17, Dex 15, Con 17, Int 2, Wis 12, Cha 2;
Attk: 7 for 2d4 12;
Feats: 7, 18, 32, 36, 45;
Flags: 35, 36, 3, 30;
Desc: "Monitors are robust, diurnal lizards with long, non-autotomous
    tails and elongate necks. They have nine cervical vertebrae, 
    while all other lizards have
    eight or fewer. They also have long forked tongues that are used for
    chemoreception, reminiscent of but not identical to snakes' tongues.
    Monitors range in length and weight. 
    The feeding biology of monitors is also diverse, ranging from
    mollusks and fruit, to 
    sit-and-wait predators of large mammals such
    as deer and buffalo. Large monitors may also eat carrion. 
    Monitors occupy a wide range of
    habitats, and different species of terrestrial monitors can be surface
    dwelling, burrowing, arboreal, or saxicolous. Monitors can also be
    primarily aquatic or marine, though like all reptiles they must lay
    their eggs on land.";
}

Monster "plague rat" : 25, 2
{
Image: red 'r'; Size: 2;
CR: -6; HD: 1; Hit:1; Def:14; Mov:90; Speed: 40%;
Str 4, Dex 12, Con 12, Int 3, Wis 8, Cha 3;
Attk:7 for 1d2 12
and 0d0 27 (DC 17),
102 for $"giant rat";
Stati[39,53,6];
Disease: $"filth fever";
Feats: 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Flags: 36, 34, 3, 104;
On Event (27+1000) {
if (EActor->mID == $"plague rat")
if (e.DType == 27 && e.isHit)
EActor->IdentifyMon();
};
Desc: "This rat carries a dreaded, infecious disease in its blood,
      but is otherwise identical to any other large rat.";
}

Monster "rhinoceros" : 24, 2
{
Image: grey 'q'; Size: 5; Arm: 9;
CR: 6; HD: 8; Hit: 4; Def: 10; Mov: 140%; Spd: 80%;
Str 26, Dex 10, Con 21, Int 2, Wis 13, Cha 2;
Attk: 23 for 2d6 11;
Feats: 32, ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2);
Flags: 35, 37, 3,
11, 15;
Desc: "The rhinoceros is infamous for its bad temper and 
      willingness to charge intruders.";
}


Monster "bull shark" : 2
{
Image: white 'a'; Size: 5;
CR: 3; HD: 7; Hit: 7; Def: 14; Mov: 200%; Spd: 150%;
Str 17, Dex 15, Con 13, Int 1, Wis 12, Cha 2;
Attk: 7 for 1d8+4 12;
Stati[39,71,18];
Feats: 32, 44, 45;
Flags: 35, 36, 3, 11,
2, 31, 55, 104;
Desc: "The Bull Shark can be recognized by its unique body shape,
      which is much wider in comparison to its length than other sharks,
      and its snout, which is wider than it is long. These features give
      the Bull Shark an almost stout appearance. The shark is gray on the
      top half of its body and off white underneath. Several individuals
      have been found with pale stripes on the sides of their bodies. The
      Bull Shark is a solitary species that hunts by itself.";
}

Monster "huge shark" : 2
{
Image: white 'a'; Size: 6;
CR: 6; HD: 10; Hit: 8; Def: 14; Mov: 200%; Spd: 150%;
Str 21, Dex 15, Con 15, Int 1, Wis 12, Cha 2;
Attk: 7 for 2d6 12;
Stati[39,71,18];
Feats: 32, 44, 45;
Flags: 35, 36, 3, 11,
2, 31, 55, 104;
Desc: "A voracious and efficient predator. Its prey includes a wide
    variey of bony fishes, including salmon, hake, halibut, mackeral, and
    tunas; other sharks; sea turtles; seabirds; and marine mammals, such as
    seals, sea lions, sea otters, and porpoises.  It has a well-developed
    sense of smell.  Many believe that these sharks attack slow-moving
    prey, such as juveniles or those which are injured, by coming up on
    them from behind or below, taking one bite, and then waiting for the
    animal to weaken from the loss of blood before moving in for the
    kill.";
}

Monster "giant squid" : 2
{
Image: white 't'; Size: 6;
CR: 9; HD: 12; Hit: 9; Def: 10; Mov: 300%; Spd: 160%;
Arm: 6;
Str 26, Dex 17, Con 13, Int 1, Wis 12, Cha 2;
Attk: 14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
14 for 1d6 13,
7 for 2d8 12;
Stati[39,13,6];
Feats:
32, 44, 45,
((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Spells: $"ink cloud";
Flags: 35, 36, 3,
2, 31, 55, 38;
Desc: "These voracious creatures can have bodies more than 20 feet long and attack almost anything they meet.";
}

Monster "wolf" : 6, 2
{
Image: cyan 'd'; Size: 4;
CR: 0; HD: 2; Hit: 2; Def: 13; Mov: 175%; Spd: 140%;
Str 13, Dex 15, Con 15, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d6 12
and 0d0 67 (DC 17);
Stati[39,71,3];
Feats: 32, 36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 35, 36, 3, 11, 74, 104;
Desc: "Wolves are highly social, pack-living animals. Each pack
    comprises two to thirty-six individuals, depending upon habitat and
    abundance of prey. Most packs are made up of 5 to 9 individuals. Packs
    are typically composed of an alpha pair and their offspring, including
    young of previous years. Unrelated immigrants may also become members
    of packs. 

    There is a strong dominance hierarchy within each pack. The pack
    leader, usually the alpha male, is dominant over all other individuals.
    The next dominant individual is the alpha female, who is subordinate
    only to the alpha male. In the event that the alpha male becomes
    injured or is otherwise unable to maintain his dominance, the beta male
    will take his place in the hierarchy. Alpha males typically leave the
    pack if this occurs, but this is not always the case. Rank within the
    pack hierarchy determines which animals mate and and which eat first.
    Rank is demonstrated by postural cues and facial expressions, such as
    crouching, chin touching, and rolling over to show the stomach.";
}

Monster "wolverine" : 2
{
Image: bright brown 'a'; Size: 4;
CR: 2; HD: 3; Hit: 4; Def: 12; Mov: 100%; Spd: 110%;
Str 14, Dex 15, Con 19, Int 2, Wis 12, Cha 10;
Attk: 6 for 1d4+2 11,
6 for 1d4+2 11,
7 for 1d6+1 12;
Stati[39,94,12];
Stati[39,71,5];
Feats: 7, 32, 44, ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
45;
Flags: 35, 36, 3, 92, 96;
Desc: "Wolverines are one of the largest mustelids. They have
    brownish-black hair with strips of light brown along their sides. Their
    fur is long and dense and does not retain much water. This makes it
    very resistant to frost in the cold environment wolverines live in.
    They have large claws and pads on their feet that help them move over
    deep snow. Wolverines are shaped vaguely like a large marten and have a
    heavy build with a large head, small ears, a short tail, and very
    large, powerful limbs. Wolverines are very strong for their size and
    have been known to drive bears, cougars, and packs of wolves from their
    kills. They are generally known as the strongest mammal for their
    size.";
On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
};
}



Monster "deinonychus" : 51, 68
{
Image: bright green 'R'; Size: 5;
CR: 5; HD: 4; Hit: 6; Def: 15; Mov: 200%; Spd: 120%;
Str 19, Dex 15, Con 19, Int 2, Wis 12, Cha 10;
Attk:
6 for 1d3+2 11,
6 for 1d3+2 11,
27 for 2d6+4 11,
7 for 2d4+2 12;
Stati[124,18,8];
Stati[124,22,8];
Stati[124,32,8];
Stati[124,44,8];
Stati[124,48,8];
Stati[39,94,15];
Stati[39,71,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19),
18, 22, 32, 44, 48;
Flags: 35, 36, 55, 3;
Desc: "A deinonychus is bright green along its back and flanks, with a
    much lighter shade of the same color on its underside. The body has
    darker spots or stripes. Its tail extends straight out behind itself,
    held aloft by an intricate structure of bony supports, thus allowing
    its weight to be carried entirely by the back legs. It weighs about 600
    pounds.  A deinonychus uses a combination of speed, grasping forearms,
    large teeth, and hind legs with ripping talons. It hunts by running at
    prey, leaping, and ripping with its rear talons as it claws and bites.
    A deinonychus has a relatively large brain for a dinosaur, and its pack
    hunts with cunning tactics.";
}

Monster "megaraptor" : 51, 68
{
Image: bright green 'R'; Size: 5;
CR: 8; HD: 8; Hit: 9; Def: 16; Mov: 200%; Spd: 140%;
Str 21, Dex 15, Con 21, Int 2, Wis 15, Cha 10;
Attk:
6 for 1d4+2 11,
6 for 1d4+2 11,
27 for 2d8+5 11,
7 for 2d6+2 12;
Stati[124,18,8];
Stati[124,22,8];
Stati[124,32,8];
Stati[124,44,8];
Stati[124,48,8];
Stati[39,94,18];
Stati[39,71,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
18, 22, 32, 44, 48;
Flags: 35, 36, 55, 3;
Desc: "This creature is a larger version of the deinonychus, standing
    about 12 feet tall with a total length of 24 feet. It has the same
    appearance, habits, and abilities of the smaller version.";
}

Monster "cave ankylosaurus" : 51, 68
{
Image: grey 'R'; Size: 5; Arm: 18;
CR: 6; HD: 7; Hit: 7; Def: 10; Mov: 100%; Spd: 75%;
Str 21, Dex 6, Con 21, Int 1, Wis 12, Cha 6;
Attk:
24 for 3d6 13,
7 for 1d4 13;
Stati[39,42,6];
Stati[41,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6)];
Feats: ((((49 + 1) + 32) + 50) + 8), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((49 + 1) + 32) + 32),
32, 44;
Flags: 35, 36, 3, 11;
Desc: "The ankylosaurus is a huge, heavily armored dinosaur
      with a vaguely turtle-shaped body, known best for the
      bone club on its tail. They are irascable and just plain
      mean beasts. This particular line of ankylosaurus has
      been specially bred for underground existance, being
      muchsmaller than its surface-dwelling relatives and able
      to see clearly in pitch blackness.";
}

Monster "cave triceratops" : 51, 68
{
Image: brown 'R'; Size: 5; Arm: 10;
CR: 5; HD: 8; Hit: 7; Def: 12; Mov: 125%; Spd: 75%;
Str 19, Dex 9, Con 21, Int 1, Wis 12, Cha 6;
Attk:
23 for 2d6 12;
Stati[39,42,6];
Stati[41,(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6)];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 21),
32, 44;
Flags: 35, 37, 3, 11,
15;
Desc: "Triceratops are herbivore dinosaurs, though they
      are fiercely defensive, stupid and irascible. Triceratops
      resemble elephants or rhinoceri, but have three large
      horns on their face -- one on their nose and two on 
      their forehead. Behind these horns is a circular bony
      plate protecting the creature's neck. 
      This particular line of triceratops has
      been specially bred for underground existance, being
      much smaller than its surface-dwelling relatives and able
      to see clearly in pitch blackness.";
}

Monster "cave tyrannosaurus" : 51, 68
{
Image: bright purple 'R'; Size: 5; Arm: 7;
CR: 5; HD: 8; Hit: 7; Def: 12; Mov: 135%; Spd: 100%;
Str 25, Dex 14, Con 17, Int 2, Wis 15, Cha 10;
Attk:
7 for 2d6 12,
111 for 0d0 93 (DC 18);
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 24),
32, 44, 48;
Flags: 35, 36, 3, 11;
Desc: "The mighty tyrant lizard is often referred to as
      the king of the dinosaurs. A skillful hunter and marginally
      smarter than most other dinosaurs, the tyrannosaurus was
      one of the fiercest carnivores of its era. 
      This particular line of tyrant lizards has
      been specially bred for underground existance, being
      much smaller than its surface-dwelling relatives and able
      to see clearly in pitch blackness.";
}
#line "mon1.irh" 4720
Monster "winter wolf" : 6
{
Image: bright cyan 'd'; Size: 5;
CR: 6; HD: 7; Hit: 7; Def: 15; Mov: 175%; Spd: 120%;
Str 18, Dex 13, Con 16, Int 9, Wis 13, Cha 10;
Attk: 7 for 1d8 12 and 0d0 67 (DC 16),
42 for 4d6 2 (DC 16);
Stati[39,71,7];
Immune: 0x00000002;
Flags: 36, 11, 35, 3,
11, 42, 104;
Feats: 18, 36, 44, 32, 48,
((49 + 1) + 5), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc: "These primal beings represent the embodyment of winter's
      harshness. They aren't evil, exactly, but they are born predators
      without a shred of mercy mitigating their survival instinct, which
      makes them as starkly dangerous to the goodly peoples as any mindless
      animal -- though intelligent, the winter wolves' values are purely
      bestial in nature. In exchange for protection and a continual supply
      of meat, winter wolves sometimes work as freelance assassins for the
      druidic circles. Winter wolves appear as sleek white wolves the size
      of a Clydesdale.";
}

Monster "worg" : 6
{
Image: red 'd'; Size: 4;
CR: 2; HD: 4; Hit: 3; Def: 10; Mov: 150%; Spd: 120%;
Str 17, Dex 15, Con 15, Int 6, Wis 14, Cha 10;
Attk: 7 for 1d6 12
and 67 (DC 16),
102 for $"wolf";
Stati[39,71,6];
Flags: 36, 11, 49, 53, 3,
2, 104;
Feats: 18, 36, 44, 32, 48,
((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc: "The belief that worgs are an offshoot of wolves is hotly
      contested by rangers and elves, for this grim creatures bear
      none of the nobility of their parent breed. Possessed of a
      malign intelligence, worgs embody cruelty and predation, and
      hunt other sapient beings not for survival or food, but for the
      sheer joy of killing. They are frequently used as mounts by
      goblins and other evil humanoids.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "senmurv" : 6, 35, 82
{
Image: red 'd'; Size: 5;
CR: 3; HD: 3; Hit: 3; Def: 12; Mov: 200%; Spd: 100%;
Str 17, Dex 15, Con 15, Int 6, Wis 14, Cha 10;
Attk: 7 for 1d6 12
and 67 (DC 13),
6 for 1d6 11,
6 for 1d6 11,
42 for 3d6 9;
Stati[39,71,6];
Stati[39,79,3];
Flags: 36, 11, 50, 53, 3,
104, 12;
Feats: 3, 18, 36, 44, 32,
48,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13);
Spells: $"detect evil";
Desc: "The senmurv are a race of bipedal, winged anthropomorphic
      wolves. Fierce champions of the cause of good, their rich fur
      cascades through every color in the rainbow and their wings
      resemble those of a hawk, albiet with their distinctive rainbow
      plumage. Senmurv are reclusive sylvan creatures, dwelling in
      peaceful tribes with no hierarchy or status. Rarely, they will
      deign to serve as a mount for righteous elves or halflings, though
      this is always a relationship of equals -- the senmurv never
      accept subserviance.";
On Event 32 {
int32 c;
switch(1d6)
{
case 1: c = 12; break;
case 2: c = 14; break;
case 3: c = 13; break;
case 4: c = 9; break;
case 5: c = 11; break;
case 6: c = 10; break;
}
if ((EActor->Image & 0x00FF) == 'f')
EActor->Image = 'f' + c*256;
return 0;
};
}




Monster "horse" : 24, 2
{
Image: brown 'q'; Size: 5;
CR: 0; HD: 3; Hit: 3; Def: 13; Mov: 175%; Spd: 80%;
Str 15, Dex 13, Con 15, Int 2, Wis 12, Cha 6;
Attk: 2 for 1d6 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11, 75, 104;

On Event 17 {
if (EActor->mID == $"horse")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "Horses have been so strongly bred by humans that there is
      extensive variability in their size and weight. The general body
      pattern is that of long limbs, barrel shaped body, and a long neck
      supporting a large head. Vision and hearing are key senses for these
      animals, as suggested by their large eyes and ears. Coloration is
      also hightly variable due to breeding, and individuals range from
      pure white, tan, brown or black to patches of oranges and browns on
      white. The tail is relatively short but has long hairs coming off it
      that frequently reach the ground. The tail is often used as an 'extra
      hand' to swat insects. There is also long hair along the neck and
      forehead (the mane and forelock).";
}

Monster "warhorse" : 24, 2
{
Image: brown 'q'; Size: 5;
CR: 2; HD: 4; Hit: 3; Def: 15; Mov: 175%; Spd: 100%;
Str 18, Dex 13, Con 17, Int 2, Wis 13, Cha 6;
Attk: 2 for 1d6 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11;
Desc: "A warhorse is a horse that has been trained for battle. It will
    not hesistate to attack on behalf of its rider.";
}

Monster "riding lizard" : 24, 2, 51
{
Image: grey 'R'; Size: 5; Arm: 4;
CR: 0; HD: 4; Hit: 2; Def: 13; Mov: 150%; Spd: 80%;
Str 17, Dex 13, Con 15, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 13;
Stati[39,42,6];
Stati[123,20,+4];
Stati[124,7,+6];
Feats: 32, 44, 22, 7;
Flags: 35, 37, 3,
11;

On Event 17 {
if (EActor->mID == $"riding lizard")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "While there are no animals similar to horses native to
        the Underdark, drow, illithids and svirfneblin have adapted
        and bred several species of lizards to fill the role of
        mounts in their societies. Since horses don't react well to
        the strange scent of lizardfolk, they often make use of these
        lizards as well.\n
        __Riding lizards look much like geckos the size of horses.
        They are placid creatures and feed on various herbs and fungi,
        and have mottled orange or grey skin. They possess infravision,
        allowing them to navigate in the darkness, and the adhesive
        pads on their feet make them outstanding climbers.";
}


Monster "war lizard" : 24, 2, 51
{
Image: grey 'R'; Size: 5; Arm: 7;
CR: 2; HD: 5; Hit: 2; Def: 13; Mov: 150%; Spd: 100%;
Str 19, Dex 13, Con 17, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 13,
6 for 1d2 11,
6 for 1d2 11;
Stati[39,42,6];
Stati[123,20,+4];
Stati[124,7,+6];
Feats: 32, 44, 22, 7;
Flags: 35, 37, 3,
11;
Desc: "While there are no animals similar to horses native to
        the Underdark, drow, illithids and svirfneblin have adapted
        and bred several species of lizards to fill the role of
        mounts in their societies. Since horses don't react well to
        the strange scent of lizardfolk, they often make use of these
        lizards as well.\n
        __Riding lizards look much like geckos the size of horses.
        They are placid creatures and feed on various herbs and fungi,
        and have mottled orange or grey skin. They possess infravision,
        allowing them to navigate in the darkness, and the adhesive
        pads on their feet make them outstanding climbers.\n
        __This particular breed of riding lizard has been bred and 
        trained for battle, and will fight at its master's command.";
}

Monster "psionic riding lizard" : 24, 2, 51
{
Image: grey 'R'; Size: 5; Arm: 7;
CR: 2; HD: 5; Hit: 2; Def: 13; Mov: 150%; Spd: 100%;
Str 19, Dex 13, Con 17, Int 2, Wis 12, Cha 6;
Attk: 7 for 1d4 13,
6 for 1d2 11,
6 for 1d2 11;
Stati[39,42,6];
Stati[123,20,+4];
Stati[124,7,+6];
Feats: 32, 44, 22, 7;
Flags: 35, 37, 3,
11;
Spells: $"cell adjustment", $"brain lock", $"inertial barrier";
Desc: "While there are no animals similar to horses native to
      the Underdark, drow, illithids and svirfneblin have adapted
      and bred several species of lizards to fill the role of
      mounts in their societies. Since horses don't react well to
      the strange scent of lizardfolk, they often make use of these
      lizards as well.\n
      __Riding lizards look much like geckos the size of horses.
      They are placid creatures and feed on various herbs and fungi,
      and have mottled orange or grey skin. They possess infravision,
      allowing them to navigate in the darkness, and the adhesive
      pads on their feet make them outstanding climbers.\n
      __This particular breed of riding lizard has been fed a specific
      diet of id moss and bred over several generations to nurture the
      unusual powers of the mind.";
}


Monster "pony" : 24, 2
{
Image: brown 'q'; Size: 4;
CR: -2; HD: 2; Hit: 2; Def: 13; Mov: 150%; Spd: 80%;
Str 13, Dex 13, Con 12, Int 2, Wis 11, Cha 4;
Attk: 2 for 1d4 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11, 75;

On Event 17 {
if (EActor->mID == $"pony")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "Horses have been so strongly bred by humans that there is
      extensive variability in their size and weight. The general body
      pattern is that of long limbs, barrel shaped body, and a long neck
      supporting a large head. Vision and hearing are key senses for these
      animals, as suggested by their large eyes and ears. Coloration is
      also hightly variable due to breeding, and individuals range from
      pure white, tan, brown or black to patches of oranges and browns on
      white. The tail is relatively short but has long hairs coming off it
      that frequently reach the ground. The tail is often used as an 'extra
      hand' to swat insects. There is also long hair along the neck and
      forehead (the mane and forelock).";
}

Monster "warpony" : 24, 2
{
Image: brown 'q'; Size: 4;
CR: 0; HD: 2; Hit: 2; Def: 13; Mov: 150%; Spd: 100%;
Str 15, Dex 13, Con 14, Int 2, Wis 11, Cha 4;
Attk: 2 for 1d4 13;
Stati[39,71,6];
Feats: 32, 44, 22;
Flags: 35, 37, 3,
11;
Desc: "A warpony is a pony that has been trained for battle. It will
    not hesistate to attack on behalf of its rider.";
}

Monster "riding dog" : 24, 2
{
Image: grey 'd'; Size: 3;
CR: -2; HD: 2; Hit: 2; Def: 12; Mov: 175%; Spd: 80%;
Str 13, Dex 13, Con 12, Int 2, Wis 11, Cha 4;
Attk: 7 for 1d6 12;
Stati[39,71,3];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44, 22;
Flags: 35, 36, 3,
11, 75;

On Event 17 {
if (EActor->mID == $"riding dog")
if (EActor->HasStati(88))
return 2;
return 0;
};
Desc: "Gnomes frequently train dogs as riding animals, using
        them both as beasts of burden and war animals. The mix of
        personalities is ideal: both gnomes and dogs are friendly,
        social, loyal, playful and possessed of keen senses and
        minds.";
}

Monster "pygmy war rhino" : 24, 2
{
Image: grey 'q'; Size: 3; Arm: 9;
CR: 3; HD: 4; Hit: 2; Def: 10; Mov: 140%; Spd: 80%;
Str 19, Dex 10, Con 18, Int 2, Wis 13, Cha 2;
Attk: 23 for 2d6 11;
Feats: 32, ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2);
Flags: 35, 37, 3,
11, 15;
Desc: "By combining thaumaturgy with an exceptional skill
      at animal husbandry, gnomes have succeeded in breeding
      very small pygmy rhinoceroi as riding beasts. The creatures'
      irascible temper makes them an awkward mount, but many
      warriors in gnome society nonetheless prize them for
      the sheer machismo factor.";
}

Monster "mastiff" : 6, 2
{
Image: dark gray 'd'; Size: 3;
CR: -2; HD: 2; Hit: 2; Def: 12; Mov: 175%; Spd: 150%;
Str 15, Dex 13, Con 14, Int 2, Wis 11, Cha 4;
Attk: 7 for 1d6 12;
Stati[39,71,3];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44, 22;
Flags: 3, 34, 36, 11, 75, 35,
104;
Desc: "This vicious hunting dog may once have been the companion
          of a ranger or druid, but now it seems to have gone feral and
          recognizes no master other then its own hunger and survival
          instinct.";
}

Monster "giant badger" : 2
{
Image: brown 'a'; Size: 2;
CR: 3; HD: 5; Hit: 5; Def: 15; Mov: 150%; Spd: 125%;
Str 16, Dex 17, Con 15, Int 2, Wis 12, Cha 6;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[39,71,5];
Feats: 13, 32;
Flags: 35, 36, 3, 96, 74;
On Event ((41+1000)+2000) {
if (!(EVictim->Flags & 0x0008))
if (EVictim->cHP < EVictim->mHP)
if (!EVictim->HasStati(66))
if (EVictim->cFP > 0)
{
VPrint(e,"You fly into a rage!",
"The <EVictim> flies into a rage!");
EVictim->LoseFatigue(3);
EVictim->GainTempStati(66,NULL,3d6+10,7,+4,0);
}
return 0;
};
Desc: "The badger is a mammal characterized by short, strong legs;
      elongated feet that are more or less plantigrade (heels touch the
      ground); and straight, strong toes adapted to burrowing. Badgers are
      heavily furred, distinctly marked, and very strong. They live in dens
      and are mostly nocturnal. They have perineal glands, which emit a
      fetid odor. The pelts have considerable value as furs, and the hairs
      are used in the manufacture of shaving and other types of brushes.";
}

Monster "elephant" : 24, 2
{
Image: white 'q'; Size: 6;
CR: 9; HD: 11; Hit: 8; Def: 12; Mov: 150%; Spd: 150%;
Arm: 5;
Str 30, Dex 10, Con 21, Int 2, Wis 13, Cha 7;
Attk: 19 for 2d6 13,
20 for 2d6 13,
20 for 2d6 13,
23 for 2d8+5 12;
Stati[39,71,6];
Feats: 32, 44,
((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((49 + 1) + 32) + 50) + 38) + 26);
Flags: 35, 37, 3,
11;
Desc: "Massive herbivores of tropical lands, elephants are
    unpredictable creatures but nevertheless are sometimes used as mounts
    or beasts of burden.";
}



Monster "plague of bats" : 70, 3, 2
{
Image: brown 'S'; Size: 1;
CR: 3; HD: 3; Hit: +2; Def: 10; Mov: 150%; Spd: 100%;
Str 3, Dex 15, Con 10, Int 2, Wis 14, Cha 4;
Attk: 50 for 1d6 0,
50 for 1d6 59,
50 for 1d1 90;
Stati[39,13,2];
Stati[124,32,4];
Stati[124,44,4];
Feats: ((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
32, 44;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
10,
34, 3, 2, 12, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,11,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of bats");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 11)";
Desc: "A bat swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}

Monster "plague of centipedes" : 70, 31
{
Image: blue 'S'; Size: 1;
CR: 5; HD: 9; Hit: +6; Def: 10; Mov: 75%; Spd: 100%;
Str 1, Dex 19, Con 8, Wis 10, Cha 2;
Attk: 50 for 2d6 0,
50 for 0d0 60 (DC 13),
50 for 1d1 90;
Stati[39,105,1];
Stati[39,42,6];
Stati[39,95,3];
Stati[124,7,8];
Stati[124,44,4];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 32, 44;
Immune: 0x00100000;
Flags: 105, 21, 88, 36, 37, 23,
33, 10,
58,
26, 3, 2, 55;
Poison: $"monsterous centipede venom";
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,13,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of centipedes");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 13)";
Desc: "A centipede swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}

Monster "plague of locusts" : 70, 31
{
Image: bright purple 'S'; Size: 1;
CR: 4; HD: 6; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Str 1, Dex 19, Con 8, Wis 10, Cha 2;
Attk: 50 for 2d6 0,
50 for 1d1 90;
Stati[39,105,1];
Stati[39,42,6];
Stati[124,44,4];
Stati[124,44,4];
Feats: 32, 44;
Immune: 0x00100000;
Flags: 105, 21, 88, 36, 37, 23,
33, 12, 10,
58,
26, 3, 2, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,12,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of locusts");
return 1;
}
return 0;
} ,
210 "to nauseate enemies (DC 12)";
Desc: "A locust swarm is a cloud of thousands of winged vermin that
  devours any organic material in its path.";
}

Monster "plague of rats" : 70, 25, 2
{
Image: bright red 'S'; Size: 1;
CR: 3; HD: 4; Hit: +3; Def: 10; Mov: 50%; Spd: 100%;
Str 2, Dex 15, Con 10, Int 2, Wis 12, Cha 2;
Attk: 50 for 1d6 0,
50 for 0d0 27 (DC 12),
50 for 1d1 90;
Stati[39,42,6];
Stati[39,71,6];
Stati[124,18,4];
Stati[124,36,4];
Stati[124,5,8];
Stati[124,7,8];
Stati[124,45,8];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 21),
5, 7, 18, 32, 44, 45;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
33, 10, 30,
58,
34, 3, 2, 55;
Disease: $"filth fever";
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,12,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of rats");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 12)";
Desc: "A rat swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}

Monster "plague of monkeys" : 70, 2, 59
{
Image: brown 'S'; Size: 1;
CR: 2; HD: 4; Hit: +3; Def: 10; Mov: 100%; Spd: 100%;
Str 5, Dex 17, Con 10, Int 2, Wis 12, Cha 5;
Attk: 50 for 1d6 0,
50 for 0d0 36 (DC 20),
50 for 1d1 90;
Stati[39,42,6];
Feats: (((49 + 1) + 32) + 44),
5, 7, 18;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
10, 58, 74,
34, 3, 2, 55, 104;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,12,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of monkeys");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 12)";
Desc: "A monkeys swarm seeks to surround and attack any warm-blooded prey
  it encounters.";
}

Monster "plague of spiders" : 70, 26, 31
{
Image: shadow 'S'; Size: 1;
CR: 1; HD: 2; Hit: +1; Def: 10; Mov: 75%; Spd: 100%;
Str 1, Dex 17, Con 10, Wis 10, Cha 2;
Attk: 50 for 1d6 0,
50 for 0d0 60 (DC 11),
50 for 1d1 90;
Stati[39,42,6];
Stati[39,95,3];
Stati[124,18,4];
Stati[124,44,4];
Stati[124,45,8];
Feats: ((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
5, 7, 18, 32, 44, 45;
Immune: 0x00100000, 0x00002000;
Flags: 105, 21, 88, 36, 37, 23,
58,
33, 10, 3, 2, 55;
Poison: $"spider venom";
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,11,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of spiders");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 11)";
Desc: "A spider swarm seeks to surround and attack any warm-blooded prey it
  encounters.";
}


Monster "plague of stirges" : 70, 3, 2
{
Image: bright brown 'S'; Size: 1;
CR: 4; HD: 6; Hit: +4; Def: 10; Mov: 130%; Spd: 100%;
Str 3, Dex 19, Con 10, Int 1, Wis 12, Cha 6;
Attk: 50 for 1d6 0,
50 for 1d4 52,
50 for 1d1 90;
Stati[39,42,6];
Stati[124,32,4];
Stati[124,44,4];
Feats: (((49 + 1) + 32) + 44),
32, 44;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Flags: 105, 21, 88, 36, 37, 23,
10, 28, 58,
26, 34, 3, 2, 12, 55;
On Event (41+500) {
if (e.DType == 90) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,11,0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,
$"plague of bats");
return 1;
}
return 0;
} ,
210 "to nauseate (DC 11)";
Desc: "A stirge swarm seeks to surround and attack any warm-blooded prey it
  encounters. Lake a solitary ghoulstirge, the swarm has a mosquiteo-like
  ability to drain the blood of its victims.";
}

Template "swarm" : 0x0008 for 0
{ Image: bright green 'S';
CR: +6 (Max 7);
Size: =6;
HD: +200% (min 10);
MType: 70;
Flags: -2, -3,
105, 55, 21, 88, 36, 23,
10, 58, 2, 3;
Immune: 0x00100000;
Resists: 0x00000400, 0x00000800;
Feats: ((49 + 1) + 5);
Attk: 50 for 1d1 91;
Desc: "A swarm of tiny creatures can be a formidable foe. All
    of its normal physical attacks now work as proximity attacks.";
On Event (41+500) {
if (e.DType == 91) {
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,10+EActor->ChallengeRating(),0x00001000))
EVictim->GainTempStati(20,EVictim,1,2,0,0,$"swarm");
return 1;
}
return 0;
} ,
211 "to nauseate";
On Event 155 {
if ((EActor->GetAttr(25) <= 2) && !EActor->HasMFlag(105) && !EActor->isMType(7) && !EActor->isMType(29))
return 1;
else
return -1;
} ;
}



Template "corrupted" : 0x0008 for 2
{ CR: +3; Wis +6 (min 14), Int +6 (min 10), Con +2;
Hit: +4; HD: +4;
MType: 58;
Flags: 55, 49, !50;
Feats: (((49 + 1) + 32) + 11), (((49 + 1) + 32) + 26);
Stati[39,82,3];
Stati[39,110,1];
Desc: "Corrupted animals have had their association with nature
      twisted by grey druids or demonic forces. They gain an abberant 
      ability to manipulate natural magics." ;
On Event (37+1000) {
EActor->IdentifyTemp($"corrupted");
return 0;
},
155 {
return 0;
};

Lists:
* 21
(53 + 1000);
}



Template "Companion;1" : 0x0080 for 2
{
CR: +0; HD: +0; Hit: +0; Arm: +0; Spd: 100% ;
Str +0, Dex +0, Con +0, Int +0, Wis +0, Cha +0;
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;2" : 0x0080 for 2
{
CR: +1; HD: +1; Hit: +1; Arm: +1; Spd: 105% ;
Str +0, Dex +0, Con +0, Int +0, Wis +0, Cha +0;
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;3" : 0x0080 for 2
{
CR: +2; HD: +2; Hit: +2; Arm: +2; Spd: 110% ;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Stati[39,31,1];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;4" : 0x0080 for 2
{
CR: +3; HD: +3; Hit: +3; Arm: +2; Spd: 115% ;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Stati[39,31,2];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;5" : 0x0080 for 2
{
CR: +3; HD: +3; Hit: +3; Arm: +3; Spd: 115% ;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Stati[39,31,3];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4; MType: 87;
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 209
"Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;6" : 0x0080 for 2
{
CR: +4; HD: +4; Hit: +4; Arm: +4; Spd: 120% ;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;
Stati[39,31,4];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;7" : 0x0080 for 2
{
CR: +5; HD: +5; Hit: +5; Arm: +4; Spd: 125% ;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;
Stati[39,31,5];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;8" : 0x0080 for 2
{
CR: +5; HD: +5; Hit: +5; Arm: +5; Spd: 125% ;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;
Stati[39,31,6];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;9" : 0x0080 for 2
{
CR: +6; HD: +6; Hit: +6; Arm: +6; Spd: 130% ;
Str +3, Dex +3, Con +3, Int +3, Wis +3, Cha +3;
Stati[39,31,7];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;10" : 0x0080 for 2
{
CR: +7; HD: +7; Hit: +7; Arm: +6; Spd: 135% ;
Str +3, Dex +3, Con +3, Int +3, Wis +3, Cha +3;
Stati[39,31,8];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;11" : 0x0080 for 2
{
CR: +7; HD: +7; Hit: +7; Arm: +7; Spd: 135% ;
Str +3, Dex +3, Con +3, Int +3, Wis +3, Cha +3;
Stati[39,31,9];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Companion;12" : 0x0080 for 2
{
CR: +8; HD: +8; Hit: +8; Arm: +8; Spd: 140% ;
Str +4, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
Stati[39,31,10];
Stati[39,110,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4; MType: 87;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Desc: "This animal is a loyal companion that accompanies the druid on
    adventures.";
On Event 156 {
EActor->GainPermStati(123,NULL,3,6,4);
} , 209 "It benefits from a +4 Devotion bonus to saves versus
    Enchantment effects. Animal companions have 175% normal movement rate when not
      being used as mounts.";
}

Template "Sacred;1" : 0x0080 for 88
{
MType: 35; CR: +2; HD: +2; Hit: +2; Arm: +4; Spd: 110%;
Str +1, Int +1 (Min 6);
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;2" : 0x0080 for 88
{
MType: 35;
CR: +3; HD: +3; Hit: +3; Arm: +5; Spd: 115%;
Str +1, Int +1 (Min 6);
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Flags: -2, -4;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;3" : 0x0080 for 88
{
MType: 35;
CR: +3; HD: +3; Hit: +3; Arm: +5; Spd: 115%;
Str +2, Int +2 (Min 7);
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;4" : 0x0080 for 88
{
MType: 35;
CR: +4; HD: +4; Hit: +4; Arm: +6; Spd: 120%;
Str +2, Int +2 (Min 7); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;5" : 0x0080 for 88
{
MType: 35;
CR: +5; HD: +5; Hit: +5; Arm: +7; Spd: 125%;
Str +2, Int +2 (Min 7); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;6" : 0x0080 for 88
{
MType: 35;
CR: +5; HD: +5; Hit: +5; Arm: +7; Spd: 125%;
Str +3, Int +3 (Min 8); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6);
Flags: -2, -4;
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;7" : 0x0080 for 88
{
MType: 35;
CR: +6; HD: +6; Hit: +6; Arm: +8; Spd: 130%;
Str +3, Int +3 (Min 8); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Spells: $"command";
Flags: -2, -4;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6);
Desc: "This animal is the sacred mount of an adventuring paladin.";
}

Template "Sacred;8" : 0x0080 for 88
{
MType: 35;
CR: +7; HD: +7; Hit: +7; Arm: +9; Spd: 135%;
Str +3, Int +3 (Min 8); Mov: 150%;
Stati[39,31,10];
Stati[39,48,1];
Stati[39,66,1];
Stati[39,42,6];
Spells: $"command";
Flags: -2, -4;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6);
Desc: "This animal is the sacred mount of an adventuring paladin.";
}
#line "mon2.irh" 22
Monster "cave orc" : 22, 87
{
Image: brown 'o'; Size: 4; Mana: 5;
CR: 0; HD: 1; Hit: 0; Def: 10; Mov: 100%; Spd: 100%;
Str 14, Dex 10, Con 10, Int 6, Wis 14, Cha 8, Luc 10;
Attk: 1 for 1d3 13;
Stati[39,42,12];
Stati[124,7,4];
Stati[39,71,3];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 18, 36, 32,
44, 7;
Flags: 36, 1, 93, 94, 68,
49, 52, 8, 57;
Gear: 33% $"greataxe" else 50% $"greatsword" else $"longspear",
33% 2d4 $"javelin" else 1d2 $"shotput",
25% $"strip of cured meat";
Desc: "Cave orcs are the most fecund, and most common, of the orc
    subraces.  Adapted to Underdark life, the cave orcs have superior
    infravision, a racial aptitude for climbing and the ability to scale
    even sheer surfaces easily, along with an understanding of swarm
    tactics and an aptitude for underground survival, but they are even
    more craven then the majority of the orcish race, and more
    intellectually stunted.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(69))
h->AddQuality(69);
}
};
Lists:
* 117
$"horse"
$"warhorse"
$"griffon"
$"dire" $"wolf"
$"cave lion"
$"cave ankylosaurus"
$"cave triceratops"
$"cave tyrannosaurus",
* 19
$"celestial" $"horse"
$"celestial" $"warhorse"
$"celestial" $"griffon"
$"celestial" $"dire" $"wolf"
$"celestial" $"cave lion"
$"celestial" $"cave ankylosaurus"
$"celestial" $"cave triceratops"
$"celestial" $"cave tyrannosaurus"
;
}

Monster "hill orc" : 22, 87
{
Image: grey 'o'; Size: 4; Mana: 5;
CR: 0; HD: 1; Hit: +2; Def: 10; Mov: 100%; Spd: 100%;
Str 18, Dex 10, Con 10, Int 8, Wis 14, Cha 8, Luc 10;
Attk: 1 for 1d3 13;
Stati[39,71,3];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 9, 44, 4;
Flags: 36, 1, 93, 94, 71,
49, 52, 57;
Gear: 33% $"greataxe" else 50% $"greatsword" else $"longspear",
33% 2d4 $"javelin" else 1d2 $"shotput",
50% $"plate mail" else
$"banded mail",
25% $"strip of cured meat";
Desc: "Hill orcs live above ground, in hellish, industrialized cities
      carved from harsh granite. Possessing a strict military discipline,
      they are hardier and stronger than cave orcs, and able to withstand
      sunlight, but lack the stealth and affinity for climbing possessed
      by their underdwelling bretheran. Hill orcs are skilled craftsmen
      (by orc standards), and produce most of the weapons used by the orc
      peoples.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(69))
h->AddQuality(69);
}
};
}

Monster "black orc" : 22, 87
{
Image: shadow 'o'; Size: 4; Mana: 20;
CR: 0; HD: 1; Hit: +2; Def: 10; Mov: 100%; Spd: 100%;
Str 18, Dex 10, Con 10, Int 12, Wis 16, Cha 8, Luc 10;
Attk: 1 for 1d3 13;
Stati[39,71,3];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35);
Spells: $"chill blood", $"caustic vitae", $"sanguine touch";
Flags: 36, 1, 93, 94,
49, 52, 57;
Gear: 33% $"greataxe" else 50% $"greatsword" else $"longspear",
33% 2d4 $"javelin" else 1d2 $"shotput",
25% $"strip of cured meat";
Desc: "Black orcs are a subspecies of orcs magically altered by
      Azakram the Black in order to have an inherant magical affinity
      for blood, and the innate ability to manipulate it.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(69))
h->AddQuality(69);
}
};
}

Monster "drow" : 66, 87
{
Image: blue 132; Size: 4; Mana: 10; Depth: 4;
CR: -2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 8, Dex 14, Con 10, Int 14, Wis 10, Cha 14, Luc 8;
Attk:1 for 1d2 13;
Stati[124,36,2];
Stati[118,18,50];
Stati[39,42,12];
Stati[39,73,1];
Flags: 36, 37, 1, 8,
49, 71;
Spells: $"faerie fire", $"globe of shadow";
Feats: 36, ((49 + 1) + 7);
Gear:
25% $"piece of spider bread",
$"hand crossbow",
4d3 $"hand crossbow dart",
50% $"rapier" else $"short sword";
Desc: "No race, save perhaps the kobolds, is more widely despised then
      the drow. Trecherous, decietful, chaotic, power-hungry and supremely
      skillful, the drow are an offshoot of elves who sought freedom from
      Maeve through pacts with tanari and other profane powers.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(45))
h->GainPermStati(2,NULL,7,0,5,$"elfshot");
else {
if (h->QualityOK(70)) h->AddQuality(70);
if (h->QualityOK(68)) h->AddQuality(68);
}
};

Lists:
* 117
$"riding lizard"
$"psionic riding lizard"
$"war lizard"
$"giant spider"
$"night hunter"
$"pike spider",
* 19
$"celestial" $"riding lizard"
$"celestial" $"psionic riding lizard"
$"celestial" $"war lizard"
$"celestial" $"giant spider"
$"celestial" $"night hunter"
$"celestial" $"pike spider"
$"juvenile" $"purple dragon";
}

Monster "dwarf" : 63, 87
{
Image: red 131; Size: 4; Mana: 10;
CR: -2; HD: 1; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 10, Dex 10, Con 14, Int 10, Wis 10, Cha 8, Luc 10;
Attk:1 for 1d2 13;
Stati[124,35,2];
Stati[124,9,2];
Stati[124,41,2];
Stati[39,42,6];
Stati[39,87,2];
Stati[39,38,1];
Feats: ((49 + 1) + 15);
Flags: 36, 37, 1, 50, 51,
71;
Stati[123,8,2];
Stati[123,9,2];
Stati[123,1,2];
Gear: 33% $"battleaxe"
else 50% $"dwarven waraxe"
else $"warhammer",
25% $"chainmail" else
33% $"plate mail" else
50% $"splint mail" else
$"banded mail",
35% $"craftsman's tools",
50% $"kite shield",
50% $"pickaxe",
25% $"food ration";
Desc: "Stubborn, driven, stoic and devoted -- these are the traits
      the dwarven people are most known for. A warrior race, dwarves
      have fought for millenia against the giants, orcs, aberrations
      and other monsterous threats that plague civilization.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(67))
h->AddQuality(67);
}
};
Lists:
* 117
300 $"warpony"
100 $"pony"
10 $"elephant"
$"giant tortoise"
1 $"rust monster"
$"grick"
$"owlbear"
$"dire" $"elephant"
$"arsinoitherium",
* 19
50 $"celestial" $"warpony"
10 $"celestial" $"pony"
5 $"celestial" $"elephant"
$"celestial" $"giant tortoise"
1 $"celestial" $"rust monster"
$"celestial" $"grick"
$"celestial" $"owlbear"
$"celestial" $"dire" $"elephant"
$"celestial" $"arsinoitherium"
$"celestial" $"cave ankylosaurus"
$"celestial" $"cave triceratops"
$"celestial" $"cave tyrannosaurus"
;
}

Monster "elf" : 62, 87
{
Image: bright cyan 132; Size: 4; Mana: 15;
CR: 1; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 9, Dex 14, Con 9, Int 12, Wis 10, Cha 14, Luc 10;
Attk:1 for 1d2 13;
Stati[39,53,2];
Stati[39,73,1];
Flags: 36, 37, 1, 50,
52;
Immune: 0x00008000;
Stati[123,5,2];
Stati[123,6,2];
Resists: 0x00000002, 0x00000001;
Gear:
25% $"piece of elven waybread",
50% $"long bow" else $"short bow",
2d6 $"sheaf arrow",
50% $"long sword" else $"rapier";
Desc: "The most secretive of the common races, elves are only very
      rarely seen in human settlements, and their lack of common presence
      lends to the race a mystique of nearly mythical proportions.
      Creatures of pure magic, some have called them, able to hear the
      heartbeat of the world.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->QualityOK(68))
h->AddQuality(68);
};
Lists:
* 117
100 $"horse" $"warhorse"
10 $"pegasus" $"unicorn"
$"hippogriff"


,
* 19
100 $"celestial" $"horse"
$"celestial" $"warhorse"
10 $"celestial" $"pegasus"
$"unicorn"
$"senmurv"
$"young" $"silver dragon"
$"juvenile" $"silver dragon"



;

}

Monster "gnome" : 64, 87
{
Image: pink 133; Size: 3; Mana: 10;
CR: -2; HD: 1; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 9, Dex 10, Con 10, Int 14, Wis 8, Cha 12, Luc 10;
Attk:1 for 1d2 13;
Stati[39,71,2];
Flags: 36, 37, 1, 50;
Spells: $"mirror image";
Feats: 1, 47, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8);
Stati[123,12,2];
Immune: 0x00020000, 0x00002000, 0x01000000;
Gear: 75% $"wand" of random 1 to 4,
50% $"mercurial broadsword"
else random 58,
$"arbalest",
3d6 $"crossbow bolt",
25% $"brass lantern",
25% $"alchemy set",
35% $"mechanical tools",
15% $"craftsman's tools",
25% $"food ration";
Desc: "Gnomes are short, rotund demihumans famous for their
      skill with illusions.";
Lists:
* 19
100 $"celestial" $"riding dog"
10 $"celestial" $"pygmy war rhino"
$"clockwork" $"riding dog"
$"celestial" $"mastiff"
$"clockwork" $"mastiff"
$"celestial" $"hatori"
$"young" $"brass dragon"
$"young" $"copper dragon"
$"young" $"mercury dragon"
$"juvenile" $"brass dragon"
$"juvenile" $"copper dragon"
$"young" $"mercury dragon"
$"celestial" $"aurumvorax",
* 117
30 $"riding dog"
$"pygmy war rhino"
$"clockwork" $"riding dog"
10 $"mastiff"
$"clockwork" $"mastiff"
$"hatori"
$"aurumvorax";


}

Monster "stoutheart halfling" : 65, 87
{
Image: yellow 133; Size: 3; Mana: 10;
CR: -2; HD: 1; Hit:0; Def:10; Mov: 75%; Speed: 100%;
Str 8, Dex 14, Con 10, Int 10, Wis 14, Cha 14, Luc 14;
Flags: 36, 37, 1, 51, 50;
Attk:
1 for 1d2 13,
102 for $"halfling";
Stati[124,18,2];
Stati[124,46,2];
Stati[39,101,1];
Stati[39,88,1];
Feats: 30, 3, 40, 21, 18,
11,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22);
Stati[30,2,0,$"short sword"];
Stati[30,2,0,$"sling"];
Stati[123,2,+4];
Stati[114,51,+1];
Gear:
50% $"cottonberry loaf",
10% $"short sword" with [1] else
$"short sword",
$"sling",
6d3 $"sling stone";
Desc: "Stoutheart halflings are the strongest-willed of their race, with a
      great devotion to the ideals of family and community. They despise
      corruption in all of its forms, and become adventurers more frequently
      then other halflings in the interest of rooting out and resolving
      something that has shaken their sensibilities. They are famed for
      their resourcefulness and clever planning.";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(21)) {
if (h->QualityOK(17)) h->AddQuality(17);
if (h->QualityOK(76)) h->AddQuality(76);
}
}
};
}

Monster "halfling" : 65, 87
{
Image: yellow 133; Size: 3; Mana: 10;
CR: -6; HD: 1; Hit:0; Def:10; Mov: 75%; Speed: 100%;
Str 8, Dex 14, Con 10, Int 10, Wis 10, Cha 14, Luc 18;
Attk:1 for 1d2 13;
Flags: 36, 37, 1, 50;
Stati[39,101,1];
Stati[124,18,2];
Stati[124,46,2];
Stati[39,88,1];
Feats: 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34);
Stati[123,5,+2];
Gear:
50% $"cottonberry loaf",
$"sling",
6d3 $"sling stone";
Desc: "Halflings are cute, clever, endearing, friendly, sociable and in 
      control of approximately a third of the Kinlands' wealth. Opportunistic 
      and ambitious, the hin have carved out a niche for themselves as the 
      dominant demihuman race in the civilized lands.";
Lists:
* 19
100 $"celestial" $"pony"
$"celestial" $"warpony"
10 $"celestial" $"rust monster"
$"celestial" $"wolf"
$"celestial" $"mastiff"
$"celestial" $"cheetah"
$"hippogriff"
$"senmurv"
$"young" $"brass dragon"
$"young" $"bronze dragon"
$"juvenile" $"brass dragon"
$"juvenile" $"bronze dragon"
$"celestial" $"aurumvorax",
* 117
100 $"pony"
$"warpony"
10 $"rust monster"
$"wolf"
$"mastiff"
$"cheetah"
$"hippogriff"
$"aurumvorax";
}

Monster "human" : 61, 87
{
Image: grey 1; Size: 4; Mana: 10;
CR: -4; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 10, Con 10, Int 10, Wis 10, Cha 10, Luc 10;
Attk: 1 for 1d2 13;
Flags: 36, 37, 1, 68;
Gear: random 58,
25% random 21,
50% random 56,
10% random 56,
25% $"food ration";
Desc: "Humans are the dominant race on Theyra, being hardy,
      adaptable generalists with a racial tendancy towards
      pragmatism and an ambitious, outgoing spirit.";
}

Monster "kobold" : 18, 87
{
Image: green 'k'; Size: 3; Mana: 10; Arm: 2;
CR: -2; HD: 1; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 6, Dex 14, Con 10, Int 14, Wis 10, Cha 8, Luc 10;
Attk: 7 for 1d6 12 damage,
6 for 1d4 11 damage,
6 for 1d4 11 damage;
Stati[124,9,2];
Stati[124,16,4];
Stati[124,35,2];
Stati[124,41,2];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), (((49 + 1) + 32) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
((((49 + 1) + 32) + 50) + 13), 39, 18, 36,
33, 7, 14,
(((49 + 1) + 32) + 9);
Flags: 28, 36, 37, 1, 49,
68, 74, 73, 93, 94,
8, 68, 52;
Immune: 0x00000010;
Gear: 80% $"whip"
else random 58,
75% $"bolas",
30% 1d2 $"bag" of $"tanglefoot bag",
50% $"small glass vial" of random 1 to 3,
25% $"strip of cured meat";
Desc: "These tiny reptillian humanoids have green scales and facial
      features crossed between a man and a dog's. They are infamous for
      their malice, their skill at trapcraft and their love of treachery.";
Lists:
* 19
$"celestial" $"cave cricket"
$"celestial" $"giant soldier ant"
$"celestial" $"giant dragonfly"
$"celestial" $"monsterous centipede"
$"celestial" $"giant blue beetle"
$"celestial" $"giant praying mantis"
$"celestial" $"grick"
$"celestial" $"giant slug"
$"celestial" $"giant crustacean"
$"celestial" $"giant wasp",
* 117
$"cave cricket"
$"giant soldier ant"
$"giant dragonfly"
$"monsterous centipede"
$"giant blue beetle"
$"giant praying mantis"
$"grick"
$"giant slug"
$"giant crustacean"
$"giant wasp";
}

Monster "lizardman" : 51, 67, 87
{
Image: green 'h'; Size: 4; Mana: 10;
CR: 0; HD: 1; Hit: 0; Def: 10; Mov: 100%; Spd: 100%; Arm: 5;
Str 14, Dex 10, Con 14, Int 8, Wis 10, Cha 10, Luc 8;
Attk: 6 for 1d4+1 11,
6 for 1d4+1 11,
7 for 1d4 12;
Stati[39,78,1];
Stati[39,1,1];
Flags: 1, 30, 36, 51;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 5, 22, 45;
Resists: 0x00000001;
Stati[123,13,2];
Stati[123,10,2];
Stati[134,51,18];
Gear: random 58,
25% $"strip of cured meat",
35% 1d4 blessed $"flask" of $"water";
Desc: "The lizardfolk are a reclusive, animalistic race of
      humanoid reptiles that dwell in swamps and subterranian
      enclaves. Their mindset is very alien, for they care only
      for breeding, survival, food supply and the security of
      their tribe. Though they are intelligent, many more
      'civilized' concerns are simply irrelevant to them.";
Lists:
* 19
$"celestial" $"riding lizard"
$"celestial" $"war lizard"
$"young" $"plant ur-dragon"
$"young" $"shadow ur-dragon"
$"young" $"brilliant ur-dragon"
$"young" $"shattering ur-dragon"
$"young" $"water ur-dragon"
$"behir"
$"celestial" $"cave ankylosaurus"
$"celestial" $"cave triceratops"
$"celestial" $"cave tyrannosaurus"
$"tendriculous"
$"froghemoth",
* 117
$"riding lizard"
$"war lizard"
$"behir"
$"tendriculous"
$"cave ankylosaurus"
$"cave triceratops"
$"cave tyrannosaurus"
$"froghemoth";
}



Monster "goblin" : 10, 87
{
Image: Green 'g'; Size: 3; Mana: 6;
CR: -4; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 11, Dex 13, Con 12, Int 10, Wis 9, Cha 6;
Attk: 1 for 1d2 13;
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 36, 37, 1, 93, 49,
94, 51, 68;
Gear:
25% $"short sword" else
33% $"dagger" else
50% $"club" else
$"light mace",
25% $"hide armor";
Lists:
* 117
$"worg"
$"wyvern"
$"young" $"black dragon",
* 19
$"celestial" $"wolf"
$"celestial" $"wyvern";
}

Monster "blue goblin" : 10, 87
{
Image: bright blue 'g'; Size: 3; Mana: 6;
CR: -2; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 11, Dex 13, Con 12, Int 10, Wis 14, Cha 8;
Attk: 1 for 1d2 13,
102 for $"goblin";
Stati[39,42,6];
Feats: 18, 32, 36, 44,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 2), 8, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 36, 37, 1, 49, 51;
Gear:
25% $"short sword" else
33% $"dagger" else
50% $"club" else
$"light mace",
5% $"headband" of random 1 to 4;
On Event 150 {
rID wildID;
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0) && !EActor->HasEffStati(42,wildID))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
return 0;
},
209
"All blue goblins are wild talents and possess two randomly
        chosen psionic powers.",
(52+1000) {
if (e.eID->HasSource(56))
EActor->IdentifyMon();
return 0;
};
Desc: "Sometimes, a goblin is simply born different then the vast
      majority of his kin. Often delivered on the night of a full moon,
      during an intense lightning storm or in an area with overwhelming
      psychic residue, a blue goblin possesses a physical mutation not
      dissimilar to albinism in humans -- with dusky blue-brown skin,
      purplish hair and piercing aquamarine eyes, such a creature is
      ensured a life of perpetual social isolation from the rest of his 
      people. Blue goblins are hated and feared by the rest of goblin
      society, and often become introspective, paranoid and withdrawn
      as a result. They're also more likely to question typical goblin
      values than a goblin with a different set of life experiences.\n
      __But it is not merely the physical characteristics which so
      strongly alienate blues from their kin. Instead, they are known
      to possess uncanny mental powers that most goblins neither 
      understand nor can counter. These strange abilities are undeniably
      useful, and for that reason alone many chieftans and goblin 
      warlords cultivate blue goblins as allies and advisors. Still
      others break away from their people and venture out alone,
      trying to come to terms with their nature, accumulate power and
      influence or simply survive in a hostile world.";
}

Monster "goblin spider" : 10, 26, 19
{
Image: green 'l'; Size: 3; Mana: 45;
CR: 4; HD: 5; Hit: +4; Def: 17; Mov: 150%; Spd: 125%;
Str 7, Dex 22, Con 14, Int 13, Wis 14, Cha 7;
Attk:
7 for 1d6 12
and 0d0 60 (DC 16),
6 for 1d4 11,
6 for 1d4 11,
101 for $"goblin",
101 for $"plague of spiders";
Stati[39,42,6];
Stati[39,31,3];
Stati[124,7,+10];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), ((((49 + 1) + 32) + 50) + 13), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 18, 44,
36, 32, 47, 7, 10;
Spells: $"bestow curse", $"read magic", $"chill touch", $"doom";
Flags: 1, 49, 36, 8, 51,
57;
Gear:
50% $"long sword" else
50% $"light flail" else
$"whip",
$"scroll" of random 1 to 4,
50% $"scroll" of random 1 to 4,
10% $"scroll" of random 1 to 4,
5% $"wand" of random 4 to 8,
$"chainmail shirt",
1d3 $"potion" of $"healing",
50% $"potion" of random 2 to 5;
Lists:
* 101 $"goblin" $"plague of spiders";
Desc: "Goblin spiders are a breed of lycanthrope unique to the
      goblin people -- only goblins can become infected; all other
      creatures are immune to this specific form of lycanthropy.
      Goblin spiders are less given to rapid fits of rage than are
      most lycanthropes, and much more inclined to cunning,
      manipulation and careful cultivation of their innate magical
      gifts. The goblinoid tribal religions tend to consider goblin
      spiders to be sacred beings, and to revere them in an odd form
      of idol worship including blood sacrifice and orgiastic rites.
      Goblin spiders thus often end up as the leaders of smaller
      goblin tribes.\n
      __In their natural form, a goblin spider appears as a centaur-like
      creature with the upper body of a goblin and the lower body of a
      large spider. Their fingers taper to claws, and their shiny
      emerald eyes glow with an unnatural radience.";
}

Monster "dekanter goblin" : 10, 87
{
Image: red 'g'; Size: 4;
CR: 1; HD: 2; Hit: +2; Def: 12; Mov: 60%; Spd: 100%; Arm: 2;
Str 17, Dex 12, Con 14, Int 12, Wis 13, Cha 9;
Attk: 23 for 1d6 12,
102 for $"hobgoblin";
Stati[39,66,3];
Stati[39,42,6];
Resists: 0x00000002;
Feats:
7, 20, 22, 32,
3, 44,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((((49 + 1) + 32) + 50) + 38) + 9);
Flags: 36, 37, 1, 93, 49,
94, 15, 51;
Desc: "Bearing little resemblance to the small, cowardly humanoids from
    which they were created, dekanter goblins are vicious, cunning
    opponents with large, rhinolike horns.";
}

Monster "hobgoblin" : 10, 87
{
Image: yellow 'g'; Size: 4; Mana: 6;
CR: 1; HD: 2; Hit: +2; Def: 14; Mov: 100%; Spd: 100%;
Str 11, Dex 13, Con 13, Int 10, Wis 10, Cha 10;
Attk: 1 for 1d2 13;
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), 14;
Flags: 36, 37, 1, 93, 49,
94, 51, 68;
Gear:
25% $"long sword" else
33% $"halberd" else
50% $"large club" else
$"heavy mace",
33% $"studded leather" else
50% $"chainmail" else
$"banded mail",
$"long bow",
3d6 $"sheaf arrow";
}

Monster "bugbear" : 10, 87
{
Image: brown 'g'; Size: 4; Mana: 10;
CR: 2; HD: 3; Hit: +5; Def: 13; Mov: 100%; Spd: 115%;
Str 15, Dex 12, Con 13, Int 10, Wis 10, Cha 9;
Attk: 1 for 1d2 13,
102 for $"hobgoblin";
Stati[39,42,6];
Feats: 18, 32, 36, 44,
((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23);
Flags: 36, 37, 1, 93, 49,
94, 51;
Gear:
$"morningstar",
2d3 $"javelin",
33% $"studded leather" else
50% $"chainmail" else
$"banded mail";
}

Monster "adlet" : 84, 87, 6
{
Image: grey 'g'; Size: 3; Mana: 6;
CR: -2; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 9, Dex 13, Con 7, Int 6, Wis 9, Cha 8;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 13
and 63 (DC 13),
31 for 1d2 52;
Stati[39,42,6];
Stati[39,71,6];
Stati[39,22,1];

Feats: 18, 32, 36, 44,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 37, 1, 93, 49,
94, 102, 42;
Gear:
50% $"halfspear",
25% $"hide armor";
Desc: "This odd species of goblinoid is said in myth to
      have been born as the result of misceganation between
      human women and dogs. Slightly smaller than goblins,
      adlets have humanoid bodies but faces like a bulldog's.
      Their species is well-attuned to harsh winters, but
      suffers a natural proclivity to disease, and a single
      illness has been known to decimate a tribe. In
      temperment they are vicious but stupid, even willing
      to engage in cannibalism and gaining powers from doing
      so just as orcs do. They particulairly favor drinking
      the blood of living foes they face in combat, which
      they can do after a successful grapple attack.";
On Event 209
"It has a -4 racial penalty to save vs. disease. Any
       weapon it wields is treated as having the <11>frost<7>
       quality. If it is CR 3 or higher, the weapon gains the
       <11>burst<7> quality as well.",
(13+1000) {
EItem->RemoveEffStati($"Adlet Frost");
if (!(EItem->IFlags & 0x0004))
return 0;
EItem->GainPermStati(183,EActor,
7,9,0,$"Adlet Frost");
if (EActor->ChallengeRating() >= 3)
EItem->GainPermStati(183,EActor,
7,11,0,$"Adlet Frost");
return 0;
},
54, 31 {
EItem->RemoveEffStati($"Adlet Frost");
};
}

Effect "Adlet Frost" : 46 { }



Monster "batkin" : 18, 87
{
Image: brown 'k'; Size: 3; Mana: 10; Arm: 2;
CR: -2; HD: 1; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 6, Dex 14, Con 10, Int 10, Wis 16, Cha 8, Luc 10;
Attk: 7 for 1d3 12
and 63 (DC 13),
31 for 1d6 0;
Stati[124,9,2];
Stati[39,13,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), (((49 + 1) + 32) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
((((49 + 1) + 32) + 50) + 13), 39, 18, 36,
33, 7, 14,
(((49 + 1) + 32) + 9);
Flags: 36, 37, 1, 49, 68,
8, 68, 12;
Immune: 0x00000010;
Gear: 80% $"whip"
else random 58,
75% $"bolas",
30% 1d2 $"bag" of $"tanglefoot bag",
50% $"small glass vial" of random 1 to 3,
25% $"strip of cured meat";
Desc: "Batkin are a kobold bloodline resulting from interbreeding
      with bats. They lack the reptilian features of normal kobolds,
      instead possessing soft black fur, wide glossy eyes and thin,
      leathery wings. They serve as the aerial assault forces and
      deep underdelvers of the kobold peoples, and are slightly more
      sedate and calm-minded than their psychotic cousins.";
}

Monster "gremlin" : 18, 87
{
Image: yellow 'k'; Size: 3; Mana: 10; Arm: 2;
CR: -1; HD: 1; Hit:0; Def:10; Mov:75%; Speed: 100%;
Str 6, Dex 14, Con 10, Int 14, Wis 10, Cha 8, Luc 10;
Attk: 7 for 1d6 12 damage,
6 for 1d4 11 damage,
6 for 1d4 11 damage;
Stati[124,9,2];
Stati[124,16,6];
Stati[124,41,2];
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), (((49 + 1) + 32) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
((((49 + 1) + 32) + 50) + 13), 39, 18, 36,
33, 7, 14,
(((49 + 1) + 32) + 9);
Flags: 28, 36, 37, 1, 49,
68, 74, 73, 93, 94,
8, 68, 52;
Gear: 80% $"whip"
else random 58,
75% $"bolas",
30% 1d2 $"bag" of $"tanglefoot bag",
50% $"small glass vial" of random 1 to 3,
25% $"strip of cured meat";
Desc: "Gremlins are a kobold subrace warped in incredibly
      bizarre ways by the magical radiations of the Underdark.
      They resemble normal kobolds in many ways, but have a
      stripe of hair on their head and down their back, which
      is often a strange, brilliant color. They also have huge,
      bat-like ears. Gremlins are even more chaotic, erratic
      and psychotic than normal kobolds, fond of malicious
      mischief and elaborate trap-setting with a wickedly
      black sense of humor.";
On Event 32 {
int32 x, y;
int32 isWater;
isWater = false;
if (EActor->x == -1)
return 0;
if (EMap->BrightAt(EActor->x,EActor->y) && !EActor->HasStati(18))
{
EActor->IDPrint("You hiss in agony at the bright light...",
"The <hObj> hisses in agony at the bright light...", EActor);
EActor->GainTempStati(18,((hObj)0),1d4+1,7);
}
for (x=EActor->x-1;x!=EActor->x+2;x++)
for (y=EActor->y-1;y!=EActor->y+2;y++)
if (EMap->InBounds(x,y) &&
ResourceHasFlag(EMap->TerrainAt(x,y),7))
isWater = true;
if (isWater)
EActor->Multiply(1,false,true);
return 0;
},
43 {
if (EActor->x == -1)
return 0;
if (EMap->BrightAt(EActor->x,EActor->y) && !EActor->HasStati(18))
{
EActor->IDPrint("You hiss in agony at the bright light...",
"The <hObj> hisses in agony at the bright light...", EActor);
EActor->GainTempStati(18,((hObj)0),1d4+1,7);
}
return 0;
},
(41+500) {
if (e.DType == 74)
EActor->Multiply(1,false,true);
if ((e.DType == 9 || e.eID == $"cleansing light") && !EActor->HasStati(18))
{
EActor->IDPrint("You hiss in agony at the bright light...",
"The <hObj> hisses in agony at the bright light...", EActor);
EActor->GainTempStati(18,((hObj)0),1d4+1,7);
}
return 0;
},
209
"It multiplies when exposed to water. Bright light causes it to petrify.";
}



Monster "aasimar" : 71, 87
{
Image: white 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 10, Con 10, Int 10, Wis 13, Cha 13, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Stati[39,73,+2];
Flags: 36, 37, 1, 50;
Spells: $"call light", $"cure light wounds";
Resists: 0x00000004, 0x00000002, 0x00000008;
Feats: 30, 25, ((49 + 1) + 5);
Gear: 25% random 58 +1 with [1] else
random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Aasimar are descended from humans and celestials. Like
      one would expect, they tend to be noble, beautiful and wise,
      but also regal and distant, given to abstractions of ethics
      and distant contemplation. Many of them take up the path of
      the paladin.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "tiefling" : 71, 87
{
Image: red 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 11, Dex 13, Con 10, Int 13, Wis 10, Cha 8, Luc 8;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1, 49;
Spells: $"deeper darkness", $"inflict light wounds";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 36, 6,
14;
Resists: 0x00000001;
Gear: 10% random 58 +1 with [2] else
random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Tieflings are descended from humans and fiends. They tend
      to be treacherous and opportunistic, but while many are
      truly depraved many others are not. They do have a collective
      sense of embitterment over their lot, however, because they
      face a great deal of prejudice concerning their heritage.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "air genasi" : 71, 87
{
Image: white 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 8, Dex 13, Con 10, Int 13, Wis 8, Cha 10, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1, 20;
Spells: $"fly", $"gust of wind";
Feats: ((49 + 1) + 1), 22, 46, 13;
Resists: 0x00000001;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "earth genasi" : 71, 87
{
Image: brown 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 13, Dex 8, Con 13, Int 10, Wis 10, Cha 8, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1;
Spells: $"stone tell", $"meld into stone";
Stati[177,19];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 9;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "fire genasi" : 71, 87
{
Image: bright red 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 10, Con 10, Int 13, Wis 8, Cha 13, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1;
Spells: $"produce flame", $"pyrotechnics";
Resists: 0x00000001;
Feats: (((49 + 1) + 32) + 44), 6, 20;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "water genasi" : 71, 87
{
Image: bright blue 1; Size: 4; Mana: 10;
CR: 1/2; HD: 1; Hit:0; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 13, Con 13, Int 8, Wis 10, Cha 10, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Flags: 36, 37, 1, 31, 30;
Spells: $"water walking", $"create water";
Stati[124,45,+6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 24), 45, 28;
Gear: random 58,
25% $"food ration";
Desc: "Planetouched are the offspring of human or demihumans
      and planar creatures. Unlike Half-Fiends and their ilk,
      planetouched usually inherit their planar blood from several
      generations back rather than an immediate ancestor. They
      retain free will from their (demi)human side, but their
      ancestry gives them strong predilictions as well as some
      measure of inherant magic and supernatural abilities.\n
      __Genasi are descended from elemental creatures -- usually
      genies -- and men or women.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "githyanki" : 71, 87
{
Image: bright green 1; Size: 4; Mana: 10;
CR: 2; HD: 1; Hit:1; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 12, Con 13, Int 11, Wis 8, Cha 10, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Stati[39,61,2];
Stati[118,18,25];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),
9, 8, 41;

Flags: 36, 37, 1, 109, 51,
49;
Spells: $"clairvoyance;psi", $"telekinesis;psi",
$"translocate";
Gear: if ((EActor->ChallengeRating() >= 7) || (e.enCR >= 9))
$"greatsword" of $"silver sword" else
$"greatsword" +1,
50% random 21,
25% random 57 of random 1 to 4,
25% $"food ration";
Desc: "Long, long ago, the mind flayers began an ill-fated
      experiment to unlock the psionic abilities in humans,
      hoping to breed a psychoactive slave race. They succeeded
      in their stated goal, but their newly-bred slaves, the
      gith, revolted and escaped, fleeing to the astral plane
      where they naturalized and adapted to the harsh, alien
      life. Ever their minds were drawn to revenge upon their
      former masters, however, and in time this bile created a
      schism among their people, dividing them into the githyanki
      and githzerai. Now, these two species, so very similar,
      wage a tireless, timeless war against each other across
      the farthest reaches of the astral plane.\n
      __Gith look vaguely like elongated humans, with
      sunken, triangular faces, pointed ears and long, spindly
      fingers. Their skin is a mottled mixture of dull green,
      browns and greys. Their dress is baroque and elaborate,
      often harkening back to the styles of empires fallen
      millenia ago.\n
      __The githyanki are brutal and tyrranical, living under
      the horrible dictatorship of an ancient lich-queen. They
      are militaristic and hierarchical, often forming alliances
      with devils in their struggle against the githzerai and
      illithids.";
}

23 Effect "silver sword" : 46
{ 0x00000100|0x00000008; Level: 7; Flags: 20, 93, 18;
On Event (12+500), (13+500) {
if (!EActor->ItemPrereq((rID)($"githyanki"),0,25))
{
APrint(e, "Wielded by a non-githyanki, the silver
            sword collapses into liquid silver and melts away to
            nothing!");
EItem->Remove(true);
return 1;
}
return 0;
},
(20+500) {
if (EVictim->HasStati(102,2)) {
if (!EVictim->SavingThrow(0,20,0x00000010|0x00000001))
{
VPrint(e,"Your silver cord is severed!",
"The <EActor>'s silver cord is severed!");
ThrowDmg(42,0,0,"a githyanki silver sword",
EActor,EVictim,EItem);
if (EVictim->isDead())
return 1;
}
else
VPrint(e,"You resist having your silver cord severed!",
"The <EVictim> evades an attempt to sever <his:EVictim> silver cord!");
}
return 0;
};
Constants:
* 101 $"greatsword",
* 102 +3;
Lists:
* 12 74 13 77;
Desc: "Silver swords are the wicked trademark weapon of experienced
      githyanki. They are <11>+3 keen ghost touch silver greatswords<7>,
      and have the additional property of severing the silver cord of
      any astrally projected prime material native they strike, killing
      him instantly, unless that character succeeds at a Fortitude
      saving throw (DC 20). If any non-githyanki (other than high-level
      rogues able to decieve magical items) picks up a silver sword, it
      melts away to molten silver.";
}

Monster "githzerai" : 71, 87
{
Image: bright cyan 1; Size: 4; Mana: 10;
CR: 2; HD: 1; Hit:1; Def:10; Mov: 100%; Speed: 100%;
Str 10, Dex 16, Con 10, Int 8, Wis 12, Cha 11, Luc 10;
Attk: 1 for 1d2 13,
102 for $"human";
Stati[39,61,2];
Stati[39,77,10];
Stati[118,18,25];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
8, 41;
Flags: 36, 37, 1, 109, 52;
Spells: $"inertial barrier", $"flesh armor",
$"energy containment", $"detonate";
Gear: 50% $"quarterstaff" of random 1 to 6 else
$"spiked chain" of random 1 to 4,
10% $"amulet" of random 1 to 5,
25% $"wand" of random 1 to 4,
25% $"food ration";
Desc: "Long, long ago, the mind flayers began an ill-fated
      experiment to unlock the psionic abilities in humans,
      hoping to breed a psychoactive slave race. They succeeded
      in their stated goal, but their newly-bred slaves, the
      gith, revolted and escaped, fleeing to the astral plane
      where they naturalized and adapted to the harsh, alien
      life. Ever their minds were drawn to revenge upon their
      former masters, however, and in time this bile created a
      schism among their people, dividing them into the githyanki
      and githzerai. Now, these two species, so very similar,
      wage a tireless, timeless war against each other across
      the farthest reaches of the astral plane.\n
      __Gith look vaguely like elongated humans, with
      sunken, triangular faces, pointed ears and long, spindly
      fingers. Their skin is a mottled mixture of dull green,
      browns and greys. Their dress is baroque and elaborate,
      often harkening back to the styles of empires fallen
      millenia ago.\n
      __The githzerai are allied with the extraplanar forces
      of chaos, valuing rugged individuality above all else
      in their fight against their dual oppressors, the mind
      flayers and githyanki. The only githzerai who commonly
      forswear chaos are those who wish to become monks -- a
      common choice among their people. Even these martial
      artists fight in the name of freedom, though they are
      fiercely disciplined themselves. These monks often lead
      hunting parties against illithids or githyanki.";
}

Encounter "githzerai rrakkma"
{
CR: 8+;
Parts:
* [50] 2-5 of $"githzerai" 112 [0x00000020]
* [40] 1-4 of $"githzerai" [0x00000080|0x00000010]
* <CR 10+> 25% 1 of (48+105*256) [0x00000010];
Lists:
* 112
20 $"scarlet disciple"
1 $"monk;template";
Constants:
* 115 3;
}
#line "mon2.irh" 1277
Monster "mongrelman" : 58, 87
{
Image: brown 'h'; Size: 3; Mana: 6;
CR: -4; HD: 1; Hit: +0; Def: 12; Mov: 50%; Spd: 80%;
Str 11, Dex 13, Con 12, Int 10, Wis 9, Cha 6;
Attk: 6 for 1d3 11,
6 for 1d3 11,
9 for 36 (DC 13);
Stati[39,42,6];
Stati[39,71,3];
Stati[39,130,1];
Stati[39,73,2];
Stati[124,7,+4];
Feats: 18, 32, 36, 44, 7,
47, ((((49 + 1) + 32) + 50) + 8);
Spells: $"chameleon shifting";
Flags: 36, 37, 1, 30, 57;
Gear:
25% $"short sword" else
33% $"dagger" else
50% $"club" else
$"light mace",
25% $"hide armor",
3d6 $"copper piece",
25% $"food ration",
25% $"wand" of random 1 to 4;
Desc: "Mongrelmen are a race of tiny humanoids produced by
      magical crossbreeding of halflings, animals and many other
      creatures. Each mongrelman is unique, combining features of fish, 
      reptiles, mammals and birds into a tiny humanoid frame. 
      Mongrelmen are neither good nor evil; they simply seek to survive 
      in a world which despises them and views them as worthless. Their
      mixed blood allows them to make use of magical items normally
      reserved for a single race as if they were a member of that
      race.";
}


Monster "myconid" : 39, 58, 87
{
Image: bright purple 'F'; Size: 4;
CR: -2; HD: 1; Def: 8; Hit: 1; Mov: 75%; Spd: 75%;
Str 8, Dex 9, Con 0, Int 8, Wis 15, Cha 7;
Attk: 19 for 1d4 13,
22 for 3d6 17 (DC 13);
Stati[124,1,+2];
Stati[39,42,+6];
Immune: 0x00100000, 0x00020000, 0x00080000, 0x00010000, 0x00008000;
Feats: ((49 + 1) + 5), 1, 32, 44,
27, 9, 3,
48;
Spells: $"cure disease", $"dispel magic";
Flags: 51, 1, 37, 54,
93, 94, 66, 104;
Desc: "Myconids are a reclusive, hierarchical race of
      anthropomorphic mushrooms. Skilled farmers, alchemists
      and architects, they think in a very alien manner and
      shun contact with most other humanoid peoples, but are
      generally peaceful and well-intentioned. Myconids are
      one of the few elder races to remain loyal to the law
      of Kysul, and it treasures them greatly as a result.";
On Event (18+1000) {
ThrowVal(49,22,EActor,EVictim);
return 0;
};
Gear:
50% $"club",
50% $"potion" of random 1 to 4,
50% $"potion" of random 1 to 4,
50% $"potion" of random 1 to 4;
}

Monster "grimlock" : 11, 87
{
Image: grey 'h'; Size: 4;
CR: 0; HD: 1; Def: 14; Hit: 2; Mov: 100%; Spd: 100%;
Str 18, Dex 14, Con 14, Int 10, Wis 8, Cha 6;
Attk: 1 for 1d3 13;
Stati[124,18,10];
Stati[39,94,15];
Stati[39,13,4];
Stati[39,71,4];
Feats:
((49 + 1) + 5), ((49 + 1) + 25),
7, 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 32, 44;
Flags: 36, 1, 49, 6,
66;
Gear:
50% $"battleaxe" else random 58;
Desc: "These primevil, eyeless humanoids dwell deep beneath
      the earth, venturing close to the surface only to raid. They
      do not communicate in any conventional language, though they
      are clearly intelligent, and thus their motives and desires
      remain inscrutable. Extremely xenophobic, grimlocks rarely
      deal with other creatures, but have been known to form brief
      alliances with medusae or illithids.";
Lists:
* 103 $"medusa" $"mind flayer";
}

Monster "muckdweller" : 51
{
Image: brown 'R'; Size: 2; Terrain: 0x0010;
CR: 1/2; HD: 1; Def: 12; Hit: +1; Mov: 35%; Spd: 100%;
Str 4, Dex 16, Con 12, Int 10, Wis 12, Cha 6;
Attk: 7 for 1d4 12;
Stati[124,18,+4];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 32, 44, 45, 18,
36, 5;
Flags: 36, 3, 49, 51, 31,
30;
Spells: $"Mud Spray";
Desc: "These tiny reptilian creatures resemble gila monsters,
      but stand upright and measure only a foot high. Dwelling in
      swamps, marshlands and muddy underground areas, the muckdwellers
      form tight, vicious tribal communities to hunt down and slay
      larger creatures. Their forepaws are so small and weak as to
      be useless, much like a tyranosaur's. Their scales are mottled
      brown and grey in color, while their bellies are yellow.";
#line "mon2.irh" 1406
}

Effect "Mud Spray" : 1
{
aval: 2; lval: 2; cval: 6; qval: 0x0004|0x01000;
xval: 24; pval: 2d4; Purpose: 0x00001;
Flags: 60, 33, 82;
Desc: "A muckdweller can produce a pressurized spray of mud by
      swinging their tail, using this directed jet to blind larger
      creatures. The muckdweller must roll to hit when using this
      ability, and can only use it in a muddy area.";
On Event 155 {
if (EMap->TerrainAt(EActor->x,EActor->y) != $"shallow mud")
return -1;
if (EVictim->isBlind())
return 1;
return 0;
};
}
#line "mon2.irh" 1488
Monster "locathah" : 11, 51
{
Image: red 'h'; Size: 4;
CR: 0; HD: 1; Hit: 1; Def: 13; Mov: 160%; Spd: 100%;
Str 13, Dex 10, Con 12, Int 13, Wis 13, Cha 10;
Attk: 1 for 1d3 13;
Gear:
50% $"longspear" else $"trident",
$"arbalest", 3d6 $"crossbow bolt";
Feats: ((49 + 1) + 25), 9, 32, 44, 45;
Flags: 1, 30, 86, 31, 36;
Desc: "The locathah are a race of undersea-dwelling fishmen.
      They are on average seven feet tall, with deep maroon hides
      that are rough like a shark's, and heavy fins sprouting from
      their arms, back and in a crown around their head.";
}

Monster "minotaur" : 11, 87, 46
{
Image: brown 'h'; Size: 5; Mana: 10;
CR: 5; HD: 6; Hit: 6; Def: 15; Mov: 100%; Spd: 130%;
Str 19, Dex 10, Con 15, Int 7, Wis 10, Cha 8, Luc 16;
Attk: 23 for 1d8+2 12,
1 for 1d3 13;
Stati[39,42,6];
Stati[39,71,6];
Stati[124,41,4];
Stati[124,44,4];
Stati[124,32,4];
Stati[39,94,18];
Stati[39,100,6];
Gear:
$"greataxe",
5% $"girdle" +1 of $"giant strength";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 32),
41, 44, 32;
Flags: 1, 49, 52;
Lists:
* 103 $"wereboar",
* 101 $"wereboar";
}

Monster "sahuagin" : 11, 87
{
Image: green 'h'; Size: 4; Mana: 10;
CR: 0; HD: 2; Hit: +1; Def: 15; Hit: 2; Mov: 100%; Spd: 120%;
Str 14, Dex 13, Con 12, Int 14, Wis 13, Cha 9;
Attk: 6 for 1d2 11,
6 for 1d2 11,
7 for 1d4 12;
Stati[39,42,6];
Feats: 18, 36, 44, ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 36, 1, 30, 94, 31,
93, 49, 51, 8;
Gear: 50% $"trident" else $"longspear",
25% $"hide armor" else
33% $"cord armor";
Desc: "The sahuagin, or sea devils, are a bloodthirsty race
      of aquatic raiders, appearing as a cross between humans an
      spinefish. They have scaly skin, bulbous eyes and sharp
      fangs, and are most famous for flying into a berserk rage
      upon the taste of blood.";
On Event (20+1000) {
if (e.vDmg && !EActor->HasStati(66))
{
DPrint(e,"You fly into a blood rage!",
"The <EActor> flies into a blood rage!");
EActor->GainTempStati(66,EActor,3d6,7,2,0,(rID)0);
}
return 0;
};
}

Monster "troll" : 54
{
Image: green 'T'; Size: 5;
CR: 6; HD: 6; Hit: +4; Def: 15; Hit: 3; Mov: 100%; Spd: 125%;
Str 23, Dex 14, Con 23, Int 6, Wis 9, Cha 6;
Attk: 6 for 1d6+1 11,
6 for 1d6+1 11,
7 for 1d6 12;
Stati[39,42,9];
Stati[39,66,5];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 44, 32;
Flags: 36, 1, 93, 52,
49, 14, 104;
Desc: "With spindly limbs and skin like limestone, the
      trolls are among the most frightening of the humanoid
      marauders. They have very limited intelligence in the
      human sense, but possess a primal kind of cunning that,
      paired with their ability to heal from almost any
      injury, makes them terrifying foes.";
}

Monster "scrag" : 54
{
Image: blue 'T'; Size: 5;
CR: 6; HD: 6; Hit: +5; Def: 15; Hit: 3; Mov: 100%; Spd: 125%;
Str 23, Dex 14, Con 23, Int 6, Wis 9, Cha 6;
Attk: 6 for 1d6+1 11,
6 for 1d6+1 11,
7 for 1d6 12,
102 for $"troll";
Stati[39,42,9];
Stati[39,66,5];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 44, 32,
45;
Flags: 36, 1, 93, 52,
49, 14, 38, 31, 107,
104;
Desc: "With spindly limbs and skin like limestone, the
      trolls are among the most frightening of the humanoid
      marauders. They have very limited intelligence in the
      human sense, but possess a primal kind of cunning that,
      paired with their ability to heal from almost any
      injury, makes them terrifying foes. Scrags are aquatic
      trolls.";
}

Monster "chitine" : 58, 26, 87
{
Image: pink 'h'; Size: 3; Mana: 10;
CR: 1; HD: 2; Hit: +1; Def: 10; Mov: 100%; Spd: 300%;
Str 10, Dex 13, Con 12, Int 12, Wis 11, Cha 7;
Attk: 1 for 1d2 13;
Stati[39,42,6];
Gear:
3d1 $"short sword" of random 0 to 1,
$"hide armor" of random 0 to 1,
3d3 $"javelin" of random 0 to 1;
Stati[177,14];
Feats:
((49 + 1) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), ((((((49 + 1) + 32) + 50) + 38) + 30) + 22),
5, 7, 9, 18, 22,
36;
Flags: 36, 28, 1, 52, 49,
8, 24;
Desc: "Chitine are spiderlike humanoids inadvertently created by
    the drow as the result of failed experiments.";
}

Monster "choldrith" : 58, 26, 87
{
Image: red 's'; Size: 5; Mana: 10;
CR: 8; HD: 4; Hit: +2; Def: 10; Mov: 100%; Spd: 120%;
Str 19, Dex 16, Con 17, Int 15, Wis 16, Cha 14; Arm: 7;
Attk: 7 for 2d4+6 12 and 0d0 60 (DC 13),
102 for $"chitine";
Stati[39,82,4];
Stati[39,42,6];
Stati[124,7,10];
Stati[118,18,((13*5)-50)];
Stati[39,97,4];
Spells: $"web", $"bless";
Stati[177,14];
Feats:
5, 7, 8, 22,
43,
(((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);
Flags: 36, 28, 1, 52, 49, 53,
8, 23, 24;
Desc: "Choldriths are the priest race of the chitines.";
Poison: $"choldrith venom";
Gear:
25% $"scroll" of $"hallow";
Lists:
* 101 $"chitine";
On Event (36+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
Lists:
* 21
(52 + 1000);
}

Poison "choldrith venom" : 4
{
Level: 5;
cval: 1;
sval: 13;
lval: 2;
xval: 18; pval: 3d4;
Desc: "This poison has an onset (and recurrance) time of <11>1<7> turn,
      causing its targets to become paralyzed. It requires <11>2<7> 
      saving throws against <11>DC 13<7> to overcome the effect fully.";
}


Monster "kyrie" : 81, 87, 4
{
Image: brown 'b'; Size: 4; Mana: 10;
CR: 2; HD: 4; Hit: +4; Def: 12; Mov: 250%; Spd: 115%;
Str 8, Dex 16, Con 10, Int 10, Wis 13, Cha 10;
Attk: 6 for 1d6 11,
6 for 1d6 11;
Stati[39,82,3];
Stati[39,42,6];
Feats: ((((49 + 1) + 32) + 50) + 32), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
32, 48, 2;
Flags: 36, 1, 12, 64, 98, 39;
Desc: "This creature is a tall male humanoid covered in brown and gold
    feathers. It has powerful feathered wings instead of arms, with human
    hands, and its legs end in eagle-like talons. Its face is human, with
    arched eyebrows, high cheekbones, and feathery sideburns.";
Lists:
* 21
(52 + 1000);
}

Monster "ursoi" : 41, 87
{
Image: white 'H'; Size: 5; Mana: 10;
CR: 5; HD: 5; Hit: +5; Def: 12; Mov: 100%; Spd: 125%;
Str 21, Dex 12, Con 16, Int 9, Wis 13, Cha 7; Arm: 2;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12;
Stati[39,71,6];
Stati[124,45,4];
Stati[124,48,4];
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
7, 32, 44, 48, 45;
Flags: 36, 1, 74, 51, 14, 42;
Gear: 50% $"pickaxe" of random 1 to 2;
}

Monster "thri-kreen" : 31, 11, 87
{
Image: yellow 'x'; Size: 4; Mana: 15; Arm: 5;
CR: 2; HD: 3; Hit: +2; Def: 14; Mov: 125%; Spd: 125%;
Str 12, Dex 15, Con 11, Int 8, Wis 12, Cha 7;
Attk: 6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
6 for 1d4+1 11,
7 for 1d4 12
and 60 (DC 11),
102 for $"giant praying mantis";
Stati[39,42,6];
Poison: $"thri-kreen venom";
Spells: $"inertial barrier",
$"body equilibrium",
$"cell adjustment";
#line "mon2.irh" 1741
Spells: $"displacement", $"mage armor",
$"magic weapon";
Stati[124,18,10];
Stati[124,22,20];
Stati[177,16];
Stati[30,1,0,$"gythka"];
Stati[30,1,0,$"chatkcha"];
Stati[41,(((49 + 1) + 32) + 30)];
#line "mon2.irh" 1753
Feats: 22, 18, 36, 5,
7, 32, 44, 14,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12);
Flags: 1, 26, 27, 36,
72, 52, 107;
Desc: "Sometimes called mantis warriors, the thri-kreen are
      intelligent, desert-dwelling humanoids with a strong
      resemblance to praying mantises. In temprament they are
      geared to survival above idealism or personal goals, and
      are very pack-oriented. Their outlook gives them very
      little in common with humanity or other similar races,
      but they sometimes ally with the lizardfolk, with whom
      they have a great deal more in common psychologically but
      very little common ground in terms of favored terrain.";
Gear:
60% $"gythka" else
25% $"gythka" of random 2 to 5,
70% 2d6 $"chatkcha",
5% $"ring" of random 1 to 3;
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "thri-kreen venom" : 4
{
Level: 2;
cval: 7;
sval: 13;
lval: 5;
xval: 50; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>5<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Item "chatkcha" : 58
{ Image: purple 251; Group: 0x00000100 | 0x00000002;
Mat: 20; Size: 4; Weight: 3;
Range: 2; Parry: 1;
SDmg: 1d8; LDmg: 1d6; Acc: +2; Crit: x2; Threat: 1; Spd: 80%;
Flags: 28, 41, 1;
Desc: "The chatkcha is a kind of crystalline throwing wedge
      frequently employed by thri-kreen."; }

Item "gythka" : 58
{ Image: bright purple 251; Group: 0x00000200 | 0x00000002;
Parry: 6; Mat: 11; Size: 5; Weight: 250;
SDmg: 2d6; LDmg: 2d6; Acc: +3; Crit: x2; Threat: 1; Spd: 125%;
Flags: 26, 29, 36, 42, 1;
Desc: "This unusual polearm is a double weapon with a crescent
      blade at each end, and is used almost exclusively by the
      thri-kreen.";
}

Monster "tabaxi" : 5, 87
{
Terrain: 0x0400;
Image: yellow 'c'; Size: 4; Mana: 10;
CR: 2; HD: 2; Hit: +1; Def: 16; Mov: 150%; Spd: 115%;
Str 14, Dex 16, Con 8, Int 12, Wis 12, Cha 13;
Attk: 6 for 1d8 11,
6 for 1d8 11;
Stati[39,42,6];
Stati[39,95,6];
Stati[124,36,+8];
Stati[124,5,+8];
Stati[41,(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19)];
Feats: 1, 2, 5, 36, 48,
18, 14, 37, 22, 39,
(((49 + 1) + 32) + 44), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8);

Flags: 36, 1;
Desc: "Tabaxi are a species of secretive, feline humanoids that
      dwell either far underground or in the depths of unexplored
      jungles. They are a secretive, tribal people with a great
      reverance for nature, dance and hunting. Most tabaxi restrain
      their predatory nature to animals, but some evil jungle cats
      stalk humans, wood elves and other thinking beings. Tabaxi
      rarely leave their insular society, but when they do they
      excel as rangers, rogues and psionicists among other
      adventurers.\n
      __Tabaxi appear as humanoid leopards with mottled orange and
      black fur -- their mystics ascribe great value to the patterns
      of a tabaxi's coloration, believing it reveals some of the
      jungle cat's destiny. Their whiskers let them sense even the
      faintest vibrations in the air, giving them a kind of second
      sight.";
Gear:
$"long bow" of random 0 to 2,
3d6 $"sheaf arrow",
50% $"longspear" else
50% $"scimitar" else
$"whip",
50% $"potion" of $"healing",
50% $"potion" of random 1 to 4;
}
#line "mon2.irh" 1861
Monster "medusa" : 28, 87
{
Image: grey 'u'; Size: 4; Mana: 25; Depth: 4;
CR: 5; HD: 6; Hit: +6; Def: 13; Mov: 100%; Spd: 130%;
Str 10, Dex 15, Con 12, Int 12, Wis 13, Cha 15;
Attk: 1 for 1d2 13,
14 for 1d4 12 and
0d0 60 (DC 14),
43 for 0d0 19 (DC 15),
102 for $"human";
Stati[39,42,6];
Stati[118,18,30];
Gear:
$"short bow" of random 1 to 3,
1d6+1 $"potion" of $"healing",
4d6 $"sheaf arrow",
75% $"wand" of RANDOM 1 to 4,
25% $"stone" of random 2 to 5,
$"dagger" of random 0 to 1;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 25), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
6, 11, 20, 36, 44,
14, 47;
Flags: 36, 30, 65, 28, 107,
73, 51, 49, 40, 1;
Spells: $"globe of shadow", $"bestow curse", $"true strike";
Desc: "A medusa is indistinguishable from a normal human at distances
    greater than 30 feet (or closer, if its face is concealed). The
    creature often wears garments that enhance its body while hiding
    its face behind a hood or veil.
    A typical medusa is 5 to 6 feet tall and about the same weight as a
    human.
    Medusas speak Common.
    A medusa tries to disguise its true nature until the intended victim is
    within range of its petrifying gaze, using subterfuge and bluffing
    games to convince the target that there is no danger. It uses normal
    weapons to attack those who avert their eyes or survive its gaze, while
    its poisonous snakes strike at adjacent opponents.
    (Remember that Freedom of Movement or Immunity to Paralysis will also
    make you immune to Petrification.)";
Poison: $"medusa venom";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Poison "medusa venom" : 4
{
Level: 5;
cval: 1;
sval: 14;
lval: 2;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage 
      <11>every<7> turn, and requires <11>2<7> saving throws against 
      <11>DC 14<7> to overcome.";
}

Monster "sea hag" : 28, 87
{
Image: blue 'u'; Size: 4; Mana: 10;
CR: 6; HD: 5; Hit: +3; Def: 11; Mov: 100%; Spd: 125%;
Str 19, Dex 12, Con 12, Int 10, Wis 13, Cha 14; Arm: 3;
Attk: 43 for 90,
6 for 1d4 11,
6 for 1d4 11,
102 for $"human";
Stati[39,42,6];
Stati[118,18,50];
Stati[124,45,+8];
Feats: ((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 9, 28,
14, 18, 32, 44, 45;
Flags: 36, 30, 65, 28, 107,
73, 52, 49, 38, 1;
On Event (41+500) {
if (e.DType == 90)
{
if (EVictim->HasEffStati(72,$"sea hag"))
return 2;
EVictim->GainTempStati(72,EActor,-2,
7, 0, 0, $"sea hag", 0);
if (EVictim->ResistLevel(28) == -1)
{
e.Immune = true;
return 1;
}

if (!EVictim->SavingThrow(0,19,0x00000001|0x00000400|0x00000020))
EVictim->GainTempStati(20,NULL,3d6,6,0,0,$"sea hag");

if (EVictim->SavingThrow(2,11,0x00000001|0x00000400|0x00000020))
{
e.Resist = true;
return 1;
}
ThrowDmg(42,28,0,"fright",EActor,EVictim);
return 1;
}
return 0;
},
32
{
int32 x, y; hObj hTarget;
for (x=EActor->x-2;x<=EActor->x+2;x++)
for (y=EActor->y-2;y<=EActor->y+2;y++)
if (EMap->InBounds(x,y))
for (hTarget=EMap->FCreatureAt(x,y);hTarget;hTarget = EMap->NCreatureAt(x,y))
{
if (hTarget != GetHandle(EActor))
if (hTarget->Percieves(EActor) && (!hTarget->isBlind()) &&
hTarget->isMType(85))
{
#line "mon2.irh" 1979
}

}
return 0;
},
210
"cause the target to die of fright (DC 11), or, failing that,
        become nauseated for 3d6 rounds (DC 19)",
209
"Its appearance is so horrific to cause any thinking creature
        that is not blind to be weakened, suffering 1d6 point of
        Strength damage every turn. Its gaze attack only functions
        once per day per target.",
(49+1000) {
EActor->IdentifyMon();
return 0;
};

Gear:
1d4+1 $"potion" of $"healing",
25% $"stone" of random 2 to 5 else
33% $"amulet" of random 2 to 5,
25% $"dagger" else
15% $"large club";
}

Monster "green hag" : 28, 87
{
Image: green 'u'; Size: 4; Mana: 50;
CR: 5; HD: 9; Hit: +7; Def: 11; Mov: 100%; Spd: 125%;
Str 19, Dex 12, Con 12, Int 13, Wis 13, Cha 14; Arm: 3;
Attk: 6 for 1d4 11,
6 for 1d4 11,
9 for 2d4 50,
102 for $"human";
Stati[39,42,6];
Stati[118,18,35];
Stati[124,45,+8];
Feats: ((49 + 1) + 5), ((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 35),
((((49 + 1) + 32) + 50) + 32), 9, 8,
14, 18, 32, 44, 45;
Flags: 36, 65, 28, 73, 52,
49, 38, 1, 107;
Spells: $"dancing lights", $"invisibility", $"pass without trace",
$"bestow curse", $"read magic", $"water breathing",
$"ventriloquism", $"visage of death", $"chill blood",
$"sleep";
Gear:
$"scroll" of random 1 to 4,
$"scroll" of random 1 to 4,
50% $"scroll" of random 3 to 5,
25% $"scroll" of random 4 to 6,
1d4+1 $"potion" of $"healing",
25% $"stone" of random 2 to 5 else
33% $"amulet" of random 2 to 5,
25% $"dagger" else
15% $"large club";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "annis" : 28, 87
{
Image: black 'u'; Size: 4; Mana: 15;
CR: 6; HD: 7; Hit: +7; Def: 15; Mov: 100%; Spd: 125%;
Str 25, Dex 12, Con 14, Int 13, Wis 13, Cha 10; Arm: 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d6 12,
102 for $"human";
Stati[118,18,20];
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((49 + 1) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 9, 8,
14, 18, 32, 44, 45;
Flags: 36, 65, 28, 73, 52,
49, 1, 107;
Spells: $"fog cloud", $"enlarge";
Gear:
1d4+1 $"potion" of $"healing",
30% 1d2 $"potion" of $"bull's strength",
30% 1d2 $"potion" of $"haste",
30% 1d3 $"potion" of $"fire breath",
25% $"stone" of random 2 to 5 else
33% $"amulet" of random 2 to 5,
50% $"hide armor";
On Event (36+1000), (17+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "night hag" : 28, 48
{
Image: purple 'u'; Size: 4; Mana: 80; Arm: 11;
CR: 9; HD: 8; Hit: +6; Def: 11; Mov: 70%; Spd: 80%;
Str 19, Dex 12, Con 18, Int 11, Wis 15, Cha 12;
Attk: 7 for 2d6 12
and 0d0 27 (DC 18),
43 for 0d0 90,
102 for $"human";
Stati[39,42,6];
Stati[39,105,+1];
Stati[39,61,3];
Stati[118,18,75];
Immune: 0x00000001, 0x00000002, 0x08000000, 0x00008000;
Feats: ((49 + 1) + 5), ((49 + 1) + 25), ((((49 + 1) + 32) + 50) + 35),
((((49 + 1) + 32) + 50) + 32), 9, 8,
25, 43, 32, 44, 45;
Flags: 36, 65, 28, 73, 52,
49, 38, 1, 107;
Spells: $"detect good", $"magic missile", $"ray of enfeeblement",
$"deep slumber", $"rigor mortis";
On Event (28+2000) {
if (e.eID == $"charm person" || e.eID == $"charm monster" ||
e.eID == $"fire charm")
{
e.Immune = true;
return 1;
}
return 0;
},
((41+500)+2000) {
if (e.DType == 21)
{
e.Immune = true;
return 1;
}
return 0;
},
(41+500) {
if (e.DType == 90)
{
if (EVictim->HasEffStati(79,$"night hag"))
return 2;
if (EVictim->ResistLevel(28) == -1)
{
e.Immune = true;
return 1;
}
if (EVictim->SavingThrow(2,24,0x00000001|0x00000002|0x00000400))
{
e.Resist = true;
return 1;
}
EVictim->GainPermStati(79,EActor,12,
45,0,$"night hag",12);
EVictim->GainPermStati(79,EActor,12,
(45+1000),0,$"night hag",12);
EVictim->IPrint("You feel haunted.");
EActor->IPrint("You plant your seed in the <hObj>'s dreams.",EActor);
if (EVictim->isPlayer())
EActor->GainTempStati(10,NULL,10d10,7,4);
return 1;
}
return 0;
},
(45+10000) {
e.EParam |= 0x0080;
return 0;
},
((45+1000)+10000) {
EActor->IPrint("Your dreams are haunted by horrific images!");
ThrowDmg(41,45,1d6+1,"night hag dream-haunting",
EActor->GetEffStatiObj(79,$"night hag"),EActor);
return 0;
},
82 {
hObj hHeart;
if (EActor->onPlane() == 3)
return 0;
for (hHeart=EActor->FirstInv();hHeart;
hHeart=EActor->NextInv())
if (hHeart->iID == $"stone")
if (hHeart->ieID == $"heartstone")
return 0;
EActor->IPrint("You need your heartstone to invoke the
        power of etherealness.");
return 2;
},
209
"It is immune to <9>charm<7> spells. It needs a heartstone to use
        its <9>etherealness<7> ability.",
210
"haunt a victim's dreams, inflicting 1d6 points of Con damage every
        time the victim rests",
(49+1000), (36+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
$"stone" of $"heartstone",
25% $"hide armor",
25% $"amulet" of random 3 to 6,
50% 1d3 $"potion" of $"healing";
}

27 Effect "heartstone" : 2
{ xval: 120; yval: 52; pval: +2; }
and 2
{ xval: 177; yval: 27; Flags: 18;
Desc: "A night hag's most treasured possession is her heartstone,
      a special magical stone containing a fragment of the night hag's
      heart. To a night hag, this stone conveys a +2 resistance bonus
      to saving throws and immunity to disease, as well as being an
      essential component of their inherant ethereal travel abilities.
      To any wielder other than a night hag (or a high-level rogue),
      the stone conveys only the saving throw bonus.";
On Event 28 {
if (e.efNum == 1 && !EVictim->ItemPrereq((rID)($"night hag"),0,25))
return 1;
return 0;
};
}

Monster "sphinx" : 46, 35
{
Image: brown 'M';
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n 
      __They come in various different species, which can be
      discerned with the Knowledge (Mythology) skill.";
Flags: 24, 108;
}

Monster "hieracosphinx" : 46, 35
{
Image: red 'M'; Size: 5; Mana: 80; Arm: 6;
CR: 6; HD: 9; Hit: +8; Def: 10; Mov: 175%; Spd: 125%;
Str 21, Dex 14, Con 15, Int 6, Wis 15, Cha 10;
Attk: 7 for 1d10 11,
6 for 1d6 11,
6 for 1d6 11,
47 for 3d6 17 (DC 15),
102 for $"sphinx";
Stati[39,42,6];
Stati[39,73,4];
Stati[118,18,75];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 7),
44, 32, 6, 14,
20, 22;
Flags: 36, 64, 72, 12, 11,
52, 49, 55, 57;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Hieracosphinxes are the only species of sphinxkind to
      be truly black-hearted. Vicious and stupid, they seek to
      decieve travellers, malign the innocent and capture and
      enslave the female gynosphinxes.";
On Event (49+1000) {
if (e.AType == 47)
EActor->IdentifyMon();
return 0;
},
((52+2000)+1000) {
if (!ResourceHasFlag(e.eID,33))
if (EActor->isPlayer())
EVictim->IdentifyMon();
return 0;
};
}

Monster "gynosphinx" : 46, 35
{
Image: yellow 'M'; Size: 5; Mana: 120; Arm: 4;
CR: 7; HD: 8; Hit: +7; Def: 10; Mov: 200%; Spd: 150%;
Str 19, Dex 12, Con 13, Int 18, Wis 19, Cha 19;
Attk: 6 for 1d6 11,
6 for 1d6 11,
102 for $"sphinx";
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((49 + 1) + 32) + 50) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 26),
44, 32, 6, 10, 11,
25, 23, 26,
27;
Spells: $"read magic", $"see invisibility", $"insightful stroke",
$"dispel magic", $"remove curse", $"symbol of sleep",
$"symbol of pain", $"detect objects", $"detect monsters",
$"identify", $"dispel magic";
Flags: 36, 65, 72, 12, 11;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Gynosphinxes are female sphinxes of incredible intellectual
      and magical power. Scholars and seekers of knowledge, they
      are reclusive and love mental challenges, venturing out rarely
      to seek out androsphinxes or criosphinxes as mates.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
50% $"scroll" of random 1 to 8,
50% $"scroll" of random 1 to 8,
50% $"scroll" of random 1 to 8;
}

Monster "criosphinx" : 46, 35
{
Image: grey 'M'; Size: 5; Mana: 40; Arm: 7;
CR: 8; HD: 10; Hit: +10; Def: 10; Mov: 150%; Spd: 100%;
Str 23, Dex 10, Con 17, Int 10, Wis 11, Cha 11;
Attk: 8 for 1d10 13,
6 for 1d6 11,
6 for 1d6 11,
47 for 2d4 50 (DC 17),
102 for $"sphinx";
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 35),
(((49 + 1) + 32) + 7),
44, 32, 6, 10, 11,
26, 22;
Spells: $"dimension door";
Flags: 36, 64, 72, 12, 11,
57, 79;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Criosphinxes have the head of a ram instead of that of
      a person. They are intensely paranoid and covetious, seeking
      wealth above all else.";
On Event (49+1000) {
if (e.AType == 47)
EActor->IdentifyMon();
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "androsphinx" : 46, 35
{
Image: brown 'M'; Size: 5; Mana: 80; Arm: 9;
CR: 9; HD: 12; Hit: +12; Def: 10; Mov: 175%; Spd: 150%;
Str 25, Dex 10, Con 19, Int 16, Wis 17, Cha 17;
Attk: 6 for 1d6 11,
6 for 1d6 11,
47 for 3d10 28 (DC 19),
102 for $"sphinx";
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
44, 32, 6, 10, 11,
30, 25, 27, 22;
Flags: 36, 64, 72, 12, 11,
52, 50;
Desc: "Sphinxes are enigmatic, solitary and iconoclastic
      creatures with the bodies of large lions, the faces of
      men and women and large wings like those of a hawk.
      Sphinxes are known to hoard knowledge and love puzzles.\n
      __Noble androsphinxes tend toward virtue, being the
      guardians of ancient places and knowledge. They seek
      lore as avidly as gynosphinxes, and are only slightly
      less intelligent.";
On Event (49+1000) {
if (e.AType == 47)
EActor->IdentifyMon();
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
};
}
#line "mon2.irh" 2371
Monster "hill giant" : 41
{
Image: brown 'H'; Size: 6;
CR: 8; HD: 12; Hit: +6; Def: 19; Mov: 150%; Spd: 135%;
Str 25, Dex 8, Con 19, Int 6, Wis 10, Cha 17;
Attk: 1 for 1d8 13,
102 for $"ogre";
Stati[39,53,6];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1, 49, 51,
79, 75, 14;
Feats: 7, 22, 32, 44,
(((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21);
Desc: "Brutal, thuggish and stupid, hill giants are the
      weakest of the true giant races, but are still a terrifying
      threat to human villages and settlements.";
Gear: 50% $"huge club" else
50% $"great maul" else
random 58,
random 21,
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
(19+1000) {
EActor->IdentifyMon();
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
}

Monster "stone giant" : 41
{
Image: grey 'H'; Size: 6;
CR: 8; HD: 14; Hit: +7; Def: 21; Mov: 150%; Spd: 140%;
Str 27, Dex 15, Con 19, Int 10, Wis 12, Cha 11;
Attk: 1 for 1d8 13;
Stati[39,42,6];
Stati[39,30,4];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1,
79, 14;
Feats: 7, 22, 32, 44,
(((49 + 1) + 32) + 14), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((49 + 1) + 32) + 50) + 38) + 26), 40;
Desc: "Stone giants prefer thick leather garments, dyed in shades of
    brown and gray to match the stone around them. Adults are about 12 feet
    tall and weigh about 1,500 pounds. Stone giants can live to be 800
    years old.";
Gear: 50% $"fullblade" else
50% $"great maul" else
random 58,
random 21,
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
}

Monster "frost giant" : 41
{
Image: skyblue 'H'; Size: 6;
CR: 9; HD: 14; Hit: +9; Def: 19; Mov: 150%; Spd: 145%;
Str 29, Dex 9, Con 21, Int 10, Wis 14, Cha 11;
Attk: 1 for 1d8 13;
Stati[39,53,6];
Stati[39,22,6];
Stati[39,35,6];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1, 49, 52,
79, 98, 14, 42;
Feats: 7, 22, 32, 44,
(((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
((((49 + 1) + 32) + 50) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45);
Immune: 0x00000002;
Desc: "A frost giant's hair can be light blue or dirty yellow, and its
    eyes usually match its hair color. Frost giants dress in skins and
    pelts, along with any jewelry they own. Frost giant warriors add chain
    shirts and metal helmets decorated with horns or feathers.
    An adult male is about 15 feet tall and weighs about 2,800 pounds.
    Females are slightly shorter and lighter, but otherwise identical with
    males. Frost giants can live to be 250 years old.";
Gear: 50% $"greataxe" of random 2 to 4 else
50% $"great maul" of random 2 to 4 else
random 58 of random 2 to 4 ,
random 21 of random 2 to 4,
15% $"wand" +3 of $"ice",
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
Lists:
* 100 $"white dragon",
* 103 $"winter wolf" $"white dragon",
* 101 $"wolf" $"winter wolf";
}

Monster "fire giant" : 41
{
Image: red 'H'; Size: 6;
CR: 10; HD: 15; Hit: +11; Def: 19; Mov: 150%; Spd: 145%;
Str 31, Dex 9, Con 21, Int 10, Wis 14, Cha 11;
Attk: 1 for 1d8 13;
Stati[39,53,6];
Stati[30,2,0,$"boulder"];
Flags: 37, 36, 1, 49, 51,
98, 14, 41, 104;
Feats: 7, 9, 20, 22, 44,
14, (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
(((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45);
Immune: 0x00000001;
Gear: 50% $"greataxe" of random 2 to 4 else
50% $"great maul" of random 2 to 4 else
random 58 of random 2 to 4 ,
random 21 of random 2 to 4,
2d4 $"food ration",
2d4 $"boulder";
On Event (20+2000) {
if (e.AType == 41 && GetHandle(EItem2) != NULL)
if (EItem2->iID == $"rock" || EItem2->iID == $"boulder")
if (EVictim->SavingThrow(1,20))
{
VPrint(e,"You catch the <EItem2>!",
"The <EActor> catches the <EItem2>!");
EVictim->GainItem(EItem2);
return 1;
}
return 0;
},
150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(58) && h->QualityOK(7))
h->AddQuality(7);
return 0;
},
209
"It recieves Weapon Focus with thrown boulders as a racial
        feat. If a boulder or large rock is thrown at it, it can
        try to catch the rock, negating the attack as a reflexive
        action, with a Reflex save (DC 20).";
Desc: "Fire giants are creatures of vast volcanic reaches and
      overarching ambitions. Being stronger than nearly anything
      else around them, they believe in strict hierarchy based on
      strength, and have a militaristic, rigidly ordered society.
      Fire giants are xenophobic, preferring isolation and periodic
      conquest as their only forms of interaction with the societies
      of the 'small folk'. They have warred with the frost giants
      since the earliest light shone on Theyra.\n
      __Fire giants have coppery hair, ruddy red skin and squat,
      almost dwarfish bodies.";
}



Monster "ogre" : 41, 87
{
Image: grey 'H'; Size: 5;
CR: 2; HD: 4; Hit: +2; Def: 10; Hit: 2; Mov: 120%; Spd: 80%;
Str 21, Dex 8, Con 15, Int 6, Wis 10, Cha 7;
Attk: 1 for 1d6 13;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7;
Flags: 36, 37, 1, 93,
52, 49, 14, 11;
Gear: 50% $"fullblade" else
50% $"huge club" else
random 58,
2d4 $"shotput", $"loincloth";
Desc: "Huge, stupid beasts, ogres are notorious for their
      lazyness, fierce tempers and desire for solitude. Ogres are sometimes
      ridden by goblins with crossbows.";
}

Monster "ogre mage" : 41, 87
{
Image: bright purple 'H'; Size: 5; Mana: 120;
CR: 8; HD: 5; Hit: +5; Def: 13; Mov: 120%; Spd: 100%;
Str 21, Dex 10, Con 17, Int 14, Wis 14, Cha 17;
Attk: 1 for 1d6 13,
101 for $"human",
102 for $"ogre";
Stati[39,66,2];
Stati[118,18,20];
Spells: $"fly", $"deeper darkness", $"invisibility",
$"charm person", $"cone of cold", $"sleep",
$"gaseous form", $"scare";
Feats: ((((49 + 1) + 32) + 50) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),

3, 6, 8, 32,
25, 43, 44;
Flags: 36, 37, 1, 51, 49,
14, 11, 92;
Gear: 33% $"guisarme" of random 0 to 3 else
50% 2d1 $"scimitar" of random 0 to 3 else
$"longspear" of random 0 to 3,
50% $"bolas" of random 0 to 4,
50% $"lamellar armor" else
$"chainmail hauberk",
50% $"chakram" of random 0 to 4,
50% $"boots" of random 2 to 6,
$"noble attire";
Desc: "Many sages believe that ogres were not always a species
      of dumb brutes, but in truth wise and mystical creatures who
      suffered a terrible, degenerating fall from grace following an 
      age of great decadence. If this theory is correct, then the 
      ogre magi must be throwbacks to the origin of the species at 
      the time of their fall, for their cruelty and amibition is
      matched only by their sophistication and culture.\n
      __Ogre magi possess a great magical inheritance, a gift of
      glory and intellect from ages long since past. While ogres
      are common in the Kinlands, ogre magi normally hail from
      far-distant Eastern lands known to no others and forever
      eclipsed in mist and shadow. They appear as perfectly
      manicured ogres, without the tusks, beetle brow or large ears 
      but with deep blue skin like the ocean at night, two tiny ivory
      horns on their forehead, sharp 
      intelligent eyes and agile fingers well suited 
      to somatic gestures. Most maintain a perfectly trimmed, long
      thin mustache and goatee beard, and dress in the richest
      fineries of empires long since passed into history.\n
      __Ogre magi are frequently cannibalistic, using duplicity
      and stealth to capture smaller humanoids to use as food
      reserves -- though they would never admit to this practice
      in casual conversation. When seeking food, they tend to
      bind their captives in cocoon-like cloth wrappings to carry
      over their backs. Many practice some form of martial
      arts, advancing in the monk class.";
}

Monster "merrow" : 41, 87
{
Image: grey 'H'; Size: 5;
CR: 2; HD: 4; Hit: +2; Def: 10; Hit: 2; Mov: 120%; Spd: 80%;
Str 21, Dex 8, Con 15, Int 6, Wis 10, Cha 7;
Attk: 1 for 1d6 13,
102 for $"ogre";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7;
Flags: 36, 37, 1, 93,
52, 49, 30, 31, 14,
107;
Gear: 50% $"huge club" else
50% $"trident" else
random 58,
2d4 $"shotput", $"loincloth";
Desc: "The merrow are an aquatic offshoot of normal ogres,
      who delight in terrorizing small fishing villages and
      devouring livestock.";
}

Monster "verbeeg" : 41, 87, 81
{
Image: green 'H'; Size: 5; Mana: 10;
CR: 6; HD: 5; Hit: +3; Def: 13; Hit: 5; Mov: 150%; Spd: 100%;
Str 19, Dex 13, Con 16, Int 12, Wis 12, Cha 13;
Attk: 1 for 1d6 13,
102 for $"ogre";
Stati[39,42,6];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 19), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17),
9, 18, 20, 32, 41,
44;
Flags: 36, 37, 1, 93, 94,
14, 107;
Gear: 50% $"studded leather" else 25% $"chainmail shirt" else
13% $"hide armor" else $"breastplate",
25% $"fullblade" else 33% $"greataxe" else 50% $"great maul"
else $"heavy mace",
50% 2d2 $"longspear",
10% random 58 of random 1 to 4,
50% $"tower shield";
Desc: "The weakest and smallest of the giantkin, verbeeg most
      accurately resemble intelligent, tactically prudent ogres.
      They are a warrior race, and pride themselves on their militant
      skill, which can lead them to become a danger to humans in the
      area -- but they lack the brutality and bloodlust of the ogres
      or hill giants. Verbeeg have an advanced tribal society, with a
      great emphasis on athletics, competition, fame and personal
      prowess.";
}

Monster "saqualaminoi" : 41, 87
{
Image: grey 'H'; Size: 5;
CR: 6; HD: 8; Hit: +2; Def: 10; Hit: 2; Mov: 130%; Spd: 140%;
Str 23, Dex 11, Con 16, Int 6, Wis 13, Cha 9; Arm: 4;
Attk: 19 for 1d4 13,
19 for 1d4 13,
102 for $"ape";
Stati[124,5,8];
Stati[124,18,4];
Feats: 5, 7, 18, 22, 32,
48,
(((((49 + 1) + 32) + 50) + 38) + 2), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Immune: 0x00000002;
Flags: 36, 37, 1, 93, 107,
52, 49, 98, 14, 42;
Gear: 90% $"huge club" else random 58,
$"loincloth";
Desc: "This tall apelike humanoid is covered in shaggy gray-white hair.
    Its features are broad and flat and with deep-set, brown eyes beneath a
    heavy sloping brow. Immensely strong and hulking in stature, it often
    carries a makeshift club.";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};
}



Monster "slyph" : 9, 44, 81
{
Image: white 'f'; Size: 3; Mana: 125;
CR: 4; HD: 3; Hit: +2; Def: 21; Mov: 175%; Spd: 150%;
Str 8, Dex 13, Con 8, Int 15, Wis 16, Cha 17;
Attk: 1 for 1d2 13,
99 for 75% 93 (CR 5);
Stati[39,42,6];
Stati[39,57,1];
Stati[118,18,50];
Spells: $"invisibility", $"magic missile", $"mirror image",
$"gust of wind", $"wind wall", $"shield", $"chromatic orb",
$"shocking grasp", $"phase door",
$"lightning bolt", $"obscurement", $"charm person", $"slow";
Feats: ((((49 + 1) + 32) + 50) + 35),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 2, 13,
18, 36;
Flags: 1, 39, 54, 74, 75,
65;
Desc: "Fae creatures tied to the elemental aspect of air, slyphs
      are playful, curious and insightful. They are generally friendly,
      especially to males, and love to travel and learn -- but they can
      be vicious to orcs and other creatures which despoil the natural
      splendour they so adore. Slyphs appear as small, beautiful women
      with translucent, brightly colored wings.";
}

Monster "nereid" : 9, 44
{
Image: azure 'f'; Size: 4; Mana: 64;
CR: 6; HD: 4; Hit: +3; Def: 17; Mov: 100%; Spd: 100%;
Str 9, Dex 14, Con 8, Int 12, Wis 14, Cha 16;
Attk: 40 for 2d6 24 (DC 18),
1 for 1d3 13,
99 for 75% 92 (CR 5),
102 for $"human";
Stati[39,42,6];
Stati[39,57,1];
Stati[118,18,50];
Stati[39,31,10];
Feats: ((((49 + 1) + 32) + 50) + 35), ((49 + 1) + 6), 11,
6, 13, 32, 36;
Flags: 1, 38, 54, 100,
65, 107;
Spells: $"Kiss of the Nereid", $"Charm Person", $"Waterspout",
$"Cure Serious Wounds", $"Create Water", $"Watery Double",
$"Obscurement", $"Chill Metal", $"Choke";
Desc: "Alluring and unattainable, nereids are fae with ties to
      elemental water, known for luring sailors to watery deaths.
      Their kiss supernaturally drowns men (or women), and many
      delight in this power, being unaware of the suffering that it
      causes. Nereids store their souls in their shawls, and will
      do anything to protect these items.";
On Event 156 {
hObj h;
h = CreateItem($"ornate shawl");
h->GainPermStati(227,EActor,7);
EActor->GainItem(h);
return 0;
},
(20+2000) {
if (e.AType == 65 || e.AType == 41 ||
e.AType == 112 || ((e.AType) > 39 && (e.AType) <= 53))
return 0;
if (e.isSurprise || e.isFlatFoot)
return 0;
if (random(2))
{
VPrint(e,"You flow like water, evading the attack.",
"The <EVictim> flows like water, evading the attack.");
return 1;
}
return 0;
},
(19+2000) {
hObj h2;
for(h2=EActor->FirstInv();h2;h2=EActor->NextInv())
if (h2->iID == $"ornate shawl")
if (GetHandle(EVictim) == h2->GetStatiObj(227))
{
e.vHit += 4;
e.strHit += "+4 circ";
}
return 0;
},
(83+2000) {
hObj h3;
for(h3=EActor->FirstInv();h3;h3=EActor->NextInv())
if (h3->iID == $"ornate shawl")
if (GetHandle(EVictim) == h3->GetStatiObj(227))
e.saveDC += 4;
return 0;
},
209
"Its body can morph and flow like water, giving it a 50~ chance
         to negate any melee attack outright. It stores its soul in a
         shawl, and if the shawl is destroyed, so is it. Anyone possessing
         its shawl has a +4 circumstance bonus to attack rolls and spell
         DCs against it.";
}

Item "ornate shawl" : 27
{
Weight: 2; Mat: 6;
Image: light gray 20;
On Event ((41+1000)+2000) {
hObj hNereid;
if (EVictim->Flags & 0x0008)
if (EVictim->GetStatiObj(227))
{
hNereid->IDPrint("You are slain as your soul-shawl is destroyed!",
"The <hObj> melts away to water, destroyed with its shawl!", hNereid);
ThrowDmg(42,e.DType,0,"having a soul-shawl destroyed",EActor,hNereid);
}
return 0;
};
}

Effect "Kiss of the Nereid" : 46
{
sval: 0; Flags: 82; Purpose: 0x00001; qval: 0x0004;
On Event 155 {
if (EActor->isBeside(EVictim))
if (EVictim->isMType(91))
if (!EVictim->HasMFlag(4))
if (!EActor->HasStati(72,-1,EVictim))
return 1;
return -1;
},
83 {
EActor->GainTempStati(72,EVictim,2d6,7);
return 0;
},
28 {
if (EActor->isBeside(EVictim))
if (EVictim->isMType(91))
if (!EVictim->HasMFlag(4))
if (!EActor->HasStati(72,-1,EVictim)) {
VPrint(e,"You drown...",
"The <EVictim> drowns!");
ThrowDmg(42,74,0,"a nereid's kiss",EActor,EVictim);
return 1;
}
return 2;
},
206
"You kiss the <EVictim>."
"The <EActor> kisses you."
"The <EActor> kisses the <EVictim>.";
Desc: "Every 2d6 rounds, a nereid can attempt to kiss a victim,
      causing him (or her) to drown.";
}
#line "mon2.irh" 2925
Monster "rainbow sprite" : 9, 81, 118
{
Image: bright red 'f'; Size: 2;
CR: 1; HD: 1; Hit: 0; Def: 18; Mov: 150%; Spd: 60%; Mana: 45;
Str 5, Dex 14, Con 10, Int 8, Wis 12, Cha 14;
Stati[39,42,6];
Spells: $"color spray", $"dimension door";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 36, 32, 44,
13, 38, 27,
48;
Flags: 52, 1, 57, 55,
74, 90, 39, 12;
On Event 32 {
int32 c;
switch(1d6)
{
case 1: c = 12; break;
case 2: c = 14; break;
case 3: c = 13; break;
case 4: c = 9; break;
case 5: c = 11; break;
case 6: c = 10; break;
}
if ((EActor->Image & 0x00FF) == 'f')
EActor->Image = 'f' + c*256;
return 0;
};
Desc: "Rainbow sprites are tiny, mischevious fae that delight
      in bedeviling and blinding adventurers, eventually leading
      them to their death at the hands of more powerful creatures.
      They appear as miniscule humans with pointed ears and 
      gossamer wings, ever shifting colors.";
Gear:
$"sprite bow",
3d6 $"tiny arrow";
}

Monster "bogwart" : 9, 118
{
Image: brown 'f'; Size: 3; Mana: 6;
CR: -1; HD: 1; Hit: +0; Def: 12; Mov: 100%; Spd: 80%;
Str 7, Dex 16, Con 12, Int 7, Wis 12, Cha 6;
Attk: 9 for 0d0 36 (DC 13)
and 3d8 57 (DC 13);
Stati[39,42,6];
Stati[124,18,+4];
Feats: (((49 + 1) + 32) + 44), 18, 32, 36, 44;
Flags: 36, 1, 93, 49, 94,
52, 53, 57, 38;
Spells: $"doom";
Desc: "Bogwarts are small, malicious swamp-dwelling humanoid fae that
      seek to confuse and rob travellers. Their touch brings the rot and
      decay of a humid swamp to bear against those they seek to waylay.";
}


Monster "leprechaun" : 9, 81, 118
{
Image: green 'f'; Size: 3; Depth: 3;
CR: 2; HD: 3; Hit:+3; Def: 17; Mov: 150%; Spd: 125%; Mana: 75;
Str 7, Dex 16, Con 14, Int 12, Wis 14, Cha 16;
Attk: 9 for 36 (DC 18),
1 for 1d1 13;
Stati[39,57,1];
Stati[39,42,6];
Spells: $"invisibility", $"spectral force", $"polymorph self"

$"ventriloquism";
Feats: (((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 34), 18,
36, 38, 32, 44,
6, 13;
Flags: 1, 52, 57, 74,
79, 85;
Desc: "Magical pranksters and thieves, leprechauns are
      famous for the rumors of their treasure and their duplicity.
      They treat their own thefts as acts of harmless whimsy, but
      will viciously betray and slay any who steal from them or
      endanger their treasure.";
Gear:
5d100 $"gold piece";
}

Monster "nixie" : 9
{
Image: blue 'f'; Size: 3; Mana: 15;
CR: 1; HD: 1; Hit: 1; Def: 10; Mov: 100%; Spd: 100%;
Str 7, Dex 16, Con 11, Int 12, Wis 13, Cha 18;
Arm: 5;
Attk: 1 for 1d2 13;
Stati[39,57,1];
Feats:
(((49 + 1) + 32) + 44), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
17, 18, 36, 41, 40, 3,
44, 9, 13, 38;
Flags: 1, 31, 86, 38, 65;
Gear:
$"short sword" of random 0 to 1,
$"arbalest" of random 0 to 1,
2d6 $"crossbow bolt";
Spells: $"charm person", $"suggestion", $"waterspout";
Desc: "Most nixies are slim and comely, with lightly scaled, pale green
    skin and dark green hair. Females often twine shells and pearl strings
    in their hair and dress in wraps woven from colorful seaweed. Males
    wear loincloths of the same materials. Nixies prefer not to leave their
    lakes.";
}

Monster "sprite" : 9, 81, 118
{
Image: cyan 'f'; Size: 2; Mana: 30;
CR: 3; HD: 1; Hit: 3; Def: 15; Mov: 160%; Spd: 100%;
Str 7, Dex 18, Con 11, Int 16, Wis 15, Cha 16;
Attk: 9 for 3d6 36 (DC 22);
Stati[39,57,1];
Immune: 0x00100000, 0x00008000, 0x00080000;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9), (((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 17, 18,
36, 41, 40, 3,
44, 9, 13, 38;
Flags: 1, 12, 86, 39,
90;
Gear: $"dagger", 3d6 $"tiny arrow", $"sprite bow";
Stati[100,2];
Spells: $"confusion", $"ESP", $"dispel magic",
$"spectral force", $"polymorph self", $"faerie fire";
Desc: "Tiny fey with a malicious and inscrutable sense of
      humor, the sprites are naturally invisible. When they
      are seen by magical means, they appear as tiny elves with
      gossamer wings and a faint glowing aura.";
On Event 208 "It is naturally invisible. ";
}

Item "sprite bow" : 24
{
Image: brown ')';
Mat: 8;
SDmg: 1d4;
LDmg: 1d1;
Range: 10;
Crit: x3; Threat: 3;
Weight: 3; Group: 0x00000020;
Fires: $"tiny arrow";
Size: 3;
Flags: 1, 43, 33, 46;
Desc: "This tiny bow has been crafted by sprites. It's far too small
      for other creatures to use effectively.";
On Event 13 {
if (EActor->GetAttr(25) > 2)
{
EActor->IPrint("The sprite bow is far too tiny for you to wield!");
return 2;
}
};
}

Item "tiny arrow" : 45
{
Image: grey 24; Group: 0x00000020;
Mat: 8; Size: 2; Weight: 1; Cost: 5 4;
SDmg: 0d0+1; LDmg: 0d0+1; Acc: -1; Range: -2;
Flags: 8, 1;
Desc: "These arrows are barely longer then your middle finger, but
      they're no toy -- the tip is as razor-sharp as any full-sized
      arrow.";
}

Poison "elfshot" : 4
{
Level: 5;
cval: 2;
sval: 15;
lval: 4;
xval: 16; pval: 3d4;
Desc: "This poison has an onset (and recurrance) time of <11>2<7> turns,
      causing its targets to fall into a deep slumber. It requires <11>4<7> 
      saving throws against <11>DC 15<7> to overcome the effect fully.";
}

Monster "winterwier" : 9, 118
{
Image: bright cyan 'f'; Size: 2;
CR: 7; HD: 3; Hit: +1; Def: 17; Mov: 150%; Spd: 100%;
Str 4, Dex 16, Con 11, Int 9, Wis 14, Cha 14;
Attk: 9 for 3d6 2
and 3d20 25 (DC 17);
Stati[118,18,50];
Stati[39,57,1];
Stati[39,42,6];
Immune: 0x00000002;
Feats: ((((49 + 1) + 32) + 50) + 35), ((((49 + 1) + 32) + 50) + 32),
36, 37, 26;
Flags: 1, 61, 12, 49, 53,
42, 52;
Spells: $"dimension door", $"charm person", $"faerie fire",
$"summon nature's ally II", $"creeping cold";
Desc: "The winterwier are faeries that come out of their
      caves deep below the earth with the first frost of winter
      to spread an icy rime on houses and buildings -- as well
      as to kill any poor souls who are foolish enough to be
      trapped outside in the cold of winter. Utterly devoid
      of compassion, the winterwier are the cruelty and malice of
      winter given flesh, and they delight in their role as the
      harvesters of the weak.";
On Event 209
"It will not enter a building crafted by human(oid) hands,
        nor a sacred place.",
1 {
if (EMap->RegionAt(EActor->x+DirX(e.EDir),EActor->y+DirY(e.EDir)) ==
$"place of sanctuary")
return 2;
};
}

Monster "satyr" : 9, 81, 87
{
Image: brown 'f'; Size: 4;
CR: 3; HD: 5; Hit: +2; Def: 14; Mov: 150%; Spd: 125%;
Str 10, Dex 12, Int 12, Wis 12, Cha 18; Arm: 5; Mana: 20;
Attk: 8 for 1d6 13,
1 for 1d2 13;
Stati[39,57,1];
Stati[39,42,6];
Stati[39,7,1];
Stati[124,18,4];
Stati[124,32,4];
Stati[124,36,4];
Stati[124,37,4];
Stati[124,44,4];
Spells: $"charm person", $"sleep", $"fear";
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
6, 11, 18, 20,
23, 26, 25, 32,
36, 37, 44, 48;
Gear:
$"dagger" of random 1 to 2,
$"short bow" of random 1 to 2,
6d4 $"sheaf arrow";
Flags: 1, 52, 74, 64;
Desc: "A satyr's hair is red or chestnut brown, while its hooves and
  horns are jet black. A satyr is about as tall and heavy as a half-elf.
  Satyrs speak Sylvan, and most also speak Common.
  The keen senses of a satyr make it almost impossible to surprise one in
  the wild. Conversely, with their own natural grace and agility, satyrs
  can sneak up on travelers who are not carefully watching the surrounding
  wilderness. Once engaged in battle, an unarmed satyr attacks with a
  powerful head butt. A satyr expecting trouble is likely to be armed with
  a bow and a dagger and typically looses arrows from hiding, weakening an
  enemy before closing.";
}

Monster "nymph" : 9, 81, 87
{
Image: pink 'f'; Size: 4; Mana: 128;
CR: 8; HD: 6; Hit: 4; Def: 14; Mov: 100%; Spd: 100%;
Str 10, Dex 17, Con 12, Int 16, Wis 17, Cha 20;
Attk: 1 for 1d2 13,
43 for 10d20 24,
102 for $"human";
Stati[39,105,+1];
Stati[39,53,+6];
Stati[39,73,+2];
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,7];
Stati[124,45,8];
Stati[124,36,4];
Spells: $"Unearthly Beauty", $"Dimension Door";
#line "mon2.irh" 3199
Stati[113,52,+5];
Stati[111,27,+5];
Feats: 8, 9, 23, 13,
2, 36, 17, 3,
18, 32, 44, 45,
((((49 + 1) + 32) + 50) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((49 + 1) + 32) + 44);
Flags: 1, 52, 50, 74, 90,
65;
On Event 209
"It adds its Charisma bonus to its saving throws as a grace
	    bonus, and to its defense class as a deflection bonus.";
Gear:
1d4 $"dagger",
50% $"viewing lens",
20% $"ring" of random 1 to 6,
10% $"cloak" of random 1 to 5;
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}


0 Effect "Unearthly Beauty" : 46
{
Purpose: 0x00001; sval: 0; Flags: 63, 104;
aval: 11; lval: 3;
Desc: "Through a conscious act of will, a nymph can intensify
      her beauty to the point where it is so breathtaking as to
      literally stop a living creature's heart, striking them
      dead instantly. This is a death effect, and a nymph will
      only use such a power against an irredemably wicked being,
      or in truly desperate straights.";
On Event 28 {
VPrint(e, "You look upon the glory of the <EActor>,
        and your heart stops.", "The <EVictim> collapses, dead.");
ThrowDmg(42,0,0,"a nymph's beauty", EActor, EVictim);
return 1;
},
83 {
if ((GetHandle(EVictim) != NULL) && EVictim->isCreature())
if (EVictim->GetAttr(28) >= e.saveDC)
{
e.Immune = true;
return 1;
}
return 0;
},
155 {
if (!EVictim->isCreature())
return -1;
if (!EVictim->isMType(91))
return -1;
if (!(EVictim->Percieves(EActor) & (0x0001|0x0002)))
return -1;
if (EActor->DistFrom(EVictim) > 3)
return -1;
if (EVictim->tmID == $"grey nymph" || EVictim->tmID == $"nymph")
return -1;

if (EVictim->HasMFlag(49) && EVictim->HasMFlag(53))
return 0;
if (EActor->mHP > EActor->cHP*2)
return 0;

return 1;
};
}

Monster "grey nymph" : 9, 81, 87
{
Image: grey 'f'; Size: 4; Mana: 128;
CR: 4; HD: 4; Hit: 3; Def: 14; Mov: 100%; Spd: 100%;
Str 10, Dex 17, Con 12, Int 16, Wis 17, Cha 20;
Attk: 1 for 1d2 13,
43 for 3d10 24,
102 for $"human";
Stati[39,53,+6];
Stati[39,73,+2];
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,3];
Stati[124,45,8];
Stati[124,36,4];
Spells: $"Unearthly Beauty";
#line "mon2.irh" 3291
Stati[113,52,+5];
Stati[111,27,+5];
Stati[215,81];
Feats: 8, 9, 23, 13,
2, 36, 17, 3,
18, 32, 44, 45,
((((49 + 1) + 32) + 50) + 35), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), (((49 + 1) + 32) + 44);
Flags: 1, 52, 49, 74, 90,
65;
On Event 209
"It adds its Charisma bonus to its saving throws as a grace
	    bonus, and to its defense class as a deflection bonus.";
Gear:
1d4 $"dagger",
50% $"viewing lens",
20% $"ring" of random 1 to 3,
10% $"cloak" of random 1 to 2;
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
Desc: "Grey nymphs were once normal nymphs, but betrayed their
	  duty as protectors of the forests for material gain (or were
	  corrupted and coerced by Maeve), and now exist as tempresses
	  and politicos, surviving on the edges of human settlements or
	  deep underground, for sylvan creatures despise them utterly.";
}


Template "half-fey" : 0x0100 for 11
{
CR: +2 (Min 3); MType: 9; Size: -1;
Str -4, Dex +4, Wis +4, Cha +4;
Desc: "As a result of trysts, pranks, curses and the occasional
    romance, many humanoids have fey blood in their veins.";
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22);
Stati[39,57,1];
Stati[39,42,6];
Flags: 52, !51, 74, 12;
Spells: $"faerie fire", $"sleep", $"dimension door";
On Event 155 {
if (EActor->HasMFlag(66) || EActor->isMType(9))
return -1;
return 0;
} ;
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(76))
h->AddQuality(76);
}
};
}
#line "mon2.irh" 3399
Monster "naga" : 21, 52
{
Image: grey 'n'; Size: 5;
Desc: "Nagas are wise, magical creatures of legend that possess the
      body of a snake and the head of a woman. Several different breeds
      of nagas exist, differentiated by the coloration of their scales;
      some are good, others evil and others neither. A naga's breed can
      be discerned with the Knowledge (Mythology) skill.";
Flags: 108, 24;
}

Monster "water naga" : 21, 52
{
Image: azure 'n'; Size: 5;
CR: 9; HD: 7; Def: 15; Hit: 5; Mov: 120%; Spd: 120%;
Str 16, Dex 13, Con 18, Int 10, Wis 17, Cha 15;
Attk: 7 for 2d6 12 and 0d0 60 (DC 17),
102 for $"naga";
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 8, 32,
43, 44;
Flags: 36, 30, 65, 28,
30, 111;
Desc: "The water naga is a strikingly beautiful creature with
      the head of a woman and the body of a snake. Intricate patterns
      weave over its emerald green scales, in contrast to the brilliant
      orange spines that line its back. A naga's eyes gleam with an
      almost hypnotic intelligence.";
Poison: $"water naga venom";
Stati[39,82,7];
Lists:
* 21
(50 + 1000);
}

Poison "water naga venom" : 4
{
Level: 5;
cval: 7;
sval: 17;
lval: 4;
xval: 52; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>4<7> saving throws against <11>DC 17<7> 
      to overcome.";
}

Monster "guardian naga" : 21, 52
{
Image: red 'n'; Size: 5;
CR: 12; HD: 11; Def: 10; Arm: 7; Hit: 12; Mov: 150%; Spd: 155%;
Str 21, Dex 14, Con 19, Int 16, Wis 19, Cha 18;
Attk: 7 for 2d6+7 12 and 0d0 60 (DC 19),
40 for 0d0 60 (DC 19),
102 for $"naga";
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
(((((49 + 1) + 32) + 50) + 38) + 20), (((49 + 1) + 32) + 44),
6, 8, 11, 32, 3,
43, 44;
Flags: 36, 30, 65, 28,
30, 51, 50, 111;
Desc : "Guardian nagas, the highest common caste of naga society, serve as
    great and terrible champions of light. Subtle in their weavings, they
    seek out sources of hidden darkness to oppose with their great store
    of occult knowledge. Many guardian nagas watch over ancient evils far
    more powerful then they, ensuring that they remain concealed from the
    prying eyes or interlopers.";
Poison: $"guardian naga venom";
Stati[39,82,9];
Lists:
* 21
(50 + 1000)
(52 + 1000);
}

Poison "guardian naga venom" : 4
{
Level: 9;
cval: 7;
sval: 19;
lval: 2;
xval: 52; pval: 1d10;
Desc: "This poison inflicts <11>1d10<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 19<7> 
      to overcome.";
}

Monster "dark naga" : 21, 52
{
Image: shadow 'n'; Size: 5;
CR: 10; HD: 9; Def: 13; Hit: 7; Mov: 150%; Spd: 140%;
Str 14, Dex 15, Con 14, Int 16, Wis 15, Cha 17;
Attk: 10 for 2d4+2 12 and 0d0 60 (DC 16),
7 for 1d4+2 12 and 0d0 60 (DC 16),
102 for $"naga";
Stati[39,42,6];
Stati[39,91,12];
Immune: 0x00100000, 0x00000010;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
(((((49 + 1) + 32) + 50) + 38) + 20),
6, 8, 11, 32, 3,
43, 44;
Flags: 36, 30, 65, 28,
30, 51, 49, 111;
Stati[211,0x0080];
Desc: "While most nagas are concerned with discovering secrets, dark nagas
    are rather more interested in preserving the communal secrets of the
    naga race. They are the assasins and spies of their species, operating
    from the shadows and answering to unseen lords and masters. They have
    a complex and ritualistic secret society of their own, to which they
    are fanatically loyal, and they follow arcane codes of honor dating
    back millenia. While nobody likes them, even the guardian nagas accept
    that the darks have a place within naga society.";
Poison: $"dark naga venom";
On Event 209
"Dark nagas are immune to any form of mind reading and cannot be
      detected telepathically.";
Stati[39,82,7];
Lists:
* 21
(50 + 1000);
}

Poison "dark naga venom" : 3
{
Level: 5;
cval: 0;
sval: 16;
lval: 1;
xval: 7;
Desc: "This poison takes effect immediately and causes its victim to
    fall into a deep slumber. It requires <11>1<7> saving throw against
    <11>DC 16<7> to overcome.";
}

Monster "spirit naga" : 21, 52
{
Image: white 'n'; Size: 5;
CR: 12; HD: 9; Def: 16; Hit: 6; Mov: 150%; Spd: 145%;
Str 18, Dex 13, Con 18, Int 12, Wis 17, Cha 17;
Attk: 7 for 2d6+6 12 and 0d0 60 (DC 18),
43 for 90 (DC 19),
102 for $"naga";
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 8),
(((((49 + 1) + 32) + 50) + 38) + 20),
8, 32, 43, 44;
Flags: 36, 30, 65, 28,
30, 52, 49, 111;
Desc: "Spirit nagas, the most wicked of their race, are a grim and macabre
    breed. Trafficking in the souls of the dead, they draw humanoids away
    from the path of light with subtle deceptions and promises of occult
    secrets, then trap their spirits in gems when they die. Overly morbid
    in mindset and given to fatalistic outlooks, spirit nagas are usually
    shunned by the rest of their race.";
Poison: $"spirit naga venom";
On Event (41+500) {
if (!EVictim->isCreature())
return 0;
if (e.AType == 43 && e.DType == 90)
{
EActor->GainTempStati(72,EVictim,1d4+1,7,43);
if (EVictim->ResistLevel(21) == -1 ||
EVictim->SavingThrow(2,18,0x00000001|0x00000002|0x00000020))
{
e.Immune = true;
return 1;
}
VPrint(e,"You are charmed by the spirit naga's gaze!",
"The <EVictim> is charmed!");
EVictim->GainTempStati(137,EActor,60,2,1,0,$"spirit naga", EActor->ChallengeRating());
return 1;
}
return 0;
},
209
"Spirit nagas can charm opponents with their beguiling gaze.";
Stati[39,82,7];
Lists:
* 21
(50 + 1000)
(52 + 1000);
}

Poison "spirit naga venom" : 4
{
Level: 9;
cval: 7;
sval: 18;
lval: 2;
xval: 52; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 18<7> 
      to overcome.";
}

Monster "banelar" : 21, 52
{
Image: purple 'n'; Size: 6;
CR: 9; HD: 7; Def: 12; Hit: 6; Mov: 100%; Spd: 125%;
Str 26, Dex 13, Con 21, Int 17, Wis 16, Cha 16; Arm: 3;
Attk: 10 for 2d4 12 and 0d0 60 (DC 18),
7 for 1d3 12 and 0d0 60 (DC 18),
102 for $"naga";
Stati[39,66,2];
Stati[39,42,6];
Immune: 0x00000010, 0x00000004, 0x00040000;
Stati[38,0x00000008];
Feats: (((49 + 1) + 32) + 11), (((((49 + 1) + 32) + 50) + 38) + 27), (((((49 + 1) + 32) + 50) + 38) + 26),
8, 11, 20, 44, 47;
Flags: 36, 30, 28, 30, 51, 49,
111;
Desc: "Banelars are evil, nagalike creatures whose mastery of spells
      and use of magic items makes deadly opponents.";
Poison: $"banelar venom";
On Event (37+1000) {
EActor->Timeout /= 2;
},
209
"Banelars cast spells very rapidly, incurring only half the normal
        timecost in doing so.";
Gear:
$"ring" of random 3 to 4,
$"amulet" of random 3 to 4,
$"bracers" of random 3 to 4,
20% $"wand" +3 of $"ice" else
25% $"wand" +3 of $"cleansing light" else
33% $"wand" +3 of $"ash" else
50% $"wand" +3 of $"surtension" else
$"wand" +3 of $"the void",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Stati[39,82,6];
Lists:
* 21
(50 + 1000)
(52 + 1000);
}

Poison "banelar venom" : 4
{
Level: 9;
cval: 7;
sval: 18;
lval: 2;
xval: 52; pval: 2d4;
Desc: "This poison inflicts <11>2d4<7> points of Constitution damage every 
      <11>7<7> turns, and requires <11>2<7> saving throws against <11>DC 18<7> 
      to overcome.";
}



Monster "aranea" : 26, 35, 87
{
Image: pink 's'; Size: 4;
CR: 1; HD: 3; Hit: 1; Def: 12; Mov: 150%; Spd: 130%;
Str 11, Dex 15, Con 14, Int 14, Wis 13, Cha 14;
Attk: 7 for 1d6 12 and 1d6 43,
101 for $"human",
101 for $"giant spider";
Stati[39,42,6];
Spells: $"web";
Immune: 0x00002000;
Feats: (((49 + 1) + 32) + 9), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 14;
Flags: 2, 3, 4, 28, 92,
36, 86, 54;
Desc: "Duplicitious and cunning, the aranea are a race of intelligent,
      magical spiderfolk with the ability to take a human form. They are
      not maliciously evil, instead prefering to exist in the moral grey
      zones of the world and weave their curious plots with as little harm
      to others as possible. Some aranea enmesh themselves in human society,
      while others prefer to live as spiders, hunting for (nonsapient) prey 
      in vast subterranian complexes. Aranea love mental puzzles, complex 
      intrigues and scandalous gossip more than anything else.";
On Event 157 {
if (ETarget->isMType(85) && !EActor->isHostileTo(ETarget))
e.EParam = 0;
return e.EParam;
};
}

Monster "azmyth" : 3
{
Image: cyan 'b'; Size: 3;
CR: 1; HD: 2; Hit: 1; Def: 15; Mov: 180%; Spd: 100%;
Str 7, Dex 15, Con 12, Int 13, Wis 13, Cha 12;
Attk: 7 for 1d4 12
and 1d8+2 4,
102 for $"bat";
Stati[39,91,4];
Stati[39,13,6];
Spells: $"silence", $"obscurement", $"phase door";
Feats: 18, ((49 + 1) + 5), (((49 + 1) + 32) + 44),
32, 44;
Flags: 3, 8, 2, 35,
12, 54, 86, 37, 39, 6;
On Event (52+1000) {
EActor->IdentifyMon();
},
(17+1000) {
EActor->IdentifyMon();
};
Desc: "These intelligent, telepathic creatures seem to have evolved
      from bats. They are solitary wanderers that dwell in underground
      regions, live off of fruits and fungi and frequently form agreements
      with humanoid beings for mutual protection and companionship. Their
      potent magical defenses can protect them from most threats and
      predators.";
}

Monster "firebat" : 3, 35
{
Image: bright red 'b'; Size: 2;
CR: -4; HD: 1; Hit: +0; Def: 10; Mov: 150%; Spd: 100%;
Str 1, Dex 15, Con 10, Int 2, Wis 14, Cha 4;
Attk: 9 for 1d3 1,
60 for 1d3 1,
40 for 2d3 1;
Stati[124,44,4];
Stati[124,32,4];
Stati[39,13,2];
Immune: 0x00000001;
Feats: (((49 + 1) + 32) + 44), ((49 + 1) + 5),
18, 32, 36, 44;
Flags: 36, 37, 39,
3, 2, 12, 6, 41;
Desc: "The firebat bears a passing resemblance to the standard nocturnal
  bat, if you are willing to overlook the magical aura of flame that
  surrounds it.";
}

Monster "night hunter" : 3, 2
{
Image: blue 'b'; Size: 5;
CR: 0; HD: 2; Hit: +1; Def: 11; Mov: 150%; Spd: 100%;
Str 10, Dex 16, Con 13, Int 11, Wis 11, Cha 10; Mana: 20;
Attk: 24 for 1d6 13,
7 for 1d6 12,
6 for 1d4 11;
Stati[39,42,18];
Spells: $"spook";
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 32, 36, 44;
Flags: 36, 37, 39, 107,
3, 2, 12, 11;
Desc: "The night hunter is a large, bat-like animal with a triangular tail.";
}

Monster "sonic bat" : 3
{
Image: yellow 'b'; Size: 3;
CR: 7; HD: 2; Hit: 1; Def: 15; Mov: 180%; Spd: 100%;
Str 6, Dex 20, Con 6, Int 14, Wis 14, Cha 8; Mana: 20;
Attk: 9 for 2d8 10,
102 for $"bat";
Stati[124,32,10];
Stati[124,36,10];
Stati[39,13,12];
Spells: $"shout", $"haste";
Immune: 0x00000200, 0x00010000, 0x00020000, 0x00002000, 0x01000000;
Feats: 18, ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((49 + 1) + 32) + 44),
32, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35);
Flags: 3, 8, 2,
12, 36, 55, 6, 39, 14, 48;
On Event ((20+2000)) {
if (e.AType == 65) {
if (GetHandle(EItem2)) {
VPrint(e,"The <EItem2> is deflected by an invisible force!",
"The <EItem2> is deflected by an invisible force!");
return 1;
}
} else if (e.AType == 41) {
if (GetHandle(EItem)) {
VPrint(e,"The <EItem> is deflected by an invisible force!",
"The <EItem> is deflected by an invisible force!");
return 1;
}
}
return 0;
};
On Event (52+1000) {
EActor->IdentifyMon();
},
(17+1000) {
EActor->IdentifyMon();
};
Desc: "These intelligent, sound-based creatures seem to have evolved
      from bats. They are solitary wanderers that dwell in underground
      regions, but unlike most bats they are strict carnivores. Their
      mastery over sound and motion allows them to pulverize many living
      creatures from a distance -- approaching a sonic bat is often as
      difficult as approaching a pikeman. They can surround themselves with
      a vibrating wall of air that deflects missile weapons.";
}

Monster "centaur" : 24, 81, 87
{
Image: purple 'q'; Size: 5;
CR: 4; HD: 4; Hit: +3; Def: 12; Mov: 175%; Spd: 125%;
Str 18, Dex 14, Con 15, Int 10, Wis 13, Cha 12;
Attk: 2 for 1d6 13;
Flags: 36, 37, 35, 80, 50;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
(((((49 + 1) + 32) + 50) + 38) + 2), 32, 48, 18, 1;
Desc: "A sylvan creature with the head and torso of a man,
      but the body of a horse, centaurs lead a tribal lifestyle
      deep in forests and avoid contact with humanity. Their
      prowess as archers and scholars is greatly revered.";
Gear: 33% $"large club" else 50% $"bastard sword" else $"ranseur",
$"long bow" of random 0 to 3,
3d6 $"sheaf arrow",
1d3 $"potion" of $"healing";
}

Monster "drider" : 26, 58
{
Image: skyblue 's'; Size: 5;
CR: 10; HD: 6; Hit: +6; Def: 16; Mov: 100%; Spd: 130%;
Str 15, Dex 15, Con 16, Int 15, Wis 16, Cha 16;
Attk: 7 for 1d4+1 12 and 0d0 60 (DC 16),
1 for 1d2 13,
1 for 1d2 13;
Stati[39,42,6];
Stati[39,82,6];
Stati[124,18,4];
Stati[124,36,4];
Stati[118,18,50];
Poison: $"drider venom";
Stati[118,13,+1];
Feats: (((49 + 1) + 32) + 11), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12),
(((49 + 1) + 32) + 9),
7, 8, 18, 32,
36, 44;
Immune: 0x00002000;
Flags: 53, 52, 49, 111;
Spells: $"globe of shadow", $"detect monsters", $"dispel magic",
$"levitation", $"faerie fire", $"suggestion";
Gear: 2d1 $"dagger";
Lists:
* 21
(50 + 1000);
}

Poison "drider venom" : 1
{
Level: 6;
cval: 3;
sval: 16;
lval: 1;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>3<7> turns, and requires <11>1<7> saving throw against <11>DC 16<7> 
      to overcome.";
}

Monster "grippli" : 51, 87
{
Image: bright red 'R'; Size: 2; Mana: 25;
CR: -2; HD: 1; Hit: 0; Def: 13; Mov: 75%; Spd: 100%;
Str 5, Dex 16, Con 12, Int 12, Wis 14, Cha 12;

Stati[39,42,3];
Stati[124,7,+12];
Stati[124,18,+8];
Stati[124,22,+4];
Feats: (((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 22,
36, 44, 45;
Flags: 37, 35, 38, 31, 30,
54, 57, 104;
Desc: "The grippli are a race of intelligent, psionically
      active tree frogs. Gifted with opposable thumbs and well
      given to tool use, the grippli are an isolationist people.
      Their greatest contentment is found basking in the noonday
      sun, contemplating the greater mysteries in the waters of
      a lake or jungle. One of the oldest races on Theyra, they 
      have lifespans measured in centuries, and produce young 
      only very rarely and under special conditions. For this 
      reasson, they distrust humans and demihumans, though they 
      have long shared a friendship with the lizardfolk, with 
      whom they share more in common than they do with mammals.\n
      __Unlike the practicality of their cousins, grippli are
      much given to mysticism, exploration and even whimsy. They
      do not tend to embrace industry and are not capitalistic,
      but are very curious in spite of their caution. Legends
      claim that the grippli have built great, ancient hidden
      cities in the jungles of Theyra.\n
      __More and more frequently now young grippli are venturing
      away from these mythical cities to explore the rest of the
      world, and especially to delve underground. Grippli revere
      and worship the sun (and are especially sacred to Hesani,
      though Xavias respects them deeply as well), and thus see
      long sojourns into dark places to be a kind of purifying
      spiritual ordeal.\n
      __Grippli defend themselves with blowguns, daggers, snares
      and traps, as well as with the powers of their minds. Their 
      coloration allows them to blend into jungle terrain with
      great ease, and though they are not a violent people, they
      excel at ambushes and defensive tactics.";
On Event 150 {
rID wildID;
wildID = theGame->GetEffectID(1,0,5,56);
if (wildID != ((rID)0))
EActor->GainPermStati(42,NULL,3,0,0,wildID);
return 0;
},
209
"All grippli are wild talents and possess a single randomly
        chosen psionic power.";
Gear:
50% $"dagger" else
$"stiletto",
50% $"blowpipe" else
$"sling",
80% 1d2 $"potion" of $"healing",
50% $"potion" of random 1 to 5,
2% $"bracers" of random 1 to 5,
2% $"gloves" of random 1 to 5,
2% $"headband" of random 1 to 5,
2% $"bracers" of random 1 to 5,
2% $"horn" of random 1 to 5,
2% $"ring" of random 1 to 5,
2% $"amulet" of random 1 to 5,
2% $"lenses" of random 1 to 5;
#line "mon2.irh" 3933
}



Monster "jackal lord" : 6, 11, 19
{
Image: grey 'l'; Size: 4; Mana: 120;
CR: 7; HD: 8; Hit: +6; Def: 16; Mov: 100%; Spd: 100%;
Str 13, Dex 15, Con 14, Int 12, Wis 18, Cha 17;
Attk: 7 for 1d10 12,
6 for 1d4 11,
6 for 1d4 11,
101 for $"jackal",
101 for $"human",
43 for 90 (DC 20);
Stati[39,42,6];
Stati[39,82,8];
Stati[39,105,1];
Feats: 6, 11, 20, 32,
36, 3, 44, 30,
14, (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
((((((49 + 1) + 32) + 50) + 38) + 30) + 26), (((((49 + 1) + 32) + 50) + 38) + 26);
Stati[216,6];
Spells: $"cat's grace", $"spectral force", $"charm person",
$"detect monsters", $"summon jackals", $"dimension door";
Flags: 1, 36, 49, 51, 53, 92;
Desc: "Aristocratic, mysterious and learned, jackal lords are nothing if 
      not civilized. Nurturing destructive cults and weilding Machiavellian
      schemes like swords, the jackal lords are among the last remaining
      worshippers of the old pantheon of Eskanti. Being supremely egotistical
      beings, jackal lords dislike other members of their own race intensely,
      prefering to surrond themselves with fawning human worshippers. Indeed,
      the rivalty among jackal lords has been known to grow so bitter as to
      end in cannibalism. Deeply enmeshed in mysticism, religion and dark
      occult secrets, the jackal lords have ensured that little else but
      this is known about their race. In physical form, jackal lords are
      sleek and graceful, appearing as anthropomorphized humanoid jackals
      with reflexes as smooth as their honeyed tongues. Dogs are natural
      allies of jackal lords.";
On Event (41+500) {
if (e.DType == 90)
{
EActor->GainTempStati(72,EVictim,1d4+1,7,43);
if (EVictim->ResistLevel(20) == -1 || EVictim->mID == $"jackal")
{
e.Immune = true;
return 1;
}
VPrint(e,"You change into a jackal!",
"The <EVictim> changes into a jackal!");
EVictim->Shapeshift($"jackal",true,NULL);
EVictim->GainTempStati(103,NULL,10,2,1,0,$"polymorph other", EActor->ChallengeRating());
return 1;
}
return 0;
},
210
"to turn an enemy into a jackal every 1d4+1 rounds";
Lists:
* 21
(52 + 1000);
}

Effect "Summon Jackals" : 9
{ 0x00000100; Base: 80; Cost: 20; qval: 0x0002; Flags: 82;
Purpose: 0x00100; rval: $"jackal"; pval: 5;
Desc: "Summons an group of jackals worth CR 5 to fight in the 
      caster's name."; }

Monster "wereboar" : 19, 35
{
Image: red 'l'; Size: 4; Arm 10;
CR: 6; HD: 4; Hit: +4; Def: 18; Mov: 150%; Spd: 120%;
Str 17, Dex 11, Con 18, Int 10, Wis 11, Cha 8;
Attk:
23 for 1d6 12,
6 for 1d4 11,
6 for 1d4 11,
101 for $"human",
101 for $"wild boar";
Stati[39,42,6];
Stati[39,71,6];
Feats: ((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((((49 + 1) + 32) + 50) + 38) + 26),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
5, 7, 18, 32, 36,
44;
Flags: 1, 36;
Gear:
$"battleaxe",
$"banded mail",
1d2 $"potion" of $"extra-healing";
Desc: "A wereboar in humanoid form tends to be a stocky, muscular
      individual of average height. It dresses in simple garments that are
      easy to remove, repair, or replace.";
Lists:
* 103 $"minotaur",
* 100 $"minotaur",
* 101 $"wild boar";
}

Monster "wererat" : 19, 25
{
Image: brown 'l'; Size: 4; Arm: 10;
CR: 4; HD: 2; Hit: +2; Def: 14; Mov: 120%; Spd: 100%;
Str 12, Dex 16, Con 14, Int 7, Wis 13, Cha 5;
Attk:
6 for 1d4 11,
6 for 1d4 11,
101 for $"human",
101 for $"plague rat"; Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), ((((49 + 1) + 32) + 50) + 13);
Flags: 1, 49, 52, 36, 57;
Gear:
$"rapier", $"stiletto",
$"chainmail shirt",
1d3 $"potion" of $"healing";
Desc: "Nimble and venomous, wererats are the weakest of the true
      lycanthropes. They are able to take three forms: that of a human,
      a rat and their natural form, a monsterous hybrid of the two.
      Wererats are viscious creatures, enjoying stalking those weaker
      then them and destroying anything that others find beautiful.";
Lists:
* 101 $"giant rat" $"plague rat";
}

Monster "weretiger" : 19, 5, 35
{
Image: yellow 'l'; Size: 5; Arm 10;
CR: 7; HD: 7; Hit: +7; Def: 15; Mov: 150%; Spd: 135%;
Str 25, Dex 15, Con 16, Int 10, Wis 11, Cha 8;
Attk:
7 for 2d6 12,
6 for 1d8 11,
6 for 1d8 11,
101 for $"human",
101 for $"tiger";
Stati[39,42,6];
Stati[39,71,6];
Stati[124,5,4];
Stati[124,18,4];
Stati[124,36,4];
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 14),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6),
5, 7, 18, 32, 36,
44;
Flags: 1, 36;
Gear:
$"ranseur",
$"breastplate",
1d3 $"potion" of $"extra-healing";
Desc: "Weretigers in humanoid form tend to be sleekly muscular, taller
    than average, and very agile.";
Lists:
* 101 $"tiger";
}

Monster "werewolf" : 19, 6, 35
{
Image: blue 'l'; Size: 4; Arm 10;
CR: 5; HD: 3; Hit: +3; Def: 14; Mov: 150%; Spd: 115%;
Str 15, Dex 15, Con 16, Int 10, Wis 11, Cha 8;
Attk:
7 for 1d6 12
and 0d0 67 (DC 17),
6 for 1d4 11,
6 for 1d4 11,
101 for $"human",
101 for $"wolf";
Stati[39,42,6];
Stati[39,71,6];
Stati[118,13,+1];
Feats: (((((49 + 1) + 32) + 50) + 38) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
5, 7, 18, 32, 36,
44;
Flags: 1, 49, 52, 36;
Gear:
$"long sword",
$"chainmail shirt",
1d3 $"potion" of $"healing";
Lists:
* 101 $"wolf";
}

Monster "werebear" : 19, 35, 81
{
Image: shadow 'l'; Size: 5; Arm: 15;
CR: 8; HD: 9; Hit: +6; Def: 12; Mov: 100%; Spd: 100%;
Str 27, Dex 13, Con 19, Int 10, Wis 16, Cha 7;
Attk:
6 for 1d8 11,
6 for 1d8 11,
7 for 2d8 12,
101 for $"human",
101 for $"wild boar";
Stati[39,42,6];
Stati[39,71,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((((49 + 1) + 32) + 50) + 38) + 26), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
7, 18, 32, 36, 44,
48;
Flags: 1, 36, 50, 51;
Gear:
$"quarterstaff" of random 1 to 3,
$"hide armor",
1d2 $"potion" of $"extra-healing";
Desc: "Werebears are normally kindly, peaceful lycanthropes who
      often live alone in solitude in deep forests. They can become
      tremendously vicious when provoked, however, and are fierce
      enemies of the forces of evil.";
Lists:
* 103 $"black bear" $"brown bear";
}
#line "mon2.irh" 4156
Template "skilled" : 0x0001 for 85
{ CR: +1; HD: +1; Hit: +1; Spd: +2; Caster Level: +1;
Str +1, Dex +1, Con +1, Int +1, Wis +1, Cha +1;
Desc: "The survivor of a few skirmishes, this creature has had
      its competance tested, and learned from the experience.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"skilled");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "experienced" : 0x0001 for 85
{ CR: +2; HD: +2; Hit: +2; Spd: +4; Caster Level: +2;
Str +2, Dex +2, Con +2, Int +2, Wis +2, Cha +2;

Desc: "An experienced creature is a leader among its kind, having
      survived several raids, campaigns or battles.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"experienced");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "veteran" : 0x0001 for 85
{ CR: +4; HD: +4; Hit: +4; Spd: +6; Caster Level: +3;
Str +2, Dex +3, Con +3, Int +3, Wis +3, Cha +3;

Desc: "A veteran has studied the craft of warfare for the majority
      of his or her life, and is thus an exceedingly dangerous 
      opponent.";
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"veteran");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "elite" : 0x0001 for 85
{ CR: +5; HD: +8; Hit: +6; Spd: +10; Caster Level: +5;
Str +2, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
#line "mon2.irh" 4212
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"elite");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "master" : 0x0001 for 85
{ CR: +7; HD: +12; Hit: +8; Spd: +12; Caster Level: +7;
Str +2, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
#line "mon2.irh" 4228
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"master");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "paragon" : 0x0001 for 85
{ CR: +9; HD: +15; Hit: +10; Spd: +15; Caster Level: +9;
Str +2, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
#line "mon2.irh" 4244
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"paragon");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}

Template "legendary" : 0x0001 for 85
{ CR: +12; HD: +20; Hit: +14; Spd: +15; Caster Level: +12;
Str +2, Dex +4, Con +4, Int +4, Wis +4, Cha +4;
#line "mon2.irh" 4260
On Event (19+1000), (37+1000) {
EActor->IdentifyTemp($"legendary");
return 0;
},
155 {
if (mID_isMType(EActor->tmID,76) || EActor->isMType(37) )
return -1;
return 0;
};
}
#line "mon2.irh" 4277
Template "barbarian;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Hit: +2; Def: +1; Mov: 120%; Spd: 110%;
Str +4, Dex +2, Con +4, Int +0, Wis +0, Cha +0, Luc +0;
Stati[39,100,1];
Stati[39,93,2];
Feats:
((49 + 1) + 11), ((49 + 1) + 12), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
17, 48, 4, 40;
Flags: 52, !51;
Gear: random 21 of random 0 to 1,
random 58 of random 0 to 1,
1d1 $"potion" of $"healing";
On Event (19+500) {
if (!EActor->HasStati(66) && EActor->cFP > -2)
{
DPrint(e,"You drive yourself into a killing fury!",
"The <EActor> flies into a killing fury!");
EActor->GainTempStati(66,NULL,19,7,4);
EActor->LoseFatigue(3);
}
return 0;
};
Desc: "These young tribesmen journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
}

Template "bard;template" : 0x0002 for 85
{
Flags: -3, 111;
CR: +2 (min 2); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Dex +4, Int +4, Cha +2;
Stati[39,6,2];
Stati[39,82,1];
Stati[113,37,+8];
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), (((49 + 1) + 32) + 11),
((49 + 1) + 11),
8, 18, 32, 36,
44, 45, 38;
Gear:
random 58,
$"short bow" of random 0 to 1,
35% $"alchemy set",
35% $"disguise kit",
2d6 $"sheaf arrow",
random 22 of random 1 to 3,
1d1 $"potion" of $"healing",
50% 1d3 $"scroll" of $"identify;scroll",
25% $"horn" else
33% $"flute" else
50% $"lute" else $"mandolin";
Desc: "These young minstrels journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(50 + 1000);
On Event (19+1000) {
EActor->IdentifyTemp($"bard;template");
return 0;
};
}

Template "wildshaped druid" : 0x0002 for 85
{
Flags: -3;
CR: +3 (min 3); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Dex +2, Con +2, Wis +4;
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,2];
Stati[113,37,+6];
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 43),
8, 18, 32, 36,
44, 45, 38, 17;
Gear:
33% $"ring" of random 2 to 3
else 50% $"boots" of random 2 to 3
else $"girdle" of random 2 to 3,
2d1 $"potion" of $"dimension door",
2d1 $"potion" of $"healing";
Desc: "These young pagans journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event 156 {
hObj h; rID animal;
EActor->GainPermStati(123,NULL,4,3,2);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) && EActor->isMonster())
h->Remove(true);
else if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
animal = theGame->GetMonID(1,
EActor->ChallengeRating()-1,
EActor->ChallengeRating(),
100, 2);
if (!animal) animal = $"leopard";
EActor->Shapeshift(animal,true,NULL);
EActor->GainPermStati(103,NULL,2,-1,-1);
return 0;
} ;
Lists:
* 21
(53 + 1000)
2 $"remove curse" $"cure disease" $"neutralize poison";
On Event (37+1000) {
EActor->IdentifyTemp($"wildshaped druid");
return 0;
};
}

Template "druid;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Dex +2, Con +2, Wis +4;
Stati[39,57,1];
Stati[39,110,1];
Stati[39,82,2];
Stati[113,37,+6];
Feats:
(((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26),
8, 18, 32, 36,
44, 45, 38, 17;
Gear:
25% $"quarterstaff" else
33% $"scimitar" else
50% $"scythe" else
$"sickle",
25% 1d2 $"scroll" of $"identify;scroll",
$"short bow",
2d6 $"sheaf arrow",
50% 1d2 $"bag" of $"tanglefoot bag",
1d1 $"potion" of $"healing",
$"ring" of random 2 to 7;
Desc: "These young pagans journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event 156 {
hObj h;
EActor->GainPermStati(123,NULL,4,3,2);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
return 0;
} ;
Lists:
* 21
(53 + 1000)
#line "mon2.irh" 4442
2 $"Remove Curse" $"cure disease" $"Neutralize Poison";
On Event (37+1000) {
EActor->IdentifyTemp($"druid;template");
return 0;
};
}

Template "mage;template" : 0x0002 for 85
{
CR: +2 (min 2); HD: +2; Def: +0; Hit: +0; Mov: 100%; Spd: 100%;
Str -2, Dex +2, Con +2, Int +4, Wis +2;
Stati[39,82,2];
Stati[113,37,+12];
Feats: (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
8, 43, 34, 44;
Flags: -3, 111, 90;
Gear: $"robes",
random 22 of random 0 to 1,
random 22 of random 0 to 1,
random 22 of random 2 to 5,
random 22 of random 2 to 5,
50% $"alchemy set",
$"potion" of random 1 to 4,
50% 1d4+1 $"scroll" of $"identify;scroll",
50% $"potion" of random 1 to 4,
20% $"wand" of random 1 to 5,
1d1 $"potion" of $"healing",
1d1 $"potion" of $"mana";
Desc: "These apprentices journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(50 + 1000);
On Event (37+1000) {
EActor->IdentifyTemp($"mage;template");
return 0;
};
}


Template "monk;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: +4; Spd: 110%;
Str +4, Dex +2, Con +2, Wis +2;
Attk: 1 for 1d6 13 and 1d2 17 (DC 13);
Stati[39,99,2];
Stati[39,114,2];
Stati[39,31,1];
Feats: (((49 + 1) + 32) + 44), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 11),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42), (((49 + 1) + 32) + 30),
4, 5, 18, 22, 32,
36, 44, 17, 14;
Gear: $"robes",
50% 1d3 $"scroll" of $"identify;scroll",
50% 2d1 $"nunchaku" of random 0 to 1
else 2d1 $"fighting stick" of random 0 to 1,
$"chakram",
1d2 $"potion" of $"dimension door";
Desc: "These young kohai journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event (19+1000) {
EActor->IdentifyTemp($"monk;template");
return 0;
};
}

Template "undead hunter" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +4, Wis +4, Cha +4; Stati[39,79,2];
Stati[39,25,1];
Stati[113,37,+5];
Spells: $"protection from undead",
$"detect undead",
$"protection from evil",
$"halt undead",
$"death ward";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 3), (((49 + 1) + 32) + 38),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13), 14,
4, 17, 8, 44;
Flags: 50, !49;
Gear: random 21 of random 0 to 1,
random 58 of random 0 to 1,
10% $"alchemy set",
10% $"climbing rig",
10% $"craftsman's tools",
25% 1d2 $"scroll" of $"identify;scroll",
1d1 $"potion" of $"healing",
6d2 blessed $"flask" of $"Water";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
h->IFlags |= 0x0001;
if (h->QualityOK(74))
h->AddQuality(74);
}
return 0;
};
Desc: "Young and inexperienced, perhaps, but she is still an
      undead hunter, dedicated to removing the graveborn blight
      from the land.";
On Event (19+1000) {
EActor->IdentifyTemp($"undead hunter");
return 0;
};
}



Template "knight" : 0x0002 for 85
{
Flags: -3, -2;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +2, Con +2, Wis +2;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
4, 17, 40, 8, 44;
Flags: 51, !52, 112;
Gear: $"light lance" of random 1 to 2,
$"banded mail" of random 0 to 1,
1d1 $"potion" of $"healing";
On Event 155 {
if (EActor->GetAttr(25) == 4)
return 0;
else
return -1;
} ;
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58))
h->AddQuality(70);
};
Desc: "Young and inexperienced, perhaps, but she is still a 
      knight, a mounted warrior with a deadly lance.";
On Event (191+500) {
if (mID_isMType(e.ep_mID,18))
{ e.chSource = $"kobold"; }
else if (mID_isMType(e.ep_mID,66))
{ e.chSource = $"drow"; }
else if (mID_isMType(e.ep_mID,64))
{ e.chSource = $"gnome"; }
else if (mID_isMType(e.ep_mID,65))
{ e.chSource = $"halfling"; }
else if (mID_isMType(e.ep_mID,62))
{ e.chSource = $"elf"; }
else if (mID_isMType(e.ep_mID,63))
{ e.chSource = $"dwarf"; }
else if (mID_isMType(e.ep_mID,22) ||
e.ep_mID == $"hobgoblin" || e.ep_mID == $"bugbear")
{ e.chSource = $"cave orc"; }
else if (mID_isMType(e.ep_mID,84))
{ e.chSource = $"goblin"; }
else if (mID_isMType(e.ep_mID,67))
{ e.chSource = $"lizardman"; }
return 0;
};
}

Template "pike": 0x0002 for 85
{
CR: +2 (Min 2);
Flags: -3, -2, 23, 16,
51, !52;
Feats: ((((49 + 1) + 32) + 50) + 36), (((49 + 1) + 32) + 14), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), (((((49 + 1) + 32) + 50) + 38) + 14);
Gear: 33% $"longspear" of random 0 to 1
else 50% $"ranseur" of random 0 to 1
else $"lucern hammer" of random 0 to 1;
On Event 155 {
if (EActor->GetAttr(25) >= 4)
return 0;
else
return -1;
} ;
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv()) {
if (h->isType(58) && !h->HasIFlag(20))
h->Remove(true);
}
if (!EActor->HasStati(84)) {
EActor->Multiply(2,false,false);
}
};
Desc: "The true advantage of polearms comes to light when they are used
  in formation. It can be very difficult to approach a wall of pikes 
  without injury.";
}

Template "worg-rider" : 0x0002 for 10
{
Flags: -3, -2;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +2, Dex +2, Con +2, Wis +2;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((49 + 1) + 11), ((49 + 1) + 12),
4, 17,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
40, 8, 44;
Flags: 112;
Gear: $"halfspear" of random 1 to 2,
$"chainmail shirt" of random 0 to 1,
1d1 $"potion" of $"healing";
On Event 155 {
if (EActor->GetAttr(25) == 3 && !EActor->isMType(106))
return 0;
else
return -1;
} ;
Desc: "Worgs are often used as mounts by goblins and other evil
      humanoids.";
Lists:
* 117
$"worg";
}

Template "giant-rider" : 0x0002 for 84
{
Flags: -3, -2;
Image: purple 0;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Dex +6, Con +2, Wis +2;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), ((((((49 + 1) + 32) + 50) + 38) + 30) + 29), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 8),
((49 + 1) + 11),
4, 17,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
40, 8, 44;
Gear: 75% $"arbalest" of random 1 to 2 else $"cranquin" of random 1 to 2,
10d6 $"crossbow bolt" of random 0 to 1,
$"leather armor" of random 0 to 1,
1d1 $"potion" of $"healing";
Flags: 112;
On Event 155 {
if (EActor->GetAttr(25) == 3 && !EActor->isMType(106))
return 0;
else
return -1;
};
Desc: "Giants are occasionally used as mounts by clever goblins and
    other evil humanoids who perch on their shoulders and attack with
    ranged weapons.";
Lists:
* 117
$"ogre"
$"troll"
$"hill giant"
$"fire giant"
$"frost giant"
;
}

Template "paladin;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +4, Con +4, Wis +2, Cha +4; Spells: $"detect evil";
Stati[39,79,2];
Stati[39,25,1];
Stati[39,5,2];
Stati[39,49,2];
Immune: 0x04000000, 0x08000000;
Flags: 51, 50, 53, 107, 112;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
4, 17, 40, 8, 44;
Gear: random 21 of random 0 to 1,
25% random 58 +1 with [1] else
random 58 of random 0 to 1,
50% $"healing kit",
25% 1d2 $"scroll" of $"identify;scroll",
1d1 $"potion" of $"healing",
50% 1d1 blessed $"flask" of $"Water";
On Event 156 {
hObj h;

for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58))
h->AddQuality(1);
EActor->GainPermStati(42,NULL,4,0,0,$"Cure Disease");
};
Desc: "Young and inexperienced, perhaps, but she is still a 
      paladin, a champion of the light, on a sacred mission to
      cleanse this area of all things evil and unholy.";
Lists:
* 117
100 $"celestial" $"warhorse"
10 $"celestial" $"pegasus"
$"unicorn"
$"young" $"silver dragon"
$"young" $"steel dragon"
$"lammasu";
On Event (191+500) {
if (mID_isMType(e.ep_mID,18))
{ e.chSource = $"kobold"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,66))
{ e.chSource = $"drow"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,64))
{ e.chSource = $"gnome"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,65))
{ e.chSource = $"halfling"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,62))
{ e.chSource = $"elf"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,63))
{ e.chSource = $"dwarf"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,22) ||
e.ep_mID == $"hobgoblin" || e.ep_mID == $"bugbear")
{ e.chSource = $"cave orc"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,84))
{ e.chSource = $"goblin"; e.chList = 19; }
else if (mID_isMType(e.ep_mID,67))
{ e.chSource = $"lizardman"; e.chList = 19; }
return 0;
};
}



Template "priest;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Con +2, Int +2, Wis +4 ;
Stati[39,82,2];
Stati[113,37,+8];
Stati[39,97,2];
Gear: random 21,
random 58 of random 0 to 1,
random 51 of random 0 to 1,
25% 1d2 $"scroll" of $"identify;scroll",
$"potion" of random 1 to 4,
50% $"healing kit",
25% $"scroll" of $"hallow",
50% 1d2 blessed $"flask" of $"water",
1d1 $"potion" of $"healing",
1d1 $"potion" of $"mana";
Feats: (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 17, 34, 44;
On Event 156 {
hObj h;
rID god;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) || h->isType(24))
h->IFlags |= 0x0001;
if (h->iID == $"holy symbol")
return 0;
}
h = CreateItem($"holy symbol");
switch (random(16)) {
case 0: god = $"Aiswin;Symbol"; break;
case 1: god = $"Asherath;Symbol"; break;
case 2: god = $"Ekliazeh;Symbol"; break;
case 3: god = $"Erich;Symbol"; break;
case 4: god = $"Essiah;Symbol"; break;
case 5: god = $"Hesani;Symbol"; break;
case 6: god = $"Immotian;Symbol"; break;
case 7: god = $"Khasrach;Symbol"; break;
case 8: god = $"Kysul;Symbol"; break;
case 9: god = $"Mara;Symbol"; break;
case 10: god = $"Maeve;Symbol"; break;
case 11: god = $"Sabine;Symbol"; break;
case 12: god = $"Semirath;Symbol"; break;
case 13: god = $"Xavias;Symbol"; break;
case 14: god = $"Xel;Symbol"; break;
case 15: god = $"Zurvash;Symbol"; break;
}
h->MakeMagical(god);
h->IFlags |= 0x0001;
EActor->GainItem(h,true);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(51) && !h->ieID) {
h->MakeMagical(god);
}
}
return 1;
},
(37+1000) {
EActor->IdentifyTemp($"priest;template");
return 0;
};

Desc: "These young acolytes journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(52 + 1000)
#line "mon2.irh" 4843
2 $"Remove Curse" $"cure disease" $"Neutralize Poison";
}

Template "priest;for giants" : 0x0002 for 41
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +1; Mov: 100%; Spd: 105%;
Str +2, Con +2, Int +2, Wis +4 ;
Stati[39,82,7];
Stati[113,37,+30];
Stati[39,97,7];
Gear: random 21,
random 58 of random 0 to 1,
random 51 of random 0 to 1,
25% 1d2 $"scroll" of $"identify;scroll",
$"potion" of random 1 to 4,
50% $"healing kit",
25% $"scroll" of $"hallow",
50% 1d2 blessed $"flask" of $"water",
1d1 $"potion" of $"healing",
1d1 $"potion" of $"mana";
Feats: (((49 + 1) + 32) + 11), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 17, 34, 44;
Flags: -4;
On Event 156 {
hObj h;
rID god;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) || h->isType(24))
h->IFlags |= 0x0001;
if (h->iID == $"holy symbol")
return 0;
}
h = CreateItem($"holy symbol");
switch (random(16)) {
case 0: god = $"Aiswin;Symbol"; break;
case 1: god = $"Asherath;Symbol"; break;
case 2: god = $"Ekliazeh;Symbol"; break;
case 3: god = $"Erich;Symbol"; break;
case 4: god = $"Essiah;Symbol"; break;
case 5: god = $"Hesani;Symbol"; break;
case 6: god = $"Immotian;Symbol"; break;
case 7: god = $"Khasrach;Symbol"; break;
case 8: god = $"Kysul;Symbol"; break;
case 9: god = $"Mara;Symbol"; break;
case 10: god = $"Maeve;Symbol"; break;
case 11: god = $"Sabine;Symbol"; break;
case 12: god = $"Semirath;Symbol"; break;
case 13: god = $"Xavias;Symbol"; break;
case 14: god = $"Xel;Symbol"; break;
case 15: god = $"Zurvash;Symbol"; break;
}
h->MakeMagical(god);
h->IFlags |= 0x0001;
EActor->GainItem(h,true);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(51) && !h->ieID) {
h->MakeMagical(god);
}
}
return 1;
},
(37+1000) {
EActor->IdentifyTemp($"priest;template");
return 0;
};

Desc: "Giant tribes rely strongly on their priests for guidance
      in spiritual and traditional ways, and for the development of
      their culture and society.";
Lists:
* 21
(52 + 1000)
#line "mon2.irh" 4921
2 $"Remove Curse" $"cure disease" $"Neutralize Poison";
}


Template "Multitude cultist" : 0x0002 for 85
{
Flags: -3;
CR: +1; HD: +1; Hit: +1; Def: +0; Mov: 100%; Spd: 100%;
Str -2, Dex +4, Con +2, Int +2, Cha -4, Luc +0;
Stati[113,37,+8];
Spells:
$"phase door", $"minor drain", $"convulsion", $"deeper darkness";
Flags: 49, !50, 90, 55;
Feats: ((((49 + 1) + 32) + 50) + 35);
On Event 62
"Blood for the horde!" /
"Bow before the power of our dark lord!" /
"Tremble before His presence, mortal!" /
"Death to the unbeliever!" /
"Now, the hour of darkness is upon you!",
155 {
if (EActor->HasMFlag(50))
return -1;
return 0;
};
Desc: "This wretched soul has given himself over utterly to the
      demon ghost horde. Not a true spellcaster, he has instead been
      given a paltry few magical gifts by his patron in exchange for
      his freedom, sanity and hygene.";
Gear:
25% $"dagger" +1 with [2],
25% $"scroll" of $"hallow",
3d4 $"dagger",
$"robes",
blessed $"holy symbol" of $"the multitude;symbol",
50% 1d3 $"scroll" of $"identify;scroll",
75% $"potion" of $"mana",
85% $"potion" of $"healing";
On Event 156 {
int32 maxlev, i, j, k; rID spID;
maxlev = max(2,EActor->ChallengeRating()/2);
j = 4d2;
for (i=0;i!=j;i++) {
for(k=0;k<=10;k++) {
spID = theGame->GetEffectID(1,1,maxlev,52);
if (spID)
if (spID->Purpose != 0x00000) {
EActor->GainPermStati(42,NULL,3,0,0,spID,0);
k = 50;
}
}
}
return 0;
},
(36+1000) {
EActor->IdentifyTemp($"multitude cultist");
return 0;
};

}

Template "archer" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Dex +8, Str +2;
Stati[39,42,12];
Flags: 90;
Feats:
((((49 + 1) + 32) + 50) + 19), ((49 + 1) + 4), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 50),
44, 17,
22, 32, 36,
41, 45, 39;
Gear: $"short bow" of random 1 to 2,
25% 1d3 $"scroll" of $"identify;scroll",
20d6 $"sheaf arrow" of random 1 to 2,
2d2 $"potion" of $"dimension door",
25% 6d6 $"hemp rope" else
5% 6d6 $"silk rope",
1d1 $"potion" of $"healing";
Desc: "This young archer was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(24))
h->AddQuality(43);
else if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
On Event (48+1000) {
EActor->IdentifyTemp($"archer");
return 0;
};

}

Template "rogue-archer" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Str +0, Dex +8, Int +2 ;
Stati[39,31,1];
Stati[39,80,1];
Flags: 90;
Feats:
((49 + 1) + 11), ((((49 + 1) + 32) + 50) + 19), ((49 + 1) + 4),
44, 4, 5, 18, 22, 32,
33, 36, 38, 39,
16, 47, 14;
Gear:
25% $"small glass vial" of random 1 to 3,
1d2 $"bag" of $"tanglefoot bag",
$"short bow",
25% 1d3 $"scroll" of $"identify;scroll",
25% 6d6 $"hemp rope" else
5% 6d6 $"silk rope",
20d6 $"sheaf arrow",
1d1 $"potion" of $"dimension door",
1d1 $"potion" of $"healing";
Desc: "This young rogue-archer was once not unlike yourself, but the
    rigors of his ordeal in the dungeon have made him ruthless and nearly
    insane, and now he seeks only the destruction of his rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
On Event (48+1000) {
EActor->IdentifyTemp($"rogue-archer");
return 0;
};
}

Template "ranger;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +2; Mov: 100%; Spd: 110%;
Str +2, Dex +4, Con +2, Wis +2 ;
Flags: 90;
Feats:
((49 + 1) + 11), ((((49 + 1) + 32) + 50) + 19), ((49 + 1) + 4), 40,
44, 17, 18, 22, 32, 36,
41, 45, 48, 14;
Gear: 50% $"leather armor" else
$"chainmail shirt",
50% $"long bow" of random 0 to 1 else
$"short bow" of random 0 to 1,
50% 6d6 $"hemp rope" else
15% 6d6 $"silk rope",
20d6 $"sheaf arrow",
25% 1d2 $"scroll" of $"identify;scroll",
1d1 $"potion" of $"healing";
Desc: "This young ranger was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
On Event (48+1000) {
EActor->IdentifyTemp($"ranger;template");
return 0;
};
}

Template "rogue;template" : 0x0002 for 85
{
Flags: -3, 57;
CR: +2 (min 2); HD: +2; Def: +1; Hit: +1; Mov: 100%; Spd: 105%;
Dex +6, Int +4, Cha +2 ;
Stati[39,31,1];
Stati[39,80,1];
Feats:
((49 + 1) + 11), (((49 + 1) + 32) + 44), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
44, 4, 5, 18, 22, 32,
33, 36, 38, 39,
16, 47, 14;
Gear: 25% $"studded leather" else
33% $"leather armor" else
50% $"chainmail shirt" else
$"hide armor",
25% $"small glass vial" of random 1 to 3,
35% 1d4 $"scroll" of $"identify;scroll",
50% $"alchemy set",
50% $"climbing rig",
50% $"disguise kit",
50% 6d6 $"hemp rope" else
15% 6d6 $"silk rope",
1d2 $"bag" of $"tanglefoot bag",
33% $"short sword" else
50% $"rapier" else
$"light mace",
1d1 $"potion" of $"healing";
Desc: "This young rogue was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event (18+1000) {
EActor->IdentifyTemp($"rogue;template");
return 0;
};
}

Template "warrior;template" : 0x0002 for 85
{
Flags: -3;
CR: +2 (min 2); HD: +2; Def: +0; Hit: +3; Mov: 100%; Spd: 110%;
Str +4, Dex +2, Con +4 ;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 7, 6, 4,
44, 14, 40;
Gear:
random 58 of random 0 to 2,
random 21 of random 0 to 2,
random 51 of random 0 to 1,
35% 1d4 $"scroll" of $"identify;scroll",
25% $"potion" of $"oil of transformation",
40% $"craftsman's tools",
25% $"climbing rig",
50% 6d6 $"hemp rope" else
15% 6d6 $"silk rope",
1d3 $"potion" of $"healing";
Desc: "This young warrior was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
}
#line "mon2.irh" 5183
Template "reaver" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: +5; Hit: +5; Def: +2; Mov: 150%; Spd: 125%;
Str +6, Dex +2, Con +6, Int +0, Wis +0, Cha +0, Luc +0;
Stati[39,100,4];
Stati[39,93,5];
Feats:
((49 + 1) + 11), ((49 + 1) + 12), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
17, 48, 4, 40,
14;
Flags: 52, !51;
Gear: random 21 of random 2 to 4,
random 58 of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing";
On Event (19+500) {
if (!EActor->HasStati(66) && EActor->cFP > -2)
{
DPrint(e,"You drive yourself into a killing fury!",
"The <EActor> flies into a killing fury!");
EActor->GainTempStati(66,NULL,19,7,4);
EActor->LoseFatigue(3);
}
return 0;
};
Desc: "These young tribesmen journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
}

Template "minstrel" : 0x0002 for 85
{
Flags: -3, 111;
CR: +5 (Min 5); HD: +5; Def: +1; Hit: +3; Mov: 100%; Spd: 110%;
Dex +6, Int +6, Cha +2;
Stati[39,6,5];
Stati[39,82,3];
Stati[113,37,+18];
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), (((49 + 1) + 32) + 11),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
((49 + 1) + 11),
8, 18, 32, 36,
44, 45, 38;
Gear:
random 58 of random 2 to 4,
$"short bow" of random 2 to 4,
2d6 $"sheaf arrow",
random 22 of random 1 to 1,
random 22 of random 3 to 3,
$"spellbook [Adventurers' Arts]",
2d1 $"potion" of $"extra-healing",
50% 1d4 $"scroll" of $"identify;scroll",
25% $"horn" else
33% $"flute" else
50% $"lute" else $"mandolin";
Desc: "These powerful singers journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(50 + 1000);
On Event (52+1000) {
EActor->IdentifyTemp($"minstrel");
return 0;
};
}

Template "grey druid" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: +5; Hit: +3; Def: +1; Mov: 100%; Spd: 110%;
Str +4, Dex +2, Con +2, Wis +6;
Attk:
101 for $"leopard",
101 for $"juvenile tojanda",
101 for $"wereboar";
Stati[39,57,1];
Stati[39,82,5];
Stati[39,110,1];
Stati[113,37,+18];
Flags: 49, !50, 55;
Feats:
(((49 + 1) + 32) + 11), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26),
((((49 + 1) + 32) + 50) + 6), ((((49 + 1) + 32) + 50) + 13),
8, 18, 32, 36,
44, 45, 38, 17;
Gear:
25% $"quarterstaff" of random 2 to 4 else
33% $"scimitar" of random 2 to 4 else
50% $"scythe" of random 2 to 4 else
$"sickle" of random 2 to 4,
$"short bow" of random 2 to 4,
25% 1d2 $"scroll" of $"identify;scroll",
2d6 $"sheaf arrow" of random 2 to 4,
1d2 $"bag" of $"tanglefoot bag",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*",
$"potion" of random 1 to 4,
$"ring" of random 2 to 7;
Attk: 1 for 1d2 13,
102 for $"human",
101 for $"leopard",
101 for $"tiger",
101 for $"brown bear";
Desc: "Sometimes, a druid will find disfavor with the hierophants
      of the inner circle, and become outcast from the druidic
      community. Sometimes, these rogues dabble in black arts,
      blood sacrifice and perverted nature magic, siding with the
      evil humanoid races. These foul naturalists are called grey
      druids, and are widely feared and despised.";
On Event 156 {
hObj h;
EActor->GainPermStati(123,NULL,4,3,2);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(72))
h->AddQuality(72);
else if (h->QualityOK(71))
h->AddQuality(71);
}
return 0;
} ;
Lists:
* 21
(53 + 1000);
On Event (37+1000) {
EActor->IdentifyTemp($"grey druid");
return 0;
};
}

Template "dark sorcerer" : 0x0002 for 85
{
Flags: -3, 111;
CR: +5 (Min 5); HD: +5; Def: +1; Hit: +1; Mov: 100%; Spd: 100%;
Str -2, Dex +2, Con +2, Int +6, Wis +2;
Stati[39,82,7];
Stati[113,37,+30];
Feats: (((49 + 1) + 32) + 11), (((49 + 1) + 32) + 44),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 17), ((49 + 1) + 31),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24), ((((((49 + 1) + 32) + 50) + 38) + 30) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3),
8, 43, 34, 44;
Flags: 1, 36, 37, 49, !50, 51,
!52, 97, 55, 53,
90;
Gear: $"robes",
50% $"quarterstaff" of random 1 to 4 else
$"dagger" of random 1 to 4,
random 22 of random 1 to 1,
random 22 of random 3 to 3,
random 22 of random 3 to 3,
random 22 of random 5 to 5,
random 22 of random 5 to 5,
$"potion" of random 1 to 4,
50% $"potion" of random 1 to 4,
25% 1d2 $"scroll" of $"identify;scroll",
20% $"wand" of random 1 to 5,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
$"scroll" of random 1 to 8,
50% $"wand" of random 4 to 8,
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Desc: "This one has lived too long beneath the earth, dabbling in
      profane magics, and now understands only fear, intimidation,
      power and terrible magical secrets.";
Lists:
* 21
(50 + 1000);
On Event (37+1000) {
EActor->IdentifyTemp($"dark sorcerer");
return 0;
};
}

Template "scarlet disciple" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: +5; Def: +2; Hit: +5; Mov: +10; Spd: 125%;
Str +6, Dex +4, Con +2, Wis +2;
Attk: 1 for 1d10 13 and 1d2 17 (DC 16);
Stati[39,99,5];
Stati[39,114,2];
Stati[39,31,1];
Feats: (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 25), ((((((49 + 1) + 32) + 50) + 38) + 30) + 7),
((((49 + 1) + 32) + 50) + 16), (((49 + 1) + 32) + 2),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 42), (((49 + 1) + 32) + 30),
4, 5, 18, 22, 32,
36, 14, 44, 17;
Gear: $"robes",
50% 2d1 $"nunchaku" of random 2 to 4
else 2d1 $"fighting stick" of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
$"chakram" of random 2 to 4,
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing",
1d2 $"potion" of $"dimension door";
Desc: "These scarlet disciple monks journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
On Event (17+1000) {
EActor->IdentifyTemp($"scarlet disciple");
return 0;
};
}


Template "blackguard;template" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: 5; Hit: +7; Def: 1; Mov: 100%; Spd: 125%;
Str +6, Con +6, Wis +2, Cha +4; Stati[39,79,5];
Stati[39,25,1];
Stati[39,49,5];
Stati[39,80,2];
Stati[39,82,1];
Stati[113,37,+6];
Immune: 0x04000000, 0x08000000;
Flags: 52, 49, !50, !51, 107, 55;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), 53,
((((((49 + 1) + 32) + 50) + 38) + 30) + 22), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
4, 17, 40, 8, 44,
39, 14;
Gear: random 21 of random 2 to 4,
random 58 of random 2 to 4 with [2],
7% 6d6 $"hemp rope" else
20% 6d6 $"silk rope" else
10% 6d6 $"giant's-hair rope",
50% 1d2 $"bag" of $"tanglefoot bag",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing",
50% cursed $"flask" of $"water",
$"ring" of random 1 to 8;
On Event 156 {
hObj h, hMount;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(58) && h->QualityOK(2))
h->AddQuality(2);
return 0;
},
164 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
};
Desc: "Once a paladin, the blackguard has renounced his higher
      calling and consciously embraced the ways of evil and blight.
      Answering to demons or devils, blackguards are twisted parodies
      of paladins, dark knights who leave death, ruin and despair in
      their passing.";
Lists:
* 21
(52 + 1000),
* 117
$"graveborn;template" $"warhorse"
$"nightmare";

}

Template "curate" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: +4; Def: +2; Hit: +3; Mov: 100%; Spd: 120%;
Str +2, Con +2, Int +4, Wis +6 ;
Stati[39,82,5];
Stati[39,97,5];
Stati[113,37,+20];
Gear: random 21 of random 2 to 4,
random 58 of random 2 to 4,
random 51 of random 2 to 4,
$"potion" of random 1 to 4,
3d4 blessed $"flask" of $"water",
2d1 $"potion" of $"extra-healing",
25% 1d3 $"scroll" of $"identify;scroll",
25% $"scroll" of $"hallow",
2d1 $"potion" of $"*mana*";
Feats: (((49 + 1) + 32) + 11), ((((49 + 1) + 32) + 50) + 25),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 6),
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
8, 43, 34, 17, 44;
On Event 156 {
hObj h;
rID god;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) || h->isType(24))
h->IFlags |= 0x0001;
if (h->iID == $"holy symbol")
return 0;
}
h = CreateItem($"holy symbol");
switch (random(16)) {
case 0: god = $"Aiswin;Symbol"; break;
case 1: god = $"Asherath;Symbol"; break;
case 2: god = $"Ekliazeh;Symbol"; break;
case 3: god = $"Erich;Symbol"; break;
case 4: god = $"Essiah;Symbol"; break;
case 5: god = $"Hesani;Symbol"; break;
case 6: god = $"Immotian;Symbol"; break;
case 7: god = $"Khasrach;Symbol"; break;
case 8: god = $"Kysul;Symbol"; break;
case 9: god = $"Mara;Symbol"; break;
case 10: god = $"Maeve;Symbol"; break;
case 11: god = $"Sabine;Symbol"; break;
case 12: god = $"Semirath;Symbol"; break;
case 13: god = $"Xavias;Symbol"; break;
case 14: god = $"Xel;Symbol"; break;
case 15: god = $"Zurvash;Symbol"; break;
}
h->MakeMagical(god);
h->IFlags |= 0x0001;
EActor->GainItem(h,true);
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(51) && !h->ieID) {
h->MakeMagical(god);
}
}
return 1;
};
Desc: "These experienced devotees journey from far away lands in search
      of treasure, blood and glory, testing their mettle against the
      harsh dangers of the Goblin King.";
Lists:
* 21
(52 + 1000)
3 $"neutralize poison";
On Event (37+1000) {
EActor->IdentifyTemp($"curate");
return 0;
};
}

Template "stalker" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: +5; Def: +2; Hit: +5; Mov: 100%; Spd: 125%;
Str +4, Dex +6, Con +2, Wis +2 ;
Stati[39,82,1];
Feats:
((49 + 1) + 11), ((49 + 1) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
44, 17, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 40,
18, 22, 32, 36, 18, 41,
45, 48, 14;
Flags: 90, 55;
Gear: 33% $"studded leather" of random 2 to 4 else
50% $"leather armor" of random 2 to 4 else
$"chainmail shirt" of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
50% $"long bow" of random 1 to 3 else
$"short bow" of random 1 to 3,
20d6 $"sheaf arrow",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing";
Desc: "This ranger was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(24))
h->AddQuality(43);
else if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
Lists:
* 21
(53 + 1000);
On Event (37+1000), (48+1000) {
EActor->IdentifyTemp($"stalker");
return 0;
};
}

Template "twilight huntsman;temp" : 0x0002 for 62
{
CR: +7 (Min 7); HD: +7; Def: +2; Hit: +7; Mov: 120%; Spd: 125%;
Str +2, Dex +8, Wis +2, Cha +4;
Stati[39,82,3];
Stati[39,118,+4];
Stati[39,53,+4];
Stati[113,37,+10];
Stati[36,104,+2];
Feats:
((49 + 1) + 11), (((((49 + 1) + 32) + 50) + 38) + 24), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9),
44, 17, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 4, 2,
18, 22, 32, 36, 40, 41,
45, 48, 14;
Flags: 90, -3, 52, 49, 112;
Gear: 33% $"studded leather" of random 2 to 4 with [68] else
50% $"leather armor" of random 2 to 4 with [68] else
$"chainmail shirt" of random 2 to 4 with [68] ,
50% $"long bow" of random 1 to 3 with [68] else
$"short bow" of random 1 to 3 with [68],
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
20d6 $"sheaf arrow" +1 with [68],
50% 1d4 $"potion" of $"dimension door",
50% $"cloak" +2 of $"elvenkind;cloak",
50% $"boots" +2 of $"elvenkind;boots",
25% 1d2 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing";
Desc: "Twilight huntsmen are Maeve's most skilled hunters, trackers
      and slayers, tasked with tracking down and destroying any elves who
      try to turn their backs on the Faerie Queen.";
On Event 156 {
hObj h;
for(h = EActor->FirstInv(); h ; h = EActor->NextInv())
if (h->isType(24))
h->AddQuality(43);
else if ((h->isType(58) ||
h->isType(21)) && EActor->isMonster())
h->Remove(true);
if (EActor->isMonster())
EActor->AddAct(39,6);
};
Lists:
* 21
1 $"bane" $"change self" $"charm person" $"color spray" $"doom"
$"enthrall" $"faerie fire" $"inflict light wounds" $"longstrider"
$"malignance" $"phantasmal force" $"slow poison" $"true strike"
2 $"animate rope" $"bladethirst" $"globe of shadow" $"heal mount"
$"hypnotic pattern" $"improved phantasmal force" $"inflict moderate wounds"
$"phantom steed" $"scare" $"see invisibility" $"silence"
3 $"adamant facade" $"animate shadows" $"blackmantle" $"confusion"
$"fly" $"hold person" $"illusory stance" $"inflict serious wounds"
$"insightful stroke" $"lorecall" $"spectral force" $"track monster"
$"vampiric touch";
On Event (37+1000), (48+1000) {
EActor->IdentifyTemp($"twilight huntsman;temp");
return 0;
};
}



Template "shadowdancer;template" : 0x0002 for 85
{
Flags: -3, 57;
CR: +5 (Min 5); HD: +6; Def: +2; Hit: +3; Mov: 100%; Spd: 115%;
Str +4, Dex +6, Con +2, Int +2 ;
Stati[39,31,2];
Stati[39,80,3];
Stati[39,142,1];
Stati[39,100,3];
Stati[113,37,+8];
Feats:
((49 + 1) + 11), (((49 + 1) + 32) + 44), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
44, 4, 5, 18, 22, 32,
33, 36, 38, 39,
16, 47, 14;
Flags: 52, 49;
Spells: $"shadow step", $"summon shadows";
Gear: 25% $"studded leather" of random 2 to 4 else
33% $"leather armor" of random 2 to 4 else
50% $"chainmail shirt" of random 2 to 4 else
$"hide armor" of random 2 to 4,
random 58 of random 2 to 4,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
25% $"small glass vial" of random 2 to 4,
1d4 $"bag" of $"tanglefoot bag",
25% $"small glass vial" of random 2 to 4,
25% 1d3 $"scroll" of $"identify;scroll",
50% $"cloak" of $"nondetection;item" else
$"ring" of $"nondetection;item" ,
$"wand" of random 1 to 6,
2d1 $"potion" of $"extra-healing";
Desc: "Legends speak of secret fraternal orders joined by rogues
      (and occasionally other adventurers) that teach their members a
      kind of supernatural kinship with the shadows, allowing them to
      phase through shadow, summon living shadows to their aid and
      perform other unearthly feats. This, apparently, is one such
      being.";
On Event (36+1000), (19+1000) {
EActor->IdentifyTemp($"shadowdancer;template");
return 0;
};
}

Template "myrmidon" : 0x0002 for 85
{
Flags: -3;
CR: +5 (Min 5); HD: +5; Def: +2; Hit: +5; Mov: 100%; Spd: 130%;
Str +6, Dex +2, Con +6 ;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((49 + 1) + 32) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 7,
6, 4, 44, 14, 40;
Gear:
random 58 of random 3 to 4,
random 21 of random 3 to 4,
random 51 of random 1 to 2,
15% 6d6 $"hemp rope" else
40% 6d6 $"silk rope" else
20% 6d6 $"giant's-hair rope",
25% 1d3 $"scroll" of $"identify;scroll",
2d3 $"potion" of $"extra-healing";
Desc: "This salted warrior was once not unlike yourself, but
      the rigors of his ordeal in the dungeon have made him ruthless
      and nearly insane, and now he seeks only the destruction of his
      rivals.";
}



Template "ruby initiate" : 0x0002 for 85
{
Flags: -3, 111;
CR: +7 (Min 7); HD: +11; Def: +2; Hit: +5; Mov: 100%; Spd: 125%;
Str -4, Dex +2, Con -2, Int +10, Wis +8;
Stati[39,82,9];
Stati[113,37,+35];
Feats:
(((49 + 1) + 32) + 11), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 5), (((((49 + 1) + 32) + 50) + 38) + 2), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 17),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 12), ((((49 + 1) + 32) + 50) + 6), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 24),
((((((49 + 1) + 32) + 50) + 38) + 30) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3), 8, 43,
34, 44;
Flags: 1, 36, 37, 49, !50,
97, 90, 55;
Gear: $"robes",
50% $"quarterstaff" of random 1 to 4,
random 22 of random 1 to 1,
random 22 of random 3 to 3,
random 22 of random 5 to 5,
$"potion" of random 1 to 4,
$"potion" of random 1 to 4,
$"ring" +2 of $"channeling",
$"wand" of random 3 to 6,
50% 1d4+1 $"scroll" of $"identify;scroll",
2d1 $"potion" of $"extra-healing",
2d1 $"potion" of $"*mana*";
Desc: "This mage was once an initiate of the Ruby Order, a body that
    governs the formalized study of Evocation. This practitioner has
    traded power for flexibility and will only cast Abjuration, Evocation
    and Thaumaturgy spells. However, it casts such spells very well indeed.";
On Event 156 {
EActor->GainPermStati(38,NULL,7,0,0x00000001);
EActor->GainPermStati(38,NULL,7,0,0x00000010);
EActor->GainPermStati(38,NULL,7,0,0x00000080);
} ;
Lists:
* 21
100 (50) (0x00000001)
100 (50) (0x00000010)
100 (50) (0x00000080);
On Event (37+1000) {
EActor->IdentifyTemp($"ruby initiate");
return 0;
};
}



Template "chieftan" : 0x0020 for 85
{
Image: purple 0;
CR: +2; HD: 200%; Hit: +2; Dmg: +2; Str +4; Con +4;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), 14, 40;
Flags: -3, 107;
Gear:
random 58 of random 2 to 4,
random 21 of random 1 to 3;
Desc: "The chieftan is the toughest, strongest and most
      often simply the meanest of his kind. As such, he manages
      to dominate a clique, tribe or warband beneath him.";
}

Template "shaman" : 0x0040 for 85
{
Image: bright cyan 0;
CR: +2; HD: 150%; Wis +4;
Feats: (((49 + 1) + 32) + 11), 43, 8, 17;
Flags: -3, 107;
Gear:
50% $"potion" of random 1 to 6,
50% $"potion" of random 1 to 6,
50% $"wand" of random 1 to 4,
75% $"potion" of $"healing",
75% $"potion" of $"mana";
Desc: "This dark mystic holds his position of power in the tribe
      through profane knowledge, politically-motivated healing and
      sheer terror. Nonetheless, the goblinoid peoples revere their
      shamans greatly, for they can be the difference between victory
      and death for an entire tribe.";
Stati[39,82,3];
Stati[113,37,+8];
Lists:
* 21
(52 + 1000);
}
#line "mon2.irh" 5810
Template "bandit" : 0x0002 for 85
{
Flags: -3, -4;
CR: +1 (min 1); HD: +1; Mov: 100%; Spd: 105%;
Str +2, Con +1, Cha -2;
Flags: 52, !51, 107, 55;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13),
((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
7, 6, 4, 44, 5, 18,
22, 32, 33, 36, 38,
39, 47;
Desc: "Many common scoundrels infest dungeon and city alike,
      looking to make a quick buck off of weak or infirm passers-by.";
Gear:
random 58 of random 0 to 1,
random 21 of random 0 to 1,
15% $"small glass vial" of random 1 to 2,
50% $"potion" of $"healing",
15% 1d2 $"scroll" of $"identify;scroll",
3d6 $"gold piece";
}

Template "outlaw" : 0x0002 for 85
{
Flags: -3, -4;
CR: +1 (min 1); HD: +1; Mov: 100%; Spd: 105%;
Dex +2, Con +1, Cha -2;
Flags: 52, !51, 107, 55;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13),
(((49 + 1) + 32) + 32),
7, 6, 4, 44, 5, 18,
22, 32, 33, 36, 38,
39, 47;
Desc: "Many common scoundrels infest dungeon and city alike,
      looking to make a quick buck off of weak or infirm passers-by.";
Gear:
random 58 of random 0 to 1,
random 21 of random 0 to 1,
15% $"small glass vial" of random 1 to 2,
50% $"potion" of $"healing",
15% 1d2 $"scroll" of $"identify;scroll",
3d6 $"gold piece";
}

Template "brigand" : 0x0002 for 85
{
Flags: -3, -4;
CR: +1 (min 1); HD: +2; Mov: 100%; Spd: 105%;
Dex +2, Con +1, Cha -2;
Flags: 52, !51, 107, 55;
Feats:
((49 + 1) + 11), ((49 + 1) + 12), ((49 + 1) + 13),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 8), 40,
44, 18, 36, 39;
Desc: "Many common scoundrels infest dungeon and city alike,
      looking to make a quick buck off of weak or infirm passers-by.";
Gear:
random 58 of random 0 to 1,
random 21 of random 0 to 1,
15% $"small glass vial" of random 1 to 2,
50% $"potion" of $"healing",
15% 1d2 $"scroll" of $"identify;scroll",
3d6 $"gold piece";
}
#line "mon3.irh" 23
Monster "belabra" : 58
{
Image: bright blue 'X'; Size: 4; Arm: 10;
CR: 4; HD: 4; Hit: +3; Def: 12; Mov: 70%; Spd: 70%;
Str 14, Dex 15, Con 13, Int 2, Wis 12, Cha 11;
Attk: 14 for 1d4 13 and 1d8+2 18 (DC 19),
7 for 1d3 12,
32 for 1d6 13;
Stati[39,42,6];
Feats: 32, 36, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 66, 3, 4, 7, 27,
13;
Spells: $"slow", $"phase door", $"blur";
Desc: "The belabra, or tangler beast, appears as a jellyfish-like
      creature, the soft core of its body being covered by a hard
      shell. Two eyestalks protrude from its body, along with six
      tentacles. The belabra flies magically.";
On Event ((20+2000)+1000) {
if (!EActor->isBeside(EVictim))
return 0;
VPrint(e,"White, sticky blood sprays from your body!",
"White, sticky blood sprays from the <EVictim>'s body!");
if (EActor->SavingThrow(1,15))
DPrint(e, "You avoid being splashed.",
"The <EActor> avoids being splashed.");
else {
EActor->GainTempStati(3,NULL,2d6,6);
DPrint(e, "You are blinded by the blood spray!",
"The <EActor> is blinded by the blood spray!");
}
return 0;
};
}


Monster "cellar dwellar" : 11, 58
{
Image: blue 'h'; Size: 3;
CR: 3; HD: 4; Hit: 4; Def: 14; Mov: 150%; Spd: 120%;
Str 7, Dex 16, Con 13, Int 9, Wis 11, Cha 12;
Attk: 7 for 1d3 12 and 1d4+1 43,
6 for 1d2 11,
6 for 1d2 11,
43 for 1d4 24 (DC 13);
Stati[39,66,1];
Stati[39,42,6];
Feats: ((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 20, 32, 36, 44;
Flags: 36, 55, 76, 55, 92,
52, 49, 53;
Spells: $"cause fear", $"shadow step";
Resists: 0x00000001, 0x00000002;
Immune: 0x00008000, 0x04000000, 0x00020000;
Desc: "Known as the bone crusher for its eating habits, the
      hideous cellar dweller is a malevolent being of pure
      evil. The cellar dweller resembles a small ogre with
      olive flesh and sparkling white pupils. It dwells in
      the dark, cramped spaces in the cellar and under
      furniture, waiting for an opportunity to slay
      innocents and spread mayhem.
        This wicked creature exists only to torment and
      consume other beings. It seems to have been
      created by an evil entity or perhaps a priest, and is
      incapable of breeding. Indeed it is almost never
      found in the company of its own kind.
        A cellar dweller has a number of innate magical
      abilities that make it a highly dangerous foe, in
      spite of its diminutive stature. Staring into the eyes
      of this creature can cause temporary blindness. The
      bite of the blackened fangs of this beast will cause
      a numbing weakness to quickly spread through the
      body.
        While it has an all-consuming, bloodthirsty nature,
      it has no need to consume food and can survive
      indefinitely in all but the most extreme
      environments.";
}

Monster "chuul" : 58, 31, 52
{
Image: blue 'X'; Size: 5;
CR: 10; HD: 11; Hit: +12; Def: 10; Mov: 100%; Spd: 155%; Arm: 10;
Str 20, Dex 16, Con 18, Int 10, Wis 14, Cha 5, Luc 18;
Attk:
6 for 2d6+5 11,
6 for 2d6+5 11,
14 for 1d8+2 18 (DC 19),
14 for 1d8+2 18 (DC 19),
32 for 3d6+5 13;
Stati[39,42,6];
Immune: 0x00000010;
Feats: ((49 + 1) + 5), ((49 + 1) + 25), (((49 + 1) + 32) + 14),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 32, 44, 36;
Flags: 3, 52, 49, 30;
Desc: "A horrible mix of crustacean, insect, and serpent, the chuul is
      an abomination that lurks submerged or partially submerged, awaiting
      intelligent prey to devour. Although amphibious, chuuls are not good
      swimmers and actually prefer to be on land or in very shallow water
      when they attack. A chuul is about 8 feet long and weighs 650 pounds.
      Chuuls speak Common (or Undercommon, for the underground variety).";
}

Monster "cloaker" : 58
{ Image: blue 'X'; Size: 5;
CR: 4; HD: 4; Hit: 3; Def: 15; Mov: 125%; Spd: 100%;
Str 21, Dex 16, Con 17, Int 14, Wis 15, Cha 15;
Attk: 7 for 1d4 11,
24 for 1d6 13,
21 for 66 (DC 15),

47 for 2d1 28 (DC 15),
47 for 1d4+1 17 (DC 15);
Stati[39,42,6];
Immune: 0x00000200;
Feats: 18, 32, 44, 36, 11,
6, 3, ((((49 + 1) + 32) + 50) + 35), (((((49 + 1) + 32) + 50) + 38) + 7);
Flags: 3, 2, 4, 30, 66,
36, 12, 8, 48;
Spells: $"phantasmal force", $"blur", $"mirror image";
Desc: "An intelligent and canny Underdark race, cloakers resemble
      land-dwelling manta rays. Their bodies are surprisingly light,
      and their flight is graceful, belying their great strength. When
      face down and still, a cloaker can resemble a dark navy cloak,
      hence their name. Their innate magic originates in their ability
      to manipulate, animate and shape shadows.";
On Event 213 "wail" / "wails";
}

Monster "disir" : 58, 87
{ Image: grey 'X'; Size: 4;
CR: 5; HD: 5; Hit: 3; Def: 13; Mov: 100%; Spd: 125%;
Str 14, Dex 12, Con 14, Int 13, Wis 11, Cha 7; Arm: 3;
Attk: 6 for 1d6 11 and 60 (DC 14),
6 for 1d6 11 and 60 (DC 14),
7 for 1d8 12 and 60 (DC 14);
Stati[39,42,6];
Resists: 0x00000001;
Feats: 7, 13, 18, 32, 36, 44,
48,
((49 + 1) + 5), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 51, 49, 1, 3, 36,
8;
Desc: "The disir are a race of subterranean creatures known for their
    disgusting appearance and hateful disposition.";
Poison: $"disir venom";
}

Poison "disir venom" : 4
{
Level: 2;
cval: 1;
sval: 14;
lval: 2;
xval: 51; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Dexterity damage every 
      <11>turn<7>, and requires <11>2<7> saving throws against <11>DC 14<7> 
      to overcome.";
}

Monster "magori" : 58, 87
{ Image: bright red 'X'; Size: 5;
CR: 9; HD: 8; Hit: 6; Def: 10; Mov: 75%; Spd: 140%;
Str 20, Dex 16, Con 17, Int 12, Wis 14, Cha 6; Arm: 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
7 for 1d4 12 and 60 (DC 19);
Stati[39,79,5];
Stati[39,13,6];
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((49 + 1) + 32) + 50) + 32),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 20, 32, 44, 45;
Flags: 55, 104, 30, 38,
52, 49, 1, 36,
8;
Desc: "This hideous bipedal creature resembles a ten-foot-tall
    crayfish with a bundle of five alien red eyes on stalks, and a long
    flexible snout filled with many jagged rows of fangs. Magori are
    crab-like creatures that known only hate and live to destroy sentient
    life.";
On Event ((20+2000)+1000) {
if (!EActor->isBeside(EVictim))
return 0;
VPrint(e,"Acidic blood sprays from your body!",
"Acidic blood sprays from the <EVictim>'s body!");
if (EActor->SavingThrow(1,17))
DPrint(e, "You avoid being splashed.",
"The <EActor> avoids being splashed.");
else {
ThrowDmg(41,3,2d4,"magori blood",EVictim,EActor);
}
return 0;
};
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->isType(58) && h->QualityOK(13))
h->AddQuality(13);
}
if (EActor->x > 0) {
ThrowEff(36,$"obscurement",EActor,EActor);
}
};
Poison: $"magori venom";
}

Poison "magori venom" : 4
{
Level: 6;
cval: 1;
sval: 19;
lval: 2;
xval: 52; pval: 2d6;
Desc: "This poison inflicts <11>2d6<7> points of Constitution damage every 
      <11>turn<7>, and requires <11>2<7> saving throws against <11>DC 19<7> 
      to overcome.";
}
#line "mon3.irh" 244
Monster "ethereal filcher" : 48, 58
{
Image: azure 'O'; Size: 4;
CR: 3; HD: 5; Hit: +5; Def: 13; Mov: 150%; Spd: 100%;
Str 10, Dex 18, Con 11, Int 4, Wis 12, Cha 10;
Attk: 7 for 1d4 13,
9 for 36 (DC 18);
Stati[39,61,3];
Stati[39,42,6];
Stati[39,72,6];
Flags: 79, 4, 66, 57, 55;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 38, 44,
36;
Desc: "These freakish interplanar pickpockets have no malign
      intelligence, but have spelled ruin for more than one adventurer
      none the less due to their penchant for stealing (and, one must
      imagine, later eating) magical items. Able to phase in and out
      of the etherial at will, the filcher has a truly bizarre anatomy.
      Standing on a single leg, their grey, bulbous body sports four 
      gangly, long-taloned arms, four tiny eyes on the belly, a thin
      and wormlike head and two mouths -- one of the head, and one on
      the belly. Filchers tend to be more playful than aggressive, and
      will flee an encounter if seriously wounded.";
}

Template "ethereal;template" : 0x0100 for 91
{ CR: +3 (Min 2);
Image: gray 0; MType: 48;
Attk: 9 for 1d2 13;
Flags: 9, -2;
Desc: "Ethereal creatures have been trapped by magical mischance or
      ill fortune in the ethereal plane.";
On Event 155 {
if (EActor->HasMFlag(9) ||
EActor->HasAbility(61))
return -1;
else
return 0;
};
}

Monster "feyr" : 58
{
Image: bright blue 'X'; Size: 3; Mana: 85;
CR: 4; HD: 7; Hit: 5; Def: 13; Mov: 75%; Spd: 75%;
Str 7, Dex 16, Con 10, Int 5, Wis 12, Cha 7;
Attk: 7 for 1d4 13
and 3d4 28 (DC 17),
14 for 1d3 13,
14 for 1d3 13,
14 for 1d3 13,
14 for 1d3 13,
14 for 1d3 13;
Stati[39,42,6];
Stati[39,91,12];
Stati[39,4,3];
Stati[124,18,+4];
Stati[124,44,+4];
Stati[118,18,25];
Feats: 18, 32, 36, 44,
((((49 + 1) + 32) + 50) + 35), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Spells: $"cause fear", $"scare", $"invisibility", $"emotion",
$"fly", $"mage armor", $"minor drain";
Flags: 52, 49, 3, 8;
Desc: "Feyrs are strange aberrations that feed on the fear and
      nightmares of other sapient creatures. Often they are discovered
      as the literal 'monster under the bed', plauging young human
      children. They look like plump blobs
      with mottled pastel blue and pink skin, and dozens of chubby
      tentacles. They have multiple mouths and eyes, placed seemingly
      arbitrarily over the surface of their bodies.";
On Event ((41+2000)+500) {
if (e.DType == 9)
e.vDmg *= 3;
return 0;
},
209
"It suffers triple damage from light-based attacks.";
}

Monster "floating eye" : 7
{
Image: grey 'e'; Size: 2; Depth: 2;
CR: 2; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 8;
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Immune: 0x00000080;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks.";
}

Monster "greater floating eye" : 7
{
Image: white 'e'; Size: 2; Depth: 2;
CR: 5; HD: 3; Hit: +0; Def: 15; Mov: 100%; Spd: 100%;
Str 2, Dex 14, Con 12, Int 3, Wis 15, Cha 12;
Attk: 43 for 1d8 18 (DC 16),
43 for 2d4 8,
102 for $"floating eye";
Stati[124,44,9];
Stati[124,41,9];
Stati[39,42,9];
Immune: 0x00000080;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is slightly
      tougher and more perceptive than its peers.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "seven eyes" : 7, 58
{
Image: purple 'e'; Size: 2; Depth: 2;
CR: 11; HD: 7; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 1d8 18 (DC 14),
43 for 14d4 8;
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Immune: 0x00000080;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular creature is actually
      a ring of seven separate floating eyes revolving in a tight
      formation and linked by short, pulsing veins. Even among eye
      creatures it is an abomination.";
}

Monster "blurry eye" : 7
{
Image: brown 'e'; Size: 2; Depth: 2;
CR: 6; HD: 3; Hit: +0; Def: 15; Mov: 100%; Spd: 100%;
Str 2, Dex 14, Con 12, Int 3, Wis 15, Cha 12;
Attk: 43 for 4d2 26 (DC 16),
43 for 4d2 17 (DC 16),
43 for 4d2 25 (DC 16),
43 for 2d2 61 (DC 16),
43 for 2d4 8,
102 for $"floating eye";
Stati[124,44,9];
Stati[124,41,9];
Stati[39,42,9];
Mana: 50; Spells: $"blur", $"blink", $"mirror image", $"displacement";
Immune: 0x02000000, 0x00010000, 0x01000000;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye has a baleful
      and unsettling visage but lacks the power of true paralysis.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};

}

Monster "eye of the storm" : 7
{
Image: blue 'e'; Size: 2; Depth: 2;
CR: 6; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 4,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"electric loop", $"lightning bolt";
Immune: 0x00000008;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 17);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 45, 39;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is surrounded
      by a small, whirling vortex of storm clouds.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "ice blue eye" : 7
{
Image: azure 'e'; Size: 2; Depth: 2;
CR: 5; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 2,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"icelance", $"chill metal";
Immune: 0x00000002;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 16);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 42;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is surrounded
      by a small, whirling vortex of icicles.";
On Event (49+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "bloodshot eye" : 7
{
Image: red 'e'; Size: 2; Depth: 2;
CR: 1/2; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 90,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"scorcher", $"heat metal";
Immune: 0x00000001;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 15);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 41;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is lined 
      with pulsing, bloodshot veins.";
On Event (41+500) {
if (e.DType == 90) {
e.eID = $"burning blood";
e.vCasterLev = EActor->ChallengeRating();
e.DType = 1;
ReThrow(52,e);
return 1;
}
return 0;
},
209
"Its gaze has the effect of a <1>Burning Blood<7> spell on any
        victim within range, recurring every 1d4+1 rounds.";
On Event (49+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "eye of the abyss" : 7
{
Image: shadow 'e'; Size: 2; Depth: 2;
CR: 3; HD: 1; Hit: +0; Def: 13; Mov: 50%; Spd: 100%;
Str 2, Dex 12, Con 10, Int 3, Wis 15, Cha 8;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 73,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,6];
Mana: 50; Spells: $"false life", $"blackmantle";
Immune: 0x00000020;
Feats: 44, 41, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 14);
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. This particular floating eye is completely
      black.";
On Event (49+1000), (37+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "floating eyesocket" : 7, 60
{
Image: yellow 'e'; Size: 2; Depth: 2;
CR: 5; HD: 2; Hit: +0; Def: 13; Mov: 30%; Spd: 100%;
Str 2, Dex 12, Wis 14, Cha 2;
Attk: 43 for 1d8 18 (DC 14),
43 for 2d4 8,
102 for $"floating eye";
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,12];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000080;
#line "mon3.irh" 567
Resists: 0x00000800, 0x00000400;
Feats: 44, 41, 36;
Flags: 3, 4, 7, 12, 2, 66,
90, 92, 55, 44,
32, 33, 49, 89, 19;
Desc: "A terrible magical accident, it isn't known where these
      eye creatures originate from. Appearing as a disembodied eye
      the size of a fist, its gaze can freeze even the stoutest soul
      dead in their tracks. To make matters worse, this particular floating
      eye has been brought back from the grave and now serves as a
      mindless, undead evil.";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Template "three-eyed" : 0x0008 for 91
{ CR: +3;
MType: 7; Flags: 107;
Desc: "This creature has grown or been granted a third eye in the
    center of its forehead.";
Attk: 43 for 1d8 26 (DC 14);
Stati[124,44,6];
Stati[124,41,6];
Stati[39,42,3];
On Event (49+1000) {
if (e.AType == 43)
EActor->IdentifyTemp($"three-eyed");
return 0;
},
155 {
if (EActor->HasMFlag(6) ||
EActor->HasMFlag(4) ||
EActor->HasAttk(43))
return -1;
else
return 0;
};
}

Monster "scryer" : 7
{
Image: green 'e'; Size: 3;
CR: 3; HD: 7; Hit: +2; Def: 14; Mov: 50%; Spd: 70%;
Str 6, Dex 11, Con 8, Int 14, Wis 16, Cha 12;
Attk: 7 for 1d3 12;
Stati[39,42,6];
Spells: $"inflict light wounds;ray", $"cause blindness;ray",
$"magic missile", $"reduce;ray", $"scorcher";
Flags: 3, 4, 12, 2, 66,
97, 90;
On Event 36 {



if (GetHandle(EActor) == GetHandle(EVictim) || !(GetHandle(EVictim)))
DPrint(e,"You fire an eye ray at yourself.",
"The <EActor> fires an eye ray at itself.");
else
TPrint(e,"You fire an eye ray at the <EVictim>.",
"The <EActor> fires an eye ray at you.",
"The <EActor> fires an eye ray at the <EVictim>.");
EActor->Timeout += 3;
return ReThrow(52,e);
};

Desc: "These tiny beings are flawed beholders born with genetic
      abberations. Due to the intense conformity and xenophobic
      focus on blood purity that race possesses, these creatures
      are thaumaturgically frozen eternally in an infant state and 
      used by healthy adult beholders as spies, attendants and lackies. 
      A scryer is notoriously craven, and appears as a baseball-sized 
      fleshy sphere with four tiny eyestalks.";
}

Effect "Reduce;ray" : 3
{ 0x00000080; Base: 85; Cost: 3; Level: 1; qval: 0x0004; sval: 0;
Purpose: 0x00001; xval: 106; yval: 25; pval: -1;
Desc: "Causes a target creature to become smaller, lowering their
      size catagory by one level."; aval: 2; cval: 10;
Flags: 82;
On Event 28 {
if (EVictim->GetAttr(25) == 1)
{
EActor->IPrint("You can't get any smaller!");
return 1;
}
if (EVictim->HasEffStati(106,$"enlarge")) {
EVictim->RemoveEffStati($"enlarge");
return 1;
}
return 0;
};
}

Effect "Inflict Light Wounds;ray" : 1
{ 0x00000040; Base: 90; Cost: 2; Level: 1; aval: 2;
xval: 6; pval: 1d8 + -122; cval: 1;
Purpose: 0x00001; qval: 0x0004; Flags: 82;
On Event 28
"Wounds appear on your body!" /
"Wounds appear on the <EVictim>'s body!";
Desc: "Inflicts 1d8 + caster level (maximum 1d8+5) points of necromantic
      damage on the creatures struck by your eye ray.";
}

Effect "Cause Blindness;ray" : 3
{ 0x00000080; Base: 75%; Cost: 12; Level: 3; qval: 0x0004;
aval: 2; cval: 5; Flags: 82;
xval: 3; sval: 0; Purpose: 0x00004; Flags: 25;
Desc: "Blinds the target creature, assuming that they fail a
      Fortitude save."; }


Monster "frost slug" : 58, 31, 30
{
Image: bright blue 'w'; Size: 2;
CR: 1; HD: 2; Hit: +3; Def: 7; Mov: 30%; Spd: 100%;
Str 13, Dex 7, Con 15, Int 1, Wis 16, Cha 3;
Attk: 7 for 1d6 12,
31 for 2d6 0;
Stati[118,18,50];
Stati[39,95,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00000002;
Flags: 36, 3, 2, 4, 58,
26, 66, 42;
Desc: "These creatures resemble a cross between a slug, a
      leech and a serpent, and can grow to be the size of a
      housecat. They subsist by drinking the blood of living
      creatures, just like leeches, but their true form is
      rarely seen -- they have developed a kind of innate
      magical improved invisibility.";
Stati[100,2];
}

Monster "oxthixi" : 58
{
Terrain: 0x0080|0x0040|0x0400;
Image: bright red 'X'; Size: 6;
CR: 4; HD: 6; Hit: +3; Def: 8; Mov: 50%; Spd: 100%;
Str 14, Dex 14, Con 10, Int 8, Wis 10, Cha 7;
Attk: 14 for 1d4 13 and
63 (DC 13),
14 for 1d4 13 and
63 (DC 13),
14 for 1d4 13 and
63 (DC 13),
14 for 1d4 13 and
63 (DC 13),
30 for 3d8 13;
Stati[39,42,6];
Stati[39,91,3];
Stati[39,66,3];
Stati[124,44,-4];
Stati[124,45,+4];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 8), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
3, 11, 6, 28,
44, 45, 47;
Resists: 0x00000004, 0x00000002;
Flags: 36, 37, 4, 26, 7, 14,
52, 50, 46, 86, 54, 10;
Spells: $"Energy Containment", $"Biocurrent",
$"Chameleon Shifting", $"Cell Adjustment";
Desc: "The oxthixi are a race of sociable, energetic, psi-active 
      squid-like creatures, capable of travelling on land and wielding
      weapons with their prehensile tentacles. They are invertibrates,
      though they have keratin plates protecting their large, bulbous
      body from injury; they shed these plates every year or two much
      as young humans lose their baby teeth, though the process
      continues throughout their life. They have no head, but do 
      have a large eye in the center of their body, which
      is glossy black and lacks any pupil or iris. A keratin shield
      can slide over the eye much like an eyelid. A mature oxthixi
      typically measures 45 feet from tentacle-tip to tentacle-tip.\n
      __Their society is based around large, polyamorous families of
      three to five oxthixi; gender is of little concern since most
      oxthixi are bisexual. Their young are abandoned after the fifth
      year of life, allegedly to fend for themselves -- though their
      parents frequently continue to watch over the children covertly
      in defiance of the custom. Oxthixi do not speak, but can
      communicate among themselves with a tentacle gesture language,
      and among others with telepathy. Their excessively playful
      nature is often mistaken by humanoid peoples for hostility,
      and these creatures are frequently slain by adventurers and
      caravan guards. They are sometimes known to ally with the
      grippli.";
Gear:
10% 3d6 $"javelin" of random 0 to 2 else
50% 3d6 $"javelin",
10% $"amulet" of random 1 to 6,
50% $"wand" of random 1 to 6,
50% $"wand" of random 1 to 6;
}

Monster "hook horror" : 58, 31
{
Image: grey 'X'; Size: 5; Arm: 8;
CR: 6; HD: 5; Hit: +4; Def: 12; Hit: 3; Mov: 60%; Spd: 80%;
Str 20, Dex 13, Con 17, Int 7, Wis 13, Cha 12;
Attk: 6 for 1d8 12,
6 for 1d8 12,
7 for 1d10 12;
Stati[39,13,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
44, 32, 7;
Flags: 36, 26, 3, 14, 55;
Desc: "Standing over nine feet tall and weighing more than 350
      pounds, the hook horror is a terrible Underdark predator. 
      Resembling a cross between a beetle and a vulture, the hook
      horror has razor-sharp hooks on the end of each of its arms,
      and three smaller hooks in the position of toes on each foot.
      Its carapice is rock-hard, and while its multifaceted eyes
      are very poor its hearing is simply unearthly.";
}

Monster "mind flayer" : 42, 58
{
Image: purple 'I'; Size: 4; Mana: 15;
CR: 5; HD: 8; Hit: +4; Def: 13; Mov: 100%; Spd: 100%;
Str 12, Dex 14, Con 12, Int 19, Wis 17, Cha 17;
Attk: 14 for 1d4 11,
32 for 2d8 12 and 1d6 46;
Stati[39,42,6];
Stati[118,18,65];
Stati[39,91,10];
Stati[118,13,+1];
Feats: ((((49 + 1) + 32) + 50) + 35), ((49 + 1) + 5), (((49 + 1) + 32) + 44),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 6,
8, 18, 20,
32, 36, 44;
Flags: 1, 49, 51, 8,
86, 12, 36;
Spells:
$"levitation",
$"charm monster",
$"emotion",
$"mind blast",
$"deep slumber";
On Event (41+500) {
if (e.DType == 46) {
if (EVictim->HasMFlag(33))
return 2;
if (e.vDmg >= EVictim->GetAttr(3)) {
TPrint(e,"You extract the <EVictim>'s brain.",
"The <EActor> extracts your brain.",
"The <EActor> extracts the <EVictim>'s brain.");
ThrowDmg(42,46,0,XPrint("having <his:hObj> brain eaten",EVictim),EActor,EVictim);
e.Died = true;
return 1;
}
}
};
}

Effect "Mind Blast" : 3
{ Level: 5; xval: 5; sval: 2; qval: 0x0001;
aval: 2; cval: 13; lval: 6;
Purpose: 0x00001; Flags: 82;
On Event 206 "Fwoomp!" / "Fwoomp!"; }

Monster "nothic" : 58
{ Image: brown 'X'; Size: 5; Mana 70;
CR: 4; HD: 5; Def: 10; Hit: +4; Mov: 135%; Spd: 80%;
Str 18, Dex 12, Con 19, Int 5, Wis 13, Cha 8;
Attk: 43 for 1d8 6,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,42,12];
Resists: 0x00000002; Immune: 0x00000020, 0x04000000;
Feats: (((((49 + 1) + 32) + 50) + 38) + 27), (((49 + 1) + 32) + 44), 44;
Flags: 49, 66, 90, 61;
On Event (41+500) {
if (e.AType == 43)
if (e.DType == 6)
if (EVictim->ResistLevel(6) != -1)
VPrint(e,"Your flesh rots!","The <EVictim>'s flesh rots!");
return 0;
},
165 {
EActor->GainPermStati(124,NULL,3,44,+4,$"nothic");
return 0;
},
209
"It has a +4 racial bonus to Spot checks.";
Desc: "Nothics are a race of subterranian scavengers who dwell in 
      lightless caverns deep beneath the earth and prefer to feed upon
      rotted carrion. They are only vaguely humanoid, with thick tan
      hides, muscular legs, spindly arms and a stooped, awkward posture.
      Their arms are long enough that their hands drag along the ground
      as they walk. The face of a nothic is dominated by a single huge
      eye -- a glossy orb a foot across, with a hypnotic, unnatural
      spiral pattern swirling within the vast pupil.";
}
#line "mon3.irh" 874
Monster "mind flayer warrior" : 42, 58
{
Image: pink 'I'; Size: 4; Mana: 15;
CR: 10; HD: 8; Hit: +8; Def: 13; Mov: 100%; Spd: 140%;
Str 18, Dex 14, Con 18, Int 17, Wis 12, Cha 12;
Attk: 14 for 1d4 11,
14 for 1d4 11,
32 for 2d8 12 and 1d6 46,
102 for $"mind flayer";
Stati[39,42,6];
Stati[118,18,65];
Stati[39,91,10];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 29), (((((49 + 1) + 32) + 50) + 38) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 22),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),

4, 18, 32, 36, 44;

Flags: 1, 49, 51, 8, 86,
36, 12;

Gear: $"kite shield" of random 1 to 2,
$"field plate armor" of random 1 to 2,
5d2 $"potion" of $"extra-healing",
5d2 $"potion" of $"dimension door";

On Event (41+500) {
if (e.DType == 46) {
if (EVictim->HasMFlag(33))
return 2;
if (e.vDmg >= EVictim->GetAttr(3)) {
TPrint(e,"You extract the <EVictim>'s brain.",
"The <EActor> extracts your brain.",
"The <EActor> extracts the <EVictim>'s brain.");
ThrowDmg(42,46,0,XPrint("having <his:hObj> brain eaten",EVictim),EActor,EVictim);
e.Died = true;
return 1;
}
}
},
(20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "mind flayer mage" : 42, 58
{
Image: skyblue 'I'; Size: 4; Mana: 15;
CR: 10; HD: 8; Hit: +4; Def: 13; Mov: 100%; Spd: 100%;
Str 10, Dex 12, Con 14, Int 21, Wis 19, Cha 15;
Attk: 14 for 1d4 11,
32 for 2d8 12 and 1d6 46,
102 for $"mind flayer";
Stati[39,42,6];
Stati[39,82,8];
Stati[118,18,65];
Stati[39,91,10];
Feats:
(((49 + 1) + 32) + 11), (((49 + 1) + 32) + 26), ((((((49 + 1) + 32) + 50) + 38) + 30) + 15), ((((49 + 1) + 32) + 50) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),

8, 18, 32, 36, 44;

Flags: 1, 49, 51, 8, 86,
90, 36, 12, 111;
Spells: $"levitation", $"charm monster", $"suggestion",
$"emotion", $"mind blast";
On Event (41+500) {
if (e.DType == 46) {
if (EVictim->HasMFlag(33))
return 2;
if (e.vDmg >= EVictim->GetAttr(3)) {
TPrint(e,"You extract the <EVictim>'s brain.",
"The <EActor> extracts your brain.",
"The <EActor> extracts the <EVictim>'s brain.");
ThrowDmg(42,46,0,XPrint("having <his:hObj> brain eaten",EVictim),EActor,EVictim);
e.Died = true;
return 1;
}
}
},
(37+1000) {
EActor->IdentifyMon();
return 0;
};
Gear: 5d2 $"potion" of $"extra-healing",
5d2 $"potion" of $"*mana*",
$"wand" of random 3 to 4,
5d2 $"potion" of $"dimension door";
Lists:
* 21
(50 + 1000);
}

Monster "quylthulg" : 50, 58
{ Image: pink 'Q'; Size: 6; Mana: 60; Depth: 7;
CR: 6; HD: 7; Def: 12; Hit: +0; Mov: 0%; Spd: 80%;
Str 5, Dex 4, Con 22, Int 8, Wis 13, Cha 10;
Stati[39,95,12];
Immune: 0x00000004, 0x08000000, 0x00800000, 0x02000000, 0x00100000, 0x00008000;
Resists: 0x00000002, 0x00000020;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), 44, 32;
Flags: 2, 3, 4, 52, 43,
28, 29, 44, 66, 90;
Spells: $"blink", $"dimension door", $"monster summoning III";
On Event 32 {
EActor->GainMana(3);
return 0;
},
209
"It regenerates mana at a rate of three points per round. It is
        innately invisible.";
Desc: "When these strange and naturally invisible creatures are 
      actually seen, they appear as a pulsing mound of flesh crusted
      with odd fleshy orbs. They are inherantly magical, defending
      themselves by innate invisibility, teleportation and calling
      other creatures to their aid.";
}

Monster "tentacle stalker" : 58
{ Image: green 'X'; Size: 6;
CR: 7; HD: 9; Hit: +9; Def: 20; Mov: 200%; Spd: 175%;
Str 19, Dex 17, Con 17, Int 2, Wis 14, Cha 12;
Attk: 14 for 1d6 11,
14 for 1d6 11,
32 for 1d8 13;
Stati[39,66,10];
Stati[39,94,12];
Stati[39,42,6];
Stati[39,95,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((49 + 1) + 32) + 14), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33),
45, 18, 36,
48;
Flags: 3, 4, 7, 31, 8,
73, 14, 66, 55;
Spells: $"obscurement", $"ray of enfeeblement", $"dimension door",
$"monster summoning IV", $"wall of thorns", $"dominate animal";
Desc: "This terrible cephalopod vaguely resembles a giant squid,
      but it's better described as a cloud of fast, strong tentacles
      in the water -- its actual body is rarely seen, obscured by the
      literal dozens of tentacles this creature possesses. Tentacle 
      stalkers are canny predators with an instinctive understanding
      of magic and a xenophobic aggression toward anyone who dares to
      disturb their slumber.";
}

Monster "umber hulk" : 58
{
Image: brown 'X'; Size: 5; Arm: 12;
CR: 7; HD: 8; Hit: +6; Def: 12; Mov: 75%; Spd: 75%;
#line "mon3.irh" 1036
Str 23, Dex 13, Con 19, Int 2, Wis 11, Cha 13;
Attk: 43 for 3d4 26 (DC 15),
6 for 1d12 11,
6 for 1d12 11,
7 for 2d8 11;
Stati[39,95,6];
Stati[39,96,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 22, 7, 32;
Flags: 3, 6, 14, 66, 55,
26, 27, 11, 36;
Desc: "Umber hulks are strange subterranian creatures that resemble
      a hybrid of an ape and a beetle. They have a thick, chitinous
      shell and two sets of eyes, the larger ones segmented like a fly's.
      Umber hulks are dangerous and irascible creatures, but are
      sometimes trained or tamed by illithids, drow or other races
      of the Underdark.";
}

Template "pseudonatural" : 0x0200 for 91
{
Desc: "In the spaces between shadows, beyond the edges without
      corners, there lay in wait unimaginable things. Visitors to
      our reality from truly distant lands, pseudonatural creatures
      are inscrutable and arcane, to the point that even looking at
      the true form of such a being can sunder the fragile human
      mind. They are not evil, not truly, but their nature is so
      utterly alien to everything native to Theyra that encounters
      with them most often end in violence. Followers of Kysul have
      some greater understanding of these beings, and may be able
      to negotiate with them. The best anyone else can hope to do
      is survive with body and sanity intact.";
Glyph: pink 0; MType: 48;
CR: +4 (Min 7); HD: +3; Hit: +2;
Caster Level: +2; Power: +2;
Dex +4, Int +8, Wis +6, Cha +4;
Attk: 14 for 1d8 11
and 63 (DC 16),
14 for 1d8 11
and 63 (DC 16),
111 for 66 (DC 16),
37 for 2d6 3,
43 for 6d12 28 (DC 20)
and 1d6 53 (DC 16),
22 for 0d0 27 (DC 16);
Spells: $"true strike", $"distance distortion",
$"evard's black tentacles",
$"displacement", $"confusion";
Stati[39,31,12];
Stati[39,105,+2];
Stati[118,18,35];
Stati[125,2];
Stati[125,3];
Stati[108,27,+6];
Disease: $"blinding sickness", $"cackle fever", $"mindfire";
On Event 49 {
if (e.AType == 43)
if (EVictim->isCharacter())
if (EVictim->GodID == $"Kysul")
return 2;
return 0;
},
(19+1000), (36+1000) {
if (e.Event == 36 || e.AType == 14)
EActor->IdentifyTemp($"pseudonatural");
return 0;
};
Resists: 0x00000004, 0x00000200;
Flags: 8, !49, !51, !52,
!50, !35, 10, 55;
#line "mon3.irh" 1114
}
#line "mon3.irh" 1124
Monster "yellow light" : 29
{
Image: bright yellow 'v'; Size: 3;
CR: 2; HD: 1; Hit: 1; Def: 17; Mov: 160%; Spd: 100%;
Dex 16, Con 10, Int 3, Wis 12, Cha 10;
Attk: 45 for 7d10 24 (DC 17);
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 7, 2, 55, 47,
5, 9, 6, 88, 12, 23;
Desc: "This odd creature results from chaotic magical experimentation.
      A wisp of yellow luminescance, it is attracted to warm-blooded
      creatures within 180 feet (18 squares) and explodes in a blinding
      flash of light when it comes in contact with another creature.";
Stati[134,77,18];
}

Monster "mote of frost" : 29, 38
{
Image: bright blue 'v'; Size: 2;
CR: 3; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 25 (DC 18),
53 for 1d6 2,
52 for 2d6 2 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 23, 4, 42;
On Event 1, 19 {
if (!GetHandle(EActor))
return 0;
if (EActor->isDead())
return 0;
if (!EMap->SolidAt(EActor->x,EActor->y) &&
!EMap->FallAt(EActor->x,EActor->y))
EMap->WriteTerra(EActor->x,EActor->y,$"ice floor");

if (GetHandle(EVictim))
if (!EVictim->isDead())
if(!EMap->SolidAt(EVictim->x,EVictim->y) &&
!EMap->FallAt(EVictim->x,EVictim->y))
EMap->WriteTerra(EVictim->x,EVictim->y,$"ice floor");

} ;
Desc: "This strange quasi-elemental is surrounded by an intense field
    of cold. It leaves a trail of rimey permafrost in its path.";
}

Monster "mote of fire" : 29, 38
{
Image: bright red 'v'; Size: 2;
CR: 4; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 26 (DC 18),
53 for 1d6 1,
52 for 2d6 1 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 41, 23, 4;
On Event 1, 19 {
if (!GetHandle(EActor) || EActor->isDead())
return 0;
if (!EMap->SolidAt(EActor->x,EActor->y)) {
EMap->WriteTerra(EActor->x,EActor->y,$"brimstone");
}
if (GetHandle(EVictim) && !EVictim->isDead() &&
!EMap->SolidAt(EVictim->x,EVictim->y)) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"brimstone");
}
} ;
Desc: "This strange quasi-elemental is surrounded by an intense field
    of heat. It leaves a trail of melted brimstone in its path.";
}

Monster "mote of negative energy" : 29, 38, 48
{
Image: shadow 'v'; Size: 2;
CR: 5; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 28 (DC 18),
53 for 1d6 73,
52 for 2d6 6 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4;
Desc: "This strange quasi-elemental sucks in life from its
    surroundings, leaving only emptiness behind.";
}

Monster "mote of pure magic" : 29, 38
{
Image: purple 'v'; Size: 2;
CR: 4; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14; Depth: 5;
Attk: 9 for 1d2 33 (DC 18),
53 for 1d6 8,
52 for 2d6 8 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000, 0x00000080;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4, 44;
Desc: "This strange quasi-elemental appears to be made of pure magical
    energy. Its can drain mana from nearby creatures and it
    redistributes that energy in a harmful way to its surrounding
    environment.";
On Event ((28+500)+2000) {
e.Immune = true;
return 1;
},
209
"It is completely immune to magical effects.";
}

Monster "mote of vacuum" : 29, 38
{
Image: grey 'v'; Size: 1;
CR: 3; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 1d2 17 (DC 18),
53 for 1d6 62,
52 for 2d6 62 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4, 44;
Desc: "This strange quasi-elemental appears to be a pinprick-sized
    complete absence of anything. It draws air into itself at a furious
    rate, causing nearby breathing creatures to choke and suffocate.";
}

Monster "mote of entropy" : 29, 38
{
Image: brown 'v'; Size: 2;
CR: 3; HD: 1; Hit: 1; Def: 15; Mov: 100%; Spd: 100%;
Dex 16, Wis 14;
Attk: 9 for 8d6 39 (DC 18),
53 for 1d6 52,
52 for 16d6 39 (DC 20);
Stati[39,42,9];
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00000020, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 39, 23, 4, 40;
Desc: "This strange quasi-elemental accelerates the natural process of
    decay and disintegration in its immediate vicinity.";
}

Monster "ball lightning" : 29, 38
{
Image: magenta 'v'; Size: 4;
CR: 8; HD: 2; Hit: 1; Def: 15; Mov: 300%; Spd: 100%;
Dex 20, Wis 14;
Attk: 9 for 1d2 17 (DC 18),
50 for 1d20 4,
52 for 2d20 4 (DC 20);
Stati[39,42,9];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 27);
Immune: 0x00100000, 0x00400000, 0x00000001, 0x00000002, 0x00080000,
0x00000004, 0x00000010, 0x00000008, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 33,
55, 5, 9, 88, 12,
57, 23, 4, 45;
Desc: "This strange quasi-elemental is widely reviled by adventurers.
    A mindless force of nature, it is difficulty to kill and inflicts
    damage with an apparent capriciousness." ;
}

Template "turbulent" : 0x0008 for 29 {
CR: +3;
Size +1 (Min 6); Spd: +5; Mov: +5; HD: +2;
Stati[39,66,1];
Desc: "This particular vortex is larger than normal and swirls with
  immense, thrashing currents of power. It seems to draw substance and 
  force from parts unknown. It spinning size and speed make it
  difficult to escape.";
On Event (19+1000) {
EActor->IdentifyTemp($"turbulent");
return 0;
};
On Event 155 {
if (EActor->HasAttk(45)) return -1;
else
return 1;
} ;
}

Monster "will-o'-wisp" : 29, 58
{
Image: bright white 'v'; Size: 3;
CR: 9; HD: 8; Hit: +6; Def: 19; Mov: 150%; Spd: 145%;
Str 1, Dex 29, Con 10, Int 15, Wis 16, Cha 12;
Attk: 9 for 2d8 4;
Stati[39,42,6];
Feats: 6, 11, 20, 32, 41,
44,
((49 + 1) + 5), ((49 + 1) + 25), (((49 + 1) + 32) + 44), (((((49 + 1) + 32) + 50) + 38) + 27);
Immune: 0x00100000, 0x00400000, 0x00000010, 0x00040000, 0x00200000, 0x00008000;
Flags: 66, 3, 2, 5, 12, 88,
73, 4, 45;
Desc: "Will-o'-wisps can be yellow, white, green, or blue. They are
    easily mistaken for lanterns, especially in the foggy marshes and
    swamps where they reside. A will-o'-wisp's body is a globe of spongy
    material about 1 foot across and weighing about 3 pounds, and its
    glowing body sheds as much light as a torch.
    Will-o'-wisps speak Common and Auran. They have no vocal apparatus but
    can vibrate to create a voice with a ghostly sound.
    Will-o'-wisps usually avoid combat. They prefer to confuse and bewilder
    adventurers, luring them into morasses or other hazardous places. When
    they are forced to fight, they loose small electrical shocks, which act
    as melee touch attacks. A will-o'-wisp is immune to most spells or
    spell-like abilities that allow spell resistance, except magic missile
    and maze.";
On Event 156, 32 {
if (!EActor->HasStati(100))
EActor->GainPermStati(100,NULL,3,2);
return 0;
},
209
"It is innately invisible and can turn invisible at will.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"magic missile":
return 0;
default:
e.Immune = true;
return 1;
}
return 0;
};
}
#line "mon3.irh" 1384
Monster "glass golem" : 40, 36
{
Image: white 'G'; Size: 5;
CR: 6; HD: 7; Hit: +5; Def: 13; Mov: 100%; Spd: 100%;
Str 16, Dex 12, Con 0, Int 0, Wis 11, Cha 1;
Attk: 19 for 2d8 11,
54 for 1d4 11;
Stati[39,42,6];
Stati[39,105,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Spells: $"color spray";
Flags: 1, 33, 7, 66, 56,
55;
On Event ((28+500)+2000) {
#line "mon3.irh" 1401
switch(e.eID) {
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
case $"force bolt":
e.vDmg *= 2;
return 0;
case $"color spray":
case $"color burst":
case $"chromatic orb":
e.eID = $"haste";
return 0;
case $"sunscorch":
case $"searing light":
if (EVictim->cHP < EVictim->mHP + EVictim->GetAttr(36))
{
VPrint(e,"You heal completely!",
"The <EVictim> heals completely!");
EVictim->cHP = EVictim->mHP + EVictim->GetAttr(36);
}
else
e.Immune = true;
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
32 {
int32 oHP; oHP = EActor->cHP;
if (EMap->BrightAt(EActor->x,EActor->y))
EActor->cHP = min((EActor->mHP + EActor->GetAttr(36))-EActor->cHP,
EActor->cHP + 3d8);
else if (EMap->LightAt(EActor->x,EActor->y))
EActor->cHP = min((EActor->mHP + EActor->GetAttr(36))-EActor->cHP,
EActor->cHP + 1d8);
if (oHP < EActor->cHP)
VPrint(e, "You regenerate!", "The <EVictim> regenerates!");
return 0;
},
1 {
if (EMap->FieldAt(EActor->x + DirX(e.EDir),EActor->y + DirY(e.EDir), 0x00010000))
if (!EMap->FieldAt(EActor->x,EActor->y, 0x00010000))
return 2;
return 0;
},
209
"It is immune to all direct magic spells, save that <9>shatter<7> will
          destroy it outright, <9>color spray<7>/<9>burst<7> will haste it,
          <9>force bolt<7> does double the normal damage and light-based spells 
          heal it fully. It heals 1d8 points of damage in lit areas and 3d8 points
          on damage in bright magical light. It will not willingly enter areas of
          absolute magical darkness.";
}

Monster "flesh golem" : 40, 36
{
Image: pink 'G'; Size: 5;
CR: 6; HD: 9; Hit: +7; Def: 15; Mov: 70%; Spd: 80%;
Str 21, Dex 9, Wis 11, Cha 1;
Attk: 19 for 2d8 13;
Stati[39,42,6];
Stati[39,105,2];

Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Flags: 1, 33, 7, 66, 56,
55, 18;
On Event ((28+500)+2000) {
if (e.eval == 1) {
if (e.xval == 1 || e.xval == 2) {
if (!EVictim->HasEffStati(-1,$"slow")) {
VPrint(e,"You feel yourself slowing down.","The <EVictim> slows down.");
EVictim->GainTempStati(106,EActor,2d6,2,54,-10,$"slow");
EVictim->GainTempStati(106,EActor,2d6,2,26,-10,$"slow");
EVictim->GainTempStati(117,EActor,2d6,2,27,-2,$"slow");
return 1;
}
} else if (e.xval == 4) {
if (EVictim->cHP == EVictim->mHP+EVictim->GetAttr(36))
break;
EVictim->cHP = min(EVictim->mHP+EVictim->GetAttr(36),
EVictim->cHP+e.vDmg);
if (EVictim->cHP == EVictim->mHP)
VPrint(e,"Your wounds heal fully!",
"The <EVictim>'s wounds heal fully!");
else
VPrint(e,"Your wounds heal!",
"The <EVictim>'s wounds heal!");
return 1;
}
}
e.Immune = true;
return 1;
},
209
"It is <9>slow<7>ed by fire or cold damage, healed by lightning, and immune to
    all other direct-effect spells.";
}
#line "mon3.irh" 1510
Monster "stone golem" : 40, 36
{
Image: grey 'G'; Size: 5;
CR: 9; HD: 14; Hit: +10; Def: 18; Mov: 70%; Spd: 100%;
Str 29, Dex 9, Wis 11, Cha 1;
Arm: 10; Attk: 19 for 2d8 13,
19 for 2d8 13;
Stati[39,42,6];
Stati[39,105,2];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Flags: 1, 33, 7, 66,
56, 53, 88;
Desc: "This golem has a humanoid body made from stone. A stone golem is
    9 feet tall and weighs around 2,000 pounds. Its body is frequently
    stylized to suit its creator. For example, it might look like it is
    wearing armor, with a particular symbol carved on the breastplate, or
    have designs worked into the stone of its limbs.
    Stone golems are formidable opponents, being physically powerful and
    difficult to harm.";
Spells: $"slow";
On Event ((28+500)+2000) {
#line "mon3.irh" 1535
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
if (!EVictim->HasEffStati(-1,$"slow")) {
VPrint(e,"You feel yourself slowing down.","The <EVictim> slows down.");
EVictim->GainTempStati(106,EActor,2d6,2,54,-10,$"slow");
EVictim->GainTempStati(106,EActor,2d6,2,26,-10,$"slow");
EVictim->GainTempStati(117,EActor,2d6,2,27,-2,$"slow");
return 1;
}
}
e.Immune = true;
return 1;
},
209
"It is <9>slow<7>ed by <9>transmute rock to mud<7>, <9>soften
      stone<7> and <9>shatter<7> and is immune to all other direct-effect
      spells.",
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
}



Monster "scarecrow" : 36
{
Image: brown 'C'; Size: 4;
CR: 1; HD: 2; Hit: +1; Def: 7; Mov: 75%; Spd: 75%;
Str 16, Dex 7, Con 0, Int 0, Wis 13, Cha 0;
Attk: 19 for 1d4 13,
19 for 1d4 13;
Stati[39,42,9];
Stati[118,18,50];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040,
0x00000002;
Flags: 33, 7, 66, 88, 56, 23,
55;
Spells: $"cause fear";
Desc: "A scarecrow is a magically animated figure composed of
      straw, also sometimes called a wicker man or straw golem
      (though it is not a true golem, being only partially resistant
      to magic).";
On Event (41+2000) {
if (e.AType == 65)
e.vDmg = (e.vDmg * 150) / 100;
return 0;
},
((41+2000)+1000) {
if (e.AType == 65)
if (!EVictim->isDead())
RedirectEff(e,$"Burn",52);
return 0;
},
209
"It takes 150~ damage from fire attacks, and may be set on fire 
        to burn for 1d4 damage per turn thereafter.";
}


Monster "repelling column" : 36
{
Image: grey 'C'; Size: 5;
CR: 4;
HD: 1; Hit: +1; Def: 0; Hit: 0; Mov: 0%; Spd: 60%; Arm: 20;
Str 0, Dex 0, Int 0, Wis 14, Cha 0; Mana: 400;
Stati[39,42,9];
Stati[39,91,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Flags: 33, 7, 66, 88, 56, 23,
55;
Spells: $"force bolt";
Desc: "This difficult-to-understand construct has been imbued with
           magical power and a single purpose: to keep all others away
           from itself. It is immune to most magical effects.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
}

Monster "caryatid column" : 36
{
Image: white 'C'; Size: 5;
CR: 3; HD: 8; Hit: +5; Def:7; Hit: 7; Mov: 0%; Spd: 60%; Arm: 20;
Str 18, Dex 12, Wis 8, Cha 13;
Attk: 1 for 1d8 13,
60 for 12d6 92;
Stati[39,95,6];
Stati[39,66,5];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Gear: cursed $"long sword" of random 1 to 2;
Feats: ((((49 + 1) + 32) + 50) + 13), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 33), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((49 + 1) + 32) + 50) + 38) + 9);
Flags: 33, 7, 66, 88, 56, 23;
Desc: "It's beautiful, really, in a sad way. The caryatid column
      is a statue of an alluring, introspective maiden, wielding a
      long sword, carved from a stone pillar affixed to the floor and
      ceiling and animated by a wizard's magic.";
On Event ((28+500)+2000) {
#line "mon3.irh" 1659
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
},
209
"It is immune to most magical effects, save for <9>shatter<7>, <9>soften
         stone<7> and <9>transmute rock to mud<7>, which cause it to shatter.";
}

Monster "clockwork horror" : 36
{ Image: bright cyan 'C'; Size: 5;
CR: 6; HD: 7; Def: 10; Hit: 5; Mov: 70%; Spd: 90%;
Str 21, Dex 8, Con 18, Int 2, Wis 8, Cha 10;
Attk: 19 for 1d8 13,
33 for 3d8 13;
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
41, 44, 9, 1;
Flags: 51, 53, 66, 14, 33;
Desc: "These horrors of steel and gears combine a wizard's
      talents with a clock-maker's craft, being ungainly tangles
      of shafts, spinwheels and mechanical limbs. They are
      inhumanly devoted to their commands, and left without a
      master they simply hunt down and crush any biological
      creatures in their area with terrible precision.";
}



Monster "necrophidius" : 36, 52
{
Image: grey 'C'; Size: 4; Mana: 0; Depth: 3;
CR: 5; HD: 5; Hit: +3; Def: 21; Mov: 125%; Spd: 125%;
Str 13, Dex 16, Con 0, Int 0, Wis 11, Cha 12;
Attk: 7 for 1d6 12
and 3d4 18 (DC 13);
Stati[39,42,6];
Stati[124,7,8];
Stati[124,18,8];
Stati[124,36,8];
Stati[39,80,2];
Feats: 7, 18, 36, (((49 + 1) + 32) + 14);
Immune: 0x00400000, 0x00010000, 0x00100000, 0x00000040, 0x00000010,
0x00020000, 0x00008000, 0x04000000, 0x00000020, 0x00010000, 0x00000002;
Flags: 66, 3, 2, 33;
Spells: $"Hypnotic Dance";
Desc: "These skeletal constructs are often mistaken for undead,
      but they are not. A necrophidus has a serpent-like shape,
      but is made from human remains -- human vertabrae from many
      bodies form the flexible chain of the body, topped with a
      human skull. The only inhuman element is the two fangs in the
      skull's mouth, drawn from a viper or vampire.";
}
#line "mon3.irh" 1734
Effect "Hypnotic Dance" : 3
{
xval: 6; sval: 2; qval: 0; cost: 0;
aval: 11; lval: 6; cval: 10; Purpose: 0x00001 | 0x00004;
Flags: 34, 82;
Desc: "A necrophidius can cause its body to sway and weave
      in a hypnotic manner, causing anyone within 60 feet of the
      creature to become confused on a failed saving throw.";
On Event 206
"You sway and weave hypnotically."
"The <EActor> sways and weaves <his:EActor> body hypnotically.";
}
#line "mon3.irh" 1751
Template "celeritous" : 0x0001 for 36 {
CR: +1 (Min 6); Dex +10; Spd: +10; Mov: +10;
Def: +5;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 14), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40),
((((((49 + 1) + 32) + 50) + 38) + 30) + 8), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 33);
Flags: 57;
Desc: "This particular construct has been crafted with speed in mind.
      Quicksilver and adamant alloys ensure improved agility with no extra
      weight.";
On Event (19+1000) {
EActor->IdentifyTemp($"celeritous");
return 0;
};
}

Template "monsterous clockwork" : 0x0008 for 91 {
Image: 'C'; Size: +1; CR: +2 (Min 6);
Str +12, Dex -2, Wis +6 (Min 14), Int = 0, Con = 0, Cha = 0; Arm: 10;
Mov: 80%; Spd: 80%; MType: 36;
Attk: 19 for 1d6 13;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Flags: 33, 7, 66, 88, 56, 23,
107, -1, 55, -4;
Desc: "This coarse automaton has been constructed to closely resemble
         a living creature. Made of gears and clockwork, springs and
         mithril, it is a mindless device bent on destruction. Its jagged
         edges and whirling gears allow it to easily latch onto its prey.
         Possessed
         of incredible brute strength, it is thankfully somewhat lacking
         in speed. It is immune to most magic.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
On Event 155 {
if (EActor->HasMFlag(10) ||
EActor->HasMFlag(5))
return -1;
else
return 1;
};
}

Template "clockwork" : 0x0008 for 91 {
Image: shadow 'C'; CR: +2;
Str +6, Dex -1, Wis +3 (Min 11), Int = 0, Con = 0, Cha = 0; Arm: 5;
Mov: 90%; Spd: 90%; MType: 36;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000040;
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 33, 7, 66, 88, 56, 23,
107, -1, 55, -4;
Desc: "This coarse automaton has been constructed to closely resemble
         a living creature. Made of gears and clockwork, springs and
         mithril, it is a mindless device bent on destruction. 
         Possessed of brute strength, it is thankfully somewhat lacking in
         speed. It is immune to most magic.";
On Event ((28+500)+2000) {
switch(e.eID) {
case $"transmute rock to mud":
case $"soften stone":
case $"shatter":
VPrint(e,"You shatter!", "The <EVictim> shatters...");
ThrowDmg(42, 0,0, "shattering", EActor, EVictim, EItem);
return 1;
default:
e.Immune = true;
return 1;
}
return 0;
},
(42+2000) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"pile of rubble");
return 0;
};
On Event 155 {
if (EActor->HasMFlag(10) ||
EActor->HasMFlag(5))
return -1;
else
return 1;
};
}
#line "mon3.irh" 1870
Monster "vampire melon" : 49
{
Image: pink 'P'; Size: 2;
CR: -4; HD: 3; Hit: +2; Def: 12; Mov: 75%; Spd: 100%;
Str 7, Dex 7, Con 16, Int 0, Wis 4, Cha 6;
Attk: 12 for 63 (DC 15),
31 for 1d4 52;
Stati[39,95,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1879
Flags: 4, 3, 6, 5,
66, 33, 70;
Desc: "Legends claim that it is not only humanoids who
      can rise from their graves -- melon farmers in distant,
      mist-enshrouded lands claim that if melons are left in
      silence to grow in unclean moonlight for three nights,
      there is a chance they will become vampiric in nature,
      rolling along the ground and ensnaring small mammals
      with an adhesive they secrete in order to drink their
      blood. Vampire melons can be told from the mundane kind
      by examining their surface, where they will be covered
      with a spiderweb-like net of brown veins which, if
      pressed or cut, will bleed human blood.";
}

Monster "deadly nettle" : 49
{
Image: blue 'P'; Size: 3;
CR: 3; HD: 2; Hit: +2; Def: 10; Mov: 15%; Spd: 100%;
Str 10, Dex 18, Con 12, Int 0, Wis 14, Cha 8;
Attk: 10 for 1d3 12;
Stati[124,18,15];
Stati[39,80,3];
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000800;
#line "mon3.irh" 1905
Resists: 0x00001000;
Feats: 18, 36, 32,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), ((49 + 1) + 20);
Flags: 4, 3, 6, 5, 74,
66, 33, 6;
Desc: "An animate thorn, the deadly nettle grows both underground and
    in the wilderness. It possesses an uncanny insight into the vulnerable
    spots of living creatures, and it stining thorns always seem to catch
    foes unware. Victims without the Uncanny Dodge ability or Improved
    Initiative feat are always considered flat-footed when attacked by a
    deadly nettle. Its thin, sinewy stalks are all but impossible to
    hurt with piercing attacks and are quite resistant to bludgeoning.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
On Event (19+500) {
if (EVictim->isCreature()) {
if (!EVictim->HasAbility(100) &&
!EVictim->HasFeat((((((49 + 1) + 32) + 50) + 38) + 27)))
e.isFlatFoot = true;
}
} ;
}

Monster "malyss root" : 49
{
Image: bright blue 'P'; Size: 3;
CR: 2; HD: 2; Hit: +2; Def: 10; Mov: 15%; Spd: 100%;
Str 18, Dex 10, Con 12, Int 0, Wis 14, Cha 8; Arm: 5;
Attk: 21 for 1d3 13
and 1d3 51
and 1d3 14 (DC 20);
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1940
Feats: 18, 36, 32;
Flags: 4, 3, 6, 5, 74,
66, 33, 6;
Desc: "An animate root, the malyss plant is able to damage the nerves
    of living beings and reduce their mobility. It can entangle creatures
    and slowly numb them to death. The malyss root itself it not
    particularly agile, but it is strong, tough and sinewy.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
}

Monster "assassin vine" : 49
{
Image: grey 'P'; Size: 4;
CR: 3; HD: 4; Hit: +3; Def: 13; Mov: 15%; Spd: 100%;
Arm: 3; Str 20, Dex 10, Con 16, Int 0, Wis 13, Cha 9;
Attk: 19 for 1d6+2 13,
30 for 1d6+2 13;
Stati[124,18,10];
Stati[39,95,9];
Stati[39,13,1];
Resists: 0x00000002, 0x00000001;
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000008 ;
#line "mon3.irh" 1964
Spells: $"entangle";
Feats: 18, 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 4, 3, 6, 5, 74,
66, 33, 14, 18, 6, 36;
Desc: "An animate root, the assassin vine grows both underground
      and in the wilderness. It is capable of animating enough to
      wrap around its prey and crush it, providing both natural
      defense from herbivores and a grisly source of fertilizer. The
      main trunk can be as thick as a human forearm, but the sprouts
      and sub-vines disguise the plant, allowing it to blend into
      other vegetation easily.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
}

Monster "blood grass" : 49
{ Image: brown 'P'; Size: 6;
CR: 4; HD: 7; Def: 9; Hit: +4; Mov: 0%; Spd: 100%;
Str 22, Dex 14, Con 14, Int 2, Wis 6, Cha 5;
Attk: 19 for 1d6 13,
30 for 2d6 13,
31 for 2d3 45,
31 for 2d8 73;
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 1991
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 33, 2, 3, 4, 5,
88, 36, 73, 66, 6, 14, 18;
Desc: "This seemingly benign patch of shoulder-height swamp grass
      is in fact a dangerous carnivorous plant creature. Capable of
      wrapping around its prey and crushing it to death in a reflex
      action, the stalks of blood grass can also bore beneath a victim's
      flesh and suckle its blood in order to sustain itself. It can detect
      creatures with blood within 120 feet (12 squares).";
Stati[134,77,12];
}

Monster "razor-whip vine" : 49
{ Image: green 'P'; Size: 3;
CR: 7; HD: 3; Def: 10; Hit: +3; Mov: 50%; Spd: 300%;
Str 8, Dex 22, Con 14, Int 2, Wis 6, Cha 5;
Attk: 16 for 3d2 11
and 0d0 67 (DC 20)
and 0d0 36 (DC 20);
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2014
Feats:
(((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 25), (((49 + 1) + 32) + 44),
(((49 + 1) + 32) + 30), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((49 + 1) + 32) + 50) + 38) + 30) + 22), 44;
Flags: 33, 2, 3, 4, 5,
88, 73, 66, 6, 14, 56;
Desc: "This distinctive green vine is edged with a continual
      line of shiny thorns. Animated with an uncanny alacrity, it
      lashes out at all nearby creatures, scraping its vines along their
      limbs and lashing about like a whip. Razor-whip vines use the
      trinkets and bones of animals and adventurers to form their
      trellises.  They can drag themselves along at a rate that is slow for
      a human but quite rapid for a plant.";
Stati[211,(0x0020)];
On Event 209
"As a plant, it cannot be detected by tremorsense.";
}

Monster "dark tree" : 49
{ Image: bright black 'P'; Size: 6;
CR: 3; HD: 6; Hit: +4; Def: 10; Mov: 10%; Spd: 70%;
Str 22, Dex 8, Con 21, Int 5, Wis 10, Cha 7;
Attk:
19 for 2d4 13,
19 for 2d4 13;
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2041
Spells: $"confusion", $"entangle";
Resists: 0x00000002;
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13),
48, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags:
3, 2, 36, 66, 6,
73, 8, 49, 18, 14;
Desc: "Dark trees are twisted cousins of the treants, horrible
      monsters who delight in drinking the blood of demihumans with
      their roots. They use their confusion ability to mislead
      travellers, and spread deciet and dischord in sylvan societies
      whenever they have the opportunity.";
}

Monster "shambling mound" : 49
{ Image: bright green 'P'; Size: 5;
CR: 7; HD: 8; Def: 11; Hit: +6; Mov: 50%; Spd: 130%;
Str 21, Dex 10, Con 17, Int 7, Wis 10, Cha 9;
Attk: 19 for 2d6 13,
19 for 2d6 13,
30 for 2d6+2 13;
Stati[124,18,16];
Stati[124,32,4];
Stati[124,36,4];
Stati[39,57,1];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2069
Resists: 0x00000001;
Stati[118,13,+1];
Feats:
18, 32, 36,
(((((49 + 1) + 32) + 50) + 38) + 26), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 4, 73, 66, 14, 30, 19;
Desc: "Shambling mounds, also called shamblers, appear to be heaps of
    rotting vegetation. They are actually intelligent, carnivorous plants.
    A shambler's brain and sensory organs are located in its upper body.
    A shambler's body has an 8-foot girth and is about 6 feet tall when the
    creature stands erect. It weighs about 3,800 pounds.
    A shambling mound batters or constricts its opponents with two huge,
    armlike appendages. Despite this, they are very difficult to spot.

    Shamblers take no damage from electricity. Instead, any electricity
    attack used against a shambler temporarily grants it 1d4 points of
    Constitution. The shambler loses these points at the rate of 1 per
    hour.";
On Event (41+2000) {
if (e.DType == 4) {
EVictim->GainTempStati(113,EVictim,300,7,2,1d4);
e.Immune = true;
return 1;
}
};
}

Monster "tendriculous" : 49
{ Image: bright green 'P'; Size: 6;
CR: 9; HD: 9; Def: 19; Hit: +6; Mov: 50%; Spd: 130%;
Str 28, Dex 9, Con 22, Int 3, Wis 8, Cha 3;
Attk: 7 for 2d8 12
and 0d0 93 (DC 20),
14 for 1d6 13,
14 for 1d6 13,
30 for 2d6 3
and 3d6 18 (DC 20),
37 for 2d6 3
and 3d6 18 (DC 20);
Stati[39,57,1];
Stati[39,42,6];
Stati[39,66,10]; Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2113
Feats:
18, 32, 36, 44,
(((((49 + 1) + 32) + 50) + 38) + 26), ((49 + 1) + 5), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 4, 74, 66, 14, 18, 53,
55, 56, 11;
Desc: "A tendriculos can rear up to a height of 15 feet. It weighs
    about 3,500 pounds.
    Animals and other plant creatures are unnerved by the presence of a
    tendriculos; they avoid it and any place it has been within the last 24
    hours.
    Prowling deep forests or waiting in vegetated areas (looking like
    nothing more than a small hillock), a tendriculos attacks savagely,
    showing no fear. It attempts to swallow as much flesh as it can, as
    quickly as it can.";
}

Monster "treant" : 49
{ Image: bright yellow 'P'; Size: 6;
CR: 12; HD: 7; Def: 16; Hit: +5; Mov: 100%; Spd: 140%;
Arm: 6;
Str 29, Dex 8, Con 21, Int 12, Wis 16, Cha 12;
Attk: 19 for 2d6 13,
19 for 2d6 13;
Stati[124,18,16]; Stati[39,57,1];
Stati[39,42,6];
Resists: 0x00000800, 0x00000400;
Spells: $"entangle";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2143
Feats:
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), (((((49 + 1) + 32) + 50) + 38) + 26), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 6),
11, 18, 20,
32, 3, 44, 48;
Flags: 50, 74, 66, 14, 19;
Desc: "A treant's leaves are deep green in the spring and summer. In
    the fall and winter the leaves change to yellow, orange, or red, but
    they rarely fall out. A treant's legs fit together when closed to look
    like the trunk of a tree, and a motionless treant is nearly
    indistinguishable from a tree.
    A treant is about 30 feet tall, with a 'trunk' about 2 feet in
    diameter. It weighs about 4,500 pounds.";
}
#line "mon3.irh" 2163
Template "plantform" : 0x0100 for 91 {
Image: green 0; CR: +1 (Min 1);
Wis +2, Luc -2;
Mov: 100%; Spd: 100%; MType: 49;
Attk: 22 for 1d4 5;
Stati[39,119,3];
Stati[39,57,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2174
Flags: 35, 19, -2, -4;
On Event 150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(71))
h->AddQuality(71);
if (h->QualityOK(72))
h->AddQuality(72);
}
return 0;
};
Desc: "This strange creature is made entirely of plant matter.";
On Event 155 {
if (EActor->HasMFlag(10) ||
EActor->HasMFlag(5) ||
EActor->isMType(37) ||
EActor->isMType(49))
return -1;
else
return 1;
};
}




Monster "strange fungus" : 21, 52
{
Image: grey 'F'; Size: 4;
Desc: "Deep beneath the surface of Theyra, many strange forms of fungus
      grow, developing supernatural abilities resulting from the strange
      radiation of the Underdark. While they often vary in color or shape,
      the Knowledge (Nature) skill is needed to identify their nature and
      abilities more completely.";
Flags: 108, 24;
}

Monster "aether sponge" : 39, 58, 48
{
Image: yellow 'F'; Size: 2;
CR: 1; HD: 3; Hit: +0; Def: 10; Mov: 75%; Spd: 125%;
Str 5, Dex 8, Con 15, Int 0, Wis 0, Cha 0;
Stati[39,95,6];
Resists: 0x00000800, 0x00001000;
Attk: 12 for 1d8 4
and 2d6 17 (DC 12);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000080;
#line "mon3.irh" 2223
Flags: 33, 2, 3, 4, 45,
66, 6, 7, 19, 44,
92, 69, 38;
Desc: "This odd creature appears like certain varieties of
      sponges usually found deep undersea; through some unknown
      magical process it is able to support itself on air as if
      that air had the viscosity of water. (Magical scholars claim
      that it exists partially phased into the Elemental Plane of
      Water, and is thus supported by the water on that plane.)
      It can 'swim' by expanding and contracting its body to
      expel nonexistant water behind it, creating thrust, and
      produces bioelectricity which it can use to stun attackers.";
}
#line "mon3.irh" 2277
Monster "brown mold" : 39
{
Image: brown 'F'; Size: 4;
CR: 5; HD: 3; Hit: +10; Def: 10; Mov: 5%; Spd: 100%;
Str 0, Dex 16, Con 16, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 1d4 25 (DC 18),
22 for 2d4 2,
102 for $"strange fungus";
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000002;
#line "mon3.irh" 2290
Flags: 33, 2, 3, 4,
66, 6, 19, 42;
Feats: 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Desc :"The dreaded brown mold sucks the heat from nearby creatures.
  External fire damage and successful attacks cause it to multiply. It
  can detect all fire creatures within 180 feet (18 squares).";
On Event (41+1000) {
if (e.DType == 2 && e.vDmg > 0) {
EActor->cHP += e.vDmg;
EActor->mHP += e.vDmg;
if (e.vDmg > 4)
EActor->Multiply(1,true);
}
};
On Event (41+2000) {
if (e.DType == 1) {
EVictim->cHP += e.vDmg;
EVictim->mHP += e.vDmg;
VPrint(e,"You grow!","The <EVictim> grows!");
if (e.vDmg > 4)
EVictim->Multiply(1,true);
return 1;
}
};
Stati[134,95,18];
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "spectral mold" : 39
{
Image: shadow 'F'; Size: 4;
CR: 6; HD: 6; Hit: +10; Def: 10; Mov: 50%; Spd: 100%;
Str 0, Dex 16, Con 16, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 2d4 73,
22 for 1d4 50,
22 for 1d4 51,
22 for 1d4 52,
102 for $"strange fungus";
Stati[39,95,9];
Stati[39,13,1];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2335
Flags: 33, 2, 3, 4,
66, 6, 19;
Feats: 44;
Desc :"This mysterious breed of creeping mold is not truly undead but
  seems to possess a strange connection to the negative material plane.
  Though mindless, it is capable of a number of spell-like abilities, and
  its special spores allow it to draw life and energy from nearby
  creatures. Undead treat patches of spectral mold as allies. Patches
  of spectral mold can detect living creatures within 120 feet (12
  squares).";
Stati[216,76];
Stati[134,75,12];
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "sonic bloom" : 39
{
Image: yellow 'F'; Size: 2;
CR: 6; HD: 2; Hit: 5; Def: 10; Mov: 200%; Spd: 200%;
Str 0, Dex 20, Con 12, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 2d4 10,
22 for 2d4 17 (DC 18),
102 for $"strange fungus";
Stati[124,32,12];
Stati[39,13,16];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000200;
#line "mon3.irh" 2365
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((49 + 1) + 32) + 50) + 23),
32;
Flags: 33, 2, 3, 4,
66, 6, 12, 19, 48;
Desc :"This hated breed of magical fungus manages to keep its particles
  airborne via powerful but localized vortices. It can shoot its spores
  at supersonic speeds, stunning opponents and creating a racket that
  allows it to rival the fabled shrieker mushroom.";
On Event (41+1000) {
if (e.DType == 10 && e.vDmg > 0 && EVictim != NULL) {
EVictim->MakeNoise(e.vDmg * 4);
}
};
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "caustic fungus" : 39
{
Image: purple 'F'; Size: 6;
CR: 7; HD: 5; Hit: 10; Def: 10; Mov: 5%; Spd: 150%;
Str 0, Dex 12, Con 18, Int 0, Wis 0, Cha 0;
Resists: 0x00000800, 0x00000400;
Attk: 22 for 3d4 3,
60 for 3d4 3 (DC 15),
102 for $"strange fungus";
Stati[39,13,1];
Stati[39,95,16];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000, 0x00000004;
#line "mon3.irh" 2396
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 32), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 33, 2, 3, 4,
66, 6, 19, 43;
Desc :"This despised fungus has a body chemistry based on acids and
  vitriolic fluid. Essentially a vaguely mobile collection of somewhat dry 
  caustic spores, this fungus has the ability to destroy equipment, making
  it a bane of adventurers everywhere. Striking it without a weapon is
  also quite damaging to the assailant. Strangely, only huge patches have
  been observed.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "spore patch" : 39
{
Image: green 'F'; Size: 2; Mana: 30;
CR: -2; HD: 2; Def: 10; Hit: 10; Mov: 0%; Spd: 100%;
Str 0, Dex 0, Con 12, Int 0, Wis 16, Cha 0;
Attk: 22 for 1d6 13,
102 for $"strange fungus";
Stati[39,13,1];
Stati[39,95,12];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00080000, 0x00010000, 0x00400000, 0x02000000, 0x08000000;
#line "mon3.irh" 2421
Flags: 33, 2, 3, 4,
66, 6, 90, 19;
Feats: ((((49 + 1) + 32) + 50) + 35);
Spells: $"puffball", $"tree stride";
Desc: "These patches of spores reproduce by hurling bursts of seeds
      across the dungeon when triggered by vibrations in the earth.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "shrieker" : 39
{
Image: pink 'F'; Size: 2;
CR: 1/8; HD: 2; Def: 10; Hit: 0; Mov: 0%; Spd: 100%;
Con 13, Int 1, Wis 5, Cha 1;
Attk: 53 for 6d8 90,
102 for $"strange fungus";
Immune: 0x00100000, 0x00010000, 0x02000000, 0x00020000, 0x00400000,
0x00008000, 0x00800000, 0x01000000, 0x04000000, 0x08000000, 0x10000000,
0x00000040, 0x00000010;
Flags: 33, 2, 3, 4,
66, 6, 7;
On Event 27 {
if (e.AType == 53) {
DPrint(e,"You shriek!",
"The <EActor> emits a piercing screech!");
EActor->IdentifyMon();
e.Terse = true;
}
return 0;
},
(41+500) {
if (e.DType == 90) {
EActor->Reveal();
EMap->SetQueue(2);
EActor->MakeNoise(e.vDmg);
EMap->UnsetQueue(2);
return 1;
}
return 0;
},
209
"When disturbed it shrieks, waking all sleeping monsters within
        6d8 squares.";
Desc: "These little toadstools would be all but harmless were it
      not for their natural defense mechinism of emitting a piercing
      shriek when disturbed, drawing the attention of many other far
      more dangerous creatures nearby.";
}

Monster "ascomoid" : 39
{
Image: grey 'F'; Size: 5;
CR: 6; HD: 6; Def: 7; Hit: 7; Mov: 150%; Spd: 70%;
Str 26, Dex 5, Con 14, Int 0, Wis 11, Cha 4;
Attk: 19 for 1d10 13
and 67 (DC 16),
22 for 3d6 24 (DC 16)
and 1d6 52;
Stati[39,95,6];

Resists: 0x00000001, 0x00000008;
Immune: 0x00100000, 0x00010000, 0x02000000, 0x00020000, 0x00400000,
0x00008000, 0x00800000, 0x01000000, 0x04000000, 0x08000000, 0x10000000,
0x00000040, 0x00000010;
Flags: 15, 4, 2, 3, 33,
66, 6, 7;
On Event (20+1000) {
if (e.AType == 19)
if (EVictim->isCreature() && EVictim->HasStati(15)
&& !EVictim->isDead())
{
TPrint(e,"The <EActor> rolls over you, crushing you.",
"You roll over the <EVictim>, crushing <him:EVictim>.",
"The <EActor> rolls over the <EVictim>, crushing <him:EVictim>.");
ThrowDmg(41,13,3d10 + EActor->Mod(0),
"being crushed beneath an ascomoid", EActor,EVictim);
}
return 0;
},
((41+2000)+500) {
switch (e.DType)
{
case 13:
e.Immune = true;
return 1;
case 11:
e.Resist = true;
e.vDmg /= 2;
return 0;
case 12:
if (GetHandle(EItem2) != NULL)
if (EItem2->iID == $"sheaf arrow" ||
EItem2->iID == $"flight arrow")
{
DPrint(e,"Your <EItem2> sinks deep!",
"The <EActor>'s <EItem2> sinks deep!");
e.vDmg *= 2;
e.strDmg += " x2";
}
if (GetHandle(EItem) != NULL)
if (EItem->HasIFlag(20))
{
DPrint(e,"Your <EItem> sinks deep!",
"The <EActor>'s <EItem> sinks deep!");
e.vDmg *= 2;
e.strDmg += " x2";
}
return 0;
}
return 0;
},
209
"It is immune to blunt damage and suffers half damage from slashing
         weapons, but takes double damage from arrows and piercing melee
         weapons with reach. If it knocks over a target with its slam
         attack, or hits an already prone target, it rolls over that
         target for an additional 3d10 + Strength modifier points of
         damage.";
Desc: "Though this strange creature appears to casual examination
      to be a large, pockmarked grey boulder, it is in fact an unusual
      form of rocket-propelled fungal infestation. The ascomoid is a
      mindless, spheroid fungus creature which exudes a slime that 
      hardens over time into a rocky carapice. Beneath the carapice
      is about two feet of spongy white matter covering all the
      creature's most vital internal functions -- this unique anatomy
      making it resistant to blunt impact but vulnerable to long
      weapons that can pierce all the way to its vulnerable innards.\n
      __The ascomoid moves by rolling, propelling itself at considerable
      momentum by firing jets of compressed air out of tiny holes (that
      appear as pockmarks) on its surface. It can fire offensive spores
      from these openings as well.";
}
#line "mon3.irh" 2565
Monster "acid blob" : 16
{
Image: green 'j'; Size: 3; Mana: 3;
#line "mon3.irh" 2570
CR: -2; HD: 2; Hit: 0; Def: 8; Mov: 40%; Spd: 60%;
Str 4, Dex 7, Con 14, Int 0, Wis 7, Cha 0;
Attk: 12 for 2d4 3,
60 for 2d4 3 (DC 13);
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000004;
#line "mon3.irh" 2576
Resists: 0x00001000;
Flags: 3, 2, 4, 66, 10, 104,
31, 30, 33, 6, 36, 43;
Desc: "A rolling green macroscopic single-celled organism, the acid 
      blob of named for the powerful digestive acid that it secretes. Its
      natural diet includes any mammal small and slow enough for it to roll 
      over and digest, including sloths, baby pigs, lizards and the occasional
      goblin.";
}

Monster "bloodbloater" : 16
{
Image: red 'j'; Size: 2; Mana: 3;
CR: -6; HD: 2; Hit: +1; Def: 13; Mov: 120%; Spd: 70%;
Str 2, Dex 13, Con 12, Int 0, Wis 8, Cha 0;
Attk: 5 for 1d6 13,
31 for 1d4+1 0 and
1d1 43;
Stati[124,18,4];
Stati[39,13,6];
Feats: 18, 45, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2598
Resists: 0x00001000;
Flags: 3, 2, 4, 66, 10, 104,
31, 33, 6, 18, 36;
Desc: "An aquatic ooze a foot in diameter, the bloodbloater appears
      not unlike an egg, with a globular, translucent red yolk surronded
      by a clear, thin disc shot through with red veins. It latches on
      to a victim's body and begins to suck their blood just like a
      lamprey or leech.";
}

Monster "bloodsucker" : 16
{
Image: bright red 'j'; Size: 5; Mana: 10;
CR: 6; HD: 6; Hit: +4; Def: 10; Mov: 130%; Spd: 130%;
Str 16, Dex 10, Con 16, Int 0, Wis 0, Cha 0;
Attk: 9 for 2d4+2 13 and
1d3 43,
9 for 2d4+2 13 and
1d3 45,
42 for 90;
Stati[124,18,8];
Stati[39,13,12];
Feats: 18, 45, 36, 44,
((((((49 + 1) + 32) + 50) + 38) + 30) + 36), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2623
Resists: 0x00001000;
Flags: 3, 2, 4, 66, 10, 6, 104,
31, 33, 18, 36, 23;
On Event (41+500) {
if (e.DType == 90) {
ThrowEff(52,$"chill blood",EActor,EVictim);
return 1;
}
},
210
"to <9>chill blood<7>";
Stati[134,77,12];
On Event (42+2000) {
rID t;
if (GetHandle(EMap) && GetHandle(EVictim) &&
EMap->InBounds(EVictim->x,EVictim->y)) {
t = EMap->TerrainAt(EVictim->x,EVictim->y);
if (!t->TerrainHasFlag(5) &&
!t->TerrainHasFlag(19))
EMap->WriteTerra(EVictim->x,EVictim->y,$"bloodstain");
}
};
Desc: "This monsterous relative of the bloodbloater appears to be
      a crimson sack of blood covered with a thick, filmy resin. Its touch
      drains vitality from its victims and it can project a ray that
      chills the blood of its enemies. It can detect creatures with blood
      within 120 feet (12 squares).";
}

Monster "stone jelly" : 16, 38
{ Image: brown 'j'; Size: 4; Arm: 10;
CR: 3; HD: 2; Hit: 1; Def: 8; Mov: 50%; Spd: 100%;
Str 18, Dex 8, Con 14, Int 2, Wis 4, Cha 4;
Attk: 12 for 1d6 13 and 67 (DC 15)
and 2d2 14 (DC 15);
Stati[39,112,2];
Stati[39,42,6];
Stati[39,95,6];
Stati[39,30,1];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000020;
#line "mon3.irh" 2663
Resists: 0x00001000;
Feats: 32, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 66, 3, 88, 40, 10, 104,
3, 2, 4, 6, 40;
Desc: "This mysterious para-elemental has taken the form of a roiling
    jelly made of stone. It can passes through earthen barriers more by
    animating them and leaving itself behind than by truly melding with
    the stone. In its path it leaves a trail of rubble.";
On Event 1, 19 {
if (!GetHandle(EActor) || EActor->isDead())
return 0;
if (!EMap->SolidAt(EActor->x,EActor->y)) {
EMap->WriteTerra(EActor->x,EActor->y,$"loose-packed earth");
}
if (GetHandle(EVictim) && !EVictim->isDead() &&
!EMap->SolidAt(EVictim->x,EVictim->y)) {
EMap->WriteTerra(EVictim->x,EVictim->y,$"loose-packed earth");
}
} ;
On Event (42+2000) {
hObj it;
if (GetHandle(EMap) && GetHandle(EVictim) &&
EMap->InBounds(EVictim->x,EVictim->y)) {
it = CreateItem($"boulder");
if (!it)
return 0;
it->SetQuantity(2d4);
it->PlaceAt(EMap,EVictim->x,EVictim->y);
}
};
}

Monster "shadow ooze" : 16
{ Image: blue 'j'; Size: 4;
CR: 1; HD: 4; Hit: +2; Def: 10; Mov: 100%; Spd: 100%;
Str 10, Dex 10, Con 10;
Attk: 9 for 1d10 73,
32 for 1d6 13 and 1d10 73;
Stati[124,18,10];
Stati[39,94,6];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000002, 0x00000001;
#line "mon3.irh" 2705
Resists: 0x00001000;
Feats: 18, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 33, 10, 3, 2, 4,
79, 66, 6, 104;
On Event ((20+1000)+2000) {
if (GetHandle(EActor) != GetHandle(EVictim))
if (!EVictim->isDead())
ThrowEff(52,$"shadow step",EVictim,EVictim);
return 0;
};
Stati[134,75,10];
On Event 209
"When struck in combat, if it survives it can use <9>Shadow Step<7> as
       a reflexive action. It detects living things out to a range of 100 feet.";
}

Monster "blue jelly" : 16
{ Image: azure 'j'; Size: 3;
CR: 5; HD: 4; Hit: +3; Def: 8; Mov: 30%; Spd: 75%;
Str 5, Dex 8, Con 13, Int 0, Wis 12, Cha 4;
Attk: 17 for 3d4 2;
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000002;
#line "mon3.irh" 2728
Resists: 0x00001000;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
On Event ((41+1000)+2000) {
if (!(EVictim->isDead()))
if (e->DType != 1 && e->DType <= 13)
EVictim->Multiply(1,true);
return 0;
};
Flags: 3, 2, 4, 66,
10, 33, 6, 42, 104;
Desc: "This freezing ooze is often best left undisturbed: when injured
    by anything other than fire it tends to split and multiply.";
}

Monster "crystal ooze" : 16
{ Image: bright cyan 'j'; Size: 6; Mana: 120;
CR: 6; HD: 10; Hit: +12; Def: 10; Mov: 200%; Spd: 125%;
Str 22, Dex 14, Con 16, Int 0, Wis 1, Cha 1;
Attk: 12 for 6d12 33,
32 for 6d12 33 and 3d6 13;
Stati[39,66,10];
Stati[118,18,50];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000080;
#line "mon3.irh" 2752
Resists: 0x00001000;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 3, 2, 4, 66,
10, 33, 8, 6, 44;
Desc: "This translucent glob of gelatinous material is in fact a
      highly sophisticated thaumavore -- a creature that survives by
      drawing the magical potential out of others. Crystal oozes live
      deep underground and are sometimes created or controlled by
      drow war parties as living war machines.";
}

Monster "brown pudding" : 16
{ Image: bright brown 'j'; Size: 5;
CR: 9; HD: 6; Hit: +4; Def: 10; Mov: 30%; Spd: 100%;
Str 15, Dex 1, Con 22, Wis 1, Cha 1;
Attk: 19 for 2d4 13 and 5d6 57,
19 for 2d4 13 and 5d6 57,
32 for 2d4 13 and 5d6 57,
60 for 5d6 57 (DC 19);
Stati[124,7,8];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon3.irh" 2774
Resists: 0x00001000;
Feats: 7, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 36);
Flags: 33, 10, 3, 2, 4,
66, 6, 104;
On Event (41+2000) {
if (!(EVictim->isDead()))
if (e->DType == 11 ||
e->DType == 12 ||
e->DType == 4) {
e.Immune = true;
EVictim->Multiply(1,true);
return 1;
}
return 0;
};
Desc: "Brown puddings are immune to slashing, piercing and electrical
    damage and instead split into two identical jellies when subject to
    them.";
}

Monster "grey ooze" : 16
{ Image: grey 'j'; Size: 4;
CR: 2; HD: 3; Hit: +2; Def: 10; Mov: 50%; Spd: 75%;
Str 12, Dex 1, Con 11, Wis 1, Cha 1;
Attk: 9 for 1d10 3,
32 for 1d6 13 and 1d10 3,
60 for 5d6 3 (DC 19);
Stati[124,18,10];
Stati[39,13,6];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000002, 0x00000001;
#line "mon3.irh" 2804
Resists: 0x00001000;
Feats: 18, 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 33, 10, 3, 2, 4,
79, 66, 6, 43, 104;
}

Monster "magma creeper" : 16
{ Image: bright red 'j'; Size: 7;
CR: 11; HD: 12; Hit: +9; Def: 10; Mov: 100%; Spd: 150%;
Str 16, Dex 1, Con 22, Wis 1, Cha 1;
Attk: 19 for 4d6 13
and 3d6 3 (DC 22),
60 for 3d6 3 (DC 22),
30 for 10d6 3;
Stati[39,13,9];
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000001, 0x00000004, 0x00000008;
#line "mon3.irh" 2820
Resists: 0x00001000;
Feats: 18, 36, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 33, 36, 10, 3, 2, 4,
79, 66, 14, 6, 43, 41;
Desc: "A magma creeper is a huge ooze that usually lives near areas of
    extreme heat such as a volcano. A magma creeper usually resembles a
    quick-moving flow of magma; however, it often changes course and
    certainly does not follow the path of least resistance to find
    potential prey. The creature can subsist on rocks due to its extremely
    powerful acids, but prefers animal flesh for the greater nutritional
    value. Magma creepers simply flow toward the nearest available animal
    target, not distinguishing among foes, and attempting to slam or
    (preferably) grab the target. If two creatures are an equal distance
    from it, the magma creeper attacks the larger of the two.";
}

Monster "stunjelly" : 16
{
#line "mon3.irh" 2842
Image: white 'j'; Size: 5; Mana: 2;
CR: 5; HD: 4; Hit: 3; Def: 12; Mov: 300%; Spd: 200%;
Str 14, Dex 22, Con 12, Int 0, Wis 4, Cha 1;
Immune: 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200, 0x00000004;
#line "mon3.irh" 2846
Resists: 0x00001000;
Attk: 14 for 2d4 4
and 66 (DC 15),
37 for 3d4 3;
Stati[39,13,6];
Feats: 18, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35);
Flags: 33, 10, 3, 2, 4,
79, 66, 6, 45, 43;
Desc: "A translucent, amorphious organism resembling an ameoba,
      the stunjelly is almost invisible when viewed against stone
      or other uniform surfaces. It seeks out any organic materials
      to absorb, digest and metabolize. The stunjelly has nearly
      complete control over its form, and its terrible speed makes
      it a dangerous adversary.";
}



Monster "giant wasp" : 31
{
Image: yellow 'x'; Size: 5;
CR: 5; HD: 5; Def: 14; Hit: +3; Mov: 200%; Spd: 115%;
Str 18, Dex 12, Con 14, Int 0, Wis 13, Cha 11;
Poison: $"giant wasp venom";
Attk:
10 for 1d3+2 12
and 0d0 60 (DC 14);
Stati[124,44,8];
Stati[124,48,4];
Stati[39,42,6];
Immune: 0x00100000;
Feats: 44, 48;
Flags: 36, 37, 12, 26, 39,
3, 2, 35, 104,
33, 11, 55;
}

Monster "giant dragonfly" : 31
{
Image: pink 'x'; Size: 3;
CR: 1; HD: 1; Def: 14; Hit: +2; Mov: 400%; Spd: 175%;
Str 7, Dex 20, Con 12, Int 0, Wis 12, Cha 11;
Attk:
7 for 1d3 12,
10 for 1d4 12;
Stati[124,44,4];
Stati[39,42,6];
Stati[145,2,50];
Feats: 44, 48, 18;
Flags: 36, 37, 12, 26, 39,
3, 2, 35, 33, 11,
55, 74, 104;
On Event 209
"Its exceptional agility and body structure allow it to employ Motion 
        Camoflague -- a pattern of rapid movements leaving behind afterimages
        that is uses to stalk other vermin invading its territory, effectively
        duplicating the <9>displacement<7> spell mundanely. This is not an
        illusion and is not negated by <9>true seeing<7>.";
}

Monster "giant bee" : 31
{
Image: yellow 'x'; Size: 4;
CR: 0; HD: 3; Def: 12; Hit: +2; Mov: 250%; Spd: 110%;
Str 11, Dex 14, Con 11, Int 0, Wis 12, Cha 9;
Poison: $"giant bee venom";
Attk:
10 for 1d4 12
and 0d0 60 (DC 11);
Stati[124,44,4];
Stati[124,48,4];
Stati[39,42,6];
Immune: 0x00100000;
Feats: 44, 48;
Flags: 36, 37, 12, 26, 39,
3, 2, 35, 104
33, 11, 55;
Desc: "Although many times larger, growing to a length of about 5 feet,
    giant bees behave generally the same as their smaller cousins. Giant
    bees are usually not aggressive except when defending themselves or
    their hive. This type of giant bee can sting an opponent without
    killing itself in the process.";
}

Monster "giant praying mantis" : 31
{
Image: green 'x'; Size: 5; Arm: 6;
CR: 4; HD: 4; Def: 14; Hit: +3; Mov: 150%; Spd: 125%;
Str 19, Dex 8, Con 15, Int 0, Wis 14, Cha 11;
Attk:
6 for 1d8 11,
7 for 1d6 12;
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 13), 32, 44; Immune: 0x00100000;
Flags: 36, 27, 3, 35,
33, 11, 55, 104;
Desc: "A fast and agile cousin of the mundane mantis, the
      giant mantis can grow to be as large as a small horse.
      It remains perfectly still while stalking its prey.";
}

Monster "small monsterous centipede" : 31, 124
{
Image: red 'x'; Size: 3; Arm: 3;
CR: -4; HD: 1; Def: 12; Hit: +1; Mov: 100%; Spd: 60%;
Str 5, Dex 15, Con 10, Int 0, Wis 10, Cha 2;
Attk:
7 for 1d4 12 and 60 (DC 11);
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 7, 44;
Immune: 0x00100000;
Poison: $"monsterous centipede venom";
Flags: 36, 27, 3, 35,
33, 66, 104;
Desc: "This centipede is about the size of a hunting dog.
      It has a shiny maroon carapice.";
}

Monster "monsterous centipede" : 31
{
Image: bright red 'x'; Size: 5; Arm: 6;
CR: 3; HD: 4; Def: 10; Hit: +3; Mov: 100%; Spd: 200%;
Str 14, Dex 11, Con 14, Int 0, Wis 10, Cha 2;
Attk:
7 for 1d4 12 and 60 (DC 11);
Stati[39,42,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18, 7, 44;
Immune: 0x00100000;
Poison: $"monsterous centipede venom";
Flags: 36, 27, 3, 35,
33, 66, 11, 104;
Desc: "This centipede is larger than a human. It attacks by rearing
    back part of its body and darting forward with its mouth. Surprisingly,
    it can do this quite rapidly. It has a bright maroon carapice.";
}

Poison "monsterous centipede venom" : 4
{
Level: 1;
cval: 5;
sval: 11;
lval: 2;
xval: 51; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Dexterity damage every 
      <11>5<7> turns, and requires <11>2<7> saving throws against <11>DC 11<7> 
      to overcome.";
}

Monster "giant soldier ant" : 31
{
Image: blue 'x'; Size: 4; Arm: 5;
CR: 2; HD: 2; Def: 13; Hit: +2; Mov: 150%; Spd: 125%;
Str 14, Dex 10, Con 13, Int 0, Wis 13, Cha 11;
Attk:
7 for 2d4 12,
10 for 1d4 12 and 1d8 3;
Stati[39,71,6];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 7, 44, 32, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00100000;
Flags: 36, 27, 3, 35,
33, 11, 64, 104;
Desc: "This ant has a glossy black carapice, a stinger
      dripping with acid and razor-sharp pincers. It is
      about the size of a man.";
}

Monster "large spider" : 26, 31
{
Image: shadow 's'; Size: 2;
CR: -6; HD: 1; Hit: +1; Def: 8; Mov: 30%; Spd: 70%;
Str 1, Dex 4, Con 10, Int 1, Wis 6, Cha 12;
Attk:7 for 1d3 12 and 60 (DC 12);
Stati[39,42,6];
Immune: 0x00002000;
Stati[118,13,+1];
Feats: ((((49 + 1) + 32) + 50) + 8), 18,
(((49 + 1) + 32) + 9),
36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26, 104;
Poison: $"spider venom";
}

Monster "dancing spider" : 26, 31
{
Image: purple 's'; Size: 2;
CR: -2; HD: 1; Hit: +1; Def: 10; Mov: 100%; Spd: 100%;
Str 1, Dex 14, Con 10, Int 1, Wis 6, Cha 12;
Attk:7 for 1d3 12 and 60 (DC 12);
Stati[39,42,6];
Stati[118,13,+1];
Feats: ((49 + 1) + 5),
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40),
18,
36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26, 57;
Immune: 0x00002000;
Poison: $"spider venom";
Desc: "The so-called dancing spider has a distinctive purple pattern of
  coloration and a rapid metabolism. It eschews web-spinning in favor of
  making darting attacks at its prey.";
}

Monster "spitting spider" : 26, 31
{
Image: green 's'; Size: 3;
CR: -4; HD: 2; Hit: +1; Def: 10; Mov: 50%; Spd: 70%;
Str 1, Dex 14, Con 10, Int 1, Wis 6, Cha 12;
Attk: 40 for 0d0 60 (DC 16),
7 for 1d3 12 and 60 (DC 12);
Stati[39,42,6];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 2),
18, 36, 7, 22, 44, 32;
Flags: 36, 37, 2, 3, 104,
58, 26, 57, 55;
On Event (20+1000) {
if (EVictim->isCreature())
if (!EVictim->isDead() && e.AType == 40 && e.DType == 60) {
if (!EVictim->SavingThrow(1,20))
ThrowDmg(41,24,2d2,"spider spit",EActor,EVictim);
}
return 0;
} ;
Immune: 0x00002000;
Poison: $"spider venom";
Desc: "The dreaded spitting spider is reviled for its ability to 
  breathe gobs of venomous ichor at the eyes of its prey. Any opponent
  hit by the spider's spit must make a Reflex saving throw (DC 20) to
  avoid being blinded for 2d2 rounds. A spitting spider is about the size
  of a small dog.";
}

Poison "spider venom" : 4
{
Level: 5;
cval: 20;
sval: 12;
lval: 6;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>20<7> turns, and requires <11>6<7> saving throws against <11>DC 12<7> 
      to overcome.";
}

Monster "giant spider" : 26, 31
{
Image: red 's'; Size: 5;
CR: 3; HD: 6; Hit: +5; Def: 15; Mov: 100%; Spd: 100%;
Str 15, Dex 17, Con 12, Int 2, Wis 10, Cha 2;
Attk: 7 for 1d8 12 and 60 (DC 16);
Stati[39,42,6];
Stati[118,13,+1];
Immune: 0x00002000;
Feats: 18,
(((49 + 1) + 32) + 32),
(((49 + 1) + 32) + 9),
36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26, 11;
Poison: $"giant spider venom";
}

Monster "pike spider" : 26, 31
{
Image: bright red 's'; Size: 5;
CR: 6; HD: 6; Hit: +5; Def: 10; Mov: 100%; Spd: 100%;
Str 12, Dex 20, Con 12, Int 2, Wis 10, Cha 2;
Attk: 10 for 1d8 12 and 60 (DC 16),
10 for 1d8 12 and 60 (DC 16);
Stati[39,42,6];
Immune: 0x00002000;
Stati[118,13,+1];
Feats:
(((49 + 1) + 32) + 44),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
18, 36, 7, 22, 44;
Flags: 36, 37, 2, 3,
58, 26, 14,
11;
Poison: $"giant spider venom";
Desc: "The pike spider has two large, piercing stingers that can be used
  to strike unwary foes from a distance. Its attacks are very good at
  penetrating and bypassing armor.";
On Event (41+500) {
e.isBypass = true;
};
}

Poison "giant spider venom" : 4
{
Level: 7;
cval: 8;
sval: 16;
lval: 6;
xval: 50; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>8<7> turns, and requires <11>6<7> saving throws against <11>DC 16<7> 
      to overcome.";
}

Poison "elder spider venom" : 4
{
Level: 10;
cval: 6;
sval: 20;
lval: 6;
xval: 50; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Strength damage every 
      <11>6<7> turns, and requires <11>6<7> saving throws against <11>DC 20<7> 
      to overcome.";
}

Poison "collosal spider venom" : 4
{
Level: 10;
cval: 6;
sval: 24;
lval: 6;
xval: 50; pval: 1d10;
Desc: "This poison inflicts <11>1d10<7> points of Strength damage every 
      <11>6<7> turns, and requires <11>6<7> saving throws against <11>DC 24<7> 
      to overcome.";
}

Monster "giant slug" : 31, 58
{ Image: brown 'x'; Size: 6;
CR: 4; HD: 12; Hit: +8; Def: 10; Mov: 50%; Spd: 70%;
Str 19, Dex 10, Con 12, Int 1, Wis 10, Cha 2;
Attk:
42 for 4d8 3 (DC 17),
7 for 2d6 12;
Stati[39,96,3];
Stati[39,13,6];
Immune: 0x00001000; Feats: 32;
Flags: 3, 2, 36, 66, 6,
73, 11, 8, 55;
Desc: "Ranging from 20 to 30 feet long, giant slugs are
      terrible predators and aberrations of nature. They
      dwell amidst rot and darkness, their powerful digestive
      acids allowing them to burrow deep into even the most
      well-fortified structure. They are a light brown in 
      coloration, with a pale white underbelly. As with their
      more mundane counterparts, salt is a terrible poison to
      giant slugs.";
}

Monster "giant blue beetle" : 31
{
Image: blue 'x'; Size: 4; Arm: 6;
CR: 2; HD: 2; Hit: 2; Def: 10; Mov: 130%; Speed: 125%;
Str 16, Dex 7, Con 18, Int 1, Wis 13, Cha 4;
Attk:7 for 2d4 12,
42 for 3d8 1 (DC 13);
Stati[39,42,6];
Flags: 3, 2, 4, 35, 7,
41, 11;
Desc: "This huge, magical beetle has a glossy blue carapace and
      clear, vestigal wings. It can grow to be as large as a rottwieler
      if it feeds well, and the fiery jet it projects can kill nearly
      anything that would prey on it in its native habitat. Despite
      this, the beetle is a scavenger, not a predator, and fights more
      often out of defense then hunger.";
}

Monster "giant crustacean" : 31
{
Image: skyblue 'x'; Size: 6;
CR: 7; HD: 6; Hit: 4; Def: 10; Arm: 10; Mov: 150%; Spd: 125%;
Str 21, Dex 13, Con 19, Int 2, Wis 10, Cha 2;
Attk: 6 for 1d8 11,
6 for 1d8 11,
32 for 2d8 11;
Stati[39,42,6];
Stati[39,62,1];
Stati[39,95,6];
Feats: 7, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 35, 36, 37, 3, 30,
11;
Immune: 0x00400000;
Desc: "These marine crustaceans have multiple legs, a
      thick shell, and a pair of massive pincers. They
      dwell in shallow waters or along beaches, feeding
      on the morsels brought in by the tide.
        When threatened they will wield their claws in a
      threatening manner, and use they to grapple their
      foe and apply a powerful pinch. They will drag a
      surface dweller underwater to drown.
        Due to the simple, redundant anatomy of a giant 
      crustacean, it has a 50~ chance of ignoring additional 
      damage from a sneak attack and is immune to critical 
      hits.";
}

Monster "cave cricket" : 31
{
Image: brown 'x'; Size: 3; Arm: 6;
CR: 1; HD: 2; Hit: +1; Def: 12; Mov: 70%; Spd: 100%;
Str 10, Dex 15, Con 12, Int 0, Wis 10, Cha 2;
Attk: 7 for 1d2 12;
Stati[39,95,3];
Stati[124,22,+10];
Spells: $"Spit Goo";
Feats: 44, 22, 36, 18;
Flags: 36, 27, 3, 35, 104,
33, 11, 66, 54;
Immune: 0x00000010, 0x00100000;
On Event ((41+2000)+1000) {
if (EVictim->isDead())
return 0;
EMap->SetQueue(2);
VPrint(e,"You shriek!", "The <EVictim> shrieks!");
EVictim->MakeNoise(e.vDmg);
EMap->UnsetQueue(2);
return 0;
},
((20+2000)+500) {
if (e.AType == 22)
{
e.Immune = true;
return 1;
}
return 0;
},
209
"It shrieks when struck, waking creatures within 100 feet
        just like a shrieker mushroom patch. Its sealed carapice
        renders it immune to spores and spore-based attacks.";
#line "mon3.irh" 3278
Desc: "Cave crickets are large crickets the size of a hunting
      dog, typically very deep underground. They feed on a variety
      of fungi and the occasional corpse. They are normally docile
      creatures, but can become violent if started or surprised.
      When panicked they shriek loudly and jump about wildly,
      causing tremendous havoc and attracting far more dangerous
      predators.";
}

Effect "Spit Goo" : 3
{ xval: 20; aval: 1; qval: 0x0004;
sval: 0; Purpose: 0x00001; cval: 15;
Flags: 60, 82, 33;
Desc: "Once per hour, a cave cricket can spit a long, thick
      stream of goo at another creature within 20 feet, who must
      then succeed in a Fortitude save (DC 13) or become nauseated 
      for 3d6 rounds.";
On Event
155 {
if (EActor->HasEffStati(72,$"Spit Goo"))
return -1;
if (EVictim->DistFrom(EActor) > 2)
return -1;
return 0;
},
(52+500) {
EActor->GainTempStati(72,NULL,18000,
7,0,0,$"Spit Goo");
return 0;
},
170 {
e.vRange = 2;
e.saveDC = 13;
e.vDuration = 3d6;
return 0;
},
206
"You spit goo!" /
"The <EActor> spits goo!",
200
"glob of goo";
}
#line "mon3.irh" 3343
Monster "white worm mass" : 30, 31
{
Image: white 'w'; Size: 3;
CR: -2; HD: 4; Hit: +1; Def: 13; Mov: 30%; Spd: 70%;
Str 4, Dex 7, Con 13, Int 0, Wis 6, Cha 6;
Attk: 12 for 27 (DC 15);
Stati[39,95,3];
Disease: $"filth fever", $"red ache", $"slimy doom";
Flags: 28, 10, 66, 3, 4,
2, 6, 88, 104;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
On Event ((20+2000)+1000) {
if (e->DType <= 13)
if (!(EVictim->Flags & 0x0008))
EVictim->Multiply(1,false);
};
Desc: "A mass of thin white earthworms twisted by thaumaturgy
      to reproduce literally quicker then the eye can see, these
      horrors can quickly become a plague if fought improperly.";
}
#line "mon3.irh" 3370
Monster "skeleton;mon" : 112
{
Image: white 'Z'; Size: 4;
Desc: "Animated skeletons are common servants of necromancers and evil
      warlords, and can be essentially mundane foes or have unusual abilities
      based on the specific magic used in giving them unlife. The Knowledge
      (Undead) skill is thus useful to identify creatures like this more
      completely.";
Flags: 108, 24;
}

Monster "corporeal undead" : 76
{
Image: brown 'U'; Size: 4;
Desc: "This creature, on casual visual examination, is clearly a rotting
      corpse animated by unknown magic or a malignant curse. Wights, zombies,
      graveborn, revenants and even liches all appear strikingly similar to 
      one not steepled in the lore of the dead. A Knowledge (Undead) check
      would have allowed you to identify this creature more accurately.";
Flags: 108, 24;
}

Monster "spectral undead" : 53
{
Image: green 'W'; Size: 4;
Desc: "This creature, on casual visual examination, is a translucent
      humanoid form, clearly existing partly on this plane and partly on
      some other, lingering on beyond its natural lifespan. Shadows, wraiths,
      ghosts, spectres and poltergeists all appear strikingly similar to 
      one not steepled in the lore of the dead. A Knowledge (Undead) check
      would have allowed you to identify this creature more accurately.";
Flags: 108, 24;
}

Monster "bodak" : 48
{
Image: shadow 'U'; Size: 4; Arm: 10;
CR: 10; HD: 9; Hit: +6; Def: 18; Mov: 75%; Spd: 145%;
Str 13, Dex 15, Con 0, Int 6, Wis 12, Cha 12;
Attk: 19 for 1d8+1 13,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000008;
#line "mon3.irh" 3413
Resists: 0x00000004, 0x00000001;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44),
18, 32, 44, 36;
Flags:
1, 32, 53, 52, 49,
66, 56;
Spells: $"bodak death gaze";
Desc: "Bodaks are the undead remnants of humanoids who have been
      destroyed by the touch of absolute evil.
      A bodak retains fleeting memories of its past life and can speak Common
      (or some other humanoid language).";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Effect "Bodak Death Gaze" : 1
{ 0x00000040; Base: 90; Cost: 10; qval: 0x0004;
Purpose: 0x00001 | 0x01000;
Flags: 104, 63, 4, 61, 82;
tval: 75; aval: 1;
cval: 8;
xval: 6; pval: 0;
On Event 28 {
if (!EVictim->SavingThrow(0,15,0x00000010|0x00000004|0x00000001)) {
ReThrow(42,e);
return 1;
}
return 0;
};
On Event 206
"Your eyes glow with a black aura."
"The <EActor>'s eyes glow with a black aura.";
}

Monster "bonebat" : 3, 112
{
Image: white 'b'; Size: 2;
CR: 0; HD: 2; Hit: +0; Def: 17; Mov: 150%; Spd: 130%;
Str 4, Dex 10, Con 8, Int 0, Wis 10, Cha 8;
Attk: 7 for 1d3 12 and 1d2 47 (DC 14);
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3457
Feats: (((49 + 1) + 32) + 44), 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 32, 3, 2, 12, 66,
52, 53, 19, 33, 56;
}

Monster "crawling claw" : 60
{
Image: grey 'Z'; Size: 2; Mana: 2;
CR: -2; HD: 1; Hit: -1; Def: 14; Mov: 75%; Spd: 75%;
Str 17, Dex 14, Con 12, Int 0, Wis 12, Cha 4;
Attk: 5 for 1d6 13,
30 for 1d2 13;
Stati[39,42,6];
Stati[39,95,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3474
Feats: 18, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 22, 36, ((((((49 + 1) + 32) + 50) + 38) + 30) + 36),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 32, 3, 2, 4, 66,
104, 53, 19, 55,
33, 56;
Desc: "A severed hand, animated by necromatic magic, the crawling
      claw possesses strength that belies its small size.";
}
#line "mon3.irh" 3521
Monster "bone delver" : 55
{
Image: blue 'U'; Size: 4;
CR: 0; HD: 2; Hit: +0; Def: 13; Mov: 100%; Spd: 100%;
Str 13, Dex 11, Int 10, Wis 11, Cha 11;
Attk: 6 for 1d4 11,
6 for 1d4 11,
47 for 2d6 28 (DC 11),
53 for 27 (DC 12),
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3533
Feats: 16, 18, 36,
33, 41, 44;
Stati[30,2,0,$"pickaxe"];
Disease: $"grave rot";
Flags: 32, 1, 66, 56,
53, 49, 52, 19;
Gear: $"brass lantern",
$"pickaxe";
Desc: "Bone delvers are grave robbers who have died while performing
    their nefarious tasks. They usually appear as hunched, twisted
    humanoids. They forever carry the tools of their trade.";
On Event 213 "wail" / "wails";
On Event (49+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "tomb guardian" : 55
{
Image: white 'U'; Size: 5;
CR: 7; HD: 7; Hit: +7; Def: 15; Mov: 100%; Spd: 135%;
Str 16, Dex 14, Int 12, Wis 14, Cha 15;
Arm: 10;
Attk: 6 for 1d6+4 11,
102 for $"skeleton;mon";
Stati[39,98,5];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3562
Feats:
6, 20, 32, 36,
41, 3, 44,

((49 + 1) + 5), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23);

Flags: 1, 32, 61, 53, 107,
66;

Spells: $"wall of stone";

Gear:
75% $"great scythe" of random 2 to 3
else random 58 of random 1 to 3;

Desc:
"Tomb guardians are undead warriors found
    guarding tombs, graves, corpses, and crypts. If left
    alone and the place they are guarding remains
    undisturbed, they will take no actions. However, if
    any actions are taken to disturb the tomb guardian
    or its place of protection, the tomb guardian will use
    all means necessary to remove the offenders.
    A tomb guardian appears as an imposing 10-foot
    tall skeleton with thick, sturdy looking bones and
    red pinpoints of light where its eyes should be.
    Tomb guardians are often seen wielding great
    scythes, though may be found wielding any sort
    weapon.";

On Event 156 {
EActor->StateFlags |= 0x0002;
} ;
}

Monster "crypt thing" : 55, 112
{
Image: brown 'U'; Size: 4; Mana: 45;
CR: 2; HD: 6; Hit: +4; Def: 13; Mov: 100%; Spd: 100%;
Str 10, Dex 16, Con 0, Int 11, Wis 15, Cha 13;
Attk: 9 for 90,
6 for 1d6 11,
6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,98,4];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3609
Stati[118,13,+1];
Feats: (((49 + 1) + 32) + 30), (((((49 + 1) + 32) + 50) + 38) + 27), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
6, 11, 13,
20, 32, 3, 44;
Flags: 1, 32, 53, 66;
On Event (41+500) {
if (e.DType == 90) {
if (EVictim->SavingThrow(2,14,0x00000001) ||
EVictim->isMType(40)) {
e.Resist = true;
return 1;
}
EActor->IdentifyMon();
ThrowEff(83,$"dismissal",EActor,EVictim);
return 1;
}
return 0;
},
210
"to teleport enemies away (as <9>dismissal<7>, DC 14)";
Desc: "Crypt things are undead guardians set to watch over a place
      of great importance, appearing as a skeletal figure wrapped in a
      tattered cloak and cowl. Crypt things can be negotiated with and
      avoided, but are absolutely devoted to their task and cannot be
      cowed or easily decieved.";
}

Monster "ghoul" : 55
{
Image: blue 'U'; Size: 4; Depth: 5;
CR: 2; HD: 2; Hit: +1; Def: 12; Mov: 100%; Spd: 100%;
Str 13, Dex 15, Int 13, Wis 14, Cha 16;
Attk: 7 for 1d6 12 and 1d4 18,
6 for 1d3 11,
6 for 1d3 11,
102 for $"corporeal undead";
Stati[39,42,6];
Stati[39,98,2];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3649
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 18,
7, 13, 22, 32, 44,
36, 41;
Flags: 1, 32, 49, 52, 53,
36;
On Event (41+500) {
if (e.AType == 7 && e.DType == 18)
if (EVictim->isMType(62))
{
e.Immune = true;
return 1;
}
},
157 {
if (ETarget->isType(31))
return 120;
},
(20+1000) {
EActor->IdentifyMon();
return 0;
};
Desc: "These undead cannibals seek only to devour the flesh
      of humanoids, living or dead, and are thus typically found 
      around graveyards, slaughterhouses and abatoirs. They appear
      as slavering, emaciated corpses with sharp teeth and claws.";
Lists:
* 100 $"ghast";
}

Monster "ghast" : 55
{
Image: bright blue 'U'; Size: 4; Depth: 5;
CR: 4; HD: 4; Hit: +2; Def: 14; Hit: 4; Mov: 100%; Spd: 130%;
Str 13, Dex 15, Int 13, Wis 14, Cha 16;
Attk: 7 for 1d6 12 and 1d4 18,
6 for 1d3 11,
6 for 1d3 11,
102 for $"corporeal undead";
Stati[39,42,6];
Stati[39,98,2];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 3690
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22), 18,
7, 13, 22, 32, 44,
36, 41;
Flags: 1, 32, 49, 52, 53, 107;
On Event 156 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"ghast stench",EActor);
},
157 {
if (ETarget->isType(31))
return 120;
};
Desc: "The more highly developed form of ghouls, ghasts have
      lived many years and exude a terrible carrion stench that
      sickens their enemies where they stand. Sages speculate that
      ghouls may become ghasts by consuming enough live prey and
      surviving for a long enough period.";
Lists:
* 101 $"ghoul",
* 103 $"ghoul";
}

Effect "ghast stench" : 3
{ aval: 9; rval: 0x00000004 | 0x00000002;
xval: 117; yval: 51; pval: -2;
tval: 75; Flags: 4; Purpose: 0x00010;
Flags: 82;
On Event
43
"The ghastly stench sickens you." /
"The <EActor> seems ready to retch.",
44
"The air seems cleaner now." /
"The <EActor> leaves the area of tainted air.";
}

Monster "burning ghast" : 55
{
Image: bright red 'U'; Size: 4;
CR: 4; HD: 4; Hit: +4; Def: 14; Mov: 100%; Spd: 120%;
Str 13, Dex 15, Int 13, Wis 14, Cha 14; Mana: 10;
Attk: 6 for 1d4 11 and 2d6 1,
6 for 1d4 11 and 2d6 1,
102 for $"corporeal undead";
Stati[39,42,6];
Spells: $"scorcher";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000001;
#line "mon3.irh" 3737
Feats: 7, 13, 18, 22, 32,
36, 41, 44,
((49 + 1) + 25), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22);
Flags: 104, 36, 1, 32, 49,
89, 53, 52, 41;
Desc: "A burning ghast is created when an innocent is unnjustly put to
    death by fire.";
Lists:
* 101 $"ghoul",
* 103 $"ghoul";
On Event (41+2000) {
if (e.DType == 74) {
e.DType = 0;
e.vDmg = e.vDmg * 2;
}
return 0;
},
(36+1000) {
EActor->IdentifyMon();
return 0;
},
209
"It takes double damage from soaking attacks.";
}

Monster "icewight" : 55
{
Image: bright cyan 'U'; Size: 4;
CR: 4; HD: 6; Hit: +5; Def: 14; Mov: 100%; Spd: 100%;
Str 12, Dex 12, Int 11, Wis 13, Cha 15;
Attk: 9 for 1d12 32 (DC 16)
and 1d3 44
and 3d12 2,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3773
Resists:0x00000004;
Feats: ((49 + 1) + 25), 36, 32;
Flags: 36, 1, 32, 49,
89, 53, 52, 42, 107;
Desc: "Icewights are a species of undead that are created
      by a human dying of winter's chill with a mission of
      great importance uncompleted. They are similar to, but
      more powerful than, the more common kind of wight.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal foot soldier" : 112, 120
{
Image: green 'Z'; Size: 4;
CR: 2; HD: 1; Hit: +1; Def: 10; Mov: 100%; Spd: 105%;
Str 14, Dex 6, Wis 12;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3796
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 0 to 1
else random 58 of random 0 to 1,
$"chainmail shirt" of random 0 to 1;
Desc: "These undead are raised by an evil priest from
      the remains of a warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and occasionally difficult to dominate, being somewhat
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal trooper" : 112, 120
{
Image: bright green 'Z'; Size: 4;
CR: 3; HD: 2; Hit: +2; Def: 10; Mov: 100%; Spd: 110%;
Str 16, Dex 8, Wis 14;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3826
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 0 to 1
else random 58 of random 0 to 1,
$"chainmail" of random 0 to 1;
Desc: "These undead are raised by an evil priest from
      the remains of a warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and occasionally difficult to dominate, being somewhat
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal skirmisher" : 112, 120
{
Image: red 'Z'; Size: 4;
CR: 4; HD: 3; Hit: +3; Def: 10; Mov: 100%; Spd: 115%;
Str 17, Dex 9, Wis 15;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3856
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((49 + 1) + 32) + 44),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 1 to 1
else random 58 of random 1 to 1,
$"breastplate" of random 1 to 1;
Desc: "These powerful undead are raised by an evil priest from
      the remains of a great warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and notoriously difficult to dominate, being tremendously
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal fighter" : 112, 120
{
Image: bright red 'Z'; Size: 4;
CR: 6; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 120%;
Str 18, Dex 10, Wis 16;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3886
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3), (((49 + 1) + 32) + 44),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 1 to 2
else random 58 of random 1 to 2,
$"banded mail" of random 1 to 2;
Desc: "These powerful undead are raised by an evil priest from
      the remains of a great warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and notoriously difficult to dominate, being tremendously
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "skeletal warrior" : 112, 120
{
Image: purple 'Z'; Size: 4;
CR: 7; HD: 7; Hit: +7; Def: 16; Mov: 100%; Spd: 150%;
Str 22, Dex 14, Wis 20;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3916
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
14, 42, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 1 to 3
else random 58 of random 1 to 3,
$"field plate armor" of random 1 to 3;
Desc: "These powerful undead are raised by an evil priest from
      the remains of a great warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed
      and notoriously difficult to dominate, being tremendously
      strong-willed monsters.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}


Monster "skeletal myrmidon" : 112, 120
{
Image: bright purple 'Z'; Size: 4;
CR: 9; HD: 10; Hit: +10; Def: 16; Mov: 125%; Spd: 150%;
Str 26, Dex 18, Wis 24; Arm: 5;
Attk: 6 for 1d6 11,
102 for $"skeleton;mon";
Stati[39,66,5];
Stati[39,42,6];
Stati[39,13,9];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 3950
Resists: 0x00000800, 0x00000400;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
14, 18, 36,
44, 32;
Flags: 1, 32, 49, 51, 66,
61, 53, 19, 56;
Gear:
50% $"greatsword" of random 3 to 5
else random 58 of random 3 to 5,
$"full plate armor" of random 3 to 5;
Desc: "These mighty undead are raised by an evil priest from
      the remains of a legendary warrior who died without fulfilling his
      (or her) dreams of power and conquest. They are free-willed and
      notoriously difficult to dominate, being tremendously strong-willed
      monsters. Truly potent skeletal myrmidons can reassamble themselves
      from the very dust in the air and are almost impossibly difficult to
      damage.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "poltergeist" : 53
{ Image: green 'N'; Size: 4; Depth: 2;
CR: 2; HD: 3; Def: 15; Hit: 2; Mov: 150%; Spd: 125%;
Dex 14, Int 7, Wis 6, Cha 14;
Attk: 9 for 3d4 28 (DC 17),
102 for $"spectral undead";
Stati[39,42,6];
Stati[39,36,9];
Stati[100,2,0,$"poltergeist"];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Feats: ((((49 + 1) + 32) + 50) + 35), 20, 6,
44;
Flags: 52, 49, 1, 9,
32, 88, 66;
Spells: $"gust of wind", $"phantasmal force";
Desc: "These mischevious spirits are naturally invisible,
      spreading terror and misunderstanding in their wake. They
      tend to be tied to one specific location, and will defend
      that location with all their supernatural cunning. Though
      they cannot actually touch or harm living creatures, they
      can use their abilities to lead the living into mortal
      danger. Most such beings are evil, but some poltergeists
      are merely playful and disoriented.";
On Event 209
"It is naturally invisible.";
On Event (36+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "slow shadow" : 57
{
Image: green 'W'; Size: 4;
CR: 2; HD:2; Hit: 2; Def: 12; Hit: 3; Mov: 150%; Spd: 150%;
Dex 14, Int 6, Wis 12, Cha 13;
Attk: 9 for 1d4 25 (DC 17),
102 for $"spectral undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000,
0x04000000, 0x00000020, 0x00400000, 0x10000000;
Resists:0x00000002, 0x00000004;
Feats: (((49 + 1) + 32) + 44), 18;
Flags: 1, 32, 49, 53, 88,
52, 9, 66, 8, 66,
56;
Desc: "Creatures of living darkness, these restless spirits are
      all that remains of those whose lives were consumed by malevolant
      apathy and silent complicity to evil. Shadows are a favored tool
      of necromancers and grim sorcerors everywhere.";
On Event (19+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "shadow" : 57
{
Image: shadow 'W'; Size: 4;
CR: 4; HD:2; Hit: 2; Def: 12; Hit: 3; Mov: 150%; Spd: 150%;
Dex 14, Int 6, Wis 12, Cha 13;
Attk: 9 for 1d6 43 (DC 13),
102 for $"spectral undead";
Stati[39,98,2];
Stati[124,32,2];
Stati[124,44,2];
Stati[124,41,4];
Stati[124,18,4];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4046
Resists:0x00000002, 0x00000004;
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 44), 18, 32, 41, 44;
Flags: 1, 32, 49, 53, 88,
52, 9, 66, 8, 19,
56;
Desc: "Creatures of living darkness, these restless spirits are
      all that remains of those whose lives were consumed by malevolant
      apathy and silent complicity to evil. Shadows are a favored tool
      of necromancers and grim sorcerors everywhere.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "blessed soul" : 53
{
Image: yellow 'N'; Size: 4; Mana: 70; Depth: 2;
CR: 3; HD: 3; Hit: 2; Def: 12; Hit: 3; Mov: 150%; Spd: 150%;
Dex 10, Int 13, Wis 16, Cha 14;
Attk: 9 for 1d4 2,
102 for $"spectral undead";
Stati[39,98,8];
Stati[39,42,6];
Stati[124,44,+4];
Stati[124,32,+4];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4074
Resists:0x00000002, 0x00000004;
Spells: $"Bless", $"Cure Moderate Wounds", $"Remove Curse",
$"Dispel Fatigue";
Feats: (((((49 + 1) + 32) + 50) + 38) + 26), 17, 30, 29,
44, 32;
Flags: 1, 32, 50, 53, 88,
9, 19, 70;
Desc: "Blessed souls are rarely seen outside the peaceful
      afterlife of the Upper Planes, but some remain connected
      to Theyra, unable to move on due to unresolved issues.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "shadow haunt" : 57
{
Image: bright shadow 'W'; Size: 4;
CR: 7; HD: 6; Hit: +3; Def: 15; Mov: 150%; Spd: 130%;
Dex 17, Int 14, Wis 13, Cha 21; Arm: 10;
Attk: 9 for 1d8 48,
43 for 1d2 28 (DC 18);
Stati[118,18,((17*5)-50)];
Stati[39,91,10];
Stati[39,98,4];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4102
Stati[118,13,+1];
Feats: ((49 + 1) + 5), (((((49 + 1) + 32) + 50) + 38) + 27),
18, 20, 32, 41, 3,
44;
Flags: 36, 66, 32, 49, 56,
88, 8, 53, 52;
Desc: "This is a menacing cloud of smoke and shadows that coalesces
    into a humanoid shape. Pinpricks of red light serve as eyes and its
    arms ends in grasping, claw-like hands.";
}


Monster "spectre" : 53
{ Image: bright cyan 'N'; Size: 4; Depth: 6;
CR: 8; HD: 7; Def: 12; Hit: 6; Mov: 250%; Spd: 125%;
Dex 16, Int 14, Wis 14, Cha 15;
Attk: 9 for 6d12 32
and 3d4 28 (DC 22),
102 for $"spectral undead";
Stati[39,36,9];
Stati[39,98,2];
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4126
Feats: ((49 + 1) + 5), ((49 + 1) + 25), ((((((49 + 1) + 32) + 50) + 38) + 30) + 32),
(((49 + 1) + 32) + 44), 32, 18, 20,
44, 41;
Flags: 51, 49, 53, 1, 9,
8, 32, 8, 88, 13,
19;
Desc: "Powerful essences of selfish will, domination and
          terror, spectres are the restless souls of evil
          individuals whose will to live was so overwhelming
          that it allowed them to linger after death with most
          of their minds intact.";
On Event (41+2000) {
if (e.DType == 9)
{
EVictim->GainTempStati(168,NULL,-2,7);
EVictim->GainTempStati(10,NULL,e.vDmg,7,1);
if (e.vDmg >= EVictim->GetAttr(4))
{
EVictim->IDPrint("You are paralyzed with terror!",
"The <hObj> is paralyzed with terror!", EVictim);
EVictim->GainTempStati(9,NULL,e.vDmg / EVictim->GetAttr(4),
7,0);
}
return 1;
}
return 0;
},
209 "Being exposed to sunlight negates a spectre's special abilities
      for a full day, frightens the creature for one turn per points of damage the
      light would normally inflict and, if the light would do more damage than the
      spectre's Wisdom score, it also paralyzes the creature for one turn per
      [Wisdom] points of damage.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "wight" : 55
{
Image: cyan 'U'; Size: 4;
CR: 2; HD:4; Hit: +2; Def: 14; Mov: 100%; Spd: 100%;
Str 12, Dex 12, Int 11, Wis 13, Cha 15;
Attk: 9 for 1d8 32 (DC 16),
19 for 1d4 13,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4174
Resists:0x00000002, 0x00000004;
Feats: ((49 + 1) + 25), 36, 32;
Flags: 36, 1, 32, 49,
89, 53, 52, 19, 43;
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
}

Monster "wraith" : 57
{
Image: blue 'W'; Size: 4;
CR: 5; HD:5; Hit: +5; Def: 14; Mov: 100%; Spd: 100%;
Dex 16, Int 14, Wis 14, Cha 15;
Attk: 9 for 3d12 32 (DC 17)
and 1d6 52 (DC 17),
53 for 28 (DC 15),
102 for $"spectral undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4196
Resists:0x00000002, 0x00000004;
Feats: ((49 + 1) + 5), ((49 + 1) + 25), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 22),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), 36, 32, 20,
41, 3;
Flags: 1, 32, 49, 53, 88,
52, 9, 66, 19;
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
25% $"long sword" +1 with [77]
else 50% $"long sword" of random 1 to 3
else $"long sword",
25% $"plate mail" else
$"chainmail",
50% $"ring" of random 2 to 5,
$"robes";
}

Monster "mummy" : 55
{
Image: yellow 'U'; Size: 4; Mana: 45;
CR: 5; HD: 8; Hit: +6; Def: 16; Mov: 70%; Spd: 75%;
Str 18, Dex 10, Con 0, Int 6, Wis 14, Cha 15;
Attk: 19 for 1d6 13,
9 for 0d0 27 (DC 16);
Stati[39,42,6];
Disease: $"mummy rot";
Spells: $"bestow curse", $"summon swarm";
Desc: "Mummies are undead creatures created by potent magical
      rituals practiced by certain desert-dwelling ancient civilizations.
      Many of these rights have since been unearthed by modern
      spellcasters, though mummification is more popular among clerics
      than mages, since the rituals are highly religious. While most
      mummies are malicious creatures, they are also ordered and
      dutiful beings that adhere vigorously to religious law.
      The priesthoods of Xel and Aiswin frequently creatures mummies, as 
      do some truly ancient members of the Multitude. More benevolent
      mummies are sometimes created by (or from!) priests of Mara or
      Xavias, though these creatures are uncommon.";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4238
Feats: 18, 32, 36, 44, 30,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Flags: 1, 32, 49, 51, 89,
19, 56;
On Event 164 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
},
(41+2000) {
if (e.DType == 1)
e.vDmg = (e.vDmg * 15) / 10;
return 0;
},
209
"It is vulnerable to fire, suffering 150~ damage from fire attacks.
       It projects an aura of despair in a 20 foot radius, causing nearby
       creatures to suffer a -2 general morale penalty.";
Gear:
25% $"amulet" of random 2 to 6,
50% $"longspear" +1;
}

Monster "mummy lord" : 55
{
Image: white 'U'; Size: 4; Mana: 180;
CR: 10; HD: 15; Hit: +12; Def: 16; Mov: 70%; Spd: 75%;
Str 22, Dex 12, Con 0, Int 12, Wis 20, Cha 17;
Attk: 19 for 1d8 13,
9 for 0d0 27 (DC 16),
102 for $"mummy";
Stati[39,42,6];
Stati[39,82,7];
Stati[39,23,7];
Stati[221,0,0,$"Death"];
Stati[221,0,0,$"Guardian"];
Stati[221,0,0,$"Retribution"];
Disease: $"mummy rot";
Spells: $"bestow curse", $"summon swarm";
Desc: "Mummies are undead creatures created by potent magical
      rituals practiced by certain desert-dwelling ancient civilizations.
      Many of these rights have since been unearthed by modern
      spellcasters, though mummification is more popular among clerics
      than mages, since the rituals are highly religious. While most
      mummies are malicious creatures, they are also ordered and
      dutiful beings that adhere vigorously to religious law.
      The priesthoods of Xel and Aiswin frequently creatures mummies, as 
      do some truly ancient members of the Multitude. More benevolent
      mummies are sometimes created by (or from!) priests of Mara or
      Xavias, though these creatures are uncommon.\n
      __The most powerful mummies are known as mummy lords, and augment
      their potent innate abilities with a powerful understanding of
      clerical magic and a far greater degree of intelligence and
      reason then the majority of their kind.";
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4292
Feats: 18, 32, 36, 44, 30,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((49 + 1) + 32) + 50) + 38) + 30) + 26), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 3), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45);
Flags: 1, 32, 49, 51, 89,
19, 56;
On Event 164 {
EMap->NewField(0x00000004|0x00000002,EActor->x,EActor->y,2,
2*256+249,-1,$"aura of despair",EActor);
},
(41+2000) {
if (e.DType == 1)
e.vDmg = (e.vDmg * 15) / 10;
return 0;
},
(37+1000) {
EActor->IdentifyMon();
return 0;
},
209
"It is vulnerable to fire, suffering 150~ damage from fire attacks.
       It projects an aura of despair in a 20 foot radius, causing nearby
       creatures to suffer a -2 general morale penalty.";
Lists:
* 21
(52 + 1000);
Gear:
$"amulet" of random 5 to 10,
50% $"amulet" of random 5 to 10,
75% $"ring" of $"fire resistance",
50% $"cloak" +2 of $"resistance",
50% $"longspear" +3;
}

Monster "revenant" : 55
{
Image: yellow 'U'; Size: 4;
CR: 5; HD: 4; Hit: +4; Def: 15; Mov: 100%; Spd: 100%;
Str 18, Dex 16, Int 14, Wis 16, Cha 14; Arm: 4;
Attk: 1 for 1d2 13,
102 for $"corporeal undead";
Stati[39,98,2];
Stati[39,42,6];
Stati[39,66,3];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4336
Feats:
3, 31, 44, 32,
7, 22, 4,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3);
Flags: 1, 32, 107;
Desc: "Some creatures die with their greatest ambitions in life
      unfulfilled, only to return from the grave as revenants -- either
      through Mara's blessing or the sheer force of their own willpower.
      Revenants are canny undead, driven to the point of obsession to
      fulfill what they failed at in life. Physically strong and possessed
      of unearthly willpower, they can be a frightening threat or steadfast
      ally to a living adventurer.";
Gear:
$"peasant garb",
25% $"chainmail" else
33% $"banded mail" else
50% $"cord armor" else
$"coat of plates",
25% $"halberd" else
33% $"long sword" else
50% $"heavy mace" else
$"large club",
10% $"ring" of random 3 to 8;
}

Monster "mourner" : 55
{
Image: bright cyan 'U'; Size: 4; Mana: 45;
CR: 6; HD: 6; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Str 10, Dex 14, Int 6, Wis 13, Cha 17;
Attk: 1 for 1d2 13,
43 for 1d2 55,
102 for $"corporeal undead";
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4371
Feats:
44, 32, 37,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 36), ((((49 + 1) + 32) + 50) + 8);
Spells: $"silence", $"creeping cold", $"revenance", $"enthrall";
Flags: 1, 32, 51, 12, 56;
Desc: "Many sages have speculated on the origin and purpose of
      the mourners. Emaciated figures cloaked in black cowled robes
      carrying lengths of magical chain, these creatures, though
      corporeal undead, do not appear to be the remains of creatures
      who once lived. How they come into existance is unknown. What
      is known is that they show up at the sights of great battles
      and massacres to terrorize the guilty and bring about justice
      according to their own, harsh code. Mourners never speak and
      move in utter silence, gliding over the ground with only the 
      trails of their robes brushing the floor.";
On Event 41 {
if (e.DType == 55)
EVictim->IPrint("You experience a soul-draining flashback of
          unresolved violence!");
return 0;
},
36, (49+1000) {
EActor->IdentifyMon();
return 0;
};
Gear:
$"robes",
25% $"spiked chain" of random 1 to 6 else
$"spiked chain";
}




Template "vampire" : 0x0010 for 91
{
Glyph: pink 'V'; MType: 56;
CR: +4 (Min 7); HD: +4; Hit: +5; Def: +6;
Caster Level: +2; Power: +2;
Str +9, Dex +6, Con =0, Int +3, Wis +3, Cha +6; Arm +10; Attk: 7 for 1d6 12
and 6d6 32,
31 for 1d4 45 (DC 17),
43 for 3d6 90 (DC 17),
101 for $"bat",
101 for $"wolf";
Stati[39,40,1];
Stati[39,66,5];
Stati[39,42,12];
Stati[39,98,4];
Stati[124,6,8];
Stati[124,18,8];
Stati[124,32,8];
Stati[124,36,8];
Stati[124,41,8];
Stati[124,3,8];
Stati[124,44,8];
Spells: $"spider climb", $"Summon Rats", $"Summon Bats",
$"Summon Wolves";
Feats:
7, 6, 18, 22, 32,
36, 41, 3, 44,
((49 + 1) + 5), (((49 + 1) + 32) + 14), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 12), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4437
Resists: 0x00000002, 0x00000008;
Flags: 32, 49, !50, 52, !51, 53,
8, -1,
-3, 55, !19, 18;
Desc: "Vampires appear just as they did in life, although their
    features are often hardened and feral, with the predatory look of
    wolves.  Like liches, they often embrace finery and decadence and may
    assume the guise of nobility. Despite their human appearance, vampires
    can be easily recognized, for they cast no shadows and throw no
    reflections in mirrors.";
On Event 155 {
if (EActor->isMType(87) &&
EActor->isMType(91))
return 1;
else
return -1;
},
(17+1000) {
if (EActor->mID == EActor->tmID)
EActor->IdentifyTemp($"vampire");
return 0;
},
(41+500) {
if (e.DType == 90)
{
RedirectEff(e,$"dominate monster",52);
EActor->IdentifyTemp($"vampire");
return 1;
}
return 0;
},
210
"dominate its victim";
}

Effect "Summon Rats" : 9
{ 0x00000100; Base: 80; Cost: 8; qval: 0x0002;
Purpose: 0x00100; rval: $"pack encounter"; pval: 4;
Desc: "This power allows a vampire to summon a group of
      giant rats worth CR 4.";
Flags: 82, 79, 95;
On Event 206
"You call for aid!" / "The <EActor> calls for aid!";
On Event (184+500) {
e.enConstraint = (int32) $"giant rat";
return 0;
};
}

Effect "Summon Bats" : 9
{ 0x00000100; Base: 80; Cost: 8; qval: 0x0002;
Purpose: 0x00100; rval: $"pack encounter"; pval: 4;
Desc: "This power allows a vampire to summon a group of
      bats worth CR 4.";
Flags: 82, 79, 95;
On Event 206
"You call for aid!" / "The <EActor> calls for aid!";
On Event (184+500) {
e.enConstraint = (int32) $"bat";
return 0;
};
}

Effect "Summon Wolves" : 9
{ 0x00000100; Base: 80; Cost: 8; qval: 0x0002;
Purpose: 0x00100; rval: $"pack encounter"; pval: 4;
Desc: "This power allows a vampire to summon a group of
      wolves worth CR 4.";
Flags: 82, 79, 95;
On Event 206
"You call for aid!" / "The <EActor> calls for aid!";
On Event (184+500) {
e.enConstraint = (int32) $"wolf";
return 0;
};
}



Monster "vampire spawn" : 56
{
Image: grey 'V'; Size: 4;
CR: 4; HD: 4; Hit: +2; Def: 13; Mov: 100%; Spd: 100%;
Str 16, Dex 14, Con 16, Int 13, Wis 13, Cha 14;
Attk: 7 for 1d6 13
and 3d6 32,
31 for 1d4 45 (DC 17),
43 for 3d6 90 (DC 17),
102 for $"human";
Stati[39,40,1];
Stati[39,42,6];
Stati[39,66,2];
Stati[39,98,4];
Stati[39,105,1];
Spells: $"spider climb";
Feats: 7, 6, 18, 22, 32,
36, 41, 3, 44, ((49 + 1) + 5),
((((((49 + 1) + 32) + 50) + 38) + 30) + 8), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 0),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4537
Flags: 1, 32, 49, 52, 53,
8, 18, 55, 24;
Desc: "Vampire spawn are the result when a vampire tries to bring
      across an individual whose psyche is too weak to survive the
      transformation as a full-fledged vampire. Vampire spawn are 
      cunning predators without any concept of morality, who seek
      to acquire power and feed upon the blood of the living.";
On Event (20+1000) {
EActor->IdentifyMon();
return 0;
},
(41+500) {
if (e.DType == 90)
{
RedirectEff(e,$"dominate monster",52);
EActor->IdentifyMon();
return 1;
}
return 0;
},
210 "dominate its victim";
}


Template "zombie" : 0x0010 for 91
{
MType: 60; Glyph: brown 'Z'; CR +1;
Str +6, Dex -4, Con =0, Int = 0, Wis -6 (min 2), Cha -6 (min 1);
Def: -2; Arm: +5; Spd: 50%; HitDice: +3 (max 12); Mov: 30%;
Stati[39,42,6];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4569
Flags: 32, 33, !50, !49, !51,
!52, 53, 89, !12, !59,
-1, 55, -2, -3,
56;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37)))
return -1;
return 0;
};

}

Template "zombie;visage" : 0x0010 for 91
{
Glyph: brown 'Z'; CR: 0;
Cha -6 (min 1);
Resists: 0x00000002, 0x00000008;
Flags: 24, -4, 20, -2, -3;
On Event 42 {
EActor->RemoveEffStati($"zombie;visage");
};
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37)))
return -1;
return 0;
};
Desc: "The Visage of Death spell allows you to alter your appearance to
    that of a zombie of the same size class. Your body temperature will
    feel cold and your limbs will appear stiff, putrid and rotting; you
    lose six points of Charisma. This spell does not actually make you
    undead or grant the usual undead abilities or resistances. However, it
    does grant resistance to cold and electricity and you do not need to
    breathe while the spell is in effect. Finally and perhaps most
    importantly, the spell makes you neutral to undead by default.";
}

Template "skeleton" : 0x0010 for 91
{
MType: 112; Glyph: white 'Z'; CR +1;
Con =0, Int = 0, Wis -6 (min 2), Cha -6 (min 1);
Spd: 90%; HitDice: 80% (max 5); Mov: 80%;
Attk: 6 for 1d6 11;
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000, 0x00000002;
#line "mon3.irh" 4623
Resists: 0x00000800, 0x00000400;
Flags: 32, 33, !50, !49, !51,
!52, 53, 89, 33,
!50, 55, !12, !59, -1,
-2, -3, !18, 19,
56;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37)))
return -1;
return 0;
};
}

Template "graveborn;template" : 0x0010 for 91
{
MType: 55; Image: gray 'U';
CR: +0 (Min 2);
Con =0;
Stati[39,42,6];
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4651
Flags: 32, 36, 19, 23, -2;
Desc: "Graveborn are weak undead, recently raised from
      the grave. Through some magical mischance or divine favor they retain
      their previous intelligence and drive and can advance in any standard
      character class. ";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (!(EActor->HasMFlag(1) || EActor->isMType(2) ||
EActor->isMType(35) || EActor->isMType(37) ||
EActor->isMType(46)))
return -1;
return 0;
};
}


Template "avenging spirit" : 0x0010 for 91
{
MType: 53; Glyph: white 'N'; CR: +3;
Con = 0; Wis +4; Cha +4;
Stati[39,98,8];
Stati[124,18,8];
Stati[124,32,8];
Stati[124,41,8];
Stati[124,44,8];
Feats: (((((49 + 1) + 32) + 50) + 38) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 40);
Flags: 32, !49, 50, 12, 9,
-2, -3, 88, 70;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(37))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (EActor->HasMFlag(49))
return -1;
if (EActor->GetAttr(5) < 6)
return -1;
return 0;
};
Spells: $"searing light", $"holy smite", $"cause fear";
Gear:
$"chainmail" of random 2 to 5,
$"long sword" +2 with [77, 1];
}

Template "ghost" : 0x0010 for 91
{
MType: 53; Glyph: bright blue 'N'; CR +6; Con =0, Cha +4;
Attk:
43 for 2d10 8 (DC 18),
43 for 1d4 55 (DC 18),
9 for 1d6 73,
47 for 2d4 28 (DC 18);
Stati[39,98,4];
Stati[124,18,8];
Stati[124,32,8];
Stati[124,41,8];
Stati[124,44,8];
Feats: (((((49 + 1) + 32) + 50) + 38) + 7);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4717
Flags: 32, 49, !50, 12, 9,
-2, -3, 88;
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(37))
return -1;
if (EActor->HasMFlag(10) || EActor->HasMFlag(9))
return -1;
if (EActor->GetAttr(5) < 6)
return -1;
return 0;
},
213 "wail" / "wails";
}

Template "death knight" : 0x0002 for 87
{
Flags: 32, 112,
53, 51, 49, !52, !50,
61, -3, 107;
CR: +3 (Min 6); MType: 76;
Str +4, Wis +2, Cha +2, Con =0;
Attk: 53 for 28 (DC 14);
Stati[124,20,8];
Stati[124,3,8];
Stati[124,44,8];
Stati[124,40,8];
Stati[39,42,6];
Stati[39,98,4];
Stati[118,18,((16*5)-50)];
Spells: $"desecrate", $"detect good", $"protection from good"
$"symbol of pain";
HD: +0; Def: +3; Hit: +0; Mov: 100%; Spd: 100%;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 30), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 49);
Immune: 0x00100000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x04000000, 0x00000020, 0x00400000, 0x10000000;
#line "mon3.irh" 4755
Gear: $"kite shield" of random 1 to 2,
$"heavy lance" of random 1 to 2,
$"full plate armor" of random 1 to 2;
On Event 155 {
if (EActor->GetAttr(25) == 4)
return 0;
else
return -1;
};
Lists:
* 117
100 $"nightmare"
10 $"graveborn;template" $"warhorse"
$"graveborn;template" $"pegasus";
Desc: "Doomed to devastate the world they once cherished, death knights
    are cursed paladins.";
}



Template "elder" : 0x0001 for 76
{ CR: +2; Str +1, Int +2, Cha +2; Spd: +5; HD: 150% (min 4);
Power: +3; Caster Level: +2;
Hit: 140%; Def: +2; Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
(((49 + 1) + 32) + 14), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Stati[39,66,3];
Stati[39,98,3];
Stati[39,18,4];
Desc: "After decades of existence, the elder undead is far
      more cunning, potent, resilient and skillful than its more
      mundane counterparts. It can command its fellows, naturally
      heal injuries and fights with terrifying skill.";
On Event (20+1000), (37+1000) {
EActor->IdentifyTemp($"elder");
return 0;
};
}

Template "ancient" : 0x0001 for 76
{ CR: +3; Str +2, Int +4, Cha +4; Spd: +10; HD: 200% (min 6);
Power: +6; Caster Level: +4;
Hit: 180%; Def: +4; Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 13),
(((49 + 1) + 32) + 14), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((49 + 1) + 32) + 50) + 38) + 9);
Stati[39,66,7];
Stati[39,98,6];
Stati[39,18,9];
Desc: "After centuries of existence, the ancient undead is far
      more cunning, potent, resilient and skillful than its more
      mundane counterparts. It can command its fellows, naturally
      heal injuries and fights with terrifying skill.";
On Event (20+1000), (37+1000) {
EActor->IdentifyTemp($"ancient");
return 0;
};
}

Template "spiked;template" : 0x0008 for 0
{ CR: +1; Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31); Flags: -2;
Desc: "The internal structure of this being has been warped and large,
    wickedly sharp spikes have burst forst from its surface. These spikes
    are typically caused by the Skeletal Spikes spell.";
Attk:
23 for 1d6 12,
23 for 1d6 12,
23 for 1d6 12;
On Event 155 {
if ((EActor->isMType(76) ||
EActor->isMType(36)) &&
!EActor->HasMFlag(5) &&
!EActor->HasMFlag(9) &&
!EActor->HasMFlag(10) &&
EActor->mID != $"crawling claw")
return 1;
else
return -1;
};
}

Template "spellstitched" : 0x0008 for 76
{ CR: +2; Int: +2; Feats: ((((49 + 1) + 32) + 50) + 35);
Desc: "Covered with ornate ritual tattoos, this undead beast has
      been imbued with the ability to use certain spell-like abilities
      by a dark necromantic ritual -- the very essence and formula of
      the magic having been grafted onto its being.";
On Event 156 {
int32 maxlev, i, j, k; rID spID;

maxlev = max(2,EActor->ChallengeRating()/2);
j = 1d4+2;
for (i=0;i!=j;i++)
{
for(k=0;k<=10;k++)
{
spID = theGame->GetEffectID(1,1,maxlev,50);
if (spID)
if (spID->Schools & (0x00000010|0x00000040|0x00000100|0x00000002))
if (spID->Purpose != 0x00000)
{
EActor->GainPermStati(42,NULL,3,0,0,spID,0);
k = 50;
}
}
}
return 0;
},
(36+1000) {
if (EActor->HasEffStati(42,e.eID))
EActor->IdentifyTemp($"spellstitched");
return 0;
},
155 {
if ( EActor->isMType(45) || EActor->isMType(60) )
return -1;
if ( EActor->HasMFlag(9) )
return -1;
return 0;
},
209
"It has 1d4+2 randomly chosen arcane spells from the schools of
         <9>Arcana<7>, <9>Evocation<7>, <9>Necromancy<7> and <9>Weavecraft<7>
         as innate spell-like abilities.";
}
#line "mon4.irh" 15
Monster "fiend" : 37
{
Image: red 152; Size: 4;
Desc: "Fiends are sadistic and monsterous creatures from worlds far
      beyond Theyra. Some, demons, are aligned with chaos, while others
      (devils) are lawful in temperment, but all are inheranty evil, and
      in fact are the living personification of all-consuming darkness.
      Destroying a fiend is a good act for a creature aspiring to a good
      alignment, though there are plenty of selfish reasons to kill them
      too -- such as avoiding being tortured, corrupted or eaten.\n
      __Fiends come in a wide variety of monsterous forms, and only a
      skilled demonologist can identify them all. Learning the specific
      species of a fiend is based on the Knowledge (Infernal) skill.";
Flags: 108, 24;
}
#line "mon4.irh" 38
Monster "manes" : 72
{
Image: cyan 151; Size: 3;
CR: 1; HD: 1; Hit: +1; Def: 10; Mov: 70%; Spd: 90%;
Str 10, Dex 10, Con 10, Int 3, Wis 3, Cha 3;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 12,
52 for 2d6 3,
102 for $"fiend",
99 for 10% 72 (CR 4);
Stati[39,91,6];
Stati[39,42,6];
Stati[39,105,1];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 22, 7;
Resists: 0x00000001, 0x00000002, 0x00000004;
Immune: 0x00000008, 0x00000010;
Flags: 52, 49, 53, 1,
88, 56, 33, 107;
On Event (41+2000) {
if (EActor->mID == $"manes")
if (e.DType == 3 && e.AType == 52)
{
e.Immune = true;
return 1;
}
return 0;
};
Desc: "The lowest of all demons, manes are the wretched souls
      of the damned transformed into a pathetic form. They appear
      as obese grey bags of distended flesh, open wounds filled
      with squirming maggots -- it would be easy to mistake them
      for undead (though they aren't). Manes are driven to madness
      with pain, agony and loss, and are effectively mindless as a
      result. More powerful demons herd them forward in truly vast
      numbers, using them as shock troops and cannon fodder in the
      endless wars that plague the Abyss.";
}

Monster "quasit" : 72, 15
{
Image: blue 'i'; Size: 2; Arm: 3;
CR: 2; HD: 3; Hit: +2; Def: 13; Mov: 150%; Spd: 100%;
Str 8, Dex 17, Con 10, Int 10, Wis 12, Cha 10;
Attk: 7 for 1d4 12,
6 for 1d3 11 and 60 (DC 13),
6 for 1d3 11 and 60 (DC 13),
101 for $"bat",
101 for $"giant rat";
Stati[39,66,2];
Stati[39,105,1];
Poison: $"quasit venom";
Stati[118,13,+1];
Feats: (((49 + 1) + 32) + 44), 18,
32, 36, 41, 43, 44;
Flags: 53, 52, 49, 79, 13,
88, 56;
Desc: "These creatures are among the weakest of demonkind, often
      sent to the prime material plane to serve as familiars to
      chaotic and evil mages. A quasit is a two-foot tall humanoid
      with sharp claws, spiky horns and bat wings.";
}

Poison "quasit venom" : 4
{
Level: 3;
cval: 2;
sval: 13;
lval: 2;
xval: 51; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Dexterity damage every 
      <11>2<7> turns, and requires <11>2<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Monster "rutterkin" : 72
{
Image: grey 151; Size: 5; Arm: 6;
CR: 4; HD: 5; Hit: +4; Def: 10; Mov: 70%; Spd: 90%;
Str 14, Dex 15, Con 14, Int 9, Wis 12, Cha 10;
Attk: 6 for 1d6 11,
6 for 1d6 11,
102 for $"fiend",
99 for 10% 72 (CR 4);
Stati[39,91,1];
Stati[39,42,6];
Stati[39,105,1];
Feats: ((49 + 1) + 7), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 12), ((((49 + 1) + 32) + 50) + 12),
7, 20, 22, 32, 36,
44, 46;
Resists: 0x00000001, 0x00000002, 0x00000004;
Immune: 0x00000008, 0x00000010;
Flags: 52, 49, 53, 1,
88, 56, 107;
Spells: $"globe of shadow", $"cause fear", $"desecrate",
$"dire charm";
}

Monster "jovoc" : 72
{
Image: red 151; Size: 3; Arm: 3;
CR: 7; HD: 4; Hit: +4; Def: 12; Mov: 100%; Spd: 120%;
Str 12, Dex 15, Con 16, Int 7, Wis 10, Cha 7;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 1d4 13,
102 for $"fiend",
99 for 25% 72 (CR 5);
Stati[39,91,10];
Stati[39,42,6];
Stati[39,66,5];
Stati[39,105,1];
Stati[118,18,30];
Feats: (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48), 18, 32,
3, 44, 41;
Resists: 0x00000001, 0x00000002, 0x00000004;
Immune: 0x00000008, 0x00000010;
Flags: 52, 49, 53, 1,
88, 56, 57, 107;
Desc: "These tiny sadists are able to channel any injury done
      to them to similarly affect anyone nearby. They are humanoids
      with builds similar to a gnome, but their skin is blackened,
      tanned and emaciated, and their features have a feral look. Their
      hands alone are brilliant red, and their fingers curve into long, 
      sharp talons.";
On Event ((41+1000)+2000) {
int32 i; hObj c, m, hJovoc; int32 msg_flag;
msg_flag = 0;
m = GetHandle(EMap);
if (m == NULL || EVictim->isDead())
return 0;
if (e.DType > 13)
return 0;
hJovoc = GetHandle(EVictim);

if (e.aDmg) {
for(c = m->FirstThing();c; c = m->NextThing()) {
if (c->isCreature() && c != hJovoc)
if (dist(hJovoc->x,hJovoc->y,c->x,c->y) <= 4)
if (!c->isMType(72)) {
if (!msg_flag) {
msg_flag = 1;
VPrint(e,"Your injury retributively affects everyone close to you.",
"The jovoc's injuries retributively manifest on everyone nearby it!");
}
if (c->SavingThrow(0,15))
ThrowDmg(41,e.DType,e.aDmg/2,"a jovoc's aura of retribution",EVictim,c);
else
ThrowDmg(41,e.DType,e.aDmg,"a jovoc's aura of retribution",EVictim,c);
}
}
}
},
209
"Any damage done to it is reflected back on any non-demon within 40 feet; a
        Fortitude saving throw (DC 15) halves the reflected damage.";
}

Monster "uridezu" : 72, 25
{
Image: white 151; Size: 4; Mana: 37;
CR: 6; HD: 7; Hit: +7; Def: 10; Mov: 135%; Spd: 125%;
Attk:
6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12
and 1d4 25 (DC 22),
24 for 1d2 13
and 0d0 67 (DC 22),
102 for $"fiend",
99 for 40% 72 (CR 6);
Stati[39,91,10];
Stati[39,42,6];
Stati[39,71,6];
Stati[39,105,1];
Stati[41,((((((49 + 1) + 32) + 50) + 38) + 30) + 22)];
Stati[216,25];
Stati[118,18,25];
Immune: 0x00000010, 0x00000008;
Resists: 0x00000002, 0x00000001, 0x00000004;
Feats: ((49 + 1) + 25), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 7, 22,
32, 36, 18, 44;
Spells: $"globe of shadow", $"desecrate", $"detect monsters",
$"unholy blight", $"vampiric touch", $"rigor mortis",
$"doom", $"pyrotechnics";
Flags: 1, 53, 52, 49, 79,
88, 107;
On Event (41+500) {
if (e.DType == 67 && 1d2 == 1 &&
EVictim->InSlot(2) != NULL)
e.DType = 68;
return 0;
},
209
"Rodents instinctively recognize it as their master. It has a
         +4 racial bonus to disarm attempts.";
Desc: "One of the many weaker ranks of demons in the Abyss, Uridezu
      appear as hairless, emaciated anthropomorphic rats. They have
      leathery white skin, beady red-pink rodent eyes and a prehensile,
      15-foot long tail. Sometimes they grab the length of the latter in
      their hands and wield it as a whip, often using it to trip, disarm
      or ensnare opponents. Uridezu serve Abyssal society (such as it is)
      as pages, gofers and units of light skirmishers, but prefer to skulk 
      in the shadows, flee anything larger or more powerful than them and
      stalk, terroriz and murder anything weaker.";
}

Monster "ghour" : 72, 41
{ Image: brown 154; Size: 6;
CR: 13; HD: 12; Hit: +10; Def: 10; Arm: 14;
Str 28, Dex 8, Con 20, Int 15, Wis 13, Cha 11;
Move: 150%; Spd: 150%;
Attk:
23 for 1d8 12,
23 for 1d8 12,
16 for 2d6 13,
16 for 2d6 13,
42 for 1d6 50 (DC 21),
102 for $"fiend",
47 for 1d4 17 (DC 13);
Stati[118,18,((25*5)-50)];
Stati[39,71,3];
Stati[39,91,10];
Stati[39,94,20];
SPells: $"chaos hammer", $"deeper darkness",
$"desecrate", $"detect good",
$"magic circle vs. good",
$"teleport", $"unholy blight",
$"confusion", $"fear", $"righteous might";
Immune: 0x00000010, 0x00000008;
Resists: 0x00000002, 0x00000001, 0x00000004;
Feats: (((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
6, 7, 8, 11, 18,
22, 32, 36, 44, 48;
Flags: 1, 53, 52, 49, 79, 88,
15, 107;
On Event (49+1000) {
if (e.AType == 47) {
EActor->GainTempStati(72,NULL,10d6,6,47);
}
return 0;
},
200
"cloud of weakening gas";
Desc: "A ghour is a 20-foot-tall humanoid creature that strongly
  resembles an oversized ogre.";
}

Monster "palrethee" : 72
{
Image: bright red 151; Size: 4; Arm: 7;
CR: 9; HD: 8; Hit: +8; Def: 18; Mov: 100%; Spd: 125%;
Str 19, Dex 16, Con 16, Int 13, Wis 12, Cha 11;
Attk: 19 for 1d8 13,
19 for 1d8 13,
54 for 2d8 1,
102 for $"fiend",
99 for 35% 72 (CR 8);
Stati[39,42,6];
Stati[39,91,10];
Stati[117,51,-2];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Spells: $"see invisibility", $"detect monsters", $"fear";
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 23),
6, 11, 18, 20,
32, 3, 43, 44;
Flags: 1, 53, 52, 49, 79,
88, 41, 107;
Desc: "In the Abyss, failure carries unimaginable costs -- the
      palrethee serve to illustrate this fact in a visceral manner.
      It isn't known what terrible offence they wrought against the
      powers that be so many millenia ago -- perhaps the conspired
      to usurp the station of the balor -- but their punishment is
      unforgettable. The palrethee have been turned into eternal
      torches -- set aflame and kept alive by magic to burn for all
      eternity.\n
      __A palrethee appears as an emaciated, vaguely humanoid being
      with leathery purple skin and the bony remnants of wings long
      since flayed of flesh. Their faces are distended and covetious,
      with long ears and sharp teeth at the end of a mouth that could
      almost be called a muzzle.";
On Event 209
"It suffers a constant -2 circumstance penalty to all rolls as a
        result of the agony of burning alive. Any creature struck by its
        fiery aura attack will be set ablaze, suffering an additional 1d8 
        points of fire damage every turn until they succeed at a Reflex 
        save (DC 17) to put out the flames. Additional contact does not
        increase the damage when a creature is already aflame.",
(41+1000) {
if (e.AType == 54 && e.DType == 1 && e.aDmg != 0)
RedirectEff(e,$"Demonic Burn",52);
return 0;
},
150 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->isType(58))
if (h->QualityOK(7))
h->AddQuality(7);
return 0;
};
Gear:
50% $"long sword" +1 else
50% $"halberd" +1 else
50% $"glaive" +1 else
$"greataxe" +1;
}

Effect "Demonic Burn" : 3
{ xval: 79; yval: 32; Flags: 85, 33;
On Event (32+10000) {
int32 saveDC;
if (EActor->SavingThrow(1,17,0x00000010))
{
EActor->IDPrint("You manage to put out the flames.",
"The <hObj> is no longer burning.", EActor);
EActor->RemoveEffStati($"Demonic Burn");
return 1;
}
EActor->IDPrint("You burn!", "The <hObj> burns!", EActor);
ThrowDmg(41,1,1d8,"being burned alive",EActor,
EActor->GetEffStatiObj(79,$"Demonic Burn"));
return 0;
},
28 {
if (EVictim->HasEffStati(79,$"Demonic Burn"))
return 1;
if (EVictim->SavingThrow(1,17,0x00000010))
{
EVictim->IPrint("You avoid being set on fire.");
e.Resist = true;
return 1;
}
EVictim->IDPrint("You catch on fire!",
"The <hObj> catches on fire!", EVictim);
return 0;
};
}
#line "mon4.irh" 380
Monster "babau" : 72
{
Image: skyblue 151; Size: 4; Arm: 10;
CR: 6; HD: 7; Hit: +12; Def: 18; Mov: 100%; Spd: 135%;
Str 21, Dex 12, Con 20, Int 14, Wis 13, Cha 16;
Attk: 7 for 1d6 12,
6 for 1d6 11,
6 for 1d6 11,
60 for 3d8 3 (DC 24),
102 for $"fiend",
99 for 35% 72 (CR 6);
Stati[124,18,8];
Stati[124,32,8];
Stati[124,36,8];
Stati[124,41,8];
Stati[39,80,3];
Stati[39,42,6];
Stati[39,91,10];
Immune: 0x00000008, 0x00000010;
Stati[118,13,+1];
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((49 + 1) + 32) + 7), 18, 32,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 44, 36;
Flags: 1, 53, 52, 49, 79, 88,
43, 107;
Spells: $"globe of shadow", $"dispel magic", $"dimension door",
$"See Invisibility";
Desc: "Babaus are sneaky and sly. They attack the most powerful foe
    first, hoping to eliminate the true threats quickly and then toy with
    the rest. When ambushing their opponents, they make excellent use of
    the combination of multiple attacks and sneak attacks. A slimy red jelly
    coats the babau's skin. ";
}

Monster "nabassu" : 72
{
Image: brown 151; Size: 4; Arm: 9; Mana: 90;
CR: 9; HD: 7; Hit: +7; Def: 15; Mov: 125%; Spd: 125%;
Str 19, Dex 13, Con 14, Int 14, Wis 14, Cha 13;
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d6 12,
102 for $"fiend",
99 for 50% 72 (CR 8);
Stati[118,18,50];
#line "mon4.irh" 428
Stati[39,22,10];
Stati[39,42,6];
Stati[39,61,6];
Stati[39,91,10];
Stati[39,83,6];
Stati[39,80,3];
Stati[124,18,+4];
Stati[124,36,+4];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: 7, 18, 36, 32, 44,
41, 20, 25,
(((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23);
Spells: $"globe of shadow", $"deeper darkness", $"Paralyzing Aura",
$"Summon Ghasts", $"Death Stealing";

Flags: 1, 53, 52, 49, 79, 12,
88, 39, 107;
Desc: "Of all the races of demons, the nabassu are the most likely
      to be found on the Prime Material plane -- they journey to human
      worlds in order to feed upon the flesh of men (or demihumans), 
      and thereby come of age. These sojourns are a source of great
      sport and racuous celebration for nabassu, and they delight in
      their power to take strength from the flesh of others before
      their more serious responsibilities as adult demons come into 
      play. Nabassu are, quite literally, death-dealers -- they possess
      the magical ability to steal the deaths of living creatures and
      pass them on to others. Many nabassu cultivate this inherant
      magic by becoming powerful necromancers or respected assasion,
      and they are known in the Abyss as the undisputed experts of all
      things thanatoic.\n
      __Nabassu are about seven feet tall, with leathery grey skin. They
      are tall and slender with avian features, and can be mistaken for
      gargoyles at a distance. They have elongated, almost batlike heads,
      large tusks emerging from their lower jaw, long slender claws and
      grey feathered wings.";
On Event 150 {
#line "mon4.irh" 467
if (1d2 == 1)
EActor->IncEffStatiMag(189,
$"Death Stealing", 7, NULL, 1d6);
if (EActor->ChallengeRating() >= 11)
{
EActor->GainPermStati(42,NULL,
3,0,0, $"energy drain");
EActor->GainPermStati(42,NULL,
3,0,0, $"teleport");
EActor->GainPermStati(42,NULL,
3,0,0, $"vampiric touch");
EActor->GainPermStati(42,NULL,
3,0,0, $"spell turning");
EActor->GainPermStati(42,NULL,
3,0,0, $"retributive mirror");
EActor->GainPermStati(126,NULL,
3,0,400, $"nabassu");
}
return 0;
},
42 {
EActor->IncEffStatiMag(189,
$"Death Stealing", 7, NULL, 1);
TPrint(e,"You steal the <EVictim>'s death!",
"The <EActor> steals your death!",
"The <EActor> steals the <EVictim>'s death!");
return 0;
},
209
"If it rises to or above Challenge Rating 11 (as the result of
        a template, extra hit dice or any other reason), it gains the
        additional innate spell-like abilities <9>energy drain<7>,
        <9>teleport<7>, <9>vampiric touch<7>, <9>retributive mirror<7>
        and <9>spell turning<7>, as well as the ability to regenerate 
        4 hp per round.";
Constants:
* 108 $"ghast";
Gear:
25% $"wand" of random 5 to 9;
}

Effect "Summon Ghasts" : 9
{ 0x00000040; Cost: 7; Level: 4; qval: 0x0002;
Purpose: 0x00100; rval: $"shadow"; pval: 1d4+4;
Desc: "Summons a group of ghasts worth CR 1d4+4.";
Flags: 79, 82;
On Event 206
"The <EActor> calls upon unholy aid!"; }

Effect "Paralyzing Aura" : 3
{ 0x00000080; Cost: 12; aval: 11; lval: 2; cval: 1;
xval: 9; yval: 0; sval: 2; Level: 6;
Flags: 82, 35;
Desc: "A nabassu can eminate an aura of paralyzation within
      a 10-foot radius of its being, requiring all creatures other
      than it and its allies to succeed in a Fortitude save or be
      paralyzed."; }

Effect "Death Stealing" : 46
{ 0x00000080; Cost: 0; qval: 0x0004; tval: 75;
Flags: 63, 82; sval: 2;
Desc: "When a nabassu kills a victim, they are able to steal that
      victim's death. This causes the victim to continue existing as
      a ghast -- an undead creature bound to serve the nabassu -- in
      spite of their passing on, and their soul remains trapped within
      their now-undead body.\n
      __Additionally, the nabassu can bestow this stolen death on any
      other living creature instantly, with nothing more than a glance.
      This will strike dead any creature who fails a Will saving throw.
      This kind of transferral is a death effect, and is blocked by
      powers that block such effects.";
On Event 155 {

if (EActor->GetEffStatiMag(189,$"Death Stealing") == 0)
return -1;
#line "mon4.irh" 544
return 0;
},
28 {
EActor->IncEffStatiMag(189,
$"Death Stealing", 7, NULL, -1);

ThrowDmg(42,6,0,"a stolen death",EActor,EVictim);
if (EVictim->isDead())
VPrint(e,NULL,"The <EVictim> falls to the ground, dead.");
return 1;
},
206
"You bestow a stolen death on the <EVictim>!" /
"The <EActor> bestows a stolen death on you!" /
"The <EActor> bestows a stolen death on the <EVictim>!";
}

Monster "vrock" : 72, 4
{
Image: purple 151; Size: 5; Arm: 10;
CR: 11; HD: 10; Hit: +9; Def: 21; Mov: 200%; Spd: 150%;
Str 23, Dex 15, Con 25, Int 14, Wis 16, Cha 16;
Attk: 7 for 1d8 12,
6 for 2d6 11,
6 for 2d6 11,
27 for 1d6 11,
27 for 1d6 11,
22 for 60 (DC 24),
102 for $"fiend",
99 for 35% 72 (CR 9);
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,50];
Stati[39,91,10];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((49 + 1) + 32) + 7), (((49 + 1) + 32) + 14),
18, 32,
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 44, 36;
Flags: 1, 53, 52, 49, 79, 12,
88, 39, 107;
Spells: $"mirror image", $"dimension door", $"vrock screech", $"heroism",
$"telekinesis", $"dance of ruin";
Desc: "A vrock is about 8 feet tall and weighs about 500 pounds.
      Vrocks are vicious fighters who like to fly down into the enemy and
      cause as much damage as possible. They prance about in battle, taking
      briefly to the air and bringing their clawed feet into play. Despite
      their advantage in mobility, the vrocks' deep love of battle frequently
      leads them into melee combats against heavy odds.";
Poison: $"vrock spores";
On Event 19 {
if (e.AType == 22)
{
if (EActor->HasStati(72,8000 + 22))
return 2;
EActor->GainTempStati(72,NULL,3,7,
8000 + 22);
}
return 0;
};
}

0 Effect "Vrock Screech" : 3
{ xval: 5; aval: 11; lval: 3; sval: 0;
Flags: 82, 89, 88, 58,
55, 34, 23;
Purpose: 0x00001; Cost: 5;
Desc: "A vrock's screech is a horrible, bloodcurdling thing
      to hear, and it stuns all within 30 feet of the demon who
      fail a Fortitude save.";
On Event 206
"You screech!" /
"The <EActor> screeches!"; }

0 Effect "Dance of Ruin" : 1
{ xval: 8; pval: 20d6; lval: 12; aval: 11;
xval: 1; Flags: 82, 11, 55;
Purpose: 0x00001;
Desc: "When three or more vrocks fight together, once every
      thirty turns they can enact the dance of ruin. All three
      creatures dance and gyrate wildly, and then unholy energy
      rains down from above, flaying all creatures in the area
      for 20d6 damage as the vulture-demons' blasphemous prayers
      are answered. A Reflex save for half damage is allowed,
      but lif more then three vrocks participate in the
      dance, the save DC increases by +4 for every participant
      after the first three.";

int32 vrock_count; hObj vrock_caster; int32 the_turn;
On Event 155 {
hObj c;

if (EActor->HasEffStati(72,$"Dance of Ruin"))
return -1;

if (vrock_caster == GetHandle(EActor))
if (theGame->GetTurn() == the_turn)
return (vrock_count >= 3) ? 0 :
-1;

vrock_count = 1;
vrock_caster = GetHandle(EActor);
the_turn = theGame->GetTurn();

for(c = EMap->FirstThing(); c ; c = EMap->NextThing())
if (c->isCreature() && c->mID == $"vrock")
if (c != GetHandle(EActor))
if (dist(c->x,c->y,EActor->x,EActor->y) <= 6)
if (c->isFriendlyTo(EActor))
vrock_count++;
if (vrock_count < 3)
return -1;
return 0;
},
(28+500) {

if (EVictim->isMType(72))
return 2;
return 0;
},
52 {
hObj c;
if (vrock_caster != GetHandle(EActor))
ReThrow(155,e);
for(c = EMap->FirstThing(); c ; c = EMap->NextThing())
if (c->isCreature() && c->mID == $"vrock")
if (dist(c->x,c->y,EActor->x,EActor->y) <= 6)
if (c->isFriendlyTo(EActor))
{
c->GainTempStati(72,NULL,30,7,
0,0,$"Dance of Ruin",0);
if (c != GetHandle(EActor))
c->Timeout += 10;
}
return 0;
},
170 {
e.saveDC += (vrock_count - 3) * 4;
return 0;
},
206
"You and the other vrocks dance. Unholy energies rain from above!" /
"The vrocks dance! Unholy energies rain from above!";
}

Poison "Vrock Spores" : 1
{
Level: 7;
cval: 1;
sval: 24;
lval: 3;
xval: 0; pval: 1d6;
On Event 28
"The vrock spores burrow beneath your skin!" /
"The vrock spores burrow beneath the <EActor>'s skin!";
Desc: "Vrocks can release clouds of spores from their bodies
      that get underneath any nearby victims' skin, burrowing into
      their bodies and growing into thin, piercing grey vines.";
}


Monster "cedar wretch": 72
{
Image: bright black 'P'; Size: 5;
CR: 8; HD: 6; Hit: +5; Def: 10; Mov: 100%; Spd: 130%;
Str 19, Dex 14, Con 17, Int 6, Wis 8, Cha 6; Arm: 8;
Attk: 19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
19 for 1d8 13,
102 for $"dark tree";
Stati[124,18,10];
Stati[39,79,6];
Stati[39,42,6];
Desc: "Cedar wretches are hateful spirits drawn from the Abyss to
      inhabit the husks of trees.";
Resists: 0x00000004, 0x00000002, 0x00000008, 0x00000200;
Immune: 0x00020000, 0x00080000, 0x00010000, 0x04000000, 0x00000010, 0x00000020, 0x00400000,
0x10000000, 0x00100000;
Feats: (((49 + 1) + 32) + 14), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
13, 18, 20,
36, 48;
Flags: 14, 52, 49, 4, 3, 53,
66, 19, 20;
}

Monster "succubus" : 72
{
Image: bright purple 151; Size: 4;
CR: 9; HD: 6; Hit: +6; Def: 20; Mov: 100%; Spd: 115%;
Str 13, Dex 13, Con 13, Int 16, Wis 14, Cha 20;
Attk: 6 for 1d3 11,
6 for 1d3 11,
102 for $"human",

99 for 10% 72 (CR 15);
Stati[39,42,6];
Stati[39,91,10];
Stati[39,61,3];
Stati[118,18,25];
Spells: $"charm person", $"friends", $"deeper darkness", $"desecrate",
$"doom", $"suggestion", $"teleport", $"unholy blight", $"hypnotism",
$"blur";
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: ((49 + 1) + 6), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((49 + 1) + 32) + 50) + 13),
6, 11, 3, 32, 44,
18, 36, 13, 12;
Flags: 1, 53, 52, 49, 79, 12,
88, 107, 65;
Desc: "Appearing to mortals as breathtakingly beautiful, demure women 
      or men of great magnetism and sensuality, succubi and incubi are the
      social agents and sexual predators of the tanar'ri. They procure
      favors from powerful mortals, move unseen among the highest levels
      of society and leads the world into darkness, chaos and corruption
      through its carnal desires.\n
      __The true form of a succubus is a woman with small horns and bat
      wings, while an incubus has tiny horns and cloven hooves. Both breeds
      prefer congress to combat, and will avoid melee unless they have an
      overwhelming advantage. Despite their non-combative nature many
      demons frequently owe these creatures favors, and they are feared
      in the Abyss for their ability to summon aid well outside the range
      of their personal power.";
On Event (17+500), (18+500) {
#line "mon4.irh" 773
if (EVictim->HasStati(62,-1,EActor) ||
EVictim->HasStati(11,-1,EActor))
{
TPrint(e,"You kiss the <EVictim>.",
"The <EActor> kisses you.",
"The <EActor> kisses the <EVictim>.");
ThrowDmg(41,32,10d10, (EActor->StateFlags
& 0x0004) ? "a succubus' embrace" : "an incubus' embrace",
EActor, EVictim);
EActor->Timeout += 40;
return 1;
}
return 0;
},
163 {
e.nBase = (EActor->StateFlags & 0x0004) ? "succubus" : "incubus";
return 0;
},
209
"It can kiss a held victim to steal [10d10 x 50] points of experience.";
Gear:
30% $"whip" else
15% $"whip" of random 3 to 6 else
20% $"spiked chain" of random 3 to 8,
35% $"leather armor" of random 3 to 6,
1d3 $"potion" of $"healing";
}

Monster "buleazu" : 72
{
Image: yellow 151; Size: 5; Arm: 12;
CR: 11; HD: 9; Hit: +9; Def: 12; Mov: 150%; Spd: 150%;
Str 26, Dex 8, Con 24, Int 8, Wis 13, Cha 13;
#line "mon4.irh" 810
Attk: 23 for 2d8 11,
6 for 1d6 11,
6 for 1d6 11,
24 for 1d3 13,
102 for $"fiend",
99 for 25% 72 (CR 6);
Stati[39,42,6];
Stati[39,91,10];
#line "mon4.irh" 820
Stati[39,8,9];
Stati[41,((((((49 + 1) + 32) + 50) + 38) + 30) + 21)];
Stati[41,((((((49 + 1) + 32) + 50) + 38) + 30) + 28)];
Stati[118,18,20];
Spells: $"cause fear", $"bane", $"deeper darkness",
$"fog cloud", $"teleport", $"see invisibility",
$"shout";
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31),
20, 18, 32, 36,
41, 44;
Flags: 1, 53, 52, 49, 88;
int32 gore_hit;
On Event (17+500)
{ gore_hit = 0; return 0; },
(20+1000) {
if (e.AType == 23)
gore_hit = 1;
return 0;
},
(17+1000) {
int32 time, x, y;
if (gore_hit == 1 && !EVictim->isDead()) {
time = EActor->Timeout;
x = EVictim->x;
y = EVictim->y;
ThrowVal(49,61,EActor,EVictim);
EActor->Timeout = time;
if (x != EVictim->x || y != EVictim->y)
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,15,0x00100000))
EVictim->GainTempStati(5,NULL,3d6,6);
}
return 0;
},
209
"If it hits with its gore attack, it may make a free Bull Rush
        attempt at no time cost at the end of its natural attack
        sequence. If this Bull Rush forces the victim back, the
        victim must also make a Fortitude save (DC 15) or be stunned
        for 3d6 rounds.";
Desc: "Far from the most powerful of the Abyssal hordes, these
      demons may none the less be the toughest and most violent.
      They have a simple purpose in their existance -- they are 
      shock troops -- and they relish everything that job entails.
      Buleazu are strong and fearless, being either to stubborn or
      too stupid to give up.\n
      __Buleazu resemble minotaurs in general form, but they lack
      any hair on their bodies, having a leathery grey hide instead.
      Their massively muscled hands and heavy arms allow them to
      wield weapons larger than they would normally be able to as a
      function of their race. Their hides are most frequently covered
      with weeping sores and discolored patches, and their bloodshot
      eyes burn with an unnatural, undying hatred of all things.";
}
#line "mon4.irh" 904
Monster "wastrilith" : 72, 80
{
Image: bright blue 154; Size: 5;
CR: 10; HD: 12; Hit: +9; Def: 15; Mov: 150%; Spd: 150%;
Str 22, Dex 16, Con 15, Int 12, Wis 10, Cha 15;
Attk: 7 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11,
102 for $"fiend",
42 for 3d10 3;
Stati[39,42,6];
Stati[39,91,10];
Stati[39,113,+2];
Stati[39,66,+7];
Stati[124,20,+8];
Stati[124,45,+8];
Stati[118,18,40];
Immune: 0x00000008, 0x00000010, 0x00000002;
Resists: 0x00000004;
Spells: $"blasphemy", $"deeper darkness", $"desecrate", $"cause fear",
$"dispel magic", $"read magic", $"part water", $"telekinesis",
$"teleport", $"unholy blight", $"wall of ice",
$"waterspout", $"whirlpool";
Feats: ((((49 + 1) + 32) + 50) + 35), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27),
((((((49 + 1) + 32) + 50) + 38) + 30) + 3), 6, 13, 20,
29, 32, 45, 44;
Flags: 53, 52, 49, 88, 30, 56,
107;
Desc: "Wastriliths are the antediluvian water demons of the Abyss --
      great, coiling sea creatures that live only to cause terror and
      bloodshed. Their habit of dwelling deep beneath the oceans lead
      many scholars to suggest that there might be more wastriliths on
      the prime material than most other kinds of demons, because their
      habitat allows them to evade notice, preying on sailors and
      adventurers in a more isolated environment.\n
      __Wastriliths have diamond-shaped upper bodies with insectile heads
      and two tentacles in place of arms; their lower body tapers off into
      a long, prehensile tail like an eel's.";
}

Monster "chasme" : 72
{
Image: black 154; Size: 5;
CR: 10; HD: 9; Hit: +9; Def: 20; Mov: 100%; Spd: 125%;
Str 19, Dex 16, Con 18, Int 14, Wis 14, Cha 14;
Attk: 6 for 1d8 11
and 2d4 59,
6 for 1d8 11
and 2d4 59,
15 for 1d10 12
and 3d6 59,
47 for 3d8 16,
53 for 2d4 28 (DC 16),
102 for $"fiend",
99 for 40% 72 (CR 10);
Stati[39,42,6];
Stati[39,91,10];
Stati[124,20,+6];
Stati[118,18,50];
Spells: $"contagion", $"deeper darkness", $"dispel magic",
$"insect plague", $"ray of enfeeblement",
$"protection from good", $"see invisibility",
$"telekinesis", $"teleport", $"stinking cloud",
$"unholy aura";
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: ((((49 + 1) + 32) + 50) + 23), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
20, 18, 32, 36,
41, 44;
Flags: 1, 53, 52, 49, 79, 12,
88, 107;
On Event 213 "drone" / "drones";
Desc: "Loathsome and deviant, the chasme are scavengers and torturers,
      demons who specialize in preying on the weak and exploiting emotional
      and physical vulnerabilities. Chasmes serve as a kinds of internal
      affairs among demons, reporting attempts at betrayal to demon lords 
      even as they delight in betraying their own kind. Few beings in all
      creation are as skilled at inflicting pain as the chasme are.\n
      __Chasme resemble giant, Gigeresque anthropomorphic flies. The droning
      sound produced by their wings is eerie and unnatural, and can lull
      other creatures to sleep even in the heated conditions of battle. 
      Chasme exploit this ability for all it is worth -- there's nothing
      they like less than a fair fight.";
}

Monster "hezrou" : 72
{
Image: green 154; Size: 5; Arm: 10;
CR: 14; HD: 9; Hit: +9; Def: 16; Mov: 100%; Spd: 125%;
Str 21, Dex 10, Con 17, Int 14, Wis 14, Cha 14;
Attk: 7 for 4d4 13,
6 for 1d6 11,
6 for 1d6 11,
53 for 3d6 90,
102 for $"fiend",
99 for 35% 72 (CR 14);
Stati[39,42,6];
Stati[39,91,10];
Spells: $"animate objects", $"blasphemy", $"blink", $"chaos hammer",
$"deeper darkness", $"desecrate", $"detect good",
$"detect objects", $"produce flame", $"summon swarm",
$"teleport", $"unholy blight", $"gaseous form";
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,55];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((49 + 1) + 25), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4),
20, 30, 32, 41, 3,
43, 44;
Flags: 53, 52, 49, 79, 88, 107;
Desc: "The demonic marshalls and troop leaders of the Abyss, hezrou
      are repellent, squat demons with frog-like bodies, flat heads and
      greedy, leering eyes. Rows of spines run along their back, and
      their legs are short, thick and muscular. Triple rows of heavy,
      blunt teeth line their mouths -- a hezrou's bite pulps armor and
      flesh alike. Their most notable feature, however, is their stench
      -- a hezrou's body produces a musk-like phereomone that coats the
      horror when it fights, the scent of which can render mortals all
      but helpless in a fit of gagging and vomiting.\n
      __Hezrous are stolid, lazy demons that indulge much in complicitly
      -- they have a great love of combat, and of devouring their foes
      alive, but they do not normally seek power the way the balors and
      palrethee do, being content in their station so long as they have
      other people around them to bully, molest and eat.";
On Event (41+500) {
if (e.DType == 90)
{
if (EVictim->isMType(72) ||
(EVictim->ResistLevel(60) == -1))
{
e.Immune = true;
return 1;
}
if (EVictim->HasStati(20,0,EActor))
{
EVictim->SetStatiDur(20,0,EActor, max(e.vDmg,
EVictim->GetStatiDur(20,0,EActor)));
return 1;
}
if (EVictim->SavingThrow(0,17,0x00000080|0x00000002))
{
TPrint(e,"The <EVictim> resists the effect of your stench!",
"You resist the effect of the <EActor>'s stench!",
"The <EActor> resists the effect of the <EVictim>'s stench!");
return 1;
}
else
{
TPrint(e,"The <EVictim> is sickened by your stench!",
"You are sickened by the <EActor>'s stench!",
"The <EActor> is sickened by the <EVictim>'s stench!");
EVictim->GainTempStati(20,EActor,e.vDmg,6);
return 1;
}
}
return 0;
},
(41+2000)
{
if ((GetHandle(EItem) != NULL &&
GetHandle(EItem)->isType(58)) ||
(GetHandle(EItem2) != NULL &&
GetHandle(EItem2)->isType(58)))
if (e.DType == 11 || e.DType == 12 ||
e.DType == 13)
e.vDmg /= 2;
return 0;
},
209
"It suffers only half damage from all weapon-based attacks.",
210
"cause nausea (DC 17)";
}

Monster "glabrezu" : 72
{
Image: blue 154; Size: 6; Arm: 7;
CR 15; HD: 10; Hit: +10; Def: 16; Mov: 150%; Spd: 125%;
Str 25, Dex 10, Con 19, Int 16, Wis 16, Cha 16;
Attk: 23 for 2d6 12,
23 for 2d6 12,
6 for 1d6 11,
6 for 1d6 11,
7 for 1d8 12,
102 for $"fiend",
99 for 50% 72 (CR 13);
Stati[39,42,6];
Stati[39,91,10];
Stati[148];
Spells: $"burning hands", $"chaos hammer", $"charm person",
$"confusion", $"death knell", $"deeper darkness",
$"desecrate", $"detect good", $"dispel magic",
$"enlarge", $"mirror image", $"power word: stun",
$"reverse gravity",$"shatter", $"teleport",
$"thornwrack", $"unholy blight";
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,60];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((49 + 1) + 32) + 50) + 38) + 9),
6, 8, 11, 18, 30,
32, 36, 41, 3, 43,
44;
Flags: 1, 53, 52, 49, 79,
88, 107;
}

Monster "nalfeshnee" : 72
{
Image: brown 154; Size: 6; Depth: 9;
CR: 16; HD: 11; Hit: +11; Def: 17; Mov: 100%; Spd: 150%;
Str 23, Dex 13, Con 19, Int 22, Wis 22, Cha 16; Arm: 7;
Attk: 7 for 2d4 12,
6 for 1d4 12,
6 for 1d4 12,
102 for $"fiend",
99 for 50% 72 (CR 16);
Stati[39,42,6];
Stati[39,91,10];
Stati[101];
Spells: $"Nightmare Smite", $"change self", $"call lightning",
$"chaos hammer", $"chill touch", $"death knell",
$"deeper darkness", $"desecrate", $"dispel magic",
$"feeblemind", $"invisibility", $"mirror image",
$"raise dead", $"slow", $"teleport", $"unholy aura",
$"unholy blight", $"web", $"bladethirst", $"eldritch bolt",
$"symbol of pain";
Stati[124,44,8];
Stati[124,32,8];
Stati[118,18,50];
Immune: 0x00000008, 0x00000010;
Resists: 0x00000004, 0x00000002, 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
6, 11, 18, 30, 32,
36, 41, 3, 43,
44;
Flags: 1, 53, 52, 49, 79, 12,
88, 107;
Desc: "Nalfehsnee are huge demons with features resembling both apes
      and boars. They stand upright and are roughly humanoid, though their
      hands end in pincer-like claws and their greasy fur is studded with
      spikes. Large bone plates on their shoulders resemble shoulder-pads,
      and they have shiny black tusks and horns.\n
      __Nalfeshnee judge the souls of the damned, acting as merchants and
      slave-lords of the lower realms, forming the infrastructure that
      herds, tortures and farms the hundreds of millions of damned souls
      chaotic and evil enough to end up in the Abyss.";
}

Effect "Nightmare Smite" : 3
{
Desc: "Nalfeshnee have the ability to draw forth the most secret
      fears and nightmares of others, forcing anyone nearby to experience
      these horrors. When the demon activates this ability, brilliant beams
      of rainbow-colored light play around its body for the remainder of 
      the current turn and the duration of the next, gathering the power
      for this effect. Then, this nimbus of unholy light explodes outwards,
      and any creatures in the area take 10d6 points of unholy damage, 3d6
      points of Charisma damage and are nauseated. A Will saving throw (DC
      18) halves the damage and negates the nausea. Other demons are immune
      to this effect.";
xval: 189; Purpose: 0x00001;
On Event 74 {
DPrint(e,"Your ribbons of light explode outward!",
"The <EActor>'s ribbons of light explode outward!");
RedirectEff(e,$"Nightmare Smite;actual blast", 52, e);
return 0;
},
170 {
e.vDuration = 2;
return 0;
},
155 {
if (EActor->HasEffStati(189,$"Nightmare Smite"))
return -1;
return 0;
},
206
"You are surronded by a nimbus of unholy, coruscating light!" /
"The <EActor> is surronded by a nimbus of unholy, coruscating light!";
}

Effect "Nightmare smite;actual blast" : 1
{ aval: 11; cval: 21; lval: 8;
xval: 72; pval: 10d6; sval: 2 partial; }
and 1
{ aval: 11; cval: 21; lval: 8;
xval: 55; pval: 3d6; sval: 2 partial; }
and 3
{ aval: 11; cval: 21; lval: 8;
xval: 20; sval: 2;
On Event 200 "ribbons of light"; }
#line "mon4.irh" 1205
Monster "lemure" : 73
{
Image: grey 148; Size: 4; Depth: 4;
CR: -2; HD: 2; Hit: +2; Def: 8; Mov: 75%; Spd: 75%;
Str 10, Dex 10, Con 10, Int 0, Wis 11, Cha 5;
Attk: 6 for 1d3 11,
6 for 1d3 11,
102 for $"fiend";
Stati[39,105,1];
Stati[39,42,12];
Immune: 0x00000001, 0x00000010, 0x00100000;
Resists: 0x00000002, 0x00000004;
Flags: 51, 49, 53, 88, 33,
3, 107;
Desc: "The lowest of all devils, lemures of the souls of the
      petty damned, tortured in the Hells for all eternity. Mindless
      and savage, they know only to obey other demons. Lemures appear
      as distended grey blobs of flesh with an obese form that is
      only vaguely humanoid.";
}

Monster "nupperibo" : 73
{
Image: grey 148; Size: 5; Depth 4;
CR: 1; HD: 3; Hit: +1; Def: 8; Mov: 75%; Spd: 75%;
Str 16, Dex 8, Con 14, Int 0, Wis 13, Cha 5;
Attk: 6 for 1d3 11,
6 for 1d3 11,
7 for 0d0 93 (DC 10),
37 for 2d4 3,
102 for $"fiend";
Stati[39,66,2];
Stati[39,105,1];
Stati[39,42,12];
Immune: 0x00000001, 0x00000010, 0x00100000, 0x00400000;
Resists: 0x00000002, 0x00000004;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 51, 49, 53, 88, 33,
3, 10, 7, 107;
Spells: $"inflict light wounds", $"burning hands";
Desc: "Slightly more willful damned souls become nupperibos
      instead of lemures. Obese and amorphious, much like the
      lemures, nupperibo possess a greater degree of physical
      power then the lemures -- though they are still mindless --
      and are sometimes used as hard laborers or press gangs in
      the hells. Their bodies are sticky to the touch, and they
      are eager to devour and absorb any other beings in order
      to increase their own station.";
}

Monster "true imp" : 73, 15
{
Image: grey 'i'; Size: 2; Arm: 3;
CR: 2; HD: 3; Hit: +2; Def: 13; Mov: 150%; Spd: 100%;
Str 8, Dex 17, Con 7, Int 14, Wis 12, Cha 10;
Attk: 10 for 1d6 12 and 60 (DC 13),
101 for $"bat",
101 for $"giant rat";
Stati[39,66,2];
Stati[39,105,1];
Poison: $"imp venom";
Stati[118,13,+1];
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 35), 18,
32, 36, 41, 43, 44;
Flags: 53, 51, 49, 79, 13,
88;
Spells: $"detect good", $"hypnotism", $"invisibility";
Desc: "True imps are creatures of the Nine Hells, of which quasits
      and mephits are deviant offshoots. They are clever, malicious
      and numerous creatures, given the scutwork of maintaining the
      vast infernal bureaucracy.";
}

Poison "imp venom" : 4
{
Level: 3;
cval: 2;
sval: 13;
lval: 2;
xval: 51; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Dexterity damage every 
      <11>2<7> turns, and requires <11>2<7> saving throws against <11>DC 13<7> 
      to overcome.";
}

Monster "advespa" : 73
{
Image: yellow 148; Size: 5;
CR: 7; HD: 4; Hit: +4; Def: 16; Mov: 150%; Spd: 125%;
Str 15, Dex 13, Con 17, Int 8, Wis 11, Cha 10; Arm: 4;
Attk: 6 for 1d6 11,
6 for 1d6 11,
10 for 1d4 12
and 60 (DC 15),
102 for $"fiend",
99 for 30% 73 (CR 4);
Stati[39,105,1];
Stati[39,66,2];
Stati[39,42,12];
Stati[118,18,((15*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 18, 32, 36, 41, 44,
((((49 + 1) + 32) + 50) + 23), (((((49 + 1) + 32) + 50) + 38) + 27),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Spells: $"command", $"produce flame", $"blur", $"dire charm";
Flags: 51, 49, 53, 88, 12,
14, 65, 107;
Desc: "A horrible hybrid of woman and wasp, the advespa, or
           wasp demons, serve as aerial scouts and snipers in the
           realm of Baator. As venomous in temperment as they are
           in personality, advespa are concerned primarily with
           their own social status and prestige -- and with
           hunting, which they dearly enjoy.";
Poison: $"giant wasp venom";
}

Monster "spinagon" : 73
{
Image: grey 148; Size: 3;
CR: 4; HD: 3; Hit: +4; Def: 17; Mov: 175%; Spd: 125%;
Str 10, Dex 13, Con 11, Int 8, Wis 13, Cha 13; Arm: 5;
Attk: 6 for 1d4 11 and 1d4 1,
6 for 1d4 11 and 1d4 1,
102 for $"fiend",
99 for 35% 73 (CR 6);
Stati[39,42,12];
Stati[118,18,((18*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 11, 18, 32, 44,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 17), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 9);
Spells: $"blur", $"produce flame", $"phase door";
Flags: 51, 49, 53, 88, 12,
90, 107;
Desc: "Spinagons resemble halfling-sized gargoyles, but their
      bodies are covered with hundreds of thin spikes -- hence their
      nomiker, spined devils. They travel in packs, harrying the 
      weaker beings in the Hells and weaning out the weak in order
      to make the whole stronger.";
Gear: 20d6 $"spinagon spike";
On Event 32 {
hObj h, hSpike; int32 SpikeCount;
hSpike = NULL; SpikeCount = NULL;
#line "mon4.irh" 1349
if (1d10 != 10)
return 0;

for(h=EActor->FirstInv();h;h=EActor->NextInv())
if (h->iID == $"spinagon spike")
{ hSpike = h; SpikeCount += h->GetQuantity(); }

if (SpikeCount >= 7)
return 0;
if (hSpike)
hSpike->SetQuantity(7);
else {
hSpike = CreateItem($"spinagon spike");
if (!hSpike)
return 0;
hSpike->AddQuality(7);
hSpike->SetKnown(0xFFFF);
hSpike->SetQuantity(7);
EActor->GainItem(hSpike,false);
}
DPrint(e,"You grow more spikes.",
"The <EActor> grows more spikes.");
return 0;
},
(41+2000) {
if (e.DType == 36) {
e.Immune = true;
return 2;
}
return 0;
},

42 {
hObj h2;
#line "mon4.irh" 1386
for(h2=EActor->FirstInv();h2;h2=EActor->NextInv())
if (h2->iID == $"spinagon spike")
{ h2->Remove(true); h2 = EActor->FirstInv(); }
return 0;
},
209
"It grows spinagon spikes out of its body, regenerating them as
         quickly as it can throw them.";
}

Item "spinagon spike" : 58
{ Image: purple 24; Group: 0x00000100; Range: 3;
Mat: 9; Size: 2; Weight: 0; Flags: 27, 1;
SDmg: 1d6; LDmg: 1d6; Acc:+0; Crit: x2; Threat: 2; Spd: 120%;
Cost: 0;
Desc: "Spinagons grow a kind of throwing spike out of their
      diabolic bodies, which continues to burn even after it has
      been thrown."; }

Monster "black abishai" : 73
{
Image: shadow 148; Size: 5; Arm: 4;
CR: 7; HD: 4; Hit: +2; Def: 12; Hit: +4; Mov: 125%; Spd: 100%;
Str 17, Dex 12, Con 13, Int 10, Wis 11, Cha 10;
Attk: 6 for 1d4 11,
6 for 1d4 11,
10 for 1d4 12 and 0d0 60 (DC 13),
102 for $"fiend",
99 for 50% 73 (CR 4);
Stati[39,91,6];
Stati[39,13,6];
Stati[118,18,30];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: ((((49 + 1) + 32) + 50) + 23), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35);
Spells: $"animate dead", $"change self", $"charm person", $"command",
$"desecrate", $"spectral force", $"produce flame", $"fireball",
$"spook", $"suggestion";
Poison: $"black abishai venom";
Flags: 49, 51, 53, 28, 27, 12,
1, 66, 88, 107;
Desc: "Abishai look like gothic gargoyles, with large wings and long,
      barbed prehensile tails. They carry with them the scent of vinegar,
      and the air warms in their presence. In baatezu society, the color
      of an abishai determines its station: black is lowest, then green,
      with red being the highest.";
}

Poison "black abishai venom" : 1
{
Level: 5;
cval: 10;
sval: 13;
lval: 4;
xval: 45; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>4<7> saving throws against <11>DC 13<7> 
      to overcome.";
}


Monster "green abishai" : 73
{
Image: green 148; Size: 5; Arm: 6;
CR: 8; HD: 5; Hit: +3; Def: 13; Hit: +5; Mov: 125%; Spd: 100%;
Str 17, Dex 12, Con 13, Int 10, Wis 11, Cha 10;
Attk: 6 for 1d4 11,
6 for 1d4 11,
10 for 1d4 12 and 0d0 60 (DC 15),
102 for $"fiend",
99 for 50% 73 (CR 5);
Stati[39,91,6];
Stati[39,13,6];
Stati[118,18,35];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: ((((49 + 1) + 32) + 50) + 23), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35), 18,
20, 8, 32, 44, 3;
Spells: $"animate dead", $"change self", $"charm person", $"command",
$"desecrate", $"spectral force", $"produce flame", $"fireball",
$"spook", $"suggestion";
Poison: $"green abishai venom";
Flags: 49, 51, 53, 28, 27, 12,
1, 66, 88, 107;
Desc: "Abishai look like gothic gargoyles, with large wings and long,
      barbed prehensile tails. They carry with them the scent of vinegar,
      and the air warms in their presence. In baatezu society, the color
      of an abishai determines its station: black is lowest, then green,
      with red being the highest.";
}

Poison "green abishai venom" : 1
{
Level: 6;
cval: 10;
sval: 15;
lval: 4;
xval: 45; pval: 1d8;
Desc: "This poison inflicts <11>1d8<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>4<7> saving throws against <11>DC 15<7> 
      to overcome.";
}

Monster "red abishai" : 73
{
Image: red 148; Size: 5; Arm: 8;
CR: 8; HD: 6; Hit: +4; Def: 14; Hit: +6; Mov: 125%; Spd: 100%;
Str 17, Dex 12, Con 13, Int 10, Wis 11, Cha 10;
Attk: 6 for 1d4 11,
6 for 1d4 11,
10 for 1d4 12 and 0d0 60 (DC 17),
102 for $"fiend",
99 for 50% 73 (CR 6);
Stati[39,91,6];
Stati[39,13,6];
Stati[118,18,40];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: ((((49 + 1) + 32) + 50) + 23), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), ((((49 + 1) + 32) + 50) + 35), 18,
20, 8, 32, 44, 3;
Spells: $"animate dead", $"change self", $"charm person", $"command",
$"desecrate", $"spectral force", $"produce flame", $"fireball",
$"spook", $"suggestion";
Poison: $"red abishai venom";
Flags: 49, 51, 53, 28, 27, 12,
1, 66, 88, 107;
Desc: "Abishai look like gothic gargoyles, with large wings and long,
      barbed prehensile tails. They carry with them the scent of vinegar,
      and the air warms in their presence. In baatezu society, the color
      of an abishai determines its station: black is lowest, then green,
      with red being the highest.";
}

Poison "red abishai venom" : 1
{
Level: 7;
cval: 10;
sval: 17;
lval: 4;
xval: 45; pval: 1d10;
Desc: "This poison inflicts <11>1d10<7> points of Constitution damage every 
      <11>10<7> turns, and requires <11>4<7> saving throws against <11>DC 17<7> 
      to overcome.";
}

Monster "osyluth" : 73
{
Image: shadow 148; Size: 5;
CR: 9; HD: 5; Hit: +5; Def: 19; Mov: 150%; Spd: 150%;
Str 21, Dex 10, Con 15, Int 14, Wis 14, Cha 14; Arm: 5;
Attk: 7 for 1d8 12,
6 for 1d4 11,
6 for 1d4 11,
10 for 3d4 12 and 60 (DC 14),
102 for $"fiend",
99 for 50% 73 (CR 6),
53 for 3d6 28 (DC 14);
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((21*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 32, 36, 41, 3, 44,
((49 + 1) + 5), ((((49 + 1) + 32) + 50) + 35) ;
Spells: $"animate dead", $"charm person", $"dimensional anchor",
$"bane", $"fly", $"invisibility", $"spectral force",
$"suggestion", $"teleport", $"wall of ice";
#line "mon4.irh" 1551
Flags: 51, 49, 53, 88, 1, 14,
107;
Desc: "The secret police of the Nine Hells, osyluths (also called
      bone devils) sniff out corruption and goodness in the armies of 
      the damned. They appear as skeletal humanoids with a long, barbed 
      tail.";
Poison: $"osyluth venom";
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
};
}

Monster "kocrachon" : 73
{
Image: cyan 148; Size: 4;
CR: 8; HD: 6; Hit: +6; Def: 17; Mov: 150%; Spd: 150%;
Str 16, Dex 19, Con 13, Int 17, Wis 14, Cha 16;
Attk: 15 for 1d6 12 and 27 (DC 14),
6 for 1d4 11,
6 for 1d4 11,
102 for $"fiend",
99 for 40% 73 (CR 6);
Stati[39,35,6];
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((17*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 6, 17, 18, 20, 36, 44,
32, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 14);
Flags: 51, 49, 53, 88, 12, 107;
Disease: $"devil chills";
Spells: $"animate dead", $"cure moderate wounds", $"desecrate",
$"detect monsters", $"dispel magic", $"spectral force", $"suggestion",
$"teleport", $"thornwrack", $"emotion", $"pain touch";
Desc: "Kocrachon, or agony devils, are the torturers and interrogators
      of the Hells, justly feared for their skill at inflicting pain. 
      They are usually kept as retainers and household staff by more powerful
      diabolical lords. Insectile in appearance, the kocrachon have glistening
      navy or deep purple carapices and long, serrated proboscises. Their
      limbs are long and spindly (and multi-jointed), and their heads are
      tiny in comparison to the rest of their body.";
}

Poison "osyluth venom" : 4
{
Level: 3;
cval: 7;
sval: 14;
lval: 5;
xval: 43; pval: 1d6;
Desc: "This poison inflicts <11>1d6<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>5<7> saving throws against <11>DC 14<7> 
      to overcome.";
}

Monster "barbazu" : 73
{
Image: red 148; Size: 4;
CR: 7; HD: 6; Hit: +6; Def: 15; Mov: 150%; Spd: 125%;
Str 15, Dex 11, Con 13, Int 6, Wis 10, Cha 10; Arm: 8;
Attk: 6 for 1d4 11,
6 for 1d4 11,
102 for $"fiend",
99 for 50% 73 (CR 6);
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((23*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Spells: $"animate dead", $"charm person", $"command", $"desecrate",
$"bladethirst", $"produce flame", $"spectral force",
$"suggestion", $"teleport";
Feats: 32, 3, 36, 44, 20,
(((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 35);
Flags: 51, 49, 53, 88, 1, 107;
int32 claw_hits;
On Event (41+1000) {
int32 i;

if (e.AType == 63)
if (EItem->iID == $"saw-toothed glaive")
if (!(EVictim->ResistLevel(23) == -1)) {
if (i = EVictim->GetEffStatiDur(12,$"saw-toothed glaive"))
EVictim->SetEffStatiDur(12,$"saw-toothed glaive",i + 4d6);
else
EVictim->GainTempStati(12,NULL,4d6,6,2,0,$"saw-toothed glaive");
}
},
(17+500) { claw_hits = 0;
return 0; },
20 { if (e.AType == 6)
claw_hits++;
return 0; },
(17+1000) {
if (claw_hits >= 2 && !EVictim->isDead()) {
TPrint(e,"You ravage the <EVictim> with your wire-sharp beard!",
"The <EActor> ravages you with <his:EActor> wire-sharp beard!",
"The <EActor> ravages the <EVictim> with <his:EActor> wire-sharp beard!");
ThrowDmg(41,11,1d8+EActor->Mod(0),"a barbazu's beard",EActor,EVictim);
if (!EVictim->isDead())
if (!EVictim->SavingThrow(0,14,0x00002000))
EVictim->GainPermStati(19,NULL,6, 0, 0, $"devil chills");
}
return 0;
},
(19+500) {
if (!EActor->HasStati(66) && EActor->cFP > -2)
{
DPrint(e,"You fly into a killing fury!",
"The <EActor> flies into a killing fury!");
EActor->GainTempStati(66,NULL,6,7,4);
EActor->LoseFatigue(1);
}
return 0;
},
209
"When a barbazu hits with both claw attacks, it also ravages its
      victim with its wire-sharp beard for 1d8 points of damage. If such a
      victim fails a Fortitude save (DC 14), she also contracts <4>devil
      chills<7>. A barbazu attacking with a glaive inflicts wounds that
      bleed for 4d6 turns, at a rate of 2 points of damage per turn.";
Stati[30,1,0,$"saw-toothed glaive"];
Desc: "The terrifying shock troops of Hell, barbazu -- also known as
    bearded devils -- delight in violence in a manner few other beings
    could comprehend.  Barbazu have scaly crimson hides, long serpentine
    tails, and humanoid faces with sharp beards like wire.";
Disease: $"devil chills";
Gear:
50% $"saw-toothed glaive" of random 1 to 3;
}

Monster "amnizu" : 73
{
Image: bright green 148; Size: 4;
CR: 10; HD: 9; Hit: +9; Def: 13; Mov: 135%; Spd: 125%;
Str 12, Dex 11, Con 13, Int 16, Wis 15, Cha 10; Arm: 10;
Attk: 9 for 3d6 7
and 2d4 46,
102 for $"fiend",
99 for 50% 73 (CR 7);
Stati[39,105,1];
Stati[39,42,12];
Stati[39,66,4];
Stati[118,18,((18*5)-50)];
Stati[39,94,15];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 11, 24, 29, 41, 43,
44, 45, 46, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 47,
((((49 + 1) + 32) + 50) + 35),
(((49 + 1) + 32) + 44);
Flags: 51, 49, 53, 88, 12, 14,
107;
Spells: $"dismissal", $"fireball", $"spectral force", $"choke",
$"displacement", $"wall of ice";
Stati[125,3];
On Event 209
"It is immune to Intelligence damage or drain.";
Desc: "Amnizu are short, stocky and cunning devils charged with
      guarding the gates of Hell. They ensure that none of the souls
      within are ever allowed to escape.";
Gear:
50% $"bracers" +3 of $"defense" else
$"amulet" of $"natural armor",
50% $"ring" of $"evasion",
#line "mon4.irh" 1730
$"wand" of random 4 to 7,
50% $"wand" of random 4 to 7,
50% $"cloak" of random 1 to 6;

}

Monster "hamatula" : 73
{
Image: brown 148; Size: 4;
CR: 9; HD: 9; Hit: +9; Def: 17; Mov: 100%; Spd: 100%;
Str 17, Dex 11, Con 13, Int 12, Wis 14, Cha 10; Arm: 13;
Attk: 6 for 2d4 11
and 3d6 28 (DC 14),
6 for 2d4 11
and 3d6 28 (DC 14),
34 for 3d4 12,
54 for 1d4 12,
102 for $"fiend",
99 for 50% 73 (CR 8);
Stati[39,105,1];
Stati[39,42,12];
Stati[118,18,((23*5)-50)];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Spells: $"animate dead", $"bane", $"charm person", $"desecrate",
$"hold person", $"order's wrath", $"produce flame",
$"spectral force", $"suggestion", $"teleport", $"unholy blight";
Feats: 18, 32, 36, 3, 44,
20, ((49 + 1) + 5), (((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 35),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 51, 49, 53, 88, 1, 107;
Desc: "Hamatula, known commonly as barbed devils, are bulky, muscular 
      creatures whose bodies are covered with sharp barbs. They are the 
      military officers and drill sergeants of the Hells, keeping lower-ranking 
      demons in line and breaking the spirits of the unruly.";
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,6,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,6);
return 0;
},
209
"Once a character has made one successful save against a hamatula's fear,
        that character is immune to that specific hamatula's fear for the remainder
        of the day.";
}

Monster "malebranche" : 73
{
Image: magenta 148; Size: 6;
CR: 12; HD: 16; Hit: +14; Def: 13; Mov: 180%; Spd: 150%;
Str 30, Dex 9, Con 23, Int 10, Wis 9, Cha 10; Arm: 15;
Attk: 23 for 2d6 12,
7 for 2d6 12,
6 for 2d4 11,
6 for 2d4 11,
102 for $"fiend",
53 for 3d6 28 (DC 18);
Stati[39,66,8];
Stati[39,105,1];
Stati[118,18,((20*5)-50)];
Stati[39,42,12];
Feats: 6, 7, 20, 22, 32,
(((49 + 1) + 32) + 7), ((((49 + 1) + 32) + 50) + 23), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((49 + 1) + 32) + 50) + 38) + 30) + 3),
((((((49 + 1) + 32) + 50) + 38) + 30) + 31), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), ((((49 + 1) + 32) + 50) + 30),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2);
Flags: 51, 49, 53, 88, 12, 14,
107;
Desc: "Malebranches are huge, hulking devils with wickedly curving
      horns. The raw power of Hell made manifest, these creatures are
      bruisers, and they know it. They act as enforcers, thugs and
      anthropomorphic seige engines within the armies of Baator. Their
      great bat wings allow them to fly awkwardly, but with great
      speed.";
#line "mon4.irh" 1815
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
},
209
"It is immune to Strength damage or drain.";
Stati[125,0];
}

Monster "narzugon" : 73
{
Image: purple 148; Size: 4;
CR: 11; HD: 10; Hit: +12; Def: 16; Mov: 100%; Spd: 150%;
Str 18, Dex 14, Con 13, Int 12, Wis 13, Cha 19;
Attk: 1 for 1d3 13,
43 for 90,
99 for 30% 73 (CR 9),
102 for $"fiend";
Stati[39,105,3];
Stati[39,42,12];
Stati[124,40,6];
Stati[118,18,((23*5)-50)];
Stati[39,94,15];
Stati[39,66,5];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 20, 24, 29, 40, 41,
3, 44, 48, ((((((49 + 1) + 32) + 50) + 38) + 30) + 30),
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 18), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 39), (((((49 + 1) + 32) + 50) + 38) + 9),
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 51, 49, 53, 88, 1,
107;
Spells: $"desecrate", $"hold person", $"produce flame", $"haste",
$"bestow curse", $"unholy blight";
Desc: "The elite cavalry of the Nine Hells, narzugons are famous
      for their zeal and twisted honor. Riding nightmares, fiendish
      dire boars, young chromatic dragons or more horrific mounts
      still, the narzugons are sent out of Baator to retrive anyone
      or anything that escapes. They harry the fugitive to exhaustion,
      then close in for the kill. Rumors claim that the gaze of the
      narzugon eclipses reason and brings death. Narzugons appear as
      humanoids with coal-black eyes and leathery grey skin, but their
      bodies are rarely seen beneath their iconic spiked full plate
      armor.";
Gear:
33% $"cloak" of random 2 to 6,
33% $"ring" of random 2 to 6,
33% $"boots" of random 2 to 6,
33% $"helm" of random 2 to 6,
33% $"girdle" of random 2 to 6,
$"field plate armor" of random 5 to 8,
50% $"greatsword" of random 3 to 6 else
50% $"scimitar" of random 4 to 7 else
$"long sword" of random 4 to 7,
#line "mon4.irh" 1882
3d4 $"potion" of $"extra-healing",
2d4 $"potion" of $"dimension door";
On Event (41+500) {
if (e.DType == 90) {
if (EActor->HasStati(72,43,EVictim))
return 2;
EActor->GainTempStati(72,EVictim,1d4+1,7,43);
e.eID = $"phantasmal killer";
e.saveDC = 14 + EActor->Mod2(5);
e.vCasterLev = EActor->ChallengeRating();
ReThrow(52,e);
return 1;
}
return 0;
},
209
"Its gaze has the effect of a <1>Phantasmal Killer<7> spell on any
        victim within range, recurring every 1d4+1 rounds.";
Lists:
* 117
100 $"nightmare"
10 $"dire" $"fiendish" $"wild boar"
$"fiendish" $"winter wolf"
$"graveborn;template" $"wyvern"
$"graveborn;template" $"griffon"
$"young" $"blue dragon"
$"young" $"black dragon"
$"young" $"purple dragon"
$"greater barghest"
;
}

Monster "cornugon" : 73
{
Image: brown 153; Size: 5;
CR: 11; HD: 11; Hit: +11; Def: 20; Mov: 200%; Spd: 150%;
Str 21, Dex 12, Con 17, Int 14, Wis 14, Cha 14; Arm: 15;
Attk: 6 for 1d4 11,
6 for 1d4 11,
7 for 1d4 12,
24 for 1d3 13,
99 for 50% 73 (CR 10),
102 for $"fiend",
53 for 3d6 28 (DC 14);
Stati[39,105,3];
Stati[39,42,12];
Stati[118,18,((24*5)-50)];
Stati[39,66,5];
Immune: 0x00000001, 0x00000010; Resists: 0x00000002, 0x00000004;
Feats: 6, 7, 32, 36, 3, 44,
20, (((49 + 1) + 32) + 7), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45),
((((49 + 1) + 32) + 50) + 35), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 31);
Spells: $"animate dead", $"charm person", $"detect monsters", $"ESP",
$"fireball", $"lightning bolt", $"produce flame", $"spectral force",
$"stoneskin", $"suggestion", $"teleport", $"wall of fire";
Flags: 51, 49, 53, 88, 12, 1,
107;
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EVictim->isMType(73))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
if (e.AType == 63)
if (EItem->iID == $"whip")
if (e.isCrit || !EVictim->SavingThrow(0,17))
EVictim->GainTempStati(5, NULL,3d6,6);
if (e.AType == 24)
EVictim->GainTempStati(12, NULL, 3d6, 6, 2, 0);
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
},
209
"It is specialized in the whip. When it hits an enemy with its
        whip, the enemy must make a Fortitude save (DC 17) or be stunned
        for 3d6 rounds. When is scores a critical with the whip, no save
        is allowed against the stun effect. Wounds inflicted by its tail
        bleed for 3d6 rounds, at a rate of 2 points of damage per round.";
Gear:
75% $"whip" of random 5 to 7;
Desc: "The cornugon, or horned devil, is the lowest of the greater
      devils, which means its hardly a creature for any mortal being to
      trifle with casually. Resembling a hybrid between a dragon, a man
      (or woman) and a thornbush, the cornugon has huge wings, reptilian
      brown skin and a fierce temperment. They serve as the elite defense
      forces of the Nine Hells.";
}
#line "mon4.irh" 1986
Monster "hell hound" : 48, 6, 73
{
Image: pink 'd'; Size: 4;
CR: 4; HD: 4; Hit: 4; Def: 15; Mov: 150%; Spd: 125%;
Str 13, Dex 13, Con 13, Int 6, Wis 10, Cha 6;
Attk: 7 for 1d8+1 12
and 1d6 1,
42 for 2d6 1 (DC 13);
Stati[124,18,5];
Stati[124,36,5];
Stati[39,42,6];
Immune: 0x00000001;
Feats: 44, 18, 36,
((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 51, 49, 88, 3, 41;
}

Monster "yeth hound" : 48, 6, 73
{
Image: grey 'd'; Size: 4;
CR: 6; HD: 3; Hit: 3; Def: 18; Mov: 200%; Spd: 115%;
Str 17, Dex 15, Con 15, Int 6, Wis 14, Cha 10; Arm: 10;
Attk: 7 for 1d8 12
and 0d0 67 (DC 20),
47 for 2d4 28 (DC 11);
Stati[39,71,6];
Stati[39,94,12];
Stati[39,42,6];
Stati[124,48,4];
Feats: 32, 44, 41, 18, 36,
48,
(((((49 + 1) + 32) + 50) + 38) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 49, 88, 3, 8;
Desc: "A yeth hound stands 5 feet tall at the shoulder and weighs about
    400 pounds.
    Yeth hounds cannot speak, but understand Infernal.
    Yeth hounds hunt only at night. They fear the sun and never venture out
    in daylight, even if their lives depend on it. ";
On Event 213 "bay" / "bays";
}
#line "mon4.irh" 2098
Monster "tiny" " air elemental" : 38 { Image: white 'E'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4; Def: 12; Mov: 150%; Spd: 150%; Str 8, Dex 15, Con 8, Int 6, Wis 11, Cha 11; Attk: 19 for 1d2 13 and 1d(1) 61 (DC 10), 9 for 0d0 66 (DC 10), 30 for 1d2 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "tiny" " air elemental is about the size " "of a " "pixie" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2099
Monster "small" " air elemental" : 38 { Image: white 'E'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4; Def: 14; Mov: 150%; Spd: 150%; Str 10, Dex 17, Con 10, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13 and 1d(2) 61 (DC 13), 9 for 0d0 66 (DC 13), 30 for 1d4 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "small" " air elemental is about the size " "of a " "halfling" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2100
Monster "medium" " air elemental" : 38 { Image: white 'E'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4; Def: 16; Mov: 150%; Spd: 150%; Str 12, Dex 21, Con 14, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d(4) 61 (DC 16), 9 for 0d0 66 (DC 16), 30 for 1d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "medium" " air elemental is about the size " "of a " "human" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2101
Monster "large" " air elemental" : 38 { Image: white 'E'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4; Def: 18; Mov: 150%; Spd: 150%; Str 14, Dex 25, Con 16, Int 6, Wis 11, Cha 11; Attk: 19 for 2d6 13 and 1d(6) 61 (DC 19), 9 for 0d0 66 (DC 19), 30 for 2d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "large" " air elemental is about the size " "of a " "ogre" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2102
Monster "huge" " air elemental" : 38 { Image: white 'E'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4; Def: 20; Mov: 150%; Spd: 150%; Str 18, Dex 29, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 1d(8) 61 (DC 22), 9 for 0d0 66 (DC 22), 30 for 2d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "huge" " air elemental is about the size " "of a " "covered wagon" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2103
Monster "greater" " air elemental" : 38 { Image: white 'E'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4; Def: 22; Mov: 150%; Spd: 150%; Str 20, Dex 31, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d6 13 and 1d(10) 61 (DC 25), 9 for 0d0 66 (DC 25), 30 for 3d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "greater" " air elemental is about the size " "of a " "tiny house" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2104
Monster "elder" " air elemental" : 38 { Image: white 'E'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4; Def: 24; Mov: 150%; Spd: 150%; Str 22, Dex 33, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d8 13 and 1d(12) 61 (DC 28), 9 for 0d0 66 (DC 28), 30 for 3d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 13, 39; Desc: "An air elemental is the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "elder" " air elemental is about the size " "of a " "tiny house" "."; On Event ((41+2000)+1000) { rID mID; if (EVictim->isDead()) return 0; if ((EVictim->cHP * 2) / 3 > EVictim->mHP) return 0; if (EVictim->mID != EVictim->tmID) return 0; if (!EVictim->isThreatened()) return 0; if (EVictim->cFP < 0) return 0; if (EVictim->HasStati(103)) return 0; EVictim->LoseFatigue(2,false); EVictim->IDPrint("Enraged, you change into a whirlwind!", "Enraged, the <hObj> changes into a whirlwind!", EVictim); switch (EVictim->tmID) { case $"tiny air elemental": mID = $"tiny whirlwind"; break; case $"small air elemental": mID = $"small whirlwind"; break; case $"medium air elemental": mID = $"medium whirlwind"; break; case $"large air elemental": mID = $"large whirlwind"; break; case $"huge air elemental": mID = $"huge whirlwind"; break; case $"greater air elemental": mID = $"greater whirlwind"; break; case $"elder air elemental": mID = $"elder whirlwind"; break; } EVictim->Shapeshift(mID,false,((hObj)0)); EVictim->GainTempStati(103,NULL,3d6,2,0,0,mID,15); return 0; }; }
#line "mon4.irh" 2137
Monster "tiny" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4+2; Def: 12; Mov: 250%; Spd: 200%; Str (8+4), Dex (15-4), Con 8, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d(1) 61 (DC 10), 9 for 0d0 66 (DC 10), 30 for 1d6 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "tiny" " air elemental is about the size " "of a " "pixie" "."; }
#line "mon4.irh" 2138
Monster "small" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4+2; Def: 14; Mov: 250%; Spd: 200%; Str (10+4), Dex (17-4), Con 10, Int 6, Wis 11, Cha 11; Attk: 19 for 1d8 13 and 1d(2) 61 (DC 13), 9 for 0d0 66 (DC 13), 30 for 1d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "small" " air elemental is about the size " "of a " "halfling" "."; }
#line "mon4.irh" 2139
Monster "medium" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4+2; Def: 16; Mov: 250%; Spd: 200%; Str (12+4), Dex (21-4), Con 14, Int 6, Wis 11, Cha 11; Attk: 19 for 1d10 13 and 1d(4) 61 (DC 16), 9 for 0d0 66 (DC 16), 30 for 1d10 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "medium" " air elemental is about the size " "of a " "human" "."; }
#line "mon4.irh" 2140
Monster "large" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4+2; Def: 18; Mov: 250%; Spd: 200%; Str (14+4), Dex (25-4), Con 16, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 1d(6) 61 (DC 19), 9 for 0d0 66 (DC 19), 30 for 2d8 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "large" " air elemental is about the size " "of a " "ogre" "."; }
#line "mon4.irh" 2141
Monster "huge" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4+2; Def: 20; Mov: 250%; Spd: 200%; Str (18+4), Dex (29-4), Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 2d10 13 and 1d(8) 61 (DC 22), 9 for 0d0 66 (DC 22), 30 for 2d10 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), 0, 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "huge" " air elemental is about the size " "of a " "covered wagon" "."; }
#line "mon4.irh" 2142
Monster "greater" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4+2; Def: 22; Mov: 250%; Spd: 200%; Str (20+4), Dex (31-4), Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d12 13 and 1d(10) 61 (DC 25), 9 for 0d0 66 (DC 25), 30 for 3d12 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "greater" " air elemental is about the size " "of a " "tiny house" "."; }
#line "mon4.irh" 2143
Monster "elder" " whirlwind" : 38, 29 { Image: bright cyan 'v'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4+2; Def: 24; Mov: 250%; Spd: 200%; Str (22+4), Dex (33-4), Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d20 13 and 1d(12) 61 (DC 28), 9 for 0d0 66 (DC 28), 30 for 3d20 13; Stati[39,111,2]; Stati[39,36,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000008; Feats: 32, 44, (((((49 + 1) + 32) + 50) + 38) + 27), ((((49 + 1) + 32) + 50) + 23), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0; Flags: 66, 10, 3, 2, 4, 24, 5, 88, 13, 39; Desc: "A whirlwind is the alternate form taken me an enraged air elemental " "-- the spiritual personification of the base element " "of air, dwelling on the elemental plane of air but occasionally summoned by " "wizards and creatures of magic to the prime plane for air. Air elementals " "are flighty and tempramantal -- fierce when aroused, but quick to forget " "any slights against them. A " "elder" " air elemental is about the size " "of a " "tiny house" "."; }
#line "mon4.irh" 2175
Monster "tiny" " water elemental" : 38 { Image: azure 'E'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4; Def: 10; Mov: 150%; Spd: 150%; Str 12, Dex 10, Con 11, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13 and 1d4 74 (DC 10), 9 for 66 (DC 10), 30 for 1d4 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,1]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "tiny" " water elemental is about the size " "of a " "pixie" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2176
Monster "small" " water elemental" : 38 { Image: azure 'E'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4; Def: 12; Mov: 150%; Spd: 150%; Str 14, Dex 10, Con 13, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d6 74 (DC 13), 9 for 66 (DC 13), 30 for 1d6 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,2]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "small" " water elemental is about the size " "of a " "halfling" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2177
Monster "medium" " water elemental" : 38 { Image: azure 'E'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4; Def: 14; Mov: 150%; Spd: 150%; Str 16, Dex 12, Con 17, Int 6, Wis 11, Cha 11; Attk: 19 for 1d8 13 and 1d8 74 (DC 16), 9 for 66 (DC 16), 30 for 1d8 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,4]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "medium" " water elemental is about the size " "of a " "human" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2178
Monster "large" " water elemental" : 38 { Image: azure 'E'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4; Def: 16; Mov: 150%; Spd: 150%; Str 20, Dex 14, Con 19, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 2d8 74 (DC 19), 9 for 66 (DC 19), 30 for 2d8 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,6]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "large" " water elemental is about the size " "of a " "ogre" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2179
Monster "huge" " water elemental" : 38 { Image: azure 'E'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4; Def: 18; Mov: 150%; Spd: 150%; Str 24, Dex 18, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 2d10 13 and 2d10 74 (DC 22), 9 for 66 (DC 22), 30 for 2d10 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,8]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "huge" " water elemental is about the size " "of a " "covered wagon" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2180
Monster "greater" " water elemental" : 38 { Image: azure 'E'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4; Def: 20; Mov: 150%; Spd: 150%; Str 26, Dex 20, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d8 13 and 3d8 74 (DC 25), 9 for 66 (DC 25), 30 for 3d8 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,10]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "greater" " water elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2181
Monster "elder" " water elemental" : 38 { Image: azure 'E'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4; Def: 22; Mov: 150%; Spd: 150%; Str 28, Dex 22, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d10 13 and 3d10 74 (DC 28), 9 for 66 (DC 28), 30 for 3d10 13 and 10d6 74; Stati[39,113,2]; Stati[39,66,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Resists: 0x00000001, 0x00000002; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((49 + 1) + 32) + 7), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 31, 30, 38; Desc: "A water elemental is the spiritual personification of the base element " "of water, dwelling on the elemental plane of water but occasionally summoned by " "wizards and creatures of magic to the prime plane. Water elementals " "are primal, secretive, cautious and reverant, but also fickle, stormy and " "dangerous. A " "elder" " water elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { if (GetHandle(EMap) && EVictim->GetAttr(25) >= 4) EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow water"); }; }
#line "mon4.irh" 2217
Monster "tiny" " earth elemental" : 38 { Image: brown 'E'; Size: 2; Mana: (7*1); Arm: 6; CR: 1; HD: 1; Hit: (1*3)/4; Def: 8; Mov: 75%; Spd: 75%; Str 15, Dex 8, Con 11, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13 and 1d4 67 (DC 10); Stati[39,112,2]; Stati[39,30,1]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "tiny" " earth elemental is about the size " "of a " "pixie" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((1d4)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2218
Monster "small" " earth elemental" : 38 { Image: brown 'E'; Size: 3; Mana: (7*2); Arm: 9; CR: 2; HD: 2; Hit: (2*3)/4; Def: 8; Mov: 75%; Spd: 75%; Str 17, Dex 8, Con 13, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13 and 1d6 67 (DC 13); Stati[39,112,2]; Stati[39,30,2]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "small" " earth elemental is about the size " "of a " "halfling" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((1d6)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2219
Monster "medium" " earth elemental" : 38 { Image: brown 'E'; Size: 4; Mana: (7*4); Arm: 12; CR: 4; HD: 4; Hit: (4*3)/4; Def: 10; Mov: 75%; Spd: 75%; Str 21, Dex 8, Con 17, Int 6, Wis 11, Cha 11; Attk: 19 for 1d8 13 and 1d8 67 (DC 16); Stati[39,112,2]; Stati[39,30,4]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "medium" " earth elemental is about the size " "of a " "human" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((1d8)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2220
Monster "large" " earth elemental" : 38 { Image: brown 'E'; Size: 5; Mana: (7*8); Arm: 15; CR: 6; HD: 8; Hit: (8*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 25, Dex 8, Con 19, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13 and 2d8 67 (DC 19); Stati[39,112,2]; Stati[39,30,6]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "large" " earth elemental is about the size " "of a " "ogre" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((2d8)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2221
Monster "huge" " earth elemental" : 38 { Image: brown 'E'; Size: 6; Mana: (7*16); Arm: 18; CR: 8; HD: 16; Hit: (16*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 28, Dex 8, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 2d10 13 and 2d10 67 (DC 22); Stati[39,112,2]; Stati[39,30,8]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "huge" " earth elemental is about the size " "of a " "covered wagon" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((2d10)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2222
Monster "greater" " earth elemental" : 38 { Image: brown 'E'; Size: 6; Mana: (7*21); Arm: 21; CR: 10; HD: 21; Hit: (21*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 31, Dex 8, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d8 13 and 3d8 67 (DC 25); Stati[39,112,2]; Stati[39,30,10]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), (((((49 + 1) + 32) + 50) + 38) + 9), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "greater" " earth elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((3d8)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2223
Monster "elder" " earth elemental" : 38 { Image: brown 'E'; Size: 6; Mana: (7*24); Arm: 24; CR: 12; HD: 24; Hit: (24*3)/4; Def: 12; Mov: 75%; Spd: 75%; Str 33, Dex 8, Con 21, Int 6, Wis 11, Cha 11; Attk: 19 for 3d10 13 and 3d10 67 (DC 28); Stati[39,112,2]; Stati[39,30,12]; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000; Feats: 32, 44, 45, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 45), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21), (((49 + 1) + 32) + 7), (((((49 + 1) + 32) + 50) + 38) + 9), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 40; Desc: "An earth elemental is the spiritual personification of the base element " "of earth, dwelling on the elemental plane of earth but occasionally summoned by " "wizards and creatures of magic to the prime plane. Earth elementals " "are primal, traditional, honorable and patient, given to long periods of " "slumber and contemplation. A " "elder" " earth elemental is about the size " "of a " "tiny house" "."; On Event (42+2000) { hObj it; if (GetHandle(EMap)) { it = CreateItem($"rock"); if (!it) return 0; it->SetQuantity((3d10)*2); it->PlaceAt(EMap,EVictim->x,EVictim->y); } }; }
#line "mon4.irh" 2276
Effect "Burn" : 3
{ xval: 79; yval: 32; Flags: 85, 33;
On Event (32+10000) {
int32 saveDC;
saveDC = 10 + EActor->GetEffStatiObj(79,$"Burn")->ChallengeRating();
if (EActor->SavingThrow(1,saveDC,0x00000010))
{
EActor->IDPrint("You manage to put out the flames.",
"The <hObj> is no longer burning.", EActor);
EActor->RemoveEffStati($"Burn");
return 1;
}
EActor->IDPrint("You burn!", "The <hObj> burns!", EActor);
ThrowDmg(41,1,1d4,"being burned alive",EActor,
EActor->GetEffStatiObj(79,$"Burn"));
return 0;
},
28 {
int32 saveDC;
if (EVictim->HasEffStati(79,$"Burn"))
return 1;
if (EVictim->SavingThrow(1,saveDC,0x00000010))
{
EVictim->IPrint("You avoid being set on fire.");
e.Resist = true;
return 1;
}
EVictim->IDPrint("You catch on fire!",
"The <hObj> catches on fire!", EVictim);
return 0;
};
}


Monster "tiny" " fire elemental" : 38 { Image: red 'E'; Size: 2; Mana: (7*1); Arm: 0; CR: 1; HD: 1; Hit: (1*3)/4; Def: 8; Mov: 150%; Spd: 150%; Str 8, Dex 13, Con 9, Int 6, Wis 11, Cha 11; Attk: 19 for 1d3 13, 54 for 2d(1) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "tiny" " fire elemental is about the size " "of a " "pixie" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2312
Monster "small" " fire elemental" : 38 { Image: red 'E'; Size: 3; Mana: (7*2); Arm: 0; CR: 2; HD: 2; Hit: (2*3)/4; Def: 10; Mov: 150%; Spd: 150%; Str 10, Dex 13, Con 10, Int 6, Wis 11, Cha 11; Attk: 19 for 1d4 13, 54 for 2d(2) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "small" " fire elemental is about the size " "of a " "halfling" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2313
Monster "medium" " fire elemental" : 38 { Image: red 'E'; Size: 4; Mana: (7*4); Arm: 0; CR: 4; HD: 4; Hit: (4*3)/4; Def: 12; Mov: 150%; Spd: 150%; Str 12, Dex 17, Con 14, Int 6, Wis 11, Cha 11; Attk: 19 for 1d6 13, 54 for 2d(4) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), 0, 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "medium" " fire elemental is about the size " "of a " "human" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2314
Monster "large" " fire elemental" : 38 { Image: red 'E'; Size: 5; Mana: (7*8); Arm: 0; CR: 6; HD: 8; Hit: (8*3)/4; Def: 14; Mov: 150%; Spd: 150%; Str 14, Dex 21, Con 16, Int 6, Wis 11, Cha 11; Attk: 19 for 2d6 13, 54 for 2d(6) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "large" " fire elemental is about the size " "of a " "ogre" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2315
Monster "huge" " fire elemental" : 38 { Image: red 'E'; Size: 6; Mana: (7*16); Arm: 0; CR: 8; HD: 16; Hit: (16*3)/4; Def: 16; Mov: 150%; Spd: 150%; Str 18, Dex 25, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 2d8 13, 54 for 2d(8) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 0, 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "huge" " fire elemental is about the size " "of a " "covered wagon" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2316
Monster "greater" " fire elemental" : 38 { Image: red 'E'; Size: 6; Mana: (7*21); Arm: 0; CR: 10; HD: 21; Hit: (21*3)/4; Def: 18; Mov: 150%; Spd: 150%; Str 20, Dex 27, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d6 13, 54 for 2d(10) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "greater" " fire elemental is about the size " "of a " "tiny house" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2317
Monster "elder" " fire elemental" : 38 { Image: red 'E'; Size: 6; Mana: (7*24); Arm: 0; CR: 12; HD: 24; Hit: (24*3)/4; Def: 20; Mov: 150%; Spd: 150%; Str 22, Dex 29, Con 18, Int 6, Wis 11, Cha 11; Attk: 19 for 3d7 13, 54 for 2d(12) 1; Stati[39,42,6]; Immune: 0x00000010, 0x00008000, 0x00010000, 0x00020000, 0x00400000, 0x00000001; Feats: 32, 44, (((49 + 1) + 32) + 44), (((49 + 1) + 32) + 12), (((49 + 1) + 32) + 14), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 40), 0; Flags: 66, 10, 3, 2, 4, 5, 88, 41; Desc: "A fire elemental is the spiritual personification of the base element " "of fire, dwelling on the elemental plane of fire but occasionally summoned by " "wizards and creatures of magic to the prime plane. Fire elementals " "are fierce, wild, destructive, capricious and passionate, loving nothing more " "then to watch things burn. A " "elder" " fire elemental is about the size " "of a " "tiny house" "."; On Event (41+2000) { if (e.DType == 74) { e.DType = 0; e.vDmg = e.vDmg*3; } return 0; }, 209 "Any creature struck by its fiery aura attack will be set ablaze, " "suffering an additional 1d4 points of fire damage every turn until " "they succeed at a Reflex save (DC 12 + CR) to put out the flames. " "Additional contact does not increase the damage when a creature is " "already aflame.", (41+1000) { if (e.AType == 54 && e.DType == 1 && e.aDmg != 0) RedirectEff(e,$"Burn",52); return 0; }, (1+500) { rID tID; tID = EMap->TerrainAt(EActor->x + DirX(e.EDir), EActor->y + DirY(e.EDir)); if (ResourceHasFlag(tID,7)) { EActor->IPrint("You cannot move over water."); return 2; } return 0; }; }
#line "mon4.irh" 2321
Monster "small metal elemental" : 38, 94
{ Image: shadow 'E'; Size: 3; Arm: 10;
CR: 5; HD: 2; Hit: 2; Def: 8; Mov: 120%; Spd: 120%;
Str 16, Dex 8, Con 16, Int 4, Wis 12, Cha 8;
Attk: 19 for 1d6 13,
19 for 1d6 11;
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000001, 0x00000002;
Feats:
32, 44,
(((((49 + 1) + 32) + 50) + 38) + 25),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 66, 3, 88, 40;
On Event ((41+500)+2000) {
if (GetHandle(EItem2)) {
if (EItem2->isMetallic()) { e.Immune = true; return 2; }
} else if (GetHandle(EItem)) {
if (EItem->isMetallic()) { e.Immune = true; return 2; }
} else if (e.DType == 39) {
e.DType = 0;
}
};
Desc: "The metal para-elemental appears as a coagulated hunk of metal
    bludgeons and shape edges. It cannot be harmed by metallic weapons
    but is harmed by rusting effects.";
}

Monster "metal elemental" : 38, 94
{ Image: shadow 'E'; Size: 3; Arm: 10;
CR: 7; HD: 4; Hit: 3; Def: 10; Mov: 150%; Spd: 150%;
Str 18, Dex 10, Con 18, Int 6, Wis 14, Cha 10;
Attk: 19 for 1d6 13,
19 for 1d6 11;
Stati[39,42,6];
Stati[39,105,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000,
0x00000001, 0x00000002;
Feats:
32, 44,
(((((49 + 1) + 32) + 50) + 38) + 25),
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags: 66, 3, 88, 40;
On Event ((41+500)+2000) {
if (GetHandle(EItem2)) {
if (EItem2->isMetallic()) { e.Immune = true; return 2; }
} else if (GetHandle(EItem)) {
if (EItem->isMetallic()) { e.Immune = true; return 2; }
} else if (e.DType == 39) {
e.DType = 0;
}
};
Desc: "The metal para-elemental appears as a coagulated hunk of metal
    bludgeons and shape edges. It cannot be harmed by metallic weapons
    but is harmed by rusting effects.";
}

Monster "small mud elemental" : 38, 17, 94
{ Image: brown 'E'; Size: 3;
CR: 1; HD: 2; Hit: 2; Def: 8; Mov: 80%; Spd: 100%;
Str 14, Dex 10, Con 13, Int 4, Wis 11, Cha 11;
Attk: 19 for 1d6 13 and 1d2 14 (DC 13),
60 for 1d6 39 (DC 15);
Stati[39,112,2];
Stati[39,42,6];
Stati[39,30,1];
Stati[39,66,2];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00400000, 0x08000000, 0x00100000, 0x00020000, 0x00000010, 0x00080000, 0x00000040 0x00008000, 0x00002000, 0x00010000, 0x00000200;
#line "mon4.irh" 2388
Feats:
32, 44,
(((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Flags:
66, 3, 88, 40, 30,
2, 4, 10, 31;
On Event (42+2000) {
if (GetHandle(EMap))
EMap->WriteTerra(EVictim->x,EVictim->y,$"shallow mud");
};
Desc: "The mud para-elemental appears as an amorphous blob of living
    mud. It quick forms and reforms pseudopods that can entangle foes.";
}



Monster "fire mephit" : 48, 95, 15
{
Image: red 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 10, Dex 13, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 4d4 1 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Immune: 0x00000001;
Resists: 0x00000080;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"produce flame", $"heat metal";
Flags: 1, 12, 79, 41, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Fire mephits look like red-skinned, puckish devils, and
      have a malicious sense of humor to suit.";
}

Monster "ice mephit" : 48, 96, 15
{
Image: cyan 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 10, Dex 17, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 2 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Immune: 0x00000002;
Resists: 0x00000080;
Spells: $"magic missile", $"chill touch";
Flags: 1, 12, 79, 38, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Ice mephits are blue-skinned, with sharp features and
      regal manners. Aloof and distant, they remember petty
      vendettas for centuries.";
On Event 200 "frost breath";
}

Monster "water mephit" : 48, 15
{
Image: blue 'i'; Size: 3;
CR: 4; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 14, Dex 10, Con 13, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 0d0 67 (DC 14) and
1d4 13 and
3d4 74 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Spells: $"water walking", $"obscurement";
Flags: 1, 12, 79, 38, 88,
55, 30;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Resembling tiny fish people, water mephits have cheerful
      (if callous) senses of humor; their enthusiasm gets on the
      nerves of everyone around them.";
On Event 200 "jet of water";
}

Monster "dust mephit" : 48, 15
{
Image: grey 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 14, Dex 10, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 1d4 24 (DC 14) and
3d4 62 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4);
Spells: $"dust devil", $"sandblast";
Flags: 1, 12, 79, 39, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Wizened, gaunt and wrinkly grey skinned humanoids, dust 
      mephits speak slowly and take a morbid, nihilistic attitude 
      to life.";
On Event 200 "cloud of dust";
}

Monster "ooze mephit" : 48, 15
{
Image: green 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 14, Dex 10, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 3;
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Immune: 0x00000004;
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Spells: $"grease", $"stinking cloud";
Flags: 1, 12, 79, 38, 88,
55, 40;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Ooze mephits are squat humanoids with eternally greasy
      skin, giving off an offensive odor and delighting in 
      shocking everyone around them with their perversity.";
On Event 200 "glob of slime";
}

Monster "earth mephit" : 48, 15
{
Image: green 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 17, Dex 8, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 13;
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Spells: $"soften stone", $"enlarge";
Flags: 1, 12, 79, 88,
55, 40;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Stocky and broad-shouldered, earth mephits have a stubborn
      and petty cast to their personalities.";
On Event 200 "spray of tiny stones";
}

Monster "salt mephit" : 48, 15
{
Image: white 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 15; Mov: 150%; Spd: 120%;
Str 10, Dex 17, Con 13, Int 6, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 1d4 24 (DC 14) and
3d4 62 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080, 0x00000002;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"glitterdust", $"dehydrate";
Flags: 1, 12, 79, 38, 88,
55, 39;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Salt mephits appear as albino humanoids with bleary eyes
      and a bored and apathetic demeanor.";
On Event 200 "spray of salt crystals";
}

Effect "dehydrate" : 4
{
Cost: 3; Flags: 82, 4; 0x00000080;
xval: 0; tval: 75; pval: 2d4; sval: 0 partial;
On Event 28 {
EVictim->LoseFatigue(e.Resist ? 1 : 2, false);
return 0;
};
Desc: "This unique ability of the salt mephit dehydrates a
      living creature, costing it 2d4 hit points (untyped damage)
      and 2 fatigue points. A successful fortitude save halves
      both losses.";
}

Monster "air mephit" : 48, 15
{
Image: light blue 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 8, Dex 17, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 2d4 13 and
0d0 67 (DC 14);
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"blur", $"gust of wind";
Flags: 1, 12, 79, 39, 88,
55;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Air mephits are thin, graceful creatures resembling a
      cross between a pixie and an imp. Their hyperactive
      mindset irritates all who must spend time with them.";
On Event 200 "blast of compressed air";
}

Monster "fog mephit" : 48, 15
{
Image: cyan 'i'; Size: 3;
CR: 3; HD: 3; Hit: 2; Def: 12; Mov: 150%; Spd: 120%;
Str 8, Dex 17, Con 10, Int 12, Wis 11, Cha 15;
Attk: 6 for 1d3 11,
42 for 3d4 1;
Stati[39,42,6];
Stati[39,66,2];
Gear:
50% $"dagger";
Resists: 0x00000080, 0x00000001;
Feats: 44, 18, 36,
(((49 + 1) + 32) + 44);
Spells: $"obscurement", $"color spray";
Flags: 1, 12, 79, 39, 88,
55, 38;
Desc: "These tiny winged humanoids are the pages and gofers
      of the inner and outer planes. Possessed of a distinctly
      spiteful sense of humor, they enjoy tormenting humans and
      the few other creatures they see that are (on average)
      weaker then them.\n
      __Fog mephits are plump and ponderous, slow to act and
      easily distracted by anything getting in their way.";
On Event 200 "cone of scalding steam";
}



Monster "janni" : 43
{
Image: blue 'J'; Size: 4;
CR: 6; HD: 6; Hit: +6; Def: 11; Mov: 70%; Spd: 100%;
Str 16, Dex 15, Con 12, Int 14, Wis 15, Cha 13;
Attk: 1 for 1d3 13;
Stati[39,61,2];
Stati[39,10,5];
Stati[39,42,6];
Stati[39,91,2];
Flags: 1, 72, 79, 80, 86,
13, 88;
Feats: 11, 9, 8, 13,
32, 36, 40, 3, 44,
(((49 + 1) + 32) + 14), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((49 + 1) + 32) + 50) + 13),
2;
Resists: 0x00000001;
Gear: $"scimitar" of random 0 to 3,
$"long bow", 3d6 $"sheaf arrow",
$"chainmail";
Spells: $"invisibility", $"enlarge", $"reduce", $"create food and water";
Desc: "The weakest of the true genies, jann are formed from the intersection
      of all four elements: earth, air, fire and water. The jann are a cultured
      people, lacking the arrogance of the other genie races yet often unwilling
      to involve themselves in others' struggles. The jann have a very open
      society, with a bent toward responsible individualism and equal privlidge
      for both genders.";
}



Monster "djinni" : 43, 93
{
Image: skyblue 'J'; Size: 5;
CR: 8; HD: 7; Hit: +7; Def: 13; Mov: 200%; Spd: 125%;
Str 18, Dex 19, Con 14, Int 14, Wis 15, Cha 15;
Attk: 19 for 1d8 13,
19 for 1d8 13;
Stati[39,61,2];
Stati[39,40,1];
Stati[39,57,1];
Stati[39,111,1];
Stati[39,42,6];
Stati[39,91,10];
Flags: 1, 72, 79, 80, 86, 43,
13, 14, 88, 52, 50, 53;
Feats: (((49 + 1) + 32) + 14), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13),
11, 9, 8, 13,
32, 43, 36, 40, 3,
44;
Immune: 0x00000004, 0x00000008;
Gear: random 21 of random 1 to 2,
random 47 of random 1 to 2,
random 47 of random 1 to 2;
Spells: $"invisibility", $"obscurement", $"create food and water";
Desc: "The djinn (singular djinni) are genies from the Elemental Plane
      of Air. A djinni is about 10-1/2 feet tall and weighs about 1,000 pounds.
      Djinn disdain physical combat, preferring to use their magical powers
      and aerial abilities against foes. A djinni overmatched in combat
      usually takes flight and becomes a whirlwind to harass those who
      follow.";
}

Monster "efreeti" : 43, 95
{
Image: red 'J'; Size: 5;
CR: 9; HD: 10; Hit: +10; Def: 16; Mov: 200%; Spd: 150%;
Str 23, Dex 17, Con 14, Int 12, Wis 15, Cha 15;
Attk: 19 for 1d8 13 and 1d8 1,
19 for 1d8 13 and 1d8 1;
Stati[39,61,2];
Stati[39,40,1];
Stati[39,42,6];
Stati[39,91,10];
Flags: 1, 72, 79, 80, 86,
13, 14, 88, 51, 49, 53;
Feats: (((49 + 1) + 32) + 14), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 13),
11, 9, 8, 13,
32, 43, 36, 40, 3,
44;
Immune: 0x00000001;
Gear: random 21 of random 2 to 3,
random 47 of random 1 to 6,
random 47 of random 1 to 6,
random 47 of random 1 to 6;
Spells: $"invisibility", $"produce flame", $"scorcher", $"wall of fire",
$"polymorph other", $"enlarge", $"reduce";
Desc: "The efreet (singular efreeti) are genies from the Elemental
    Plane of Fire. An efreeti stands about 12 feet tall and weighs about
    2,000 pounds. Efreet love to mislead, befuddle, and confuse their
    foes. They do so for enjoyment as well as a battle tactic.";
}
#line "mon4.irh" 2772
Monster "azer" : 44, 87, 63
{ Image: pink 'K'; Size: 4;
CR: 4; HD: 2; Def: 16; Hit: +2; Mov: 100%; Spd: 100%;
Str 16, Dex 13, Con 13, Int 12, Wis 12, Cha 9; Mana: 20;
Attk: 19 for 1d6 1,
54 for 1d3 1;
Stati[39,42,6];
Stati[118,18,40];
Immune: 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7, 9, 32,
((49 + 1) + 15);
Spells: $"flame blade";
Flags: 1, 41, 51;
Desc: "An offshoot of dwarves native to the elemnental plane of
      fire, the azer are a highly structured and authoritarian race.
      While not evil, they are militaristic and eager for conquest.
      They appear as dwarves with skin of bronze, flames wreathing
      their faces where a beard would normally rest.";
Gear: 33% $"dwarven waraxe" else 50% $"battleaxe" else $"warhammer",
33% $"banded mail" else
50% $"breastplate" else $"field plate armor",
$"kite shield";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(67))
h->AddQuality(67);
}
return 0;
};
}

Monster "azerkin" : 44, 87, 63
{ Image: pink 'K'; Size: 4;
CR: 2; HD: 2; Def: 10; Hit: +2; Mov: 100%; Spd: 100%;
Str 16, Dex 13, Con 13, Int 12, Wis 12, Cha 9;
Attk: 1 for 1d2 13,
54 for 1d3 1;
Stati[39,42,6];
Immune: 0x00000001;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 7, 9, 32,
((49 + 1) + 15);
Flags: 1, 41, 51;
Desc: "An offshoot of dwarves native to the elemnental plane of
      fire, the azer are a highly structured and authoritarian race.
      While not evil, they are militaristic and eager for conquest.
      They appear as dwarves with skin of bronze, flames wreathing
      their faces where a beard would normally rest. The azerkin are
      the result of azer breeding with prime material dwarves -- they
      retain the firey aura of the azer but lack their magic resistance and
      innate melee defense.";
Gear: 33% $"dwarven waraxe" else 50% $"battleaxe" else $"warhammer",
33% $"banded mail" else
50% $"breastplate" else $"field plate armor",
$"kite shield";
On Event 156 {
hObj h;
for(h=EActor->FirstInv();h;h=EActor->NextInv()) {
if (h->QualityOK(67))
h->AddQuality(67);
}
return 0;
};
}


Monster "dust devil;monster" : 29, 44
{
Image: brown 'K'; Size: 3;
CR: 2; HD: 2; Hit: +2; Def: 15; Mov: 150%; Spd: 150%;
Str 8, Dex 15, Con 10, Int 4, Wis 7, Cha 5;
Attk: 19 for 1d4 13 and 67 (DC 14);
Stati[39,111,1];
Stati[39,36,9];
Stati[39,13,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000004;
Resists: 0x00000008, 0x00000400, 0x00000800;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27);
Flags: 10, 35, 2, 3,
4, 5, 66, 88, 39,
40, 13, 6;
Desc: "A weak cousin of the true air elemental, the dust devil
      is a miniature whirlwind of sand the size of a halfling.
      Elementally-aspected clerics and druids often send these beings 
      out on errands for them.";
}

Monster "thoqqua" : 44, 95, 79
{ Image: pink 'K'; Size: 4;
CR: 1; HD: 3; Hit: +1; Def: 17; Mov: 70%; Spd: 100%;
Str 15, Dex 13, Con 13, Int 6, Wis 12, Cha 10;
Attk: 19 for 1d6 13,
54 for 2d6 1;
Stati[39,96,10];
Stati[39,95,6];
Feats: 22, 32, 35;
Flags: 66, 3, 4, 2,
6, 7, 27, 41, 40;
Desc: "The thoqqua, or lavaworm, radiates a body heat strong
      enough to melt solid rock. It is native to the elemental
      plane of fire, appears as a large segmented worm with a skin of 
      rock and a pointed tip glowing red with heat. Thoqqua are 
      ill-tempered creatures, but are often found in the company of 
      gnomes, who can use their empathy with burrowing creatures 
      to tame these beasts.";
}

Monster "vampiric mist" : 44, 93
{
Image: red 'K'; Size: 5;
CR: 1; HD: 4; Hit: +4; Def: 10; Mov: 30%; Spd: 70%;
Dex 12, Int 3, Wis 12, Cha 13;
Attk: 9 for 1d8 73
and 66 (DC 16),
37 for 3d4 73;
Stati[39,94,15];
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000004;
Resists:0x00000001;
Feats: 32;
Flags: 49, 53, 3, 2, 5,
4, 66, 88, 12, 73,
10, 39, 38, 19, 43;
}

Monster "blinding mist" : 44, 93
{
Image: bright yellow 'K'; Size: 5;
CR: 0; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Dex 18, Int 3, Wis 18, Cha 13;
Attk: 9 for 1d8 24 (DC 18),
9 for 1d8 9;
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000001;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 44, 32;
Flags: 49, 53, 3, 2, 5,
4, 66, 88, 12, 72,
10, 39, 41, 19, 57;
}

Monster "fog elemental" : 44, 93
{
Image: bright white 'K'; Size: 5;
CR: 6; HD: 4; Hit: +4; Def: 10; Mov: 100%; Spd: 100%;
Dex 18, Int 3, Wis 18, Cha 13; Mana: 50;
Attk: 19 for 1d8 13 and
1d2 61 (DC 15),
53 for 1d2 26 (DC 15);
Stati[39,111,2];
Stati[39,57,1];
Stati[39,42,9];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000004;
Spells: $"obscurement", $"wall of fog";
Feats: 44, 32;
Flags: 49, 53, 3, 2, 5, 4,
4, 66, 88, 12,
10, 39, 38, 19, 23,
57, 14;
Stati[100,2];
On Event 209
"It is innately invisible.";
}

Monster "storm elemental" : 44
{
Image: blue 'K'; Size: 5;
CR: 8; HD: 6; Hit: +6; Def: 10; Mov: 150%; Spd: 100%;
Dex 18, Int 3, Wis 18, Cha 13; Mana: 50;
Attk: 19 for 3d4 13 and
3d4 4 and
1d2 61 (DC 18),
53 for 1d2 67 (DC 18);
Stati[39,111,3];
Stati[39,57,1];
Stati[39,42,9];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000008, 0x00000004;
Spells: $"rainstorm", $"lightning bolt";
Feats: 44, 32;
Flags: 49, 53, 3, 2, 5, 4,
4, 66, 88, 12,
10, 39, 38, 19, 23,
57, 14, 45;
Stati[177,74];
On Event 156 {
ThrowEff(52,$"rainstorm",EActor,EActor,NULL,NULL);
} ;
}

Monster "ice serpent" : 38, 52
{ Image: white 'E'; Size: 5;
CR: 4; HD: 6; Hit: 3; Def: 10; Mov: 250%; Spd: 115%;
Str 20, Dex 25, Con 16, Int 4, Wis 13, Cha 11;
Attk: 5 for 0d0 63 (DC -1),
32 for 1d8 13,
32 for 2d4 2;
Stati[39,105,1];
Stati[39,42,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000002;
Feats:
36, 44, (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 66, 10, 3, 2, 4,
39, 42, 5, 88;
Desc: "The ice serpent is an unusual variety of air elemental composed
    of frigid air in serpentine motion. Ice serpents do not fly.";
}

Monster "xorn" : 44, 94
{ Image: grey 'K'; Size: 4; Arm: 8;
CR: 6; HD: 7; Hit: 5; Def: 10; Mov: 75%; Spd: 75%;
Str 17, Dex 10, Con 15, Int 10, Wis 11, Cha 10;
Attk: 7 for 4d6 12,
6 for 1d4 11,
6 for 1d4 11,
6 for 1d4 11;
Stati[39,95,6];
Stati[39,42,6];
Stati[39,30,12];
Immune: 0x00000001, 0x00000002; Resists: 0x00000400, 0x00000008;
Feats: 21, 32, 36, 41,
44, ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20);
Flags: 60, 3, 4, 27,
40, 66, 40, 24;
Desc: "Xorn are strange creatures from the elemental plane
      of Earth, composed of both flesh and living rock. 
      Essentially a large, ambulatory maw, the xorn has
      a triply-symmetrical anatomy, with three clawed arms, three 
      eyes and three stubby cloven feet, each equally spaced along
      its cylindrical body. The mouth is as the top, with the
      entire core of the creature as one large stomach. The xorn
      thus has no head or face.";
}

Monster "minor xorn" : 44, 94
{ Image: grey 'K'; Size: 4; Arm: 4;
CR: 2; HD: 3; Hit: 2; Def: 10; Mov: 75%; Spd: 75%;
Str 15, Dex 10, Con 15, Int 10, Wis 11, Cha 10;
Attk: 7 for 2d8 12,
6 for 1d3 11,
6 for 1d3 11,
6 for 1d3 11,
102 for $"xorn";
Stati[39,95,6];
Stati[39,42,6];
Stati[39,30,12];
Immune: 0x00000001, 0x00000002; Resists: 0x00000400, 0x00000008;
Feats: 21, 32, 36, 41,
44, ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Flags: 60, 3, 4, 27,
40, 66, 40;
Desc: "Xorn are strange creatures from the elemental plane
      of Earth, composed of both flesh and living rock. 
      Essentially a large, ambulatory maw, the xorn has
      a triply-symmetrical anatomy, with three clawed arms, three 
      eyes and three stubby cloven feet, each equally spaced along
      its cylindrical body. The mouth is as the top, with the
      entire core of the creature as one large stomach. The xorn
      thus has no head or face.";
On Event (19+1000) {
if (e.isHit)
EActor->IdentifyMon();
};
}

Monster "stone sentinel" : 38, 94
{ Image: brown 'E'; Size: 2; Arm: 2;
CR: 1; HD: 1; Hit: 1; Def: 6; Mov: 40%; Spd: 100%;
Str 8, Dex 8, Con 13, Int 3, Wis 11, Cha 11;
Attk: 19 for 1d2 13;
Stati[39,112,2];
Stati[39,42,6];
Stati[39,30,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Feats: 32, 44, (((49 + 1) + 32) + 44);
Flags: 1, 66, 3, 88, 40, 24;
Desc: "A stone sentinel is a very minor elemental creature created
      by a priest's magic; it resembles a foot-high rough stone homonuculous
      and has a playful, inquisitive nature.";
}
#line "mon4.irh" 3060
Monster "torch archon" : 34
{ Image: brown 'A'; Size: 3; Mana: 20;
CR: 0; HD: 1; Hit: +1; Def: 14; Mov: 200%; Spd: 100%;
Str 1, Dex 11, Con 10, Int 6, Wis 11, Cha 10;
Stati[39,105,1];
Stati[39,4,2];
Stati[39,73,5];
Stati[118,18,10];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 35), 4;
Flags: 51, 50, 53, 3, 2,
5, 88, 97, 90, 66,
19, 47, 13;
Spells: $"minor light ray", $"call light", $"aid", $"cure light wounds",
$"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000080|0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "The lowliest of celestials are still potent beings by
      mortal standards. Appearing as glowing globes of yellow
      radiance, these spirits of light and life can aid beleagured
      adventurers or fight the forces of evil with potent rays of
      holy light.";
}

Effect "Minor Light Ray" : 1
{ 0x00000010; Cost: 1; aval: 2; qval: 0x0001; cval: 14;
xval: 9; lval: 8; sval: 1 partial; pval: 1d8;
Purpose: 0x00001; On Event 200 "light ray";
Flags: 82;
Desc: "Projects a ray of light at the archon's enemies inflicting
      1d8 points of damage. A Reflex save halves the damage."; }
#line "mon4.irh" 3101
Monster "protectar" : 34, 87
{ Image: white 'A'; Size: 4; Mana: 12;
CR: 1; HD: 1; Hit: +1; Def: 10; Mov: 100%; Spd: 100%;
Str 15, Dex 12, Con 15, Int 10, Wis 12, Cha 15;
Attk: 1 for 1d2 13;
Stati[39,4,2];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), 4, 44, 9,
11, 3, 17, 30,
29;
Spells: $"cure light wounds", $"bless", $"protection from evil";
Flags: 1, 50, 51, 53, 88,
12;
Gear:
25% $"long sword" +1 with [1]
else $"long sword",
50% $"kite shield",
50% $"ring mail" else
$"scale mail";
Desc: "Protectars form the rank and file of celestial armies.
      They are the blessed souls of dead warriors of light: brave,
      loyal, honest, moral and honorable. They appear as idealized
      humans with white feathered wings.";
}

Monster "shining torch archon" : 34
{ Image: yellow 'A'; Size: 3; Mana: 20;
CR: 2; HD: 2; Hit: +1; Def: 14; Mov: 200%; Spd: 100%;
Str 1, Dex 11, Con 10, Int 6, Wis 11, Cha 10;
Stati[39,105,1];
Stati[39,4,2];
Stati[39,73,5];
Stati[118,18,15];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 35), 4;
Flags: 51, 50, 53, 3, 2,
5, 88, 97, 66, 13,
19, 47;
Spells: $"minor light ray", $"call light",
$"aid", $"cure light wounds",
$"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000080|0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,3,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "These low celestials are still potent beings by
      mortal standards. Appearing as glowing globes of yellow
      radiance, these spirits of light and life can aid beleagured
      adventurers or fight the forces of evil with potent rays of
      holy light.";
}

Monster "ramadeen" : 34, 87
{ Image: brown 'A'; Size: 5; Mana: 7;
CR: 3; HD: 4; Hit: +3; Def: 10; Mov: 150%; Spd: 100%;
Str 21, Dex 12, Con 16, Int 12, Wis 14, Cha 17;
Attk: 8 for 1d8 13;
Stati[39,4,2];
Stati[39,42,6];
Stati[39,71,3];
Stati[39,79,4];
Stati[36,103];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 21), 4, 44,
9, 11, 3, 17,
30, 29;
Flags: 1, 50, 53, 88, 15;
Gear:
25% $"scimitar" +1 with [1]
else $"scimitar",
$"plate mail";
Desc: "Ramadeen are second-tier celestial warriors with features
      derived from humans and rams. Clad in heavy armor and wielding
      scimitars forged from divine steel, they lead divine charges
      and rally the heavenly armies of protectars.";
On Event 209
"It can smite evil as a 4th level paladin.";
}

Monster "lantern archon" : 34
{ Image: bright red 'A'; Size: 3; Mana: 20;
CR: 5; HD: 4; Hit: +3; Def: 14; Mov: 200%; Spd: 120%;
Str 1, Dex 15, Con 14, Int 10, Wis 15, Cha 14;
Attk:
9 for 1d2 24 (DC 16) and 1d8 9;
Stati[39,105,1];
Stati[39,4,2];
Stati[39,73,5];
Stati[118,18,20];
Stati[39,42,6];
Resists: 0x00000010;
Immune: 0x00000008, 0x00008000, 0x00040000, 0x00000100;
Feats: (((49 + 1) + 32) + 44), ((((49 + 1) + 32) + 50) + 35), 4;
Flags: 51, 50, 53, 3, 2,
5, 88, 97, 66,
19, 47;
Spells: $"major light ray", $"call light",
$"aid", $"cure light wounds",
$"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000080|0x00000004|0x00000002|0x00000020,
EActor->x,EActor->y,4, 15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "These low celestials are still potent beings by
      mortal standards. Appearing as glowing globes of yellow
      radiance, these spirits of light and life can aid beleagured
      adventurers or fight the forces of evil with potent rays of
      holy light.";
}

Effect "Major Light Ray" : 1
{ 0x00000010; Cost: 1; aval: 2; qval: 0x0001; cval: 14;
xval: 9; lval: 8; sval: 1 partial; pval: 3d8;
Purpose: 0x00001; On Event 200 "light ray";
Flags: 82;
Desc: "Projects a ray of light at the archon's enemies inflicting
      3d8 points of damage. A Reflex save halves the damage."; }

Monster "hound archon" : 34, 6, 11
{ Image: grey 'A'; Size: 4;
CR: 6; HD: 6; Hit: +8; Def: 19; Mov: 150%; Spd: 130%; Arm 10;
Str 15, Dex 10, Con 13, Int 10, Wis 13, Cha 12;
Attk: 7 for 1d8+2 12
and 67 (DC 16),
19 for 1d4+1 13,
101 for $"winter wolf";
Stati[39,71,6];
Stati[39,4,6];
Stati[39,42,6];
Stati[118,18,((16*5)-50)];
Stati[39,94,12];
Immune: 0x00000008, 0x00040000;
Feats:
(((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20),
8, 18, 22, 32, 36, 44;
Flags: 1, 51, 50, 53,
5, 88, 97;
Spells: $"flame strike", $"aid", $"dimension door", $"detect evil";
On Event 156 {
if (!EActor->HasStati(67))
EMap->NewField(0x00000004|0x00000002|0x00000020,EActor->x,EActor->y,2,
15*256+249,-1,$"magic circle vs. evil",EActor);
},
209
"It projects a continual <1>Magic Circle vs. Evil<7> effect. ";
Desc: "Hound archons look like well-muscled humans with canine heads.";
}

Monster "lillend" : 34, 52
{
Image: bright green 'A'; Size: 5; Mana: 230;
CR: 7; HD: 7; Hit: +7; Def: 16; Mov: 225%; Spd: 150%;
Str 20, Dex 17, Con 15, Int 14, Wis 16, Cha 18;
Attk:
24 for 2d6 13
and 63 (DC 18),
32 for 3d6 13;
Stati[124,48,+4];
Stati[39,6,7];
Stati[39,82,5];
Immune: 0x00000010; Resists: 0x00000001;
Spells: $"deeper darkness", $"hallucinatory terrain",
$"call light", $"charm person", $"commune with nature",
$"dancing lights";
Feats: 3, 8, 9, 27,
25, 32, 37, 43,
48,

(((49 + 1) + 32) + 11), ((((49 + 1) + 32) + 50) + 35),
(((((49 + 1) + 32) + 50) + 38) + 4);
Flags: 52, 50, 53, 88, 97,
12;
Desc: "The lillend are a celestial breed from the wilder, more
      untamed areas of the upper planes. They are artisans, dancers,
      singers and scholars -- fierce defenders of art in all its
      forms. They frequently serve the powers of light as translators,
      linguists and sages.\n
      __A lillend has the head, torso and arms of a beautiful woman,
      a serpentine lower body tapering off to a feathered tail and
      great, hawklike wings. Their hair, wings and tail all have the
      same coloration -- a shifting, nearly hypnotic spectrum of
      radiant greens, purples and violets.";

Lists:
* 21
1 $"call companions" $"call light" $"cause fear" $"charm person" $"chant" $"cure light wounds"
$"convulsion" $"dancing lights" $"detect secret doors" $"erase" $"grease"
$"feather fall" $"expeditious retreat" $"friends" $"hypnotism" $"mending"
$"magic weapon" $"phantasmal force" $"protection from evil" $"read magic"
$"sleep" $"monster summoning I" $"unseen servant" $"ventriloquism" $"true strike"
$"chromatic orb" $"knock" $"mount" $"detect stairs" $"phase door"
2 $"cause blindness" $"blur" $"bull's strength" $"cat's grace" $"cure moderate wounds"
$"globe of shadow" $"slow poison" $"ESP" $"enthrall" $"glitterdust" $"hold person"
$"hypnotic pattern" $"invisibility" $"levitation" $"detect objects" $"detect monsters"
$"improved phantasmal force" $"pyrotechnics" $"scare" $"see invisibility"
$"shatter" $"sound burst" $"suggestion" $"monster summoning ii" $"summon swarm"
$"hideous laughter" $"iron mind" $"protection from arrows" $"web" $"revealed lore"
$"gust of wind" $"rope trick" $"shield" $"false life"
3 $"bestow curse" $"blink" $"charm monster" $"clairvoyance" $"confusion"
$"cure serious wounds" $"dispel magic" $"displacement" $"emotion" $"fear"
$"gaseous form" $"greater magic weapon" $"haste" $"group invisibility"
$"keen edge" $"magic circle vs. evil" $"spectral force" $"phantom steed"
$"remove curse" $"cure disease" $"sculpt sound" $"slow" $"monster summoning iii"
$"wind wall" $"nondetection" $"fly"
4 $"cure critical wounds" $"dimension door" $"dominate person"
$"hallucinatory terrain" $"hold monster" $"improved invisibility"
$"rainbow pattern" $"color burst" $"neutralize poison" $"shout"
$"monster summoning IV" $"dismissal" $"endure the elements" $"wandwierd"
$"solid fog" $"detect magic" $"premonition" $"track monster" $"ice storm"
$"phantasmal killer" $"evard's black tentacles"
5 $"part water" $"dream" $"mind fog" $"nightmare;spell" $"monster summoning v"
$"wizard sight" $"hold monster" $"polymorph self" $"force shapechange"
$"magic resistance" $"insect plague" $"animal growth" $"wall of thorns";
}




Monster "barghest" : 48, 6, 19
{
Image: red 'd'; Size: 4;
CR: 6; HD: 6; Hit: 9; Def: 16; Mov: 100%; Spd: 130%;
Str 17, Dex 15, Con 13, Int 14, Wis 14, Cha 14;
Arm: 5;
Attk: 7 for 1d6+3 12
and 0d0 67 (DC 17),
6 for 1d4+1 11,
6 for 1d4+1 11,
101 for $"goblin",
101 for $"wolf";
Stati[124,18,4];
Stati[39,42,6];
Feats: 44, 18, 36,
(((49 + 1) + 32) + 14), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Spells: $"charm monster", $"emotion", $"blink", $"levitation", $"dimension door";
Flags: 51, 49, 88, 11;
Desc: "A barghest is a lupine fiend that can take the shape of a wolf
    or a goblin. In its natural form, it resembles a goblin-wolf hybrid
    with terrible jaws and sharp claws. As whelps, barghests are nearly
    indistinguishable from wolves, except for their size and claws. As they
    grow larger and stronger, their skin darkens to bluishred and
    eventually becomes blue altogether.  A full-grown barghest is about 6
    feet long and weighs 180 pounds. A barghest's eyes glow orange when the
    creature becomes excited.";
}

Monster "greater barghest" : 48, 6, 19
{
Image: pink 'd'; Size: 5;
CR: 8; HD: 9; Hit: 13; Def: 19; Mov: 100%; Spd: 145%;
Str 20, Dex 15, Con 16, Int 18, Wis 18, Cha 18;
Arm: 10;
Attk: 7 for 1d8+5 12
and 0d0 67 (DC 17),
6 for 1d6+2 11,
6 for 1d6+2 11,
101 for $"hobgoblin",
101 for $"wolf";
Stati[124,18,4];
Stati[39,42,6];
Feats: 44, 18, 36, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48),
(((49 + 1) + 32) + 14), (((49 + 1) + 32) + 11);
Spells: $"charm monster", $"emotion", $"blink", $"levitation", $"dimension door",
$"invisibility", $"bull's strength", $"enlarge";
Flags: 51, 49, 88, 11;
Desc: "A barghest that reaches 9 Hit Dice through feeding becomes a
    greater barghest. These creatures can change shape into a goblinlike
    creature of Large size (about 8 feet tall and 400 pounds) or a winter
    wolf. In hobgoblin form, a greater barghest cannot use its natural weapons
    but can wield weapons and wear armor.";
Gear:
10% random 58 of random 2 to 3;
}

Monster "vaporighu" : 48, 59
{ Image: grey 'O'; Size: 4;
CR: 9; HD: 10; Hit: +10; Def: 10; Mov: 100%; Spd: 100%;
Str 15, Dex 9, Con 16, Int 13, Wis 8, Cha 10;
Attk: 19 for 1d8 13 and 1d8 3,
19 for 1d8 13 and 1d8 3,
60 for 3d6 3,
53 for 2d4 28 (DC 15),
42 for 2d10 3
and 2d10 5
and 1d4 18 (DC 15);
Stati[39,105,1];
Stati[39,42,6];
Stati[39,100,3];
Spells: $"animate objects", $"enlarge", $"fly", $"call light",
$"produce flame", $"sleep",
$"summon night hag";
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), (((((49 + 1) + 32) + 50) + 38) + 9), ((((((49 + 1) + 32) + 50) + 38) + 30) + 21),
5, 8, 29, 20,
32, 43, 44;
Flags: 43, 53, 49, 3;
On Event (41+500) {
if (e.AType == 53) {
if (EVictim->HasStati(10))
return 2;
if (EActor->HasStati(72,53,EVictim))
return 2;
}
return 0;
},
(41+1000) {
if (e.AType == 53 && e.Resist)
EActor->GainTempStati(72,EVictim,-1,7,53);
return 0;
},
209
"Once a character has made one successful save against a vaporighu's fear,
        that character is immune to that specific vaporighu's fear for the remainder
        of the day.";
Desc: "Native inhabitants of Gehenna, the vaporighu are sometimes
      called slime apes, and the description fits. These repellant
      creatures have a primitive appearance somewhere between a
      neanderthal and a great, obese ape, with curved tusks like a boar or
      an orc. Where their flesh is exposed, it a a thick, rough grey
      hide like an elephant's, but the majority of their body is
      covered with a tangled mass of stringy grey hair and a thick
      layer of ropy, mucus-like slime. They eminate a terrible stench
      of decay and putrescent flesh.\n
      __Vaporighu are technically sapient creatures, but seem to prefer
      living a life of crude  beastiality and forsaking any kind of
      intelligent or civilized conduct. They are solitary and have little
      or no society, living to prey on those weaker then them and enjoy
      the sadistic pleasures of the Lower Planes.";
}

0 Effect "Summon Night Hag" : 9
{ rval: $"night hag"; pval:0; Flags: 82;
On Event 155 {
if (EActor->HasEffStati(72,$"Summon Night Hag"))
return -1;
return 0;
},
52 {
if (EActor->HasEffStati(72,$"Summon Night Hag"))
{
EActor->IPrint("You can only summon a night hag once per day.");
return 2;
}
EActor->GainTempStati(72,NULL,-2,7,0,0,$"Summon Night Hag");
};
Desc: "Once per day, a vaporighu can call upon their ties
      to the plane of Gehenna in order to summon a friendly
      night hag to their aid.";
}

Monster "grid bug" : 31, 48, 117
{ Image: purple 'x'; Size: 3;
CR: -4; HD: 1; Hit: +1; Def: 10; Mov: 80%; Spd: 100%;
Str 10, Dex 14, Con 10, Int 3, Wis 5, Cha 4;
Attk: 7 for 1d3 4;
Stati[39,42,4];
Immune: 0x00100000, 0x00010000, 0x00000008, 0x00008000, 0x00000010, 0x00002000;
Flags: 3, 4, 66, 55, 88,
51, 53, 19;
On Event 1 {
if (e.EDir == 5)
{ if (random(2)) e.EDir = 0; else e.EDir = 3; }
if (e.EDir == 4)
{ if (random(2)) e.EDir = 0; else e.EDir = 2; }
if (e.EDir == 7)
{ if (random(2)) e.EDir = 1; else e.EDir = 3; }
if (e.EDir == 6)
{ if (random(2)) e.EDir = 1; else e.EDir = 2; }
},
(20+1000) {
if (e->AType == 7)
{ DPrint(e,"Fzzt!","Fzzt!"); e.Terse = true; }
return 0;
};
Desc: "These strange beings appear as glowing crystaline spiders,
      perfect in their geometry. They are native to the Clockwork Nirvana
      of Mechanus, where they serve as builders, drones and enforcers.
      When on Therya, they are almost always violent, driven to near-
      insanity by the disorder in the world around them. Grid bugs
      are notorious for their rigidly aligned patterns of movement.";
Lists:
* 100 $"grid bug enforcer";
}

Monster "grid bug enforcer" : 31, 48, 117
{ Image: bright purple 'x'; Size: 4;
CR: 4; HD: 4; Hit: +4; Def: 10; Mov: 150%; Spd: 120%;
Str 14, Dex 18, Con 14, Int 6, Wis 6, Cha 6;
Attk: 7 for 1d6 12 and 3d3 4;
Stati[39,42,9];
Immune: 0x00100000, 0x00010000, 0x00000008, 0x00008000, 0x00000010, 0x00002000;
Flags: 3, 4, 66, 55, 88,
51, 53, 19;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), 44, 32;
On Event 1 {
if (e.EDir == 5)
{ if (random(2)) e.EDir = 0; else e.EDir = 3; }
if (e.EDir == 4)
{ if (random(2)) e.EDir = 0; else e.EDir = 2; }
if (e.EDir == 7)
{ if (random(2)) e.EDir = 1; else e.EDir = 3; }
if (e.EDir == 6)
{ if (random(2)) e.EDir = 1; else e.EDir = 2; }
},
(20+1000) {
if (e->AType == 7)
{ DPrint(e,"Fzzt!","Fzzt!"); e.Terse = true; }
return 0;
};
Desc: "These strange beings appear as glowing crystaline spiders,
      perfect in their geometry. They are native to the Clockwork Nirvana
      of Mechanus, where they serve as builders, drones and enforcers.
      When on Therya, they are almost always violent, driven to near-
      insanity by the disorder in the world around them. Grid bugs
      are notorious for their rigidly aligned patterns of movement.
      Enforcers are larger, stronger and capable of slightly more
      autonomous thought than standard grid bugs. They are also quite
      adept at skittering out of the way of potential attacks.";
Lists:
* 101 $"grid bug";
}

Monster "nightmare" : 24, 48
{
Image: red 'q'; Size: 5;
CR: 8; HD: 6; Hit: 6; Def: 23; Mov: 200%; Spd: 130%;
Str 18, Dex 15, Con 16, Int 13, Wis 13, Cha 12;
Attk: 2 for 1d8+4 13 and 1d4 1,
2 for 1d8+4 13 and 1d4 1,
7 for 1d8+2 12;
Stati[39,42,6];
Stati[39,61,2];
Stati[39,61,3];
Feats: 32, 44, 41,
((49 + 1) + 5), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 21);
Flags: 35, 37, 3, 88,
11;
}

Monster "phase spider" : 26, 48
{
Image: skyblue 's'; Size: 5;
CR: 4; HD: 5; Def: 13; Hit: +4; Mov: 150%; Spd: 120%;
Str 17, Dex 17, Con 16, Int 7, Wis 13, Cha 10;
Attk: 7 for 1d6 12 and 60 (DC 15);
Stati[39,61,3];
Stati[39,42,6];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 8), 7, 36, 44,
(((49 + 1) + 32) + 9);
Immune: 0x00002000;
Flags: 7, 3, 36, 57;
Desc: "As large as a small wagon, the phase spider is a fearsome
      arachnid with the ability to slip in and out of the etherial
      plane at will. Its light grey body is covered with deep navy
      splotches and markings, the pattern unique to each individual
      spider.";
Poison: $"phase spider venom";
}

Poison "phase spider venom" : 4
{
Level: 9;
cval: 4;
sval: 15;
lval: 10;
xval: 50; pval: 1d4;
Desc: "This poison inflicts <11>1d4<7> points of Strength damage every 
      <11>4<7> turns, and requires <11>10<7> (!!) saving throws against 
      <11>DC 15<7> to overcome.";
}

Monster "rakshasa" : 48, 11, 87
{
Image: red 'O'; Size: 4;
CR: 10; HD: 7; Def: 19; Hit: +7; Mov: 150%; Spd: 135%;
Str 12, Dex 14, Con 16, Int 17, Wis 13, Cha 13;
Arm: 15; Attk: 7 for 1d6 12,
6 for 1d4+1 11,
6 for 1d4+1 11;
Stati[39,42,6];
Stati[39,82,7];
Stati[118,18,((27*5)-50)];
Feats: ((49 + 1) + 5), (((49 + 1) + 32) + 11), (((49 + 1) + 32) + 44),
8, 32, 36, 44,
43, 34;
Flags: 51, 49, 1, 88, 111;
Gear:
2d3 $"potion" of $"extra-healing",
2d3 $"potion" of $"*mana*",
$"ring" of random 2 to 13,
$"ring" of random 2 to 13;
Desc: "A closer look at a rakshasa reveals that the palms of its hands
    are where the backs of the hands would be on a human. A rakshasa is
    about the same height and weight as a human.";
Lists:
* 21
(50 + 1000);
}

Monster "rast" : 48, 95
{
Image: bright red 'O'; Size: 4; Mana: 40;
CR: 4; HD: 6; Hit: +6; Def: 14; Mov: 200%; Spd: 130%;
Str 14, Dex 12, Int 3, Wis 13, Cha 12;
Attk: 7 for 1d8+3 12,
43 for 0d0 12 and 1d6 18 (DC 13),
31 for 1d1 45;
Stati[39,42,6];
Stati[39,36,9];
Immune: 0x00000001;
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 51) + 4), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 2),
7, 13, 22, 32, 44,
36, 41;
Flags: 36, 3, 88;
Desc: "A rast has a body about the size of a large dog's, with a head
    almost as large as the body. It weighs about 200 pounds.";
}

Monster "tatterdemalion" : 48
{
Image: grey '@'; Size: 3; Mana: 10;
CR: 7; HD: 4; Hit: +4; Def: +14; Mov: 100%; Speed: 120%;
Str 16, Dex 20, Con 15, Int 12, Wis 14, Cha 10, Luc 10;
Arm: 10;
Attk:6 for 2d4+3 11
and 1d6 18 (DC 15),
6 for 2d4+3 11
and 1d6 18 (DC 15);
Stati[39,48,1];
Stati[39,42,6];
Flags: 36, 1, 88, 49, 52;
Feats:
18, 32, 6, 44,
(((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31);
Immune: 0x00000010, 0x04000000, 0x00100000;
Desc: "Tatterdemalions appear as small, gaunt, starving children
    covered in hooded robes that are tattered and torn and dirty.
    Underneath the robes, however, they are far from children in
    appearance. They are hairless and their skin is oily and smells faintly
    of dead fish. Tatterdemalions are flesh eaters. They use their claws to
    paralyze a victim so that the flesh is still warm. They will not eat
    those that are dead.";
}




Monster "formian worker" : 48, 31, 117
{
Image: brown 'x'; Size: 3; Mana: 20;
CR: 1; HD: 2; Def: 14; Hit: +2; Mov: 150%; Spd: 100%;
Str 13, Dex 14, Con 13, Int 6, Wis 10, Cha 9;
Attk: 7 for 1d4 13;
Stati[39,42,6];
Immune: 0x00000010, 0x00040000, 0x00000002;
Resists: 0x00000001, 0x00000200, 0x00000008;
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 9, 7, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 51, 95, 54, 66, 36, 37;
Spells: $"cure serious wounds";
Desc: "The lowest caste of the ant-like formians -- the outer-planar
      personification of lawful existance -- the worker appears as an ant
      creature the size of a doberman. Their mentality is very limited,
      and they tend to be non-hostile unless attacked or provoked, though
      they can easily panic when seperated from their superiors.";
Lists:
* 103 $"formian warrior",
* 100 $"formian warrior" $"formian taskmaster";
}

Monster "formian warrior" : 48, 31, 117
{
Image: yellow 'x'; Size: 4;
CR: 4; HD: 4; Def: 15; Hit: +7; Mov: 150%; Spd: 100%;
Str 17, Dex 16, Con 14, Int 10, Wis 12, Cha 11;
Attk: 7 for 1d4 13,
6 for 1d8 12,
10 for 2d4 12 and 0d0 60 (DC 14);
Stati[118,18,40];
Stati[39,42,6];
Immune: 0x00000010, 0x00040000, 0x00000002;
Resists: 0x00000001, 0x00000200, 0x00000008;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 7, 18, 32,
36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 1, 51, 95, 66, 36, 37;
Poison: $"formian venom";
Desc: "A humanoid ant-creature the size of a horse, the formian
      warrior is the absolute enforcement of outer-planar law, and
      serves as the local militia across the planes of law and 
      neutrality.";
Lists:
* 101 $"formian worker",
* 100 $"formian taskmaster";
}

Poison "formian venom" : 4
{
Level: 1;
cval: 7;
sval: 14;
lval: 6;
xval: 50; pval: 1d2;
Desc: "This poison inflicts <11>1d2<7> points of Strength damage every 
      <11>7<7> turns, and requires <11>6<7> saving throws against <11>DC 14<7> 
      to overcome.";
}

Monster "formian taskmaster" : 48, 31, 117
{
Image: yellow 'x'; Size: 4;
CR: 7; HD: 6; Def: 16; Hit: +10; Mov: 150%; Spd: 130%;
Str 18, Dex 16, Con 14, Int 11, Wis 16, Cha 19;
Attk: 6 for 1d6+2 12,
6 for 1d6+2 12,
10 for 2d4+4 12 and 0d0 60 (DC 14);
Stati[118,18,((21*5)-50)];
Stati[39,42,6];
Immune: 0x00000010, 0x00040000, 0x00000002;
Resists: 0x00000001, 0x00000200, 0x00000008;
Feats: (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), 7, 18, 32,
36, 44, ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 48);
Flags: 1, 51, 95, 66, 36, 37;
Poison: $"formian venom";
Spells: $"dominate person";
Desc: "A humanoid ant-creature the size of a horse, the formian
      warrior is the absolute enforcement of outer-planar law, and
      serves as the local militia across the planes of law and 
      neutrality.";
Lists:
* 101 $"formian worker" $"formian warrior";
}

Monster "modron" : 36, 48, 117
{
Image: bright green 'C'; Size: 3; Mana: 12; Arm: 7;
CR: 1; HD: 2; Hit: +1; Def: 12; Mov: 80%; Spd: 80%;
Str 0, Dex 8, Con 0, Int 6, Wis 6, Cha 3;
Stati[39,42,6];
Stati[39,91,6];
Spells: $"force bolt", $"mending";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 9;
Flags: 3, 2, 4, 51, 53,
86;
Resists: 0x00000002, 0x00000001, 0x00000004;
Immune: 0x00100000, 0x00400000, 0x08000000, 0x02000000, 0x00080000, 0x00000040,
0x00000010;
Desc: "Modrons are the simplest of the naturally occuring geoform
      constructs on the lawful outer planes. Barely intelligent, they
      serve as workers and soldiers capable of completing only the
      simplest tasks unsupervised. A modron appears as a featureless
      cube of translucent emerald, hovering in the air; when on the
      Prime Material plane, they sometimes manifest an anthropomorphic
      face to better communicate with the natives.";
}

Monster "duodrone" : 36, 48, 117
{
Image: white 'C'; Size: 4; Mana: 12; Arm: 7;
CR: 2; HD: 4; Hit: +3; Def: 15; Mov: 120%; Spd: 120%;
Str 0, Dex 14, Con 0, Int 6, Wis 6, Cha 3;
Attk: 54 for 1d4 51;
Stati[39,42,6];
Stati[39,91,6];
Stati[176,10,10];
Spells: $"make whole";
Feats: ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 33), 9;
Flags: 3, 2, 4, 51, 53,
86;
Resists: 0x00000002, 0x00000001, 0x00000004;
Immune: 0x00100000, 0x00400000, 0x08000000, 0x02000000, 0x00080000, 0x00000040,
0x00000010;
Desc: "The more agile duodrones are the second lowest (after the
      modrons) in the naturally occuring hierarchy of geoform
      constructs native to the lawful outer planes. They are capable
      of more complex tasks and tactics in combat. A duodrone appears as 
      a featureless pyramid of translucent quartz, hovering in the air; 
      when on the Prime Material plane, they sometimes manifest an 
      anthropomorphic face to better communicate with the natives.";
}



Monster "red slaad" : 48, 118
{
Image: bright red 'O'; Size: 5; Mana: 34; Arm: 5;
CR: 7; HD: 7; Hit: +5; Def: 15; Mov: 100%; Spd: 125%;
Str 19, Dex 13, Con 17, Int 6, Wis 6, Cha 8;
Attk: 7 for 2d8 12 and 27 (DC 17),
6 for 1d4 11,
6 for 1d4 11,
99 for 40% 118 (CR 7);
Stati[39,42,6];
Stati[39,66,5];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((49 + 1) + 32) + 44), (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 19), 7, 22,
32, 44;
Flags: 52, 53, 1, 28, 36,
37, 27, 26, 14;
Resists: 0x00000004, 0x00000008, 0x00000001, 0x00000002, 0x00000200;
Disease: $"red slaad egg infestation"; Spells: $"stunning croak";
Desc: "Slaadi are inhabitants of Pandemonium, the Outer Plane aligned
      with pure, primordial chaos. They are frog-like humanoids with a
      fiercely independant streak, a hatred of domination and a cruel
      disposition.\n
      __Red slaadi are the weakest of their race, possessing limited
      intelligence and a cowardly outlook. They frequently seek to set
      up lairs away from other thinking beings, striving to preserve
      their freedom. More powerful slaadi also sometimes use them as
      shock troops and canon fodder.";
Lists:
* 103 $"blue slaad" $"green slaad",
* 100 $"blue slaad" $"green slaad";
}

Effect "Stunning Croak" : 3
{ xval: 5; sval: 0; Level: 4; aval: 11;
Purpose: 0x00001 | 0x00004;
cval: 4; lval: 3; Flags: 23;
Flags: 82, 34;
Desc: "A creature who hears the thunderous croak of a red slaad
      and fails her saving throw will be stunned for the duration
      of the effect."; }

Disease "red slaad egg infestation" : 4
{
Level: 7;
cval: 30;
sval: 20;
lval: 10;
xval: 52; pval: 1d2;
int32 vx, vy; hObj vmap;
On Event (41+500) {
#line "mon4.irh" 3848
if (EVictim != NULL && !EVictim->isDead()) {
vx = EVictim->x;
vy = EVictim->y;
vmap = EVictim->m;
}
return 0;
},
(41+1000) {
hObj mn;
if (EVictim != NULL && EVictim->isDead())
{
if (EVictim->CasterLev()) {
VPrint(e,NULL,"A green slaad tears its way out of the <EVictim>'s corpse!");
mn = CreateMonster($"green slaad");
}
else {
VPrint(e,NULL,"A blue slaad tears its way out of the <EVictim>'s corpse!");
mn = CreateMonster($"blue slaad");
}
mn->PlaceAt(vmap,vx,vy);
}
return 0;
};
Desc: "Red slaadi reproduce by implanting their eggs within a living
      victim. Once the eggs hatch, they devour the victim from within
      and emerge full-formed. This condition inflicts 1d2 point of 
      Constitution damage every 30 turns, and requires 10 successful
      saves against DC 20 to overcome. If it claims a victim, a new
      blue slaad appears where the victim died. Spellcasting victims 
      instead produce green slaadi.";
}

Monster "blue slaad" : 48, 118
{
Image: bright blue 'O'; Size: 5; Mana: 57; Arm: 5;
CR: 9; HD: 8; Hit: +7; Def: 18; Mov: 100%; Spd: 125%;
Str 19, Dex 15, Con 17, Int 6, Wis 6, Cha 10;
Attk: 7 for 2d8 12 and 27 (DC 17),
6 for 1d4 11,
6 for 1d4 11,
99 for 40% 118 (CR 7);
Stati[39,42,6];
Stati[39,66,5];
Feats: ((((((49 + 1) + 32) + 50) + 38) + 30) + 31), (((49 + 1) + 32) + 44), ((((((49 + 1) + 32) + 50) + 38) + 30) + 27), ((((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 28) + 6),
7, 22, 36, 32, 44;
Flags: 52, 53, 1, 28, 36,
37, 27, 26, 14;
Resists: 0x00000004, 0x00000008, 0x00000001, 0x00000002, 0x00000200;
Disease: $"blue slaad transformation disease";
Spells: $"hold person", $"passwall",
$"chaos hammer";
Desc: "Slaadi are inhabitants of Pandemonium, the Outer Plane aligned
      with pure, primordial chaos. They are frog-like humanoids with a
      fiercely independant streak, a hatred of domination and a cruel
      disposition.\n
      __Blue slaadi are the most common of their race, and a violent
      and warlike. They form raiding tribes to attack the Prime Material,
      eager to test their mettle against new conquests.";
Lists:
* 103 $"blue slaad" $"green slaad",
* 100 $"green slaad",
* 101 $"red slaad";
}

Disease "blue slaad transformation disease" : 4
{
Level: 7;
cval: 30;
sval: 20;
lval: 10;
xval: 52; pval: 1d2;
int32 vx, vy; hObj vmap;
On Event (41+500) {
#line "mon4.irh" 3923
vx = EVictim->x;
vy = EVictim->y;
vmap = EVictim->m;
return 0;
},
(41+1000) {
hObj mn;
if (EVictim->isDead())
{
if (EVictim->CasterLev()) {
VPrint(e,NULL,"The <EVictim> changes into a green slaad!");
mn = CreateMonster($"green slaad");
}
else {
VPrint(e,NULL,"The <EVictim> changes into a red slaad!");
mn = CreateMonster($"red slaad");
}
mn->PlaceAt(vmap,vx,vy);
}
return 0;
};
Desc: "Blue slaadi reproduce by the means of a supernatural disease
      which changes other beings into red or green slaadi. This 
      condition inflicts 1d2 point of Constitution damage every 30 
      turns, and requires 10 successful saves against DC 17 to overcome. 
      If it claims a victim, a new red slaad appears where the victim 
      died. Spellcasting victims instead produce green slaadi.";
}

Monster "green slaad" : 48, 118
{
Image: bright green 'O'; Size: 5; Mana: 96; Arm: 5;
CR: 11; HD: 9; Hit: +7; Def: 22; Mov: 100%; Spd: 125%;
Str 19, Dex 13, Con 17, Int 10, Wis 10, Cha 10;
Attk: 7 for 2d8 12,
6 for 1d4 11,
6 for 1d4 11,
99 for 40% 118 (CR 7);
Stati[39,42,6];
Stati[39,66,5];
Feats: (((((((49 + 1) + 32) + 50) + 38) + 30) + 37) + 20), ((((49 + 1) + 32) + 50) + 35), (((49 + 1) + 32) + 7),
7, 18, 22, 36, 32,
44;
Flags: 52, 53, 1, 28, 36,
37, 27, 26, 14;
Resists: 0x00000004, 0x00000008, 0x00000001, 0x00000002, 0x00000200;
Spells: $"globe of shadow", $"chaos hammer", $"detect monsters",
$"ESP", $"fear", $"see invisibility", $"mirror image",
$"confusion", $"force bolt", $"cat's grace", $"summon swarm",
$"bull's strength";
Desc: "Slaadi are inhabitants of Pandemonium, the Outer Plane aligned
      with pure, primordial chaos. They are frog-like humanoids with a
      fiercely independant streak, a hatred of domination and a cruel
      disposition.\n
      __Green slaadi possess a human intelligence, and are cunning, patient
      and devious. Arrogant to a fault, they are eager to seek out new
      knowledge and to gain power in the anarchic society of Pandemonium.";
Lists:
* 101 $"blue slaad" $"green slaad",
* 103 $"blue slaad" $"green slaad";
}
#line "mon4.irh" 3991
Template "flame" : 0x0200 for 91
{
MType: 38; Glyph: red 0; CR: +3;
Attk:
54 for 1d10 1;
Stati[39,105,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000, 0x00000001;
Flags: 41, -2, !18, 19;
Desc: "Native to the elemental plane of fire, flame creatures
      appear as their mundane counterparts, but composed of living,
      congealed fire -- just like an elemental.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "earthen" : 0x0200 for 91
{
MType: 38; Glyph: brown 0; Arm: +6 (max 21); CR: +3;
Str +4, Dex -2;
Stati[39,105,1];
Stati[39,30,1];
Stati[39,95,6];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Flags: 40, -2, !18, 19;
Desc: "Native to the elemental plane of earth, stone creatures
      appear as their mundane counterparts, but composed of fluid rock,
      appearing like an animated, perfectly lifelike statue.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "gaseous" : 0x0200 for 91
{
MType: 38; Glyph: white 0; Mov: +20; CR: +2;
Dex +6;
Stati[39,105,1];
Stati[39,36,10];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Flags: 39, 13, 10, -2,
!18, 19;
Feats: ((((49 + 1) + 32) + 50) + 23);
Desc: "Native to the elemental plane of air, gaseous creatures
      appear as their mundane counterparts, but composed purely of
      abstract vapours.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "aqueous" : 0x0200 for 91
{
MType: 38; Glyph: azure 0; CR: +3;
Attk:
54 for 3d4 74 (DC 20),
19 for 1d4 13
and 66 (DC 20);
Stati[39,105,1];
Immune: 0x04000000, 0x00000010, 0x00008000, 0x00020000, 0x00010000, 0x00002000, 0x00400000;
Flags: 39, 10, -2,
!18, 19;
Desc: "Native to the elemental plane of water, aqueous creatures
      appear as their mundane counterparts, but composed of supernaturally
      animate water.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;
if (EActor->HasMFlag(40) || EActor->HasMFlag(39) ||
EActor->HasMFlag(41) || EActor->HasMFlag(38) )
return -1;
return 0;
};
}

Template "celestial" : 0x0200 for 91
{ MType: 34; CR: +1; Wis +2, Cha +2;
HitDice: 150%;
Stati[39,42,6];
Stati[39,79,5];
Stati[118,18,35];
Resists: 0x00000004, 0x00000002, 0x00000008;
Flags: 50, !49, -2;
Desc: "Celestial creatures are the versions of normal creatures
      that dwell on the Upper Planes, and benefit from some of the
      same inherant traits that true celestials do.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;

if (EActor->HasMFlag(53) && !EActor->HasMFlag(50))
return -1;
return 0;
};
}

Template "fiendish" : 0x0200 for 91
{ CR: +1; Str +2, Con +2;
HitDice: 125%;
Stati[39,42,6];
Stati[118,18,35];
Resists: 0x00000001, 0x00000002;
Flags: !50, 49, -2;
Desc: "Fiendish creatures are the versions of normal creatures
      that dwell on the Lower Planes, and benefit from some of the
      same inherant traits that true fiends do.";
On Event 155 {
if (EActor->isMType(39) || EActor->isMType(49) ||
EActor->isMType(17) || EActor->isMType(76))
return -1;

if (EActor->HasMFlag(53) && !EActor->HasMFlag(49))
return -1;
return 0;
};
}
#line "mon4.irh" 4140
Template "half-celestial" : 0x0100 for 91
{
CR: +2; MType: 34; Def: +2; Spd: +25%;
Str +4, Dex +2, Con +4, Int +2, Wis +4, Cha +4;
Desc: "Celestials often take mates from among the more virtious
      creatures on the Prime Material plane, and their magical nature
      allows these unions to produce offspring -- mortal creatures
      with the blood of angels in their veins. Regardless of the 
      nature of the celestial parent, half-celestials allways appear
      as members of their base species, but with beautiful, white
      feathered wings upon which they can fly.";
Immune: 0x00000002, 0x00000004, 0x04000000, 0x00000008;
Flags: 50, !49, 12;
On Event 156 {
EActor->GainPermStati(123,NULL,3,8,4,$"half-celestial");
EActor->GainPermStati(42,NULL,3,0,0,$"call light");
if (EActor->ChallengeRating() >= 3)
EActor->GainPermStati(42,NULL,3,0,0,$"protection from evil");
if (EActor->ChallengeRating() >= 4)
EActor->GainPermStati(42,NULL,3,0,0,$"bless");
if (EActor->ChallengeRating() >= 5)
EActor->GainPermStati(42,NULL,3,0,0,$"detect evil");
if (EActor->ChallengeRating() >= 6)
EActor->GainPermStati(42,NULL,3,0,0,$"cure serious wounds");
if (EActor->ChallengeRating() >= 7)
EActor->GainPermStati(42,NULL,3,0,0,$"neutralize poison");
if (EActor->ChallengeRating() >= 8)
EActor->GainPermStati(42,NULL,3,0,0,$"holy smite");
if (EActor->ChallengeRating() >= 9)
EActor->GainPermStati(42,NULL,3,0,0,$"cure disease");
if (EActor->ChallengeRating() >= 10)
EActor->GainPermStati(42,NULL,3,0,0,$"holy summoning V");
return 0;
},
155 {
if (!EActor->isMType(85))
return -1;
return 0;
},
209
"It has a +4 racial bonus to saving throws versus poison. Based on its final
        CR, it will have access to some of the following spell-like abilities, in
        the order listed: <1>Call Light<7>, <1>Protection from Evil<7>, <1>Bless<7>,
        <1>Detect Evil<7>, <1>Cure Serious Wounds<7>, <1>Neutralize Poison<7>, 
        <1>Holy Smite<7>, <1>Cure Disease<7> and <1>Holy Summoning V<7>.";
}

Template "half-fiend" : 0x0100 for 91
{
CR: +2; MType: 48; Arm: +4;
Str +4, Dex +4, Con +2, Int +4, Cha +2;
Desc: "Fiends are infamous for using sexuality to corrupt humans --
      especially succubi and erinyes -- but any fiend can have congress
      with a human victim, and due to the fiend's metaphyical nature,
      these unions can produce children. Half-fiends are monsterous
      things, resembling their mortal parent's species but with claws,
      fangs and other monsterous traits, and instinctually driven to acts
      of violence and general psychopathic conduct.";
Immune: 0x00000010; Resists: 0x00000004, 0x00000002, 0x00000001, 0x00000008;
Flags: !50, 49;
On Event 156 {
EActor->GainPermStati(42,NULL,3,0,0,$"globe of shadow");
if (EActor->ChallengeRating() >= 3)
EActor->GainPermStati(42,NULL,3,0,0,$"desecrate");
if (EActor->ChallengeRating() >= 4)
EActor->GainPermStati(42,NULL,3,0,0,$"produce flame");
if (EActor->ChallengeRating() >= 5)
EActor->GainPermStati(42,NULL,3,0,0,$"bestow curse");
if (EActor->ChallengeRating() >= 6)
EActor->GainPermStati(42,NULL,3,0,0,$"unholy blight");
if (EActor->ChallengeRating() >= 7)
EActor->GainPermStati(42,NULL,3,0,0,$"contagion");
if (EActor->ChallengeRating() >= 8)
EActor->GainPermStati(42,NULL,3,0,0,$"a